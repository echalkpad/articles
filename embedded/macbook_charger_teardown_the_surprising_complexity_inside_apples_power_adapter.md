# Macbook charger teardown: The surprising complexity inside Apple's power adapter

[Original URL](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html)

> Have you ever wondered what's inside your Macbook's charger? There's a lot more circuitry crammed into the compact power adapter than you'd expect, including a microprocessor. This charger teardown...

Have you ever wondered what's inside your Macbook's charger? There's a lot more circuitry crammed into the compact power adapter than you'd expect, including a microprocessor. This charger teardown looks at the numerous components in the charger and explains how they work together to power your laptop. [![Inside the Macbook charger, after removing the heat sinks and insulating tape.](https://lh3.googleusercontent.com/-ywUu7DDENug/Vk7CMGBWneI/AAAAAAAAxco/UUIdJ2DS2rs/w600/inside.jpg "Inside the Macbook charger, after removing the heat sinks and insulating tape.")](https://picasaweb.google.com/lh/photo/IYdxwMrtOgwiCAcqtnDYINMTjNZETYmyPJy0liipFm0)

Inside the Macbook charger. Many electronic components work together to provide smooth power to your laptop.

Most consumer electronics, from your cell phone to your television, use a _switching power supply_ to convert AC power from the wall to the low-voltage DC used by electronic circuits. The switching power supply gets its name because it switches power on and off thousands of times a second, which turns out to be a very efficient way to do this conversion.[[1]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref1) Switching power supplies are now very cheap, but this wasn't always the case. In the 1950s, switching power supplies were complex and expensive, used in aerospace and satellite applications that needed small, lightweight power supplies. By the early 1970s, new high-voltage transistors and other technology improvements made switching power supplies much cheaper and they became widely used in computers.[[2]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref2) The introduction of a single-chip power supply controller in 1976 made switching power supplies simpler, smaller, and cheaper.

Apple's involvement with switching power supplies goes back to 1977 when Apple's chief engineer Rod Holt designed a switching power supply for the Apple II. According to Steve Jobs:[[3]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref3)

> "That switching power supply was as revolutionary as the Apple II logic board was. Rod doesn't get a lot of credit for this in the history books but he should. Every computer now uses switching power supplies, and they all rip off Rod Holt's design."

This is a fantastic quote, but unfortunately it is entirely false. The switching power supply revolution happened before Apple came along, Apple's design was similar to earlier power supplies[[4]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref4) and other computers don't use Rod Holt's design. Nevertheless, Apple has extensively used switching power supplies and pushes the limits of charger design with their compact, stylish and advanced chargers.

## Inside the charger

For the teardown I started with a Macbook 85W power supply, model A1172, which is small enough to hold in your palm. The picture below shows several features that can help distinguish the charger from counterfeits: the Apple logo in the case, the metal (not plastic) ground pin on the right, and the serial number next to the ground pin.

[![Apple 85W Macbook charger](https://lh3.googleusercontent.com/-mwYrpR8U4uI/VkaSQC2olaI/AAAAAAAAxXE/5-QCRLCr6rY/w600/magsafe85.jpg "Apple 85W Macbook charger")](https://picasaweb.google.com/lh/photo/ztTCG2i0ss2q6VRjmctlddMTjNZETYmyPJy0liipFm0)

Apple 85W Macbook charger

Strange as it seems, the best technique I've found for opening a charger is to pound on a wood chisel all around the seam to crack it open. With the case opened, the metal heat sinks of the charger are visible. The heat sinks help cool the high-power semiconductors inside the charger. [![Inside the Apple 85W Macbook charger](https://lh3.googleusercontent.com/-66oDux4704M/VkaSSgAeGjI/AAAAAAAAxXM/ehoXjnzlE7Q/w600/magsafe85-opened.jpg "Inside the Apple 85W Macbook charger")](https://picasaweb.google.com/lh/photo/zo-XapNKTU14NM082g9ZHtMTjNZETYmyPJy0liipFm0)

Inside the Apple 85W Macbook charger

The other side of the charger shows the circuit board, with the power output at the bottom. Some of the tiny components are visible, but most of the circuitry is covered by the metal heat sink, held in place by yellow insulating tape. [![The circuit board inside the Apple 85W Macbook charger.](https://lh3.googleusercontent.com/-Bvox2RV3BdA/VkaSVFRvh5I/AAAAAAAAxXU/Ob2cUek8IZk/w600/magsafe85-bottom.jpg "The circuit board inside the Apple 85W Macbook charger.")](https://picasaweb.google.com/lh/photo/gvSRyX5QOD9063OZFOpBr9MTjNZETYmyPJy0liipFm0)

The circuit board inside the Apple 85W Macbook charger. At the right, screws firmly attach components to the heat sinks.

After removing the metal heat sinks, the components of the charger are visible. These metal pieces give the charger a substantial heft, more than you'd expect from a small unit. [![Exploded view of the Apple 85W charger](https://lh3.googleusercontent.com/-d_PaReTP_-g/VkaSZ4qdOOI/AAAAAAAAxXc/Uwyhb7-M-2I/w600/exploded.jpg "Exploded view of the Apple 85W charger")](https://picasaweb.google.com/lh/photo/KiKnoyjB8zOPggfl5dzvHtMTjNZETYmyPJy0liipFm0)

Exploded view of the Apple 85W charger, showing the extensive metal heat sinks.

The diagram below labels the main components of the charger. AC power enters the charger and is converted to DC. The PFC circuit (Power Factor Correction) improves efficiency by ensuring the load on the AC line is steady. The primary chops up the high-voltage DC from the PFC circuit and feeds it into the transformer. Finally, the secondary receives low-voltage power from the transformer and outputs smooth DC to the laptop. The next few sections discuss these circuits in more detail, so follow along with the diagram below. [![The components inside an Apple Macbook 85W power supply.](https://lh3.googleusercontent.com/-1TwKQzQDSQk/Vk60bH7ESBI/AAAAAAAAxbo/qpTO8bUuTUI/w750/components1.png "The components inside an Apple Macbook 85W power supply.")](https://picasaweb.google.com/lh/photo/xRw6ONmp4RHKryKeX5o24tMTjNZETYmyPJy0liipFm0)

The components inside an Apple Macbook 85W power supply.

### AC enters the charger

AC power enters the charger through a removable AC plug. A big advantage of switching power supplies is they can be designed to run on a wide range of input voltages. By simply [swapping the plug](http://www.apple.com/shop/product/MD837AM/A/apple-world-travel-adapter-kit), the charger can be used in any region of the world, from European 240 volts at 50 Hertz to North American 120 volts at 60 Hz. The filter capacitors and inductors in the input stage prevent interference from exiting the charger through the power lines. The bridge rectifier contains four diodes, which convert the AC power into DC. (See [this video](https://youtu.be/sI5Ftm1-jik) for a great demonstration of how a full bridge rectifier works.) [![The input filtering in a Macbook charger. The diode bridge is attached to the metal heat sink with a clip.](https://lh3.googleusercontent.com/-s-lYfQg-wik/Vk60gmUTPBI/AAAAAAAAxbw/zjhEVVUD_BE/w600/IMG_2591.JPG "The input filtering in a Macbook charger. The diode bridge is attached to the metal heat sink with a clip.")](https://picasaweb.google.com/lh/photo/XGkzyqFevib7Dj2BrydSQtMTjNZETYmyPJy0liipFm0)

The input components in a Macbook charger. The diode bridge rectifier is attached to the metal heat sink with a clip.

### PFC: smoothing the power usage

The next step in the charger's operation is the Power Factor Correction circuit (PFC), labeled in purple. One problem with simple chargers is they only draw power during a small part of the AC cycle.[[5]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref5) If too many devices do this, it causes problems for the power company. [Regulations](http://www.edn.com/electronics-news/4363595/New-power--regulations-bring-power-factor--correction-to--lower-power-supplies) require larger chargers to use a technique called power factor correction so they use power more evenly.

The PFC circuit uses a power transistor to precisely chop up the input AC tens of thousands of times a second; contrary to what you might expect, this makes the load on the AC line smoother. Two of the largest components in the charger are the inductor and PFC capacitor that help boost the voltage to about 380 volts DC.[[6]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref6)

### The primary: chopping up the power

The primary circuit is the heart of the charger. It takes the high voltage DC from the PFC circuit, chops it up and feeds it into the transformer to generate the charger's low-voltage output (16.5-18.5 volts). The charger uses an advanced design called a resonant controller, which lets the system operate at a very high frequency, up to 500 kilohertz. The higher frequency permits smaller components to be used for a more compact charger. The chip below controls the switching power supply.[[7]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref7)

[![The circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.](https://lh3.googleusercontent.com/-MHaM6dHsfcg/Vk7ENxadgWI/AAAAAAAAxc8/UeodqyzA6y8/w600/pfc-chip.jpg "The circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.")](https://picasaweb.google.com/lh/photo/82TO_kBGjFrKbJYOB3SNLNMTjNZETYmyPJy0liipFm0)

The circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.

The two drive transistors (in the overview diagram) alternately switch on and off to chop up the input voltage. The transformer and capacitor resonate at this frequency, smoothing the chopped-up input into a sine wave.

### The secondary: smooth, clean power output

The secondary side of the circuit generates the output of the charger. The secondary receives power from the transformer and converts it DC with diodes. The filter capacitors smooth out the power, which leaves the charger through the output cable.

The most important role of the secondary is to keep the dangerous high voltages in the rest of the charger away from the output, to avoid potentially fatal shocks. The isolation boundary marked in red on the earlier diagram indicates the separation between the high-voltage primary and the low-voltage secondary. The two sides are separated by a distance of about 6 mm, and only special components can cross this boundary.

The transformer safely transmits power between the primary and the secondary by using magnetic fields instead of a direct electrical connection. The coils of wire inside the transformer are triple-insulated for safety. Cheap counterfeit chargers usually skimp on the insulation, posing a safety hazard. The optoisolator uses an internal beam of light to transmit a feedback signal between the secondary and primary. The control chip on the primary side uses this feedback signal to adjust the switching frequency to keep the output voltage stable.

[![The output components in an Apple Macbook charger. The microcontroller board is visible behind the capacitors.](https://lh3.googleusercontent.com/-hJIDW3Rg9x0/Vk61J0vyIBI/AAAAAAAAxcA/t9LunlBcWBc/w600/IMG_2634.JPG "The output components in an Apple Macbook charger. The microcontroller board is visible behind the capacitors.")](https://picasaweb.google.com/lh/photo/CuHsFnr4U5vuXfGX03UTBtMTjNZETYmyPJy0liipFm0)

The output components in an Apple Macbook charger.The two power diodes are in front on the left. Behind them are three cylindrical filter capacitors.The microcontroller board is visible behind the capacitors.

### A powerful microprocessor in your charger?

One unexpected component is a tiny circuit board with a microcontroller, which can be seen above. This 16-bit processor constantly monitors the charger's voltage and current. It enables the output when the charger is connected to a Macbook, disables the output when the charger is disconnected, and shuts the charger off if there is a problem. This processor is a Texas Instruments MSP430 microcontroller, roughly as powerful as the processor inside the original Macintosh.[[8]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref8)

[![The microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.](https://lh3.googleusercontent.com/-KXK_U3OJf7E/Vk1OujUAP7I/AAAAAAAAxaQ/MivND-MfIIE/w550/mps430.jpg "The microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.")](https://picasaweb.google.com/lh/photo/L-T4CB9UoS2rj1YjSPet-NMTjNZETYmyPJy0liipFm0)

The microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.

The square orange pads on the right are used to program software into the chip's flash memory during manufacturing.[[9]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref9) The three-pin chip on the left (IC202) reduces the charger's 16.5 volts to the 3.3 volts required by the processor.[[10]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref10)

### The charger's underside: many tiny components

Turning the charger over reveals dozens of tiny components on the circuit board. The PFC controller chip and the power supply (SMPS) controller chip are the main integrated circuits controlling the charger. The voltage reference chip is responsible for keeping the voltage stable even as the temperature changes.[[11]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref11) These chips are surrounded by tiny resistors, capacitors, diodes and other components. The output MOSFET transistor switches the power to the output on and off, as directed by the microcontroller. To the left of it, the current sense resistors measure the current flowing to the laptop.

[![The printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.](https://lh3.googleusercontent.com/-EqgQClQo4VU/Vk1QKw8M42I/AAAAAAAAxas/mnYw7wd7IkM/w800/pcb.png "The printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.")](https://picasaweb.google.com/lh/photo/v25Ff3h6CzWc5EZo5lVT-9MTjNZETYmyPJy0liipFm0)

The printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.

The isolation boundary (marked in red) separates the high voltage circuitry from the low voltage output components for safety. The dashed red line shows the isolation boundary that separates the low-voltage side (bottom right) from the high-voltage side. The optoisolators send control signals from the secondary side to the primary, shutting down the charger if there is a malfunction.[[12]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref12) One reason the charger has more control components than a typical charger is its variable output voltage. To produce 60 watts, the charger provides 16.5 volts at 3.6 amps. For 85 watts, the voltage increases to 18.5 volts at 4.6 amps. This allows the charger to be compatible with lower-voltage 60 watt chargers, while still providing 85 watts for laptops that can use it.[[13]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref13) As the current increases above 3.6 amps, the circuit gradually increases the output voltage. If the current increases too much, the charger abruptly shuts down around 90 watts.[[14]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref14)

### Inside the Magsafe connector

The magnetic Magsafe connector that plugs into the Macbook is more complex than you would expect. It has five spring-loaded pins (known as [Pogo pins](https://en.wikipedia.org/wiki/Pogo_pin)) to connect to the laptop. Two pins are power, two pins are ground, and the middle pin is a data connection to the laptop. [![The pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.](https://lh3.googleusercontent.com/-HsTmaWTQtbY/UaYYKaYAuxI/AAAAAAAAaW8/T_KBs8ySi8o/w400/magsafe-connector-labels.png "The pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.")](https://picasaweb.google.com/lh/photo/g-n-Ra_XrWCrpSPGBm-A39MTjNZETYmyPJy0liipFm0)

The pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.

Inside the Magsafe connector is a tiny chip that informs the laptop of the charger's serial number, type, and power. The laptop uses this data to determine if the charger is valid. This chip also controls the status LEDs. There is no data connection to the charger block itself; the data connection is only with the chip inside the connector. For more details, see my article on the [Magsafe connector](http://www.righto.com/2013/06/teardown-and-exploration-of-magsafe.html). [![The circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.](https://lh3.googleusercontent.com/-0vBYxRK9f1M/UaYYLe35AhI/AAAAAAAAaBg/IB8zGMhU39Q/w600/magsafe-on-penny.png "The circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.")](https://picasaweb.google.com/lh/photo/04d78zRXe6jOQFyaZYCWONMTjNZETYmyPJy0liipFm0)

The circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.

### Operation of the charger

You may have noticed that when you plug the connector into a Macbook, it takes a second or two for the LED to light up. During this time, there are complex interactions between the Macbook, the charger, and the Magsafe connector. When the charger is disconnected from the laptop, the output transistor discussed earlier blocks the output power.[[15]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref15) When the Magsafe connector is plugged into a Macbook, the laptop pulls the power line low.[[16]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref16) The microcontroller in the charger detects this and after exactly one second enables the power output. The laptop then loads the charger information from the Magsafe connector chip. If all is well, the laptop starts pulling power from the charger and sends a command through the data pin to light the appropriate connector LED. When the Magsafe connector is unplugged from the laptop, the microcontroller detects the loss of current flow and shuts off the power, which also extinguishes the LEDs.

You might wonder why the Apple charger has all this complexity. Other laptop chargers simply provide 16 volts and when you plug it in, the computer uses the power. The main reason is for safety, to ensure that power isn't flowing until the connector is firmly attached to the laptop. This minimizes the risk of sparks or arcing while the Magsafe connector is being put into position.

## Why you shouldn't get a cheap charger

The Macbook 85W charger costs $79 from Apple, but for $14 you can get a charger on eBay that looks identical. Do you get anything for the extra $65? I opened up an imitation Macbook charger to see how it compares with the genuine charger. From the outside, the charger looks just like an 85W Apple charger except it lacks the Apple name and logo. But looking inside reveals big differences. The photos below show the genuine Apple charger on the left and the imitation on the right. [![Inside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.](https://lh3.googleusercontent.com/-RXb6yTnZauw/VkaSj7wVSVI/AAAAAAAAxX0/nql5QPa58F8/w850/top-comparison.jpg "Inside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.")](https://picasaweb.google.com/lh/photo/2qBifmgyJTvRLtp5wc1SftMTjNZETYmyPJy0liipFm0)

Inside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.

The imitation charger has about half the components of the genuine charger and a lot of blank space on the circuit board. While the genuine Apple charger is crammed full of components, the imitation leaves out a lot of filtering and regulation as well as the entire PFC circuit. The transformer in the imitation charger (big yellow rectangle) is much bulkier than in Apple's charger; the higher frequency of Apple's more advanced resonant converter allows a smaller transformer to be used.

[![The circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.](https://lh3.googleusercontent.com/-eNLODWg7Ctk/VkaSjR-cLGI/AAAAAAAAxXw/14j0h9RMnZ0/w850/compare-back.jpg "The circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.")](https://picasaweb.google.com/lh/photo/7W3dES7C2FV-XB5QHKJNW9MTjNZETYmyPJy0liipFm0)

The circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.

Flipping the chargers over and looking at the circuit boards shows the much more complex circuitry of the Apple charger. The imitation charger has just one control IC (in the upper left).[[17]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref17) since the PFC circuit is omitted entirely. In addition, the control circuits are much less complex and the imitation leaves out the ground connection.

The imitation charger is actually better quality than I expected, compared to the awful [counterfeit iPad charger](http://www.righto.com/2014/05/a-look-inside-ipad-chargers-pricey.html) and [iPhone charger](http://www.righto.com/2012/03/inside-cheap-phone-charger-and-why-you.html) that I examined. The imitation Macbook charger didn't cut every corner possible and uses a moderately complex circuit. The imitation charger pays attention to safety, using insulating tape and keeping low and high voltages widely separated, except for one dangerous assembly error that can be seen below. The Y capacitor (blue) was installed crooked, so its connection lead from the low-voltage side ended up dangerously close to a pin on the high-voltage side of the optoisolator (black), creating a risk of shock.

[![Safety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.](https://lh3.googleusercontent.com/-qoKo3dW7cd4/VkaScxza1cI/AAAAAAAAxXk/SIRAV9ue7JE/w400/tooclose.jpg "Safety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.")](https://picasaweb.google.com/lh/photo/HOD4uSIjip-6Se3-ptsemtMTjNZETYmyPJy0liipFm0)

Safety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.

### Problems with Apple's chargers

The [ironic](https://en.wikipedia.org/wiki/Irony#Situational_irony) thing about the Apple Macbook charger is that despite its complexity and attention to detail, it's not a reliable charger. When I told people I was doing a charger teardown, I rapidly collected a pile of broken chargers from people who had failed chargers. The charger cable is rather flimsy, leading to a [class action lawsuit](http://www.macworld.com/article/1163480/apple_settles_magsafe_lawsuit_offers_replacements.html) stating that the power adapter [dangerously frays, sparks and prematurely fails to work](https://www.adaptersettlement.com/faq.aspx#q2). Apple provides [detailed instructions](https://support.apple.com/en-us/HT201600) on how to avoid damaging the wire, but a stronger cable would be a better solution. The result is [reviews on the Apple website](http://www.apple.com/shop/product/MC556LL/B/apple-85w-magsafe-power-adapter-for-15-and-17-inch-macbook-pro) give the charger a dismal 1.5 out of 5 stars. [![Burn mark inside an 85W Apple Macbook power supply that failed.](https://lh3.googleusercontent.com/-T7-KTqpN-TY/Vk1Oy0L69ZI/AAAAAAAAxaY/v3LJtJ55M-c/w500/charred.jpg "Burn mark inside an 85W Apple Macbook power supply that failed.")](https://picasaweb.google.com/lh/photo/_Tv0bSrE9xvaq5JOoJlZpNMTjNZETYmyPJy0liipFm0)

Burn mark inside an 85W Apple Macbook power supply that failed.

Macbook chargers also fail due to internal problems. The photos above and below show burn marks inside a failed Apple charger from my collection.[[18]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref18) I can't tell exactly what went wrong, but something caused a short circuit that burnt up a few components. (The white gunk in the photo is insulating silicone used to mount the board.)

[![Burn marks inside an Apple Macbook charger that malfunctioned.](https://lh3.googleusercontent.com/-mZgB6d_NjOA/Vk7BNtotTxI/AAAAAAAAxcY/Jqca3S0rVxY/w500/burn.jpg "Burn marks inside an Apple Macbook charger that malfunctioned.")](https://picasaweb.google.com/lh/photo/8NtIhBso-BwAZtW5ZgnjL9MTjNZETYmyPJy0liipFm0)

Burn marks inside an Apple Macbook charger that malfunctioned.

### Why Apple's chargers are so expensive

As you can see, the genuine Apple charger has a much more advanced design than the imitation charger and includes more safety features. However, the genuine charger costs $65 more and I doubt the additional components cost more than $10 to $15[[19]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref19). Most of the cost of the charger goes into the healthy profit margin that Apple has on their products. Apple has an estimated 45% profit margin on iPhones[[20]](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref20) and chargers are probably even more profitable. Despite this, I don't recommend saving money with a cheap eBay charger due to the safety risk.

## Conclusion

People don't give much thought to what's inside a charger, but a lot of interesting circuitry is crammed inside. The charger uses advanced techniques such as power factor correction and a resonant switching power supply to produce 85 watts of power in a compact, efficient unit. The Macbook charger is an impressive piece of engineering, even if it's not as reliable as you'd hope. On the other hand, cheap no-name chargers cut corners and often have safety issues, making them risky, both to you and your computer.

## Notes and references

[]()[1] The main alternative to a switching power supply is a linear power supply, which is much simpler and converts excess voltage to heat. Because of this wasted energy, linear power supplies are only about 60% efficient, compared to about 85% for a switching power supply. Linear power supplies also use a bulky transformer that may weigh multiple pounds, while switching power supplies can use a tiny high-frequency transformer. []()[2] Switching power supplies were taking over the computer industry as early as 1971\. _Electronics World_ said that companies using switching regulators "read like a 'Who's Who' of the computer industry: IBM, Honeywell, Univac, DEC, Burroughs, and RCA, to name a few". See "The Switching Regulator Power Supply", Electronics World v86 October 1971, p43-47\. In 1976, Silicon General introduced [SG1524 PWM integrated circuit](http://powerelectronics.com/power-management/pwm-single-chip-giant-industry), which put the control circuitry for a switching power supply on a single chip.

[]()[3] The quote about the Apple II power supply is from page 74 of the 2011 book [Steve Jobs](http://www.amazon.com/gp/product/1451648537/ref=as_li_ss_tl?ie=UTF8&tag=rightocom&linkCode=as2&camp=1789&creative=390957&creativeASIN=1451648537) by Walter Isaacson. It inspired me to write a detailed history of switching power supplies: [Apple didn't revolutionize power supplies; new transistors did](http://www.righto.com/2012/02/apple-didnt-revolutionize-power.html). Steve Job's quote sounds convincing, but I consider it the [reality distortion field](http://www.folklore.org/StoryView.py?story=Reality_Distortion_Field.txt) in effect.

[]()[4] If anyone can take the credit for making switching power supplies an inexpensive everyday product, it is Robert Boschert. He started selling switching power supplies in 1974 for everything from printers and computers to the F-14 fighter plane. See [Robert Boschert: A Man Of Many Hats Changes The World Of Power Supplies](http://electronicdesign.com/boards/robert-boschert-man-many-hats-changes-world-power-supplies) in _Electronic Design_. The Apple II's power supply is very similar to the [Boschert OL25 flyback power supply](http://www.epanorama.net/sff/Power%20Electronics/Power_Supplies-Switching/Flyback%20Converter%20Power%20Supply%20Theory.pdf) but with a [patented](https://www.google.com/patents/US4130862#v=onepage&q&f=false) variation.

[]()[5] You might expect the bad power factor is because switching power supplies rapidly turn on and off, but that's not the problem. The difficulty comes from the nonlinear diode bridge, which charges the input capacitor only at peaks of the AC signal. (If you're familiar with power factors due to phase shift, this is totally different. The problem is the non-sinusoidal current, not a phase shift.)

The [idea behind PFC](http://www.vicorpower.com/documents/application_notes/an1_active-pfc.pdf) is to use a DC-DC boost converter before the switching power supply itself. The boost converter is carefully controlled so its input current is a sinusoid proportional to the AC waveform. The result is the boost converter looks like a nice resistive load to the power line, and the boost converter supplies steady voltage to the switching power supply components.

[]()[6] The charger uses a [MC33368](http://www.mouser.com/ds/2/308/mc33368-d-302405.pdf) "High Voltage GreenLine Power Factor Controller" chip to run the PFC. The chip is designed for low power, high-density applications so it's a good match for the charger.

[]()[7] The SMPS controller chip is a [L6599](http://www.st.com/web/catalog/sense_power/FM142/CL1454/SC354/PF129679) high-voltage resonant controller; for some reason it is labeled DAP015D. It uses a resonant half-bridge topology; in a half-bridge circuit, two transistors control power through the transformer first one direction and then the other. Common switching power supplies use a PWM (pulse width modulation) controller, which adjusts the time the input is on. The L6599, on the other hand, adjusts the frequency instead of the pulse width. The two transistors alternate switching on for 50% of the time. As the frequency increases above the resonant frequency, the power drops, so controlling the frequency regulates the output voltage.

[]()[8] The processor in the charger is a MSP430F2003 ultra low power microcontroller with 1kB of flash and just 128 bytes of RAM. It includes a high-precision 16-bit analog to digital converter. More information is [here](http://www.ti.com/product/msp430f2003).

The 68000 microprocessor from the original Apple Macintosh and the 430 microcontroller in the charger aren't directly comparable as they have very different designs and instruction sets. But for a rough comparison, the [68000](https://en.wikipedia.org/wiki/Motorola_68000) is a 16/32 bit processor running at [7.8MHz](https://en.wikipedia.org/wiki/Macintosh_128K), while the MSP430 is a 16 bit processor running at 16MHz. The Dhrystone benchmark measures [1.4 MIPS](https://en.wikipedia.org/wiki/Instructions_per_second#Timeline_of_instructions_per_second) (million instructions per second) for the 68000 and much higher performance of [4.6 MIPS](http://www.ecrostech.com/Other/Resources/Dhrystone.htm) for the MSP430\. The MSP430 is designed for low power consumption, using about 1% of the power of the 68000.

[]()[9] The 60W Macbook charger uses a custom MSP430 processor, but the 85W charger uses a general-purpose processor that needs to [loaded with firmware](http://www.ti.com/lit/ug/slau320v/slau320v.pdf). The chip is programmed with the [Spy-Bi-Wire](https://en.wikipedia.org/wiki/Spy-Bi-Wire) interface, which is TI's two-wire variant of the standard JTAG interface. After programming, a security fuse inside the chip is blown to prevent anyone from reading or modifying the firmware.

[]()[10] The voltage to the processor is provided by not by a standard voltage regulator, but a [LT1460](https://cds.linear.com/docs/en/datasheet/1460fc.pdf) precision reference, which outputs 3.3 volts with the exceptionally high accuracy of 0.075%. This seems like overkill to me; this chip is the second-most expensive chip in the charger after the SMPS controller, based on Octopart's prices.

[]()[11] The voltage reference chip is unusual, it is a [TSM103/A](http://www.st.com/web/en/resource/technical/document/datasheet/CD00001691.pdf) that combines two op amps and a 2.5V reference in a single chip. Semiconductor properties vary widely with temperature, so keeping the voltage stable isn't straightforward. A clever circuit called a _bandgap reference_ cancels out temperature variations; I explain it in detail [here](http://www.righto.com/2014/09/reverse-engineering-counterfeit-7805.html).

[]()[12] Since some readers are very interested in grounding, I'll give more details. A 1KΩ ground resistor connects the AC ground pin to the charger's output ground. (With the 2-pin plug, the AC ground pin is not connected.) Four 9.1MΩ resistors connect the internal DC ground to the output ground. Since they cross the isolation boundary, safety is an issue. Their high resistance avoids a shock hazard. In addition, since there are four resistors in series for redundancy, the charger remains safe even if a resistor shorts out somehow. There is also a Y capacitor (680pF, 250V) between the internal ground and output ground; this blue capacitor is on the upper side of the board. A T5A fuse (5 amps) protects the output ground.

[]()[13] The power in watts is simply the volts multiplied by the amps. Increasing the voltage is beneficial because it allows higher wattage; the maximum current is limited by the wire size.

[]()[14] The control circuitry is fairly complex. The output voltage is monitored by an op amp in the TSM103/A chip which compares it with a reference voltage generated by the same chip. This amplifier sends a feedback signal via an optoisolator to the SMPS control chip on the primary side. If the voltage is too high, the feedback signal lowers the voltage and vice versa. That part is normal for a power supply, but ramping the voltage from 16.5 volts to 18.5 volts is where things get complicated.

The output current creates a voltage across the current sense resistors, which have a tiny resistance of 0.005Ω each - they are more like wires than resistors. An op amp in the TSM103/A chip amplifies this voltage. This signal goes to tiny [TS321](http://www.ti.com/lit/ds/symlink/ts321.pdf) op amp which starts ramping up when the signal corresponds to 4.1A. This signal goes into the previously-described monitoring circuit, increasing the output voltage.

The current signal also goes into a tiny [TS391](http://www.st.com/web/en/resource/technical/document/datasheet/CD00001660.pdf) comparator, which sends a signal to the primary through another optoisolator to cut the output voltage. This appears to be a protection circuit if the current gets too high. The circuit board has a few spots where zero-ohm resistors (i.e. jumpers) can be installed to change the op amp's amplification. This allows the amplification to be adjusted for accuracy during manufacture.

[]()[15] If you measure the voltage from a Macbook charger, you'll find about six volts instead of the 16.5 volts you'd expect. The reason is the output is deactivated and you're only measuring the voltage through the bypass resistor just below the output transistor.

[]()[16] The laptop pulls the charger output low with a 39.41KΩ resistor to indicate that it is ready for power. An interesting thing is it won't work to pull the output too low - shorting the output to ground doesn't work. This provides a safety feature. Accidental contact with the pins is unlikely to pull the output to the right level, so the charger is unlikely to energize except when properly connected.

[]()[17] The imitation charger uses the Fairchild [FAN7602](https://www.fairchildsemi.com/datasheets/FA/FAN7602.pdf) Green PWM Controller chip, which is more advanced than I expected in a knock-off; I wouldn't have been surprised if it just used a simple transistor oscillator. Another thing to note is the imitation charger uses a single-sided circuit board, while the genuine uses a double-sided circuit board, due to the much more complex circuit.

[]()[18] The burnt charger is an Apple A1222 85W Macbook charger, which is a different model from the A1172 charger in the rest of the teardown. The A1222 is in a slightly smaller, square case and has a totally different design based on the [NCP 1203](http://monitor.espec.ws/files/ncp1203_105.pdf) PWM controller chip. Components in the A1222 charger are packed even more tightly than in the A1172 charger. Based on the burnt-up charger, I think they pushed the density a bit too far.

[]()[19] I looked up many of the charger components on [Octopart](http://octopart.com) to see their prices. Apple's prices should be considerably lower. The charger has many tiny resistors, capacitors and transistors; they cost less than a cent each. The larger power semiconductors, capacitors and inductors cost considerably more. I was surprised that the 16-bit MSP430 processor costs only about $0.45\. I estimated the price of the custom transformers. The list below shows the main components.

Component Cost MSP430F2003 processor $0.45 MC33368D PFC chip $0.50 L6599 controller chip $1.62 LT1460 3.3V reference $1.46 TSM103/A reference $0.16 2x P11NM60AFP 11A 60V MOSFET $2.00 3x Vishay optocoupler $0.48 2x 630V 0.47uF film capacitor $0.88 4x 25V 680uF electrolytic capacitor $0.12 420V 82uF electrolytic capacitor $0.93 polypropylene X2 capacitor $0.17 3x toroidal inductor $0.75 4A 600V diode bridge $0.40 2x dual common-cathode schottky rectifier 60V, 15A $0.80 20NC603 power MOSFET $1.57 transformer $1.50? PFC inductor $1.50? []()[20] The article [Breaking down the full $650 cost of the iPhone 5](http://www.digitaltrends.com/mobile/iphone-cost-what-apple-is-paying/) describes Apple's profit margins in detail, estimating 45% profit margin on the iPhone. Some people have suggested that Apple's research and development expenses explain the high cost of their chargers, but the math shows R&D costs must be negligible. The book [Practical Switching Power Supply Design](http://www.amazon.com/gp/product/0121370305/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0121370305&linkCode=as2&tag=rightocom&linkId=BVOTBHVW2MMRFIQ5) estimates 9 worker-months to design and perfect a switching power supply, so perhaps $200,000 of engineering cost. More than 20 million Macbooks are sold per year, so the R&D cost per charger would be one cent. Even assuming the Macbook charger requires ten times the development of a standard power supply only increases the cost to 10 cents.
