<!DOCTYPE html><html><head><title>Adding an SVG Element</title></head><body>
<h1>Adding an SVG Element</h1><p><a href="https://www.dashingd3js.com/adding-an-svg-element" target="_new">Original URL</a></p>
<p><blockquote>Basic Example In the last example you added a p HTML element to the DOM. In this example, you will use D3.js to add an SVG element to a basic webpage. Per our previous SVG examples , you will add an&hellip;</blockquote></p>
<div><div class="well">

 
 <h3>Basic Example</h3>
 <p class="friendly-paragraph">
 In the last example you added a <strong>p</strong> HTML element to the DOM.
 In this example, you will use D3.js to add an SVG element to a basic webpage.
 Per our previous <a href="https://www.dashingd3js.com/basic-building-blocks">SVG examples</a> , you will add an SVG circle to the webpage.
 </p>
 <p class="friendly-paragraph">
 Start with a basic HTML webpage:
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers"> 1</span><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="line-numbers"> 2</span><span class="tag">&lt;html&gt;</span>
<span class="line-numbers"> 3</span> <span class="tag">&lt;head&gt;</span>
<span class="line-numbers"> 4</span> <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/javascript</span><span class="delimiter">"</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">"</span><span class="content">d3.v2.min.js</span><span class="delimiter">"</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
<span class="line-numbers"> 5</span> <span class="tag">&lt;/head&gt;</span>
<span class="line-numbers"> 6</span> <span class="tag">&lt;body&gt;</span>
<span class="line-numbers"> 7</span> <span class="tag">&lt;p&gt;</span>Hello!<span class="tag">&lt;/p&gt;</span>
<span class="line-numbers"> 8</span> <span class="tag">&lt;/body&gt;</span>
<span class="line-numbers"> 9</span><span class="tag">&lt;/html&gt;</span></pre></div>
</div>

 
 <p class="friendly-paragraph">
 Recall that an SVG circle can be created as such:<br>
 <br>
 <svg width="50" height="50">
 <circle></circle>
 </svg>
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers">1</span><span class="tag">&lt;svg</span> <span class="attribute-name">width</span>=<span class="string"><span class="delimiter">"</span><span class="content">50</span><span class="delimiter">"</span></span> <span class="attribute-name">height</span>=<span class="string"><span class="delimiter">"</span><span class="content">50</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">2</span> <span class="tag">&lt;circle</span> <span class="attribute-name">cx</span>=<span class="string"><span class="delimiter">"</span><span class="content">25</span><span class="delimiter">"</span></span> <span class="attribute-name">cy</span>=<span class="string"><span class="delimiter">"</span><span class="content">25</span><span class="delimiter">"</span></span> <span class="attribute-name">r</span>=<span class="string"><span class="delimiter">"</span><span class="content">25</span><span class="delimiter">"</span></span> <span class="attribute-name">fill</span>=<span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">3</span><span class="tag">&lt;/svg&gt;</span></pre></div>
</div>

 
 <p class="friendly-paragraph">
 Next open the Developer Tools (Webkit Inspector).
 Then type the following long line into the JavaScript Console:
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers">1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>).append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

 
 <p class="friendly-paragraph">
 This will give you the following:
 <br>
 <br>
 <img alt="Added SVG element with D3.js" class="img-polaroid img-rounded" width="673" src="https://d1gg5jm9r4jrt6.cloudfront.net/added_svg_element_with_d3.js_673x521.png">
 </p>
 <p class="friendly-paragraph">
 Congratulations - you've added an SVG element to the DOM using D3.js!
 </p>
 

 <br>

 
 <h3>D3.js Legibility</h3>
 <p class="friendly-paragraph">
 As you progress further into D3.js, the code that you write will go from a few lines to potentially a couple hundred lines.
 Even in our example:
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers">1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>).append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

 
 <p class="friendly-paragraph">
 It is hard to follow what is happening all the way through. Luckily, there is hope.
 </p>
 <p class="friendly-paragraph">
 JavaScript, much like HTML, does not care about white spaces or new line breaks.
 Which means we can rewrite our code as follows in the JavaScript Console:
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers"> 1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 2</span> .append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 3</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>)
<span class="line-numbers"> 4</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>)
<span class="line-numbers"> 5</span> .append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 6</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 7</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 8</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 9</span> .style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

 
 <p class="friendly-paragraph">
 Note: to get a new line in the JavaScript Console without having the statement evaluated, hold down the <strong>shift</strong> key while pressing <strong>return</strong>.
 </p>
 <p class="friendly-paragraph">
 This will give you the following:
 <br>
 <br>
 <img alt="Added SVG element with legible D3.js" class="img-polaroid img-rounded" width="673" src="https://d1gg5jm9r4jrt6.cloudfront.net/added_svg_element_with_legible_d3.js_673x525.png">
 </p>
 <p class="friendly-paragraph">
 More legible code for the same functionality.
 </p>
 

 <br>

 
 <h3>D3.js Style Operator</h3>
 <p class="friendly-paragraph">
 The very last line of the JavaScript code is <strong>.style("fill", "purple")</strong>.
 </p>
 <p class="friendly-paragraph">
 The Style Operator, if a <em>name</em> and <em>value</em> is specified, sets the CSS style property for the given selection with the given specified value.
 </p>
 <p class="friendly-paragraph">
 The <em>selection</em> given in our example was <strong>everything that came before the statement</strong>.
 </p>
 <p class="friendly-paragraph">
 The <em>CSS style property</em> given in our example was <strong>"fill"</strong>.
 </p>
 <p class="friendly-paragraph">
 The <em>specified value</em> given in our example was <strong>"purple"</strong>.
 </p>
 <p class="friendly-paragraph">
 This powerful because we can apply any CSS style property to any type of selection.
 </p>
 

 <br>

 
 <h3>D3.js Chain Syntax</h3>
 <p class="friendly-paragraph">
 If we look at our code again, you will notice a <strong>period</strong> in front of every method and operator:
 </p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers">1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>).append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

 
 <p class="friendly-paragraph">
 This syntax is called <em>chain syntax</em>.
 </p>
 <p class="friendly-paragraph">
 If you have used the <a href="http://jquery.com/">jQuery JavaScript Library</a>before , the <em>chain syntax</em> should be familiar to you. The D3.js chain syntax works much the same way.
			</p>
			<p class="friendly-paragraph">
				If you have not used jQuery before, let us see what is happening:
			</p>
			<p class="friendly-paragraph">
				We start at the left and apply each <em>.method</em> or <em>.operator</em> to it.
			</p>
			<p class="friendly-paragraph">
				So <em>.select</em> is applied to <em>d3</em>
			</p>
			<p class="friendly-paragraph">
				<em>.append</em> is applied to <em>d3.select("body")</em>
			</p>
			<p class="friendly-paragraph">
				etc...
			</p>
			<p class="friendly-paragraph">
				The longer the chain the more things are being applied to that which is to the left of it.
			</p>
			<p class="friendly-paragraph">
				The reason this works is because the operator method returns a selection.
			</p>
			<p class="friendly-paragraph">
				Which means that not only does <em>d3.select("body")</em> return a selection, so does <em>d3.select("body").append("svg")</em>!
			</p>
			<p class="friendly-paragraph">
				Because we can apply an operator method to selections, we can continue to apply operators to operators that have returned selections.
			</p>
			<p class="friendly-paragraph">
				Note - not all D3.js methods return a selection. However, most do so we can use chaining syntax to keep the code clean.
			</p>
			<p class="friendly-paragraph">
				Looking at our code again:
				</p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers">1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>).append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>).append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>).style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

			
			<p class="friendly-paragraph">
				You can see that we move from left to right. A selection is returned. An operator is applied, which returns a selection. Then an operator is applied to that selection... so on and so forth.
			</p>
			<p class="friendly-paragraph">
				This is important to realize because it means <strong>order matters</strong>.
			</p>
			

			<br>

			
		 <h3>Selections as JavaScript Variables</h3>
			<p class="friendly-paragraph">
				One of the great things about D3.js returning selections is that we can assign those selections to a JavaScript Variable.
				Thus we can go from this:
				</p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers"> 1</span>d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 2</span> .append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 3</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>)
<span class="line-numbers"> 4</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>)
<span class="line-numbers"> 5</span> .append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 6</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 7</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 8</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 9</span> .style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

			
			<p class="friendly-paragraph">
				To this:
				</p><div class="CodeRay">
 <div class="code"><pre><span class="line-numbers"> 1</span><span class="keyword">var</span> bodySelection = d3.select(<span class="string"><span class="delimiter">"</span><span class="content">body</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span><span class="keyword">var</span> svgSelection = bodySelection.append(<span class="string"><span class="delimiter">"</span><span class="content">svg</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 4</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">width</span><span class="delimiter">"</span></span>, <span class="integer">50</span>)
<span class="line-numbers"> 5</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">height</span><span class="delimiter">"</span></span>, <span class="integer">50</span>);
<span class="line-numbers"> 6</span>
<span class="line-numbers"> 7</span><span class="keyword">var</span> circleSelection = svgSelection.append(<span class="string"><span class="delimiter">"</span><span class="content">circle</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 8</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cx</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"> 9</span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">cy</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers"><strong>10</strong></span> .attr(<span class="string"><span class="delimiter">"</span><span class="content">r</span><span class="delimiter">"</span></span>, <span class="integer">25</span>)
<span class="line-numbers">11</span> .style(<span class="string"><span class="delimiter">"</span><span class="content">fill</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">purple</span><span class="delimiter">"</span></span>);</pre></div>
</div>

 
 <p class="friendly-paragraph">
 Which when typed into the JavaScript Console gives us this screenshot:
 <br>
 <br>
 <img alt="Added SVG element with legible D3.js using Variables" class="img-polaroid img-rounded" width="650" src="https://d1gg5jm9r4jrt6.cloudfront.net/added_svg_element_with_legible_d3.js_using_variables_650x568.png">
 </p>
 <p class="friendly-paragraph">
 Which is the same as before. How you decide to write the D3.js code is up to you. Organizing the code by variables makes it easier to read and understand what the code does.
 </p>
 

 </div>
 </div>
</body></html>
