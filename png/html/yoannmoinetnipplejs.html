<!DOCTYPE html><html><head><title>yoannmoinet/nipplejs</title></head><body>
<h1>yoannmoinet/nipplejs</h1><p><a href="https://github.com/yoannmoinet/nipplejs" target="_new">Original URL</a></p>
<p><blockquote>A virtual joystick for touch capable interfaces Install npm install nipplejs --save // OR bower install nipplejs --save Demo Check out the demo here. Usage Import it the way</blockquote></p>
<div><article class="markdown-body entry-content"><p><a href="https://github.com/yoannmoinet/nipplejs/blob/master/test/nipplejs.png" target="_blank"><img src="https://github.com/yoannmoinet/nipplejs/raw/master/test/nipplejs.png" alt="alt tag"></a></p>

<blockquote>
<p>A virtual joystick for touch capable interfaces</p>
</blockquote>

<h2><a id="user-content-install" class="anchor" href="https://github.com/yoannmoinet/nipplejs#install"></a>Install</h2>

<div class="highlight highlight-node"><pre>npm install nipplejs <span class="pl-k">--</span>save

<span class="pl-c">// OR</span>

bower install nipplejs <span class="pl-k">--</span>save</pre></div>



<h2><a id="user-content-demo" class="anchor" href="https://github.com/yoannmoinet/nipplejs#demo"></a>Demo</h2>

<p>Check out the <a href="http://yoannmoinet.github.io/nipplejs/#demo">demo here</a>.</p>



<h2><a id="user-content-usage" class="anchor" href="https://github.com/yoannmoinet/nipplejs#usage"></a>Usage</h2>

<p>Import it the way you want into your project :</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// CommonJS</span>
<span class="pl-k">var</span> joystick <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>nipplejs<span class="pl-pds">'</span></span>).create(options);

<span class="pl-c">// AMD</span>
define([<span class="pl-s"><span class="pl-pds">'</span>nipplejs<span class="pl-pds">'</span></span>], <span class="pl-k">function</span> (<span class="pl-smi">nipplejs</span>) {
 <span class="pl-k">var</span> joystick <span class="pl-k">=</span> nipplejs.create(options);
});

<span class="pl-c">// Global</span>
<span class="pl-k">&lt;</span>script type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> src<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>./dist/nipplejs.min.js<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>script<span class="pl-k">&gt;</span>
<span class="pl-k">&lt;</span>script type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
 <span class="pl-k">var</span> joystick <span class="pl-k">=</span> nipplejs.create(options);
<span class="pl-k">&lt;/</span>script<span class="pl-k">&gt;</span></pre></div>



<h2><a id="user-content-options" class="anchor" href="https://github.com/yoannmoinet/nipplejs#options"></a>Options</h2>

<p>You can configure your joystick in different ways :</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> options <span class="pl-k">=</span> {
 zone<span class="pl-k">:</span> Element,
 color<span class="pl-k">:</span> <span class="pl-c1">String</span>,
 size<span class="pl-k">:</span> Integer,
 threshold<span class="pl-k">:</span> Float,
 fadeTime<span class="pl-k">:</span> Integer
};</pre></div>

<p>All options are optional.</p>

<h3><a id="user-content-zone-defaults-to-body" class="anchor" href="https://github.com/yoannmoinet/nipplejs#zone-defaults-to-body"></a>[<code>zone</code>] defaults to 'body'</h3>

<p>The dom element in which your joystick will be injected.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">&lt;</span>div id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>zone_joystick<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>div<span class="pl-k">&gt;</span>

<span class="pl-k">&lt;</span>script type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> src<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>./nipplejs.min.js<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>script<span class="pl-k">&gt;</span>
<span class="pl-k">&lt;</span>script type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
 <span class="pl-k">var</span> options <span class="pl-k">=</span> {
 zone<span class="pl-k">:</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>zone_joystick<span class="pl-pds">'</span></span>);
 };
 <span class="pl-k">var</span> joystick <span class="pl-k">=</span> nipplejs.create(options);
<span class="pl-k">&lt;/</span>script<span class="pl-k">&gt;</span></pre></div>

<p>This zone also serve as the mouse/touch events handler.</p>

<p>It represents the zone where your joystick will be active.</p>

<h3><a id="user-content-color-defaults-to-white" class="anchor" href="https://github.com/yoannmoinet/nipplejs#color-defaults-to-white"></a>[<code>color</code>] defaults to 'white'</h3>

<p>The background color of your joystick's elements.</p>

<p>Can be any valid CSS color.</p>

<h3><a id="user-content-size-defaults-to-100" class="anchor" href="https://github.com/yoannmoinet/nipplejs#size-defaults-to-100"></a>[<code>size</code>] defaults to 100</h3>

<p>The size in pixel of the outer circle.</p>

<p>The inner circle is 50% of this size.</p>

<h3><a id="user-content-threshold-defaults-to-01" class="anchor" href="https://github.com/yoannmoinet/nipplejs#threshold-defaults-to-01"></a>[<code>threshold</code>] defaults to 0.1</h3>

<p>This is the strength needed to trigger a directional event.</p>

<p>Basically, the center is 0 and the outer is 1.</p>

<p>You need to at least go to 0.1 to trigger a directional event.</p>

<h3><a id="user-content-fadetime-defaults-to-250" class="anchor" href="https://github.com/yoannmoinet/nipplejs#fadetime-defaults-to-250"></a>[<code>fadeTime</code>] defaults to 250</h3>

<p>The time it takes for joystick to fade-out and fade-in when activated or de-activated.</p>



<h2><a id="user-content-api" class="anchor" href="https://github.com/yoannmoinet/nipplejs#api"></a>API</h2>

<p>Your <code>nipplejs</code> instance will come back as :</p>

<div class="highlight highlight-javascript"><pre>{
 el<span class="pl-k">:</span> Element,
 on<span class="pl-k">:</span> <span class="pl-c1">Function</span>,
 off<span class="pl-k">:</span> <span class="pl-c1">Function</span>,
 options<span class="pl-k">:</span> <span class="pl-c1">Object</span>,
 ui<span class="pl-k">:</span> <span class="pl-c1">Object</span>
}</pre></div>

<h3><a id="user-content-el" class="anchor" href="https://github.com/yoannmoinet/nipplejs#el"></a><code>el</code></h3>

<p>Dom element in which the joystick gets created.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>nipple<span class="pl-pds">"</span></span>&gt;
 &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>front<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
 &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>back<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3><a id="user-content-on" class="anchor" href="https://github.com/yoannmoinet/nipplejs#on"></a><code>on</code></h3>

<p>If you whish to listen to internal events like :</p>

<div class="highlight highlight-javascript"><pre>joystick.on(<span class="pl-s"><span class="pl-pds">'</span>event<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> (<span class="pl-smi">evt</span>, <span class="pl-smi">data</span>) {
 <span class="pl-c">// Do something.</span>
});</pre></div>

<h3><a id="user-content-off" class="anchor" href="https://github.com/yoannmoinet/nipplejs#off"></a><code>off</code></h3>

<p>To remove an event handler :</p>

<div class="highlight highlight-javascript"><pre>joystick.off(<span class="pl-s"><span class="pl-pds">'</span>event<span class="pl-pds">'</span></span>, handler);</pre></div>

<h3><a id="user-content-options-1" class="anchor" href="https://github.com/yoannmoinet/nipplejs#options-1"></a><code>options</code></h3>

<p>Simply the options you passed at its creation.</p>

<h3><a id="user-content-ui" class="anchor" href="https://github.com/yoannmoinet/nipplejs#ui"></a><code>ui</code></h3>

<p>The object that store its ui elements</p>

<div class="highlight highlight-javascript"><pre>{
 el<span class="pl-k">:</span> <span class="pl-k">&lt;</span>div <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>nipple<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>div<span class="pl-k">&gt;</span>
 back<span class="pl-k">:</span> <span class="pl-k">&lt;</span>div <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>back<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>div<span class="pl-k">&gt;</span>
 front<span class="pl-k">:</span> <span class="pl-k">&lt;</span>div <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>front<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>div<span class="pl-k">&gt;</span>
}</pre></div>



<h2><a id="user-content-events" class="anchor" href="https://github.com/yoannmoinet/nipplejs#events"></a>Events</h2>

<h4><a id="user-content-start" class="anchor" href="https://github.com/yoannmoinet/nipplejs#start"></a><code>start</code></h4>

<p>The joystick is activated. (the user pressed on the active zone)</p>

<h4><a id="user-content-end" class="anchor" href="https://github.com/yoannmoinet/nipplejs#end"></a><code>end</code></h4>

<p>The joystick is de-activated. (the user released the active zone)</p>

<h4><a id="user-content-move" class="anchor" href="https://github.com/yoannmoinet/nipplejs#move"></a><code>move</code></h4>

<p>The joystick is moved.
Comes with data :</p>

<div class="highlight highlight-javascript"><pre>{
 position<span class="pl-k">:</span> { <span class="pl-c">// absolute position of the center in pixels</span>
 x<span class="pl-k">:</span> <span class="pl-c1">125</span>,
 y<span class="pl-k">:</span> <span class="pl-c1">95</span>
 },
 force<span class="pl-k">:</span> <span class="pl-c1">0.2</span>, <span class="pl-c">// strength in %</span>
 distance<span class="pl-k">:</span> <span class="pl-c1">25.4</span>, <span class="pl-c">// distance from center in pixels</span>
 angle<span class="pl-k">:</span> {
 radian<span class="pl-k">:</span> <span class="pl-c1">1.5707963268</span>, <span class="pl-c">// angle in radian</span>
 degree<span class="pl-k">:</span> <span class="pl-c1">90</span>
 }
}</pre></div>

<h4><a id="user-content-dir" class="anchor" href="https://github.com/yoannmoinet/nipplejs#dir"></a><code>dir</code></h4>

<p>When a direction is reached after the threshold.</p>

<p>Direction are split with a 45&#xB0; angle.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// \ UP /</span>
<span class="pl-c">// \ /</span>
<span class="pl-c">// LEFT RIGHT</span>
<span class="pl-c">// / \</span>
<span class="pl-c">// /DOWN \</span></pre></div>

<p>You can also listen to specific direction like :</p>

<ul>
<li><code>dir:up</code></li>
<li><code>dir:down</code></li>
<li><code>dir:right</code></li>
<li><code>dir:left</code></li>
</ul>

<p>In this configuration only one direction is triggered at a time.</p>

<h4><a id="user-content-plain" class="anchor" href="https://github.com/yoannmoinet/nipplejs#plain"></a><code>plain</code></h4>

<p>When a plain direction is reached after the threshold.</p>

<p>Plain directions are split with a 90&#xB0; angle.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// U|P</span>
<span class="pl-c">//LEFT____|___ RIGHT</span>
<span class="pl-c">// |</span>
<span class="pl-c">// DO|WN</span></pre></div>

<p>You can also listen to specific plain direction like :</p>

<ul>
<li><code>plain:up</code></li>
<li><code>plain:down</code></li>
<li><code>plain:right</code></li>
<li><code>plain:left</code></li>
</ul>

<p>In this configuration two directions can be triggered at a time,
because the user could be both <code>up</code> and <code>left</code> for example.</p>
</article>
 </div>
</body></html>
