<!DOCTYPE html><html><head><title>Meteor-React-Ionic Mobile App Part 1: The Basic Template</title></head><body>
<h1>Meteor-React-Ionic Mobile App Part 1: The Basic Template</h1><p><a href="https://medium.com/@SamCorcos/meteor-react-ionic-mobile-app-part-1-the-basic-template-9355ebf3397f#.szcjpw1xx" target="_new">Original URL</a></p>
<p><blockquote>Meteor now has reasonable support for React.js, so it’s about time to start using it for hybrid mobile apps, which is one of the huge advantages of using Meteor. This template app (repo) will use&hellip;</blockquote></p>
<section name="8df0" class=" section--body section--first section--last" score="41.25"><div class="section-content" score="35.0"><div class="section-inner u-sizeFullWidth" score="1.25"><figure name="c936" id="c936" class="graf--figure graf--layoutFillWidth graf--first" score="-12.5"><div class="aspectRatioPlaceholder is-locked" score="6.25"><img class="graf-image" src="https://cdn-images-2.medium.com/max/2000/1*9dF3HOObBwWX8MHGThid3A.png"></div></figure></div><div class="section-inner layoutSingleColumn" score="8.25"><p name="7778" id="7778" class="graf--p graf-after--h3">Meteor now has reasonable support for React.js, so it’s about time to start using it for hybrid mobile apps, which is one of the huge advantages of using Meteor. This template app (<a href="https://github.com/samcorcos/meteor-react-ionic-basic" class="markup--anchor markup--p-anchor" rel="nofollow">repo</a>) will use <strong class="markup--strong markup--p-strong">React.js</strong> in place of Meteor’s built-in templating engine <strong class="markup--strong markup--p-strong">Blaze</strong>, <strong class="markup--strong markup--p-strong">ReactRouter</strong> instead of <strong class="markup--strong markup--p-strong">iron:router</strong> or <strong class="markup--strong markup--p-strong">meteorhacks:flow-router</strong>, and will use <a href="http://ionicframework.com/" class="markup--anchor markup--p-anchor" rel="nofollow"><strong class="markup--strong markup--p-strong">Ionic</strong></a>, which is a widely used hybrid mobile app framework. <em class="markup--em markup--p-em">This should take about 10 minutes to complete.</em></p><figure name="3947" id="3947" class="graf--figure graf--layoutOutsetLeft graf-after--p" score="-12.5"><div class="aspectRatioPlaceholder is-locked" score="6.25"><img class="graf-image" src="https://cdn-images-2.medium.com/max/600/1*tS83xErk43qjtWBXepymFA.gif"></div></figure><p name="c6a5" id="c6a5" class="graf--p graf-after--figure">We are going to build the most basic possible template, on which we can build bigger and better apps in the future. I found that simply getting started with the <strong class="markup--strong markup--p-strong">Meteor-React-Ionic</strong> <strong class="markup--strong markup--p-strong">stack</strong> was surprisingly difficult, so this should make it easier. Your app will look like the gif to the left when you are finished.</p><p name="18d0" id="18d0" class="graf--p graf-after--p">From this base template we can add additional functionality, which I intend to write about in subsequent articles, including: <a href="https://medium.com/@SamCorcos/meteor-react-ionic-mobile-app-part-2-passing-in-data-a0478b17a53d" class="markup--anchor markup--p-anchor">passing through data</a> with Mongo.Collections, <a href="https://medium.com/@SamCorcos/meteor-react-ionic-mobile-app-part-4-1-users-and-settings-4fd3950b829f" class="markup--anchor markup--p-anchor">user accounts</a>, <a href="https://medium.com/@SamCorcos/meteor-react-ionic-mobile-app-part-3-tabs-and-modals-9d26f51c59ff" class="markup--anchor markup--p-anchor">tabs and modals</a>, chat functionality, Cordova integration, animations and transitions, a Tinder interface, and perhaps others.</p><p name="c8fe" id="c8fe" class="graf--p graf-after--h4">First, create a project with the following file structure:</p><pre name="9e0a" id="9e0a" class="graf--pre graf-after--p">├── client<br>│ ├── components<br>│ │ ├── AppBody.jsx<br>│ │ ├── AppLoading.jsx<br>│ │ ├── AppNotFound.jsx<br>│ │ ├── Home.jsx<br>│ │ ├── Other.jsx<br>│ │ ├── Settings.jsx<br>│ │ └── main.html<br>│ ├── router.jsx<br>│ └── styles<br>│ └── styles.scss<br>├── lib<br>│ ├── app.browserify.js<br>│ └── app.browserify.options.json<br>└── server<br>│ └── server.jsx<br>└── packages.json</pre><p name="b58b" id="b58b" class="graf--p graf-after--pre">You can do this easily by copy-pasting the following code:</p><pre name="80fb" id="80fb" class="graf--pre graf-after--p">$ mkdir client client/components client/styles lib server</pre><pre name="ba85" id="ba85" class="graf--pre graf-after--pre">$ touch client/router.jsx client/components/AppBody.jsx client/components/AppLoading.jsx client/components/AppNotFound.jsx client/components/Home.jsx client/components/Other.jsx client/components/Settings.jsx client/components/main.html client/styles/styles.scss server/server.jsx lib/app.browserify.js lib/app.browserify.options.json packages.json</pre><p name="db83" id="db83" class="graf--p graf-after--pre">Then add the following packages:</p><pre name="5f57" id="5f57" class="graf--pre graf-after--p">$ meteor add cosmos:browserify fourseven:<a class="__cf_email__" href="https://medium.com/cdn-cgi/l/email-protection">[email protected]</a> meteorhacks:npm meteoric:ionic-sass meteoric:ionicons-sass react</pre><p name="eacb" id="eacb" class="graf--p graf-after--pre">Then, you have to set a few options and add a couple npm packages. In <strong class="markup--strong markup--p-strong">app.browserify.options.json</strong> add the following code:</p><pre name="ade5" id="ade5" class="graf--pre graf-after--p">{<br> "transforms": {<br> "externalify": {<br> "global": true,<br> "external": {<br> "react": "React.require"<br> }<br> }<br> }<br>}</pre><p name="93d1" id="93d1" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">app.browserify.js</strong>, add the following:</p><pre name="18d1" id="18d1" class="graf--pre graf-after--p">ReactRouter = require("react-router");</pre><p name="fed0" id="fed0" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">packages.json</strong>, add the following two npm packages:</p><pre name="5fc9" id="5fc9" class="graf--pre graf-after--p">{<br> "react-router": "0.13.3",<br> "externalify": "0.1.0"<br>}</pre><p name="0ba8" id="0ba8" class="graf--p graf-after--pre">Then, we need to add a couple lines to make sure our <strong class="markup--strong markup--p-strong">meteoric:ionic-sass</strong> and <strong class="markup--strong markup--p-strong">meteoric:ionicons-sass</strong> packages work. In <strong class="markup--strong markup--p-strong">styles.scss</strong>, paste the following:</p><pre name="7007" id="7007" class="graf--pre graf-after--p"><a href="http://twitter.com/import" class="markup--anchor markup--pre-anchor" title="Twitter profile for @import" rel="nofollow">@import</a> ".meteor/local/build/programs/server/assets/packages/meteoric_ionic-sass/ionic";<br><a href="http://twitter.com/import" class="markup--anchor markup--pre-anchor" title="Twitter profile for @import" rel="nofollow">@import</a> ".meteor/local/build/programs/server/assets/packages/meteoric_ionicons-sass/ionicons";</pre><p name="46b5" id="46b5" class="graf--p graf-after--pre">Now that we have all this in place, it’s time to run meteor. NOTE: You will have to start it multiple times. First, the <strong class="markup--strong markup--p-strong">meteorhacks:npm</strong> package will kill the process, then due to some quirks with the <strong class="markup--strong markup--p-strong">meteoric </strong>packages, you will have to run it again. When in doubt, kill the process and run it again.</p><p name="d0d5" id="d0d5" class="graf--p graf-after--h4">Our next step is to create the components for each of our three views. But first, in <strong class="markup--strong markup--p-strong">client/components/main.html</strong>, add the following code:</p><pre name="5833" id="5833" class="graf--pre graf-after--p">&lt;head&gt;<br> &lt;title&gt;React Mobile Template&lt;/title&gt;<br> &lt;meta charset="utf-8"&gt;<br> &lt;meta name="description" content="Template React-Meteor-Ionic app"&gt;<br> &lt;meta name="viewport" content="user-scalable=no, initial-scale=1, minimal-ui, maximum-scale=1, minimum-scale=1" /&gt;<br>&lt;/head&gt;</pre><pre name="c452" id="c452" class="graf--pre graf-after--pre">&lt;body&gt;<br> &lt;div id="app"&gt;&lt;/div&gt;<br>&lt;/body&gt;</pre><p name="f54a" id="f54a" class="graf--p graf-after--pre">Then we will create our views. In <strong class="markup--strong markup--p-strong">client/components/AppLoading.jsx</strong>, add the following:</p><pre name="bfa9" id="bfa9" class="graf--pre graf-after--p">AppLoading = React.createClass({<br> render() {<br> return &lt;h1&gt;Loading…&lt;/h1&gt;<br> }<br>});</pre><p name="d16f" id="d16f" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">client/components/AppNotFound.jsx</strong>, add:</p><pre name="c0c0" id="c0c0" class="graf--pre graf-after--p">AppNotFound = React.createClass({<br> render() {<br> return &lt;h1&gt;Not Found&lt;/h1&gt;<br> }<br>});</pre><p name="d9e3" id="d9e3" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">client/components/Home.jsx</strong>, add:</p><pre name="ce07" id="ce07" class="graf--pre graf-after--p">Home = React.createClass({<br> render() {<br> return &lt;h1&gt;Home&lt;/h1&gt;<br> }<br>});</pre><p name="2673" id="2673" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">client/components/Settings.jsx</strong>, add:</p><pre name="7b95" id="7b95" class="graf--pre graf-after--p">Settings = React.createClass({<br> render() {<br> return &lt;h1&gt;Settings&lt;/h1&gt;<br> }<br>});</pre><p name="57b0" id="57b0" class="graf--p graf-after--pre">In <strong class="markup--strong markup--p-strong">client/components/Other.jsx</strong>, add:</p><pre name="8843" id="8843" class="graf--pre graf-after--p">Other = React.createClass({<br> render() {<br> return &lt;h1&gt;Other&lt;/h1&gt;<br> }<br>});</pre><p name="9219" id="9219" class="graf--p graf-after--pre">And finally, we build the part that ties them all together in <strong class="markup--strong markup--p-strong">client/components/AppBody.jsx</strong>:</p><pre name="aac0" id="aac0" class="graf--pre graf-after--p">AppBody = React.createClass({<br> render() {<br> return (<br> &lt;div className="ionic-body"&gt;<br> &lt;div className="bar bar-header bar-light"&gt;<br> &lt;ReactRouter.Link className="button button-icon icon ion-gear-a" to={"/settings"}&gt;&lt;/ReactRouter.Link&gt;<br> &lt;ReactRouter.Link className="h1 title" to={"/"}&gt;App Name&lt;/ReactRouter.Link&gt;<br> &lt;ReactRouter.Link className="button button-icon icon ion-heart" to={"/other"}&gt;&lt;/ReactRouter.Link&gt;<br> &lt;/div&gt;</pre><pre name="ca40" id="ca40" class="graf--pre graf-after--pre"> &lt;div className="view"&gt;<br> &lt;div className="scroll-content ionic-scroll"&gt;<br> &lt;div className="content overflow-scroll has-header"&gt;<br> &lt;ReactRouter.RouteHandler /&gt;<br> &lt;/div&gt;<br> &lt;/div&gt;<br> &lt;/div&gt;<br> &lt;/div&gt;<br> )<br> }<br>});</pre><p name="ada1" id="ada1" class="graf--p graf-after--h4">The next thing we will do is set up our router in <strong class="markup--strong markup--p-strong">client/router.jsx</strong>. Since we will only have 3 views, this will be pretty simple:</p><pre name="3896" id="3896" class="graf--pre graf-after--p">const routes = (<br> &lt;ReactRouter.Route name="root" handler={AppBody}&gt;<br> &lt;ReactRouter.Route name="home" path="/" handler={Home} /&gt;<br> &lt;ReactRouter.Route name="other" path="/other" handler={Other} /&gt;<br> &lt;ReactRouter.Route name="settings" path="/settings" handler={Settings} /&gt;<br> &lt;ReactRouter.DefaultRoute handler={AppLoading} /&gt;<br> &lt;ReactRouter.NotFoundRoute handler={AppNotFound} /&gt;<br> &lt;/ReactRouter.Route&gt;<br>);</pre><pre name="a143" id="a143" class="graf--pre graf-after--pre">Meteor.startup(function () {<br> ReactRouter.run(routes, ReactRouter.HistoryLocation, function (Handler, state) {<br> React.render(&lt;Handler /&gt;, document.getElementById("app"));<br> });<br>});</pre><p name="1a9c" id="1a9c" class="graf--p graf-after--pre">And now you’re done! Your app is pretty lame at this point, but it’s a good place to start.</p></div></div></section>
</body></html>
