<!DOCTYPE html><html><head><title>How to Write Scripts Using Awk Programming Language – Part 13</title></head><body>
<h1>How to Write Scripts Using Awk Programming Language – Part 13</h1><p><a href="http://www.tecmint.com/write-shell-scripts-in-awk-programming/" target="_new">Original URL</a></p>
<p><blockquote>All along from the beginning of the Awk series up to Part 12, we have been writing small Awk commands and programs on the command line and in shell scripts respectively. However, Awk, just as Shell,&hellip;</blockquote></p>
<div><div class="entry-inner">
<p>All along from the beginning of the <a href="http://tecmint.com/category/awk-command/" target="_blank">Awk series up to Part 12</a>, we have been writing small Awk commands and programs on the command line and in shell scripts respectively.</p>
<p>However, <strong>Awk</strong>, just as Shell, is also an interpreted language, therefore, with all that we have walked through from the start of this series, you can now write Awk executable scripts.</p>
<p>Similar to how we write a shell script, Awk scripts start with the line:</p>
<pre>#! /path/to/awk/utility -f 
</pre>
<p>For example on my system, the <strong>Awk</strong> utility is located in <strong>/usr/bin/awk</strong>, therefore, I would start an Awk script as follows:</p>
<pre>#! /usr/bin/awk -f 
</pre>
<ins class="adsbygoogle"></ins><p>Explaining the line above:</p>
<ol>
<li><code>#!</code> &#x2013; referred to as <strong>Shebang</strong>, which specifies an interpreter for the instructions in a script</li>
<li><code>/usr/bin/awk</code> &#x2013; is the interpreter</li>
<li><code>-f</code> &#x2013; interpreter option, used to read a program file</li>
</ol>
<p>That said, let us now dive into looking at some examples of Awk executable scripts, we can start with the simple script below. Use your favorite editor to open a new file as follows:</p>
<pre>$ vi script.awk
</pre>
<p>And paste the code below in the file:</p>
<pre>#!/usr/bin/awk -f 
BEGIN { printf "%s\n","Writing my first Awk executable script!" }
</pre>
<p>Save the file and exit, then make the script executable by issuing the command below:</p>
<pre>$ chmod +x script.awk
</pre>
<p>Thereafter, run it:</p>
<pre>$ ./script.awk
</pre>
<h5>Sample Output</h5>
<pre>Writing my first Awk executable script!
</pre>
<p>A critical programmer out there must be asking, &#x201C;<strong>where are the comments?</strong>&#x201D;, yes, you can also include comments in your Awk script. Writing comments in your code is always a good programming practice.</p>
<p>It helps other programmers looking through your code to understand what you are trying to achieve in each section of a script or program file.</p>
<p>Therefore, you can include comments in the script above as follows.</p>
<pre>#!/usr/bin/awk -f 
#This is how to write a comment in Awk
#using the BEGIN special pattern to print a sentence 
BEGIN { printf "%s\n","Writing my first Awk executable script!" }
</pre>
<p>Next, we shall look at an example where we read input from a file. We want to search for a system user named <strong>aaronkilik</strong> in the account file, <strong>/etc/passwd</strong>, then print the username, user <strong>ID</strong> and user <strong>GID</strong> as follows:</p>
<p>Below is the content of our script called <strong>second.awk</strong>.</p>
<pre>#! /usr/bin/awk -f 
#use BEGIN sepecial character to set FS built-in variable
BEGIN { FS=":" }
#search for username: aaronkilik and print account details 
/aaronkilik/ { print "Username :",$1,"User ID :",$3,"User GID :",$4 }
</pre>
<p>Save the file and exit, make the script executable and execute it as below:</p>
<pre>$ chmod +x second.awk
$ ./second.awk /etc/passwd
</pre>
<h5>Sample Output</h5>
<pre>Username : aaronkilik User ID : 1000 User GID : 1000
</pre>
<p>In the last example below, we shall use <strong>do while statement</strong> to print out numbers from <strong>0-10</strong>:</p>
<p>Below is the content of our script called <strong>do.awk</strong>.</p>
<pre>#! /usr/bin/awk -f 
#printing from 0-10 using a do while statement 
#do while statement 
BEGIN {
#initialize a counter
x=0
do {
print x;
x+=1;
}
while(x&lt;=10)
}
</pre>
<p>After saving the file, make the script executable as we have done before. Afterwards, run it:</p>
<pre>$ chmod +x do.awk
$ ./do.awk
</pre>
<h5>Sample Output</h5>
<pre>0
1
2
3
4
5
6
7
8
9
10
</pre>
<h3>Summary</h3>
<p>We have come to the end of this <a href="http://tecmint.com/category/awk-command/" target="_blank">interesting Awk series</a>, I hope you have learned a lot from all the 13 parts, as an introduction to Awk programming language.</p>
<p>As I mentioned from the beginning, Awk is a complete text processing language, for that reason, you can learn more other aspects of Awk programming language such as environmental variables, arrays, functions (built-in &amp; user defined) and beyond.</p>
<p>There is yet additional parts of Awk programming to learn and master, so, below, I have provided some links to important online resources that you can use to expand your Awk programming skills, these are not necessarily all that you need, you can also look out for useful Awk programming books.</p>
<p><strong>Reference Links</strong>: <a href="https://www.gnu.org/software/gawk/manual/gawk.html" target="_blank">The GNU Awk User&#x2019;s Guide</a> and <a href="https://www.chemie.fu-berlin.de/chemnet/use/info/gawk/gawk_toc.html" target="_blank">AWK Language Programming</a></p>
<p>For any thoughts you wish to share or questions, use the comment form below. Remember to always stay connected to <strong>Tecmint</strong> for more exciting series.</p>
</div>
</div>
</body></html>
