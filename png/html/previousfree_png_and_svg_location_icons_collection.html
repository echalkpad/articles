<!DOCTYPE html><html><head><title>PreviousFree PNG And SVG Location Icons Collection</title></head><body>
<h1>PreviousFree PNG And SVG Location Icons Collection</h1><p><a href="http://pepsized.com/customize-your-google-map-markers/" target="_new">Original URL</a></p>
<p><blockquote>Hello everybody! In&#xA0;his previous post JoeVains shared with you a pack of location icons. Initially they were designed for the PeHaa THEMES recent premium WordPress theme (YaGa)&#xA0;where they&hellip;</blockquote></p>
<div><div class="entry-content cf">
					
	<div class="pht-layout "></div>
	
		
		
		
		
	
<p>Hello everybody! In&#xA0;his <a href="http://pepsized.com/free-png-and-svg-location-icons-collection/">previous post</a> JoeVains shared with you a pack of location icons. Initially they were designed for the <a href="http://wptemplates.pehaa.com/buy-yaga" target="_blank">PeHaa THEMES recent premium WordPress theme (YaGa)</a>&#xA0;where they are used as custom Google Maps markers.&#xA0;We decided to extend the Yaga Theme&#xA0;pack and share it with you (free for both personal and commercial use).</p>
<p>This post is for those who do not have much&#xA0;experience with customizing Google maps with Google Maps Javascript API.</p>
<p>I&#x2019;ll show you how to generate a map and add markers using our location icons (or your own location icons if you prefer). We&#x2019;ll discuss improving user experience and browsers inconsistencies. Don&#x2019;t hesitate to download the <a href="http://pepsized.com/wp-content/uploads/2016/01/pepsized_maps_markers.zip">.zip folder</a> to have a complete version of the code.</p>
<h3>Generating a map</h3>
<p>Our main reference is&#xA0;<a href="https://developers.google.com/maps/documentation/javascript/tutorial" target="_blank">developers.google.com/maps/documentation/javascript/tutorial</a></p>
<p class="pht-box pht-box--highlight">If you are just&#xA0;experimenting you do not necessarily need to generate an &#xA0;API key. If you put your map online you may need to control if the requests quota is not exceeded and be able to increase it. With an API key you can also set which web domains are allowed to access your maps &#x2013; this will protect you from any unauthorized usage. To get it visit <a href="https://developers.google.com/maps/documentation/javascript/get-api-key">this link.</a></p>
<p>We will start with a slightly modified example code that you can find in the&#xA0;<a href="https://developers.google.com/maps/documentation/javascript/tutorial">Google Maps Api tutorial</a>. We will center our map in Place de Vosges, Paris, France &#x2013; our&#xA0;coordinates are <code>{lat: 48.855510, lng: 2.365505}.</code></p>
<pre class="line-numbers pht-milli"><code class="language-markup">&lt;html&gt;
&lt;head&gt;
 &lt;style&gt;
 html, body {height:100%; margin:0; padding:0;}
 .map {height:100%}
 &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
 &lt;div id="map" class="map desk-three-forth"&gt;&lt;/div&gt;
 &lt;script type="text/javascript"&gt;
 var map;
 function initMap() {
 var myLatLng = {lat: 48.855510, lng: 2.365505};
 map = new google.maps.Map(document.getElementById('map'), {
 zoom: 18,
 center: myLatLng,
 styles: [{"stylers": [{ "saturation": -100 }]}]
 });
 }
 &lt;/script&gt;
 &lt;script src="https://maps.googleapis.com/maps/api/js?callback=initMap"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>We zoom in 18 times and we also modify the map styles. Our&#xA0;style modification is one of the simplest possible &#x2013; basic desaturation.</p>
<p class="pht-box pht-box--highlight">If you want to play with map styles you should visit <a href="https://snazzymaps.com/" target="_blank">snazzymaps.com</a>&#xA0;&#x2013;&#xA0;a community built around creating great looking styles for Google Maps.&#xA0;Using the styles from <a href="https://snazzymaps.com/" target="_blank">snazzymaps</a> in your website is as easy as copying a bit of code&#xA0;(JSON) and passing it&#xA0;to the <a href="https://developers.google.com/maps/documentation/javascript/styling#styling_the_default_map" target="_blank">map options</a>&#xA0;of your map, ie. replace the <code>[{"stylers": [{ "saturation": -100 }]}]</code>.</p>

<p><strong>Please note that you have to determine the map dimensions, here we set <code>height:100%</code> together with the <code>body</code> and <code>html</code> heights set to 100%. Otherwise the map&#xA0;will not display.</strong></p>
<h3>Adding Markers</h3>
<p>We will add two markers, they coordinates are: <code>{lat: 48.856259, lng: 2.365043}</code> and <code>{lat: 48.85484, lng: 2.366427}.</code><br>
We will use two different svg icons from the <a href="http://pepsized.com/free-png-and-svg&#x2026;icons-collection/" target="_blank">JoeVains pack</a>.&#xA0;We choose svg because of their vector format assuring flexibility in sizes and a crisp look on retina screens. Using .pngs icons would always work, we <a href="http://pepsized.com/customize-your-google-map-markers/#using-pngs">will discuss it later.</a></p>
<p>Let&#x2019;s add the location of PEPSized Coffee to the map (unfortunately, it does not exists in the real life&#x2026;). We will use the the Coffee_3.svg and display it 64px wide and 64px height.</p>
<pre><code class="language-javascript">var marker = new google.maps.Marker({
	position: {lat: 48.856259, lng: 2.365043},
	map: map,
	title: 'PEPSized Coffee',
	icon: {
		url: "images/markers/svg/Coffee_3.svg",
		scaledSize: new google.maps.Size(64, 64)
	}
});</code></pre>
<p>Now you can replicate this code to add more markers, varying icons, titles and sizes.</p>
<p>We&#x2019;ll organise the code a little bit:</p>
<pre><code class="language-javascript">var locations = [
	{
		title: 'PEPSized Coffee',
		position: {lat: 48.856259, lng: 2.365043},
		icon: {
			url: "images/markers/svg/Coffee_3.svg",
			scaledSize: new google.maps.Size(64, 64)
		}

	},
	{
		title: 'PEPSized Office',
		position: {lat: 48.85484, lng: 2.366427},
		icon: {
			url: "images/markers/svg/Arrow_1.svg",
			scaledSize: new google.maps.Size(96, 96)
		}
	}					
];</code></pre>
<p>and add the markers with the <code>forEach</code> loop:</p>
<pre><code class="language-javascript">locations.forEach( function( element ) {
	var marker = new google.maps.Marker({
			position: element.position,
			map: map,
			title: element.title,
			icon: element.icon,
		});
	});	
}
</code></pre>
<h3>Using SVG sprites</h3>
<p>The icon object has a few more attributes that we haven&#x2019;t used so far. They are particularly useful if we use a svg sprite. In our example we use two icons, we could use a sprite as in the image below:</p>
<img class="aligncenter size-full wp-image-2064" src="http://pepsized.com/wp-content/uploads/2016/01/sprites0-300x57.png%20300w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0-768x146.png%20768w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0-1024x194.png%201024w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0-1140x216.png%201140w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0-480x91.png%20480w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0-752x143.png%20752w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites0.png%201504w" alt="sprites0" width="1504">
<p>The attributes we will need to properly scale and position each icon are: <code>size, scaledSize</code> and <code>origin</code>. The <code>size</code> attribute corresponds to the size of the marker that will be displayed on the map, <code>scaledSize</code> the size of the image we use and <code>origin</code> &#x2013; from which point the image should be displayed, (0,0) being the top left corner.</p>
<img class="aligncenter size-full wp-image-2084" src="http://pepsized.com/wp-content/uploads/2016/01/sprites-1-300x185.jpg%20300w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1-768x474.jpg%20768w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1-1024x632.jpg%201024w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1-1140x703.jpg%201140w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1-480x296.jpg%20480w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1-752x464.jpg%20752w,%20http://pepsized.com/wp-content/uploads/2016/01/sprites-1.jpg%201504w" alt="sprites" width="1504">
<pre><code class="language-javascript">var locations = [
	{
		title: 'PEPSized Coffee',
		position: {lat: 48.856259, lng: 2.365043},
		icon: {
			url: "images/markers/svg/Arrows.svg",
			size: new google.maps.Size(64, 64),
			scaledSize: new google.maps.Size(128, 64)
		}
	},
	{
		title: 'PEPSized Office',
		position: {lat: 48.85484, lng: 2.366427},
		icon: {
			url: "images/markers/svg/Arrows.svg",
			origin: new google.maps.Point(96, 0),
			size: new google.maps.Size(96, 96),
			scaledSize: new google.maps.Size(192, 96)
		}
	}
];
</code></pre>
<p>An icon object has also an <code>anchor</code> attribute that we&#xA0;are not&#xA0;using in our example but that can be very important. The anchor attribute defines&#xA0;<span class="s1">where the icon&#x2019;s hotspot should be located (based on the scaledSize and origin value). You can see what happens when playing with anchor values in the image below. The red default Google Maps marker indicates the referenced coordinates. The default value of anchor (top left image) is the point in the middle of the icon&#x2019;s bottom. For our 96px 96px icon it is:</span></p>
<pre>anchor: new google.maps.Point(48,96)</pre>
<p>The (0,0) anchor would mean that the referenced coordinates are indicated by the top left corner of the icon etc.</p>
<img class="aligncenter size-full wp-image-2087" src="http://pepsized.com/wp-content/uploads/2016/01/anchors-300x207.png%20300w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors-768x529.png%20768w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors-1024x705.png%201024w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors-1140x785.png%201140w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors-480x331.png%20480w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors-752x518.png%20752w,%20http://pepsized.com/wp-content/uploads/2016/01/anchors.png%201504w" alt="anchors" width="1504">
<h3>Improving User Experience</h3>
<p>It may be very annoying when you want to quickly scroll down a page and instead you keep interacting with a map. That&#x2019;s why we decided to disable the scrolling and dragging behaviour on small screens where the map takes full width. We will also set the initial map zoom parameter depending on the screen width. We&#xA0;will use a small custom <a href="http://modernizr.com/download/?-hiddenscroll-mq-setclasses">modernizr</a>&#xA0;build.&#xA0;We will use&#xA0;the&#xA0;Modernizr.mq option &#x2013; that allows to&#xA0;check if the current browser window state matches a media query. We will also&#xA0;detect the hidden scrollbars &#x2013;&#xA0;overlay scrollbars (when scrollbars on overflowed blocks are visible), common on mobile and OS X.</p>
<p>We include it within the page HEAD element:</p>
<pre><code class="language-markup pht-milli">&lt;head&gt;
	&lt;title&gt;PEPSized Places in Paris&lt;/title&gt;
	&lt;meta name="viewport" content="initial-scale=1.0"&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;link rel="stylesheet" href="style.css" type="text/css" media="all"&gt;
	&lt;script src="modernizr.js"&gt;&lt;/script&gt;
&lt;/head&gt;</code></pre>
<p>And we modify the piece of code where the map is generated</p>
<pre><code class="language-javascript">var map,
	desktopScreen = Modernizr.mq( "only screen and (min-width:1024px)" ),
	zoom = desktopScreen ? 18 : 17,
	scrollable = draggable = !Modernizr.hiddenscroll || desktopScreen;

function initMap() {
	var myLatLng = {lat: 48.855510, lng: 2.365505};
	map = new google.maps.Map(document.getElementById('map'), {
		zoom: zoom,
		center: myLatLng,
		mapTypeId: google.maps.MapTypeId.ROADMAP,
		scrollwheel: scrollable,
		draggable: draggable,
		styles: [{"stylers": [{ "saturation": -100 }]}],
	});
...</code></pre>
<h3 id="using-pngs">Using .png icons</h3>
<p>You could use the .png icons instead the .svg &#x2013;&#xA0;the difference would appear on retina screens. If you have your&#xA0;custom .png icon (for example my_icon_48.png) that you want to use as a marker, make sure to have it double sized (for example my_icon_96.png):</p>
<pre><code class="language-javascript">icon: {
	url: window.devicePixelRatio &gt; 1 ? "my_icon96png" : "my_icon48.png",
	scaledSize: new google.maps.Size(48, 48)
}</code></pre>
<h3>Troubleshooting</h3>
<p>The main problem with the svg approach is that it does not work in IE11 (it does in IE10 and Edge although).</p>
<p>Here is our workaround &#x2013; we detect the IE11&#xA0;browser&#xA0;with javascript&#xA0;and use a png icon instead&#xA0;of a svg.</p>
<pre><code class="language-javascript pht-micro">var isIE11 = !!(navigator.userAgent.match(/Trident/) &amp;&amp; navigator.userAgent.match(/rv[ :]11/));
var locations = [
	{
		title: 'PEPSized Coffee',
		position: {lat: 48.856259, lng: 2.365043},
		icon: {
			url: isIE11 ? "images/markers/png/Coffee_3.png" : "images/markers/svg/Coffee_3.svg",
			scaledSize: new google.maps.Size(64, 64)
		}

	},
	{
		title: 'PEPSized Office',
		position: {lat: 48.85484, lng: 2.366427},
		icon: {
			url: isIE11 ? "images/markers/png/Arrow_1.png" : "images/markers/svg/Arrow_1.svg",
			scaledSize: new google.maps.Size(96, 96)
		}
	}					
];</code></pre>
<h3>The Demo Layout</h3>
<p>For those who might be interested, a few words about our demo layout. This is our&#xA0;markup:</p>
<pre><code class="language-markup pht-milli">&lt;div id="map" class="map desk-three-forth"&gt;&lt;/div&gt;
&lt;div class="map-legend desk-one-forth"&gt;
	&lt;div class="location location-1"&gt;
		&lt;div class="location--inner"&gt;
			&lt;img src="images/markers/svg/Coffee_3.svg" alt="Coffee Shop icon"&gt;
			&lt;!-- or or instead of &lt;img&gt; if we use a sprite
			&lt;span class="marker-icon marker-coffee"&gt;&lt;/span&gt;
			--&gt;
			&lt;h3&gt;PEPSized Coffee&lt;/h3&gt;
			&lt;p&gt;13 Place de PEPS&lt;/p&gt;
			&lt;h4&gt;Opening Hours:&lt;/h4&gt;
			&lt;p&gt;Opened daily:&lt;/p&gt;
			&lt;p&gt;9am - 8pm&lt;/p&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="location location-2"&gt;
		&lt;div class="location--inner"&gt;
			&lt;img src="images/markers/svg/Arrow_1.svg" alt="PEPSized Office icon"&gt;
			&lt;!-- or instead of &lt;img&gt; if we use a sprite
			&lt;span class="marker-icon marker-office"&gt;&lt;/span&gt;
			--&gt;
			&lt;h3&gt;PEPSized Office&lt;/h3&gt;
			&lt;p&gt;1 Place de PEPS&lt;/p&gt;
			&lt;h4&gt;Opening Hours:&lt;/h4&gt;
			&lt;p&gt;Tuesday - Saturday&lt;/p&gt;
			&lt;p&gt;9am - 8pm&lt;/p&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>We use background images for the location divs and an :after pseudo-element to add a semi-transparent overlay:</p>
<pre><code class="language-css">.location {
	background-size:cover;
	background-position:center center;
	position:relative;
	color:white;
}
.location-1 {
	background-color:#554738;
	background-image:url( 'images/coffee_bg.jpg');
}
.location-2 {
	background-color:#383838;
	background-image:url( 'images/office_bg.jpg');
}

.location::after {
	content:"";
	background-color:inherit;
	opacity:.65;
	position:absolute;
	left:0;
	right:0;
	top:0;
	bottom:0;
}
.location--inner {
	position:relative;
	z-index:1;
}</code></pre>
<p>We set the width of the map to 75% and float it left. We also use the flexbox property to vertically center the .location&#x2013;inner divs:</p>
<pre><code class="language-css">@media screen and (min-width: 1024px) {	
	.map, .map-legend {
		height:100%;
	}
	.desk-three-forth {
		float: left;
		width:75%;
	}
	.desk-one-forth {
		width:25%;
	}
	.map-legend, .location {
		display:flex;
		flex-direction:column;
	}
	.location {
		min-height:50%;
		justify-content:center;
		align-items:center	
	}
}
</code></pre>
<p>Displaying the icons within&#xA0;the location&#x2013;inner divs seemed absolutely straightforward but&#x2026; we discovered some strange behavior in Safari. If we modify&#xA0;the dimensions of the svg icon (the same .svg file as&#xA0;being used in a marker), the new dimensions interfere with the icon object size attributes. It happens both for and img element or if background-image is used. The workaround it to use transform:scale instead of modifying&#xA0;the dimensions directly, that&#x2019;s why we have:</p>
<pre class="line-numbers"><code class="language-css">.location img {
	display:inline-block;
	-webkit-transform:scale(2);
	transform:scale(2);	
}</code></pre>
<p>or if using sprites:</p>
<pre class="line-numbers"><code class="language-css">.marker-icon {
	background-image:url("images/markers/svg/Arrows.svg");
	display:inline-block;
	width:48px;
	height:48px;
	-webkit-transform:scale(2);
	transform:scale(2);
}
.marker-office {
	background-position:48px 0;
}
</code></pre>
<p class="pht-delta--loose">That&#x2019;s all. We hope you got inspired! Thank you very much!</p>

<h4>Terms of use :</h4>
<p class="pht-milli">You may use the effects demonstrated in tutorials in your own work, both commercial or non-commercial without any attribution. You may not reproduce entire nor large parts of our tutorials. The outcome of our tutorials may not be re-saled nor redistributed.</p>
			</div>
			</div>
</body></html>
