<!DOCTYPE html><html><head><title>F-Yeah Swift: 4 Features That Changed How I Code, with Jacob Schwartz</title></head><body>
<h1>F-Yeah Swift: 4 Features That Changed How I Code, with Jacob Schwartz</h1><p><a href="https://realm.io/news/jacob-schwartz-swift-features/" target="_new">Original URL</a></p>
<p><blockquote>Swift&#x2019;s unique and forward-thinking combination of features fosters more productive and readable code. Highlighting his favorite language features like Swift&#x2019;s type system and&hellip;</blockquote></p>
<div><div class="js-content-container"> <p>Swift&#x2019;s unique and forward-thinking combination of features fosters more productive and readable code. Highlighting his favorite language features like Swift&#x2019;s type system and immutability, Jacob Schwartz discusses how Swift contributed to his app&#x2019;s codebase compared to other languages. Learn what aspects of Swift make it easier and more fun to use than other languages.</p> <p>I use Swift to build an app for a startup I work for, <a href="http://www.glintinc.com">Glint</a>, and would like to highlight the top four features of the language that had the biggest effect on my work &amp; code compared to Objective-C or C++.</p> <h3 id="strong-type-system-137javascriptpresentzchangechapter07true">Strong Type System <a href="">(1:37)</a></h3> <p>The great type system helps reduce the cognitive load when reading code. It helps code feel more explicit. For instance, this Objective-C dictionary could contain any type of keys and values, or it could even be nil:</p> <pre class="highlight objective_c"><code><span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">selectedFilters</span><span class="p">;</span></code></pre> <p>In Swift, however, the definition immediately conveys that it&#x2019;s a dictionary only of strings to arrays of strings:</p> <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">selectedFilters</span> <span class="o">=</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]]()</span></code></pre> <p>I use the type system to control logic flow throughout the app, not having to check for classes of objects.</p> <h3 id="immutability-151javascriptpresentzchangechapter09true">Immutability <a href="">(1:51)</a></h3> <p>In C++, these are all equivalent definitions for an immutable ivar, with more and more const correctness. This is a huge mess and feels like a hack.</p> <pre class="highlight cpp"><code><span class="k">class</span> <span class="nc">Puter</span> <span class="p">{</span>
 <span class="kt">void</span> <span class="n">compute</span><span class="p">(</span><span class="n">obj</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
 <span class="kt">void</span> <span class="n">compute</span><span class="p">(</span><span class="k">const</span> <span class="n">Obj</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
 <span class="kt">void</span> <span class="n">compute</span><span class="p">(</span><span class="n">Obj</span> <span class="o">*</span> <span class="k">const</span> <span class="n">ptr</span><span class="p">);</span>
 <span class="kt">void</span> <span class="n">compute</span><span class="p">(</span><span class="k">const</span> <span class="n">Obj</span> <span class="o">*</span> <span class="k">const</span> <span class="n">ptr</span><span class="p">);</span>
 <span class="kt">void</span> <span class="n">compute</span><span class="p">(</span><span class="k">const</span> <span class="n">Obj</span> <span class="o">*</span> <span class="k">const</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span></code></pre> <p>In Objective-C, it does not even feel like a hack &#x2014; it is a hack; you need to manage mutable vs. immutable versions of strings, arrays, etc.</p> <p>With Swift, these declarations take very little effort &#x2014; it simply takes choosing between <code>var</code> or <code>let</code> in the variable or property declaration.</p> <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">dateString</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="nf">stringFromDate</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
<span class="c1">// vs</span>
<span class="k">let</span> <span class="nv">dateString</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="nf">stringFromDate</span><span class="p">(</span><span class="n">date</span><span class="p">)</span></code></pre> <h3 id="properties-329javascriptpresentzchangechapter011true">Properties <a href="">(3:29)</a></h3> <p>Although the code is messy, it properly demonstrates the power and ease of properties in Swift.</p> <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">responseRate</span><span class="p">:</span> <span class="kt">Double</span><span class="p">?</span> <span class="p">{</span>
 <span class="k">didSet</span> <span class="p">{</span>
 <span class="k">let</span> <span class="nv">percent</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kt">Int</span><span class="p">((</span><span class="n">responseRate</span> <span class="p">??</span> <span class="mi">0</span><span class="p">)</span><span class="o">*</span> <span class="mi">100</span><span class="p">)))</span>
 <span class="k">let</span> <span class="nv">baseString</span> <span class="o">=</span> <span class="kt">NSLocalizedString</span><span class="p">(</span><span class="s">"$0 ResponseRate"</span><span class="p">,</span> <span class="nv">comment</span><span class="p">:</span> <span class="s">"PulseTabResponseRate"</span><span class="p">)</span>
 <span class="k">let</span> <span class="nv">percentString</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">percent</span><span class="se">)</span><span class="s">%"</span>
 <span class="n">middleLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">baseString</span><span class="o">.</span><span class="nf">stringByReplacingOccurrencesOfString</span><span class="p">(</span><span class="s">"$0"</span><span class="p">,</span> <span class="nv">withString</span><span class="p">:</span> <span class="n">percentString</span><span class="p">)</span>
 <span class="p">}</span>
<span class="p">}</span></code></pre> <p>Initially when exploring the Swift docs, I thought it was just syntactic sugar for properties. However, when writing programs, it turns out that it makes architecting your code more powerful and simple. This comes from a view controller, where I have a setter that takes a double as the response rate for some survey. Then I format the string that the user sees when the double is set. This is how I easily did data binding on this particular view controller.</p> <h3 id="awesome-community-425javascriptpresentzchangechapter013true">Awesome Community <a href="">(4:25)</a></h3> <p>There are fantastic resources for learning and helping fix problems online, as well as Swift meetups and informative newsletters that help foster the learning environment. It makes writing code easier and more fun.</p> <p>Although there are still some problems with it, such as inability to support old iOS versions with new Swift versions, tool instability, and random linker errors, it&#x2019;s constantly being improved upon with new releases. Working with these Swift features and more, I am able to write dense and expressive code that is actually fun to write, making me more productive compared to other languages.</p> </div> </div>
</body></html>
