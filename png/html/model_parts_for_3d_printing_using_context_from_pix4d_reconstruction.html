<!DOCTYPE html><html><head><title>Model Parts for 3D Printing Using Context From Pix4D Reconstruction</title></head><body>
<h1>Model Parts for 3D Printing Using Context From Pix4D Reconstruction</h1><p><a href="http://www.stefangordon.com/3dprint-from-3d-reconstruction/" target="_new">Original URL</a></p>
<p><blockquote>While constructing a new fixed wing drone I needed to design and 3d print a small mount for a GoPro action camera. &#xA0;Typically I would do this by taking a large number of measurements using a&hellip;</blockquote></p>
<div><div class="entry-content">
<p><img class="size-full wp-image-44694582" src="http://www.stefangordon.com/wp-content/uploads/2016/01/drone_scan_animated.gif" alt="The 3D model I used as context for designing my part" width="460"></p>
<p>While constructing a new fixed wing drone I needed to design and 3d print a small mount for a GoPro action camera. &#xA0;Typically I would do this by taking a large number of measurements using a ruler or calipers, and then designing the part based on those measurements. &#xA0;This time I decided to try a completely different workflow involving photogrammetric 3d reconstruction, which worked wonderfully, and will be my new method for these scenarios going forward.</p>
<p>Here I&#x2019;ll show you how I used my&#xA0;camera, and a great bit of software called Pix4D, to quickly and easily reconstruct a 3D model I could import into OpenSCAD and use as a template for designing my new part quickly and easily.</p>
<p>Here you can see the area in the wing of my plane where the GoPro will sit. &#xA0;It points down through a hole in the wing. &#xA0;This picture is one of about 20 that I quickly snapped with my camera (another GoPro). &#xA0;I took pictures while moving the camera laterally&#xA0;to catch various angles.</p>
<p><img class="alignnone size-large wp-image-44694592" src="http://www.stefangordon.com/wp-content/uploads/2016/01/scan_image-768x1024.jpg" alt="Wing bay with gopro" width="600"></p>
<p>Here are thumbnails from the rest of the photos.</p>
<p><img class="alignnone size-medium wp-image-44694594" src="http://www.stefangordon.com/wp-content/uploads/2016/01/grid-300x294.png" alt="grid" width="300"></p>
<p>I then loaded these images into <a href="https://www.pix4d.com/" target="_blank">Pix4D Mapper</a>, an application that performs photogrammetric reconstruction. &#xA0;I configured Pix4D to generate a textured mesh and output it as an OBJ file. &#xA0;I chose a reasonably small triangle and texture size for faster processing.</p>
<p><a href="http://www.stefangordon.com/wp-content/uploads/2016/01/pix4d_settings.png"><img class="alignnone wp-image-44694588 size-large" src="http://www.stefangordon.com/wp-content/uploads/2016/01/pix4d_settings-1024x832.png" alt="pix4d_settings" width="600"></a></p>
<p>A mesh was generated for me that contained good detail for the area I was interested in. &#xA0;Here is the raw output.</p>
<p><img class="alignnone size-full wp-image-44694591" src="http://www.stefangordon.com/wp-content/uploads/2016/01/drone_scan_1.png" alt="drone_scan_1" width="928"></p>
<p>Next I fired up <a href="http://meshlab.sourceforge.net/" target="_blank">MeshLab</a>, a wonderful free and open source mesh processing tool. &#xA0;In MeshLab I performed three&#xA0;tasks.</p>
<ol>
<li>Crop the mesh to the area I am interested in</li>
<li>Run a smoothing filter to remove some of the artifacts from the mesh</li>
<li>Run a quadratic decimation filter to reduce the size of the mesh</li>
</ol>
<p><a href="http://www.stefangordon.com/wp-content/uploads/2016/01/sidebyside.png"><img class="alignnone size-full wp-image-44694595" src="http://www.stefangordon.com/wp-content/uploads/2016/01/sidebyside.png" alt="sidebyside" width="1621"></a></p>
<p>I then exported the mesh as STL format and brought it into my preferred modelling tool, OpenSCAD. &#xA0;OpenSCAD can import any STL file and it can be used in&#xA0;operations against your model.</p>
<p><img class="alignnone size-large wp-image-44694589" src="http://www.stefangordon.com/wp-content/uploads/2016/01/openscad_0-1024x785.png" alt="openscad_0" width="600"></p>
<p>From here you are ready to model. &#xA0;Keep in mind the scale of the model is probably incorrect, so make a single measurement of something in the model and apply an appropriate scaler. &#xA0;In my case I just adjusted the scale of the imported model until the width of the GoPro was correct.</p>
<p>I built out my model using the imported data as context, so it was easy to know what shape would fit and get it right the first time.</p>
<p><a href="http://www.stefangordon.com/wp-content/uploads/2016/01/openscad_1.png"><img class="alignnone size-large wp-image-44694590" src="http://www.stefangordon.com/wp-content/uploads/2016/01/openscad_1-1024x603.png" alt="openscad_1" width="600"></a></p>
<p>My design was very simple, but it did have several beveled corners to fit in the cavity, and fit perfectly the first time. &#xA0;It&#x2019;s designed to hold a rubber band over the GoPro for easy removal.</p>
<p>End to end this process took under an hour, so I look forward to using it in the future for more complex projects.</p>
<p><a href="http://www.stefangordon.com/wp-content/uploads/2016/01/IMG_20151221_140036.jpg"><img class="alignnone size-large wp-image-44694596" src="http://www.stefangordon.com/wp-content/uploads/2016/01/IMG_20151221_140036-1024x768.jpg" alt="final_gopro" width="600"></a></p>
 <div class="ssba ssba-wrap"></div> </div> 
 
</div>
</body></html>
