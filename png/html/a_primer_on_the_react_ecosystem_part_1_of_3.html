<!DOCTYPE html><html><head><title>A Primer on the React Ecosystem: Part 1 of 3</title></head><body>
<h1>A Primer on the React Ecosystem: Part 1 of 3</h1><p><a href="http://patternhatch.com/2016/07/06/a-primer-on-the-react-ecosystem-part-1-of-3/" target="_new">Original URL</a></p>
<p><blockquote>Updates 2016.07.05: First publication Introduction I&#x2019;ve been using the React ecosystem extensively at work during the past eight months. We&#x2019;ve built apps to help us monitor our trading&hellip;</blockquote></p>
<div><div class="entry-content clearfix">
									
<p><strong id="updates">Updates</strong><br>
2016.07.05: First publication</p>
<p><strong id="introduction">Introduction</strong><br>
I&#x2019;ve been using the React ecosystem extensively at work during the past eight months. We&#x2019;ve built apps to help us monitor our trading positions, edit our pre-trade risk checks, and control our strategies.</p>
<p>It&#x2019;s proven a fantastic ecosystem to work with given its composable nature&#xA0;and approachable learning curve. With React, it&#x2019;s&#xA0;become almost fun to deliver a consumer-grade UI for Enterprise use.</p>
<p>I thought I&#x2019;d share what I&#x2019;ve learned so far through a primer. Over three parts, I&#x2019;m going to show you how to:</p>
<ul>
<li>set up an environment for React app development,</li>
<li>create React components and have them respond to data changes,</li>
<li>manage app state with Redux.</li>
</ul>
<p>If you&#x2019;re approaching the React ecosystem for the first time,&#xA0;my hope is that by the end of this primer you&#x2019;ll be comfortable enough to start building apps of your own.</p>
<p><strong id="installment">In This Installment</strong><br>
In Part One, we&#x2019;ll be setting up a basic environment for developing React-based apps. By the end of this post, you&#x2019;ll have a working environment which builds your app and dynamically reloads whenever you make a change. We&#x2019;ll also have created our first React component.</p>
<p><strong id="prerequisite">Prerequisites</strong><br>
I assume you&#x2019;re familiar with <a href="https://nodejs.org" target="_blank">Node</a> and <a href="https://www.npmjs.com/" target="_blank">NPM</a> and have them installed. You should also be familiar&#xA0;with Javascript ES6. You don&#x2019;t need to be an expert in ES6, but know the major additions such as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank">arrow functions</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank">destructuring</a>.</p>
<p>As of this writing, I am using Node 6.2.0&#xA0;and NPM 3.8.9.</p>
<p><strong id="code">The Code</strong><br>
You can find all the code for Part One <a href="https://github.com/nitinpunjabi/respotify/tree/part01" target="_blank">here</a>. Each part will have its own branch with the <a href="https://github.com/nitinpunjabi/respotify/tree/master" target="_blank">master</a> branch containing all the code written so far.</p>
<p><strong id="description">Project Description</strong><br>
We&#x2019;re going to build an app which hooks up to the <a href="https://www.spotify.com" target="_blank">Spotify</a> backend. Our app will allow a user to:</p>
<ul>
<li>retrieve the albums of&#xA0;an artist,</li>
<li>retrieve the tracks for a given album,</li>
<li>play the opening 30 seconds of a track.</li>
</ul>
<p>Here&#x2019;s a mockup:</p>
<p><img class="alignnone size-full wp-image-546" src="http://patternhatch.com/wp-content/uploads/2016/06/mockup-300x250.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-500x417.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-150x125.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-400x334.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-200x167.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup.png%20712w" alt="mockup.png" width="712">Using Spotify&#x2019;s backend will allow us to stay focused on frontend development.</p>
<p><strong id="creation">Project Creation</strong><br>
Let&#x2019;s start by creating our project.</p>

		<div id="crayon-577c69b070bae929484711" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bae929484711-1"><span class="crayon-e">mkdir </span><span class="crayon-e">respotify</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bae929484711-2"><span class="crayon-e">cd </span><span class="crayon-e">respotify</span></p><p class="crayon-line" id="crayon-577c69b070bae929484711-3"><span class="crayon-e">npm </span><span class="crayon-v">init</span><span class="crayon-o">-</span><span class="crayon-v">y</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>This should create&#xA0;a&#xA0;<em>package.json</em> file in your project&#x2019;s root directory.</p>
<p>Next, create a&#xA0;<em>src&#xA0;</em>directory in your project&#x2019;s root directory. In the&#xA0;<em>src</em> directory, create <em>index.html</em>:</p>

		<div id="crayon-577c69b070bc5185664826" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bc5185664826-1"><span class="crayon-n">&lt;!DOCTYPE html&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bc5185664826-2"><span class="crayon-r ">&lt;html&gt;</span></p><p class="crayon-line" id="crayon-577c69b070bc5185664826-3"><span class="crayon-r ">&lt;head&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bc5185664826-4"><span class="crayon-r ">&lt;title&gt;</span><span class="crayon-i ">Respotify</span><span class="crayon-r ">&lt;/title&gt;</span></p><p class="crayon-line" id="crayon-577c69b070bc5185664826-5"><span class="crayon-r ">&lt;/head&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bc5185664826-6"><span class="crayon-r ">&lt;body&gt;</span></p><p class="crayon-line" id="crayon-577c69b070bc5185664826-7"><span class="crayon-r ">&lt;h1&gt;</span><span class="crayon-i ">Respotify</span><span class="crayon-r ">&lt;/h1&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bc5185664826-8"><span class="crayon-r ">&lt;div </span><span class="crayon-e ">id</span><span class="crayon-o">=</span><span class="crayon-s ">"container"</span><span class="crayon-r ">&gt;</span><span class="crayon-r ">&lt;/div&gt;</span></p><p class="crayon-line" id="crayon-577c69b070bc5185664826-9"><span class="crayon-i ">&#xA0;&#xA0;&#xA0;&#xA0;<span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bc5185664826-10"><span class="crayon-r ">&lt;/body&gt;</span></p><p class="crayon-line" id="crayon-577c69b070bc5185664826-11"><span class="crayon-r ">&lt;/html&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><em>index.html</em> is the entry point for our app. There are two lines of interest here:</p>

		<div id="crayon-577c69b070bce992009294" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bce992009294-8"><span class="crayon-r ">&lt;div </span><span class="crayon-e ">id</span><span class="crayon-o">=</span><span class="crayon-s ">"container"</span><span class="crayon-r ">&gt;</span><span class="crayon-r ">&lt;/div&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bce992009294-9"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 8]</strong> Our React components will be rendered inside the <em>container</em> div. This will become clear later in this post.</p>
<p><strong>[Line 9]</strong> The build process we&#x2019;re going to put together will combine all our JS files into a single <em>bundle.js</em> file, which is then pulled in by <em>index.html</em> and executed.</p>
<p>Next, create&#xA0;<em>index.js</em>:</p>

		<div id="crayon-577c69b070bd6803279412" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bd6803279412-1"><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'Hello, world!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><em>index.js</em> is the primary Javascript file for our app.&#xA0;For now, we&#x2019;ll just have it log something to the console to ensure our build process works.</p>
<p>At this point, your project should look like this:</p>

		<div id="crayon-577c69b070bde982509594" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bde982509594-1"><span class="crayon-v">respotify</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bde982509594-2"><span class="crayon-o">-</span><span class="crayon-v">src</span></p><p class="crayon-line" id="crayon-577c69b070bde982509594-3"><span class="crayon-o">--</span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">html</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bde982509594-4"><span class="crayon-o">--</span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p><p class="crayon-line" id="crayon-577c69b070bde982509594-5"><span class="crayon-o">--</span><span class="crayon-t">package</span><span class="crayon-sy">.</span><span class="crayon-v">json</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong id="webpack">Webpack</strong><br>
We&#x2019;ll now start putting together our build environment from scratch. You may have heard of React boilerplate projects such as <a href="https://github.com/kriasoft/react-starter-kit" target="_blank">this</a> which provide complete development setups. While they&#x2019;re useful, I feel it&#x2019;s instructive to know how to create at least a basic setup yourself so that you know the major things that are happening under the hood.</p>
<p>Our build environment starts with <a href="https://webpack.github.io/" target="_blank">Webpack</a>. At its simplest, Webpack bundles your assets for you. And while there are a number of bundlers out there, Webpack has gained traction in the React community for other features it offers; a few of which we&#x2019;ll be using.</p>
<p>Let&#x2019;s start by installing Webpack:</p>

		<div id="crayon-577c69b070be7852277787" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070be7852277787-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">webpack</span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Once the installation is complete, check your&#xA0;<em>package.json</em> file for&#xA0;whether Webpack is under your&#xA0;<em>devDependencies.</em></p>
<p>We want Webpack to do two things:</p>
<ol>
<li>Take our application code and generate static assets from the code.</li>
<li>Start a development server to serve up the assets.</li>
</ol>
<p>Since Webpack is driven by configuration, we&#x2019;ll start there.&#xA0;Create&#xA0;a file called&#xA0;<em>webpack.config.js</em> in the project&#x2019;s root folder:</p>

		<div id="crayon-577c69b070bef213781444" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bef213781444-1"><span class="crayon-m">const</span><span class="crayon-v">webpack</span><span class="crayon-o">=</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'webpack'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-2"><span class="crayon-m">const</span><span class="crayon-v">path</span><span class="crayon-o">=</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'path'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-4"><span class="crayon-m">const</span><span class="crayon-v">PATHS</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-5"><span class="crayon-v">app</span><span class="crayon-o">:</span><span class="crayon-s">'./src/index.js'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-6"><span class="crayon-v">dist</span><span class="crayon-o">:</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-sy">,</span><span class="crayon-s">'dist'</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-9"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-10"><span class="crayon-v">entry</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-11"><span class="crayon-v">javascript</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-i">app</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-13"><span class="crayon-v">output</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-14"><span class="crayon-v">path</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-v">dist</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-15"><span class="crayon-v">publicPath</span><span class="crayon-o">:</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-16"><span class="crayon-v">filename</span><span class="crayon-o">:</span><span class="crayon-s">'bundle.js'</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070bef213781444-18"><span class="crayon-v">devServer</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-577c69b070bef213781444-19"><span class="crayon-v">contentBase</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-i">dist</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let&#x2019;s go through this.</p>
<p>At the top, we pull in the Webpack and Path modules, then define a few path constants for our app.</p>
<p><strong>[Line 9] </strong>This is where our Webpack configuration begins.</p>
<p><strong>[Line 10] </strong>This is the <a href="https://webpack.github.io/docs/configuration.html#entry" target="_blank">entry</a> point for what will eventually become our <em>bundle.js</em> file. In our case, we have a single JS file (<em>index.js</em>) serving as our entry point. Webpack will process <em>index.js</em> as well as any other JS file <em>index.js</em> declares as a dependency, and the dependencies of those dependencies and so on, eventually combining them into a single <em>bundle.js</em> file. Imagine a graph of dependencies collapsing into a single node.</p>
<p><strong>[Line 13]</strong> Here&#x2019;s where we set our <a href="https://webpack.github.io/docs/configuration.html#output" target="_blank">output</a> configuration. In this case, we&#x2019;re telling Webpack to:</p>
<ul>
<li>output the results of its compilation to a <em>dist</em> folder,</li>
<li>set the URL of the output files to the home path,</li>
<li>call the result of its compilation <em>bundle.js.</em></li>
</ul>
<p><strong>[Line 18]</strong> Here we&#x2019;re specifying that Webpack&#x2019;s <a href="https://webpack.github.io/docs/configuration.html#devserver" target="_blank">dev server</a> should serve assets from the <em>dist </em>folder.</p>
<p>Now try running this command in your terminal (make sure you&#x2019;re in your project&#x2019;s root directory and node is on your PATH):</p>

		<div id="crayon-577c69b070bfb368544898" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070bfb368544898-1"><span class="crayon-e">node </span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>You should see a&#xA0;<em>dist</em> folder created in your project&#x2019;s root directory with a <em>bundle.js</em> file in it.</p>
<p>If you look inside <em>bundle.js</em>, you&#x2019;ll see some Webpack-specific functionality along with our console.log statement near the bottom.</p>
<p>At this point, your project directory structure should look like this:</p>

		<div id="crayon-577c69b070c03527160827" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c03527160827-1"><span class="crayon-v">Respotify</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c03527160827-2"><span class="crayon-o">-</span><span class="crayon-v">dist</span></p><p class="crayon-line" id="crayon-577c69b070c03527160827-3"><span class="crayon-o">--</span><span class="crayon-v">bundle</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c03527160827-4"><span class="crayon-o">-</span><span class="crayon-v">node_modules</span></p><p class="crayon-line" id="crayon-577c69b070c03527160827-5"><span class="crayon-o">-</span><span class="crayon-v">src</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c03527160827-6"><span class="crayon-o">--</span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">html</span></p><p class="crayon-line" id="crayon-577c69b070c03527160827-7"><span class="crayon-o">--</span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c03527160827-8"><span class="crayon-o">--</span><span class="crayon-t">package</span><span class="crayon-sy">.</span><span class="crayon-v">json</span></p><p class="crayon-line" id="crayon-577c69b070c03527160827-9"><span class="crayon-o">--</span><span class="crayon-v">webpack</span><span class="crayon-sy">.</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Now what we also want is to serve this <em>bundle.js</em> file, referenced by&#xA0;<em>index.html</em>, which is currently <strong>not</strong> in the&#xA0;<em>dist</em> folder. So what we need is to have <em>index.html</em> copied to the&#xA0;<em>dist</em> folder.</p>
<p>To do that, we&#x2019;ll use the file-loader package. Install it like so:</p>

		<div id="crayon-577c69b070c0b694740823" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c0b694740823-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">file</span><span class="crayon-o">-</span><span class="crayon-v">loader</span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We&#x2019;ll modify our <em>webpack.config.js</em>&#xA0;file to include a reference to our <em>index.html</em> file. We&#x2019;ll also include a <em>module</em> object to specify our first <a href="https://webpack.github.io/docs/loaders.html" target="_blank">loader</a>. In essence, loaders are preprocessors which run on files as you require or load them. In this case, we&#x2019;re using the <a href="https://github.com/webpack/file-loader" target="_blank">file-loader</a> loader to copy <em>index.html</em> to our output (<em>dist</em>) directory. Add the following highlighted lines to your <em>webpack.config.js</em> file:</p>

		<div id="crayon-577c69b070c13696299815" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p>Now if we run the previous command again:</p>

		<div id="crayon-577c69b070c1c594927340" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c1c594927340-1"><span class="crayon-e">node </span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>You should see <em>index.html</em> copied over into the <em>dist</em> directory. The <em>dist</em> directory should now look like this:</p>

		<div id="crayon-577c69b070c23172355459" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c23172355459-1"><span class="crayon-v">dist</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c23172355459-2"><span class="crayon-o">--</span><span class="crayon-v">bundle</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p><p class="crayon-line" id="crayon-577c69b070c23172355459-3"><span class="crayon-o">--</span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">html</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>As we create our app, we&#x2019;ll need to keep re-compiling <em>bundle.js</em>. It&#x2019;s tedious to run the Webpack command each time. What if we could just have the build process run automatically on each change and our browser refresh to reflect them?</p>
<p>That&#x2019;s where <a href="https://webpack.github.io/docs/webpack-dev-server.html" target="_blank">Webpack Dev Server</a> comes into play. Let&#x2019;s start by installing it:</p>

		<div id="crayon-577c69b070c2b203342786" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c2b203342786-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">webpack</span><span class="crayon-o">-</span><span class="crayon-v">dev</span><span class="crayon-o">-</span><span class="crayon-v">server</span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Once installed, start the server with this command:</p>

		<div id="crayon-577c69b070c32605752852" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c32605752852-1"><span class="crayon-e">node </span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-o">-</span><span class="crayon-v">dev</span><span class="crayon-o">-</span><span class="crayon-v">server</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">webpack</span><span class="crayon-o">-</span><span class="crayon-v">dev</span><span class="crayon-o">-</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>That&#x2019;ll launch a dev server at <a href="http://localhost:8080/webpack-dev-server/" target="_blank">http://localhost:8080/webpack-dev-server/</a>.</p>
<p>If you visit that URL, you should see our web app:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev.png" rel="attachment wp-att-630"><img class="alignnone size-full wp-image-630" src="http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-300x176.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-768x450.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-500x293.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-150x88.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-400x235.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev-200x117.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_initial_dev.png%20771w" alt="respotify_initial_dev" width="771"></a>Try changing the h1 tag in <em>index.html</em> to something else and saving it. The Webpack dev server should automatically detect the change and reload. On each reload, you should also see the console log output from <em>index.js</em>. So what we have now is a dev server which serves our assets and reloads when it detects a change.</p>
<p>Let&#x2019;s round out this section by creating a few NPM scripts in our <em>package.json</em> file to make things more convenient.</p>
<p>Add the highlighted&#xA0;lines to the&#xA0;<em>scripts</em> object in&#xA0;<em>package.json</em>:</p>

		<div id="crayon-577c69b070c3b232604786" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c3b232604786-1"><span class="crayon-s">"scripts"</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-577c69b070c3b232604786-2"><span class="crayon-s">"start"</span><span class="crayon-o">:</span><span class="crayon-s">"node node_modules/webpack-dev-server/bin/webpack-dev-server.js"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-bottom" id="crayon-577c69b070c3b232604786-3"><span class="crayon-s">"build"</span><span class="crayon-o">:</span><span class="crayon-s">"node node_modules/webpack/bin/webpack.js"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c3b232604786-4"><span class="crayon-s">"test"</span><span class="crayon-o">:</span><span class="crayon-s">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>If you haven&#x2019;t stopped the webpack dev server, stop it. Then try launching the Webpack dev server with:</p>

		

<p>To run the build process manually, use:</p>

		

<p>At this point, we have a basic build process going. Next, we&#x2019;ll augment our build process to allow us to use the latest ES6 features.</p>
<p><strong id="babel">Babel</strong><br>
<a href="https://kangax.github.io/compat-table/es6/" target="_blank">ES6 support</a> varies amongst browsers. So how can you use all the ES6 features without worrying about compatibility issues? One solution is to transpile your ES6 code to ES5, and that&#x2019;s exactly what we&#x2019;ll be doing.</p>
<p>We&#x2019;ll be using <a href="http://babeljs.io/" target="_blank">Babel</a> for the job. We want Babel to do two things:</p>
<ul>
<li>Transpile&#xA0;our ES6 to ES5.</li>
<li>Transpile our <a href="https://facebook.github.io/react/docs/jsx-in-depth.html" target="_blank">JSX</a> to Javascript. JSX is a React DSL which resembles HTML. You&#x2019;ll learn all about it when we get to React.</li>
</ul>
<p>Start by installing these Babel packages:</p>

		<div id="crayon-577c69b070c53251064987" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c53251064987-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">babel</span><span class="crayon-o">-</span><span class="crayon-e">core </span><span class="crayon-v">babel</span><span class="crayon-o">-</span><span class="crayon-e">loader </span><span class="crayon-v">babel</span><span class="crayon-o">-</span><span class="crayon-v">preset</span><span class="crayon-o">-</span><span class="crayon-e">es2015 </span><span class="crayon-v">babel</span><span class="crayon-o">-</span><span class="crayon-v">preset</span><span class="crayon-o">-</span><span class="crayon-v">react</span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let&#x2019;s go through what each package does:</p>

<p>Before we get to incorporating Babel, let&#x2019;s make a change to <em>index.js</em> to include some ES6 code. Modify <em>index.js</em> to look like this:</p>

		<div id="crayon-577c69b070c5d221286301" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c5d221286301-1"><span class="crayon-m">const</span><span class="crayon-v">greeting</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-r">name</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c5d221286301-2"><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-sy">`</span><span class="crayon-v">Hello</span><span class="crayon-sy">,</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-r">name</span><span class="crayon-sy">}</span><span class="crayon-o">!</span><span class="crayon-sy">`</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-577c69b070c5d221286301-5"><span class="crayon-e">greeting</span><span class="crayon-sy">(</span><span class="crayon-s">'world'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Now execute&#xA0;<em>npm run build</em>, and look at the bottom of <em>bundle.js</em>. You should see the preceding function there in its original ES6 form. So no transpilation is taking place. With that in mind, let&#x2019;s incorporate Babel.</p>
<p>First, we&#x2019;ll add the babel-loader to our&#xA0;<em>webpack.config.js</em> file. Recall how we already use the file-loader to copy&#xA0;our <em>index.html</em> file to the <em>dist</em> folder. We&#x2019;ll add a second loader object now for Babel. Add the highlighted lines to your <em>module </em>object:</p>

		<div id="crayon-577c69b070c65620006059" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c65620006059-1"><span class="crayon-v">module</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c65620006059-2"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c65620006059-4"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">html</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-577c69b070c65620006059-5"><span class="crayon-v">loader</span><span class="crayon-o">:</span><span class="crayon-s">"file?name=[name].[ext]"</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-577c69b070c65620006059-8"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">js</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-577c69b070c65620006059-9"><span class="crayon-v">exclude</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-577c69b070c65620006059-10"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"babel-loader"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Here, we&#x2019;re asking Webpack to apply the babel-loader to all files with a .js extension which aren&#x2019;t in node_modules.</p>
<p>Next, create a <em>.babelrc</em> file in your project&#x2019;s root directory:</p>

		<div id="crayon-577c69b070c6d487124174" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c6d487124174-2"><span class="crayon-s">"presets"</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"react"</span><span class="crayon-sy">,</span><span class="crayon-s">"es2015"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Here we&#x2019;re asking Babel to use the <a href="https://babeljs.io/docs/plugins/" target="_blank">presets</a> we installed earlier.</p>
<p>That&#x2019;s it.</p>
<p>Execute <em>npm run build</em> again and check out <em>bundle.js</em>. Our <em>greeting</em> function should now be in its ES5 equivalent.</p>
<p>Ok, we&#x2019;re almost done. What&#xA0;we want next is&#xA0;the ability to reload React components whenever we make a change, without losing state information.</p>
<p><strong>Hot Module Replacement</strong><br>
Let&#x2019;s start by installing <a href="https://facebook.github.io/react/" target="_blank">React</a> and <a href="https://facebook.github.io/react/docs/top-level-api.html#reactdom" target="_blank">ReactDOM</a>, and then the <a href="https://gaearon.github.io/react-hot-loader/" target="_blank">React Hot Loader</a>. Note that we&#x2019;re installing React and ReactDOM as regular dependencies, and React Hot Loader&#xA0;as a dev dependency.</p>

		<div id="crayon-577c69b070c77686270151" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c77686270151-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-e">react </span><span class="crayon-v">react</span><span class="crayon-o">-</span><span class="crayon-v">dom</span><span class="crayon-o">--</span><span class="crayon-v">save</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>



		<div id="crayon-577c69b070c7e379628775" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c7e379628775-1"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">react</span><span class="crayon-o">-</span><span class="crayon-v">hot</span><span class="crayon-o">-</span><span class="crayon-v">loader</span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Next, have Webpack use the hot loader. Open <em>webpack.config.js</em> and modify the babel-loader like so:</p>

		<div id="crayon-577c69b070c85184356661" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c85184356661-1"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"react-hot"</span><span class="crayon-sy">,</span><span class="crayon-s">"babel-loader"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>It&#x2019;s important that <em>react-hot</em> gets <strong>prepended</strong> as webpack processes from right to left.</p>
<p>Next, open up <em>package.json</em> and edit the <em>start</em> npm script to look like this:</p>

		<div id="crayon-577c69b070c8c842584187" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c8c842584187-1"><span class="crayon-s">"start"</span><span class="crayon-o">:</span><span class="crayon-s">"node node_modules/webpack-dev-server/bin/webpack-dev-server.js --hot --inline"</span><span class="crayon-sy">,</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>At this point, we&#x2019;ve further augmented our dev setup to reload React components without losing state. But what does that actually mean? To answer that, we&#x2019;ll need to test drive our setup by creating a React component.</p>
<p><strong id="component">Our&#xA0;First React Component</strong><br>
Create a file in your <em>src</em> directory called <em>greeting.js:</em></p>

		<div id="crayon-577c69b070c94588070968" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c94588070968-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">"react"</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-577c69b070c94588070968-3"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-e">createClass</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c94588070968-4"><span class="crayon-v">render</span><span class="crayon-o">:</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-577c69b070c94588070968-5"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c94588070968-6"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"greeting"</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-577c69b070c94588070968-7"><span class="crayon-v">Hello</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-o">!</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c94588070968-8"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-577c69b070c94588070968-11"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We&#x2019;ve just created our first React component. Let&#x2019;s examine this line-by-line.</p>
<p><strong>[Line 1]</strong> At the top, we import React.</p>
<p><strong>[Line 3]</strong> We create a React component class with the <a href="https://facebook.github.io/react/docs/top-level-api.html#react.createclass" target="_blank">React.createClass</a> function, passing it a specification object describing our component.</p>
<p><strong>[Line 4]</strong> Every React component must have a <em>render</em> method, which returns the component&#x2019;s markup.</p>
<p><strong>[Lines 5-9]</strong> Inside the <em>render</em> method, we return a block of what looks like HTML&#x2013;A div element of class <em>greeting</em> wrapping a string. The string itself concatenates &#x2018;Hello, &#x2018; with a reference to some value.</p>
<p>We&#x2019;re going to dive into the details of Lines 5-9, but first, let&#x2019;s get this component on the screen.</p>
<p>Open <em>index.js</em> and modify it like so:</p>

		<div id="crayon-577c69b070c9e358472078" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070c9e358472078-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">"react"</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c9e358472078-2"><span class="crayon-e">import </span><span class="crayon-e">ReactDOM </span><span class="crayon-i">from</span><span class="crayon-s">"react-dom"</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-577c69b070c9e358472078-3"><span class="crayon-e">import </span><span class="crayon-e">Greeting </span><span class="crayon-i">from</span><span class="crayon-s">'./greeting'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-577c69b070c9e358472078-5"><span class="crayon-v">ReactDOM</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070c9e358472078-6"><span class="crayon-o">&lt;</span><span class="crayon-e">Greeting </span><span class="crayon-r">name</span><span class="crayon-o">=</span><span class="crayon-s">"World"</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-577c69b070c9e358472078-7"><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'container'</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We once again start by importing React. We then import ReactDOM which is the API for rendering to the DOM. We also import our <em>greeting</em> component.</p>
<p>We then call ReactDOM&#x2019;s render method, passing it two arguments:</p>
<ol>
<li>The component we want to render.</li>
<li>Where we wish to render the component.</li>
</ol>
<p>In our case, we want to render our <em>greeting</em> component in a div with id&#xA0;<em>container</em>. Recall that this&#xA0;<em>container</em> div is in&#xA0;<em>index.html</em>.</p>
<p>Note what the first argument looks like. We pass our <em>greeting</em> component as if it&#x2019;s an HTML element. We also include a key value pair where the key is <em>name</em> and the value is &#x201C;World&#x201D;. <em>name</em> then becomes a <strong>property</strong> of this particular <em>greeting</em> component.</p>
<p>In essence, what we&#x2019;re stating in <em>index.js</em> is this:</p>
<p><strong>Render a <em>greeting</em> component, assigning it a <em>name</em> property with value &#x201C;World&#x201D;, and render this component inside a div with id <em>container</em>.</strong></p>
<p>Now when the <em>greeting</em> component renders, it should retrieve the <em>name</em> property and include its value in the string. Restart the dev server and verify the component renders as expected:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component.png" rel="attachment wp-att-633"><img class="alignnone size-full wp-image-633" src="http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component-300x177.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component-500x295.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component-400x236.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component-200x118.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_first_component.png%20725w" alt="respotify_first_component" width="725"></a>To test the hot reload, try&#xA0;wrapping the string from&#xA0;<em>greeting.js</em>&#xA0;in h1 tags like so:</p>

		<div id="crayon-577c69b070ca9665509670" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070ca9665509670-7"><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-v">Hello</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-o">!</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Save it and you should see the component update in place without requiring a full reload.</p>
<p>Now let&#x2019;s take a step back and revisit this fragment from <em>greeting.js</em>:</p>

		<div id="crayon-577c69b070cb1091420531" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070cb1091420531-5"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070cb1091420531-6"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"greeting"</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-577c69b070cb1091420531-7"><span class="crayon-v">Hello</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-o">!</span></p><p class="crayon-line crayon-striped-line" id="crayon-577c69b070cb1091420531-8"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The markup we&#x2019;re returning is actually JSX, a React-specific DSL that&#x2019;s convenient for describing tree structures, much like HTML. Our Babel setup then takes this JSX and transpiles it to its equivalent plain Javascript. This leads to two important things to keep in mind:</p>
<ol>
<li>JSX is <strong>not</strong> an extension to Javascript.</li>
<li>JSX is not necessary. You can use plain Javascript method calls instead.</li>
</ol>
<p>To demonstrate the second point, let&#x2019;s use the <a href="http://babeljs.io/repl/" target="_blank">Babel REPL</a>. On the REPL, make sure the <em>ES2015</em> and <em>React</em> preset boxes are checked. Copy the entire contents of <em>greeting.js</em> into the editor box on the left, and note the transpiled output of the&#xA0;<em>render</em> method on the right. A fragment such as this:</p>

		<div id="crayon-577c69b070cba178369619" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070cba178369619-1"><span class="crayon-r ">&lt;div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s ">"greeting"</span><span class="crayon-r "> /&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>gets transpiled to:</p>

		<div id="crayon-577c69b070cc0590794291" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070cc0590794291-1"><span class="crayon-v">_react2</span><span class="crayon-sy">.</span><span class="crayon-st">default</span><span class="crayon-sy">.</span><span class="crayon-e">createElement</span><span class="crayon-sy">(</span><span class="crayon-s">"div"</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-v">className</span><span class="crayon-o">:</span><span class="crayon-s">"greeting"</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The preceding plain Javascript code is something you can use directly. However, I recommend sticking with JSX as it makes React components easier to both read and write. The fact that it looks like HTML also helps lessen the learning curve. Of course, since JSX is really Javascript, there are a few differences such as JSX&#x2019;s <em>className</em> vs HTML&#x2019;s <em>class</em>. We&#x2019;ll be diving into more JSX in future installments. For now, here&#x2019;s Facebook&#x2019;s <a href="https://facebook.github.io/react/docs/jsx-in-depth.html" target="_blank">guide</a> for more information.</p>
<p>Let&#x2019;s turn our attention now to this line inside the div element:</p>

		

<p>In JSX, anything enclosed in curly braces is a Javascript expression. So here, we are accessing this component&#x2019;s <em>props</em> object, and in turn, accessing the <em>name</em> property on the <em>props</em>.</p>
<p>Recall this line from <em>index.js</em>:</p>

		<div id="crayon-577c69b070cd0228965916" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-577c69b070cd0228965916-6"><span class="crayon-o">&lt;</span><span class="crayon-e">Greeting </span><span class="crayon-r">name</span><span class="crayon-o">=</span><span class="crayon-s">"World"</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>When you instantiate a component, you can pass a number of key-value pairs representing that component&#x2019;s <em>state</em>. So when we instantiated our <em>greeting</em> component, we also specified that it should have a piece of state called <em>name</em>, and the value of that state should be &#x201C;World&#x201D;.</p>
<p>Inside the actual <em>greeting</em> component, that state is then available through the component&#x2019;s <em>props</em> object, using the same <em>name </em>label. When the expression inside the curly braces then gets evaluated, it results in &#x201C;Hello, World&#x201D; getting rendered to the browser.</p>
<p>One key thing to keep in mind is that props are immutable. In other words, once state is passed down to a component, the receiving component can no longer change it. This can help with making your component easier to reason about and debug, as well as isolating state management to only a few modules.</p>
<p>Try changing the value of <em>name</em> to your own name in <em>index.js. </em>You should see Webpack detect the change and automatically reload,&#xA0;resulting in the&#xA0;<em>greeting</em> component receiving the new state.</p>
<p>If you&#x2019;ve followed along and got everything working, then congratulations. You just created a build process and development environment for React-based apps which bundles, transpiles, and hot-reloads. In addition, you created a&#xA0;React component. Keep in mind that you can add a lot more to an environment such as minification, selective bundling, and enabling and disabling various tool features based on where you&#x2019;re deploying to. But for our purposes, this suffices.</p>
<p>In the next installment, we&#x2019;ll dive further into React by creating more components and building out our Spotify client. We&#x2019;ll also add linting to help keep our code tidy.</p>
<p>Expect the next installment to come in about two weeks from the date of this publication. Until then, if you have any comments, suggestions, or corrections, please feel free to post them in the comments or shoot me an <a href="http://patternhatch.com/about/">email</a>.</p>
									
																	</div>
								
								
																			
											
																	</div>
</body></html>
