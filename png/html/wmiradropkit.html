<!DOCTYPE html><html><head><title>wmira/dropkit</title></head><body>
<h1>wmira/dropkit</h1><p><a href="https://github.com/wmira/dropkit" target="_new">Original URL</a></p>
<p><blockquote>dropkit dropkit is a node.js module for Digital Ocean's V2 REST API. Usage: npm install --save dropkit DropKit uses BlueBird and returns promises. var Dropkit</blockquote></p>
<div><article class="markdown-body entry-content"><h2><a id="user-content-dropkit" class="anchor" href="https://github.com/wmira/dropkit#dropkit"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>dropkit</h2>

<p>dropkit is a node.js module for Digital Ocean's V2 REST API.</p>

<p><a href="https://travis-ci.org/wmira/dropkit"><img src="https://camo.githubusercontent.com/9c06af63a6a5186e5054b4251875ec21328fb30d/68747470733a2f2f7472617669732d63692e6f72672f776d6972612f64726f706b69742e7376673f6272616e63683d6d6173746572" alt="Build Status"></a></p>

<h2><a id="user-content-usage" class="anchor" href="https://github.com/wmira/dropkit#usage"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Usage:</h2>

<p>npm install --save dropkit</p>

<p>DropKit uses <a href="https://github.com/petkaantonov/bluebird">BlueBird</a> and returns promises.</p>

<div class="highlight highlight-source-js"><pre> <span class="pl-k">var</span> Dropkit <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">"</span>dropkit<span class="pl-pds">"</span></span>);
 <span class="pl-k">var</span> v2 <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Dropkit</span>(<span class="pl-s"><span class="pl-pds">"</span>TOKEN<span class="pl-pds">"</span></span>);


 <span class="pl-smi">v2</span>.<span class="pl-en">accounts</span>().<span class="pl-en">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">account</span>) {
 <span class="pl-en">console</span>.<span class="pl-c1">log</span>(account);
 }).<span class="pl-en">error</span>(<span class="pl-k">function</span>(<span class="pl-smi">error</span>) {
 <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">"</span>httpStatusCode: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">error</span>.<span class="pl-smi">statusCode</span>);
 <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">"</span>response: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">error</span>.<span class="pl-smi">res</span>);
 });</pre></div>

<h2><a id="user-content-api" class="anchor" href="https://github.com/wmira/dropkit#api"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>API:</h2>

<p>See the DigitalOcean's <a href="https://developers.digitalocean.com/#introduction">V2 Rest API</a> for return definition</p>

<h2><a id="user-content-accounts" class="anchor" href="https://github.com/wmira/dropkit#accounts"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Accounts</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">accounts</span>();

 <span class="pl-smi">v2</span>.<span class="pl-smi">account</span>.<span class="pl-en">keys</span>(); <span class="pl-c">//return all keys</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">account</span>.<span class="pl-en">keys</span>(keyIdOrFingerPrint); <span class="pl-c">//retrieve key info</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">account</span>.<span class="pl-en">keys</span>({name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>keyname<span class="pl-pds">'</span></span>,public_key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>ssh-rsa ...<span class="pl-pds">"</span></span>}); <span class="pl-c">//create a new key</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">account</span>.<span class="pl-smi">key</span>.<span class="pl-en">update</span>(keyIdOrFingerPrint,newname);
 <span class="pl-smi">v2</span>.<span class="pl-smi">account</span>.<span class="pl-smi">key</span>.<span class="pl-en">destroy</span>(keyIdOrFingerPrint);

</pre></div>

<h2><a id="user-content-actions" class="anchor" href="https://github.com/wmira/dropkit#actions"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Actions</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">actions</span>(); <span class="pl-c">//list all actions</span>
 <span class="pl-smi">v2</span>.<span class="pl-en">actions</span>({page<span class="pl-k">=</span><span class="pl-c1">1</span>,per_page<span class="pl-k">=</span><span class="pl-c1">2</span>}); <span class="pl-c">//pass parameter on action list</span>
 <span class="pl-smi">v2</span>.<span class="pl-en">actions</span>(actionId); <span class="pl-c">//retrieve specific actionid</span>
</pre></div>

<h2><a id="user-content-domains" class="anchor" href="https://github.com/wmira/dropkit#domains"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Domains</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">domains</span>(); <span class="pl-c">//list all domains</span>
 <span class="pl-smi">v2</span>.<span class="pl-en">domains</span>(domainName); <span class="pl-c">//get domain info</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">domain</span>.<span class="pl-en">create</span>({name<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">'</span>domain.com<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ip_address<span class="pl-pds">'</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>});
 <span class="pl-smi">v2</span>.<span class="pl-smi">domain</span>.<span class="pl-en">delete</span>(<span class="pl-s"><span class="pl-pds">"</span>domain.com<span class="pl-pds">"</span></span>); <span class="pl-c">//delete</span></pre></div>

<h2><a id="user-content-domain-records" class="anchor" href="https://github.com/wmira/dropkit#domain-records"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Domain Records</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">records</span>(domainName); <span class="pl-c">//list all records for a given domain</span>
 <span class="pl-smi">v2</span>.<span class="pl-en">records</span>(domainName,recordId);<span class="pl-c">//return info for a particular record id</span>

 <span class="pl-c">//create a new data, where recordData is https://developers.digitalocean.com/#create-a-new-domain-record</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">record</span>.<span class="pl-en">create</span>(domainName,recordData);

 <span class="pl-smi">v2</span>.<span class="pl-smi">record</span>.<span class="pl-en">update</span>(domainName,recordId,<span class="pl-s"><span class="pl-pds">"</span>newrecordname<span class="pl-pds">"</span></span>);<span class="pl-c">//update the name of a record</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">record</span>.<span class="pl-en">delete</span>(domainName,recordId); <span class="pl-c">//delete the record id</span></pre></div>

<h2><a id="user-content-droplets" class="anchor" href="https://github.com/wmira/dropkit#droplets"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Droplets</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">droplets</span>(); <span class="pl-c">//return list of droplets</span>
 <span class="pl-smi">v2</span>.<span class="pl-en">droplets</span>(dropletId); <span class="pl-c">//return info for droplet id</span>

 <span class="pl-smi">v2</span>.<span class="pl-en">droplet_upgrades</span>(); <span class="pl-c">//return droplet upgrades</span>

 <span class="pl-c">//create a droplet where droplet is https://developers.digitalocean.com/#create-a-new-droplet</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-en">create</span>(droplet);

 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-en">kernels</span>(dropletId);
 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-en">snapshots</span>(dropletId);
 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-en">backups</span>(dropletId);
 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-en">delete</span>(dropletId);

 <span class="pl-c">//action here can be disable_backups,reboot,power_cycle,shutdown,power_off,power_on,restore,password_reset ..etc</span>
 <span class="pl-c">//see https://developers.digitalocean.com/#droplet-actions</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">droplet</span>.<span class="pl-c1">action</span>(dropletId,action);
</pre></div>

<h2><a id="user-content-droplets-1" class="anchor" href="https://github.com/wmira/dropkit#droplets-1"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Droplets</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-c1">images</span>(); <span class="pl-c">//return all images</span>
 <span class="pl-smi">v2</span>.<span class="pl-c1">images</span>({type<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>distribution<span class="pl-pds">"</span></span>}); <span class="pl-c">//list all distribution images</span>
 <span class="pl-smi">v2</span>.<span class="pl-c1">images</span>({type<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>application<span class="pl-pds">"</span></span>}); <span class="pl-c">//list all application images</span>
 <span class="pl-smi">v2</span>.<span class="pl-c1">images</span>(id); <span class="pl-c">//retrieve an image id</span>

 <span class="pl-smi">v2</span>.<span class="pl-smi">image</span>.<span class="pl-en">update</span>(id,<span class="pl-s"><span class="pl-pds">"</span>newName<span class="pl-pds">"</span></span>); <span class="pl-c">//update name of id</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">image</span>.<span class="pl-en">delete</span>(id); <span class="pl-c">//as specified</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">image</span>.<span class="pl-en">transfer</span>(imageId,<span class="pl-s"><span class="pl-pds">'</span>nyc2<span class="pl-pds">'</span></span>); <span class="pl-c">//transfer image id to specified region</span>
 <span class="pl-smi">v2</span>.<span class="pl-smi">image</span>.<span class="pl-c1">action</span>(imageId,actionId); <span class="pl-c">//retrieve actionId</span>
</pre></div>

<h2><a id="user-content-others" class="anchor" href="https://github.com/wmira/dropkit#others"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Others</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-smi">v2</span>.<span class="pl-en">regions</span>();
 <span class="pl-smi">v2</span>.<span class="pl-en">sizes</span>();</pre></div>

<h2><a id="user-content-dev" class="anchor" href="https://github.com/wmira/dropkit#dev"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Dev</h2>



<h2><a id="user-content-todo" class="anchor" href="https://github.com/wmira/dropkit#todo"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>TODO</h2>


</article>
 </div>
</body></html>
