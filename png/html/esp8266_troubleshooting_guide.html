<!DOCTYPE html><html><head><title>ESP8266 Troubleshooting Guide</title></head><body>
<h1>ESP8266 Troubleshooting Guide</h1><p><a href="http://randomnerdtutorials.com/esp8266-troubleshooting-guide/" target="_new">Original URL</a></p>
<p><blockquote>The ESP8266 has a few common issues,&#xA0;specially&#xA0;when you are trying to flash a new firmware&#xA0;or&#xA0;uploading scripts. This is a companion guide to the Home Automation using ESP8266 and&hellip;</blockquote></p>
<div><div class="entry-content"><p>The ESP8266 has a few common issues,&#xA0;specially&#xA0;when you are trying to flash a new firmware&#xA0;or&#xA0;uploading scripts.</p>
<p><em>This is a companion guide to the <a href="http://randomnerdtutorials.com/home-automation-using-esp8266/" target="_blank">Home Automation using ESP8266</a> and <a href="http://randomnerdtutorials.com/password-protected-web-server/" target="_blank">Password Protected Web Server</a>&#xA0;eBooks.</em></p>
<p>Here&#x2019;s a compilation&#xA0;with&#xA0;some of the most&#xA0;common problems with the ESP8266 and how to fix them.</p>
<h2>ESP8266 Troubleshooting &#x2013; NodeMCU Flasher</h2>
<h4><strong>Where do I&#xA0;download the NodeMCU flasher?</strong></h4>
<p>Go to the NodeMCU flasher GitHub repository and download the flasher for your Windows PC bit version by clicking the button that says &#x201C;Raw&#x201D;:</p>
<ul>
<li><a href="https://github.com/nodemcu/nodemcu-flasher/blob/master/Win64/Release/ESP8266Flasher.exe" target="_blank">NodeMCU flasher Windows 64 bits</a></li>
<li><a href="https://github.com/nodemcu/nodemcu-flasher/blob/master/Win32/Release/ESP8266Flasher.exe" target="_blank">NodeMCU flasher Windows 32 bits</a></li>
</ul>
<h4><strong>Which settings should I use with the NodeMCU flasher?</strong></h4>
<p>The NodeMCU flasher already comes with the right settings by default.</p>
<p>If you have changed some of the settings, I highly recommend that you re-download the NodeMCU flasher.</p>
<p>Here&#x2019;s my current settings:</p>
<p><img class="aligncenter size-full wp-image-16811" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-flasher.png?resize=300%2C174%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-flasher.png?w=572%20572w" alt="nodemcu flasher"></p>
<h4><strong>After I press&#xA0;the &#x201C;Flash&#x201D; button nothing happens, the NodeMCU flasher doesn&#x2019;t start the flashing process&#xA0;</strong></h4>
<p>If you pressed&#xA0;the &#x201C;Flash&#x201D; button&#xA0;and nothing happens&#x2026; It means one of these two things:</p>
<ul>
<li>Problem 1 &#x2013; Your ESP isn&#x2019;t&#xA0;in flash mode (double-check if GPIO 0 is connected to GND on power up)</li>
<li>Problem 2 &#x2013; Your FTDI Programmer can&#x2019;t supply enough current to your ESP</li>
</ul>
<p><img class="aligncenter size-full wp-image-16813" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nothing-happens.png?resize=300%2C174%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nothing-happens.png?w=571%20571w" alt="nothing happens"></p>
<p><strong>Problem 1</strong> &#x2013; How to make your ESP go into&#xA0;flash mode:</p>
<ol>
<li>Close the NodeMCU flasher window</li>
<li>Remove power from your ESP8266</li>
<li>Having your ESP connected like <a href="http://randomnerdtutorials.com/wp-content/uploads/2015/02/ESP8266-Flasher.png" target="_blank">this</a> (double check that GPIO 0 is connected to GND)</li>
<li>Apply power to your ESP8266 and open the NodeMCU flasher</li>
<li>Press the &#x201C;Flash&#x201D; button</li>
</ol>
<p>If it&#x2019;s still saying &#x201C;Waiting MAC&#x201D;, then try the following:</p>
<ol>
<li>Having the NodeMCU flasher still open</li>
<li>Connect a wire from your ESP8266 reset pin to GND</li>
<li>Remove that wire from GND and connect to VCC</li>
</ol>
<p>Repeat steps 2 and 3 a few times until your ESP reboots and hopefully the NodeMCU flasher can detect your ESP and start the flashing process.</p>
<p><strong>Problem 2 &#x2013; </strong>If your FTDI can&#x2019;t supply enough current, you might need to buy a new FTDI programmer or power your ESP8266 with an external power supply.</p>
<h4><strong>NodeMCU flasher gets stuck at a certain percentage</strong></h4>
<p><img class="aligncenter wp-image-16825" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-stuck.png?resize=300%2C177%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-stuck.png?w=561%20561w" alt="nodemcu stuck"></p>
<ol>
<li>Remove power from your ESP+FTDI:</li>
<li>Close the NodeMCU flasher window</li>
<li>Plug your ESP+FTDI to your computer again</li>
<li>Open NodeMCU flasher and try the 19200 baud rate</li>
</ol>
<p>If this process fails, please repeat the same procedure for the next baud rates (38400, 57600, 74880 and 115200).</p>
<p>I don&#x2019;t know why, but at least 5&#xA0;people faced the same problem and this trick solved it. So at a baud rate of 57600 or 115200 I think it will flash 100%. I don&#x2019;t have any logical explanation, since this is not very common.</p>
<h4><strong>How does the&#xA0;NodeMCU flasher should look after a successful flash?</strong></h4>
<p>It should have a green arrow in the bottom left.</p>
<p><img class="aligncenter wp-image-16814" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-flasher-flashed.png?resize=300%2C176%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-flasher-flashed.png?resize=768%2C450%20768w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/nodemcu-flasher-flashed.png?w=813%20813w" alt="nodemcu flasher flashed"></p>
<h4><strong>Unbricking the FTDI Programmer on Windows PC</strong></h4>
<p>If you have a brand new FTDI Programmer and you need to install your FTDI drivers on Windows, visit this website for the official drivers: http://www.ftdichip.com/Drivers/VCP.htm.</p>
<p>In alternative, you can contact the seller that sold you the FTDI Programmer.</p>
<p>If you&#x2019;re having trouble installing the FTDI drivers on Windows 7/8/8.1/10 it&#x2019;s very likely that FTDI is bricked.</p>
<p>Follow this tutorial to fix that: http://youtu.be/SPdSKT6KdF8.</p>
<p>In the video I mentioned earlier, the guy tells you to download the drivers from the FTDI website, read carefully the YouTube description of his video to find all the links. Here&#x2019;s the drivers you need:&#xA0;http://www.ftdichip.com/Drivers/CDM/CDM%20v2.12.00%20WHQL%20Certified.zip</p>
<h2>ESP8266 Troubleshooting &#x2013; ESPlorer IDE</h2>
<h4><strong>ESPlorer IDE Error: only one tcp server allowed</strong></h4>
<p>This means that you tried to upload multiple scripts and you ESP is still running the old script with a web server.&#xA0;To fix it, you simply need to&#xA0;send these commands to delete all the files and restart your ESP:</p>
<ol>
<li>file.format()</li>
<li>node.restart()</li>
</ol>

<h4><strong>ESPlorer IDE Error: can&#x2019;t autodetect firmware</strong></h4>
<p><img class="aligncenter size-full wp-image-16816" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/cant-autodetect-firmware.png?resize=300%2C130%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/cant-autodetect-firmware.png?w=590%20590w" alt="can't autodetect firmware"></p>
<p>This sounds like your ESP it&#x2019;s still in flash mode.&#xA0;How to make your ESP go into user&#xA0;mode:</p>
<ol>
<li>Close the&#xA0;ESPlorer IDE connection</li>
<li>Remove power from your ESP8266</li>
<li>Having your ESP&#xA0;with GPIO 0 connected to VCC</li>
<li>Apply power to your ESP8266 and&#xA0;re-establish the connection with ESPlorer IDE</li>
</ol>
<p>If it&#x2019;s still saying &#x201C;can&#x2019;t autodetect firmware&#x201D;, then try the following:</p>
<ol>
<li>Having the&#xA0;ESPlorer IDE connection still printing &#x201C;&#x2026;..&#x201D;</li>
<li>Connect a wire from your ESP8266 reset pin to GND</li>
<li>Remove that wire from GND and connect to VCC</li>
</ol>
<p>Repeat steps 2 and 3 a few times until your ESP reboots and hopefully the ESPlorer IDE&#xA0;can detect your ESP.</p>
<h4><strong>My code disappears when I restart the ESP8266</strong></h4>
<p>If you upload a script&#xA0;to your ESP and when you restart it your ESP doesn&#x2019;t do anything.&#xA0;It means that your ESP couldn&#x2019;t find the script or it occurred a memory issue.</p>
<p>This can be solved like this:</p>
<ol>
<li>You didn&#x2019;t save your script with this exact name &#x2018;init.lua&#x2019;. Re-uploading the same script, but with the &#x2018;init.lua&#x2019; name should solve your problem</li>
<li>It can be a memory issue. Re-flashing the ESP with NodeMCU flasher usually solves that problem</li>
</ol>
<h4><strong>Finding the ESP8266 IP Address</strong></h4>
<p>Before you start make sure you check these two items:</p>
<ol>
<li>Verify&#xA0;that the script uploaded to your ESP has the right network credentials</li>
<li>Make sure your ESP is near your router</li>
</ol>
<p>Here&#x2019;s what you can do to find the IP address:</p>
<p><strong>Solution 1</strong>&#xA0;&#x2013;&#xA0;Sending a command with the ESPlorer IDE</p>
<ol>
<li>Send the command &#x201C;print(wifi.sta.getip())&#x201D; with the ESPlorer IDE and it should print your IP Address</li>
</ol>
<p><img class="aligncenter size-full wp-image-16820" src="http://i2.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/ESP-IP-Address.png?resize=300%2C22%20300w,%20http://i2.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/ESP-IP-Address.png?w=536%20536w" alt="ESP IP Address"></p>
<p><strong>Solution 2</strong>&#xA0;&#x2013;&#xA0;Install an IP Scanner Software</p>
<ol>
<li>An IP Scanner software searches&#xA0;for all the devices in your network</li>
<li>Download this free software:
<ol>
<li>Windows PC: www.advanced-ip-scanner.com</li>
<li>MAC OS X, Windows or Linux:&#xA0;http://angryip.org</li>
</ol>
</li>
<li>Install one of these&#xA0;softwares&#xA0;(while having your ESP running with that web server script)</li>
<li>Open the IP Scanner software and&#xA0;click &#x201C;Scan&#x201D;</li>
<li>Let that process finish (it can take a couple of minutes)</li>
</ol>
<p>In my case, it found my ESP. Now if I type 192.168.1.95 in my browser I can see the ESP web server.</p>
<p><img class="aligncenter size-full wp-image-16810" src="http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/advanced-ip-scanner.png?resize=300%2C239%20300w,%20http://i1.wp.com/randomnerdtutorials.com/wp-content/uploads/2016/01/advanced-ip-scanner.png?w=590%20590w" alt="advanced ip scanner"></p>
<h2>ESP8266 Troubleshooting &#x2013; Arduino IDE</h2>
<h4><strong>I can&#x2019;t upload scripts to my ESP8266 using the Arduino IDE</strong></h4>
<p>How to make your ESP go into upload&#xA0;mode when using the Arduino IDE:</p>
<ol>
<li>Remove power from your ESP8266</li>
<li>Having your ESP connected like <a href="http://randomnerdtutorials.com/wp-content/uploads/2015/02/ESP8266-Flasher.png" target="_blank">this</a> (double check that GPIO 0 is connected to GND)</li>
<li>Apply power to your ESP8266 and open the&#xA0;Arduino IDE</li>
<li>Press the &#x201C;Upload&#x201D; button</li>
</ol>
<h2><strong>Did you experience other problems? </strong></h2>
<p><strong><span>Please leave a comment below</span>, so I can update the troubleshooting guide with more problems and solutions.</strong></p>
<p>Thanks for reading,</p>
<p>-Rui Santos</p>

</div></div>
</body></html>
