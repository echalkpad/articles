<!DOCTYPE html><html><head><title>webXray</title></head><body>
<h1>webXray</h1><p><a href="http://webxray.org/" target="_new">Original URL</a></p>
<p><blockquote>| | \ \ / / __ _____| |__ \ V / _ __ __ _ _ _ \ \ /\ / / _ \ '_ \ &gt; About webXray is a tool for detecting third-party HTTP requests on large numbers of web pages and matching them to the companies&hellip;</blockquote></p>
<div><header>
			<pre>
 | | \ \ / / 
 __ _____| |__ \ V / _ __ __ _ _ _ 
 \ \ /\ / / _ \ '_ \ &gt; 
		</pre></header>
		<article>
		
		<h2>About</h2>
		<p>webXray is a tool for detecting third-party HTTP requests on large numbers of web pages and matching them to the companies which receive user data.</p>

		<h2>Why</h2>
		<p>Third-party HTTP requests are the lowest-level mechanism by which user data may be surreptitiously disclosed to unknown parties on the web. This may be for perfectly benign reasons, such as an embedded a picture from another site, or it may be a form of surveillance utilizing tracking pixels, cookies, or even sophisticated fingerprinting techniques.</p>

		<h2>How</h2>
		<p>As a departure from existing tools, webXray facilitates the identification of the real-world entities to which requests are made by correlating domain request with the owners of domains. In other words, webXray allows you to see which companies are monitoring which pages.</p>

		<p>The core of webXray is a python program which ingests addresses of webpages, passes them to the headless web browser <a href="http://phantomjs.org">PhantomJS</a>, and parses requests in order to determine those which go to domains which are exogenous to the primary (or first-party) domain of the site. This data is then stored in MySQL for later analysis.</p>

		<h2>Who</h2>
		<p>webXray was originally developed for academic research, but may be used by anybody with an interest in the hidden structures of the web, privacy, and surveillance.</p>

			<h2>Cost</h2>
			<p>Free!*</p>
			<p>(*Subject to terms of the <a href="https://www.gnu.org/copyleft/gpl.html">GNU Public License</a>.)</p>
		</article>
		<article>
			<h2>Get the Software</h2>
			
			webXray can downloaded from <a href="https://github.com/timlib/webxray">GitHub</a>.
			
			<h2>Dependencies</h2>
			<p>In order to use webXray the following must be installed on your system:</p>

			
	
			<p>In regards to the MySQL Python Connector, I have had the best luck with going with the "Platform Independent" version. Make sure you use Python3 to install it.</p>

			<h2>OS Specific Directions</h2>
			<h3 id="ubuntu">Installing on Ubuntu 14.04</h3>
			<p>Ubuntu 14.04 already has Python3 installed, to make sure you have 3.4 type:</p>
			<p class="cli">python3 --version</p>
			<p>...if you see 3.4 or above you are good to go!</p>
			<p>Next is to install PhantomJS, to do so execute this command:</p>
			<p class="cli">apt-get install phantomjs</p>
			<p>...this will install PhantomJS. webXray requires 1.9 or above, to see if you have this type:</p>
			<p class="cli">phantomjs --version</p>
			<p>Assuming you are going well so far it's time to install the MySQL database server. Do do so enter this command:</p>
			<p class="cli">apt-get install mysql-server</p>
			<p>This will walk you through setting up MySQL. It will encourage you to enter a password, strictly speaking this is a good idea, but if you are only using the database for webXray it is likely ok to run it without a password, in which case webXray will work with no changes. However, if you <em>do</em> choose to use a password you will need to modify the file 'webxray/MySQLDriver.py' so webXray can connect.</p>
			<p>Now you start the MySQL server:</p>
			<p class="cli">service mysql start</p>
			<p>Each time you reboot your computer you will need to start the MySQL server.</p><p>The last Ubuntu-specific step is to install git:</p>
			<p class="cli">apt-get install git</p>
			<p>Great, you can now skip to <a href="http://webxray.org/#connector">installing the Python MySQL Connector</a>.</p>

			<h3>Other Linux Flavors</h3>
			<p>Should be similar to above, if you are using another flavor you're likely able to figure it out based on the above. webXray was tested and developed primarily on CentOS and RHEL; the major pain there is installing Python 3.</p>
			
			<h3>Windows Specific Instructions</h3>
			<p>Get a linux cloud server (which cost <a href="https://www.digitalocean.com/?refcode=960359b345c2">fractions of a cent per hour</a> these days). Ubuntu is the easiest flavor of Linux to get started with and the directions above will serve you well. Seriously, this is your best option. You can do it. I'm both confident in your abilities and proud of you for taking this important step in life.</p>
			
			<h3 id="mac">Mac OSX Specific Directions</h3>
			<p>Unlike Windows, Mac OSX is UNIX-based, this means you can run webXray pretty easily.</p>
			<p>First you need to install Homebrew which will manage the rest of your installation steps. You can get Homebrew <a href="http://brew.sh">here</a>, it may take a little bit to get set up. We'll be patient while you do that.</p>
			<p>OK, the following assumes Homebrew is installed on your system. Using the terminal (if you have installed Homebrew this is where you are already), you will now install Python3:</p>
			<p class="cli">brew install python3</p>
			<p>To make sure you have the right version of Python installed type:</p>
			<p class="cli">python3 --version</p>
			<p>...if you see 3.4 or above you are good to go!</p>
			<p>Next is to install PhantomJS, to do so execute this command:</p>
			<p class="cli">brew install phantomjs</p>
			<p>...this will install PhantomJS. webXray requires 1.9 or above, to see if you have this type:</p>
			<p class="cli">phantomjs --version</p>
			<p>Assuming you are going well so far it's time to install the MySQL database server. Do do so enter this command:</p>
			<p class="cli">brew install mysql</p>
			<p>This will walk you through setting up MySQL. It will encourage you to enter a password, strictly speaking this is a good idea, but if you are only using the database for webXray it is likely ok to run it without a password, in which case webXray will work with no changes. However, if you <em>do</em> choose to use a password you will need to modify the file 'webxray/MySQLDriver.py' so webXray can connect.</p>
			<p>Now you start the MySQL server:</p>
			<p class="cli">mysql.server start</p>
			<p>Each time you reboot your computer you will need to start the MySQL server.</p><p>The last Mac specific step is to install wget, a program that allows you to download resources from the web. To do so type:</p>
			<p class="cli">brew install wget</p>
			<p>Great, you can now continue to <a href="http://webxray.org/#connector">installing the Python MySQL Connector</a>.</p>
			
			<h3 id="connector">Installing Python MySQL Connector</h3>
			<p>OK, here is the part that is a pain in the ass: installing the Python MySQL Connector. To do so first download it using this command:</p>
			<p class="cli">wget https://dev.mysql.com/get/Downloads/Connector-Python/mysql-connector-python-2.0.4.tar.gz</p>
			<p>Next, you need to extract the archive:</p>
			<p class="cli">tar -xvf mysql-connector-python-2.0.4.tar.gz</p>
			<p>Next, go to the directory:</p>
			<p class="cli">cd mysql-connector-python-2.0.4/</p>
			<p>...and run the installer:</p>
			<p class="cli">python3 setup.py install</p>
			<p>...the go back to the last directory:</p>
			<p class="cli">cd ..</p>
			<p>Continue below to...</p>
			
			<h3>Install webXray!</h3>
			<p>The last step is to get webXray from GitHub!</p>
			<p class="cli">git clone https://github.com/timlib/webXray.git</p>
			<p>Now webXray is ready to go! To use it type:</p>
			<p class="cli">cd webXray</p>
			<p class="cli">python3 run_webxray.py -i</p>
			<p>This is the interactive mode and will guide you to scanning the top 1,000 Alexa websites.</p>
	</article>
	<article>
			<h2>Using webXray to Analyze Your Own List of Pages</h2>
			<p>The entire point of webXray is to allow you to analyze pages of your choosing. In order to do so, first place all of the page addresses you wish to scan into a text file and place this file in the "page_lists" directory. Make sure your addresses start with "http", if not, webXray will not recognize them as valid addresses. Once you have placed your page list in the proper directory you may run webXray in interactive mode and it will allow you to select your page list. Easy-peasy.

			</p><h2>Viewing Reports</h2>
			<p>Use the interactive mode to guide you to generating an analysis. When it is completed it will be output to the '/reports' directory. This will contain a number of csv files; they are:</p>
			<ul>
				<li>db_summary: a basic report of how many pages loaded, how many errors, basic stats</li>
				<li>summary_by_tld: gives more stats on how many domains are contacted, cookies, javascript, etc.</li>
				<li>domains-by-tld: the most frequently contacted domains, by tld</li>
				<li>elements-by-tld: most frequent elements, any type</li>
				<li>elements-by-tld-image: most frequent elements, images</li>
				<li>elements-by-tld-javascript:	most frequent elements, javascript</li>
				<li>orgs-by-tld: this is the most interesting bit, shows all the top companies who own the domains which are being contacted - relies on the data in webxray/resources/org_domains/org_domains.json which was compiled manually and should be expanded.</li>
				<li>network: pairings between page domains and tracker domains, you can import this info to data viz software to do cool stuff - this is something worth heavy tweaking if it's of particular interest to you!</li>
			</ul>
			
			<h2>Important Note on Speed</h2>
			<p>webXray can analyze many pages in parallell and has achieved speeds up to 30,000 pages per hour. However, out-of-the-box webXray is configured to only scan four pages in parallell. If you think your system can handle more (and chances are it can!), open the 'run_webxray.py' file and search for the string 'pool_size' - when you find that there are instructions on how to increase the numbers of pages you can do concurrently. The bigger you can make pool_size, the faster you will go.</p>
		</article>

		<article>
			<h2>Publications</h2>
			
			<h2>Privacy Implication of Health Information Seeking on the Web</h2>
			<p>Communications of the ACM, <em>March, 2015</em>.
			
			</p><h2>Add Your Own!</h2>
			<p>If you have used webXray for your own research, please let us know and we will add you to this section.</p>
		</article>
		<article>
			<h2>Transparency</h2>

			<h2>Tracking</h2>
			<p>In order to give the webmaster an idea of how much traffic this site is getting, the open-source, locally-hosted analytics software <a href="https://piwik">piwik</a> is used. If you like, you may opt-out of piwik on this site. Collected data is minimized to the extent piwik allowed, and is purged regularly.</p>

		</article>
		</div>
</body></html>
