<!DOCTYPE html><html><head><title>NARKOZ/hacker-scripts</title></head><body>
<h1>NARKOZ/hacker-scripts</h1><p><a href="https://github.com/narkoz/hacker-scripts" target="_new">Original URL</a></p>
<p><blockquote>Based on a true story: xxx: OK, so, our build engineer has left for another company. The dude was literally living inside the terminal. You know, that type of a guy who loves Vim, creates diagrams in&hellip;</blockquote></p>
<div><article class="markdown-body entry-content">

<p>Based on a <em><a href="https://www.jitbit.com/alexblog/249-now-thats-what-i-call-a-hacker/">true
story</a></em>:</p>

<blockquote>
<p>xxx: OK, so, our build engineer has left for another company. The dude was literally living inside the terminal. You know, that type of a guy who loves Vim, creates diagrams in Dot and writes wiki-posts in Markdown... If something - anything - requires more than 90 seconds of his time, he writes a script to automate that.</p>

<p>xxx: So we're sitting here, looking through his, uhm, "legacy"</p>

<p>xxx: You're gonna love this</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/smack-my-bitch-up.sh"><code>smack-my-bitch-up.sh</code></a> - sends a text message "late at work" to his wife (apparently). Automatically picks reasons from an array of strings, randomly. Runs inside a cron-job. The job fires if there are active SSH-sessions on the server after 9pm with his login.</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/kumar-asshole.sh"><code>kumar-asshole.sh</code></a> - scans the inbox for emails from "Kumar" (a DBA at our clients). Looks for keywords like "help", "trouble", "sorry" etc. If keywords are found - the script SSHes into the clients server and rolls back the staging database to the latest backup. Then sends a reply "no worries mate, be careful next time".</p>

<p>xxx: <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/hangover.sh"><code>hangover.sh</code></a> - another cron-job that is set to specific dates. Sends automated emails like "not feeling well/gonna work from home" etc. Adds a random "reason" from another predefined array of strings. Fires if there are no interactive sessions on the server at 8:45am.</p>

<p>xxx: (and the oscar goes to) <a href="https://github.com/NARKOZ/hacker-scripts/blob/master/fucking-coffee.sh"><code>fucking-coffee.sh</code></a> - this one waits exactly 17 seconds (!), then opens a telnet session to our coffee-machine (we had no frikin idea the coffee machine is on the network, runs linux and has a TCP socket up and running) and sends something like <code>sys brew</code>. Turns out this thing starts brewing a mid-sized half-caf latte and waits another 24 (!) seconds before pouring it into a cup. The timing is exactly how long it takes to walk to the machine from the dudes desk.</p>

<p>xxx: holy sh*t I'm keeping those</p>
</blockquote>

<p>Original: <a href="http://bash.im/quote/436725">http://bash.im/quote/436725</a> (in Russian)<br>
Pull requests with other implementations (Python, Perl, Shell, etc) are welcome.</p>

<h2><a id="user-content-usage" class="anchor" href="https://github.com/narkoz/hacker-scripts#usage"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Usage</h2>

<p>You need these environment variables:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># used in `smack-my-bitch-up` and `hangover` scripts</span>
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy

<span class="pl-c"># used in `kumar_asshole` script</span>
GMAIL_USERNAME=admin@example.org
GMAIL_PASSWORD=password</pre></div>

<p>For Ruby scripts you need to install gems:
<code>gem install dotenv twilio-ruby gmail</code></p>

<h2><a id="user-content-cron-jobs" class="anchor" href="https://github.com/narkoz/hacker-scripts#cron-jobs"><svg class="octicon octicon-link" height="16" width="16"><path></path></svg></a>Cron jobs</h2>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Runs `smack-my-bitch-up.sh` monday to friday at 9:20 pm.</span>
20 21 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/smack-my-bitch-up.sh <span class="pl-k">&gt;&gt;</span> /path/to/smack-my-bitch-up.log <span class="pl-k">2&gt;&amp;1</span>

<span class="pl-c"># Runs `hangover.sh` monday to friday at 8:45 am.</span>
45 8 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/hangover.sh <span class="pl-k">&gt;&gt;</span> /path/to/hangover.log <span class="pl-k">2&gt;&amp;1</span>

<span class="pl-c"># Runs `kumar-asshole.sh` every 10 minutes.</span>
<span class="pl-k">*</span>/10 <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> /path/to/scripts/kumar-asshole.sh

<span class="pl-c"># Runs `fucking-coffee.sh` hourly from 9am to 6pm on weekdays.</span>
0 9-18 <span class="pl-k">*</span> <span class="pl-k">*</span> 1-5 /path/to/scripts/fucking-coffee.sh</pre></div>



<p>Code is released under WTFPL.</p>
</article>
 </div>
</body></html>
