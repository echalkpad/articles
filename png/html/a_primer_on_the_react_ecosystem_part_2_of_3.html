<!DOCTYPE html><html><head><title>A Primer on the React Ecosystem: Part 2 of 3</title></head><body>
<h1>A Primer on the React Ecosystem: Part 2 of 3</h1><p><a href="http://patternhatch.com/2016/08/02/a-primer-on-the-react-ecosystem-part-2-of-3/" target="_new">Original URL</a></p>
<p><blockquote>Updates 2016.08.02: First publication. Part One Recap In Part One, we set up a basic build environment using Webpack and Babel. We then test drove this environment by creating a simple React&hellip;</blockquote></p>
<div><div class="entry-content clearfix">
									
<p><strong id="updates">Updates</strong><br>
2016.08.02: First publication.</p>
<p><strong id="recap">Part One Recap</strong><br>
In <a href="http://patternhatch.com/2016/07/06/a-primer-on-the-react-ecosystem-part-1-of-3/">Part One</a>, we set up a basic build environment using <a href="https://webpack.github.io/" target="_blank">Webpack</a> and <a href="http://babeljs.io/" target="_blank">Babel</a>. We then test drove this environment by creating a simple React component. We also looked at the basics of component rendering and <a href="https://facebook.github.io/react/docs/jsx-in-depth.html" target="_blank">JSX</a>, the React DSL used to specify React components.</p>
<p><strong id="installment">In This Installment</strong><br>
In Part Two, we&#x2019;ll enhance our build environment, then start building our Spotify client using React. Our aim is to let a user:</p>
<ul>
<li>retrieve an artist&#x2019;s albums,</li>
<li>retrieve an album&#x2019;s tracks,</li>
<li>play a preview for a given&#xA0;track.</li>
</ul>
<p>By the end of this post, you&#x2019;ll have a greater understanding of React components and how to create and structure them to work together.</p>
<p><strong id="code">The Code</strong><br>
We&#x2019;ll be picking up where we left off in Part One. The code for Part One is <a href="https://github.com/nitinpunjabi/respotify/tree/part01" target="_blank">here</a>. If you didn&#x2019;t follow along previously and wish to do so now, then I suggest getting the code. Bear in mind you&#x2019;ll want the code from the&#xA0;<em>part01</em> branch. To clone it through Git,&#xA0;use this&#xA0;command:</p>

		<div id="crayon-57a0bb27e7cc4642659496" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7cc4642659496-1"><span class="crayon-r ">git</span>clone<span class="crayon-e "> -b</span>part01https<span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-o">/</span>github<span class="crayon-sy">.</span>com<span class="crayon-o">/</span>nitinpunjabi<span class="crayon-o">/</span>respotify<span class="crayon-sy">.</span>git</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The code for the end result of Part Two is <a href="https://github.com/nitinpunjabi/respotify/tree/part02" target="_blank">here</a>.</p>
<p><strong id="linting">Linting</strong><br>
Before we begin creating the UI, we&#x2019;ll enhance our build process&#xA0;with <a href="http://stackoverflow.com/questions/8503559/what-is-linting" target="_blank">linting</a>. Linting will help enforce some discipline in how we write our Javascript and JSX code and help keep things tidy. Whenever&#xA0;we save our work, the linter will scan our code&#xA0;and flag anything that violates rules we specify. For the job of linting, we&#x2019;ll be using <a href="http://eslint.org/" target="_blank">ESLint</a>. The rules we&#x2019;ll use will be&#xA0;from Airbnb. I like Airbnb&#x2019;s <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" target="_blank">ruleset</a> as it&#x2019;s fairly strict, but of course, you&#x2019;re free to turn off any of them or add more if you wish.</p>
<p>Let&#x2019;s start by installing the dependencies. Rather than installing each individually, take the block below and paste it into your <em>package.json</em> under <em>devDependencies</em>:</p>

		<div id="crayon-57a0bb27e7cdf387908610" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7cdf387908610-1"><span class="crayon-s">"eslint"</span><span class="crayon-o">:</span><span class="crayon-s">"^2.13.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cdf387908610-2"><span class="crayon-s">"eslint-config-airbnb"</span><span class="crayon-o">:</span><span class="crayon-s">"^9.0.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cdf387908610-3"><span class="crayon-s">"eslint-loader"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.4.0"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cdf387908610-4"><span class="crayon-s">"eslint-plugin-import"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.10.2"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cdf387908610-5"><span class="crayon-s">"eslint-plugin-jsx-a11y"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.5.5"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cdf387908610-6"><span class="crayon-s">"eslint-plugin-react"</span><span class="crayon-o">:</span><span class="crayon-s">"^5.2.2"</span><span class="crayon-sy">,</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We&#x2019;re doing this because, at the time of this writing, there are compatibility issues with ESLint 3.0 and the other ESLint packages. By specifying the exact version numbers, we can avoid these problems while they&#x2019;re being sorted out.</p>
<p>Here&#x2019;s a brief description of each package we&#x2019;re installing:</p>

<p>Once you add the preceding lines, your&#xA0;<em>devDependencies</em> in&#xA0;<em>package.json</em> should look like this:</p>

		<div id="crayon-57a0bb27e7cec539541830" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-19"><span class="crayon-s">"devDependencies"</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-20"><span class="crayon-s">"babel-core"</span><span class="crayon-o">:</span><span class="crayon-s">"^6.10.4"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-21"><span class="crayon-s">"babel-loader"</span><span class="crayon-o">:</span><span class="crayon-s">"^6.2.4"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-22"><span class="crayon-s">"babel-preset-es2015"</span><span class="crayon-o">:</span><span class="crayon-s">"^6.9.0"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-23"><span class="crayon-s">"babel-preset-react"</span><span class="crayon-o">:</span><span class="crayon-s">"^6.11.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-24"><span class="crayon-s">"eslint"</span><span class="crayon-o">:</span><span class="crayon-s">"^2.13.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-25"><span class="crayon-s">"eslint-config-airbnb"</span><span class="crayon-o">:</span><span class="crayon-s">"^9.0.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-26"><span class="crayon-s">"eslint-loader"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.4.0"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-27"><span class="crayon-s">"eslint-plugin-import"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.10.2"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-28"><span class="crayon-s">"eslint-plugin-jsx-a11y"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.5.5"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-29"><span class="crayon-s">"eslint-plugin-react"</span><span class="crayon-o">:</span><span class="crayon-s">"^5.2.2"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-30"><span class="crayon-s">"file-loader"</span><span class="crayon-o">:</span><span class="crayon-s">"^0.9.0"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-31"><span class="crayon-s">"react-hot-loader"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.3.0"</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cec539541830-32"><span class="crayon-s">"webpack"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.13.1"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cec539541830-33"><span class="crayon-s">"webpack-dev-server"</span><span class="crayon-o">:</span><span class="crayon-s">"^1.14.1"</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>If the version numbers on your other packages are different, it&#x2019;ll likely&#xA0;<strong>not</strong> cause a problem. If you wish, you can use the&#xA0;<a href="https://github.com/nitinpunjabi/respotify/blob/part02/package.json" target="_blank"><em>package.json</em> file from Part Two</a> directly.</p>
<p>Now run:</p>

		

<p>at your terminal to get the new&#xA0;packages installed locally.</p>
<p>Next, we need to incorporate linting into our Webpack build. Recall from&#xA0;Part One when we <a href="http://patternhatch.com/2016/07/06/a-primer-on-the-react-ecosystem-part-1-of-3/#webpack">incorporated loaders into our Webpack build</a>. Loaders are simply plugins which preprocess our files. We currently have loaders to copy our <em>index.html</em> file and translate our ES6 and JSX code to ES5. We&#x2019;ll now add a loader for linting. Add the highlighted lines to the <em>module</em> object in &#xA0;your&#xA0;<em>webpack.config.js file</em>:</p>

		<div id="crayon-57a0bb27e7cfe681789078" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7cfe681789078-23"><span class="crayon-v">module</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7cfe681789078-24"><span class="crayon-v">preLoaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7cfe681789078-26"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">js</span><span class="crayon-sy">?</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7cfe681789078-27"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"eslint-loader"</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7cfe681789078-28"><span class="crayon-v">exclude</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span></p><p class="crayon-line" id="crayon-57a0bb27e7cfe681789078-31"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span></p><p class="crayon-line" id="crayon-57a0bb27e7cfe681789078-33"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">html</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cfe681789078-34"><span class="crayon-v">loader</span><span class="crayon-o">:</span><span class="crayon-s">"file?name=[name].[ext]"</span></p><p class="crayon-line" id="crayon-57a0bb27e7cfe681789078-37"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">js</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7cfe681789078-38"><span class="crayon-v">exclude</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7cfe681789078-39"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"react-hot"</span><span class="crayon-sy">,</span><span class="crayon-s">"babel-loader"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Note how our other&#xA0;loaders are&#xA0;under a&#xA0;<em>loaders</em> object while our linting loader is going under a&#xA0;<em>preLoaders</em>&#xA0;object. Webpack provides three loader hooks: <em>preLoaders</em>, <em>loaders</em>, and <em>postLoaders</em>, which are executed in that order. It&#x2019;s good practice to put linting in the <em>preLoaders</em> because if it fails, we&#x2019;ll know about it first.</p>
<p>We&#x2019;re also going to add this right above the&#xA0;<em>modules</em> object:</p>

		

<p>This reports all ESLint errors under a warning designation.&#xA0;This way, if our linter picks up something questionable, our dev server will still go ahead and build. Is that a good thing? Not necessarily. But given this is a tutorial, I didn&#x2019;t want our environment to be so punishing and stop working just because of, let&#x2019;s say, a missing space.</p>
<p>Your&#xA0;<em>webpack.config.js</em> file should now look like this:</p>

		<div id="crayon-57a0bb27e7d10472474424" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-1"><span class="crayon-m">const</span><span class="crayon-v">webpack</span><span class="crayon-o">=</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'webpack'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-2"><span class="crayon-m">const</span><span class="crayon-v">path</span><span class="crayon-o">=</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'path'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-4"><span class="crayon-m">const</span><span class="crayon-v">PATHS</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-5"><span class="crayon-v">app</span><span class="crayon-o">:</span><span class="crayon-s">'./src/index.js'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-6"><span class="crayon-v">html</span><span class="crayon-o">:</span><span class="crayon-s">'./src/index.html'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-7"><span class="crayon-v">dist</span><span class="crayon-o">:</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-sy">,</span><span class="crayon-s">'dist'</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-10"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-11"><span class="crayon-v">entry</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-12"><span class="crayon-v">javascript</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-13"><span class="crayon-v">html</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-i">html</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-15"><span class="crayon-v">output</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-16"><span class="crayon-v">path</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-v">dist</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-17"><span class="crayon-v">publicPath</span><span class="crayon-o">:</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-18"><span class="crayon-v">filename</span><span class="crayon-o">:</span><span class="crayon-s">'bundle.js'</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-20"><span class="crayon-v">devServer</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-21"><span class="crayon-v">contentBase</span><span class="crayon-o">:</span><span class="crayon-v">PATHS</span><span class="crayon-sy">.</span><span class="crayon-i">dist</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-23"><span class="crayon-v">eslint</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-24"><span class="crayon-v">emitWarning</span><span class="crayon-o">:</span><span class="crayon-t">true</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-26"><span class="crayon-v">module</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-27"><span class="crayon-v">preLoaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-29"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">js</span><span class="crayon-sy">?</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-30"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"eslint-loader"</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-31"><span class="crayon-v">exclude</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-34"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-36"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">html</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-37"><span class="crayon-v">loader</span><span class="crayon-o">:</span><span class="crayon-s">"file?name=[name].[ext]"</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-40"><span class="crayon-v">test</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">js</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d10472474424-41"><span class="crayon-v">exclude</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d10472474424-42"><span class="crayon-v">loaders</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-s">"react-hot"</span><span class="crayon-sy">,</span><span class="crayon-s">"babel-loader"</span><span class="crayon-sy">]</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>The last step is to specify that we want to use the Airbnb ruleset. Create&#xA0;<em>.eslintrc</em> in your project&#x2019;s root directory and populate it like so:</p>

		

<p>The&#xA0;<em>.eslintrc</em> file is where you <a href="http://eslint.org/docs/user-guide/configuring" target="_blank">specify the linting rules</a> you want to enforce. In our case, since we installed the Airbnb ruleset earlier and don&#x2019;t wish to add anymore, all we need to do is refer to it.</p>
<p>We just augmented our build process further with linting. Let&#x2019;s test it out.</p>
<p>Start by deleting&#xA0;<em>greeting.js</em> from your&#xA0;<em>src</em> directory.&#xA0;We no longer need it.</p>
<p>Next, clear out&#xA0;<em>index.js</em>&#xA0;completely and put in this line.</p>

		

<p>The preceding line should be the only line in&#xA0;<em>index.js</em>. Save the file, then start your server with&#xA0;<em>npm run start</em>.</p>
<p>In your terminal, you should see output similar to this:</p>

		<div id="crayon-57a0bb27e7d2a485506948" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d2a485506948-1">1<span class="crayon-o">:</span>2errorNewlinerequiredatendoffilebut<span class="crayon-k">not</span>foundeol<span class="crayon-o">-</span>last</p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d2a485506948-2">1<span class="crayon-o">:</span>7error<span class="crayon-s">'foo'</span>isdefinedbutneverusedno<span class="crayon-o">-</span>unused<span class="crayon-o">-</span>vars</p><p class="crayon-line" id="crayon-57a0bb27e7d2a485506948-3">1<span class="crayon-o">:</span>13errorStringsmustusesinglequotequotes</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Each error message comprises four parts:</p>
<ol>
<li>Where in the file it&#x2019;s occuring.</li>
<li>The severity of the message.</li>
<li>A description of the problem.</li>
<li>The actual name of the ESLint rule.</li>
</ol>
<p>Despite these errors, our app should still come up at:<br>
<a href="http://localhost:8080/webpack-dev-server/" target="_blank">http://localhost:8080/webpack-dev-server/</a></p>
<p>The only tell-tale is the status bar message at the top indicating there were <em>Warnings while compiling</em>:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/warnings.png" rel="attachment wp-att-693"><img class="alignnone size-full wp-image-693" src="http://patternhatch.com/wp-content/uploads/2016/07/warnings-300x61.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/warnings-768x156.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/warnings-500x101.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/warnings-400x81.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/warnings.png%20769w" alt="warnings" width="769"></a>If we had <strong>not</strong> specified that ESLint errors should be emitted as warnings, you would see the error messages in the terminal also appear in the browser like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/errors.png" rel="attachment wp-att-695"><img class="alignnone size-full wp-image-695" src="http://patternhatch.com/wp-content/uploads/2016/07/errors-300x96.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors-768x245.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors-500x160.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors-150x48.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors-400x128.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors-200x64.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/errors.png%20771w" alt="errors" width="771"></a>Let&#x2019;s take a look at the errors. We can see that the Airbnb rules flag double-quoted strings, variables which are defined but never used,&#xA0;and files that aren&#x2019;t ended with new-lines.</p>
<p>Modify <em>index.js</em> to look like this and save (remember to include the blank line at the end):</p>

		<div id="crayon-57a0bb27e7d35561864727" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d35561864727-1"><span class="crayon-m">const</span><span class="crayon-e ">foo</span><span class="crayon-o">=</span><span class="crayon-s">'bar'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d35561864727-2"><span class="crayon-v">foo</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>After changing the double quotes to single quotes, using&#xA0;<em>foo</em> in some manner, and ending the file with a newline, all linting errors should go away.</p>
<p>Turning off a rule is simple. Note the ESLint rule name, and override it in your&#xA0;<em>.eslintrc</em> file. So for example, suppose you wanted to turn off the rule for double-quoted strings. From the preceding message description, we note that the rule name is&#xA0;<em>quotes</em>, and then add the highlighted lines&#xA0;to <em>.eslintrc</em>:<em><br>
</em></p>

		<div id="crayon-57a0bb27e7d3e305685975" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p>Here we add a <em>rules</em> object and inside set the severity of the&#xA0;<em>quotes</em> rule to zero. If you restart your dev server now and use double-quoted strings again, you won&#x2019;t see any errors. Personally, I like having that rule in place so I&#x2019;m going to remove that override.</p>
<p>However, there are two rules I&#x2019;m going to turn off, and that&#x2019;s the <em>arrow-body-style</em> and <em>no-param-reassign </em>rules. The Airbnb rules flag situations where your arrow function can be more compact and forego having a body (<em>arrow-body-style</em> rule). But sometimes, I like being more explicit.</p>
<p>The rules also flag instances where passed-in parameters are being modified (<em>no-param-reassign</em> rule), but I do this for certain inline functions which affect styling such as in the <em>Track</em> component we&#x2019;re going to build.</p>
<p>This is what&#xA0;my <em>.eslintrc</em> file looks like:</p>

		<div id="crayon-57a0bb27e7d47228293721" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d47228293721-2"><span class="crayon-s">"extends"</span><span class="crayon-o">:</span><span class="crayon-s">"airbnb"</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d47228293721-3"><span class="crayon-s">"rules"</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d47228293721-4"><span class="crayon-s">"arrow-body-style"</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7d47228293721-5"><span class="crayon-s">"no-param-reassign"</span><span class="crayon-o">:</span><span class="crayon-cn">0</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>All linting warnings should now be gone. With that, we&#x2019;re ready to build our app.</p>
<p><strong id="breakdown">Breaking Down the UI</strong><br>
At the end of Part One, we created just a single component to test drive our setup.&#xA0;In practice, almost every React UI will be composed of multiple components. For example, in a weather app, you may have one component displaying the name of the place, another component displaying the current temperature, and another component displaying a graph of a five-day forecast.</p>
<p>Because&#xA0;of this, it&#x2019;s good practice to break down a UI to its constituent components before starting development.&#xA0;There are no hard and fast rules on how to break down your UI, but like most things in programming, there are best-practices and guidelines. Here they are:</p>
<ol>
<li>Your component should do one thing. If it starts growing and taking on more responsibilities, it&#x2019;s time to break it down further.</li>
<li>Information should flow top-down. That is, parent components should pass data down to child components.</li>
</ol>
<p>The second point may not make such sense at the moment, but will become clear as we start building.</p>
<p>Ok, so here&#x2019;s the mock from Part One:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/06/mockup.png" rel="attachment wp-att-546"><img class="alignnone size-full wp-image-546" src="http://patternhatch.com/wp-content/uploads/2016/06/mockup-300x250.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-500x417.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-150x125.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-400x334.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup-200x167.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/06/mockup.png%20712w" alt="mockup" width="712"></a></p>
<p>Taking inventory of this mock, we have:</p>
<ol>
<li>A search bar.</li>
<li>A list of albums.</li>
<li>One or more albums in the list of albums.</li>
<li>A list of tracks.</li>
<li>One or more tracks in the list of tracks.</li>
</ol>
<p>So we have five distinct components (multiple albums are just instances of the same component. Same goes for tracks).</p>
<p>Using these distinctions to break down the UI leads to this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown.png" rel="attachment wp-att-672"><img class="alignnone size-full wp-image-672" src="http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown-300x250.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown-500x417.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown-150x125.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown-400x334.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown-200x167.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_breakdown.png%20712w" alt="respotify_breakdown" width="712"></a></p>
<p>Here we have the:</p>
<ul>
<li><strong><span>Search Bar</span></strong></li>
<li><strong><span>Album List</span></strong></li>
<li><strong><span>Individual Albums</span></strong></li>
<li><strong><span>Track List</span></strong></li>
<li><strong><span>Individual Tracks</span></strong></li>
</ul>
<p>There are two things to note:</p>
<ol>
<li>Notice how instances of the&#xA0;<em>Individual Albums</em> component are inside the <em>Album List</em> component. And instances of the <em>Individual Tracks</em> component are inside the <em>Track List</em> component. When we see component B inside component A, we say component B is&#xA0;<em>nested</em> in component A. Another way to put it is component B is a <em>child</em> of component A.</li>
<li>We actually have&#xA0;<strong>six</strong> components here. The sixth component is the yellow box in the breakdown, and it serves as the container for the entire app. It&#x2019;s good practice to have a topmost component serving as the entry-point of the UI where you can initialize state and specify how child components should be arranged.</li>
</ol>
<p>Visualized as a tree,&#xA0;our app now looks like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization.png" rel="attachment wp-att-674"><img class="alignnone size-full wp-image-674" src="http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization-300x146.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization-500x243.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization-150x73.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization-400x195.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization-200x97.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_tree_visualization.png%20734w" alt="respotify_tree_visualization" width="734"></a></p>
<p>Let&#x2019;s start gaining some clarity on all this&#xA0;by building our app, starting with the&#xA0;<em>App</em> container. As we progress, there will be times when I jump back to a previous component to enhance it, or divert into an explanation because of a new feature not covered in previous parts. If you feel something wasn&#x2019;t clear, post a comment or send me an <a href="http://patternhatch.com/about/">email</a>.</p>
<p><strong id="container">The App Container</strong><br>
Before we begin, make sure your&#xA0;<em>src</em> directory looks like this and that&#xA0;<em>index.js</em> is <strong>empty</strong>.</p>

		<div id="crayon-57a0bb27e7d5a576632856" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d5a576632856-1"><span class="crayon-e "> -src</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d5a576632856-2"><span class="crayon-o">--</span>index<span class="crayon-sy">.</span>html</p><p class="crayon-line" id="crayon-57a0bb27e7d5a576632856-3"><span class="crayon-o">--</span>index<span class="crayon-sy">.</span>js</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Now populate&#xA0;<em>index.js</em> as follows:</p>

		<div id="crayon-57a0bb27e7d62067651394" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d62067651394-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-2"><span class="crayon-e">import </span><span class="crayon-e">ReactDOM </span><span class="crayon-i">from</span><span class="crayon-s">'react-dom'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-4"><span class="crayon-t">class</span><span class="crayon-e">App </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d62067651394-5"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-6"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7d62067651394-7"><span class="crayon-o">&lt;</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-8"><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-v">Hi</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7d62067651394-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-14"><span class="crayon-v">ReactDOM</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7d62067651394-15"><span class="crayon-o">&lt;</span><span class="crayon-v">App</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d62067651394-16"><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'container'</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><span>If you&#x2019;re copying and pasting the code, then double-click on the codebox first. That&#x2019;ll switch the codebox to &#x2018;plain view&#x2019;, which will eliminate extraneous spaces on blank lines and make it easier to lift out. You may need to add the final blank line yourself.</span></p>
<p>As usual, we start by importing&#xA0;the&#xA0;<em>React</em> and&#xA0;<em>ReactDOM</em> libraries at the top.</p>
<p><strong>[Line</strong> <strong>4] </strong>We create our&#xA0;<em>App</em>&#xA0;component class by extending the&#xA0;<em>React.Component&#xA0;</em>base class. This is the standard <a href="https://facebook.github.io/react/docs/reusable-components.html#es6-classes" target="_blank">ES6-style</a> for component classes. This is in contrast to how we created our component in Part One, where we used the <a href="https://facebook.github.io/react/docs/top-level-api.html#react.createclass" target="_blank">ES5-style</a>&#xA0;<em>React.createClass</em> method. From here on, we&#x2019;ll be using ES6-style exclusively.</p>
<p><strong>[Lines 5-11</strong><strong>] </strong>Recall from Part One that every class-based React component must have a <em>render</em> method. Here, we define our&#xA0;<em>render</em> method to return some markup. In this case, just some text.</p>
<p><strong>[Lines 14-17]</strong>&#xA0;We specify that we want an instance of the&#xA0;<em>App</em>&#xA0;component&#xA0;attached to a DOM element of id&#xA0;<em>container</em>. This element can be found in&#xA0;<em>index.html</em>. In other words, we want&#xA0;<em>App</em> to appear on our main page inside the <em>container</em> div.</p>
<p>You&#x2019;re probably getting a complaint in the terminal from ESLint to the tune of this:</p>

		<div id="crayon-57a0bb27e7d6f326263300" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d6f326263300-1">4<span class="crayon-o">:</span>1errorComponentshouldbewrittenasapurefunctionreact<span class="crayon-o">/</span>prefer<span class="crayon-o">-</span>stateless<span class="crayon-o">-</span>function</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Don&#x2019;t worry about it for now. We&#x2019;re going to go over the <a href="http://patternhatch.com/2016/08/02/a-primer-on-the-react-ecosystem-part-2-of-3/#twostyles">different styles of component creation</a> later on in this post, and this error will go away as we grow our&#xA0;<em>App</em> container.</p>
<p>Our app should now appear like this:<a href="http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02.png" rel="attachment wp-att-683"><img class="alignnone size-full wp-image-683" src="http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-300x176.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-768x450.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-500x293.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-150x88.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-400x235.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02-200x117.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/respotify_app_container_02.png%20771w" alt="respotify_app_container_02" width="771"></a>Great, we&#x2019;ve just created our first component using ES6 syntax. Let&#x2019;s move on to the search bar.</p>
<p><strong id="searchbar">Search Bar</strong><br>
Create a <em>components</em> folder in the <em>src</em> directory. Inside the <em>components</em> folder,&#xA0;create <em>SearchBar.jsx:</em></p>

		<div id="crayon-57a0bb27e7d78184441986" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d78184441986-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7d78184441986-3"><span class="crayon-t">class</span><span class="crayon-e">SearchBar </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d78184441986-4"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7d78184441986-5"><span class="crayon-st">return</span><span class="crayon-o">&lt;</span><span class="crayon-v">input</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7d78184441986-9"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Let&#x2019;s look at the new stuff here.</p>
<p><strong>[Line 5]</strong>&#xA0;<em>input</em> is a React <a href="https://facebook.github.io/react/docs/forms.html" target="_blank">form component</a> representing an input box.</p>
<p><strong>[Line 9]</strong>&#xA0;We export our&#xA0;<em>SearchBar</em> component, making it the default export. In other words, when someone <strong>imports</strong> our <em>SearchBar</em> component, they&#x2019;ll be able to reference it directly.</p>
<p>For the file, I&#x2019;m using the <em>.jsx</em> extension and PascalCase to signal that this is a React component. This isn&#x2019;t necessary and some prefer to signal this using only PascalCase (SearchBar.js) or even including&#xA0;<em>react</em> in the name (e.g. searchbar.react.js). Go with what you prefer as long as it&#x2019;s consistent.</p>
<p>Let&#x2019;s get the <em>SearchBar</em>&#xA0;component on screen.</p>
<p>Recall from the UI breakdown that the <em>App</em> component contains all the other components. In other words, all the other components are <strong>nested</strong> inside the App component. So what we need to do is&#xA0;<strong>nest</strong> the&#xA0;<em>SearchBar</em> component inside the&#xA0;<em>App</em> component by adding the highlighted lines to&#xA0;<em>index.js</em>:</p>

		<div id="crayon-57a0bb27e7d83077052389" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 3]</strong> We import our <em>SearchBar</em> component.</p>
<p><strong>[Line 10]</strong>&#xA0;We instantiate the <em>SearchBar</em> component inside <em>App</em>&#x2018;s&#xA0;<em>render</em> method.</p>
<p>If you decided to follow my convention and use the <em>.jsx</em> extension, then something&#x2019;s broken now.&#xA0;Your browser page is probably a sea of red looking like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127.png" rel="attachment wp-att-684"><img class="alignnone size-full wp-image-684" src="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127-300x72.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127-150x36.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127-400x96.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127-200x48.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_file_resolution_errors-e1469404052127.png%20424w" alt="searchbar_file_resolution_errors" width="424"></a><br>
When we import&#xA0;a component without specifying an extension, Webpack attempts to use a number of extensions to resolve it. What it does&#xA0;<strong>not</strong> try by default is <em>.jsx</em>. This is easily solved by modifying our&#xA0;<em>webpack.config.js&#xA0;</em>file with the highlighted lines:</p>

		<div id="crayon-57a0bb27e7d8e248480072" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 29]</strong> We modify our eslint-loader to lint both <em>.js</em> and <em>.jsx</em> files.</p>
<p><strong>[Line 40]</strong> We modify our babel-loader and hot-loader to handle both <em>.js</em> and <em>.jsx</em> files.</p>
<p><strong>[Lines 46-48]</strong> We add an additional object to our config, instructing Webpack to resolve files with no extension, a <em>.js</em> extension, and a <em>.jsx</em> extension.</p>
<p>Restart your dev server. Webpack will&#xA0;now be able to find your <em>SearchBar.jsx</em> file and your screen should look like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance.png" rel="attachment wp-att-685"><img class="alignnone size-full wp-image-685" src="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-300x175.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-768x449.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-500x292.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-150x88.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-400x234.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance-200x117.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_first_appearance.png%20771w" alt="searchbar_first_appearance" width="771"></a>So now we have a <em>SearchBar</em> component nested in our <em>App</em> container component. Assuming you haven&#x2019;t turned off the&#xA0;<em>prefer-stateless-function</em> rule in ESLint, you&#x2019;re probably seeing the same&#xA0;<em>Component should be written as a pure function</em> error for <em>SearchBar</em>. Keep going, we&#x2019;ll be resolving that in a few minutes.</p>
<p>Now, we can type into the input box, but we also need to capture the value&#xA0;we&#xA0;input. To capture user input and actions, React offers a means to pass <a href="https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html" target="_blank">Event Handlers</a> to components. These event handlers are merely callback functions the component will call in response to certain user actions. We pass in these functions by assigning them to certain component <em>props</em>.</p>
<p>For our purposes, we&#x2019;re interested in the <em>input</em> component&#x2019;s <em><a href="https://facebook.github.io/react/docs/forms.html#interactive-props" target="_blank">onChange</a></em> prop.&#xA0;The event handler assigned to<em>&#xA0;</em><em>onChange</em> will be called any time the value in the input box changes</p>
<p>Let&#x2019;s start by adding and modifying the highlighted lines in <em>SearchBar.jsx</em>:</p>

		<div id="crayon-57a0bb27e7d9d252163603" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7d9d252163603-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7d9d252163603-3"><span class="crayon-t">class</span><span class="crayon-e">SearchBar </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7d9d252163603-4"><span class="crayon-e">handleInputChange</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7d9d252163603-5"><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7d9d252163603-8"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7d9d252163603-9"><span class="crayon-st">return</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-r">onChange</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7d9d252163603-13"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Lines 4-6]</strong> This is our event handler to be called any time the value in the input box changes.</p>
<p><strong>[Line 9]</strong> We modify the way we instantiate the&#xA0;<em>input</em> component by assigning our&#xA0;<em>handleInputChange</em> event handler to the&#xA0;<em>onChange</em>&#xA0;prop.&#xA0;<em>handleInputChange</em> will now be called each time the input box value changes.</p>
<p>If you open your console and start typing, you should see output similar to the following:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange.png" rel="attachment wp-att-686"><img class="alignnone size-full wp-image-686" src="http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-300x124.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-768x318.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-500x207.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-150x62.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-400x165.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange-200x83.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/capture_onchange.png%20771w" alt="capture_onchange" width="771"></a>At this point, we&#x2019;re handling and logging the input, but we&#x2019;re still not capturing it; we&#x2019;re not saving it somewhere so that we can use it for a search term. Before we do that, we need to go over&#xA0;<em>state</em>.</p>
<p><strong id="state">Initializing and Setting State</strong><br>
Recall from Part One that when we created our <a href="http://patternhatch.com/2016/07/06/a-primer-on-the-react-ecosystem-part-1-of-3/#component">first component</a>, we also passed it some <a href="https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html#components-are-just-state-machines" target="_blank">state</a>. To recap, we instantiated our&#xA0;<em>greeting</em> component like this:</p>

		<div id="crayon-57a0bb27e7da9982469840" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7da9982469840-1"><span class="crayon-o">&lt;</span><span class="crayon-e">Greeting </span><span class="crayon-r">name</span><span class="crayon-o">=</span><span class="crayon-s">"World"</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We said, &#x201C;Create a&#xA0;<em>greeting</em> component and pass it a piece of state called&#xA0;<em>name</em> with value &#x2018;World'&#x201D;.</p>
<p>Inside the&#xA0;<em>greeting</em> component, that state was then available through the&#xA0;<em>props</em> object:</p>

		<div id="crayon-57a0bb27e7db1417328737" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7db1417328737-1"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7db1417328737-2"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"greeting"</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7db1417328737-3"><span class="crayon-v">Hello</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-o">!</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7db1417328737-4"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>This <em>props</em> object was immutable; the value of&#xA0;<em>this.props.name</em> could not be changed.</p>
<p>In a sense, the <em>greeting</em> component was &#x201C;dumb&#x201D;. It was simply told what to render. It had no say in it and couldn&#x2019;t change anything.&#xA0;What&#xA0;we saw in Part One is how state can be&#xA0;<strong>passed</strong> to a component for consumption.&#xA0;Now, we&#x2019;ll see how a component can manage its&#xA0;<strong>own</strong> state.</p>
<p>We need to capture the value in our <em>SearchBar</em>&#x2018;s&#xA0;<em>input</em> component since it dictates what we search for. In other words, what the user types&#xA0;is a piece&#xA0;of&#xA0;<em>state</em> we need to capture and keep updating.</p>
<p>The first step is to set <em>SearchBar</em>&#x2018;s <em>state</em> when it&#x2019;s first created (i.e. to initialize it). When creating components ES6-style, we initialize a component&#x2019;s <em>state</em> in its <em>constructor</em>. The second step is to update the state to the latest value of the input box each time the value changes.</p>
<p>Add the highlighted lines to <em>SearchBar.jsx</em>:</p>

		<div id="crayon-57a0bb27e7dba541911390" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7dba541911390-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7dba541911390-3"><span class="crayon-t">class</span><span class="crayon-e">SearchBar </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7dba541911390-4"><span class="crayon-r">constructor</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7dba541911390-5"><span class="crayon-r">super</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7dba541911390-6"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7dba541911390-7"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7dba541911390-9"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dba541911390-12"><span class="crayon-e">handleInputChange</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top" id="crayon-57a0bb27e7dba541911390-13"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7dba541911390-14"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">value</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-bottom" id="crayon-57a0bb27e7dba541911390-15"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dba541911390-18"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7dba541911390-19"><span class="crayon-st">return</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-r">onChange</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7dba541911390-23"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 4]</strong>&#xA0;We declare a <em>constructor</em> function and have it accept the component&#x2019;s&#xA0;<em>props</em>&#xA0;as an argument.</p>
<p><strong>[Line 5]</strong>&#xA0;We call SearchBar&#x2019;s parent constructor through the&#xA0;<em>super</em> call. There are two important things to note here. First, whenever we explicitly declare a child constructor, we <strong>have</strong> to&#xA0;call&#xA0;<em>super</em>. If we don&#x2019;t, the&#xA0;<em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank">this</a></em>&#xA0;keyword will be undefined. Second,&#xA0;we pass&#xA0;<em>props</em> as an argument to the&#xA0;<em>super</em> call. Doing this gives us access to&#xA0;<em>props</em>&#xA0;throughout our&#xA0;<em>SearchBar</em> component through&#xA0;<em>this.props</em>.</p>
<p>Check it out yourself. If you delete the&#xA0;<em>super</em> call, you&#x2019;ll see a terminal&#xA0;error stating&#xA0;<em>&#x2018;this&#x2019; is not allowed before super()</em>. If you include the&#xA0;<em>super</em> call without passing it&#xA0;<em>props</em>, then try to log <em>this.props</em>, <em>this.props</em>&#xA0;be&#xA0;<em>undefined.</em></p>
<p><strong>[Lines 6-8]</strong>&#xA0;We set&#xA0;our initial <em>state</em>, which consists of a key called <em>searchTerm</em> assigned an empty string to start.</p>
<p><strong>[Line 9]</strong> We explicitly bind <em>this</em> to the <em>handleInputChange </em>event handler<em>. </em>This will require further explanation which I&#x2019;ll get to next.</p>
<p><strong>[Lines 13-15]</strong> Each time the input box value changes, <em>handle</em><em>InputChange</em> will be called, which is where we set the new state. To set the state, we call the&#xA0;<em><a href="https://facebook.github.io/react/docs/component-api.html#setstate" target="_blank">setState</a></em> function defined in <em>SearchBar</em>&#x2018;s parent,&#xA0;<em>React.Component,</em> and assign the latest value to <em>searchTerm</em>.</p>
<p>A bit more about the explicit <em>this</em> binding on <strong>[Line 9]</strong>. You may know that the value of <em>this</em>&#xA0;inside a function depends on <strong>how</strong> that function was called; it depends on what was on the <strong>left-side</strong> of the function at the call site. Because we are passing <em>handle</em><em>InputChange</em> down to the <em>input</em> component, we want to ensure that when <em>input</em> invokes <em>handle</em><em>InputChange</em>, the <em>this</em> value points to <em>SearchBar. </em>In other words, we want <em>handleInputChange</em> to be invoked&#xA0;<strong>as if</strong> <em>SearchBar</em> was on the left-side of it. That way, the <em>this</em> value will contain all the properties we expect such as <em>props</em> and the <em>setState </em>function.</p>
<p>Explicitly binding <em>this</em> is required for ES6-style components (but not for components created ES5-style). Without the explicit binding, <em>setState</em> inside <em>handleInputChange</em><em>&#xA0;</em>will fail to resolve, leading to this error:</p>

		<div id="crayon-57a0bb27e7dcb206108029" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7dcb206108029-1"><span class="crayon-e">Uncaught </span><span class="crayon-v">TypeError</span><span class="crayon-o">:</span><span class="crayon-e">Cannot </span><span class="crayon-e">read </span><span class="crayon-m">property</span><span class="crayon-s">'setState'</span><span class="crayon-e">of </span><span class="crayon-v">undefined</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We&#x2019;ll be doing more explicit binding of <em>this</em> as we build out our other components. For coverage about all the intricacies of <em>this</em>, I recommend Kyle Simpson&#x2019;s excellent <a href="https://github.com/getify/You-Dont-Know-JS" target="_blank">You Don&#x2019;t Know JS</a> series.</p>
<p>So that&#x2019;s all it takes to update a component&#x2019;s internal state. From here on out, each time the value in the input box changes, <em>handleInputChange</em> will be called, which in turn will update our <em>searchTerm</em> state to the latest input box value.</p>
<p>Before we move on, note that we should always update state using&#xA0;the&#xA0;<em>setState</em> function, and never change it directly (e.g. this.state.searchTerm&#xA0;= &#x201C;don&#x2019;t do this&#x201D;). Mutating state directly bypasses React&#x2019;s state management system and can result in unpredictable behavior.</p>
<p>Finally, the ESLint error previously showing for <em>SearchBar</em> (<em>Component should be written as a pure function</em>) should now be gone. You&#x2019;ll understand why when we look at the two ways to create ES6-style components.</p>
<p>Alright, so now we have a <em>SearchBar</em> component which tracks a piece of its internal state. We can now use it to fire a search request at Spotify. Let&#x2019;s take a look at the API methods we&#x2019;ll be using.</p>
<p><strong id="spotify">Using the Spotify API</strong><br>
We want to use the Spotify API to:</p>
<ol>
<li>retrieve an artist&#x2019;s albums,</li>
<li>retrieve&#xA0;an album&#x2019;s tracks,</li>
<li>play a preview clip of a track.</li>
</ol>
<p>Fortunately, at the time of this writing, Spotify does&#xA0;<strong>not</strong> require us to register for an API key. Let&#x2019;s take a look at what Spotify provides by sending it a few search queries.</p>
<p>I&#x2019;ll be using the excellent <a href="https://www.getpostman.com/" target="_blank">Postman</a> for Chrome to try out the API.&#xA0;I highly recommend Postman,&#xA0;but using an online service like <a href="https://www.hurl.it/" target="_blank">hurl.it</a>, your browser directly, or even <a href="https://curl.haxx.se/" target="_blank">curl</a> will work.</p>
<p>To retrieve an artist&#x2019;s albums, I set up Postman like so and click&#xA0;<em>Send</em>:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album.png" rel="attachment wp-att-687"><img class="alignnone size-full wp-image-687" src="http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album-300x65.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album-500x108.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album-400x87.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album-200x43.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/postman_search_album.png%20756w" alt="postman_search_album" width="756"></a></p>
<p>If you&#x2019;re not using Postman, just copy and paste this into your browser bar:<br>
<a href="https://api.spotify.com/v1/search?q=My%20Bloody%20Valentine&amp;type=album" target="_blank">https://api.spotify.com/v1/search?q=My%20Bloody%20Valentine&amp;type=album</a></p>
<p>What we&#xA0;get back is a JSON payload listing the artist&#x2019;s albums, with each album accompanied by the album name, ID, and album cover at multiple dimensions, among other information.</p>
<p>In a browser, the JSON response payload looks like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload.png" rel="attachment wp-att-698"><img class="alignnone size-full wp-image-698" src="http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-300x252.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-768x646.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-500x421.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-150x126.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-400x337.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload-200x168.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_albums_payload.png%20769w" alt="json_albums_payload" width="769"></a></p>
<p>We can see that the albums are in the&#xA0;<em>items</em> array.</p>
<p>If you take one of the URLs from an album&#x2019;s&#xA0;<em>images</em> array such as this:<br>
<a href="https://i.scdn.co/image/9b81a34f8aed2f82bb9287764eb520d2af1e6172" target="_blank">https://i.scdn.co/image/9b81a34f8aed2f82bb9287764eb520d2af1e6172</a></p>
<p>and paste it into the browser bar, you should get the cover.</p>
<p>Now let&#x2019;s try retrieving the tracks for an album. Take one of the album IDs in the payload. I&#x2019;ll be using the ID of the first album&#xA0;in the <em>items</em> array:&#xA0;&#xA0;<em>3GH4IiI6jQAIvnHVdb5FB6</em>.</p>
<p>To retrieve an album&#x2019;s tracks, use this request:<br>
<a href="https://api.spotify.com/v1/albums/3GH4IiI6jQAIvnHVdb5FB6" target="_blank">https://api.spotify.com/v1/albums/3GH4IiI6jQAIvnHVdb5FB6</a></p>
<p>What we get back is a JSON payload with information about the album. The payload also includes an object&#xA0;called&#xA0;<em>tracks</em>&#xA0;, which has an&#xA0;<em>items</em> array holding the tracks:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload.png" rel="attachment wp-att-699"><img class="alignnone size-full wp-image-699" src="http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload-300x267.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload-500x446.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload-400x356.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload-200x178.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/json_tracks_payload.png%20762w" alt="json_tracks_payload" width="762"></a><br>
One key of interest accompanying each track is the&#xA0;<em>preview_url</em>. If&#xA0;we copy and paste one of these such as:<br>
<a href="https://p.scdn.co/mp3-preview/3e01581bd39f90b2248770cbf52dae0553ccf2ab" target="_blank">https://p.scdn.co/mp3-preview/3e01581bd39f90b2248770cbf52dae0553ccf2ab</a></p>
<p>into our browser bar, the browser should (hopefully) play a 30-second clip of the track.</p>
<p>Ok, so we now know how to get albums, get tracks, and play a preview of each track. Summarizing the API calls needed:</p>
<ul>
<li>Retrieve an artist&#x2019;s albums:&#xA0;<em>https://api.spotify.com/v1/search?q=<span>{artist}</span>&amp;type=album</em></li>
<li>Retrieve an album&#x2019;s tracks:&#xA0;<em>https://api.spotify.com/v1/albums/<span>{albumId}</span></em></li>
<li>Play a preview: Hit the&#xA0;<em>preview_url</em> of the track we&#x2019;re interested in.</li>
</ul>
<p>Great, let&#x2019;s start moving this functionality into our app.</p>
<p><strong id="fetchingdata">Fetching data</strong><br>
To fetch data from Spotify, we&#x2019;re going to use a library called <a href="https://github.com/mzabriskie/axios" target="_blank">axios</a>, a <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">promise</a>-based HTTP&#xA0;client. Start by installing it like so:</p>

		

<p>Next, in your&#xA0;<em>src</em> directory, create a directory called&#xA0;<em>api</em>.</p>
<p>Inside the&#xA0;<em>api</em> directory, create a file called&#xA0;<em>musicApi.js. </em>We&#x2019;re going to put our calls to Spotify in&#xA0;<em>musicApi.js</em>, isolating them in one place. Your project&#x2019;s <em>src</em> directory structure should now look like this:</p>

		<div id="crayon-57a0bb27e7dea485935857" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7dea485935857-1"><span class="crayon-o">-</span>src</p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dea485935857-2"><span class="crayon-e "> -api</span></p><p class="crayon-line" id="crayon-57a0bb27e7dea485935857-3"><span class="crayon-o">--</span>musicApi<span class="crayon-sy">.</span>js</p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dea485935857-4"><span class="crayon-e "> -components</span></p><p class="crayon-line" id="crayon-57a0bb27e7dea485935857-5"><span class="crayon-o">--</span>SearchBar<span class="crayon-sy">.</span>jsx</p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dea485935857-6"><span class="crayon-o">--</span>index<span class="crayon-sy">.</span>html</p><p class="crayon-line" id="crayon-57a0bb27e7dea485935857-7"><span class="crayon-o">--</span>index<span class="crayon-sy">.</span>js</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Populate <em>musicApi.js</em>:</p>

		<div id="crayon-57a0bb27e7df1631425193" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-1"><span class="crayon-e">import </span><span class="crayon-e">axios </span><span class="crayon-i">from</span><span class="crayon-s">'axios'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-3"><span class="crayon-t">function</span><span class="crayon-e">fetch</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7df1631425193-4"><span class="crayon-v">axios</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-5"><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-v">response</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7df1631425193-6"><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-7"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7df1631425193-10"><span class="crayon-e">export </span><span class="crayon-t">function</span><span class="crayon-e">getAlbums</span><span class="crayon-sy">(</span><span class="crayon-v">artist</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-11"><span class="crayon-m">const</span><span class="crayon-v">request</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//api.spotify.com/v1/search?q=${artist}&amp;type=album`;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7df1631425193-12"><span class="crayon-e">fetch</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-15"><span class="crayon-e">export </span><span class="crayon-t">function</span><span class="crayon-e">getTracks</span><span class="crayon-sy">(</span><span class="crayon-v">albumId</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7df1631425193-16"><span class="crayon-m">const</span><span class="crayon-v">request</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//api.spotify.com/v1/albums/${albumId}`;</span></p><p class="crayon-line" id="crayon-57a0bb27e7df1631425193-17"><span class="crayon-e">fetch</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Our API is straight-forward, but let&#x2019;s do a quick walkthrough. At the top, we import the <em>axios</em> library.</p>
<p><strong>[Lines 3-8]</strong>&#xA0;We declare a generic&#xA0;<em>fetch</em> function which takes a request to send, and a callback to pass the response to. We pass the request to axios&#x2019;&#xA0;<em>get</em> method, which returns a promise. Once that promise resolves (i.e. data is available), we call our callback with it.&#xA0;Axios stores&#xA0;the actual payload content in the response&#x2019;s&#xA0;<em>data</em> object.</p>
<p><strong>[Lines 10-13]</strong> In this function, we use a <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Template_literals" target="_blank">template literal</a> to form our album request before calling&#xA0;<em>fetch</em> with it.</p>
<p><strong>[Lines 15-18] </strong>Here we do the same for tracks.</p>
<p>Let&#x2019;s take stock of where we are. We have an <em>App</em> container, a <em>SearchBar</em> component, and an API which can help us retrieve music from Spotify.</p>
<p>Let&#x2019;s move on to creating our <em>AlbumList</em>&#xA0;component.</p>
<p><strong id="albumlist">Album List</strong><br>
In your&#xA0;<em>component</em> directory, create <em>AlbumList.jsx</em>:</p>

		<div id="crayon-57a0bb27e7dfd115390051" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-3"><span class="crayon-m">const</span><span class="crayon-v">AlbumList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dfd115390051-4"><span class="crayon-m">const</span><span class="crayon-v">albums</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">album</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">li</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dfd115390051-6"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-7"><span class="crayon-o">&lt;</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dfd115390051-8"><span class="crayon-sy">{</span><span class="crayon-v">albums</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-9"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-13"><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7dfd115390051-14"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7dfd115390051-17"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 3]</strong> We define a function called&#xA0;<em>AlbumList</em> which takes a&#xA0;<em>props</em> argument.</p>
<p><strong>[Line 4]</strong> <em>props</em> will have an <em>albums</em> property which holds the array of albums we want to render. We map over the albums, creating an array of <em>&lt;li&gt;</em>&#xA0;elements, with each holding an album name.</p>
<p><strong>[Lines 6-10]</strong> We return a&#xA0;<em>&lt;ul&gt;</em>&#xA0;element, with&#xA0;our list of album names inside.<strong><br>
</strong></p>
<p><strong>[Lines 13-15] </strong>This is our first encounter with <em>propTypes</em>. In development mode, React checks the <em>props</em> that are passed into a component. For each&#xA0;<em>props</em> property, React attempts to look it up in the component&#x2019;s&#xA0;<em>propTypes</em> object to ensure that (a) the prop is expected and (b) the prop is of the correct type. In this case, we&#x2019;re specifying that the <em>AlbumList</em> component is expecting a <em>props</em> property called <em>albums</em>, that it&#x2019;s an array, and that it&#x2019;s required.</p>
<p>Your app will still work&#xA0;<strong>without</strong>&#xA0;this <em>propTypes</em> object, but you&#x2019;ll see errors in your browser console as well as from ESLint.</p>
<p>Now clearly the&#xA0;<em>AlbumList</em> component has been created differently:</p>
<ul>
<li>It does not extend <em>React.Component</em>.</li>
<li>It&#x2019;s a function, not a class.</li>
<li>It does not have a&#xA0;<em>render</em> method.</li>
<li>It&#x2019;s passed&#xA0;<em>props</em> explicitly.</li>
</ul>
<p>There are reasons for this. Let&#x2019;s briefly go over the difference between a component such as <em>SearchBar</em>, and a component such as <em>AlbumList</em>.</p>
<p><strong id="twostyles">Two Styles of Component Creation</strong><br>
There are two main&#xA0;ways to create a component in React:</p>
<ol>
<li>As a stateful component.</li>
<li>As a stateless, functional component.</li>
</ol>
<p>A stateful component is exactly what it sounds like: it tracks some form of internal state. In addition, by extending <em>React.Component</em>, it also must have a&#xA0;<em>render</em> method, and may optionally implement other methods such as <a href="https://facebook.github.io/react/docs/component-specs.html#lifecycle-methods" target="_blank">Lifecycle</a> callbacks.</p>
<p>Lifecycle callbacks are handy when you want to be notified&#xA0;when a component is about to be <a href="https://facebook.github.io/react/docs/component-specs.html#mounting-componentwillmount" target="_blank">rendered</a>, or <a href="https://facebook.github.io/react/docs/component-specs.html#updating-componentwillupdate" target="_blank">updated</a>, or at another step in its lifecycle. A stateful component also has access to the&#xA0;<em>this</em>&#xA0;keyword through which it accesses its&#xA0;<em>props </em>(this is&#xA0;assuming you handled&#xA0;<em>this</em>&#xA0;correctly in the constructor as mentioned earlier).</p>
<p><em>SearchBar.jsx</em> is an example of a stateful component. Taking a look at it as it currently is:</p>

		<div id="crayon-57a0bb27e7e0d969577760" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-3"><span class="crayon-t">class</span><span class="crayon-e">SearchBar </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e0d969577760-4"><span class="crayon-r">constructor</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-5"><span class="crayon-r">super</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e0d969577760-6"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-7"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-9"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e0d969577760-12"><span class="crayon-e">handleInputChange</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-13"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e0d969577760-14"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">value</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-15"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e0d969577760-18"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-19"><span class="crayon-st">return</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-r">onChange</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e0d969577760-23"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>We can see that it tracks the value of the input box as a piece of internal state,&#xA0;implements&#xA0;a&#xA0;<em>render</em>&#xA0;method, and also uses the&#xA0;<em>this</em> keyword to pass the&#xA0;<em>handleInputChange</em> method down to the&#xA0;<em>input</em> component.</p>
<p>In contrast, a functional, stateless component is a pure function which doesn&#x2019;t track anything internally. When given X, it always outputs Y.</p>
<p><em>AlbumList</em> is an example of a functional, stateless component. It doesn&#x2019;t need to track state, it doesn&#x2019;t need access to the&#xA0;<em>this</em> keyword, and its sole responsibility is to render an array of albums passed in through its&#xA0;<em>props</em>.</p>
<p>How do you choose between creating a stateful and a stateless component?</p>
<p>My view is that state in general is like a useful virus that needs to be contained. A little bit helps us build what we need to build. But a lot of it, spread out, leads to buggy code that&#x2019;s hard to reason about. So in general,&#xA0;favor creating functional, stateless components as:</p>
<ul>
<li>being functional and stateless, they are easier to reason about, test, and debug.</li>
<li><em>props</em> are explicit and there is no need to wrestle with the intricacies of the&#xA0;<em>this</em> keyword.</li>
<li>they are leaner than their stateful counterparts.</li>
</ul>
<p>This is why ESLint is still complaining about how our <em>App</em> component should be written as a pure function, since it currently doesn&#x2019;t track any state and can be technically written in the preferred stateless form. We&#x2019;ll keep it as a stateful component as we&#x2019;re going to track state in it soon.</p>
<p>There are a few advanced exceptions where you may still want to make something a class-based (stateful) component even without tracking any internal state. For example, one lifecycle method available is&#xA0;<em><a href="https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate" target="_blank">shouldComponentUpdate</a></em>, which allows you to write custom code to check whether a component should update&#xA0;at all. If you can write a fast check here, you may get <a href="https://facebook.github.io/react/docs/advanced-performance.html" target="_blank">improved performance</a>, but to start with that is often premature optimization.</p>
<p>Let&#x2019;s wire this stuff up and get something showing on the screen.</p>
<p><strong id="retrievingalbums">Retrieving Albums</strong><br>
It&#x2019;s finally time to retrieve albums and display them on screen.&#xA0;<em>AlbumList</em> is ready to receive an array to render, so no changes needed there for now.</p>
<p>What we need to do is use <em>SearchBar</em>&#x2018;s input box value as a search term for our&#xA0;<em>musicApi</em>. Let&#x2019;s start by modifying&#xA0;<em>index.js</em>&#xA0;by adding the highlighted lines:</p>

		<div id="crayon-57a0bb27e7e1c944759733" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Lines 4-5]</strong> We import our <em>AlbumList</em> component and all the functions &#xA0;from <em>musicApi.js</em>.</p>
<p><strong>[Lines 8-9]</strong> We create a constructor and call&#xA0;<em>super</em>. Notice that we don&#x2019;t pass in the <em>props</em> argument because, being the overall container, <em>App </em>doesn&#x2019;t&#xA0;require access to it. However, we still call&#xA0;<em>super</em> in order to gain access to<em> this</em>. Without calling&#xA0;<em>super</em>,&#xA0;<em>this</em> remains undefined.</p>
<p><strong>[Lines 10-12]</strong> We initialize a piece of state called&#xA0;<em>albums</em>, assigning it an empty array as its value. This state will hold the list of albums retrieved for the current artist.</p>
<p><strong>[Line 13-14]</strong>&#xA0;We explicitly bind&#xA0;<em>this</em> to the <em>getAlbums </em>callback we intend to pass to the <em>SearchBar</em> component, and the&#xA0;<em>processAlbums</em> callback we intend to pass to&#xA0;<em>musicApi</em>.</p>
<p><strong>[Lines 17-19]</strong>&#xA0;This is the function we&#x2019;ll pass down to&#xA0;our&#xA0;<em>SearchBar</em> component as one of its <em>props</em>. When a user hits enter in the input box, <em>App</em>&#x2018;s <em>getAlbums</em>&#xA0;function&#xA0;will be invoked.&#xA0;<em>getAlbums</em> in turn will call <em>musicApi</em>&#x2018;s&#xA0;<em>getAlbums</em> function.</p>
<p><strong>[Lines 21-25]</strong> This is the function we pass our <em>musicApi</em> to call back on once it retrieves the albums.</p>
<p><strong>[Line 30]</strong>&#xA0;We pass <em>App</em>&#x2018;s <em>getAlbums</em>&#xA0;function down as a prop to&#xA0;<em>SearchBar.</em></p>
<p><strong>[Line 31]</strong> We pass our array of albums down as a prop to&#xA0;<em>AlbumList</em>. Since the initial value of the <em>albums</em> state is an empty array, nothing will be rendered.</p>
<p>Because our <em>App</em> component now tracks some state, the ESLint error should now be gone.</p>
<p>Let&#x2019;s&#xA0;make the necessary changes to <em>SearchBar.jsx</em>. Add or modify the highlighted lines:</p>

		<div id="crayon-57a0bb27e7e2c458799560" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Lines 10]</strong> Explicitly bind&#xA0;<em>this</em> to the <em>handleKeyPress</em> event handler.</p>
<p><strong>[Lines 19-23]</strong>&#xA0;<em>handleKeyPress</em> will detect when the &#x2018;Enter&#x2019; key is pressed. Upon that happening, the passed-in <em>getAlbums</em> function will be called with the&#xA0;<em>searchTerm</em>.</p>
<p><strong>[Line 26]</strong> We pass our <em>handleKeyPress&#xA0;</em>event handler to the&#xA0;<em>input</em> component.</p>
<p><strong>[Lines 30-32]&#xA0;</strong>We specify that our component expects a prop called <em>getAlbums</em>, the&#xA0;value of which&#xA0;is a function, and that it&#x2019;s required.</p>
<p>Let&#x2019;s give the search feature a try.</p>
<p>If you don&#x2019;t already have it running, fire up your dev server. Enter an artist into the search box and hit the <em>Enter</em> key. Your browser should now render a list of albums in response:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/first_search.png" rel="attachment wp-att-707"><img class="alignnone size-full wp-image-707" src="http://patternhatch.com/wp-content/uploads/2016/07/first_search-300x210.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search-768x537.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search-500x350.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search-150x105.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search-400x280.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search-200x140.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/first_search.png%20771w" alt="first_search" width="771"></a>To summarize the logic flow, here&#x2019;s what&#x2019;s happening:</p>
<ol>
<li>User types a search term into the <em>input</em> box.</li>
<li>User hits the <em>Enter</em> key.</li>
<li><em>SearchBar</em>, through its <em>props</em>, calls <em>getAlbums</em> in&#xA0;<em>index.js</em>, which leads to <em>getAlbums</em> in <em>musicApi.js</em> getting called.</li>
<li><em>musicApi</em>&#xA0;makes the call to Spotify. When it receives a response, it passes the response to the callback. In this case, the callback is&#xA0;<em>processAlbums</em> in <em>index.js</em>.</li>
<li><em>processAlbums&#xA0;</em>updates the piece of internal state called <em>albums</em>, assigning it the array of <em>items</em> in the payload.</li>
<li>This new state&#xA0;is passed to&#xA0;<em>AlbumList</em>, which&#xA0;then re-renders the list of album names.</li>
</ol>
<p>Despite everything working, if you look at your browser&#x2019;s console output, you should see something like this:</p>

		<div id="crayon-57a0bb27e7e3c602412906" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e3c602412906-1"><span class="crayon-r ">Warning</span><span class="crayon-o">:</span>Eachchild<span class="crayon-k">in</span>anarrayoriteratorshouldhaveaunique<span class="crayon-s">"key"</span>prop<span class="crayon-sy">.</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e3c602412906-2"><span class="crayon-r ">Check</span>therendermethodof<span class="crayon-sy">`</span>AlbumList<span class="crayon-sy">`</span><span class="crayon-sy">.</span></p><p class="crayon-line" id="crayon-57a0bb27e7e3c602412906-3"><span class="crayon-r ">See</span>https<span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-o">/</span>fb<span class="crayon-sy">.</span>me<span class="crayon-o">/</span>react<span class="crayon-o">-</span>warning<span class="crayon-o">-</span>keys<span class="crayon-k">for</span><span class="crayon-r">more</span>information<span class="crayon-sy">.</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e3c602412906-4"><span class="crayon-k">in</span>li<span class="crayon-sy">(</span>createdbyAlbumList<span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57a0bb27e7e3c602412906-5"><span class="crayon-k">in</span>AlbumList<span class="crayon-sy">(</span>createdbyApp<span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e3c602412906-6"><span class="crayon-k">in</span>div<span class="crayon-sy">(</span>createdbyApp<span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57a0bb27e7e3c602412906-7"><span class="crayon-k">in</span>App</p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>When we render lists of children as we do in <em>AlbumList</em>, we should supply each list item a unique key. React then uses these keys for <a href="https://facebook.github.io/react/docs/multiple-components.html#dynamic-children" target="_blank">reconciliation</a> during state changes, reordering, or filtering. This subsequently leads to better performance. In the absence of explicit keys, React uses the array index as the key (but it&#x2019;ll still complain anyway). We&#x2019;ll remedy this when we create the <em>Album</em> component.</p>
<p>Before we build more components, let&#x2019;s go over how React re-renders the album list as you make new searches.</p>
<p><strong id="virtualdom">The Virtual DOM</strong><br>
What makes a <a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank">Single-Page Application (SPA)</a> like ours appealing is the fluidity of interaction. Whenever you invoke a new search, the album list updates without requiring a full page reload. Likewise, when you use an app like Gmail and pull up an email, the inbox gets &#x2018;hidden&#x2019; and replaced by the message, while the sidebar and other parts of the page remain. This leads to a snappy, desktop-like experience.</p>
<p>Delivering this experience requires figuring out which part of the DOM to update when a change or interaction occurs. Different Javascript frameworks use different strategies. Ember uses <a href="https://guides.emberjs.com/v1.10.0/object-model/bindings/" target="_blank">data-binding</a>, Angular 1 uses <a href="https://docs.angularjs.org/guide/scope" target="_blank">dirty checking</a>, and React uses the <a href="https://facebook.github.io/react/docs/displaying-data.html#reactive-updates" target="_blank">Virtual DOM</a>, which we&#x2019;ll briefly cover.</p>
<p>When a component&#x2019;s <em>render</em> method is first called, it outputs a model of your DOM called a <em>Virtual DOM, </em>not the actual DOM elements themselves. The <em>Virtual DOM</em> is a Javascript data structure representing what your DOM should look like. React then takes this representation and generates the actual DOM elements from it.</p>
<p>From then on, any time there&#x2019;s a state change in your component (i.e. <em>setState</em> is called), the component&#x2019;s <em>render</em> method will be invoked, and a <strong>new</strong> <em>Virtual DOM</em> created. This <strong>new</strong> <em>Virtual DOM</em> is then <strong>diff&#x2019;d</strong> against the <strong>previous</strong> <em>Virtual DOM</em>. The results of this diff operation represent the actual DOM changes to make. Your DOM is then &#x2018;patched&#x2019; with these changes, resulting in a change in the display.</p>
<p>Let&#x2019;s walk through how this applies to our app in its current state:</p>
<ol>
<li>At startup, our album list is an empty array. When our <em>App</em>&#x2018;s <em>render</em> method is called, the <em>Virtual DOM</em> has no data representing our list of albums, resulting in nothing being displayed.</li>
<li>After a search is executed and results returned from our <em>musicApi</em>, <em>setState</em> in <em>index.js</em> is called, where the <em>albumList</em> state is set to the array of albums returned.</li>
<li>React detects this state change and calls <em>render</em>, which outputs a new <em>Virtual DOM</em> representation.</li>
<li>This new <em>Virtual DOM</em> is diff&#x2019;d against the previous <em>Virtual DOM</em>, and it&#x2019;s determined that the album list has changed (from an empty array to something).</li>
<li>A DOM patch is generated and takes effect, resulting in our list of albums getting rendered.</li>
</ol>
<p>Subsequent artist searches follow the same flow.</p>
<p>The implications of this are that:</p>
<ol>
<li>Only the parts of the DOM which need to change are changed.</li>
<li>The DOM changes are batched for greater efficiency.</li>
<li>For you as the app developer, DOM updates are automatic and taken care of.</li>
</ol>
<p>Now that we have a handle on how React re-renders when there&#x2019;s a state update, let&#x2019;s look to improve the look of our app.</p>
<p><strong id="aesthetics">A Detour Through Aesthetics</strong><br>
In this section, we&#x2019;ll spruce up our app with better layout and styling. Nothing fancy. Just enough to get it to demo quality.</p>
<p>First, let&#x2019;s get rid of displaying albums with text and use album covers instead. Make the following change to <em>AlbumList.jsx</em>:</p>

		<div id="crayon-57a0bb27e7e4f835768915" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-3"><span class="crayon-m">const</span><span class="crayon-v">AlbumList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-4"><span class="crayon-m">const</span><span class="crayon-v">albums</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">album</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top" id="crayon-57a0bb27e7e4f835768915-5"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-6"><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e4f835768915-7"><span class="crayon-o">&lt;</span><span class="crayon-e">img</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-8"><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">images</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e4f835768915-9"><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e4f835768915-11"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-13"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-15"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-16"><span class="crayon-o">&lt;</span><span class="crayon-e">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-17"><span class="crayon-sy">{</span><span class="crayon-v">albums</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-18"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-22"><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e4f835768915-23"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e4f835768915-26"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>After the change, our app should look like this:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/album_covers.png" rel="attachment wp-att-708"><img class="alignnone size-full wp-image-708" src="http://patternhatch.com/wp-content/uploads/2016/07/album_covers-258x300.png%20258w,%20http://patternhatch.com/wp-content/uploads/2016/07/album_covers-768x894.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/album_covers-500x582.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/album_covers-400x465.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/album_covers-200x233.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/album_covers.png%20771w" alt="album_covers" width="771"></a></p>
<p>For layout, we&#x2019;ll be using <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>. We won&#x2019;t be using much of Bootstrap, so to keep it simple, we&#x2019;re going to just import Bootstrap directly from a CDN in our <em>index.html</em>:</p>

		<div id="crayon-57a0bb27e7e59372450086" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e59372450086-1"><span class="crayon-n">&lt;!DOCTYPE html&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-2"><span class="crayon-r ">&lt;html&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e59372450086-3"><span class="crayon-r ">&lt;head&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-4"><span class="crayon-r ">&lt;title&gt;</span><span class="crayon-i ">Respotify</span><span class="crayon-r ">&lt;/title&gt;</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7e59372450086-5"><span class="crayon-r ">&lt;link </span><span class="crayon-e ">rel</span><span class="crayon-o">=</span><span class="crayon-s ">"stylesheet"</span><span class="crayon-e ">href</span><span class="crayon-o">=</span><span class="crayon-s ">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"</span><span class="crayon-r ">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-6"><span class="crayon-r ">&lt;/head&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e59372450086-7"><span class="crayon-r ">&lt;body&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-8"><span class="crayon-r ">&lt;h1&gt;</span><span class="crayon-i ">Respotify</span><span class="crayon-r ">&lt;/h1&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e59372450086-9"><span class="crayon-r ">&lt;div </span><span class="crayon-e ">id</span><span class="crayon-o">=</span><span class="crayon-s ">"container"</span><span class="crayon-r ">&gt;</span><span class="crayon-r ">&lt;/div&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-10"><span class="crayon-i ">&#xA0;&#xA0;&#xA0;&#xA0;<span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></span></p><p class="crayon-line" id="crayon-57a0bb27e7e59372450086-11"><span class="crayon-r ">&lt;/body&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e59372450086-12"><span class="crayon-r ">&lt;/html&gt;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Next, we&#x2019;ll apply some basic styles to our <em>SearchBar</em> and <em>AlbumList</em> components. With React, you have the option of using plain CSS styling, or <a href="https://facebook.github.io/react/tips/inline-styles.html" target="_blank"><em>inline styling</em></a>. The former is the same thing we&#x2019;ve been doing for ages. You simply create a <em>style.css</em> file, import it in your <em>index.html</em> file, and then refer to the selectors.</p>
<p>Inline styling is styling using Javascript. With inline styling, you create a Javascript object representing your styles, then pass that object as a prop to your component.</p>
<p>I actually prefer using an explicit css file<em>. </em>The technique is well-understood, more reusable, and industry standard. However, because this is a tutorial, I&#x2019;m going to use inline styling to just show you a different way to approach styling React components. This way, you&#x2019;ll know both approaches and can choose for yourself.</p>
<p>Let&#x2019;s start with the <em>SearchBar</em> component. Make the highlighted additions and changes to <em>SearchBar.jsx</em>:</p>

		<div id="crayon-57a0bb27e7e64127292702" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-3"><span class="crayon-t">class</span><span class="crayon-e">SearchBar </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-4"><span class="crayon-r">constructor</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-5"><span class="crayon-r">super</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-6"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-7"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-s">''</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-9"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-10"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleKeyPress</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleKeyPress</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-13"><span class="crayon-e">handleInputChange</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-14"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-15"><span class="crayon-v">searchTerm</span><span class="crayon-o">:</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">value</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-16"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-19"><span class="crayon-e">handleKeyPress</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-20"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">key</span><span class="crayon-o">===</span><span class="crayon-s">'Enter'</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-21"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-e">getAlbums</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">searchTerm</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-25"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7e64127292702-26"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e64127292702-27"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">div</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-28"><span class="crayon-o">&lt;</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span><span class="crayon-e">Search </span><span class="crayon-st">for</span><span class="crayon-e">an </span><span class="crayon-v">Artist</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e64127292702-29"><span class="crayon-o">&lt;</span><span class="crayon-e">input</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-30"><span class="crayon-r">onChange</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleInputChange</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e64127292702-31"><span class="crayon-v">onKeyPress</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">handleKeyPress</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-32"><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">input</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-34"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-39"><span class="crayon-v">SearchBar</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-40"><span class="crayon-v">getAlbums</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-v">func</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top" id="crayon-57a0bb27e7e64127292702-43"><span class="crayon-v">SearchBar</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-44"><span class="crayon-v">div</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e64127292702-45"><span class="crayon-v">margin</span><span class="crayon-o">:</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-46"><span class="crayon-v">textAlign</span><span class="crayon-o">:</span><span class="crayon-s">'center'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e64127292702-48"><span class="crayon-v">input</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e64127292702-49"><span class="crayon-v">width</span><span class="crayon-o">:</span><span class="crayon-s">'60%'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e64127292702-53"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">SearchBar</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Examing this from the <strong>bottom-up</strong>:</p>
<p><strong>[Lines 43-51]</strong> We add a <em>styles</em> object to our <em>SearchBar</em> component. The <em>styles</em> object itself has styling for a div, and the input box. Naming the styling objects <em>div</em> and <em>input</em> is entirely my choice. However, notice how the Javascript keys in the <em>div</em> and <em>input</em> objects look like their CSS counterparts, except they&#x2019;re in camelCase (e.g. textAlign vs text-align).</p>
<p><strong>[Line 29-33] </strong>We pass the <em>input</em> component its <em>style</em> prop, specifying that its width should be 60% of its container&#x2019;s width.</p>
<p><strong>[Line 28]</strong> Just a label for the input box.</p>
<p><strong>[Line 27]</strong> We now enclose the <em>input</em> component in a div, passing the div a <em>style</em> prop the value of which is the <em>div</em> styling object. In other words, we are specifying that this div should have a margin of 30px and its contents should be centered.</p>
<p>In addition, <span><strong>remove </strong></span>the <em>&lt;h1&gt;</em> from <em>index.html </em><strong>[Line 8]</strong><em>.</em></p>
<p>If you look at your app now, you should see the styling take effect:<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar.png" rel="attachment wp-att-709"><img class="alignnone size-full wp-image-709" src="http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar-300x73.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar-768x187.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar-500x122.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar-400x98.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar-200x49.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/centered_searchbar.png%20771w" alt="centered_searchbar" width="771"></a></p>
<p>To summarize, if you want to style React components inline, create an object representing the style you want to apply, then pass that object as a <em>style</em> prop to the target component.</p>
<p>Let&#x2019;s also apply some styling to <em>AlbumList.jsx</em>:</p>

		<div id="crayon-57a0bb27e7e73911148162" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-3"><span class="crayon-m">const</span><span class="crayon-v">AlbumList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-4"><span class="crayon-m">const</span><span class="crayon-v">albums</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">album</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-5"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-6"><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-7"><span class="crayon-o">&lt;</span><span class="crayon-e">img</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-8"><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">images</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-9"><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-11"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-13"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-15"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7e73911148162-16"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-4"</span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">div</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-17"><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">ul</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-18"><span class="crayon-sy">{</span><span class="crayon-v">albums</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-19"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7e73911148162-20"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-24"><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-25"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7e73911148162-28"><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-29"><span class="crayon-v">div</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-30"><span class="crayon-v">width</span><span class="crayon-o">:</span><span class="crayon-cn">370</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-31"><span class="crayon-v">marginLeft</span><span class="crayon-o">:</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-32"><span class="crayon-v">textAlign</span><span class="crayon-o">:</span><span class="crayon-s">'right'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-33"><span class="crayon-v">maxHeight</span><span class="crayon-o">:</span><span class="crayon-s">'85vh'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-34"><span class="crayon-v">overflowY</span><span class="crayon-o">:</span><span class="crayon-s">'auto'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7e73911148162-36"><span class="crayon-v">ul</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7e73911148162-37"><span class="crayon-v">listStyle</span><span class="crayon-o">:</span><span class="crayon-s">'none'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e73911148162-41"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Again working our way from the bottom-up:</p>
<p><strong>[Lines 28-39]</strong> We create a <em>styles</em> object holding the styles we want to apply to the <em>div</em> and the <em>ul</em> elements.</p>
<p><strong>[Line 17]</strong> The ul styling is passed as a <em>style</em> prop down to the ul component.</p>
<p><strong>[Lines 16, 20]</strong> The ul component is wrapped in a div, which is also supplied a <em>style</em> prop. In addition, we use a bit of Bootstrap to place our album div in four columns.</p>
<p>The end effect is to render our list of albums with its own scrollbar:<a href="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll.png" rel="attachment wp-att-710"><img class="alignnone size-full wp-image-710" src="http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-300x214.png%20300w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-768x548.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-500x357.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-150x107.png%20150w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-400x285.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll-200x143.png%20200w,%20http://patternhatch.com/wp-content/uploads/2016/07/searchbar_scroll.png%20771w" alt="searchbar_scroll" width="771"></a></p>

<p>This way, as we scroll, the list of tracks on the right will remain in view.</p>
<p>Now that we have our app looking good enough for a demo, let&#x2019;s move on to creating the individual <em>Album </em>component.</p>
<p><strong id="album">Album</strong><br>
Currently we render our albums directly inside the&#xA0;<em>AlbumList</em> component. What we want is to have an actual <em>Album</em> component take care of it.</p>
<p>Start by creating <em>Album.jsx</em> in your <em>components</em> folder:</p>

		<div id="crayon-57a0bb27e7e80525254173" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-3"><span class="crayon-m">const</span><span class="crayon-v">Album</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e80525254173-4"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-5"><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e80525254173-6"><span class="crayon-o">&lt;</span><span class="crayon-e">img</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-7"><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">images</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e80525254173-8"><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-9"><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">img</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-11"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-15"><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e80525254173-16"><span class="crayon-v">album</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-19"><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e80525254173-20"><span class="crayon-v">img</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-21"><span class="crayon-v">marginBottom</span><span class="crayon-o">:</span><span class="crayon-s">'1em'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7e80525254173-25"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">Album</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Hopefully by now the patterns are starting to set in and things are looking familiar.</p>
<p><strong>[Line 3]</strong> We create the <em>Album</em> component as a stateless, functional component receiving explicit <em>props</em>. The <em>props</em> will contain one album to render.</p>
<p><strong>[Lines 4-12]</strong> We return a list item representing the album. The item itself, an <em>img</em> element, includes some styling.</p>
<p><strong>[Lines 15-17]</strong> We set up the <em>propTypes</em> specifying a <em>props</em> value called <em>album</em> is expected, and that it&#x2019;s an object.</p>
<p><strong>[Lines 19-23]</strong> We specify some styling for our <em>img</em> element.</p>
<p>We can now refactor <em>AlbumList.jsx</em> as follows:</p>

		<div id="crayon-57a0bb27e7e8b013243992" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 2]</strong> We import our <em>Album </em>component.</p>
<p><strong>[Lines 4-5]</strong> For each album, we instantiate an <em>Album</em> component and pass it the album object as a prop. We also now pass each <em>Album</em> component a unique key in the form of the album id. With this addition, the warning you see in your browser console should now be gone.</p>
<p>Our app should look identical to the way it was before the refactoring save for some spacing between the albums.</p>
<p>Let&#x2019;s move on to retrieving, rendering, and playing tracks.</p>
<p><strong id="tracklist">Track List</strong><br>
From here on out, we&#x2019;re going to move pretty quick. Everything we&#x2019;ve learned building the <em>AlbumList</em> and <em>Album</em> components applies directly to the <em>TrackList</em> and <em>Track</em> components we&#x2019;re going to build.</p>
<p>Let&#x2019;s start by creating <em>TrackList.jsx</em> in the <em>components</em> folder:</p>

		<div id="crayon-57a0bb27e7e95208277356" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-2"><span class="crayon-e">import </span><span class="crayon-e">Track </span><span class="crayon-i">from</span><span class="crayon-s">'./Track'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-4"><span class="crayon-m">const</span><span class="crayon-v">TrackList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-5"><span class="crayon-m">const</span><span class="crayon-v">tracks</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">tracks</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">track</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Track </span><span class="crayon-v">key</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">track</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">}</span><span class="crayon-v">track</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">track</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-7"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-8"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-3"</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-9"><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">listStyle</span><span class="crayon-o">:</span><span class="crayon-s">'none'</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-10"><span class="crayon-sy">{</span><span class="crayon-v">tracks</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-11"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-12"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-16"><span class="crayon-v">TrackList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7e95208277356-17"><span class="crayon-v">tracks</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7e95208277356-20"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">TrackList</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 2]</strong> We import our <em>Track</em> component which, of course, doesn&#x2019;t exist yet.</p>
<p><strong>[Line 4]</strong> The <em>TrackList</em> component is created as a stateless, functional component.</p>
<p><strong>[Line 5]</strong> For each track, we instantiate a <em>Track</em> component.</p>
<p><strong>[Line 8-12]</strong> We set our <em>div</em> to span three columns, within which we have a <em>ul</em> component, passing it a style <strong>directly</strong> rather than declaring a style object. The <em>ul</em> component wraps our array of <em>Track</em> components.</p>
<p><strong>[Lines 16-18]</strong> We tell React this component expects an array in its props called <em>tracks.</em></p>
<p>Next, the <em>Track</em> component.</p>
<p><strong id="track">Track</strong><br>
In the components folder, create <em>Track.jsx:</em></p>

		<div id="crayon-57a0bb27e7ea0769380483" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-3"><span class="crayon-m">const</span><span class="crayon-e ">mouseOverColor</span><span class="crayon-o">=</span><span class="crayon-s">'#ADD8E6'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-4"><span class="crayon-m">const</span><span class="crayon-e ">mouseOutColor</span><span class="crayon-o">=</span><span class="crayon-s">'white'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-6"><span class="crayon-m">const</span><span class="crayon-v">Track</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-7"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-8"><span class="crayon-o">&lt;</span><span class="crayon-e">li</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-9"><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">li</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-10"><span class="crayon-v">onMouseOver</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">style</span><span class="crayon-sy">.</span><span class="crayon-v">backgroundColor</span><span class="crayon-o">=</span><span class="crayon-v">mouseOverColor</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-11"><span class="crayon-v">onMouseOut</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">style</span><span class="crayon-sy">.</span><span class="crayon-v">backgroundColor</span><span class="crayon-o">=</span><span class="crayon-v">mouseOutColor</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-13"><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">track</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-14"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-18"><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-19"><span class="crayon-v">track</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-22"><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-23"><span class="crayon-v">li</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-24"><span class="crayon-v">fontSize</span><span class="crayon-o">:</span><span class="crayon-s">'1.5em'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-25"><span class="crayon-v">padding</span><span class="crayon-o">:</span><span class="crayon-s">'0.2em'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ea0769380483-26"><span class="crayon-v">listStyleType</span><span class="crayon-o">:</span><span class="crayon-s">'none'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-27"><span class="crayon-v">backgroundColor</span><span class="crayon-o">:</span><span class="crayon-v">mouseOutColor</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ea0769380483-31"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">Track</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p>Similar to the <em>AlbumList</em>, <em>Album</em>, and <em>TrackList</em> components, the <em>Track </em> component is also a stateless, functional component with inline styling and propTypes.</p>
<p>I just want to point out <strong>[Lines 10-11]</strong>. The <em>li</em> component can take event handlers for mouse over and mouse out events. Here, we&#x2019;re specifying that we want the list item to be a shade of blue when the mouse is over it, and white when the mouse is not.</p>
<p>Alright, so now that we have a <em>TrackList</em> and <em>Track</em> component, we need to retrieve the tracks themselves.</p>
<p><strong id="retrievingtracks">Retrieving Tracks</strong><br>
We currently retrieve albums by passing a&#xA0;<em>getAlbums</em> callback to our <em>SearchBar</em> component. When the user hits enter,&#xA0;<em>SearchBar</em> invokes&#xA0;<em>getAlbums</em>, which in turn leads to albums being retrieved from Spotify.</p>
<p>In a similar vein, we&#x2019;re going to pass a&#xA0;<em>getTracks</em> callback to our <em>Album</em> component. When the user clicks on an album, <em>getTracks</em> will be invoked, which will lead to tracks being retrieved from Spotify. Because the <em>Album</em> component is a child of the <em>AlbumList</em> component, we&#x2019;ll need to first pass <em>getTracks</em> to <em>AlbumList</em>. <em>AlbumList </em>will then pass the callback further down to <em>Album.</em></p>
<p>Modify <em>index.js</em> as follows:</p>

		<div id="crayon-57a0bb27e7eac813181382" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 5]</strong> We import our <em>TrackList</em> component.</p>
<p><strong>[Line 13]</strong> We introduce a new piece of state called <em>tracks</em>. Similar to the <em>albums</em> state, <em>tracks</em> will hold the array of tracks for the currently selected album.</p>
<p><strong>[Lines 17-18]</strong> These are the callbacks we&#x2019;re going to use. Since we&#x2019;re going to pass them elsewhere, we explicitly bind <em>this.</em></p>
<p><strong>[Lines 25-27]</strong> This is the callback we&#x2019;re going to pass to the <em>AlbumList</em> component. When it&#x2019;s invoked, it&#x2019;ll call <em>musicApi</em>&#x2018;s <em>getTracks</em>.</p>
<p><strong>[Line 32] </strong>We set our <em>tracks</em> state to a blank array when a user retrieves albums for another artist. This way we won&#x2019;t have albums for one artist listed on the left, with tracks from another artist on the right.</p>
<p><strong>[Lines 36-40]</strong> This is the callback we&#x2019;re going to pass to <em>musicApi</em> when we retrieve tracks. When tracks are received from Spotify, this callback will be invoked and our <em>tracks </em>state updated.</p>
<p><strong>[Line 46] </strong>We modify the <em>AlbumList</em> instantiation to include a <em>getTracks </em>prop, the value of which is our <em>getTracks</em> callback.</p>
<p><strong>[Line 47]</strong> We instantiate a <em>TrackList</em> component, passing it an array of tracks as a prop.</p>
<p>Next, we need to have <em>AlbumList</em> pass the <em>getTracks</em> callback down to <em>Album</em><em>. </em>This is done with a simple modification in <em>AlbumList.jsx</em>:</p>

		<div id="crayon-57a0bb27e7ebc276543866" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7ebc276543866-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-2"><span class="crayon-e">import </span><span class="crayon-e">Album </span><span class="crayon-i">from</span><span class="crayon-s">'./Album'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-4"><span class="crayon-m">const</span><span class="crayon-v">AlbumList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top" id="crayon-57a0bb27e7ebc276543866-5"><span class="crayon-m">const</span><span class="crayon-v">albums</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">album</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-6"><span class="crayon-o">&lt;</span><span class="crayon-e">Album </span><span class="crayon-v">key</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">}</span><span class="crayon-v">album</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">album</span><span class="crayon-sy">}</span><span class="crayon-v">getTracks</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">getTracks</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-8"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7ebc276543866-9"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-3"</span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">div</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-10"><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">ul</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ebc276543866-11"><span class="crayon-sy">{</span><span class="crayon-v">albums</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-12"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ebc276543866-13"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ebc276543866-17"><span class="crayon-v">AlbumList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ebc276543866-18"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7ebc276543866-19"><span class="crayon-v">getTracks</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-v">func</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Lines 5-6]</strong> All that&#x2019;s happening here is that we&#x2019;re taking the <em>getTracks</em> prop passed down from <em>App</em>, and passing it further down to <em>Album</em>.</p>
<p><strong>[Line 19]</strong> We declare that the <em>AlbumList</em> component expects a <em>getTracks</em> function prop. Even though we&#x2019;re just passing it down, we still need to declare it since we reference it.</p>
<p>Lastly, we&#x2019;ll modify <em>Album.jsx</em> to invoke the <em>getTracks</em> callback in response to a click:</p>

		<div id="crayon-57a0bb27e7ec6341685252" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-3"><span class="crayon-m">const</span><span class="crayon-v">Album</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-4"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-5"><span class="crayon-o">&lt;</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-6"><span class="crayon-o">&lt;</span><span class="crayon-e">img</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-7"><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">images</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-8"><span class="crayon-v">alt</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-9"><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">img</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-10"><span class="crayon-r">onClick</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-e">getTracks</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">album</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-12"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-16"><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-17"><span class="crayon-v">album</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-18"><span class="crayon-v">getTracks</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-v">func</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-21"><span class="crayon-v">Album</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ec6341685252-22"><span class="crayon-v">img</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-23"><span class="crayon-v">marginBottom</span><span class="crayon-o">:</span><span class="crayon-s">'1em'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ec6341685252-27"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">Album</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 10]</strong> We assign an inline function to the <em>img</em> component&#x2019;s <em>onClick</em> prop. Now when a user clicks an album image, <em>getTracks</em> will be called.</p>
<p><strong>[Line 18]</strong> Standard <em>propType</em> declaration.</p>
<p>Alright, let&#x2019;s give it a try. If you click on an album cover now, you should see a list of tracks render on the right (make sure your browser window is wide enough for the albums and tracks to be side-by-side):<br>
<a href="http://patternhatch.com/wp-content/uploads/2016/08/track_list.png" rel="attachment wp-att-711"><img class="alignnone size-full wp-image-711" src="http://patternhatch.com/wp-content/uploads/2016/08/track_list-282x300.png%20282w,%20http://patternhatch.com/wp-content/uploads/2016/08/track_list-768x816.png%20768w,%20http://patternhatch.com/wp-content/uploads/2016/08/track_list-500x531.png%20500w,%20http://patternhatch.com/wp-content/uploads/2016/08/track_list-400x425.png%20400w,%20http://patternhatch.com/wp-content/uploads/2016/08/track_list.png%20770w" alt="track_list" width="770"></a></p>
<p>Now that we can retrieve tracks, the final step in this post is to play a preview of a track when the user clicks on it.</p>
<p><strong id="trackpreview">Track Preview</strong><br>
The same callback pattern we&#x2019;ve been using so far applies to playing track previews.</p>
<p>We&#x2019;re going to pass a <em>playPreview</em> callback down to the <em>TrackList</em> component. <em>TrackList</em> in turn will pass the <em>playPreview</em> callback down to the <em>Track</em> component. In the <em>Track</em> component, we&#x2019;ll capture user click events and invoke the <em>playPreview</em> callback accordingly.</p>
<p>Let&#x2019;s start by modifying <em>index.js</em>:</p>

		<div id="crayon-57a0bb27e7ed3931227458" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-2"><span class="crayon-e">import </span><span class="crayon-e">ReactDOM </span><span class="crayon-i">from</span><span class="crayon-s">'react-dom'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-3"><span class="crayon-e">import </span><span class="crayon-e">SearchBar </span><span class="crayon-i">from</span><span class="crayon-s">'./components/SearchBar'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-4"><span class="crayon-e">import </span><span class="crayon-e">AlbumList </span><span class="crayon-i">from</span><span class="crayon-s">'./components/AlbumList'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-5"><span class="crayon-e">import </span><span class="crayon-e">TrackList </span><span class="crayon-i">from</span><span class="crayon-s">'./components/TrackList'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-6"><span class="crayon-v">import</span><span class="crayon-o">*</span><span class="crayon-st">as</span><span class="crayon-e">musicApi </span><span class="crayon-i">from</span><span class="crayon-s">'./api/musicApi'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-8"><span class="crayon-t">class</span><span class="crayon-e">App </span><span class="crayon-r">extends</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-i">Component</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-9"><span class="crayon-r">constructor</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-10"><span class="crayon-r">super</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-11"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-12"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-13"><span class="crayon-v">tracks</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-14"><span class="crayon-v">currentPreview</span><span class="crayon-o">:</span><span class="crayon-t">null</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-15"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-16"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getAlbums</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getAlbums</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-17"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processAlbums</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processAlbums</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-18"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getTracks</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getTracks</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-19"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processTracks</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processTracks</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-20"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">playPreview</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">playPreview</span><span class="crayon-sy">.</span><span class="crayon-e">bind</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-23"><span class="crayon-e">getAlbums</span><span class="crayon-sy">(</span><span class="crayon-v">artist</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-24"><span class="crayon-v">musicApi</span><span class="crayon-sy">.</span><span class="crayon-e">getAlbums</span><span class="crayon-sy">(</span><span class="crayon-v">artist</span><span class="crayon-sy">,</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processAlbums</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-27"><span class="crayon-e">getTracks</span><span class="crayon-sy">(</span><span class="crayon-v">albumId</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-28"><span class="crayon-v">musicApi</span><span class="crayon-sy">.</span><span class="crayon-e">getTracks</span><span class="crayon-sy">(</span><span class="crayon-v">albumId</span><span class="crayon-sy">,</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">processTracks</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-31"><span class="crayon-e">processAlbums</span><span class="crayon-sy">(</span><span class="crayon-v">payload</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-32"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-33"><span class="crayon-v">albums</span><span class="crayon-o">:</span><span class="crayon-v">payload</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">.</span><span class="crayon-v">items</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-34"><span class="crayon-v">tracks</span><span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-35"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-38"><span class="crayon-e">processTracks</span><span class="crayon-sy">(</span><span class="crayon-v">payload</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-39"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-40"><span class="crayon-v">tracks</span><span class="crayon-o">:</span><span class="crayon-v">payload</span><span class="crayon-sy">.</span><span class="crayon-v">tracks</span><span class="crayon-sy">.</span><span class="crayon-v">items</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-41"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-44"><span class="crayon-e">playPreview</span><span class="crayon-sy">(</span><span class="crayon-v">previewUrl</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7ed3931227458-45"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">currentPreview</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-46"><span class="crayon-m">const</span><span class="crayon-v">curAudioObject</span><span class="crayon-o">=</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">currentPreview</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7ed3931227458-47"><span class="crayon-v">curAudioObject</span><span class="crayon-sy">.</span><span class="crayon-e">pause</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-50"><span class="crayon-m">const</span><span class="crayon-v">newAudioObject</span><span class="crayon-o">=</span><span class="crayon-r">new</span><span class="crayon-e">Audio</span><span class="crayon-sy">(</span><span class="crayon-v">previewUrl</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7ed3931227458-51"><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-52"><span class="crayon-v">currentPreview</span><span class="crayon-o">:</span><span class="crayon-v">newAudioObject</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7ed3931227458-53"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-marked-line" id="crayon-57a0bb27e7ed3931227458-55"><span class="crayon-v">newAudioObject</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-58"><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-59"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-60"><span class="crayon-o">&lt;</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-61"><span class="crayon-o">&lt;</span><span class="crayon-e">SearchBar </span><span class="crayon-v">getAlbums</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getAlbums</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-62"><span class="crayon-o">&lt;</span><span class="crayon-e">AlbumList </span><span class="crayon-v">albums</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">albums</span><span class="crayon-sy">}</span><span class="crayon-v">getTracks</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">getTracks</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7ed3931227458-63"><span class="crayon-o">&lt;</span><span class="crayon-e">TrackList </span><span class="crayon-v">tracks</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">tracks</span><span class="crayon-sy">}</span><span class="crayon-v">playPreview</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">playPreview</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-64"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-69"><span class="crayon-v">ReactDOM</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ed3931227458-70"><span class="crayon-o">&lt;</span><span class="crayon-v">App</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7ed3931227458-71"><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'container'</span><span class="crayon-sy">)</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 14]</strong> The&#xA0;<em>currentPreview</em> state will represent the current preview we&#x2019;re playing in the form of an <em>Audio</em> object.</p>
<p><strong>[Line 20]</strong> We explicitly bind the <em>playPreview</em> callback we intend to pass to <em>TrackList.</em></p>
<p><strong>[Line 44-56]</strong> In the <em>playPreview</em> callback, we first check whether we have a preview currently playing. If so, we pause it. We then create a new <em>Audio</em> object for the preview we currently want and assign it as the new&#xA0;<em>currentPreview</em> state before playing it.</p>
<p><strong>[Line 63] </strong>We pass the <em>playPreview</em> callback down to <em>TrackList.</em></p>
<p>You&#x2019;ve probably guessed what we need to do in <em>TrackList.jsx</em>:</p>

		<div id="crayon-57a0bb27e7ee1970589327" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7ee1970589327-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-2"><span class="crayon-e">import </span><span class="crayon-e">Track </span><span class="crayon-i">from</span><span class="crayon-s">'./Track'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-4"><span class="crayon-m">const</span><span class="crayon-v">TrackList</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-marked-line crayon-top" id="crayon-57a0bb27e7ee1970589327-5"><span class="crayon-m">const</span><span class="crayon-v">tracks</span><span class="crayon-o">=</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">tracks</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">track</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-marked-line crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-6"><span class="crayon-o">&lt;</span><span class="crayon-e">Track </span><span class="crayon-v">track</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">track</span><span class="crayon-sy">}</span><span class="crayon-v">playPreview</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">playPreview</span><span class="crayon-sy">}</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-8"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line" id="crayon-57a0bb27e7ee1970589327-9"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-e ">className</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-3"</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-10"><span class="crayon-o">&lt;</span><span class="crayon-e">ul </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">listStyle</span><span class="crayon-o">:</span><span class="crayon-s">'none'</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ee1970589327-11"><span class="crayon-sy">{</span><span class="crayon-v">tracks</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-12"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ul</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ee1970589327-13"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7ee1970589327-17"><span class="crayon-v">TrackList</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-18"><span class="crayon-v">tracks</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">array</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7ee1970589327-19"><span class="crayon-v">playPreview</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-v">func</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7ee1970589327-22"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">TrackList</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Lines 5-6]</strong> We pass the <em>playPreview</em> callback down to <em>Track</em>.</p>
<p><strong>[Line 19]</strong> We set our <em>propTypes</em> expectations accordingly.</p>
<p>Finally, in <em>Track.jsx</em><em>:</em></p>

		<div id="crayon-57a0bb27e7eea524899394" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate">
		
			
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums ">
					
				</td>
						<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-1"><span class="crayon-e">import </span><span class="crayon-e">React </span><span class="crayon-i">from</span><span class="crayon-s">'react'</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-3"><span class="crayon-m">const</span><span class="crayon-e ">mouseOverColor</span><span class="crayon-o">=</span><span class="crayon-s">'#ADD8E6'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-4"><span class="crayon-m">const</span><span class="crayon-e ">mouseOutColor</span><span class="crayon-o">=</span><span class="crayon-s">'white'</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-6"><span class="crayon-m">const</span><span class="crayon-v">Track</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-7"><span class="crayon-st">return</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-8"><span class="crayon-o">&lt;</span><span class="crayon-e">li</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-9"><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-sy">.</span><span class="crayon-v">li</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-10"><span class="crayon-v">onMouseOver</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">style</span><span class="crayon-sy">.</span><span class="crayon-v">backgroundColor</span><span class="crayon-o">=</span><span class="crayon-v">mouseOverColor</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-11"><span class="crayon-v">onMouseOut</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">.</span><span class="crayon-v">style</span><span class="crayon-sy">.</span><span class="crayon-v">backgroundColor</span><span class="crayon-o">=</span><span class="crayon-v">mouseOutColor</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-57a0bb27e7eea524899394-12"><span class="crayon-r">onClick</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-e">playPreview</span><span class="crayon-sy">(</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">track</span><span class="crayon-sy">.</span><span class="crayon-v">preview_url</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-14"><span class="crayon-sy">{</span><span class="crayon-v">props</span><span class="crayon-sy">.</span><span class="crayon-v">track</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-15"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-19"><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">propTypes</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-20"><span class="crayon-v">track</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-57a0bb27e7eea524899394-21"><span class="crayon-v">playPreview</span><span class="crayon-o">:</span><span class="crayon-v">React</span><span class="crayon-sy">.</span><span class="crayon-v">PropTypes</span><span class="crayon-sy">.</span><span class="crayon-v">func</span><span class="crayon-sy">.</span><span class="crayon-v">isRequired</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-24"><span class="crayon-v">Track</span><span class="crayon-sy">.</span><span class="crayon-v">styles</span><span class="crayon-o">=</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-25"><span class="crayon-v">li</span><span class="crayon-o">:</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-26"><span class="crayon-v">fontSize</span><span class="crayon-o">:</span><span class="crayon-s">'1.5em'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-27"><span class="crayon-v">padding</span><span class="crayon-o">:</span><span class="crayon-s">'0.2em'</span><span class="crayon-sy">,</span></p><p class="crayon-line crayon-striped-line" id="crayon-57a0bb27e7eea524899394-28"><span class="crayon-v">listStyleType</span><span class="crayon-o">:</span><span class="crayon-s">'none'</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-29"><span class="crayon-v">backgroundColor</span><span class="crayon-o">:</span><span class="crayon-v">mouseOutColor</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-57a0bb27e7eea524899394-33"><span class="crayon-e">export </span><span class="crayon-st">default</span><span class="crayon-v">Track</span><span class="crayon-sy">;</span></p></div></td>
					</tr>
				</table>
			</div>
		</div>

<p><strong>[Line 12]</strong> We pass an inline function to the&#xA0;<em>li</em> element&#x2019;s <em>onClick</em> prop. When a list item gets clicked,&#xA0;the <em>playPreview</em> callback will be invoked.</p>
<p><strong>[Line 21] </strong>Declare <em>getTracks</em> in the&#xA0;<em>propTypes</em>.</p>
<p>Alright, time to take our app for a spin. Search for an artist&#x2019;s albums, retrieve the tracks by clicking an album cover, and then click on a track in the list. You should hear a 30-second preview come through.</p>
<p><strong id="onward">Onward</strong><br>
In this post, we learned the finer points of creating React components and composing them to create a front-end app. If you followed along, then congratulations on getting a React app up and running.</p>
<p>In the next installment, we&#x2019;ll explore how to improve our state management with the <em><a href="http://redux.js.org/" target="_blank">Redux</a></em> library. In the meantime, if you have any comments, suggestions, or corrections, please feel free to post them in the comments section or shoot me an <a href="http://patternhatch.com/about/">email</a>.</p>
									
																	</div>
								
								
																			
											
																	</div>
</body></html>
