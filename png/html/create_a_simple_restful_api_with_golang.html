<!DOCTYPE html><html><head><title>Create A Simple RESTful API With GoLang</title></head><body>
<h1>Create A Simple RESTful API With GoLang</h1><p><a href="https://www.thepolyglotdeveloper.com/2016/07/create-a-simple-restful-api-with-golang/" target="_new">Original URL</a></p>
<p><blockquote>Most modern applications have separation between the backend and the frontend layers. &#xA0;The backend is typically a RESTful API and is critical part of full stack development. &#xA0;These APIs are&hellip;</blockquote></p>
<div><div class="entry-content">
 <p>Most modern applications have separation between the backend and the frontend layers. &#xA0;The backend is typically a RESTful API and is critical part of full stack development. &#xA0;These APIs are generally further broken down into a collection of routes, often referred to as endpoints. &#xA0;Building applications like this is often very clean and maintainable in comparison to mashing everything into a single application.</p>
<p>I have been creating RESTful APIs with a variety of programming languages, for example <a href="https://www.thepolyglotdeveloper.com/2015/10/create-a-simple-restful-api-with-node-js/" target="_blank">Node.js</a> and Java, but lately I&#x2019;ve been doing a lot of research on the <a href="https://golang.org" target="_blank">Go</a> programming language. &#xA0;It is fast and very solid programming language that every seems to be talking about. &#xA0;Because of this it only made sense to see what it took to build a RESTful API with Go, often referred to as GoLang.</p>
<p>We&#x2019;re going to see what it takes to build a simple API that does basic CRUD operations using the Go programming language.</p>

<p>For simplicity, we&#x2019;re not going to be using a database in this example. &#xA0;We&#x2019;re going to be hard-coding some data which can be referred to as mock data. &#xA0;This will allow us to focus on core material like defining endpoints and doing basic operations.</p>
<p>At this point we&#x2019;re going to assume Go is already installed and configured on your machine. &#xA0;From the Terminal (Mac and Linux) or Command Prompt (Windows), execute the following:</p>
 
<div id="crayon-57838a96d6b2e297271010" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">Create New GoLang Project</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b2e297271010-1"><span class="crayon-r">mkdir</span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-v">$GOPATH</span><span class="crayon-o">/</span><span class="crayon-v">src</span><span class="crayon-o">/</span><span class="crayon-v">github</span><span class="crayon-e">.com</span><span class="crayon-o">/</span><span class="crayon-v">nraboy</span><span class="crayon-o">/</span><span class="crayon-v">restapi</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>If your command line doesn&#x2019;t support any of the above, just manually create the directory any way you see fit.</p>
<p>In the freshly created project, you&#x2019;ll want to create a file that contains our&#xA0;<code>main</code> function. &#xA0;In this example we&#x2019;ll be using&#xA0;<strong>$GOPATH/src/github.com/nraboy/restapi/myproject.go</strong>.</p>
<p>Inside this GoLang file we want to add the following code. &#xA0;It is a lot of code, but don&#x2019;t worry, we&#x2019;re going to break it down next.</p>
 
<div id="crayon-57838a96d6b3e293163925" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b3e293163925-1"><span class="crayon-st">package</span><span class="crayon-e">main</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-3"><span class="crayon-st">import</span><span class="crayon-sy">(</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-4"><span class="crayon-s">"encoding/json"</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-5"><span class="crayon-s">"log"</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-6"><span class="crayon-s">"net/http"</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-8"><span class="crayon-s">"github.com/gorilla/mux"</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-11"><span class="crayon-st">type</span><span class="crayon-e">Person</span><span class="crayon-st">struct</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-12"><span class="crayon-e">ID&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"id,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-13"><span class="crayon-e">Firstname </span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"firstname,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-14"><span class="crayon-e">Lastname&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"lastname,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-15"><span class="crayon-e ">Address&#xA0;&#xA0; *</span><span class="crayon-i">Address</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"address,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-18"><span class="crayon-st">type</span><span class="crayon-e">Address</span><span class="crayon-st">struct</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-19"><span class="crayon-e">City&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"city,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-20"><span class="crayon-e">State </span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"state,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-23"><span class="crayon-st">var</span><span class="crayon-i">people</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-e">Person</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-25"><span class="crayon-st">func</span><span class="crayon-e">GetPersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-26"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-27"><span class="crayon-st">for</span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-st">range</span><span class="crayon-e">people</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-28"><span class="crayon-st">if</span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">==</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-29"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-30"><span class="crayon-st">return</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-33"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-o">&amp;</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-36"><span class="crayon-st">func</span><span class="crayon-e">GetPeopleEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-37"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-40"><span class="crayon-st">func</span><span class="crayon-e">CreatePersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-41"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-42"><span class="crayon-st">var</span><span class="crayon-e">person </span><span class="crayon-i">Person</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-43"><span class="crayon-v">_</span><span class="crayon-o">=</span><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewDecoder</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">Body</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Decode</span><span class="crayon-sy">(</span><span class="crayon-o">&amp;</span><span class="crayon-v">person</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-44"><span class="crayon-v">person</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">=</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-45"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-v">person</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-46"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-49"><span class="crayon-st">func</span><span class="crayon-e">DeletePersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-50"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-51"><span class="crayon-st">for</span><span class="crayon-v">index</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-st">range</span><span class="crayon-e">people</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-52"><span class="crayon-st">if</span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">==</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-53"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">people</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-54"><span class="crayon-st">break</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-57"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-60"><span class="crayon-st">func</span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-61"><span class="crayon-v">router</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">NewRouter</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-62"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-v">ID</span><span class="crayon-o">:</span><span class="crayon-s">"1"</span><span class="crayon-sy">,</span><span class="crayon-v">Firstname</span><span class="crayon-o">:</span><span class="crayon-s">"Nic"</span><span class="crayon-sy">,</span><span class="crayon-v">Lastname</span><span class="crayon-o">:</span><span class="crayon-s">"Raboy"</span><span class="crayon-sy">,</span><span class="crayon-v">Address</span><span class="crayon-o">:</span><span class="crayon-o">&amp;</span><span class="crayon-e">Address</span><span class="crayon-sy">{</span><span class="crayon-v">City</span><span class="crayon-o">:</span><span class="crayon-s">"Dublin"</span><span class="crayon-sy">,</span><span class="crayon-v">State</span><span class="crayon-o">:</span><span class="crayon-s">"CA"</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-63"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-v">ID</span><span class="crayon-o">:</span><span class="crayon-s">"2"</span><span class="crayon-sy">,</span><span class="crayon-v">Firstname</span><span class="crayon-o">:</span><span class="crayon-s">"Maria"</span><span class="crayon-sy">,</span><span class="crayon-v">Lastname</span><span class="crayon-o">:</span><span class="crayon-s">"Raboy"</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-64"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people"</span><span class="crayon-sy">,</span><span class="crayon-v">GetPeopleEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-65"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">GetPersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-66"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">CreatePersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"POST"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b3e293163925-67"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">DeletePersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"DELETE"</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b3e293163925-68"><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">Fatal</span><span class="crayon-sy">(</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">ListenAndServe</span><span class="crayon-sy">(</span><span class="crayon-s">":12345"</span><span class="crayon-sy">,</span><span class="crayon-v">router</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>So what is happening in the above code?</p>
<p>The first thing you&#x2019;ll notice is that we&#x2019;re importing various dependencies. &#xA0;We&#x2019;ll be working with JSON data so the&#xA0;<code>encoding/json</code> dependency is required. &#xA0;While we&#x2019;ll be working with HTTP requests, the&#xA0;<code>net/http</code> dependency is not quite enough. &#xA0;The&#xA0;<code>mux</code> dependency is a helper to not only make endpoints easier to create, but also give us more features. &#xA0;Since this is an external dependency, it must be downloaded like follows:</p>
 
<div id="crayon-57838a96d6b47905010308" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">Get mux Dependency for Go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b47905010308-1"><span class="crayon-e">go </span><span class="crayon-r">get</span><span class="crayon-v">github</span><span class="crayon-e">.com</span><span class="crayon-o">/</span><span class="crayon-v">gorilla</span><span class="crayon-o">/</span><span class="crayon-v">mux</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>More information on mux can be found in the <a href="http://www.gorillatoolkit.org/pkg/mux" target="_blank">official documentation</a>.</p>
<p>With the dependencies imported we want to create the&#xA0;<code>struct</code> objects that will house our data. &#xA0;The data we plan to store will be people data:</p>
 
<div id="crayon-57838a96d6b4d116686080" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b4d116686080-1"><span class="crayon-st">type</span><span class="crayon-e">Person</span><span class="crayon-st">struct</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b4d116686080-2"><span class="crayon-e">ID&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"id,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b4d116686080-3"><span class="crayon-e">Firstname </span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"firstname,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b4d116686080-4"><span class="crayon-e">Lastname&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"lastname,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b4d116686080-5"><span class="crayon-e ">Address&#xA0;&#xA0; *</span><span class="crayon-i">Address</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"address,omitempty"</span><span class="crayon-sy">`</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>You&#x2019;ll notice we are defining what properties exist in the struct, but we are also defining tags that describe how the struct will appear as JSON. &#xA0;Inside each of the tags there is an&#xA0;<code>omitempty</code> parameter. &#xA0;This means that if the property is null, it will be excluded from the JSON data rather than showing up as an empty string or value.</p>
<p>Inside the&#xA0;<code>Person</code> struct there is an&#xA0;<code>Address</code> property that is a pointer. &#xA0;This will represent a nested JSON object and it must be a pointer otherwise the&#xA0;<code>omitempty</code> will fail to work. &#xA0;So what does&#xA0;<code>Address</code> look like?</p>
 
<div id="crayon-57838a96d6b53728635177" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b53728635177-1"><span class="crayon-st">type</span><span class="crayon-e">Address</span><span class="crayon-st">struct</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b53728635177-2"><span class="crayon-e">City&#xA0;&#xA0;</span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"city,omitempty"</span><span class="crayon-sy">`</span></p><p class="crayon-line" id="crayon-57838a96d6b53728635177-3"><span class="crayon-e">State </span><span class="crayon-t">string</span><span class="crayon-sy">`</span><span class="crayon-v">json</span><span class="crayon-o">:</span><span class="crayon-s">"state,omitempty"</span><span class="crayon-sy">`</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>Again, this is a nested structure that is not too different from the previous.</p>
<p>Because we&#x2019;re not using a database, we want to create a public variable that is global to the project. &#xA0;This variable will be a slice&#xA0;of&#xA0;<code>Person</code> and contain all the data used in this application.</p>
<p>Our easiest endpoint is probably the&#xA0;<code>GetPeopleEndpoint</code> because it will only return the full&#xA0;<code>person</code> variable to the frontend. &#xA0;Where things start to change is when we want to insert, delete, or get a particular record.</p>
 
<div id="crayon-57838a96d6b66861253248" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b66861253248-1"><span class="crayon-st">func</span><span class="crayon-e">GetPersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b66861253248-2"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b66861253248-3"><span class="crayon-st">for</span><span class="crayon-v">_</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-st">range</span><span class="crayon-e">people</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b66861253248-4"><span class="crayon-st">if</span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">==</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b66861253248-5"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b66861253248-6"><span class="crayon-st">return</span></p><p class="crayon-line" id="crayon-57838a96d6b66861253248-9"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-o">&amp;</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>In the above&#xA0;<code>GetPersonEndpoint</code> we are trying to get a single record. &#xA0;Using the mux library we can get any parameters that were passed in with the request. &#xA0;We then loop over our global slice&#xA0;and look for any ids that match the id found in the request parameters. &#xA0;If a match is found, use the JSON encoder to display it, otherwise create an empty JSON object.</p>
<p>In reality, your endpoints will communicate with a database and will probably involve a lot less application logic. &#xA0;This is because you&#x2019;ll be using some form of querying instead.</p>
<p>The&#xA0;<code>CreatePersonEndpoint</code> is a bit different because we&#x2019;ll be receiving JSON data to work with in the request.</p>
 
<div id="crayon-57838a96d6b6d204734797" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b6d204734797-1"><span class="crayon-st">func</span><span class="crayon-e">CreatePersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b6d204734797-2"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b6d204734797-3"><span class="crayon-st">var</span><span class="crayon-e">person </span><span class="crayon-i">Person</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b6d204734797-4"><span class="crayon-v">_</span><span class="crayon-o">=</span><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewDecoder</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">Body</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Decode</span><span class="crayon-sy">(</span><span class="crayon-o">&amp;</span><span class="crayon-v">person</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b6d204734797-5"><span class="crayon-v">person</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">=</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b6d204734797-6"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-v">person</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b6d204734797-7"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">)</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>In the above we decode the JSON data that was passed in and store it in a&#xA0;<code>Person</code> object. &#xA0;We assign the new object an id based on what mux found and then we append it to our global slice. &#xA0;In the end, our global array will be returned and it should include everything including our newly added piece of data.</p>
<p>In the scenario of this example application, the method for deleting data is a bit different as well.</p>
 
<div id="crayon-57838a96d6b74878828887" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b74878828887-1"><span class="crayon-st">func</span><span class="crayon-e">DeletePersonEndpoint</span><span class="crayon-sy">(</span><span class="crayon-i">w</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">ResponseWriter</span><span class="crayon-sy">,</span><span class="crayon-e ">req *</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b74878828887-2"><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">Vars</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b74878828887-3"><span class="crayon-st">for</span><span class="crayon-v">index</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-st">range</span><span class="crayon-e">people</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b74878828887-4"><span class="crayon-st">if</span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-v">ID</span><span class="crayon-o">==</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-s">"id"</span><span class="crayon-sy">]</span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-57838a96d6b74878828887-5"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">people</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b74878828887-6"><span class="crayon-st">break</span></p><p class="crayon-line" id="crayon-57838a96d6b74878828887-9"><span class="crayon-v">json</span><span class="crayon-sy">.</span><span class="crayon-e">NewEncoder</span><span class="crayon-sy">(</span><span class="crayon-v">w</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Encode</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">)</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>In this case, we have the&#xA0;<code>DeletePersonEndpoint</code> looping through the data similarly to the&#xA0;<code>GetPersonEndpoint</code> we saw earlier. &#xA0;The difference is that instead of printing the data, we need to remove it. &#xA0;When the id to be deleted has been found, we can recreate our slice with all data excluding that found at the index.</p>
<p>Finally we end up in our runnable&#xA0;<code>main</code> function that brings the application together.</p>
 
<div id="crayon-57838a96d6b7a017659800" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate">
<p class="crayon-toolbar"><span class="crayon-title">$GOPATH/src/github.com/nraboy/restapi/myproject.go</span>
</p>


<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums ">

</td>
<td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-57838a96d6b7a017659800-1"><span class="crayon-st">func</span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b7a017659800-2"><span class="crayon-v">router</span><span class="crayon-o">:</span><span class="crayon-o">=</span><span class="crayon-v">mux</span><span class="crayon-sy">.</span><span class="crayon-e">NewRouter</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b7a017659800-3"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-v">ID</span><span class="crayon-o">:</span><span class="crayon-s">"1"</span><span class="crayon-sy">,</span><span class="crayon-v">Firstname</span><span class="crayon-o">:</span><span class="crayon-s">"Nic"</span><span class="crayon-sy">,</span><span class="crayon-v">Lastname</span><span class="crayon-o">:</span><span class="crayon-s">"Raboy"</span><span class="crayon-sy">,</span><span class="crayon-v">Address</span><span class="crayon-o">:</span><span class="crayon-o">&amp;</span><span class="crayon-e">Address</span><span class="crayon-sy">{</span><span class="crayon-v">City</span><span class="crayon-o">:</span><span class="crayon-s">"Dublin"</span><span class="crayon-sy">,</span><span class="crayon-v">State</span><span class="crayon-o">:</span><span class="crayon-s">"CA"</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b7a017659800-4"><span class="crayon-v">people</span><span class="crayon-o">=</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">people</span><span class="crayon-sy">,</span><span class="crayon-e">Person</span><span class="crayon-sy">{</span><span class="crayon-v">ID</span><span class="crayon-o">:</span><span class="crayon-s">"2"</span><span class="crayon-sy">,</span><span class="crayon-v">Firstname</span><span class="crayon-o">:</span><span class="crayon-s">"Maria"</span><span class="crayon-sy">,</span><span class="crayon-v">Lastname</span><span class="crayon-o">:</span><span class="crayon-s">"Raboy"</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b7a017659800-5"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people"</span><span class="crayon-sy">,</span><span class="crayon-v">GetPeopleEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b7a017659800-6"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">GetPersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"GET"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b7a017659800-7"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">CreatePersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"POST"</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-57838a96d6b7a017659800-8"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">HandleFunc</span><span class="crayon-sy">(</span><span class="crayon-s">"/people/{id}"</span><span class="crayon-sy">,</span><span class="crayon-v">DeletePersonEndpoint</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Methods</span><span class="crayon-sy">(</span><span class="crayon-s">"DELETE"</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-57838a96d6b7a017659800-9"><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-e">Fatal</span><span class="crayon-sy">(</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">ListenAndServe</span><span class="crayon-sy">(</span><span class="crayon-s">":12345"</span><span class="crayon-sy">,</span><span class="crayon-v">router</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></p></div></td>
</tr>
</table>
</div>
</div>
 

<p>In the above code we first create our new router and add two objects to our slice to get things started. &#xA0;Next up we have to create each of the endpoints that will call our endpoint functions. &#xA0;Notice we are using&#xA0;<code>GET</code>,&#xA0;<code>POST</code>, and&#xA0;<code>DELETE</code> where appropriate. &#xA0;We are also defining parameters that can be passed in.</p>
<p>At the very end we define that our server will run on port&#xA0;<code>12345</code>, which at this point brings our project to a close. &#xA0;Run the project and give it a shot. &#xA0;You might need a tool like <a href="https://www.thepolyglotdeveloper.com/2015/01/using-postman-troubleshoot-restful-api-requests/" target="_blank">Postman</a> or cURL to test all the endpoints.</p>
<h2>Conclusion</h2>
<p>You just saw how to build a very simple RESTful API using the Go programming language. &#xA0;While we used mock data instead of a database, we saw how to create endpoints that do various operations with JSON data and GoLang slices. &#xA0;By creating an API your application will become easy to maintain and be expandable to web, mobile and IoT as each of these platforms will only require a different frontend that we had not created in this example.</p>
 </div> 
 
</div>
</body></html>
