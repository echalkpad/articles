<!DOCTYPE html><html><head><title>Overview | USB, DC & Solar Lipoly Charger</title></head><body>
<h1>Overview | USB, DC & Solar Lipoly Charger</h1><p><a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all" target="_new">Original URL</a></p>
<p><blockquote>Make your projects to go green this summer with our specialized USB/Solar Lithium Ion Polymer Battery charger! This charger is a very unique design, perfect for outdoor projects, or DIY iPod&hellip;</blockquote></p>
<div><div class="page-content all-page-view-content">
											 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1481">
 <img class="1481-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/481/medium800/projects_inuse.jpeg?1396773227" alt="projects_inuse.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 Make your projects to go green this summer with our specialized 
USB/Solar Lithium Ion Polymer Battery charger! This charger is a very 
unique design, perfect for outdoor projects, or DIY iPod chargers. We've
 spent over a year testing and tinkering with this charger to come up 
with a plug and play solution to charging batteries with the sun and 
we're really pleased with what we ended up with.
<p>Easy 
to use!
<a href="http://www.adafruit.com/category/44">Pick up any of our many 
3.7V/4.2V LiIon batteries</a>, and a <a href="http://www.adafruit.com/category/67">6V solar panel</a>.
 Plug the battery into the&#xA0;<strong>BATT</strong>&#xA0;port using a
 2-pin JST cable and the solar panel into the DC jack. Put the solar 
panel outside (and keep the battery out of the sun, it needs to be kept 
shaded!) to start charging. You can power another project like a 
Mintyboost at the same time by connecting to 
the&#xA0;<strong>LOAD</strong>&#xA0;output 
port</p>
<ul>
<li><strong>3.7V/4.2V Lithium Ion or
 Lithium Polymer battery 
charger</strong></li>
<li><strong>Charge with 
5-6V DC, USB or 6V solar 
panel!</strong></li>
<li>
<strong>Too dark 
out?</strong>&#xA0;Use a <a href="http://www.adafruit.com/products/260">USB mini-B 
cable</a> or a <a href="http://www.adafruit.com/products/276">5V DC 
adapter</a>
</li>
<li><strong>Automatic charging 
current tracking for high efficiency use of any wattage solar 
panel</strong></li>
<li>
<strong>Use any 6V solar 
panel&#xA0;</strong>(6V seems to work best, 5.5V may work, 5V does not 
work)</li>
<li>
<strong>Three color indicator 
LEDs&#xA0;</strong>- Power good, Charging and 
Done</li>
<li>
<strong>Low Battery 
Indicator&#xA0;</strong>(fixed at 3.1V) with LED 
output</li>
<li>
<strong>Set for 500mA max charge 
rate</strong>, can be adjusted from 50mA up to 1A by soldering in a
 resistor</li>
<li>
<strong>Will always draw the most 
current possible from a solar cell</strong>&#xA0;- up to the max charge
 rate!</li>
<li>
<strong>Smart load 
sharing</strong>&#xA0;automatically uses the input power when 
available, to keep battery from constantly 
charging/discharging</li>
<li>
<strong>Temperature 
monitoring&#xA0;</strong>of battery by <a href="http://www.adafruit.com/products/372">soldering in a 10K NTC 
thermistor</a> (not included) - suggested for outdoor projects 
where the battery may get hot (50&#xB0;C) or cold 
(0&#xB0;C).</li>
</ul>
<br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1482">
 <img class="1482-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/482/medium800/projects_solarmintyboost.jpeg?1396773233" alt="projects_solarmintyboost.jpeg">

</a> </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1483">
 <img class="1483-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/483/medium800/projects_usbsolarlipoback.jpeg?1396773238" alt="projects_usbsolarlipoback.jpeg">

</a> </div>

									</div>
									<div class="page-content all-page-view-content">
											 
 
 
 
 <div class="build-faq">
 <h2 class="question">
 <a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#faq-5" class="anchor-link"></a>
 
 <i class="fa fa-question-circle"></i>
 What solar panels can I use?</h2>
 <div class="answer">
<p>Use any rigid, flexible, monocrystal, polycrystal, etc panels with 6V rating (12 'cells') for the best performance</p>
<p>We've tried 5V panels and they don't work. 5.5V panels sometimes work, 6V is really the best!</p>
</div>
 </div>
 <div class="build-faq">
 <h2 class="question">
 <a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#faq-6" class="anchor-link"></a>
 
 <i class="fa fa-question-circle"></i>
 Can I charge with a solar panel on my windowsill?</h2>
 <p class="answer"><span>The charger will draw as much current as possible, but the efficiency of the panel will be much lower. Solar panels must not have any glass or shade to work efficiently, they must be outside, pointed as best as possible directly at the sun!</span></p>
 </div>

									</div>
									<div class="page-content all-page-view-content">
											 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#installing-the-capacitor" class="anchor-link"></a>Installing the Capacitor</h2>The first thing to do before starting to charge with a solar panel is to install the large filtering capacitor. This capacitor is necessary to stabilize the panel a little, and since we're going to charge with a lot of current, the capacitor needs to be pretty big. There is a spot on the PCB for the capacitor, you can of course install it directly there by soldering the wires of the capacitor into the pads.<br>
 </div>
 <div class="row-fluid build-alert">
 <p class="alert">
 <i class="fa fa-exclamation-circle"></i>
 Make sure to check the polarity of the capacitor, make sure the positive lead of the capacitor goes into the pad marked +!
 </p>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1488">
 <img class="1488-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/488/medium800/projects_bigcap.jpeg?1396773297" alt="projects_bigcap.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 
<p>If you're low on space, you can solder wires to the capacitor and then install it a little farther away. Just remember to use heatshrink to keep the capacitor legs from shorting. If you want you can bend the capacitor over a bit as well, but dont have it touch the hot charging chip (the black square in the middle of the PCB)!</p>
<p>Next you will have to connect up your solar panel. Panels sometimes come 'bare' (no wires), with just wires, or with a connector of some sort. You may need to splice a connector onto the panel to match the 5.5/2.1mm (or 4mm on older charger) DC jack on the adapter.</p>

 </div>

									</div>
									<div class="page-content all-page-view-content">
											 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#splice-or-adapt" class="anchor-link"></a>Splice or Adapt?</h2>
<p>The first verison of the solar charger came with a 4mm DC barrel jack on it. On older versions (4mm) it would come with a converter cable.</p>

<ul>
<li>If you have an older v1 charger, you can use the terminal block method above OR cut the adapter cable in half and splice the 4mm connector onto the panel. The panel will plug right into the board but its more work.</li>
</ul>

 </div>
 
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/28817">
 <img class="28817-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/028/817/medium800/projects_2788-00.jpg?1448988501" alt="projects_2788-00.jpg">

</a> </div>
 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#other-6v-solar-panels" class="anchor-link"></a>Other 6V Solar Panels</h2>
<p>If you have a panel with something other than 2.1mm or 1.3mm connector, you'll need to remove any existing connector. Cut off whatever connector is on</p>

 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1494">
 <img class="1494-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/494/medium800/projects_cutconnector.jpeg?1396773442" alt="projects_cutconnector.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Gently remove the outer casing without nipping the inner wires.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1495">
 <img class="1495-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/495/medium800/projects_strippanel.jpeg?1396773450" alt="projects_strippanel.jpeg">

</a> </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1496">
 <img class="1496-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/496/medium800/projects_solarstripped.jpeg?1396773451" alt="projects_solarstripped.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Strip and tin the inner wires.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1497">
 <img class="1497-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/497/medium800/projects_solarstrip2.jpeg?1396773456" alt="projects_solarstrip2.jpeg">

</a> </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1498">
 <img class="1498-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/498/medium800/projects_solartin.jpeg?1396773463" alt="projects_solartin.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#method-1" class="anchor-link"></a>Method 1</h2>
For this you'll need a <a href="http://www.adafruit.com/products/369">2.1mm Terminal Block Adapter</a> but its really simple. Just open up the screw terminals, slide the red wire into the + hole and the black wire into the - hole and retighten! Now you can just plug it directly into the charger (or adapter cable).<br>
 
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1499">
 <img class="1499-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/499/medium800/projects_21mmterm_t.jpeg?1396773469" alt="projects_21mmterm_t.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#if-you-have-a-pre-2013-solar-charger" class="anchor-link"></a>If You Have a Pre-2013 Solar Charger</h2>
<p>This method is a little tougher, but results in a nicer cable. You'll need some heatshrink as well as some item with a 2.1mm DC barrel plug (like the 2.1mm adapter)</p>
<p>Cut off anything on the opposite end.</p>

 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1500">
 <img class="1500-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/500/medium800/projects_deconnect.jpeg?1396773477" alt="projects_deconnect.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>And carefully strip off the outer sheath.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1501">
 <img class="1501-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/501/medium800/projects_solarstripping.jpeg?1396773484" alt="projects_solarstripping.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>You'll want some longer wires on this side, maybe 1.5" (3-4 cm).</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1502">
 <img class="1502-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/502/medium800/projects_solarsheath.jpeg?1396773492" alt="projects_solarsheath.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Strip just the ends of the wires and tin them.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1503">
 <img class="1503-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/503/medium800/projects_solarstrip.jpeg?1396773499" alt="projects_solarstrip.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Place a big piece of heatshrink onto the cable, and then two shorter and smaller pieces on each of the wires.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1504">
 <img class="1504-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/504/medium800/projects_solartinned.jpeg?1396773506" alt="projects_solartinned.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Solder red to red and black to black, keep the heatshrink away from your soldering iron since it may shrink too fast!</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1505">
 <img class="1505-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/505/medium800/projects_jig.jpeg?1396773514" alt="projects_jig.jpeg">

</a> </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1506">
 <img class="1506-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/506/medium800/projects_splice.jpeg?1396773522" alt="projects_splice.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>After the solder cools off, pull the smaller shrink onto the wires and heatshrink them!</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1507">
 <img class="1507-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/507/medium800/projects_minisolarshrink.jpeg?1396773531" alt="projects_minisolarshrink.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>Then pull the big piece over everything!</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1508">
 <img class="1508-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/508/medium800/projects_bigheatshrink.jpeg?1396773538" alt="projects_bigheatshrink.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>And heatshrink it (with a hot air gun if you have one, or carefully with a lighter if you don't).</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1509">
 <img class="1509-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/509/medium800/projects_shrinking.jpeg?1396773546" alt="projects_shrinking.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>That's it! Check with a multimeter, in the sun, to verify that you have a open circuit voltage on the plug.</span>
 
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1510">
 <img class="1510-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/510/medium800/projects_done_t.jpeg?1396773551" alt="projects_done_t.jpeg">

</a> </div>

									</div>
									<div class="page-content all-page-view-content">
											 
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1512">
 <img class="1512-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/512/medium800/projects_inuse.jpeg?1396773583" alt="projects_inuse.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 
 
<p>Solar charging is easy,&#xA0;<a href="http://learn.adafruit.com/usb-dc-and-solar-lipoly-charger/solar-charger-preparation" title="Link: http://learn.adafruit.com/usb-dc-and-solar-lipoly-charger/solar-charger-preparation">don't forget to prepare your solar panel and solder in the electrolytic capacitor beforehand!</a></p>
<p>Once you've done that, you can simply plug in the solar panel into the DC jack - look for the red&#xA0;<strong>PWR</strong>&#xA0;power LED to indicate that the solar panel is providing power and then plug the battery into the&#xA0;<strong>BATT</strong>slot in the left. Use only 3.7V/4.2V lithium ion/polymer batteries.</p>
<p>W<a href="http://learn.adafruit.com/li-ion-and-lipoly-batteries">e have a tutorial about the batteries in case you have some questions about how to use them.</a></p>
<p>When the orange&#xA0;<strong>CHRG&#xA0;</strong>charging light is lit, the battery is being charged. Make sure to have the panel facing direct sunlight&#xA0;<strong>not</strong>&#xA0;shaded and not behind any glass or plastic! when the battery is full, you'll see the green&#xA0;<strong>DONE&#xA0;</strong>LED light up.</p>

 
 </div>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#usb-and-dc-charging" class="anchor-link"></a>USB &amp; DC Charging</h2>
Of course, sometimes is just really dark out and you can't solar charger, so there's a USB port on the board as well. Use any mini-B cable to plug in and charge.<p>If there is something connected to the DC jack, it will mechanically disconnect the mini USB connector so be sure to unplug the solar panel when USB charging<br>
 </p></div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1513">
 <img class="1513-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/513/medium800/projects_usbdc.jpeg?1396773588" alt="projects_usbdc.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 You can also connect a DC wall plug adapter directly into the jack, just make sure its a 5.5mm/2.1mm inner diameter connector, which is very common!<br>
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1514">
 <img class="1514-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/514/medium800/projects_chumbypsp_MED.jpeg?1396773592" alt="projects_chumbypsp_MED.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>If you need the DC power for something else, you can also connect to the DC input via the 0.1" breakout. While you can feed power into the breakout pins as well, it's not polarity protected so make sure you use a schottky diode or just be really careful.</span>
 
 </p>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#indicator-leds" class="anchor-link"></a>Indicator LEDs</h2>There are three status LEDs on the charger, which you'll find very handy!<p>The red&#xA0;<strong>PWR</strong>&#xA0;LED indicates that there is good power connected to the charger. If this LED is not lit, something is wrong with the power supply</p>
<p>The orange&#xA0;<strong>CHRG</strong>&#xA0;LED indicates current charging status. When this LED is lit, the charger is working to charge up a battery! It also acts as a low battery indicator (fixed at 3.1V) when no power is connected. So, if you don't have USB/Solar wired up, when the battery voltage drops below 3.1V, the orange LED will come on.</p>
<p>The green&#xA0;<strong>DONE</strong>&#xA0;LED is pretty easy to understand as well - when it's lit the battery is charged up! Very handy for when you want to know that everything is done.</p>
<p>If you need to connect larger LEDs or a microcontroller up to these status pins, you can us the STATUS 0.1" breakout on the bottom edge of the PCB. The pins are open drain, so they will short to ground when 'active' and float when 'inactive' - you'll want to use a pullup resistor if you need a digital signal or connect LEDs just like shown below on the schematic, if you want bigger lights.</p>

 
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1515">
 <img class="1515-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/515/medium800/projects_statLED.gif?1447864286" alt="projects_statLED.gif">

</a> </div>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#load-sharing" class="anchor-link"></a>Load Sharing</h2>
The MCP73871 chip in the usb/solar charger has a very nifty feature called 'load sharing.' Say you have an every day lipoly charger and you want to use the battery <em>while</em> its charging. To do this, you might connect the project directly to the battery output. This means, however, that the charger is both charging a battery and driving your project at the same time. The charger is working extra hard and the battery is being charged and discharged constantly.<br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1516">
 <img class="1516-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/516/medium800/projects_loadshare.gif?1447864287" alt="projects_loadshare.gif">

</a> </div>
 <p class="row-fluid build-text">
 
 <span>As an improvement, this design has a pass transistor inside the chip, connected to the output load from the input voltage, so that you dont lose efficiency from charging/discharging the battery. When the USB/Solar charger is powered from a USB port or panel, the load current goes directly from the input voltage to the output. If the current required is higher than what the panel or USB port can provide, the current is supplemented by the lipo battery, up to 1.8A</span>
 
 </p>
 <div class="row-fluid build-alert">
 <p class="alert">
 <i class="fa fa-exclamation-circle"></i>
 The smart load sharing means that the LOAD output can be as high as 6VDC if in direct sun because it will draw current directly from the 6V panel instead of from the battery. If using this with an electronic project, make sure it is OK for up to 6VDC input or use a low-dropout-regulator (LDO) to regulate the voltage down.
 </p>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1517">
 <img class="1517-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/517/medium800/projects_solarmintyboost.jpeg?1396773618" alt="projects_solarmintyboost.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 
<span>This is all managed at the same time as the solar current maximization. Simply plug in the lipoly battery on the left into the&#xA0;</span><strong>BATT</strong><span>&#xA0;port and connect your project up thru the&#xA0;</span><strong>LOAD</strong><span>&#xA0;port on the right.</span>

 
 </p>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#temperature-monitoring" class="anchor-link"></a>Temperature Monitoring</h2>
<span>If you plan to have your project outside or unattended, we suggest adding temperature sensing to keep the charger from overheating the battery or attempting to charge when the battery is too hot or cold.</span><br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1519">
 <img class="1519-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/519/medium800/projects_thermistor.jpeg?1396773639" alt="projects_thermistor.jpeg">

</a> </div>
 <div class="row-fluid build-text">
 
 
<span>Simply remove the 10K surface mount resistor from the&#xA0;</span><strong>THERM</strong><span>&#xA0;pads (or cut the trace going to it), and&#xA0;</span><a href="http://www.adafruit.com/products/372">solder in a 10K NTC thermistor</a><span>. Test out the system by trying to charge while you place the thermistor in a freezer or against some ice, as well as in a cup of &gt; 50&#xB0;C hot water. The charger should stop charging the battery. Once you are sure it is working, attach the sensing element (the epoxy bulb in this case) so it is resting against the battery.</span>

 
 </div>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#adjusting-the-max-charge-current" class="anchor-link"></a>Adjusting the Max Charge Current</h2>
<span>The USB/Solar charger comes with a preset rate of 500mA which will work great for USB ports, USB wall adapters and solar panels up to 3 Watts. If you have a project that uses a larger panel, or perhaps some other sort of setup, you can easily adjust the current by soldering a resistor into the&#xA0;</span><strong>PROG</strong><span>&#xA0;pads.</span><br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1520">
 <img class="1520-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/520/medium800/projects_prog2k.jpeg?1396773646" alt="projects_prog2k.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 
 The current is set by 1000/<strong>RPROG</strong><span>&#xA0;Amps, where&#xA0;</span><strong>RPROG</strong><span>&#xA0;is the resistance. So for 2 Kohms, that would make it 1000/2000 = 0.5 A = 500 mA. If you want 1A, you would use a 1K ohm resistor. If you want to</span><em>&#xA0;increase the current</em><span>, you need to&#xA0;</span><em>decrease the resistance</em><span>, so you can just solder&#xA0;</span><strong>over</strong><span>&#xA0;the existing 2K. So for example, soldering another 2K resistor into&#xA0;</span><strong>RPROG&#xA0;</strong><span>will give you 1K total resistance and 1000 mA current draw. See above for a 2.2K resistor soldered for about 950mA of max current draw. If you want to set the max current draw lower, you'll need to remove the 2K resistor.</span>

 
 </p>
 <div class="row-fluid build-text">
 
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#adding-external-leds" class="anchor-link"></a>Adding External LEDs</h2>
<br>If you are placing the charger in a box, you may want to have external LEDs for indicating charge state. This is easy! Simply use any 3mm, 5mm or 10mm LEDs you wish and 1K resistors and wire them like so:<br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1537">
 <img class="1537-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/537/medium800/projects_Charger_LEDs.png?1396773118" alt="projects_Charger_LEDs.png">

</a> </div>

									</div>
									<div class="page-content all-page-view-content">
											 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#is-this-a-max-power-point-tracker-mppt" class="anchor-link"></a>Is this a Max Power Point Tracker (MPPT)?</h2>This design is not a 'true' MPPT, and we did that for a reason! Max power point trackers work by 'tracking' the voltage and current curve of a solar panel so that the total Power (Voltage articles _articles bin CAs devops Documents dotfiles gethtml go hnews jason js netdata start-thesrc thesrc ucii Current) is maximized. This means that as the light changes, the voltage and current must be carefully tracked. In general, the way controllers perform MPPT is to have a DC/DC converter - that's because to have the best power conversion you'll want DC/DC not linear converters (that lose any excess voltage as heat). For example, say you want to charge a 6V lead acid battery and you have a 12V (approx) panel. The voltage will range between 9V and 14V depending on current draw and visible light. The buck converter will do its best to keep the current draw so that the total power available at the&#xA0;<em>output</em>&#xA0;is maximized.<p>This&#xA0;<a href="http://cds.linear.com/docs/LT%20Journal/LTJournal-V20N4-02-df-LT3652-Jay_Celani.pdf" title="Link: http://cds.linear.com/docs/LT%20Journal/LTJournal-V20N4-02-df-LT3652-Jay_Celani.pdf">diagram from Linear</a>&#xA0;is really good at describing how it works:</p>

 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1521">
 <img class="1521-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/521/medium800/projects_linearmppt.gif?1447864288" alt="projects_linearmppt.gif">

</a> </div>
 <div class="row-fluid build-text">
 
<p>The Green lines show the I-V curve of the panel for a&#xA0;<em>given</em>&#xA0;light condition. As the light increases the voltages stay sort of the same but the&#xA0;<em>amount of current</em>&#xA0;you can draw goes up! If you can keep the DC/DC converter operating on the red line, that's the maximum power.</p>
<p><strong>However, there are some side effects to using a MPPT design.</strong></p>
<p>First is that DC/DC converters are expensive, and adding a DC/DC converter to a LiPo charger chip increases the cost by 2x. For small panels, if the MPPT increases the efficiency by 30% but you can double the panel size for the same price increase, it might be easier to just go with a larger panel.</p>
<p>Second is that DC/DC converters are not necessarily more efficient than a linear converter at low voltages and currents. At the voltages we're talking about, a 6V panel charging a 4V battery, the max power point will tend to be around 5V - only a volt above the battery. Considering there's a 0.5V drop with the input diode, the added inefficiency of a DC/DC converter is about equivalent to the extra voltage drop used by the linear charger. For this reason, you tend to see MPPT controllers only for multi-ampere chargers for big lead acid batteries and really big panels.</p>
<p><strong>So the upshot is...</strong></p>
<p>If your panel voltage is ~1V above your battery charging voltage, your current draw is under an Ampere, and you control the current draw to keep the voltage steady at around the 'max power voltage' (the red line up above), it's possible to get near-MPPT performance, without the complexity of a DC/DC converter, and without the high price. That's what the design of this charger does.</p>

 </div>
 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#why-a-special-solar-charger" class="anchor-link"></a>Why a special solar charger?</h2>We've had a lot of customers that are interested in making solar powered projects, so we wanted to make a lipo charger board that is specifically designed with Solar &amp; USB charging in mind. We'll explain why...<p>Most people try to plug a solar panel directly into a lipo charger and while it&#xA0;<em>sort of&#xA0;</em>works, the battery takes&#xA0;<em>forever</em>&#xA0;to charge because the efficiency is terrible! That's because most lipo chargers are meant to plug into a USB port or wall, and are very simple in their design. USB ports supply 5V at up to 500mA and they're pretty solid - the voltage doesn't change much even at the max current draw. So when you plug a charger into a computer with a USB port, they just draw 500mA or so and happily chug away. Same goes for wall adapters. The voltage and current limits are kept steady.</p>
<p>Solar panels are a little different, the voltage and current&#xA0;<em>vary constantly</em>&#xA0;depending on sunlight available. They are unstable! That instability confuses battery chargers, which causes them to do one of two things: rapidly turn on and off as they try to draw more current from the panel than possible and/or draw much less current than they can, to keep the voltage from collapsing</p>
<p>Here is a diagram of a&#xA0;<strong>single&#xA0;</strong>solar cell, in various light conditions (the colored rainbow lines):</p>

 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1522">
 <img class="1522-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/522/medium800/projects_Solar-Cell-IV-curve-with-MPP.png?1396773674" alt="projects_Solar-Cell-IV-curve-with-MPP.png">

</a> </div>
 <div class="row-fluid build-text">
 
<p>We find these diagrams common but a bit confusing. So we'll show how to use them. Pick the top red line (maximum light) and start at the very right of the line where it meats the horizontal scale. This is the current (I) = 0 point. We're drawing&#xA0;<em>no current</em>&#xA0;and the voltage of the cell is 0.5V. 0.5V is the&#xA0;<strong>open circuit voltage</strong>. Keep following the graph up and to the left. As the current draw increases, the voltage drops slightly until we reach the point of drawing 38mA (0.038A). At this point, the voltage is around 0.4V. Next draw a bit more current, moving to the left some more and the voltage starts&#xA0;<em>collapsing.</em>We can try to draw more current but as you can see, drawing even a tiny bit more than 38mA makes the cell voltage drop to 0V. 38mA is the&#xA0;<strong>short circuit current</strong></p>
<p>Depending on the light conditions, the amount of maximum current can range, from 38mA (red) to 32 mA (orange) down to 5mA (yellow) or even lower. Solar cells can be made larger (the short circuit current is bigger) but the voltage of the cell is fixed at 0.5V open circuit - it's just part the physics of the cell. However, you can connect a bunch of cells in series to add them up. A 6V&#xA0;<strong>panel</strong>&#xA0;has 12&#xA0;<strong>cells</strong>&#xA0;(12 articles _articles bin CAs devops Documents dotfiles gethtml go hnews jason js netdata start-thesrc thesrc ucii 0.5V = 6V)</p>
<p>Now you can see what happens if you connect a 6V solar panel to a lipoly charger. As long as the current being drawn by the charger is less than the panel's short circuit current at that light condition, everything is peachy. The moment the light changes even a little, and the current the lipo charger wants is higher than the short circuit current, the charger becomes&#xA0;<strong>unstable:&#xA0;</strong>it will draw too much current, which will cause the voltage to collapse, which causes the charger to turn off, which reduces the current draw, which makes the panel voltage recover, which turns on the charger again, which then draws too much current, and the cycle repeats.</p>
<p>You can see this happen in the image from my scope below:</p>

 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1523">
 <img class="1523-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/523/medium800/projects_TEK0001.jpeg?1396773679" alt="projects_TEK0001.jpeg">

</a> </div>
 <p class="row-fluid build-text">
 The scale is 1V per square, and the 0V point is one square above the bottom of the display (see the 2-&gt; on the left) The<strong>&#xA0;open circuit voltage&#xA0;</strong><span>of the panel is about 6.5V, the lipo charger draws some current and quickly the panel voltage collapses. After 250 us, the charger tries again, but fails again. The lipo charger may seem to be charging because the&#xA0;</span><strong>CHRG</strong><span>&#xA0;light is on but really its doing a poor job of it!</span>

 </p>
 <div class="row-fluid build-text">
 
<h2>
<a href="https://learn.adafruit.com/usb-dc-and-solar-lipoly-charger?view=all#solar-optimization" class="anchor-link"></a>Solar Optimization!</h2>
<span>OK so how do we fix this problem? The issue we have here is that the voltage collapses during high current draw. We need to find a way to keep the lipo charger from drawing too much current, and backing off when the voltage starts to droop. We looked high and low and finally found a chip that has something like this built in. The MCP73871 calls it Voltage Proportional Charge Control (VPCC) and basically, it does precisely what we want. We can set the voltage to a point just above the battery charge voltage point (say 4.5V) and then instruct the charger to draw as much current as possible. It will automatically increase/reduce the charge rate to keep the voltage higher than 4.5V!</span><br>
 </div>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1524">
 <img class="1524-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/524/medium800/projects_vpcc.gif?1447864291" alt="projects_vpcc.gif">

</a> </div>
 <p class="row-fluid build-text">
 <span>In this case, we set the voltage using two resistors, the voltage divider ends up stabilizing it at ~4.5V. Because the voltage collapse of a panel is really sudden, we still end up needing a little more help stabilizing the panel. We do that by adding a BFC (Big Freaking Capacitor).</span>
 </p>
 <div class="row-fluid build-image">
 <a href="https://learn.adafruit.com/assets/1525">
 <img class="1525-asset img-responsive" src="https://learn.adafruit.com/system/assets/assets/000/001/525/medium800/projects_inputcap.gif?1447864291" alt="projects_inputcap.gif">

</a> </div>
 <p class="row-fluid build-text">
 <span>This schottky diode charges a 4700uF capacitor from the panel - the diode prevents the capacitor from draining back into the panel.</span>
 </p>

									</div>
									
					</div>
</body></html>
