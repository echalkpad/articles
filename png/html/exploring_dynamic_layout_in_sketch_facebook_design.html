<!DOCTYPE html><html><head><title>Exploring Dynamic Layout in Sketch — Facebook Design</title></head><body>
<h1>Exploring Dynamic Layout in Sketch — Facebook Design</h1><p><a href="https://medium.com/facebook-design/exploring-dynamic-layout-in-sketch-fdf0e825d1cf#.vz3b4g6n7" target="_new">Original URL</a></p>
<p><blockquote>If you design interfaces, you probably often work with repeating elements, like rows in a table or a grid of items. While Sketch provides some way of applying the same style to many elements via&hellip;</blockquote></p>
<div score="20.0"><section name="1f92" class=" section--body section--bottomCenter section-image--aspectRatioViewport is-imageBackgrounded is-backgrounded is-darkBackgrounded section--first" score="22.5"></section><section name="9361" class=" section--body" score="41.25"><div class="section-content" score="42.5"><div class="section-inner layoutSingleColumn" score="-25.0"><p name="5415" id="5415" class="graf--p graf--first">If you design interfaces, you probably often work with repeating elements, like rows in a table or a grid of items. While Sketch provides some way of applying the same style to many elements via symbols, it has its shortcomings if you want to make the layout a little more adaptive and dynamic.</p><p name="146d" id="146d" class="graf--p graf-after--p">A couple of times in the past when I&#x2019;ve encountered a layout-heavy project where I had to iterate quickly (like for example re-designing the <a href="https://www.facebook.com/hrescak/about" class="markup--anchor markup--p-anchor" rel="nofollow">About page in Facebook profiles</a>), I skipped the Sketch part altogether and jumped right into HTML/CSS. While it&#x2019;s an option, it has its own set of limitations that slow you down, like switching context between HTML,CSS and the browser.</p><p name="7d33" id="7d33" class="graf--p graf-after--p">As I found myself working with table layout in Sketch again and re-aligning every individual cell in a table for the umpteenth time, I started wondering whether there&#x2019;s something I can do that would combine the WYSIWYG nature of Sketch with the power of prototyping with HTML and CSS.</p><p name="fb1d" id="fb1d" class="graf--p graf-after--p">Turns out I didn&#x2019;t have to look too far. There&#x2019;s a nifty <a href="https://github.com/facebook/css-layout" class="markup--anchor markup--p-anchor" rel="nofollow">CSS Layout library</a> that&#x2019;s part of Facebook&#x2019;s <a href="https://facebook.github.io/react-native/" class="markup--anchor markup--p-anchor" rel="nofollow">React Native</a> project&#x200A;&#x2014;&#x200A;it&#x2019;s basically the <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" class="markup--anchor markup--p-anchor" rel="nofollow">CSS FlexBox</a> layout implemented in Javascript. It took me a couple of nights to put together a basic proof-of-concept plugin for Sketch:</p><figure name="f2e5" id="f2e5" class="graf--figure graf--iframe graf-after--p" score="-13.75"><figcaption class="imageCaption">A layer named @stylesheet and a keyboard shortcut for the plugin</figcaption></figure><p name="2567" id="2567" class="graf--p graf-after--figure">This already makes things that were previously very tedious&#x200A;&#x2014;&#x200A;like changing a padding&#x200A;&#x2014;&#x200A;much, much faster. The next thing I needed to get working was text. This is a bit tricky and I&#x2019;ve hacked it with a very inefficient method, but it works as expected with both auto-sized and fixed-sized text layers, multiple line heights and text sizes.</p><figure name="c308" id="c308" class="graf--figure graf--iframe graf-after--p" score="-13.75"><figcaption class="imageCaption">Re-positioning and resizing everything manually here would be quite tedious</figcaption></figure><p name="9c20" id="9c20" class="graf--p graf-after--figure">Now this is still a pretty basic example, and real-life layouts are often far more complex. Let&#x2019;s try and put together a table view with some cells&#x2014; An image, name, subtext and some kind of accessory on the right.</p><figure name="25ad" id="25ad" class="graf--figure graf--iframe graf-after--p" score="-13.75"></figure><p name="8517" id="8517" class="graf--p graf-after--figure">A workflow like this allows us to quickly iterate on sizes and paddings of everything while the tedious part of re-aligning the whole layout after a change is taken care of automatically.</p><p name="871e" id="871e" class="graf--p graf-after--p">Some other advantages over using symbols for this use case are starting to be pretty clear:</p><figure name="b7ad" id="b7ad" class="graf--figure graf--iframe graf-after--p" score="-13.75"><figcaption class="imageCaption">You can re-order layers just by re-ordering them in the layer panel</figcaption></figure><figure name="1041" id="1041" class="graf--figure graf--iframe graf-after--figure" score="-13.75"><figcaption class="imageCaption">Working with multiple screen sizes is much easier</figcaption></figure><figure name="98d8" id="98d8" class="graf--figure graf--iframe graf-after--figure" score="-13.75"><figcaption class="imageCaption">Unlike Symbols, you can omit some elements and the layout will adjust</figcaption></figure><figure name="a478" id="a478" class="graf--figure graf--iframe graf-after--figure" score="-13.75"><figcaption class="imageCaption">Layout is not bound to visuals&#x200A;&#x2014;&#x200A;groups can share the layout yet look completely different</figcaption></figure><p name="b4d2" id="b4d2" class="graf--p graf-after--h3">One place where symbols triumph over this approach is the ability to change things visually rather than editing some text over and over. On top of that, keeping track of the growing stylesheet layer quickly became a pain point.</p><p name="3452" id="3452" class="graf--p graf-after--p">A natural thing to do is to find a way to represent the stylesheet visually inside of Sketch. To achieve this I reached for something we usually use when we spec things for engineers&#x200A;&#x2014;&#x200A;rectangles and lines representing paddings, margins, widths and sizes:</p><figure name="33fa" id="33fa" class="graf--figure graf-after--p" score="-12.5"><div class="aspectRatioPlaceholder is-locked" score="6.25"><img class="graf-image" src="https://cdn-images-1.medium.com/max/800/1*tBNYM5cSNFdNXNRg0EWkTQ.png"></div><figcaption class="imageCaption">If I were to spec the previous example&#x2019;s layout, it would probably look like this</figcaption></figure><p name="6ae8" id="6ae8" class="graf--p graf-after--figure">Turning that into a prototype is as easy as naming the layers properly and adding a couple of styles that are somewhat difficult to represent visually (these layers can later be hidden so they&#x2019;re not distracting).</p></div><div class="section-inner sectionLayout--outsetColumn" score="1.25"><figure name="c161" id="c161" class="graf--figure graf--layoutOutsetCenter graf-after--p" score="-12.5"><div class="aspectRatioPlaceholder is-locked" score="6.25"><img class="graf-image" src="https://cdn-images-1.medium.com/max/1200/1*DFCESzTWoAAuzDYKpkaYwA.png"></div><figcaption class="imageCaption">I added a @size property that supplies both width and height</figcaption></figure></div><div class="section-inner layoutSingleColumn" score="1.25"><p name="bb11" id="bb11" class="graf--p graf-after--figure">Now let&#x2019;s try this in action with the table from above. Behind the scenes, the prototype&#x2019;s properties get translated into individual styles and appended to the stylesheet.</p><figure name="683e" id="683e" class="graf--figure graf--iframe graf-after--p" score="-13.75"><figcaption class="imageCaption">You can notice the style layers are not re-aligning. This is still a work-in-progress and I&#x2019;m trying to figure out whether people would prefer these to follow their parent elements or not</figcaption></figure><p name="4a23" id="4a23" class="graf--p graf-after--figure">Working as expected, we can now edit the layout of our table visually, without having to jump back and forth between designing and editing a text layer. The stylesheet now only represents the group, and if we wanted to, we can turn that into a prototype, too&#x200A;&#x2014;&#x200A;I usually keep it around for smaller things that wouldn&#x2019;t necessarily need a prototype. Here&#x2019;s an example of a layout built entirely with prototypes.</p></div><div class="section-inner sectionLayout--outsetColumn" score="1.25"><figure name="2517" id="2517" class="graf--figure graf--layoutOutsetCenter graf-after--p" score="-12.5"><div class="aspectRatioPlaceholder is-locked" score="6.25"><img class="graf-image" src="https://cdn-images-1.medium.com/max/1200/1*6k0k0MQfoB60hf61wPQHZg.png"></div><figcaption class="imageCaption">On top of the previous cell prototype, we now have a table prototype with padding and width, and a section header prototype with bottom padding different from the rest.</figcaption></figure></div><div class="section-inner layoutSingleColumn" score="0.0"><p name="94ff" id="94ff" class="graf--p graf-after--figure">Now this is by all means not an effort to replace symbols in Sketch, but complement them with a dynamic layout engine that makes a lot of the tedious tasks much easier. Symbols are great on their own, and can even complement prototypes&#x200A;&#x2014;&#x200A;you can make a @padding layer into a symbol and share it across prototypes.</p><p name="6a47" id="6a47" class="graf--p graf-after--h3">This plugin is a work-in-progress&#x200A;&#x2014;&#x200A;it&#x2019;s pretty slow and has a couple of bugs. Still, I&#x2019;d love for people to try it out, give me feedback on the way it works and how it could be better, or even contribute to help polish it faster.</p><p name="9d5b" id="9d5b" class="graf--p graf-after--p">It has already saved me quite some hours of work and I&#x2019;d love to see more people benefit from it. Here&#x2019;s the<a href="https://github.com/hrescak/Sketch-Flex-Layout" class="markup--anchor markup--p-anchor" rel="nofollow"> GitHub repo</a> if you want to give it a try:</p></div></div></section><section name="b236" class=" section--body section--last" score="41.25"><div class="section-content" score="31.25"><div class="section-inner layoutSingleColumn"><p name="a402" id="a402" class="graf--p graf--first graf--last">I built this as a side project at Facebook. If you are a designer and like working on tools, please reach out! We&#x2019;ve recently kicked off a dedicated Design Tools initiative and <a href="https://www.facebook.com/careers/teams/design" class="markup--anchor markup--p-anchor" rel="nofollow">we&#x2019;re hiring</a>.</p></div></div></section></div>
</body></html>
