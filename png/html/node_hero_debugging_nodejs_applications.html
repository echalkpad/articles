<!DOCTYPE html><html><head><title>Node Hero - Debugging Node.js applications</title></head><body>
<h1>Node Hero - Debugging Node.js applications</h1><p><a href="https://blog.risingstack.com/node-hero-node-js-debugging-tutorial/" target="_new">Original URL</a></p>
<p><blockquote>This article is the 10th part of the tutorial series called Node Hero - in these chapters, you can learn how to get started with Node.js and deliver software products using it. In this tutorial, you&hellip;</blockquote></p>
<div><section class="post-content">
<p>This article is the 10th part of the tutorial series called Node Hero - in these chapters, you can learn how to get started with Node.js and deliver software products using it.</p>
<p><strong>In this tutorial, you are going to learn debugging your Node.js applications using the debug module, the built-in Node debugger and Chrome's developer tools.</strong></p>
<p>Upcoming and past chapters:</p>

<h2 id="bugsdebugging">Bugs, debugging</h2>
<p>The term <strong>bug</strong> and <strong>debugging</strong> have been a part of engineering jargon for many decades. One of the first written mentions of bugs is as follows:</p>
<blockquote>
<p>It has been just so in all of my inventions. The first step is an intuition, and comes with a burst, then difficulties arise &#x2014; this thing gives out and [it is] then that "Bugs" &#x2014; as such little faults and difficulties are called &#x2014; show themselves and months of intense watching, study and labor are requisite before commercial success or failure is certainly reached. </p>
<p><strong><em>Thomas Edison</em></strong></p>
</blockquote>

<h2 id="debuggingnodejsapplications">Debugging Node.js Applications</h2>
<p>One of the most frequently used approach to find issues in Node.js applications is the heavy usage of <code>console.log</code> for debugging. </p>

<p>Let's take a look at them!</p>
<h4 id="thedebugmodule">The <code>debug</code> module</h4>
<p>Some of the most popular modules that you can <code>require</code> into your project come with the <code>debug</code> module. With this module, you can enable third-party modules to log to the standard output, <code>stdout</code>. To check whether a module is using it, take a look at the <code>package.json</code> file's dependency section.</p>
<p>To use the <code>debug</code> module, you have to set the <code>DEBUG</code> environment variable when starting your applications. You can also use the <code>*</code> character to wildcard names. The following line will print all the <code>express</code> related logs to the standard output.</p>
<pre><code class="language-bash">DEBUG=express* node app.js 
</code></pre>
<p>The output will look like this: </p>
<p><img src="https://risingstack-blog.s3.amazonaws.com/2016/Jun/logfile_made_with_the_node_debug_module-1467025068908.png" alt="Logfile made with the Node debug module"></p>
<h4 id="thebuiltinnodejsdebugger">The Built-in Node.js Debugger</h4>
<blockquote>
<p>Node.js includes a full-featured out-of-process debugging utility accessible via a simple TCP-based protocol and built-in debugging client. </p>
</blockquote>
<p>To start the built-in debugger you have to start your application this way:</p>
<pre><code class="language-bash">node debug app.js 
</code></pre>
<p>Once you have done that, you will see something like this:</p>
<p><img src="https://risingstack-blog.s3.amazonaws.com/2016/Jun/using_the_built_in_node_js_debugger-1467025131358.png" alt="using the built-in node.js debugger"></p>
<h5 id="basicusageofthenodedebugger">Basic Usage of the Node Debugger</h5>
<p><strong>To navigate this interface, you can use the following commands:</strong></p>
<ul>
<li><code>c</code> =&gt; continue with code execution</li>
<li><code>n</code> =&gt; execute this line and go to next line </li>
<li><code>s</code> =&gt; step into this function </li>
<li><code>o</code> =&gt; finish function execution and step out</li>
<li><code>repl</code> =&gt; allows code to be evaluated remotely</li>
</ul>
<p>You can add breakpoints to your applications by inserting the <code>debugger</code> statement into your codebase.</p>
<pre><code class="language-javascript">function add (a, b) { 
 debugger
 return a + b
}

var res = add('apple', 4) 
</code></pre>

<h5 id="watchers">Watchers</h5>
<blockquote>
<p>It is possible to watch expression and variable values during debugging. On every breakpoint, each expression from the watchers list will be evaluated in the current context and displayed immediately before the breakpoint's source code listing.</p>
</blockquote>
<p>To start using watchers, you have to define them for the expressions you want to watch. To do so, you have to do it this way:</p>
<pre><code class="language-javascript">watch('expression') 
</code></pre>
<p>To get a list of active watchers type <code>watchers</code>, to unwatch an expression use <code>unwatch('expression')</code>.</p>
<blockquote>
<p><strong>Pro tip</strong>: you can switch running Node.js processes into debug mode by sending the <code>SIGUSR1</code> command to them. After that you can connect the debugger with <code>node debug -p &lt;pid&gt;</code>.</p>
</blockquote>

<p><em>To understand the full capabilities of the built-in debugger, check out the official API docs: <a href="https://nodejs.org/api/debugger.html">https://nodejs.org/api/debugger.html</a>.</em></p>
<h4 id="thechromedebugger">The Chrome Debugger</h4>
<p>When you start debugging complex applications, something visual can help. Wouldn&#x2019;t be great to use the familiar UI of the Chrome DevTools for debugging Node.js applications as well?</p>
<p><img src="https://risingstack-blog.s3.amazonaws.com/2016/Jun/node_js_chrome_developer_tools_debugging-1467026261217.png" alt="node.js chrome developer tools debugging"></p>
<p>Good news, the Chrome debug protocol is already ported into a Node.js module and can be used to debug Node.js applications.</p>
<p>To start using it, you have to install <code>node-inspector</code> first:</p>
<pre><code class="language-bash">npm install -g node-inspector 
</code></pre>
<p>Once you installed it, you can start debugging your applications by starting them this way:</p>
<pre><code class="language-bash">node-debug index.js --debug-brk 
</code></pre>
<p><em>(the <code>--debug-brk</code> pauses the execution on the first line)</em></p>
<p>It will open up the Chrome Developer tools and you can start to debug your Node.js applications with it.</p>
<h2 id="nextup">Next up</h2>
<p>Debugging is not that hard after all, is it? </p>
<p>In the next chapter of Node Hero, you are going to learn how to secure your Node.js applications.</p>
<p>If you have any questions or recommendations for this topic, write them in the comments section.</p>
</section>

<div id="mc_embed_signup">

<label for="mce-EMAIL">Get early access to our posts</label>

 



</div>

</div>
</body></html>
