<!DOCTYPE html><html><head><title>DisplayLink USB Devices on Linux Kernel 3.4.0</title></head><body>
<h1>DisplayLink USB Devices on Linux Kernel 3.4.0</h1><p><a href="http://plugable.com/2012/06/21/displaylink-usb-devices-on-linux-kernel-3-4-0" target="_new">Original URL</a></p>
<p><blockquote>Linux kernel 3.4.0 is the first to include a new driver for DisplayLink-based USB 2.0 devices, called &#x201C;udl&#x201D;. udl is a port of the udlfb driver to Linux&#x2019;s DRM architecture. David&hellip;</blockquote></p>
<div><div class="entry-content"><p>Linux kernel 3.4.0 is the first to include a new driver for DisplayLink-based USB 2.0 devices, called &#x201C;udl&#x201D;. udl is a port of the udlfb driver to Linux&#x2019;s DRM architecture. David Airlie is doing this work, and the potential is very exciting. Eventually, this architecture will lead to a host of advantages, including GPU-accelerated 3D rendering to USB graphics adapters.</p><p>Both the new &#x201C;udl&#x201D;, and older &#x201C;udlfb&#x201D; framebuffer driver that we maintain are present in 3.4.0. Unfortunately, the new udl DRM driver is still maturing, and can cause kernel panics. With USB graphics devices present, you can determine which driver (&#x201C;udlfb&#x201D; or &#x201C;udl&#x201D;) is getting loaded with lsmod:</p><pre>
lsmod | grep "udl"
</pre><p>This change has a particular impact with Fedora 17 &#x2014; the first open source distro to have automatic USB multiseat support &#x2014; which shipped with Linux kernel 3.3.</p><p>Post-ship, Fedora 17 now offers a software update to kernel 3.4.0, which unfortunately causes problems: udl may be loaded for DisplayLink-based devices, and kernel panics are common and terminals often won&#x2019;t come up. To the user, it appears to break multiseat.</p><p>So to fix the issues you&#x2019;ll see with 3.4.0, we recommend disabling udl for the time being. The stable udlfb driver is still present in the kernel, and will get matched against your hardware automatically once udl is no longer loaded. The easiest way to do this is to run the following commands and reboot:</p><pre>
echo "blacklist udl" | sudo tee --append /etc/modprobe.d/udlfb.conf
sudo depmod -a
sudo dracut -f /boot/initramfs-$(uname -r).img $(uname -r)
</pre><p>One the server reboots, udlfb should match all USB graphics devices and be fully stable. Please let us know if you have any trouble. And in coming Linux kernel versions, udl will continue to improve and at some point udlfb will be able to be retired in favor of it.</p><div id="blogWidget"><div class="title"><a title="Click to learn more about the DC-125" href="http://plugable.com/products/dc-125">Plugable USB 2.0 Thin Client</a></div><div class="imageContainer"> <img class="image" src="http://dxg49ziwjgkgt.cloudfront.net/images/dc-125/main_256.jpg" title="DC-125"></div><h2 class="price"></h2><div class="flagContainer"><img class="flag" type="productsPage" title="Amazon.com" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/us_flag.png"><img class="flag" type="productsPage" title="Amazon.ca" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/ca_flag.png"><img class="flag" type="productsPage" title="Amazon.co.uk" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/uk_flag.png"><img class="flag" type="productsPage" title="Amazon.co.uk" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/eu_flag.png"><img class="flag" type="productsPage" title="Amazon.de" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/de_flag.png"><img class="flag" type="productsPage" title="Amazon.fr" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/fr_flag.png"><img class="flag" type="productsPage" title="Amazon.es" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/es_flag.png"><img class="flag" type="productsPage" title="Amazon.it" src="http://dxg49ziwjgkgt.cloudfront.net/wp-content/uploads/2014/09/it_flag.png"></div></div><p id="jp-relatedposts" class="jp-relatedposts"><h3 class="jp-relatedposts-headline"><em>Related</em></h3></p></div></div>
</body></html>
