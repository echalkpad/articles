{
    "articles": [{
        "title": "sql.js",
        "url": "https://github.com/kripken/sql.js",
        "excerpt": "Latest commit to the master branch Something went wrong with that request. Please try again. Dismiss",
        "date_saved": "Thu Jul 28 20:07:08 EDT 2016",
        "html_file": "sqljs.html",
        "png_file": "sqljs.png",
        "md_file": "sqljs.md",
        "content": "<div class=\"logged_out vis-public env-production \" score=\"2.5\">\n \n \n \n\n \n\n \n\n <div class=\"site\">\n <div class=\"container\">\n \n\n \n\n\n\n\n\n\n\n \n <p class=\"last-commit\">Latest commit to the <strong>master</strong> branch</p>\n\n\n\n\n\n </div>\n \n </div>\n\n\n \n \n\n \n\n\n\n \n\n\n\n <div class=\"ajax-error-message\">\n <p> Something went wrong with that request. Please try again. <a href=\"https://github.com/kripken/sql.js\" class=\"ajax-error-dismiss\">Dismiss</a></p>\n </div>\n\n \n \n \n \n </div><hr class=\"rdb-page-break\" /><div><div id=\"help\">\n<pre>\nIMPORTANT\n To use the keyboard you must first focus the graph by clicking in it.\n\nMOVEMENT\n To move around the graph you can either use the mouse or the keyboard.\n\n mouse\n Click and drag.\n\n &#8592;, h\n Scroll left.\n\n &#8594;, l\n Scroll right.\n\n &#8593;, k\n Scroll up.\n\n &#8595;, j\n Scroll down.\n\n shift-&#8592;\n shift-h\n Scroll all the way left (first commit).\n\n shift-&#8594;\n shift-l\n Scroll all the way right (last commit).\n\n shift-&#8593;\n shift-k\n Scroll all the way up vertically.\n\n shift-&#8595;\n shift-j\n Scroll all the way down vertically.\n\nCOMMITS\n\n mouse over a commit dot\n Show the author, commit id, and commit message for that commit.\n\n click a commit dot\n Go to that specific commit in the owner's repository.\n\nLABELS\n\n t Toggle the visibility of the head labels\n</pre>\n </div>\n </div>"
    }, {
        "title": "hug",
        "url": "https://github.com/timothycrosley/hug?branch=develop",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:07:09 EDT 2016",
        "html_file": "timothycrosleyhug.html",
        "png_file": "timothycrosleyhug.png",
        "md_file": "timothycrosleyhug.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop\"></a><a href=\"https://camo.githubusercontent.com/633a273ed033fafc138ec97dd23985811d98a8ab/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6c6f676f2e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/633a273ed033fafc138ec97dd23985811d98a8ab/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6c6f676f2e706e67\" alt=\"HUG\"></a></h2>\n\n<p><a href=\"http://badge.fury.io/py/hug\"><img src=\"https://camo.githubusercontent.com/33beec3b46a0d42e452c663d5fe59277a5660f18/68747470733a2f2f62616467652e667572792e696f2f70792f6875672e706e67\" alt=\"PyPI version\"></a>\n<a href=\"https://travis-ci.org/timothycrosley/hug\"><img src=\"https://camo.githubusercontent.com/c4a0c88447376034d43f0f35e1cc13fa02fbc895/68747470733a2f2f7472617669732d63692e6f72672f74696d6f74687963726f736c65792f6875672e706e673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a>\n<a href=\"https://coveralls.io/github/timothycrosley/hug?branch=master\"><img src=\"https://camo.githubusercontent.com/70150ad68b036ba35139fa19cf8719a17b79af28/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f74696d6f74687963726f736c65792f6875672f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562\" alt=\"Coverage Status\"></a>\n<a href=\"https://pypi.python.org/pypi/hug/\"><img src=\"https://camo.githubusercontent.com/b0224997019dec4e51d692c722ea9bee2818c837/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d6173686170652f6170697374617475732e737667\" alt=\"License\"></a>\n<a href=\"https://gitter.im/timothycrosley/hug?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\"><img src=\"https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667\" alt=\"Join the chat at https://gitter.im/timothycrosley/hug\"></a></p>\n\n<p>Hug aims to make developing Python driven APIs as simple as possible, but no simpler. As a result, it drastically simplifies Python API development.</p>\n\n<p>Hug's Design Objectives:</p>\n\n<ul>\n<li>Make developing a Python driven API as succinct as a written definition.</li>\n<li>The framework should encourage code that self-documents.</li>\n<li>It should be fast. Never should a developer feel the need to look somewhere else for performance reasons.</li>\n<li>Writing tests for APIs written on-top of Hug should be easy and intuitive.</li>\n<li>Magic done once, in an API framework, is better then pushing the problem set to the user of the API framework.</li>\n<li>Be the basis for next generation Python APIs, embracing the latest technology.</li>\n</ul>\n\n<p>As a result of these goals Hug is Python3+ only and uses Falcon under the cover to quickly handle requests.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/e56234bd7f5ccb5768978d3f23eb94c1d15430ed/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6578616d706c652e676966\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/e56234bd7f5ccb5768978d3f23eb94c1d15430ed/68747470733a2f2f7261772e6769746875622e636f6d2f74696d6f74687963726f736c65792f6875672f646576656c6f702f6578616d706c652e676966\" alt=\"HUG Hello World Example\"></a></p>\n\n<h2><a id=\"user-content-installing-hug\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#installing-hug\"></a>Installing Hug</h2>\n\n<p>Installing Hug is as simple as:</p>\n\n<pre><code>pip3 install hug --upgrade\n</code></pre>\n\n<p>Ideally, within a virtual environment.</p>\n\n<h2><a id=\"user-content-basic-example-api\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#basic-example-api\"></a>Basic Example API</h2>\n\n<p>happy_birthday.py</p>\n\n<pre><code>\"\"\"A basic (single function) API written using Hug\"\"\"\nimport hug\n\n\n@hug.get('/happy_birthday')\ndef happy_birthday(name, age:hug.types.number=1):\n \"\"\"Says happy birthday to a user\"\"\"\n return \"Happy {age} Birthday {name}!\".format(**locals())\n</code></pre>\n\n<p>To run the example:</p>\n\n<pre><code>hug -f happy_birthday.py\n</code></pre>\n\n<p>Then you can access the example from localhost:8000/happy_birthday?name=Hug&amp;age=1\nOr access the documentation for your API from localhost:8000/documentation</p>\n\n<h2><a id=\"user-content-versioning-with-hug\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#versioning-with-hug\"></a>Versioning with Hug</h2>\n\n<p>versioning_example.py</p>\n\n<pre><code>\"\"\"A simple example of a hug API call with versioning\"\"\"\n\n\n@hug.get('/echo', versions=1)\ndef echo(text):\n return text\n\n\n@hug.get('/echo', versions=range(2, 5))\ndef echo(text):\n return \"Echo: {text}\".format(**locals())\n</code></pre>\n\n<p>To run the example:</p>\n\n<pre><code>hug -f versioning_example.py\n</code></pre>\n\n<p>Then you can access the example from localhost:8000/v1/echo?text=Hi / localhost:8000/v2/echo?text=Hi\nOr access the documentation for your API from localhost:8000</p>\n\n<p>Note: versioning in Hug automatically supports both the version header as well as direct URL based specification.</p>\n\n<h2><a id=\"user-content-testing-hug-apis\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#testing-hug-apis\"></a>Testing Hug APIs</h2>\n\n<p>Hugs http method decorators don't modify your original functions. This makes testing Hug APIs as simple as testing\nany other Python functions. Additionally, this means interacting with your API functions in other Python code is as\nstraight forward as calling Python only API functions. Additionally, Hug makes it easy to test the full Python\nstack of your API by using the hug.test module:</p>\n\n<pre><code>import hug\nimport happy_birthday\n\nhug.test.get(happy_birthday, 'happy_birthday', {'name': 'Timothy', 'age': 25}) # Returns a Response object\n</code></pre>\n\n<h2><a id=\"user-content-running-hug-with-other-wsgi-based-servers\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#running-hug-with-other-wsgi-based-servers\"></a>Running Hug with other WSGI based servers</h2>\n\n<p>Hug exposes a <code>__hug_wsgi__</code> magic method on every API module automatically. Running your Hug based API on any\nstandard wsgi server should be as simple as pointing it to module_name:<code>__hug_wsgi__</code>.</p>\n\n<p>For Example:</p>\n\n<pre><code>uwsgi --http 0.0.0.0:8000 --wsgi-file examples/hello_world.py --callable __hug_wsgi__\n</code></pre>\n\n<p>To run the hello world Hug example API.</p>\n\n<h2><a id=\"user-content-building-blocks-of-a-hug-api\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#building-blocks-of-a-hug-api\"></a>Building Blocks of a Hug API</h2>\n\n<p>When Building an API using the Hug framework you'll use the following concepts:</p>\n\n<p><strong>METHOD Decorators</strong> get, post, update, etc HTTP method decorators that expose your Python function as an API while keeping your Python method unchanged</p>\n\n<pre><code>@hug.get() # &lt;- Is the Hug METHOD decorator\ndef hello_world():\n return \"Hello\"\n</code></pre>\n\n<p>Hug uses the structure of the function you decorate to automatically generate documentation for users of your API. Hug always passes a request, response, and api_version\nvariable to your function if they are defined params in your function definition.</p>\n\n<p><strong>Type Annotations</strong> functions that optionally are attached to your methods arguments to specify how the argument is validated and converted into a Python type</p>\n\n<pre><code>@hug.get()\ndef math(number_1:int, number_2:int): #The :int after both arguments is the Type Annotation\n return number_1 + number_2\n</code></pre>\n\n<p>Type annotations also feed into Hug's automatic documentation generation to let users of your API know what data to supply.</p>\n\n<p><strong>Directives</strong> functions that get executed with the request / response data based on being requested as an argument in your api_function</p>\n\n<pre><code>@hug.get()\ndef test_time(hug_timer):\n return {'time_taken': float(hug_timer)}\n</code></pre>\n\n<p>Directives are always prefixed with 'hug_'. Adding your own directives is straight forward:</p>\n\n<pre><code>@hug.directive()\ndef multiply(default=1, **all_info):\n '''Returns passed in parameter multiplied by itself'''\n return default _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy default\n\n@hug.get()\ndef tester(hug_multiply=10):\n return hug_multiply\n\ntester() == 100\n</code></pre>\n\n<p><strong>Output Formatters</strong> a function that takes the output of your API function and formats it for transport to the user of the API.</p>\n\n<pre><code>@hug.default_output_format()\ndef my_output_formatter(data):\n return \"STRING:{0}\".format(data)\n\n@hug.get(output=hug.output_format.json)\ndef hello():\n return {'hello': 'world'}\n</code></pre>\n\n<p>as shown, you can easily change the output format for both an entire API as well as an individual API call</p>\n\n<p><strong>Input Formatters</strong> a function that takes the body of data given from a user of your API and formats it for handling.</p>\n\n<pre><code>@hug.default_input_formatter(\"application/json\")\ndef my_input_formatter(data):\n return ('Results', hug.input_format.json(data))\n</code></pre>\n\n<p>Input formatters are mapped based on the content_type of the request data, and only perform basic parsing. More detailed\nparsing should be done by the Type Annotations present on your api_function</p>\n\n<p><strong>Middleware</strong> functions that get called for every request a Hug API processes</p>\n\n<pre><code>@hug.request_middleware()\ndef proccess_data(request, response):\n request.env['SERVER_NAME'] = 'changed'\n\n@hug.response_middleware()\ndef proccess_data(request, response, resource):\n response.set_header('MyHeader', 'Value')\n</code></pre>\n\n<p>You can also easily add any Falcon style middleware using:</p>\n\n<pre><code>__hug__.add_middleware(MiddlewareObject())\n</code></pre>\n\n<h2><a id=\"user-content-splitting-apis-over-multiple-files\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#splitting-apis-over-multiple-files\"></a>Splitting APIs over multiple files</h2>\n\n<p>Hug enables you to organize large projects in any manner you see fit. You can import any module that contains Hug\ndecorated functions (request handling, directives, type handlers, etc) and extend your base API with that module.</p>\n\n<p>For example:</p>\n\n<p><code>something.py</code></p>\n\n<pre><code>import hug\n\n@hug.get('/')\ndef say_hi():\n return 'hello from something'\n</code></pre>\n\n<p>Can be imported into the main API file:</p>\n\n<p><code>__init__.py</code></p>\n\n<pre><code>import hug\nfrom . import something\n\n@hug.get('/')\ndef say_hi():\n return \"Hi from root\"\n\n@hug.extend_api('/something')\ndef something_api():\n return [something]\n</code></pre>\n\n<p>Or alternatively - for cases like this - where only one module is being included per a URL route:</p>\n\n<pre><code>#alternatively\n__hug__.extend(something, '/something')\n</code></pre>\n\n<h2><a id=\"user-content-configuring-hug-404\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#configuring-hug-404\"></a>Configuring Hug 404</h2>\n\n<p>By default, Hug returns an auto generated API spec when a user tries to access an endpoint that isn't defined.\nIf you would not like to return this spec you can turn off 404 documentation:</p>\n\n<p>From the command line application:</p>\n\n<p>hug -nd -f {file} #nd flag tells Hug not to generate documentation on 404</p>\n\n<p>Additionally, you can easily create a custom 404 handler using the <code>hug.not_found</code> decorator:</p>\n\n<pre><code>@hug.not_found()\ndef not_found_handler():\n return \"Not Found\"\n</code></pre>\n\n<p>This decorator works in the same manner as the Hug HTTP method decorators, and is even version aware:</p>\n\n<pre><code>@hug.not_found(versions=1)\ndef not_found_handler():\n return \"\"\n\n@hug.not_found(versions=2)\ndef not_found_handler():\n return \"Not Found\"\n</code></pre>\n\n<h2><a id=\"user-content-why-hug\" class=\"anchor\" href=\"https://github.com/timothycrosley/hug?branch=develop#why-hug\"></a>Why Hug?</h2>\n\n<p>HUG simply stands for Hopefully Useful Guide. This represents the projects goal to help guide developers into creating\nwell written and intuitive APIs.</p>\n\n\n\n<p>Thanks and I hope you find <em>this</em> hug helpful as you develop your next Python API!</p>\n\n<p>~Timothy Crosley</p>\n</article>\n </div>"
    }, {
        "title": "60 Youtube Channels that will make you smarter",
        "url": "https://medium.com/@bibblio_org/60-youtube-channels-that-will-make-you-smarter-44d8315c2548",
        "excerpt": "Time is finite. Social media and Netflix can all too easily swallow our precious hours. So why not put them to better use on YouTube? Beyond the music, virals and gaming videos, YouTube has many&hellip;",
        "date_saved": "Thu Jul 28 20:07:11 EDT 2016",
        "html_file": "httpsmediumcombibblioorg60youtubechannelsthatwillmakeyousmarter44d8315c2548.html",
        "png_file": "httpsmediumcombibblioorg60youtubechannelsthatwillmakeyousmarter44d8315c2548.png",
        "md_file": "httpsmediumcombibblioorg60youtubechannelsthatwillmakeyousmarter44d8315c2548.md",
        "content": "<section name=\"32bd\" class=\" section--body section--first section--last\" score=\"41.25\"><div class=\"section-content\" score=\"35.0\"><div class=\"section-inner sectionLayout--outsetColumn\" score=\"1.25\"><figure name=\"c252\" id=\"c252\" class=\"graf--figure graf--layoutOutsetCenter graf--first\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/1200/1*92OEQbDYKA0tQmFL3YLUzQ.png\"></div></figure></div><div class=\"section-inner layoutSingleColumn\" score=\"-43.75\"><p name=\"0780\" id=\"0780\" class=\"graf--p graf--hasDropCapModel graf--hasDropCap\"><span class=\"graf-dropCap\">T</span>ime is finite. Social media and Netflix can all too easily swallow our precious hours. So why not put them to better use on YouTube? Beyond the music, virals and gaming videos, YouTube has many great channels that can teach anyone practically anything.</p><p name=\"bfdd\" id=\"bfdd\" class=\"graf--p\">Here are the sharpest brains. Press play and become smarter!</p><figure name=\"54fe\" id=\"54fe\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*7NA7_gmVAd43VE1z9HOc6w.png\"></div></figure><p name=\"0007\" id=\"0007\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/Vsauce\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Vsauce</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a\u2014\u200a</strong>Amazing answers to questions about our world</p><p name=\"07d6\" id=\"07d6\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/Kurzgesagt\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">In a Nutshell</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a\u2014\u200a</strong>Animations that make learning beautiful</p><p name=\"9b88\" id=\"9b88\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/CGPGrey\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">C. G. P. Grey</strong></a>\u200a\u2014\u200aEntertaining explanations of politics, geography and culture</p><p name=\"c554\" id=\"c554\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/crashcourse\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Crash Course</strong></a>\u200a\u2014\u200aBite-sized science and learning across many subjects</p><p name=\"0698\" id=\"0698\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/scishow\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Scishow</strong>\u200a</a>\u2014\u200aIndispensable science news, history and concepts</p><p name=\"49ac\" id=\"49ac\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/HowStuffWorks\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">HowStuffWorks</strong></a>\u200a\u2014\u200aYour daily curiosity dose that explains the world</p><p name=\"b1b8\" id=\"b1b8\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/HeadsqueezeTV\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Brit Lab</strong></a>\u200a\u2014\u200aSmart-ass ammunition that\u2019s guaranteed to astound</p><p name=\"7578\" id=\"7578\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thnkrtv\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">THNKR</strong></a>\u200a\u2014\u200aPeople, stories and ideas that change perspectives</p><figure name=\"7d37\" id=\"7d37\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*kARQnmcpSfBKhCmlkcm_Dw.png\"></div></figure><p name=\"a8c0\" id=\"a8c0\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/minutephysics\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">MinutePhysics</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aSimple explanations of physics and other sciences</p><p name=\"351b\" id=\"351b\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/minuteearth\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">MinuteEarth</strong></a>\u200a\u2014\u200aScience and stories about our awesome planet</p><p name=\"74dc\" id=\"74dc\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/1veritasium\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Veritasium</strong></a>\u200a\u2014\u200aScience and engineering videos by Derek Muller</p><p name=\"6507\" id=\"6507\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/numberphile\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Numberphile</strong></a>\u200a\u2014\u200aMaths Mecca that sums up all things numerical</p><p name=\"86fb\" id=\"86fb\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/destinws2\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">SmarterEveryDay</strong></a>\u200a\u2014\u200aExploring the world of science with Destin Sandlin</p><p name=\"7d92\" id=\"7d92\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/periodicvideos\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Periodic Videos</strong></a>\u200a\u2014\u200aVideos of each element and other chemistry stuff</p><p name=\"15fb\" id=\"15fb\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/sixtysymbols\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Sixty Symbols</strong></a>\u200a\u2014\u200aA physics and astronomy cornucopia of cool</p><p name=\"f29b\" id=\"f29b\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/AsapSCIENCE\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">AsapSCIENCE</strong></a>\u200a\u2014\u200aWeekly doses of fun and intriguing science clips</p><p name=\"e29e\" id=\"e29e\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/itsokaytobesmart\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">It\u2019s Okay To Be Smart</strong></a>\u200a\u2014\u200aWe agree!</p><p name=\"d6a2\" id=\"d6a2\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/patrickJMT\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">PatrickJMT</strong></a>\u200a\u2014\u200aStraight-to-the-point maths know-how</p><p name=\"c3f4\" id=\"c3f4\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/bozemanbiology\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Bozeman Science</strong></a>\u200a\u2014\u200aA popular high school teacher explains science</p><figure name=\"9f74\" id=\"9f74\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*JwzhZy70PAYmj9gvg4u_Fg.png\"></div></figure><p name=\"8403\" id=\"8403\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/Computerphile\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Computerphile</strong></a>\u200a\u2014\u200aAn array of computing and tech videos</p><p name=\"ac0e\" id=\"ac0e\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/MatthewPatrick13\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The Game Theorists</strong></a>\u200a\u2014\u200aOver-analysing video games</p><p name=\"e655\" id=\"e655\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/ExtraCreditz\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Extra Credits</strong></a>\u200a\u2014\u200aVideo game design to start your developer career</p><p name=\"6982\" id=\"6982\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thenewboston\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The New Boston</strong></a>\u200a\u2014\u200aTons of great web development tutorials</p><figure name=\"3962\" id=\"3962\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*-jaaflXsI-QpuD9SB-0S0A.png\"></div></figure><p name=\"3d80\" id=\"3d80\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/schooloflifechannel\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The School of Life</strong></a>\u200a\u2014\u200aIdeas for life through many lenses</p><p name=\"b535\" id=\"b535\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/braincraftvideo\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">BrainCraft</strong></a>\u200a\u2014\u200aWeekly videos on psychology and neuroscience</p><p name=\"858e\" id=\"858e\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thugnotes\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Wisecrack</strong></a>\u200a\u2014\u200aLearn your ass off with witty sketches</p><p name=\"68de\" id=\"68de\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/pbsideachannel\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">PBS Idea Channel</strong></a>\u200a\u2014\u200aA cultural critique of pop, technology and art</p><p name=\"d031\" id=\"d031\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thephilosophytube\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Philosophy Tube</strong></a>\u200a\u2014\u200aOliver Lennard \u201cgives away a philosophy degree\u201d</p><figure name=\"4aed\" id=\"4aed\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*XG8MdevojPZlchGTh07lOA.png\"></div></figure><p name=\"b9c6\" id=\"b9c6\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/markcrilley\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Mark Crilley</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aHow-to-draw videos on almost every topic you can imagine</p><p name=\"d36a\" id=\"d36a\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/DrawWithJazza\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Draw With Jazza</strong>\u200a</a>\u2014\u200aTutorials on all forms of visual expression</p><p name=\"28e1\" id=\"28e1\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/JustinSandercoe\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">JustinGuitar</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aGuitar courses for various styles, techniques and abilities</p><p name=\"02ab\" id=\"02ab\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/HDPiano\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">HDpiano</strong></a>\u200a\u2014\u200aLearn to play the piano with easy to follow tutorials</p><p name=\"fc0a\" id=\"fc0a\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/everyframeapainting\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Every Frame a Painting</strong></a>\u200a\u2014\u200aTop-notch and truly fascinating analysis of film</p><p name=\"2c57\" id=\"2c57\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/photoexposed\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Photo Exposed</strong></a>\u200a\u2014\u200aPhotography tips, techniques and tutorials</p><p name=\"0838\" id=\"0838\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/theartassignment\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The Art Assignment</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aArtist talks and challenging assignments for yourself</p><p name=\"da93\" id=\"da93\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/filmriot\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Film Riot</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aA how-to trip through all aspects of film making</p><figure name=\"0a59\" id=\"0a59\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*3O5ydDOomYG2MSD1vLuTsg.png\"></div></figure><p name=\"68d0\" id=\"68d0\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/01032010814\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Grant Thompson</strong></a>\u200a\u2014\u200aCaution advised with these experiments and life hacks</p><p name=\"236e\" id=\"236e\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/CrazyRussianHacker\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Crazy Russian Hacker</strong></a>\u200a\u2014\u200aThe daddy of all science experiment channels</p><figure name=\"7b6a\" id=\"7b6a\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*zYmWugXxAQoMGT1ZN9rEcg.png\"></div></figure><p name=\"f4b2\" id=\"f4b2\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/EarthUnpluggedTV\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Earth Unplugged</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aBBC-produced channel about the natural world</p><p name=\"31c1\" id=\"31c1\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/BBCEarth\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">BBC Earth</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aJump in and meet your planet</p><p name=\"6a40\" id=\"6a40\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thebrainscoop\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The Brain Scoop</strong></a>\u200a\u2014\u200aA private tour of The Field Museum in Chicago</p><figure name=\"43e7\" id=\"43e7\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*2Ji4pDv1p4xmL-gJqY-WPA.png\"></div></figure><p name=\"5f58\" id=\"5f58\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/OUlearn\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">ouLearn</strong></a>\u200a\u2014\u200aThe Open University\u2019s rich and engaging learning channel</p><p name=\"884b\" id=\"884b\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/theRSAorg\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The RSA</strong></a>\u200a\u2014\u200aThe Royal Society of Arts sets new standards in its field</p><p name=\"dc5e\" id=\"dc5e\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/TEDtalksDirector\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">TED Talks</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aNo list would be complete without TED\u2019s main collection</p><p name=\"1ac0\" id=\"1ac0\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/TEDEducation\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">TED-Ed</strong></a>\u200a\u2014\u200aCarefully curated and crafted educational videos and animations</p><p name=\"2f51\" id=\"2f51\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/smithsonianchannel\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Smithsonian</strong></a>\u200a\u2014\u200aThe mighty institution explores the grand questions</p><p name=\"acaf\" id=\"acaf\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/bigthink\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Big Think</strong></a>\u200a\u2014\u200aExploring big ideas that define knowledge in the 21st century</p><p name=\"2df3\" id=\"2df3\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/TheRoyalInstitution\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">The Royal Institution</strong></a>\u200a\u2014\u200aFilms and lectures about the natural world</p><p name=\"64b9\" id=\"64b9\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/GreshamCollege\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Gresham College</strong></a>\u200a\u2014\u200aLiberally delivering knowledge through top lectures</p><figure name=\"2241\" id=\"2241\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*H1tUJHE2QOAwwpowzF392g.png\"></div></figure><p name=\"133c\" id=\"133c\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/britishpathe\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">British Path\u00e9\u200a</strong></a>\u2014\u200aFamous newsreels shown within carefully chosen topics</p><p name=\"eb92\" id=\"eb92\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/itnsource\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">ITN Source</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aOne of the largest historic collections of news footage</p><p name=\"2a06\" id=\"2a06\" class=\"graf--p\"><a href=\"https://www.youtube.com/channel/UCHTK-2W11Vh1V4uwofOfR4w\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">AP Archive</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aThe Associated Press, the world\u2019s largest and oldest agency</p><figure name=\"d816\" id=\"d816\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*DfuswbmaN3awHZpPi5Rt2w.png\"></div></figure><p name=\"c1e9\" id=\"c1e9\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/crashcoursekids\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Crash Course Kids</strong></a><strong class=\"markup--strong markup--p-strong\"> </strong>\u2014For 5th grade scientists, engineers and astronomers</p><p name=\"20ef\" id=\"20ef\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/scishowkids\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">SciShow Kids</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aExperiments, experts and answers for kids aged 8 to 88</p><p name=\"469b\" id=\"469b\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/hooplakidzhowto\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">HooplaKidz</strong></a><strong class=\"markup--strong markup--p-strong\">\u200a</strong>\u2014\u200aArts and crafts for little \u2019uns</p><figure name=\"2bfc\" id=\"2bfc\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*wB5yW-RqWZ26oGd6KvGStg.png\"></div></figure><p name=\"66c4\" id=\"66c4\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/sexplanations\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Sexplanations</strong></a>\u200a\u2014\u200aHonest answers about sexuality by Lindsey Doe</p><p name=\"925c\" id=\"925c\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/thehealthcaretriage\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Healthcare Triage</strong></a>\u200a\u2014\u200aAnswering questions about medicine and healthcare</p><p name=\"27cd\" id=\"27cd\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/kenHubCOM\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Kenhub</strong></a>\u200a\u2014\u200aAn engaging and different way to learn human anatomy</p><figure name=\"b6f4\" id=\"b6f4\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*Qjx5esqUonebJh-nbmvaww.png\"></div></figure><p name=\"2a6d\" id=\"2a6d\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/Vihart\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Vi Hart</strong></a>\u200a\u2014\u200aA \u201crecreational mathemusician\u201d like no other</p><p name=\"1563\" id=\"1563\" class=\"graf--p\"><a href=\"https://www.youtube.com/user/msadaghd\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">ElectroBOOM</strong></a>\u200a\u2014\u200aSuccessfully discovering the craziness in engineering</p><p name=\"9165\" id=\"9165\" class=\"graf--p\">These channels have been chosen based on a range of factors, such as production value, impact, quality, variety and quantity. In many categories, great channels and incredible niches have been left out, but such is the burden of any editor. <a href=\"https://medium.com/p/e4cc9e359811/\" class=\"markup--anchor markup--p-anchor\"><strong class=\"markup--strong markup--p-strong\">See the entire list of 134 nominees here</strong></a>.</p><p name=\"f796\" id=\"f796\" class=\"graf--p\">This list was compiled by <a href=\"http://bibblio.org\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Bibblio</strong></a>, the default librarian for millions of quality digital learning materials. If this list is helpful to you, please recommend it so that others can benefit too!</p><p name=\"531c\" id=\"531c\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">More juicy posts by Bibblio:</em><br><a href=\"https://medium.com/synapse/education-vs-learning-9f0d0d5696b5\" class=\"markup--anchor markup--p-anchor\"><strong class=\"markup--strong markup--p-strong\">Education vs Learning</strong></a><strong class=\"markup--strong markup--p-strong\"><br></strong><a href=\"https://medium.com/synapse/search-vs-discovery-1b80e045aea\" class=\"markup--anchor markup--p-anchor\"><strong class=\"markup--strong markup--p-strong\">Search vs Discovery</strong></a></p><figure name=\"3ab2\" id=\"3ab2\" class=\"graf--figure graf--last\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*p3hSwhlvM0VkjMZQESXkpg.png\"></div></figure></div></div></section>"
    }, {
        "title": "Create a REST API with Node.js",
        "url": "http://bigspaceship.github.io/blog/2014/05/14/how-to-create-a-rest-api-with-node-dot-js/",
        "excerpt": "For a pitch, we prototyped one of our concepts with a Natural Language search feature. I quickly implemented a REST style GET call on search submit with Node.js via major article skimming. I still&hellip;",
        "date_saved": "Thu Jul 28 20:07:12 EDT 2016",
        "html_file": "create_a_rest_api_with_nodejs.html",
        "png_file": "create_a_rest_api_with_nodejs.png",
        "md_file": "create_a_rest_api_with_nodejs.md",
        "content": "<div><div class=\"m-content\">\n <p>For a pitch, we prototyped one of our concepts with a <a href=\"https://github.com/NaturalNode/natural\" target=\"_tab\">Natural Language</a> search feature. I quickly implemented a REST style GET call on search submit with Node.js via major <a href=\"http://coenraets.org/blog/2012/10/creating-a-rest-api-using-node-js-express-and-mongodb/\" target=\"_tab\">article</a> skimming. I still didn't have a clear mental map of how Node.js worked with a REST API, so I broke it down into a <a href=\"http://brittneykernan.github.io/noderest-presentation/\" target=\"_tab\">presentation</a> for the BSS Tech team. You can follow along, or skim.</p>\n\n\n\n<h2 id=\"toc_0\">PHP vs Node.js REST Components</h2>\n\n<p>If you've come from PHP, your brain may already hold a diagram of what a REST API looks like in that language. Let's make one for Node.js:</p>\n\n<h5 id=\"toc_1\">PHP</h5>\n\n<ul>\n<li>Apache - HTTP server</li>\n<li>.php controllers - Controls what your app does with data</li>\n<li>Content-Type JSON Headers - Sends your data back readable</li>\n<li>.htaccess - Map URLs to controller action methods for pretty URLs</li>\n<li>MySQLi - Interfaces with Data</li>\n<li>MySQL - Stores data</li>\n</ul>\n\n<h5 id=\"toc_2\">Node.js</h5>\n\n<ul>\n<li>Node.js - HTTP Server</li>\n<li>JavaScript modules - Controllers for what your app does with data</li>\n<li>Express - Framework to easily build for web with Node.js</li>\n<li>Routes - Map URLs to actions for pretty URLs</li>\n<li>Mongoose.js - Interfaces with data</li>\n<li>Mongo - Stores data</li>\n</ul>\n\n<h2 id=\"toc_3\">Start a Node Server</h2>\n\n<p><a href=\"http://nodejs.org/\" target=\"_tab\">Install Node</a> first. Make a directory to play in, ex: <em>noderest</em>, and put <em>server.js</em> in the root.</p>\n\n<h5 id=\"toc_4\">server.js</h5>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">http</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'http'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">writeHead</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'Content-Type'</span><span class=\"o\">:</span> <span class=\"s1\">'text/plain'</span><span class=\"p\">});</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"s1\">'Hello New York\\n'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">}).</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">3001</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Server running at http://localhost:3001/'</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<h5 id=\"toc_5\">What's going on here</h5>\n\n<p>HTTP is the module we'll use to read the incoming Requests' HTTP action - GET, POST, PUT or DELETE - and Headers. It will also create a server for us, listening for Requests at the available port of your choice (here 3001). Pass <code>createServer()</code> a callback function that takes two arguments <code>req</code> and <code>res</code>. <code>req</code> for Request and <code>res</code> for Response. Add a <code>console.dir()</code> or two to print to Terminal what these two variables hold. Response is an object you can use to reply back to the Request. Forget to return something with Response and your Request will simply time out. Here any URL path we type at\n<a href=\"http://localhost:3001/\" target=\"_tab\">http://localhost:3001/</a> will print back <em>Hello New York</em> with a <em>OK</em> header as plain text content.</p>\n\n<h5 id=\"toc_6\">Try it</h5>\n\n<p>In Terminal:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\"><span class=\"nv\">$ </span><span class=\"nb\">cd </span>noderest/\n</span><span class=\"line\"><span class=\"nv\">$ </span>node server.js\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Terminal should print <code>Server running at http://127.0.0.1:3001/</code> back at you. So easy (as long as you didn't have anything else running in that port). Open that URL. You should see <code>Hello New York</code>.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-node.gif\" alt=\"picture alt\" title=\"Node Server \"></p>\n\n<h5 id=\"toc_7\">Add Express</h5>\n\n<p>Why add Express? Same reason you use jQuery, makes things faster and easier. What the hell is it? I read the <a href=\"http://expressjs.com/\" target=\"_tab\">home page</a> maybe 5 times and used it in 3 prototypes before my brain mapped it.</p>\n\n<p>To add Express as a dependency to your project, we'll need to first <a href=\"http://blog.npmjs.org/post/85484771375/how-to-install-npm\" target=\"_tab\">install NPM</a> (it should have installed with Node actually, <a href=\"http://blog.npmjs.org/post/85484771375/how-to-install-npm\" target=\"_tab\">if not</a>). NPM will read our <em><a href=\"https://www.npmjs.org/doc/json.html\">package.json</a></em> file saved to the root of our project directory, and then download and install Express for us.</p>\n\n<h5 id=\"toc_8\">package.json</h5>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"noderest\"</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"description\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Demo REST API with Node\"</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"version\"</span><span class=\"o\">:</span> <span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"private\"</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"dependencies\"</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"s2\">\"express\"</span><span class=\"o\">:</span> <span class=\"s2\">\"3.x\"</span>\n</span><span class=\"line\"> <span class=\"p\">}</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<h5 id=\"toc_9\">Install Express in Terminal</h5>\n\n<figure class=\"code\"><figcaption></figcaption></figure>\n\n<p>Watch NPM in Terminal fetch the files. Your directory now holds a new folder called <em>node_modules</em>, with the <em>express</em> folder inside. Let's use Express.</p>\n\n<h5 id=\"toc_10\">Use Express</h5>\n\n<p>Like the HTTP module you required in your first version of <em>server.js</em>, you'll require Express. Open <em>server.js</em>, clear it out. Add:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'express'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n</span><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"s1\">'Hello Seattle\\n'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">3001</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Listening on port 3001...'</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<h5 id=\"toc_11\">What's changed</h5>\n\n<p>Nothing! Not really. Our server is actually doing the same thing, though. Listening to HTTP requests sent to locally to port 3001 and returning updated text <em>Hello Seattle</em>. Only difference is we now have Express' framework to work with - a slightly cleaner and faster way to handle requests and set up our server. The <code>app</code> variable holds an instance of the Express application object, which has many useful methods.</p>\n\n<h5 id=\"toc_12\">Run Express</h5>\n\n<p>Changes to Node.js server files require a full server restart in order to be run the updated version.</p>\n\n<p>In Terminal, use <code>CTRL-C</code> to stop your running Node server. Restart with <code>node server.js</code>.</p>\n\n<p>You'll see Terminal respond with <em>Listening on port 3001</em>. And <em>Hello Seattle</em> at your localhost in the browser. You may notice the font family is different than before. Express is sending a text/html Content-Type Header instead of text/plain (Express is for web after all).</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-express.gif\" alt=\"picture alt\" title=\"Express Server\"></p>\n\n<h2 id=\"toc_13\">REST</h2>\n\n<p>We're ready to build our REST API. We'll need:</p>\n\n<ul>\n<li>A URL route schema to map requests to app actions</li>\n<li>A Controller to handle each action</li>\n<li>Data to respond with</li>\n<li>Place to store the data</li>\n<li>Interface to access and change data</li>\n</ul>\n\n<h2 id=\"toc_14\">Routes</h2>\n\n<p>Routes are the predefined URL paths your API responds to. Think of each Route as listening to three parts:</p>\n\n<ul>\n<li>A specific HTTP Action</li>\n<li>A specific URL path</li>\n<li>A handler method</li>\n</ul>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"s1\">'Return JSON or HTML View'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>This example of routing handles all GET Requests. The URL path is the root of the site, the homepage. The handling method is an anonymous function, and responds with plain text in this case.</p>\n\n<h2 id=\"toc_15\">Request</h2>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'/musician/:name'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"c1\">// Get /musician/Matt</span>\n</span><span class=\"line\"> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">)</span>\n</span><span class=\"line\"> <span class=\"c1\">// =&gt; Matt</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"s1\">'{\"id\": 1,\"name\":\"Matt\",</span>\n</span><span class=\"line\"><span class=\"s1\"> \"band\":\"BBQ Brawlers\"}'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Paths are string patterns broken up by <code>/</code> and <code>:</code>, and translated into RegEx by Express. In this example, <code>:name</code> is anything that comes after <code>/musician/</code> in the url. This parameter will be available in our Request object <code>req</code> under the params property. It will be keyed the same name as our param in the route path.</p>\n\n<p>FYI <code>req.body</code> can also be used to refer to the HTTP Request Body. You'll need to tell Express to look out for Requests Body's in your <em>server.js</em> file via <code>configure()</code>. We'll do this later.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">configure</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">bodyParser</span><span class=\"p\">());</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<h2 id=\"toc_16\">Response</h2>\n\n<p><code>res.send()</code> is awesome. You can pass this method JSON, Strings and HTML, and it will interoperate and send back the appropriate Content-Type and other Headers for you. If you want control, that's cool too. To send a custom HTTP Status pass that number in before the response content. Add other headers, use <code>res.set()</code> to add in your headers before calling <code>res.send()</code>.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">({</span> <span class=\"s2\">\"some\"</span><span class=\"o\">:</span> <span class=\"s2\">\"json\"</span> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"s2\">\"html for Maximum Pain's web page\"</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">404</span><span class=\"p\">,</span> <span class=\"s1\">'No musicians here'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"nx\">error</span><span class=\"o\">:</span> <span class=\"s1\">'you blew it'</span> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>There's much more to Express than detailed here. For more read the well designed and written <a href=\"http://expressjs.com/4x/api.html\">docs</a>.</p>\n\n<h2 id=\"toc_17\">Routes.js</h2>\n\n<p>Add a new file at the root called <em>routes.js</em>. Drop in this routing module:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">musicians</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'./controllers/musicians'</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'/musicians'</span><span class=\"p\">,</span> <span class=\"nx\">musicians</span><span class=\"p\">.</span><span class=\"nx\">findAll</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'/musicians/:id'</span><span class=\"p\">,</span> <span class=\"nx\">musicians</span><span class=\"p\">.</span><span class=\"nx\">findById</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/musicians'</span><span class=\"p\">,</span> <span class=\"nx\">musicians</span><span class=\"p\">.</span><span class=\"nx\">add</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">put</span><span class=\"p\">(</span><span class=\"s1\">'/musicians/:id'</span><span class=\"p\">,</span> <span class=\"nx\">musicians</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"k\">delete</span><span class=\"p\">(</span><span class=\"s1\">'/musicians/:id'</span><span class=\"p\">,</span> <span class=\"nx\">musicians</span><span class=\"p\">.</span><span class=\"k\">delete</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Here we are working with a Musician data model. We've created a Musicians Controller and placed all our Request event handling methods inside the controller. The main REST HTTP actions are handled. We've modeled our URL routes off of REST API conventions, and named our handling methods clearly.</p>\n\n<h2 id=\"toc_18\">Controllers</h2>\n\n<p>To keep code organized, create a folder called <em>controllers</em> inside your project directory. Create a new file inside of that called <em>musicians.js</em>. We'll add each request handling method for Musicians data to this file one by one. For now add these placeholders to <em>musicians.js</em> so we can restart the server without errors:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findAll</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findById</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">add</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">update</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"k\">delete</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Our Controller exports all of these methosd so the router can refer to them.</p>\n\n<h5 id=\"toc_19\">Find All</h5>\n\n<p>Update <code>findAll</code>'s definition' to the function below:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findAll</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">([{</span>\n</span><span class=\"line\"> <span class=\"s2\">\"id\"</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Max\"</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Maximum Pain\"</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"guitar\"</span>\n</span><span class=\"line\"> <span class=\"p\">}]);</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Like the anonymous functions we declared in our <em>server.js</em>, request handler methods accept <code>req</code> and <code>res</code> arguments and return JSON with <code>res.send()</code>. Our JSON is hard coded, which will do for now. Let's test this route in our app.</p>\n\n<h5 id=\"toc_20\">Import Routes and JS Modules</h5>\n\n<p>Update <em>server.js</em> to require our routes file. The <code>.js</code> file extension can be omitted.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'express'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n</span><span class=\"line\"><span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'./routes'</span><span class=\"p\">)(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">3001</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Jammin\\' on port 3001...\"</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p><code>CTRL+C</code> to stop the Node server and <code>node server.js</code> to restart. You should now see JSON at <a href=\"http://localhost:3001/musicians\">localhost:3001/musicians</a>.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-musicians.gif\" alt=\"picture alt\" title=\"Musicians JSON\"></p>\n\n<h2 id=\"toc_21\">Mongo</h2>\n\n<p>Data would be more fun to play with. I made fake bands for all the techers on the team for my musicians data. Put thought into it.</p>\n\n<h5 id=\"toc_22\">Start Mongo</h5>\n\n<p>Mongo Database felt right for my light data and it is super fast to set up (if you already have Mongo installed, <a href=\"http://docs.mongodb.org/manual/installation/\">install</a> it if not, yuck). Run <code>mongod</code> in another Terminal tab if it's not running already.</p>\n\n<h2 id=\"toc_23\">Mongoose.js</h2>\n\n<p>Mongo is easy enough to communicate with, but if you like a little bit more structure to your data and data interface, try a Mongo Driver. I used Mongoose.js because I liked the Schema style of defining document structure.</p>\n\n<p>Ask NPM to install this dependency for you, and update your package.json file with this dependency for you with the <code>--save-dev</code> option.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\">npm install mongoose --save-dev\n</span></code></pre></td></tr></table></div></figure>\n\n<h5 id=\"toc_24\">Use Mongoose.js</h5>\n\n<p>Update <em>server.js</em>:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n<span class=\"line-number\">12</span>\n<span class=\"line-number\">13</span>\n<span class=\"line-number\">14</span>\n<span class=\"line-number\">15</span>\n<span class=\"line-number\">16</span>\n<span class=\"line-number\">17</span>\n<span class=\"line-number\">18</span>\n<span class=\"line-number\">19</span>\n<span class=\"line-number\">20</span>\n<span class=\"line-number\">21</span>\n<span class=\"line-number\">22</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'express'</span><span class=\"p\">),</span>\n</span><span class=\"line\"><span class=\"nx\">mongoose</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'mongoose'</span><span class=\"p\">),</span>\n</span><span class=\"line\"><span class=\"nx\">fs</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'fs'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">mongoUri</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost/noderest'</span><span class=\"p\">;</span>\n</span><span class=\"line\"><span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">mongoUri</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">;</span>\n</span><span class=\"line\"><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">throw</span> <span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'unable to connect to database at '</span> <span class=\"o\">+</span> <span class=\"nx\">mongoUri</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n</span><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">configure</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n</span><span class=\"line\"> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">bodyParser</span><span class=\"p\">());</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'./models/musician'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'./routes'</span><span class=\"p\">)(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">3001</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Listening on port 3001...'</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>We're requiring the Mongoose module which will communicate with Mongo for us. The <code>mongoUri</code> is a location to the Mongo DB that Mongoose will create if there is not one there already. We added an error handler there to help debug issues connecting to Mongo collections. We also configured Express to parse requests' bodies (we'll use that for POST requests). Lastly, we require the Musician model which we'll make next.</p>\n\n<h2 id=\"toc_25\">Define Data Models</h2>\n\n<p>Create a new folder called <em>models</em> and add a new file <em>musician.js</em> for our Musician Model.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">mongoose</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'mongoose'</span><span class=\"p\">),</span>\n</span><span class=\"line\"><span class=\"nx\">Schema</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">;</span>\n</span><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">MusicianSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Schema</span><span class=\"p\">({</span>\n</span><span class=\"line\"> <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"nb\">String</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"nx\">band</span><span class=\"o\">:</span> <span class=\"nb\">String</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"nx\">instrument</span><span class=\"o\">:</span> <span class=\"nb\">String</span>\n</span><span class=\"line\"><span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Musician'</span><span class=\"p\">,</span> <span class=\"nx\">MusicianSchema</span><span class=\"p\">);</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Require Mongoose into this file, and create a new Schema object. This schema helps Mongoose make sure it's getting and setting the right and well-formed data from and to the Mongo collection. Our schema has three String properties which define a Musician object. The last line creates the Musician model object, with built in Mongo interfacing methods. We'll refer to this Musician object in other files.</p>\n\n<h5 id=\"toc_26\">Find All</h5>\n\n<p>Update <em>controllers/musicians.js</em> to require Mongoose, so we can create an instance of our Musician model to work with. Update <code>findAll()</code> to query Mongo with the <code>find()</code> data model method.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n<span class=\"line-number\">12</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">mongoose</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'mongoose'</span><span class=\"p\">),</span>\n</span><span class=\"line\"><span class=\"nx\">Musician</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Musician'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findAll</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">({},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">results</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">results</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findById</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">add</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">update</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"k\">delete</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Passing <code>find()</code> <code>{}</code> means we are not filtering data by any of its properties, so please return all of it. Once Mongoose looks up the data it returns an error message and a result set. Use <code>res.send()</code> to return the raw results.</p>\n\n<h4 id=\"toc_27\">Start Mongoose</h4>\n\n<p>Restart the server with <code>CTRL+C</code> and <code>node server.js</code>. Visit the API endpoint for all musicians <a href=\"http://localhost:3001/musicians\">localhost:3001/musicians</a>. You'll get JSON data back, in the form of an empty array.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-no-musicians.gif\" alt=\"picture alt\" title=\"Empty Musicians JSON\"></p>\n\n<h2 id=\"toc_28\">Data</h2>\n\n<p>Since I didn't feel like messing with Mongo command-line, I decided to import musician data with our REST API. Add a new route endpoint to <em>routes.js</em>.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\">app.get<span class=\"o\">(</span><span class=\"s1\">'/import'</span>, musicians.import<span class=\"o\">)</span>;\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Now to define the import method in our Musicians Controller <em>controllers/musicians.js</em>:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"kr\">import</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Ben\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"DJ Code Red\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Reason\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Mike D.\"</span><span class=\"p\">,</span><span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Kingston Kats\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"drums\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Eric\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Eric\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"piano\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Paul\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"The Eyeliner\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"guitar\"</span> <span class=\"p\">}</span>\n</span><span class=\"line\"> <span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">202</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>This import method adds four documents out of the hard-coded JSON to a <em>musicians</em> collection. The Musician model is referenced here to call its create method. <code>create()</code> takes one or more documents in JSON form, and a callback to run on completion. If an error occurs, Terminal will spit the error out, and the request will timeout in the browser. On success, 202 Accepted HTTP status code is returned to the browser. Restart your node server and visit this new endpoint to import data.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-import.gif\" alt=\"picture alt\" title=\"Empty Musicians JSON\"></p>\n\n<h2 id=\"toc_29\">Returning Data</h2>\n\n<p>Now visit your <code>musicians/</code> endpoint to view all new musicians data. You'll see an array of JSON objects, each in the defined schema, with an additional generated unique private <code>_id</code> and internal <code>__v</code> version key. Don't edit those.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-data.gif\" alt=\"picture alt\" title=\"Musicians JSON\"></p>\n\n<h5 id=\"toc_30\">Find By Id</h5>\n\n<p>Recall our route for getting a musician by its id <code>app.get('/musicians/:id', musicians.findById)</code>. Here is the handler method:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findById</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">findOne</span><span class=\"p\">({</span><span class=\"s1\">'_id'</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>This route's path uses a parameter pattern for <em>id</em> <code>/musicians/:id</code> which we can refer to in <code>req</code>. Pass this id to Mongoose to look up and return just one document. Restart the server. At your find all endpoint, copy one of the super long ids and paste it in at the end of the current url in the browser. Refresh your browser. You'll get a single JSON object for that one musician's document. Nice.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-by-id.gif\" alt=\"picture alt\" title=\"Musician Found\"></p>\n\n<h5 id=\"toc_31\">Update</h5>\n\n<p>PUT HTTP actions in a REST API correlate to an Update method. The route for Update also uses an <code>:id</code> parameter.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">update</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">updates</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">({</span><span class=\"s2\">\"_id\"</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">numberAffected</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Updated %d musicians'</span><span class=\"p\">,</span> <span class=\"nx\">numberAffected</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">202</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Notice the <code>updates</code> variable storing the <code>req.body</code>. <code>req.body</code> is useful when you want to pass in larger chunks of data such as a single JSON object. Here we will pass in a JSON object following the schema of only the model's properties you want to change.</p>\n\n<p>The model's <code>update()</code> takes three parameters:</p>\n\n<ul>\n<li>JSON object of matching properties to look up the doc with to update</li>\n<li>JSON object of just the properties to update</li>\n<li>callback function that returns the number of documents updated</li>\n</ul>\n\n<h5 id=\"toc_32\">Test with cURL</h5>\n\n<p>PUT actions are not easy to test in the browser, so I used cURL in Terminal after restarting the server.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\"><span class=\"nv\">$ </span>curl -i -X PUT -H <span class=\"s1\">'Content-Type: application/json'</span> -d <span class=\"s1\">'{\"band\": \"BBQ Brawlers\"}'</span> http://localhost:3001/musicians/535fe13ac688500000c2b28b\n</span></code></pre></td></tr></table></div></figure>\n\n<p>This sends a JSON Content-Type PUT request to our update endpoint. That JSON object is the request body, and the long hash at the end of the URL is the id of the musician we want to update. Terminal will output a JSON object of the response to the cURL request and <em>Updated 1 musicians</em> from our callback function.</p>\n\n<p>Visit this same URL from the cURL request in the browser to see the changes.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-put.gif\" alt=\"picture alt\" title=\"Musician Updated\"></p>\n\n<h5 id=\"toc_33\">Add</h5>\n\n<p>We used <code>create()</code> earlier to add multiple documents to our Musicians Mongo collection. Our POST handler uses the same method to add one new Musician to the collection. Once added, the response is the full new Musician's JSON object.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">add</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">musician</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">musician</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Restart the server. Use cURL to POST to the add endpoint with the full Musician JSON as the request body.</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\"><span class=\"nv\">$ </span>curl -i -X POST -H <span class=\"s1\">'Content-Type: application/json'</span> -d <span class=\"s1\">'{\"name\": \"Joe\", \"band\": \"Abita Boys\", \"instrument\":\"voice\"}'</span> http://localhost:3001/musicians\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Visit <a href=\"http://localhost:3001/musicians\">localhost:3001/musicians</a> to see the new Musician at the end of the array.</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-post.gif\" alt=\"picture alt\" title=\"Musician Updated\"></p>\n\n<h5 id=\"toc_34\">Delete</h5>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"k\">delete</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({</span><span class=\"s1\">'_id'</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>Our final REST endpoint, delete reuses what we've learned above. Add this to <em>controllers/musicians.js</em>, restart, and check it out with:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre></td><td class=\"code\"><pre><code class=\"sh\"><span class=\"line\"><span class=\"nv\">$ </span>curl -i -X DELETE http://localhost:3001/musicians/535feac1cc539500000a209f\n</span></code></pre></td></tr></table></div></figure>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/browser-delete.gif\" alt=\"picture alt\" title=\"Musician Gone\"></p>\n\n<h2 id=\"toc_35\">Summary</h2>\n\n<p>Your final <em>controllers/musicians.js</em> should look like this:</p>\n\n<figure class=\"code\"><figcaption></figcaption><div class=\"highlight\"><table><tr><td class=\"gutter\"><pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n<span class=\"line-number\">12</span>\n<span class=\"line-number\">13</span>\n<span class=\"line-number\">14</span>\n<span class=\"line-number\">15</span>\n<span class=\"line-number\">16</span>\n<span class=\"line-number\">17</span>\n<span class=\"line-number\">18</span>\n<span class=\"line-number\">19</span>\n<span class=\"line-number\">20</span>\n<span class=\"line-number\">21</span>\n<span class=\"line-number\">22</span>\n<span class=\"line-number\">23</span>\n<span class=\"line-number\">24</span>\n<span class=\"line-number\">25</span>\n<span class=\"line-number\">26</span>\n<span class=\"line-number\">27</span>\n<span class=\"line-number\">28</span>\n<span class=\"line-number\">29</span>\n<span class=\"line-number\">30</span>\n<span class=\"line-number\">31</span>\n<span class=\"line-number\">32</span>\n<span class=\"line-number\">33</span>\n<span class=\"line-number\">34</span>\n<span class=\"line-number\">35</span>\n<span class=\"line-number\">36</span>\n<span class=\"line-number\">37</span>\n<span class=\"line-number\">38</span>\n<span class=\"line-number\">39</span>\n<span class=\"line-number\">40</span>\n<span class=\"line-number\">41</span>\n<span class=\"line-number\">42</span>\n<span class=\"line-number\">43</span>\n<span class=\"line-number\">44</span>\n<span class=\"line-number\">45</span>\n<span class=\"line-number\">46</span>\n<span class=\"line-number\">47</span>\n<span class=\"line-number\">48</span>\n<span class=\"line-number\">49</span>\n</pre></td><td class=\"code\"><pre><code class=\"javascript\"><span class=\"line\"><span class=\"kd\">var</span> <span class=\"nx\">mongoose</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'mongoose'</span><span class=\"p\">),</span>\n</span><span class=\"line\"><span class=\"nx\">Musician</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Musician'</span><span class=\"p\">);</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findAll</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">({},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">results</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">results</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">findById</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">findOne</span><span class=\"p\">({</span><span class=\"s1\">'_id'</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">add</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">musician</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">musician</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">update</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">updates</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">({</span><span class=\"s2\">\"_id\"</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">,</span>\n</span><span class=\"line\"> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">numberAffected</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Updated %d musicians'</span><span class=\"p\">,</span> <span class=\"nx\">numberAffected</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">202</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">}</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"k\">delete</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"kd\">var</span> <span class=\"nx\">id</span> <span class=\"o\">=</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({</span><span class=\"s1\">'_id'</span><span class=\"o\">:</span><span class=\"nx\">id</span><span class=\"p\">},</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"nx\">result</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span><span class=\"line\"><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"kr\">import</span> <span class=\"o\">=</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">){</span>\n</span><span class=\"line\"> <span class=\"nx\">Musician</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Ben\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"DJ Code Red\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Reason\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Mike D.\"</span><span class=\"p\">,</span><span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Kingston Kats\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"drums\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Eric\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Eric\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"piano\"</span> <span class=\"p\">},</span>\n</span><span class=\"line\"> <span class=\"p\">{</span> <span class=\"s2\">\"name\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Paul\"</span><span class=\"p\">,</span> <span class=\"s2\">\"band\"</span><span class=\"o\">:</span> <span class=\"s2\">\"The Eyeliner\"</span><span class=\"p\">,</span> <span class=\"s2\">\"instrument\"</span><span class=\"o\">:</span> <span class=\"s2\">\"guitar\"</span> <span class=\"p\">}</span>\n</span><span class=\"line\"> <span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n</span><span class=\"line\"> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">(</span><span class=\"mi\">202</span><span class=\"p\">);</span>\n</span><span class=\"line\"> <span class=\"p\">});</span>\n</span><span class=\"line\"><span class=\"p\">};</span>\n</span></code></pre></td></tr></table></div></figure>\n\n<p>And your project directory should look like this:</p>\n\n<p><img src=\"http://brittneykernan.github.io/noderest-presentation/img/directory.gif\" alt=\"picture alt\" title=\"Directory Structure\"></p>\n\n<p>Final project files can be found in the <a href=\"https://github.com/brittneykernan/noderest-presentation/tree/master/src\">presentation repo</a>.</p>\n\n<p>In my opinion, setting up a REST API with Node.js and Mongo is super fast compared to with PHP and MySQL. The <a href=\"http://expressjs.com/\">Express.js</a>, <a href=\"http://nodejs.org/api/http.html\">Node.js</a> and <a href=\"http://mongoosejs.com/docs/api.html\">Mongoose.js API</a> documentation is all easy to reference. There's much more powerful things you can do than I have outlined, so don't stop here.</p>\n\n<p>Shout out to <a href=\"http://markdalgleish.com/projects/bespoke.js/\">Bespoke.js</a> for the beautiful presentation micro-framework. I'm thinking about adding my fake CLI and fake Directory JS into a Bespoke plugins (arrow through <a href=\"http://brittneykernan.github.io/noderest-presentation/\">the presentation</a> to see those).</p>\n\n </div>\n \n \n \n\n </div>"
    }, {
        "title": "Even Easier: RESTful API with Node.js and Express Framework",
        "url": "http://ericbrandel.com/2013/01/27/even-easier-restful-api-with-node-js-and-express-framework/",
        "excerpt": "I just finished up an absolutely thrilling four part series on using the Slim PHP Framework to knock out a RESTful API fairly quickly. This post (and likely a follow-up one) will show how it&#x2019;s&hellip;",
        "date_saved": "Thu Jul 28 20:07:14 EDT 2016",
        "html_file": "even_easier_restful_api_with_nodejs_and_express_framework.html",
        "png_file": "even_easier_restful_api_with_nodejs_and_express_framework.png",
        "md_file": "even_easier_restful_api_with_nodejs_and_express_framework.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t\t\t\t<p>I just finished up an <em>absolutely </em><a href=\"http://ericbrandel.com/2012/10/18/quickly-build-restful-apis-in-php-with-slim/\" title=\"Quickly Build RESTful APIs in PHP with Slim\" target=\"_blank\">thrilling four part series</a> on using the Slim PHP Framework to knock out a RESTful API fairly quickly. This post (and likely a follow-up one) will show how it&#x2019;s even easier to accomplish the same thing with <a href=\"http://nodejs.org/\" title=\"Node.js\" target=\"_blank\">Node.js</a> and the <a href=\"http://expressjs.com/\" title=\"Express Web Application Framework\" target=\"_blank\">Express Web Application Framework</a>.</p>\n<p>For an IDE, instead of the old faithful Netbeans, I switched over to <a href=\"http://www.jetbrains.com/webstorm/\" title=\"JetBrain WebStorm\" target=\"_blank\">JetBrain&#x2019;s WebStorm</a>. JetBrain is best known for the very powerful <a href=\"http://www.jetbrains.com/idea/\" title=\"IntelliJ IDEA\" target=\"_blank\">IntelliJ IDEA</a> and WebStorm is their attempt at crafting the ultimate IDE for Javascript development. So far I&#x2019;ve been pretty impressed, and it seems to be the most evolved Javascript focused development environment out there.</p>\n<figure id=\"attachment_570\" class=\"wp-caption aligncenter\"><a href=\"http://i0.wp.com/ericbrandel.com/wp-content/uploads/2013/01/webstorm.gif\"><img src=\"http://i0.wp.com/ericbrandel.com/wp-content/uploads/2013/01/webstorm.gif?resize=716%2C332\" alt=\"JetBrain WebStorm - It's probably true\" class=\"size-full wp-image-570\"></a><figcaption id=\"figcaption_attachment_570\" class=\"wp-caption-text\">JetBrain WebStorm &#x2013; It&#x2019;s probably true</figcaption></figure>\n\n<p>Anyways, there won&#x2019;t be a ton of Node.js info here, other than to point out it&#x2019;s becoming a very popular choice for server-side coding. Everyone from LinkedIn to Walmart to Microsoft is investing significant time and energy into Node.js based development. One key benefit of running Javascript on the server is that you are able to tap into existing competencies of web developers, very few of which will not have at least a decent Javascript skillset.</p>\n<p>Frequently on top of Node.js is the <a href=\"http://expressjs.com/\" title=\"Express Web Application Framework\" target=\"_blank\">Express Web Application Framework</a>. Express is similar to Slim in that it does a lot, but stays out of your way, and makes routing RESTful APIs a breeze. For example, setting up a new web app is pretty simple:</p>\n<pre>\nvar express = require('express')\n , get = require('./routes/get')\n , http = require('http')\n , path = require('path');\n\nvar app = express();\n\napp.configure(function(){\n app.set('port', process.env.PORT || 3000);\n app.use(express.logger('dev'));\n app.use(express.bodyParser());\n app.use(express.methodOverride());\n app.use(app.router);\n app.use(express.static(path.join(__dirname, 'public')));\n});\n\napp.configure('development', function(){\n app.use(express.errorHandler());\n});\n\napp.get('/', get.all);\napp.get('/:id', get.one);\n\nhttp.createServer(app).listen(app.get('port'), function(){\n console.log(\"Express server listening on port \" + app.get('port'));\n});\n</pre>\n<p>Not much there really. The two key lines are really the two app.get entries:</p>\n<pre>\napp.get('/', get.all);\napp.get('/:id', get.one);\n</pre>\n<p>They setup the routes for <em>/</em> and <em>/:id</em> and hooks them to <em>get.all</em> and <em>get.one</em>. The second app.get contains a parameter, <em>:id</em>, which is available to the routed functions via a fairly simple params array. <em>get</em> was defined on the second line, which points to <em>/routes/get.js</em>:</p>\n<pre>\nvar mysql = require('mysql');\nvar connection = mysql.createConnection({ host: 'localhost', user: 'api', \n password: '12345', database: 'api'});\n\nexports.all = function(req, res){\n if (connection) {\n connection.query('select _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy from commodores order by name', function(err, rows, fields) {\n if (err) throw err;\n res.contentType('application/json');\n res.write(JSON.stringify(rows));\n res.end();\n });\n }\n};\n\nexports.one = function(req, res){\n var id = req.params.id;\n if (connection) {\n var queryString = 'select _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy from commodores where id = ?';\n connection.query(queryString, [id], function(err, rows, fields) {\n if (err) throw err;\n res.contentType('application/json');\n res.write(JSON.stringify(rows));\n res.end();\n });\n }\n};\n</pre>\n<p>Again, very little effort needed to get what we want, which is the data back to us in JSON. No ORM in use here, so there&#x2019;s just some straight SQL calls to the MySQL database. The results from hitting the two URLs:<br>\n<em><strong>URL:</strong> http://localhost:3000/</em></p>\n<pre>\n[\n{\"id\":\"12\",\"name\":\"Commodore 128\",\"url\":\"http:\\/\\/en.wikipedia.org\\/wiki\\/Commodore_128\"}\n{\"id\":\"9\",\"name\":\"Commodore 16\",\"url\":\"http:\\/\\/en.wikipedia.org\\/wiki\\/Commodore_16\"}\n...\n{\"id\":\"8\",\"name\":\"Commodore SX-64\",\"url\":\"http:\\/\\/en.wikipedia.org\\/wiki\\/Commodore_SX-64\"}\n{\"id\":\"3\",\"name\":\"Commodore VIC-20\",\"url\":\"http:\\/\\/en.wikipedia.org\\/wiki\\/Commodore_VIC-20\"}\n]\n</pre>\n<p>To request a specific item:<br>\n<em><strong>URL:</strong> http://localhost:3000/2</em></p>\n<pre>[{\"id\":2,\"name\":\"Commodore PET/CBM\",\"url\":\"http://en.wikipedia.org/wiki/Commodore_PET\"}]</pre>\n<p>And that&#x2019;s all that is needed for the two most common Get calls in a RESTful API. Part 2 will show how to setup the remaining Post, Put, and Delete calls, and will be linked here when it is complete.</p>\n<a rel=\"author\" href=\"https://plus.google.com/109768187739364803836?rel=author\">Google+</a>\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t</div>"
    }, {
        "title": "BinaryJS",
        "url": "http://binaryjs.com/",
        "excerpt": "Binary data for the web is here BinaryJS is bidrectional realtime binary data with binary websockets A year ago if someone asked you \"how do I stream binary data / audio / video / files to&hellip;",
        "date_saved": "Thu Jul 28 20:07:15 EDT 2016",
        "html_file": "binaryjs.html",
        "png_file": "binaryjs.png",
        "md_file": "binaryjs.md",
        "content": "<div><section>\n <h3>Binary data for the web is here</h3>\n <p><strong>BinaryJS is bidrectional realtime binary data with binary websockets</strong></p>\n <p>A year ago if someone asked you \"how do I stream binary data / audio / video / files to Javascript?\" the answer would have been \"Flash\" or \"no\" (or \"Java applets\")</p>\n <p>But as of Chrome 15+, Firefox 11+, Internet Explorer 10, and Safari nightly builds, that is no longer true.</p><p>BinaryJS is a lightweight framework that utilizes websockets to send, stream, and pipe binary data bidirectionally between browser javascript and Node.js.</p>\n <ul>\n <li>BinaryPack serialization format is fast, binary, and JSON-type compatible. Data stays binary end to end</li>\n <li>Automatically chunks large binary data buffers for streaming performance</li>\n <li>Send multiple streams of data concurrently over multiplexed websocket connection</li>\n <li>API implements Node.js read/write Streams. You can pipe any stream into BinaryJS streams (and vice-versa)</li>\n <li>\"pause,\" \"resume,\" and \"end\" as in the Streams API</li>\n </ul>\n <h3>Show me the API</h3>\n <p>BinaryJS allows multiple streams (of pure binary data!) over a single realtime websocket connection. Either the client or server can create a stream that both client and server can write to.</p>\nNode.js server<br>\n<pre><code>var server = BinaryServer({port: 9000});\nserver.on('connection', function(client){\n client.on('stream', function(stream, meta){\n var file = fs.createWriteStream(meta.file);\n stream.pipe(file);\n }); \n});\n</code></pre> \n\nBrowser:<br>\n<pre><code>var client = BinaryClient('ws://localhost:9000');\nclient.on('open', function(stream){\n var stream = client.createStream({file: 'hello.txt'});\n stream.write('Hello');\n stream.write('World!');\n stream.end();\n});\n</code></pre>\n <p>\n <a href=\"https://github.com/binaryjs/binaryjs/blob/master/doc/start.md\">View the \"Getting Started\" guide</a>\n </p>\n <p>\n <a href=\"https://github.com/binaryjs/binaryjs/blob/master/doc/api.md\">View the API reference</a>\n </p>\n <p>\n <a href=\"https://github.com/binaryjs/binaryjs/tree/master/examples/helloworld\">View the \"Hello world\" example</a>\n </p>\n <p>\n <a href=\"https://github.com/binaryjs/binaryjs/tree/master/examples\">See more examples</a>\n </p>\n \n <h3>What can you do with this?</h3>\n <p>You have just as much flexibility as a full TCP socket between client and server</p>\n <p>Here are some ideas that are now possible (beta-testers are already working on some!):</p>\n <ul>\n <li>Realtime multiplayer video games without expensive stringifying</li>\n <li>Streaming FLAC into HTML5 WebAudio api</li>\n <li>Progressive image loading (for retina displays and high-res photorgraphy)</li>\n <li>Streaming file uploads <a href=\"https://github.com/binaryjs/binaryjs/tree/master/examples/fileupload\">Example</a></li>\n <li>Live HTML &lt;video&gt; streaming</li>\n <li>PJAX with no HTTP requests. Not even for image assets</li>\n <li>Video / audio chat over websockets</li>\n </ul>\n <h3>Additional details</h3>\n <p>BinaryJS employs `BinaryPack` a modified version of the MessagePack protocol. The Node.js server uses a modified version of the `ws` library enhanced to pass through the status of the socket buffer so adherence to Node.js Stream API is possible.</p>\n <p>Both the server and the client can write or accept any arbitrary JSON type or structure &#x2013; Objects, arrays, null, booleans, strings &#x2013; and also binary data. Because BinaryPack is a binary protocol, the wire format has negligible serialization/deserialization overhead for large chunks of binary data. This also means binary data types such as Buffer in Node.js and Blob or ArrayBuffer in the client can be serialized and deserialized (without the inefficiencies of JSON or Base64!).</p>\n <p>On the client, feature detection is employed to choose between using BlobBuilder, the Blob constructor, and ArrayBufferViews or ArrayBuffers themselves for assembling Blobs for transport.</p>\n <p>When using `stream.write` data chunking is up to the caller. When a stream is piped, it is up to the source stream to chunk data. When sending a larger binary type using `client.send` a new stream is created and the buffer will piped into the stream in chunks automatically.</p>\n <p>For piped streams, BinaryJS correctly provides boolean return values from `stream.write` calls so that if the socket buffer is full, the incoming stream is paused. This powerful cascade of stream throttling allows large streams to be transferred without excessive memory use.</p>\n <h3>Future plans</h3>\n <p>The items below are in no particular order. If you would like to contribute go ahead and issue a pull request or email me at <a href=\"mailto:really.ez+1010@gmail.com\">really.ez+1010@gmail.com</a></p>\n <ul>\n <li>Improved <a href=\"https://github.com/binaryjs/js-binarypack\">BinaryPack</a> serialization performance, including a native C++ module for <a href=\"https://github.com/binaryjs/node-binarypack\">node-binarypack</a></li>\n <li>Fallbacks (either with Flash or XHR2) for non-binary-websocket browsers</li>\n <li>iOS and Android clients</li>\n <li>Ruby, Python, Java servers</li>\n </ul>\n <h3>Limitations and issues</h3>\n <ul>\n <li>Currently supports Chrome 15+ and Firefox 11+, IE10. Fallbacks that will support Safari, mobile iOS and Android, and older FF/Chrome versions are in the works</li>\n <li>Performance is largely untested. Though BinaryPack serialization results in smaller data, I have not compared to native JSON serialization performance. C++ BinaryPack Node.js module is in the works</li>\n \n </ul>\n <h3>Support and questions</h3>\n <p>If you want you can email me at <a href=\"mailto:really.ez+1010@gmail.com\">really.ez+1010@gmail.com</a></p>\n <p>Please file a <a href=\"https://github.com/binaryjs/binaryjs/issues\">GitHub issue</a> for the bugs you find.</p>\n </section>\n </div>"
    }, {
        "title": "Fix Time Machine Sparsebundle NAS Based Backup Errors",
        "url": "http://www.garth.org/archives/2011,08,27,169,fix-time-machine-sparsebundle-nas-based-backup-errors.html",
        "excerpt": "This is a modification of an original post for use when you have a corrupt sparsebundle backup on a NAS (as opposed to an external drive attached to a router) and it needs to be repaired. The NAS is&hellip;",
        "date_saved": "Thu Jul 28 20:07:18 EDT 2016",
        "html_file": "fix_time_machine_sparsebundle_nas_based_backup_errors.html",
        "png_file": "fix_time_machine_sparsebundle_nas_based_backup_errors.png",
        "md_file": "fix_time_machine_sparsebundle_nas_based_backup_errors.md",
        "content": "<div><div class=\"entry-content\">\n\t\t<p><a href=\"http://www.garth.org/wp-content/uploads/2011/08/time-machine-icon.png\"><img class=\"alignright size-thumbnail wp-image-150\" title=\"Time Machine\" alt=\"Time Machine\" src=\"http://www.garth.org/wp-content/uploads/2011/08/time-machine-icon-150x150.png\" width=\"150\"></a></p>\n<p>This is a modification of an <a href=\"http://www.garth.org/archives/2010,07,16,124,fixing-time-machine-sparsebundle-network-backup-errors.html\">original post</a> for use when you have a corrupt sparsebundle backup on a NAS (as opposed to an <a title=\"Fix Time Machine Sparsebundle Network Backup Errors\" href=\"http://www.garth.org/archives/2010,07,16,124,fixing-time-machine-sparsebundle-network-backup-errors.html\">external drive attached to a router</a>) and it needs to be repaired. The NAS is likely a hardware product from the likes of Netgear, Synology, Buffalo or QNap &#x2013; or for those of us with a home-grown backup server running FreeNAS.</p>\n<p>The error you may see is &#x201C;Time Machine completed a verification of your backups. To improve reliability, Time Machine must create a new backup for you.&#x201D; This can be fixed by following the below.</p>\n<p>From your Mac, connect to the network share that houses the sparsebundle.</p>\n<p>At the top level of the drive are the various sparsebundles that make up your individual computer backups.</p>\n<p>Do not double click on these sparsebundles or try to repair with Disk Utility.</p>\n<p>Open Terminal and then switch to root by typing</p>\n<p><code>sudo su -</code></p>\n<p>and then enter your password.</p>\n<p>The verication that has already run has marked your sparsebundle as bad, so first we need to make it look normal.</p>\n<p>From the command line</p>\n<p><code>chflags -R nouchg /Volumes/{name of your network share}/{name of}.sparsebundle</code></p>\n<p>This may take a little while.</p>\n<p>Now type</p>\n<p><code>hdiutil attach -nomount -noverify -noautofsck /Volumes/{name of your network share/{name of}.sparsebundle</code></p>\n<p>You will then see something like</p>\n<p><code>/dev/diskx Apple_partition_scheme<br>\n/dev/diskxs1 Apple_partition_map<br>\n/dev/diskxs2 Apple_HFSX</code></p>\n<p>Where x is the disk id for the external disk. You are interested in the one labeled Apple_HFSX or Apple_HFS. It might be 2, 3, 4 or higher.</p>\n<p>At this point, I have found that the filesystem check is already happening. You can check for activity by tail&#x2019;ing the fsck_hfs.log</p>\n<p><code>tail -f /var/log/fsck_hfs.log</code></p>\n<p>If fsck is going then in my experience it will be able to repair the sparsebundle. Go away for a few hours and let it chug away.</p>\n<p>When it is done, you will either see</p>\n<p>&#x2018;The Volume was repaired successfully&#x2019;</p>\n\n<p>&#x2018;The Volume could not be repaired&#x2019;</p>\n<p>If the latter you can run disk repair again:</p>\n<p><code>fsck_hfs -drfy /dev/diskxs2</code></p>\n<p>(Optionally if you have the available RAM, you can set a RAM cache in the command above to help speed up this command like so:</p>\n<p><code>fsck_hfs -drfy -c 750 /dev/diskxs2</code></p>\n<p>This will use 750MB of RAM &#x2013; feel free to change this amount to best fit your system (amount of RAM vs size of your Time Machine Sparsebundle). If you are unsure about this, use the first command.</p>\n<p>Make sure to replace x with whatever number your disk is from the output above.</p>\n<p>The letters &#x201C;drfy&#x201D; tell the filecheck utility different things. d for &#x2018;Show Debug&#x2019; &#x2013; r for &#x2018;Rebuild Catalog Tree&#x2019; &#x2013; f for &#x2018;Force&#x2019; and y for assume &#x2018;yes&#x2019; to any prompts.</p>\n<p>Now go do something for an hour or two. Come back and</p>\n<p><code>tail -f /var/log/fsck_hfs.log</code></p>\n<p>If all went well, the last output you will see is</p>\n<p>&#x2018;The Volume was repaired successfully&#x2019;</p>\n<p>Now you need to type<br>\n<code>hdiutil detach /dev/diskxs2</code></p>\n<p>You can redo the above for any other Time Machine sparse bundles you have permission to modify while you have the network share attached to your computer.</p>\n<p>Final step.</p>\n<p>When complete, you need to edit an plist file within the sparsebundle that records the state of the backup. On the top level of the sparsebundle find a file called com.apple.TimeMachine.MachineID.plist. Edit it and remove these two nodes</p>\n<p><code>&lt;key&gt;RecoveryBackupDeclinedDate&lt;/key&gt;<br>\n&lt;date&gt;{whatever-the-date}&lt;/date&gt;</code></p>\n<p>Finally you want to change</p>\n<p><code>&lt;key&gt;VerificationState&lt;/key&gt;<br>\n&lt;integer&gt;2&lt;/integer&gt;</code></p>\n<p>to<br>\n<code>&lt;key&gt;VerificationState&lt;/key&gt;<br>\n&lt;integer&gt;0&lt;/integer&gt;</code></p>\n<p>Now you can eject the network share and have Time Machine give it another go. After the (long) verification step, backups should proceed once again.</p>\n<p>Notes:</p>\n<p>Ideally this should be done over a gigabit wired network connection. Do not attempt using Wi-Fi. You also want to make sure your machine does not go to sleep during the above operation.</p>\n<p>[Update: 1.1.2013]</p>\n<p>I appreciate all the warm feedback from people all over the world who have been helped by this post. This site helps to fund my hobbies, so if this post has helped you please consider a USD $1.99 donation to my hobby fund.</p>\n\n\n\n \n\n\n\n<p>[Update: 12.23.2012]</p>\n<p>If after running the initial</p>\n<p><code>fsck_hfs -drfy /dev/diskxs2</code></p>\n<p>command you get a message in the fsck_hfs.log along the lines of</p>\n<p><code>RebuildBTree &#x2013; record x in node y is not recoverable.</code></p>\n<p>then try</p>\n<p><code> fsck_hfs -p /dev/diskxs2</code></p>\n<p>followed by</p>\n<p><code> fsck_hfs -drfy /dev/diskxs2</code></p>\n<p>And see if that works. &#xA0;It did for me today.\n</p>\n\t</div>\n\t\n\t\n</div>"
    }, {
        "title": "Just a Theory",
        "url": "http://justatheory.com/computers/os/macosx/rsnapshot_and_launchd.html",
        "excerpt": "Just a few quick notes on how I set up launchd to run rsnapshot to backup my new iMac. The configurations I made are based on Kenn Christ's blog entry. Installed the rsnapshot port: sudo port install&hellip;",
        "date_saved": "Thu Jul 28 20:07:19 EDT 2016",
        "html_file": "just_a_theory.html",
        "png_file": "just_a_theory.png",
        "md_file": "just_a_theory.md",
        "content": "<div><div class=\"story\">\n \n <div class=\"body\">\n \n\n<p>Just a few quick notes on how I set up <code>launchd</code> to run <code>rsnapshot</code> to backup my new iMac. The configurations I made are based on Kenn Christ's <a href=\"http://www.inmostlight.org/2006/03/easy-backups-with-rsnapshot\" title=\"Easy backups with rsnapshot\">blog entry</a>.</p>\n\n<ol>\n <li>\n <p>Installed the rsnapshot port:</p>\n <pre>sudo port install rsnapshot</pre>\n </li>\n\n <li>\n <p>Changed <em>/opt/local/etc/rsnapshot.conf</em> as follows:</p>\n <pre>\nsnapshot_root\t/Volumes/Demiterra/Backup/\n#interval\thourly\t6\nrsync_long_args\t--delete --numeric-ids --relative --delete-excluded -extended-attributes\nexclude\t*.cpan*\nlink_dest\t1\n#backup\t/home/\t\tlocalhost/\n#backup\t/etc/\t\tlocalhost/\n#backup\t/usr/local/\tlocalhost/\nbackup\t/Users/\t\t\n</pre>\n <p>Note that I've commented out hourly backups and the default backup directories. I'm using the <em>Backups</em> subdirectory on a <a href=\"http://www.wdc.com/en/products/Products.asp?DriveID=224\" title=\"Western Digital My Book&#x2122; Premium Edition&#x2122;\">My Book</a> half terrabyte drive that I picked up at Costco for $220. Your configuration may of course differ.</p>\n </li>\n\n <li>\n <p>Tested it by manually running:</p>\n <pre>sudo /opt/local/bin/rsnapshot daily</pre>\n </li>\n\n <li>\n <p>Created hourly, daily, weekly, and monthly <code>launchd</code> plist files for <code>rsnapshot</code>. The hourly one runs every six hours and I threw it in just for completeness. You can download them all from <a href=\"http://justatheory.com/downloads/rsnapshot_launchd_plists.tar.gz\" title=\"Download my rsnapshot launchd plist files\">here</a>. Just put them into <em>/Library/LaunchDaemons</em> and run:</p>\n <pre>sudo launchctl load -w /Library/LaunchDaemons/org.rsnapshot.periodic-*.plist</pre>\n </li>\n</ol>\n\n<p>And that's it. Enjoy!</p>\n\n </div>\n \n </div>\n \n\n \n \n </div>"
    }, {
        "title": "Time Machine for every Unix out there",
        "url": "https://blog.interlinked.org/tutorials/rsync_time_machine.html",
        "excerpt": "Using rsync to mimic the behavior of Apple's Time Machine feature rsync is one of the tools that have gradually infiltrated my day to day tool-box (aside Vim and Zsh). Using rsync it&#x2019;s very&hellip;",
        "date_saved": "Thu Jul 28 20:07:21 EDT 2016",
        "html_file": "time_machine_for_every_unix_out_there.html",
        "png_file": "time_machine_for_every_unix_out_there.png",
        "md_file": "time_machine_for_every_unix_out_there.md",
        "content": "<div><h2 class=\"entryTagline\">Using rsync to mimic the behavior of Apple's Time Machine feature</h2>\n\n<div class=\"entryContent\">\n\n \n <p><a href=\"http://rsync.samba.org\">rsync</a> is one of the tools that have gradually infiltrated my day to day tool-box (aside Vim and Zsh).</p>\n<p>Using rsync it&#x2019;s very easy to mimic Mac OS X new feature called Time Machine. In this article I&#x2019;ll show how to do it, but there is still a nice <span class=\"caps\">GUI</span> missing &#x2013; for those who like it shiny.</p>\n<h2>What Time Machine does</h2>\n<p>Time Machine makes a snapshot of your files every hour. The files are usually stored on a external hard drive connected to your Mac via <span class=\"caps\">USB</span> or Firewire. Earlier Leopard versions (<span class=\"caps\">ADC</span> preview versions) had the ability to make the backups to a remote drive (I&#x2019;ve heard).</p>\n<p>So if you lose a file, or did a devastating change to one of your files, simply go back in time until you find your file or a version that&#x2019;s not corrupted.</p>\n<p>Incrementally backing up all files every hour so that you can access them in reversed chronological order isn&#x2019;t that hard with standard Unix utilities like rsync. The only missing thing is a nice <span class=\"caps\">GUI</span> for which Apple is known to be quite good at.</p>\n<h2>Making full backups in no time every hour</h2>\n<p>You can use this method to make a backup every hour or every ten minutes if you like. There are many many features you can tune or configure to your own taste &#x2013; excluding files that are larger than 1GB for example.</p>\n<p>So, here the command to make the backup:</p>\n<div class=\"highlight\"><pre><code class=\"bash\">rsync -aP --link-dest<span class=\"o\">=</span>PATHTO/<span class=\"nv\">$PREVIOUSBACKUP</span> <span class=\"nv\">$SOURCE</span> <span class=\"nv\">$CURRENTBACKUP</span>\n</code></pre></div><p>Lets go through the parameters step by step.</p>\n<ul>\n\t<li><code>-a</code> means Archive and includes a bunch of parameters to recurse directories, copy symlinks as symlinks, preserve permissions, preserve modification times, preserve group, preserve owner, and preserve device files. You usually want that option for all your backups.</li>\n\t<li><code>-P</code> allows rsync to continue interrupted transfers and show a progress status for each file. This isn&#x2019;t really necessary but I like it.</li>\n\t<li><code>--link-dest</code> this is a neat way to make full backups of your computers without losing much space. rsync links unchanged files to the previous backup (using hard-links, see below if you don&#x2019;t know hard-links) and only claims space for changed files. This only works if you have a backup at hand, otherwise you have to make at least one backup beforehand.</li>\n\t<li><code>PATHTO/$PREVIOUSBACKUP</code> is the path to the previous backup for linking. Note: if you delete this directory, <strong>no other backup is harmed</strong> because rsync uses <strong>hard-links</strong> and the operating system (or filesystem) takes care of releasing space if no link points to that region anymore.</li>\n\t<li><code>$SOURCE</code> is the directory you&#x2019;d like to backup.</li>\n\t<li><code>$CURRENTBACKUP</code> is the directory to which you&#x2019;d like to make the backup. This should be a <strong>non-existing directory</strong>.</li>\n</ul>\n<p>As said earlier, rsync has many many features. To exclude files over a certain size for example, use the option <code>--max-size</code> (unfortunately this is not available on the rsync version shipped with Mac OS X Leopard). The man page or the <a href=\"http://rsync.samba.org/documentation.html\">documentation</a> can give you plenty of ideas in this direction.</p>\n<p>So much for the theory of the most important command for our purpose. Here a simple script that makes an incremental backup every time you call it:</p>\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"c\">#!/bin/sh</span>\n\n<span class=\"nv\">date</span><span class=\"o\">=</span><span class=\"sb\">`</span>date <span class=\"s2\">\"+%Y-%m-%dT%H:%M:%S\"</span><span class=\"sb\">`</span>\nrsync -aP --link-dest<span class=\"o\">=</span><span class=\"nv\">$HOME</span>/Backups/current /path/to/important_files <span class=\"nv\">$HOME</span>/Backups/back-<span class=\"nv\">$date</span>\nrm -f <span class=\"nv\">$HOME</span>/Backups/current\nln -s back-<span class=\"nv\">$date</span> <span class=\"nv\">$HOME</span>/Backups/current\n</code></pre></div><p>The script creates a file called &#x201C;back&#x201D; appended by the current date and time, for example <code>back-2007-11-13T22:03:32</code> which contains the <strong>full backup</strong>. Then there is a symbolic link called &#x201C;current&#x201D; which points to the most recent directory. This directory-link is used for the <code>--link-dest</code> parameter.</p>\n<p>You should look at the <code>--exclude</code> parameter (or better, <code>--exclude-from=</code> parameter) and learn how to exclude certain files or directories from the backup (you shouldn&#x2019;t backup your backup for example).</p>\n<p>The script above only works on the local machine because making links on a remote machine needs some extra work. But not much:</p>\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"c\">#!/bin/sh</span>\n\n<span class=\"nv\">date</span><span class=\"o\">=</span><span class=\"sb\">`</span>date <span class=\"s2\">\"+%Y-%m-%dT%H:%M:%S\"</span><span class=\"sb\">`</span>\nrsync -azP --link-dest<span class=\"o\">=</span>PATHTOBACKUP/current <span class=\"nv\">$SOURCE</span> <span class=\"nv\">$HOST</span>:PATHTOBACKUP/back-<span class=\"nv\">$date</span>\nssh <span class=\"nv\">$HOST</span> <span class=\"s2\">\"rm -f PATHTOBACKUP/current &amp;&amp; ln -s back-$date PATHTOBACKUP/current\"</span>\n</code></pre></div><p>The <code>-f</code> parameter for the <code>rm</code> command is used to supress error messages if the <code>current</code> directory is not present, which would in turn prevent the link to be created.</p>\n<p>To get that working you either use a public/private key authentication scheme or something else to avoid typing in your password. Another possibility is, of course, to mount the remote file-system on the local computer using the above script.</p>\n<p>On my setup the script takes about 6 seconds to synchronize 46968 files and 29GB &#x2013; this takes 20MB for the file structure (with no actual files to transfer of course). But afterwards, I have a complete backup of my system in a new directory.</p>\n<p>On a much bigger setup (1.2 million files and 50GB of data) the backup takes about 30 minutes and takes about 3GB of space (just for links!), so it isn&#x2019;t exactly <strong>free</strong>, but very convenient.</p>\n<p>The space needed for the backup is determined by the shape of your directory structure. On the larger setup I have lots of Maildirs and a very deep directory structure so it takes much more space than my home-directory backup above. 3GB is quite a lot, but 20MB doesn&#x2019;t hurt.</p>\n<h2>Advanced <code>rsync</code> parameters</h2>\n<p>Additional to the parameters described above, I usually employ a combination of these parameters in my backup:</p>\n<ul>\n\t<li><code>--delete</code> and <code>--delete-excluded</code> this tells rsync to remove files from my backups either if they are gone on my local machine, or if I decided to exclude them from my backup.</li>\n\t<li><code>--exclude-from=FILE</code> the file specified here is a simple list of directories of files (one per line) which should <strong>not</strong> be backed up. My <code>Trash</code> folder oder some <code>.cache</code> folders are candidates for this file.</li>\n\t<li><code>-P</code> is used to give more information on how far the backup is, and how many files are to be backed up. Additional it could resume an interrupted transfer (which doesn&#x2019;t apply here because we create a blank backup each time we call the script).</li>\n\t<li><code>-x</code> this one is <strong>important</strong> because it prohibits rsync to go beyond the local filesystem. For example if you backup you Linux-root partition, you should not include the /proc directory because rsync will get stuck in it. <code>-x</code> excludes all mounted filesystems from the backup which is probably what you want in most cases.</li>\n</ul>\n<h2>Hard-Links</h2>\n<p>Each file in a directory is a link to the actual data on your hard-disk. The file-system keeps track of how many links to a area point, and only if the last link is deleted, the whole area gets deleted (in contrast to soft-links, these are pointers to the file-name, not the contents).</p>\n<p>Here an illustration of two backups with three files each. <code>File1</code> and <code>File2</code> are the <em>same</em> in both backups, only <code>File3</code> changed between <code>Backup1</code> and <code>Backup2</code>. So in <code>Backup2</code>, <code>File3 (changed)</code> has to point to a different area than <code>File3</code> in <code>Backup1</code>.</p>\n<p><img src=\"http://blog.interlinked.org/static/images/hardlinks.png\" alt=\"\"></p>\n<p><span class=\"caps\">BTW</span>, there is a <a href=\"http://code.google.com/p/flyback/\">nice project for Linux</a> out there which provides the same functionality as Time Machine including a nice <span class=\"caps\">GUI</span> which is also based on <strong><code>rsync</code></strong> and the procedure presented here.</p>\n<h2>The End</h2>\n<p>Credit: The initial idea for this approach came from <a href=\"http://www.mikerubel.org/computers/rsync_snapshots/\">Mike Rubel &#x2013; rsync snapshots</a>.</p>\n<p>Also interesting if you have to cope with Windows: <a href=\"http://www.softlab.ntua.gr/~ttsiod/backup.html\">Optimal remote backups with rsync over Samba</a>.</p>\n<p>There are quite a few approaches out there which more or less do the same, but rsync is available on virtually every Unix out there (even the <a href=\"http://damnsmalllinux.org/\"><span class=\"caps\">DSL</span></a> with its 50MB footprint includes rsync). So using other tools might be more convenient, but I&#x2019;ll stick with the omnipresent rsync.</p>\n<p>rsync offers the possibility to store only the differences to the previous backup (using <code>--compare-dest</code> which should point to a full-backup instead of <code>--link-dest</code>). It then doesn&#x2019;t make links to the unchanged files, it just leaves them out. This way you get an incremental backup without the &#x201C;directory-overhead&#x201D; of the <code>--link-dest</code> approach. <strong>But</strong> you have to be <strong>extremely</strong> cautious which one of older backups you delete because the newer backups just don&#x2019;t contain some of these files (think of full-backups as checkpoints)! Using the <code>--link-dest</code> you can delete all backups but the last and you still got all the files, so I&#x2019;m happy to pay 20MB per backup for this safety.</p>\n<h2>Full script</h2>\n<p>Here my full script with additional features:</p>\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"c\">#!/bin/sh</span>\n\n<span class=\"nv\">date</span><span class=\"o\">=</span><span class=\"sb\">`</span>date <span class=\"s2\">\"+%Y-%m-%dT%H_%M_%S\"</span><span class=\"sb\">`</span>\n<span class=\"nv\">HOME</span><span class=\"o\">=</span>/home/user/\n\nrsync -azP <span class=\"se\">\\</span>\n --delete <span class=\"se\">\\</span>\n --delete-excluded <span class=\"se\">\\</span>\n --exclude-from<span class=\"o\">=</span><span class=\"nv\">$HOME</span>/.rsync/exclude <span class=\"se\">\\</span>\n --link-dest<span class=\"o\">=</span>../current <span class=\"se\">\\</span>\n <span class=\"nv\">$HOME</span> user@backupserver:Backups/incomplete_back-<span class=\"nv\">$date</span> <span class=\"se\">\\</span>\n <span class=\"o\">&amp;&amp;</span> ssh user@backupserver <span class=\"se\">\\</span>\n <span class=\"s2\">\"mv Backups/incomplete_back-$date Backups/back-$date \\</span>\n<span class=\"s2\"> &amp;&amp; rm -f Backups/current \\</span>\n<span class=\"s2\"> &amp;&amp; ln -s back-$date Backups/current\"</span>\n</code></pre></div>\n \n \n \n \n\n</div>\n\n\n\n</div>"
    }, {
        "title": "Reclaiming a TimeMachine Volume\u2019s Disk Space",
        "url": "http://blog.hawkimedia.com/2012/08/reclaiming-a-timemachine-volumes-disk-space/",
        "excerpt": "A slight departure from the thing we all love doing (writing code) to a thing some of us may have to spend time on (system administration). We added a fourth Mac to our home network recently, and I&hellip;",
        "date_saved": "Thu Jul 28 20:07:22 EDT 2016",
        "html_file": "reclaiming_a_timemachine_volumeu2019s_disk_space.html",
        "png_file": "reclaiming_a_timemachine_volumeu2019s_disk_space.png",
        "md_file": "reclaiming_a_timemachine_volumeu2019s_disk_space.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t\t<p>A slight departure from the thing we all love doing (writing code) to a thing some of us may have to spend time on (system administration). We added a fourth Mac to our home network recently, and I wanted to get it backed up automatically. The solution was obvious: TimeMachine! I run a Linux server with gobs of storage. It runs Netatalk 3.0 and serves up (among other volumes) a 500GB TimeMachine volume. It works really well, except when the volume is full with TimeMachine backups from other machines. There&#x2019;s a way to reclaim this space, but it&#x2019;s not obvious or automatic.</p>\n\n<p>If you&#x2019;re a TimeMachine user, you know that when your TimeMachine volume fills, TimeMachine will automatically remove the oldest backup(s) to make room for new backups. What may not be obvious is that when space is needed and old backups are removed, the total disk usage of the sparse bundle in which TimeMachine actually stores your backups does not change! If you have a single Mac backing up to a dedicated TimeMachine volume, this really isn&#x2019;t an issue. But in my case, I have one large volume which I share with multiple Macs. Two Macs have been merrily backed up for well over a year each, or more. The volume is nearly full, divided between 2 sparse bundle files.</p>\n<p>It would be nice if TimeMachine had some advanced controls to limit how much actual disk space any one machine could use, but it doesn&#x2019;t. Luckily, though, there are some command line tools available to help us.</p>\n<p>Basically, it&#x2019;s a two step process:</p>\n<ol><li>Remove old backups manually</li>\n<li>Compact the sparse bundle</li>\n</ol><p>Apple provides a command line utility named <strong>tmutil</strong>. You can use it from a Terminal window. While it can do a lot of things, what we&#x2019;re interested in are two commands. The first simply lists all your backup sets:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n% tmutil listbackups\n</pre>\n<p>You&#x2019;ll get output similar to this:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2011-02-28-004805\n/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2011-03-07-004637\n/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2011-03-21-003726\n...\n/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2012-08-30-071401\n/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2012-08-30-081501\n</pre>\n<p>These are the paths to all your backup sets in the sparse bundle TimeMachine uses for your Mac&#x2019;s backups. They are listed from oldest to newest. As you can see here, my oldest backup is from February 28, 2011, and the next oldest is the following week, March 7, 2011. These are pretty old and really not worth keeping around, especially if you want to reclaim some disk space on the volume. Notice that these old backups are essentially &#x201C;weekly&#x201D; backups. TimeMachine will keep an unlimited number of these weekly backups. More recent backups are hourly and daily, and these are the more valuable backups to keep around.</p>\n<p>The first thing you need to do is to remove the oldest backups, starting with the very oldest, and working your way forward in time. Be as aggressive as you feel you need to be to both reclaim disk space and feel confident that your backup sets are as complete as you need them to be. DO NOT DELETE ALL YOUR BACKUP SETS!</p>\n<p>Deleting a backup set is simple, but requires root privilege:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n% sudo tmutil delete '/Volumes/Time Machine Backups/Backups.backupdb/Mark Granoff&#x2019;s iMac/2011-02-28-004805'\n</pre>\n<p>You&#x2019;ll be asked for the administrator&#x2019;s password, and then tmutil will chug away. If the operation succeeds, the tool simply exits without any output. If there is a problem, you&#x2019;ll see an error message.</p>\n<p>Notice that I&#x2019;ve wrapped the path to the backup in single quotes. This is because there are spaces in the path.</p>\n<p>The tmutil delete command only removes the backup from the sparse bundle. It doesn&#x2019;t actually free the disk space. To do that, you have to go a little deeper.</p>\n<p>On your Mac is a mount point called /Volumes. You can examine the contents of this mount point with ls:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n% cd /Volumes\n% ls -1\nMacintosh HD\nNO NAME\nRecovery HD\nTime Machine Backups\nTimeMachine\n</pre>\n<p>These are the names of all the mounted disks (or things that look like disks) on your Mac. Notice two likely candidates for your actual TimeMachine volume. Yours may be named slightly differently, but the one you want is the one that actually shows files of type .sparsebundle . In my case, it is the volume TimeMachine:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n% sudo ls -l TimeMachine/\n...\ndrwxr-x---@ 1 root wheel 264 Aug 30 08:21 Mark Granoff&#x2019;s iMac.sparsebundle\n...\n</pre>\n<p>Notice that you don&#x2019;t actually own the file. (Had I not used the sudo command with ls I could not have listed the contents of /Volumes/TimeMachine)</p>\n<p>That .sparsebundle file for your Mac is where all your backup sets live. TimeMachine manages the contents of this file, but doesn&#x2019;t do anything automatically to reduce its size. Luckily there is another tool for that, but you&#x2019;ll have to be root to run it:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n% sudo su - root\n% hdiutil compact /Volumes/TimeMachine/YourBackup.sparsebundle\nStarting to compact&#x2026;\nReclaiming free space&#x2026;\n...................................................\nFinishing compaction&#x2026;\nReclaimed 3.1 GB out of 304.1 GB possible.\n</pre>\n<p>That&#x2019;s it! In this example I reclaimed 3.1GB of actual disk space on my TimeMachine volume. While working at removing old backups on my wife&#x2019;s machine, a half dozen or so old backups accounted for over 63GB of reclaimed disk space! So, the results can be dramatic.</p>\n<p>So lately I&#x2019;ve been deleting a few backup sets and then compacting the .sparsebundle, and then repeating. I have a long way to go, between my Mac and my wife&#x2019;s, before there is enough space available to backup the new Mac for the first time. It&#x2019;s a time consuming process, but well worth the time in order to tame TimeMachine&#x2019;s appetite for disk space.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\n\t\t\t\t\n\t\t\t\t</div>"
    }, {
        "title": "How to create a network backup with Apple's TimeMachine",
        "url": "https://foliovision.com/2010/05/network-backup-apple-timemachine",
        "excerpt": "If you have tried to set up network backup on OS X and you ran into the message \"the backup disk image could not be created\", probably this article will help you. OS X's TimeMachine software had&hellip;",
        "date_saved": "Thu Jul 28 20:07:24 EDT 2016",
        "html_file": "how_to_create_a_network_backup_with_apples_timemachine.html",
        "png_file": "how_to_create_a_network_backup_with_apples_timemachine.png",
        "md_file": "how_to_create_a_network_backup_with_apples_timemachine.md",
        "content": "<div>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div class=\"entry-content\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n<p>If you have tried to set up network backup on OS X and you ran into the message \"the backup disk image could not be created\", probably this article will help you.</p>\n<p>OS X's TimeMachine software had native support for network backup until the OS X&#xA0; Leopard 10.5.2 was released. Apple had its own <a href=\"http://www.kuro5hin.org/story/2008/5/11/131026/867\">reasons</a> for the decision to remove network backup, but many advanced users including us at Foliovision would still like to be able to back up over the network.</p>\n<p>We have a bunch of Mac Minis in a mixed network of Linux and Windows computers. We'd like to use all our Minis for work and not for backup and use one of our older Linux towers to store the backup.</p>\n<p>How do you do it?</p>\n\n<p>Fortunately Apple left us an option to turn-on network support for TimeMachine by running the following command in terminal:</p>\n<p><code>defaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1</code></p>\n<p>We can finally see network hardrives in selection for backup places. The problem might seems to be solved. No dice: it is only the beginning.</p>\n<p>If you select a network drive for backup, you will see a very familiar message:</p>\n<blockquote>\n<p>the backup disk image could not be created</p>\n</blockquote>\n<p>Google automatically completes the phrase as soon as you type \"the backup d\".</p>\n<p>The real problem is in the file system which must be used for TimeMachine backup. TimeMachine only supports Mac OS Extended (Journaled) file system.</p>\n<p>The solution is to create a place on the network, which will trick TimeMachine, into thinking that it holds data in Mac OS Extended (Journaled) file system. This trick is accomplished via copying a sparsebundle image (with special name) to a network share. You have to do following steps for to make TimeMachine successfully run a backup.</p>\n<h3>OVERVIEW</h3>\n<ol>\n<li><strong>Enable network hardrive support in TimeMachine<br>\n </strong></li>\n<li><strong>Mount network shared place for backup data<br>\n </strong></li>\n<li><strong>Create a sparsebundle virtual image</strong></li>\n<li><strong>Copy the sparsebundle virtual image to the network shared place<br>\n </strong></li>\n<li><strong>Set up TimeMachine for network backup</strong></li>\n<li><strong>Optimisation and other information</strong></li>\n</ol>\n<h3>1. Enable network hardrive support for the TimeMachine software</h3>\n<p>Network hardrive support for TimeMachine is turn off by default. For changing this fact we have to type following command to the terminal:<br>\n<code>defaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1 </code></p>\n<p>After that, you should see mounted network harddrive in TimeMachine's locations for backup. If it is not this case, probably a restart is needed.</p>\n<h3>2. Mount Network shared place for backup data</h3>\n<p>If you have a shared location for backup data on Linux server, you can map the directory as a drive to Mac in Finder application. You have to do following steps:</p>\n<ol>\n<li>Click GO and then &#x201C;<em>connect to server</em>&#x201D; in finder menu.<br>\n<h5><a class=\"colorbox\" title=\"Finder Menu\" rel=\"lightbox[slideshow]\" href=\"https://foliovision.com/images/2010/04/Finder-Menu.png\"><img width=\"400\" alt=\"Finder Menu\" src=\"https://cdn.foliovision.com/images/2010/04/400/Finder-Menu.png\"></a></h5>\n<h5>&#xA0;</h5>\n</li>\n<li>Write following path if your sharing is based on protocol samba (SMB):<br>\n <code>SMB://&lt;IP_ADDRESS_or_COMPUTER_NAME&gt;/&lt;NAME_of_SHARED_PLACE&gt;</code> (e.g. <code>SMB://192.168.1.25/Backup</code>)\n<h5 class=\"noborder\"><a class=\"colorbox\" title=\"Connect Server\" rel=\"lightbox[slideshow]\" href=\"https://foliovision.com/images/2010/04/Connect-Server.png\"><img width=\"400\" alt=\"Connect Server\" src=\"https://cdn.foliovision.com/images/2010/04/400/Connect-Server.png\"></a></h5>\n</li>\n</ol>\n\n<h3>3. Create a sparsebundle virtual image</h3>\n<p>This step is very important, because the TimeMachine doesn&#x2019;t allow to backup data to a network drive, which has any file system except&#xA0;&#x201C;Mac OS Extended (Journaled)&#x201D;. So we have to create a disk image in \"Mac OS Extended (Journaled)&#x201D; format.<br>\nWe have two ways to do it:</p>\n<ol>\n<li>Open disk utility (Disk Utility) and create new virtual disk with following atributes:\n<ul>\n<li><code><strong>Save As:</strong> &lt;computer hostname&gt;_&lt;hex mac address of en0 interface&gt;.sparsebundle</code> (e.g. <code>MacAlec_00ef9a048c4f.sparsebundle</code>, if you forget to add <code>.sparsebundle</code>, it will be added automatically)</li>\n<li><code> <strong>Volume Name:</strong> Backup of &lt;computer hostname&gt;</code> (e.g. <code>Backup of MacAlec</code>)</li>\n<li><code> <strong>Volume Size:</strong></code> the max amount of space you're going to set aside for backups. (The volume size is depends on amounts of backup data. I have chosen <code>150 GB</code>)</li>\n<li><code><strong>Volume Format:</strong> Mac OS Extended (Journaled)</code></li>\n<li><code><strong>Encryption:</strong> None</code></li>\n<li><code> <strong>Partitions:</strong> No partition map </code></li>\n<li><code> <strong>Image Format:</strong> Sparse bundle disk image</code>\n<p><a class=\"colorbox\" title=\"Disk Utility\" rel=\"lightbox[slideshow]\" href=\"https://foliovision.com/images/2010/04/Disk-Utility.png\"><img width=\"399\" alt=\"Disk Utility\" src=\"https://cdn.foliovision.com/images/2010/04/400/Disk-Utility.png\"></a></p>\n</li>\n<li>Note: Disk utility automatically mounts the image to system volumes. We won&#x2019;t need the image mounted, so we can safely unmount it.</li>\n</ul>\n</li>\n<li>The previous step can be done by one command in terminal:<br>\n <code>hdiutil create -size 150g -fs HFS+J -volname \"Backup of MacAlec\" MacAlec_00ef9a048c4f.sparsebundle</code></li>\n</ol>\n<h3>3. Copy the sparsebundle virtual image to the network shared place</h3>\n<p>You can copy the sparsebundle image to the network shared place using one of the following steps:</p>\n<ul>\n<li>Copy the file to shared place by drag and drop operation in Finder application.</li>\n<li>If you prefer to work with the terminal, you can type this instead:<br>\n <code>cp -r &lt;sparsebundle_image_disc_location&gt;/&lt;computer hostname&gt;_&lt;hex mac address of en0 interface&gt;.sparsebundle /Volumes/&lt;NAME_of_SHARED_PLACE&gt;/</code>(e.g. <code>cp -r /Users/Alec/Documents/MacAlec_00ef9a048c4f.sparsebundle /Volumes/Backup/</code>)</li>\n</ul>\n<p>Now we can safely delete the sparsebundle image copy on local computer once we are sure that it has been copied to the shared location.</p>\n<h3><strong>Set up the TimeMachine for network backup</strong></h3>\n<ol>\n<li>Open TimeMachine preferences (in SystemPreferences).</li>\n<li>Click on <strong>Change Disk</strong> button for select the network drive for backup. (We have to select the \"Backup\"in our case.)</li>\n<li>\n<p><a class=\"colorbox\" title=\"TimeMachine\" rel=\"lightbox[slideshow]\" href=\"https://foliovision.com/images/2010/04/TimeMachine.png\"><img width=\"399\" alt=\"TimeMachine\" src=\"https://cdn.foliovision.com/images/2010/04/400/TimeMachine.png\"></a></p>\n</li>\n<li>The first backup will start in two minutes. TimeMachine supports incremental backup, thus the first backup can take very long time (it is depends on network bandwidth and amount of backup data).</li>\n</ol>\n<p>If you want to eject the mapped shared volume (<code>/Volumes/Backup</code> in our case), you have to do it within the two minutes countdown before backup starts or after backup is finished. TimeMachine has its own mechanism for mapping network hardrives, so a backup process isn't interrupted by your hard drive mounting or unmounting. TimeMachine will automatically mount the virtual sparsebundle image, when the backup starts. You will see <code>Backup of &lt;computer_name&gt;</code> as connected device on your desktop, so you won't need to manually mount the network hard drive later.</p>\n<h3>4. Optimisation and other information</h3>\n<p>&#xA0;in order to avoid long delays in backup process caused by Spotlight indexing,&#xA0;You should set the Spotlight application to not index the mapped network drive. Here's how to remove spotlight indexing for a hard drive:</p>\n<ul>\n<li>Open up the Spotlight software preferences in system preferences window</li>\n<li>Move to privacy options and add the network drive by plus symbol\n<p class=\"noborder\"><a class=\"colorbox\" title=\"Spotlight\" rel=\"lightbox[slideshow]\" href=\"https://foliovision.com/images/2010/04/Spotlight.png\"><img width=\"400\" alt=\"Spotlight\" src=\"https://cdn.foliovision.com/images/2010/04/400/Spotlight.png\"></a></p>\n</li>\n</ul>\n<p>If you'd like to back up a &#xA0;little less often, you can modify the file <code>com.apple.backupd-auto.plist</code> which is located in <code>/System/Library/LaunhDaemons/</code> to change backup time interval. Open up the file in text editor and find the section:</p>\n<p><code>&lt;key&gt;StartInterval&lt;/key&gt;<br>\n&lt;integer&gt;3600&lt;/integer&gt;</code></p>\n<p>You should change the number 3600 to the number of seconds of your backup interval.</p>\n<h3>Result</h3>\n<p>I deliberately deleted some files to test backup reliability. This worked just fine. I was able to restore data from backup using TimeMachine's restore feature. TimeMachine restore is easy to use and lets you choose data from any date and hour. &#xA0;If you have followed the exact steps above, you should have a working network backup now on a non-Apple computer.</p>\n<p>I would like to thank <a href=\"http://www.foobar.org/blog/time-machine-on-samba-shares\">Nick Hilliard</a> and <a href=\"http://www.readynas.com/?p=253\">MacCorner</a> for useful information.</p>\n\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t<div class=\"entry-utility\">\n\t\t\t\t\t\tThis entry was posted in <a href=\"https://foliovision.com/weblog/it\">IT</a>. Bookmark the <a href=\"https://foliovision.com/2010/05/network-backup-apple-timemachine\" title=\"Permalink to How to create a network backup with Apple&#x2019;s TimeMachine\" rel=\"bookmark\">permalink</a>.\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>"
    }, {
        "title": "How to create an OS X Mavericks install drive [Updated]",
        "url": "http://www.tips-and-tricks-in-mavericks.com/how-to-create-an-os-x-mavericks-install-drive/",
        "excerpt": "Apple just launched OS X Mavericks as a free update for most Mac users who are running at least OS X 10.6.8 Snow Leopard. Ever since OS X 10.8 Mountain Lion, those major new OS X versions were only&hellip;",
        "date_saved": "Thu Jul 28 20:07:25 EDT 2016",
        "html_file": "how_to_create_an_os_x_mavericks_install_drive_updated.html",
        "png_file": "how_to_create_an_os_x_mavericks_install_drive_updated.png",
        "md_file": "how_to_create_an_os_x_mavericks_install_drive_updated.md",
        "content": "<div><article class=\"entry-content\">\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/How-to-create-an-OS-X-Mavericks-install-drive.jpg\"><img class=\"aligncenter size-full wp-image-1648\" alt=\"How to create an OS X Mavericks install drive\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/How-to-create-an-OS-X-Mavericks-install-drive.jpg\" width=\"4513\"></a></figure>\n<p>Apple <a title=\"OS X 10.9 Mavericks: Everything you need to know\" href=\"http://www.tips-and-tricks-in-mavericks.com/os-x-10-9-mavericks-everything-you-need-to-know/\">just launched OS X Mavericks as a free update</a> for most Mac users who are running at least OS X 10.6.8 Snow Leopard. Ever since OS X 10.8 Mountain Lion, those major new OS X versions were only made available as a download via the Mac App Store. You simply can&#x2019;t buy them on physical media anymore.</p>\n<p>In some cases, you may want to create a bootable USB OS X install drive. This has been a rather easy task in the past. Well, it has gotten a bit harder this time around.<br>\n<br>\nHere&#x2019;s what you will need:</p>\n<ul>\n<li>a Mac with access to the Internet and to the Mac App Store</li>\n<li>a USB flash drive with 8GB or more (note that everything on that drive will be erased during this process!)</li>\n</ul>\n<p><strong>&#xA0;Step 1: Download the OS X Mavericks installation app</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-App-Store-download.png\"><img class=\"aligncenter size-full wp-image-1636\" alt=\"OS X Mavericks App Store download\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-App-Store-download.png\" width=\"1198\"></a></figure>\n<p>Open the Mac App Store on your Mac and <a title=\"OS X Mavericks in the App Store\" href=\"https://itunes.apple.com/de/app/os-x-mavericks/id675248567?l=en&amp;mt=12\">find the OS X Mavericks page to download the installation app</a>. Downloading the app may take a while since it&#x2019;s roughly around 5.2GB in size.</p>\n<p>You may proceed with step 2 while the app is still downloading:</p>\n<p><strong>Step 2: Make hidden files viewable on your Mac</strong></p>\n<p>Open Finder, go to Applications, open the Utilities folder and double click on the Terminal app.</p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Terminal-window.png\"><img class=\"aligncenter size-full wp-image-1637\" alt=\"Terminal window\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Terminal-window.png\" width=\"894\"></a></figure>\n<p>Copy and paste the following into the Terminal window, then hit enter to make all hidden files viewable:</p>\n<p><em>defaults write com.apple.finder AppleShowAllFiles TRUE &amp;&amp; killall Finder</em></p>\n<p><em></em>Further down this post, I will show you how to hide those files again.</p>\n<p><strong>Step 3: Open the OS X Mavericks installation app</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Show-Pakage-Contents.png\"><img class=\"aligncenter size-full wp-image-1638\" alt=\"OS X Mavericks Show Pakage Contents\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Show-Pakage-Contents.png\" width=\"915\"></a></figure>\n<p>Once the download is finished, open Finder, go to Applications, right click on the &#x201C;Install OS X Mavericks&#x201D; app and then click on &#x201C;Show Package Contents&#x201D;.</p>\n<p><strong>Step 4: Find the InstallESD.dmg file</strong></p>\n<p>In this step, you need to activate the InstallESD.dmg image file by double clicking on it.</p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-InstallESD-DMG.png\"><img class=\"aligncenter size-full wp-image-1639\" alt=\"OS X Mavericks InstallESD DMG\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-InstallESD-DMG.png\" width=\"921\"></a></figure>\n<p>The File can be found under Contents -&gt; SharedSupport in the just opened package contents of the OS X Mavericks installation app.</p>\n<p><strong>Step 5: Find the BaseSystem.dmg file</strong></p>\n<p>By double clicking on the aforementioned InstallESD.dmg file, a new window should open.</p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Install-ESD.png\"><img class=\"aligncenter size-full wp-image-1640\" alt=\"OS X Mavericks Install ESD\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Install-ESD.png\" width=\"884\"></a></figure>\n<p>In that window, find the BaseSystem.dmg file. Note that the file will look grayed out since it&#x2019;s a hidden file.</p>\n<p><strong>Step 6: Open Disk Utility</strong></p>\n<p><strong></strong>In the Utilities folder that you have opened in step 2, find the Disk Utility app and open it by double clicking on it.</p>\n<p>Insert your USB thumb drive into your Mac.</p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Disk-Utility-1.png\"><img class=\"aligncenter size-full wp-image-1642\" alt=\"OS X Mavericks Disk Utility 1\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Disk-Utility-1.png\" width=\"1397\"></a></figure>\n<p>Now, drag the BaseSystem.dmg file from step 5 into the left list of drives in Disk Utility.</p>\n<p><strong>Step 7: Start copying onto the USB drive</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Disk-Utility-2.png\"><img class=\"aligncenter size-full wp-image-1643\" alt=\"OS X Mavericks Disk Utility 2\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/OS-X-Mavericks-Disk-Utility-2.png\" width=\"904\"></a></figure>\n<p>In Disk Utility, click on your USB drive&#x2019;s partition, then click on &#x201C;Unmount&#x201D; in tool bar (the blue and white button right next to the famous black and yellow Burn button).</p>\n<p>Now, click on BaseSystem.dmg in the drive list and drag you USB drive (8.03GB SanDisk Cruzer M, in my case) into the Destination field in the Restore panel.</p>\n<p>If you&#x2019;re ready to start copying, click on Restore in the lower right hand side.</p>\n<p><strong>Step 8: Delete Packages alias</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Delete-Packages-Alias.png\"><img class=\"aligncenter size-full wp-image-1644\" alt=\"Delete Packages Alias\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Delete-Packages-Alias.png\" width=\"807\"></a></figure>\n<p>Go to Finder, look for the USB drive you&#x2019;ve just created, find System -&gt; Installation and delete the Packages file (alias).</p>\n<p><strong>Step 9: Copy the actual Packages folder</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Copy-actual-Packages-folder-1.png\"><img class=\"aligncenter size-full wp-image-1646\" alt=\"Copy actual Packages folder 1\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Copy-actual-Packages-folder-1.png\" width=\"1293\"></a></figure>\n<p>Open another Finder window by selecting a Finder window and then clicking cmd + N. Find the OS X Install ESD image that you&#x2019;ve opened previously. From there, copy the Packages folder to the Installation folder on your USB drive (right where you just deleted the alias file in step 8).</p>\n<p>Note that this step will take a while.</p>\n<p><strong>Step 10: Hide hidden files again</strong></p>\n<figure><a href=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Hide-hidden-Files-in-OS-X.png\"><img class=\"aligncenter size-full wp-image-1647\" alt=\"Hide hidden Files in OS X\" src=\"http://cdn.tips-and-tricks-in-mavericks.com/images/2013/10/Hide-hidden-Files-in-OS-X.png\" width=\"684\"></a></figure>\n<p>Open Terminal (see step 2) and copy and paste the following, then hit enter:</p>\n<p><em>defaults write com.apple.finder AppleShowAllFiles FALSE &amp;&amp; killall Finder</em></p>\n<p><strong>Step 11: Install OS X Mavericks from your USB drive</strong></p>\n<p>That&#x2019;s it: your USB drive is now ready to be used to install OS X Mavericks from it.</p>\n<p>Make sure you insert your USB drive, restart your Mac and press the alt key once your hear the sound when your Mac is booting up.</p>\n<p><strong>+++ Update +++</strong></p>\n<p><a title=\"Comment by Alex Pupin\" href=\"http://www.tips-and-tricks-in-mavericks.com/how-to-create-an-os-x-mavericks-install-drive/#comment-1472\">In a comment below</a>, our reader Alex has pointed out <strong>another way to create bootable OS X USB media in way that requires less steps</strong>. Note that it involves some interaction with the root shell, so it&#x2019;s <strong>not recommended for the less tech-savvy folks</strong> out there.</p>\n</article> \n</div>"
    }, {
        "title": "How Can I Repair My Hard Drive If My Mac Won\u2019t Start?",
        "url": "http://macs.about.com/od/faq1/f/emergencystart.htm",
        "excerpt": "Question: How Can I Repair My Hard Drive If My Mac Won&#x2019;t Start?My Mac fails to start up and just ends up displaying the blue screen. Or it may log in but then fail to show the desktop.&hellip;",
        "date_saved": "Thu Jul 28 20:07:27 EDT 2016",
        "html_file": "how_can_i_repair_my_hard_drive_if_my_mac_wonu2019t_start.html",
        "png_file": "how_can_i_repair_my_hard_drive_if_my_mac_wonu2019t_start.png",
        "md_file": "how_can_i_repair_my_hard_drive_if_my_mac_wonu2019t_start.md",
        "content": "<div><p><b>Question: </b>How Can I Repair My Hard Drive If My Mac Won&#x2019;t Start?</p><div><p>My Mac fails to start up and just ends up displaying the blue screen. Or it may log in but then fail to show the desktop. I&#x2019;ve heard I should run Repair Disk, but I can&#x2019;t do that when my Mac won&#x2019;t start. What can I do?</p></div><div><b>Answer: </b><p>When a Mac fails to start up normally, one of the common troubleshooting practices is to verify and repair the startup drive. A startup drive that is experiencing problems is likely to prevent your Mac from starting, so you may find yourself in a catch 22. You need to run Disk Utility&#x2019;s First Aid tools, but you can&#x2019;t get to Disk Utility because your Mac won&#x2019;t start.</p>\n\n<p>There are three methods of getting around this problem.</p>\n<ul><li><b>Booting from a different device.</b> This can be another hard drive that has a bootable system on it, or your OS X Install DVD, which also contains the Disk Utility tools.</li>\n\n<li><b>Safe Mode.</b> This is a special booting method that forces your Mac to perform an automatic disk check and repair as it tries to start up.</li>\n\n<li><b>Single User Mode (fsck).</b> This is another special startup method that allows you to run command line utilities, such as fsck, which can verify and repair hard drives.</li>\n</ul><h3> Boot From Alternate Device</h3>\n<p>The easiest solution by far is to boot from a different device. The three most popular options are another bootable hard drive, an emergency startup device, such as a bootable USB flash device, or a current OS X Install DVD.</p>\n\n<p>To boot from another hard drive or a USB flash device, hold down the option key and start up your Mac. The OS X startup manager will appear, allowing you to select the device to boot from.</p>\n\n<p>To boot from your OS X Install DVD, insert the DVD into your Mac, and then restart your Mac while holding down the letter &#x2018;c&#x2019; key.</p>\n\n<p>Once your Mac finishes booting, use <a href=\"http://macs.about.com/od/applications/ss/firstaid.htm\"> Disk Utility&#x2019;s First Aid </a> feature to verify and repair your hard drive. Or if you have more serious drive issues, check out our guide to <a href=\"http://macs.about.com/od/MacTroubleshootingTips/ss/Reviving-A-Hard-Drive-For-Use-With-Your-Mac.htm\">Reviving a Hard Drive for Use With Your Mac</a>.</p>\n\n<h3> Boot Using Safe Mode </h3>\n<p>To start up in Safe Mode, hold down the shift key and then start your Mac. Safe Mode takes a while, so don&#x2019;t be alarmed when you don&#x2019;t see the desktop right away. While you&#x2019;re waiting, the operating system is verifying the directory structure of your startup volume, and repairing it, if necessary. It will also delete some of the startup caches that may also be preventing your Mac from starting successfully.</p>\n\n<p>Once the desktop appears, you can access and run <a href=\"http://macs.about.com/od/applications/ss/firstaid.htm\">Disk Utility&#x2019;s First Aid </a> tool just as you normally would. When First Aid is finished, restart your Mac normally.</p>\n\n<p>Please note that not all applications and OS X features will work when you boot into Safe Mode. You should use this startup mode only for troubleshooting and not for running day-to-day applications.</p>\n\n<h3> Boot Into Single User Mode </h3>\n<p>Start up your Mac and immediately hold down the command key plus the letter &#x2018;s&#x2019; key (command + s). Your Mac will start up in a special environment that looks like an old-fashioned command line interface (because that&#x2019;s exactly what it is).</p>\n\n<p>At the command line prompt, type the following:</p>\n<blockquote class=\"no\">\n\n/sbin/fsck &#x2013;fy\n\n</blockquote>\n\n<p>Press return or enter after you type the above line. Fsck will start and display status messages about your startup disk. When it finally finishes (this can take a while), you will see one of two messages. The first indicates that no problems were found.</p>\n\n<blockquote class=\"no\">\n\n** The volume xxxx appears to be OK.\n\n</blockquote>\n\n<p>The second message indicates that problems were encountered and fsck attempted to correct the errors on your hard drive.</p>\n\n<blockquote class=\"no\">\n\n***** FILE SYSTEM WAS MODIFIED *****\n\n</blockquote>\n\n<p>If you see the second message, you should repeat the fsck command again. Continue to repeat the command until you see the &#x201C;volume xxx appears to be OK&#x201D; message. </p>\n\n<p>If you don&#x2019;t see the volume OK message after five or more attempts, your hard drive has serious problems that it may not be able to recover from.</p>\n</div>\n</div>"
    }, {
        "title": "Hacker Codex",
        "url": "http://hackercodex.com/guide/mac-osx-mavericks-10.9-configuration/",
        "excerpt": "Last updated: June 27, 2015 Want to get started with some command-line tools on Mac OS X? This tutorial covers installing Xcode/CLT, Homebrew, and other useful initial&#xA0;configuration. If you&hellip;",
        "date_saved": "Thu Jul 28 20:07:28 EDT 2016",
        "html_file": "hacker_codex.html",
        "png_file": "hacker_codex.png",
        "md_file": "hacker_codex.md",
        "content": "<div><div class=\"post\">\n \n <span class=\"post-date\" title=\"2015-06-27T00:00:00-07:00\">Last updated: June 27, 2015</span>\n\n <p>Want to get started with some command-line tools on Mac <span class=\"caps\">OS</span> X? This tutorial covers installing Xcode/<span class=\"caps\">CLT</span>, Homebrew, and other useful initial&#xA0;configuration.</p>\n\n<p>If you prefer to be in control of when updates are downloaded and installed, open System Preferences, go to the App Store preference pane, and uncheck all the&#xA0;boxes.</p>\n<h2 id=\"unhide-the-library-folder\">Unhide the Library&#xA0;folder</h2>\n<p>Just like the last few releases, Mac <span class=\"caps\">OS</span> X now hides the <code>~/Library</code> folder by default, but on Yosemite and Mavericks it is now easier to make it visible&#xA0;again.</p>\n<p>With the Finder as the foremost application, press shift-command-H and then command-J, which will bring up a window that configures Finder view options. Check the &#x201C;Show Library Folder&#x201D; and close the window. Thanks to the Apple engineers that made this process more&#xA0;user-friendly.</p>\n<h2 id=\"bash-profile-setup\">Bash profile&#xA0;setup</h2>\n<p>Since Mac <span class=\"caps\">OS</span> X is a full 64-bit system, we&#x2019;ll save some headaches by letting our compiler know that all compilation should assume 64 bits. Also, since Mac <span class=\"caps\">OS</span> X&#x2019;s default <code>PATH</code> is <code>/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</code>, we&#x2019;ll want to change it so that certain Homebrew installations (e.g., <a href=\"http://hackercodex.com/guide/python-development-environment-on-mac-osx/\">Python</a>) will take precedence over stock <span class=\"caps\">OS</span> X binaries. To make these changes, open <code>~/.bash_profile</code> &#x2026;</p>\n\n\n\n<p>&#x2026; and&#xA0;add:</p>\n<div class=\"highlight\"><pre><span class=\"c\"># Set architecture flags</span>\n<span class=\"nb\">export </span><span class=\"nv\">ARCHFLAGS</span><span class=\"o\">=</span><span class=\"s2\">\"-arch x86_64\"</span>\n<span class=\"c\"># Ensure user-installed binaries take precedence</span>\n<span class=\"nb\">export </span><span class=\"nv\">PATH</span><span class=\"o\">=</span>/usr/local/bin:<span class=\"nv\">$PATH</span>\n<span class=\"c\"># Load .bashrc if it exists</span>\n<span class=\"nb\">test</span> -f ~/.bashrc <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">source</span> ~/.bashrc\n</pre></div>\n\n\n<p>Since the above directives will take effect on the next login, let&#x2019;s go ahead and source the file to ensure it takes effect for the current&#xA0;session:</p>\n\n\n\n<p>With those first steps out of the way, now it&#x2019;s time to get the necessary compilation tools in&#xA0;place.</p>\n\n\n<h2 id=\"compiler\">Compiler</h2>\n<p>Installing development-related software in the past has required the compiler tool-chain that comes with Xcode. Thankfully, if you don&#x2019;t need or want Xcode, those compiler tools are now available separately, saving download time and about four gigabytes of disk&#xA0;space.</p>\n<p>Alternatively, there are some reasons you might want the full version of&#xA0;Xcode:</p>\n<ul>\n<li>To compile the few tools that won&#x2019;t compile without the full version of&#xA0;Xcode</li>\n<li>To download and manually compile open-source Mac&#xA0;applications</li>\n<li>To develop your own Mac/iOS&#xA0;applications</li>\n</ul>\n<p>Once you&#x2019;ve decided whether you need Xcode or not, run the following command in the&#xA0;Terminal:</p>\n\n\n\n<p>You will then be asked whether you want to install Xcode or the command line developer tools, with the latter being the default. Once you&#x2019;ve installed one or the other, you can proceed to installing&#xA0;Homebrew.</p>\n<h2 id=\"homebrew\">Homebrew</h2>\n<p>Sometimes you may need cross-platform software &#x2014; usually without a <span class=\"caps\">GUI</span> and accessible only via the command line &#x2014; that isn&#x2019;t readily available via the Mac App Store. <a href=\"https://github.com/mxcl/homebrew/\">Homebrew</a> provides an easy way to install these packages, so let&#x2019;s fire up Terminal.app and install&#xA0;it:</p>\n<div class=\"highlight\"><pre>ruby -e <span class=\"s2\">\"</span><span class=\"k\">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span class=\"k\">)</span><span class=\"s2\">\"</span>\n</pre></div>\n\n\n<p>Follow the prompts to download and install Homebrew, entering your administrative password when prompted. Then run the following command to ensure that there aren&#x2019;t any potential problems with your environment. Some warnings (if any) are informational and not necessary actionable; it&#x2019;s just a good idea to at least read through and see if anything looks out of the&#xA0;ordinary.</p>\n\n\n\n<p>The following command will update to the latest version of Homebrew and its&#xA0;formulae:</p>\n\n\n\n<p>Let&#x2019;s use Homebrew to install some packages that I often find&#xA0;useful:</p>\n<div class=\"highlight\"><pre>brew install bash-completion ssh-copy-id wget\n</pre></div>\n\n\n<p>You can run <code>brew info ssh-copy-id</code>, for example, if you want to know what those packages&#xA0;do.</p>\n<p>Some Homebrew formulae recommend post-installation steps. For example, to activate bash completion, add the following to your <code>~/.bash_profile</code>:</p>\n<div class=\"highlight\"><pre><span class=\"k\">if</span> <span class=\"o\">[</span> -f <span class=\"k\">$(</span>brew --prefix<span class=\"k\">)</span>/etc/bash_completion <span class=\"o\">]</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n <span class=\"nb\">source</span> <span class=\"k\">$(</span>brew --prefix<span class=\"k\">)</span>/etc/bash_completion\n<span class=\"k\">fi</span>\n</pre></div>\n\n\n<p>There are many other useful Homebrew commands, all of which can be seen by running <code>man brew</code> in the&#xA0;terminal.</p>\n<h2 id=\"just-the-basics\">Just the&#xA0;basics</h2>\n<p>These are obviously just the basics. If you have any interest in Python, have a look at my guide to setting up a <a href=\"http://hackercodex.com/guide/python-development-environment-on-mac-osx/\">Python Development Environment on Mac <span class=\"caps\">OS</span> X</a>.</p>\n<p>What kinds of customizations have you made to your Mavericks setup? Leave a comment&#xA0;below!</p>\n\n </div>\n</div>"
    }, {
        "title": "Cooking with Docker and CoreOS on OS X",
        "url": "http://www.siliconfidential.com/articles/docker-coreos-osx/",
        "excerpt": "This posts assumes some familiarity with Docker&#x2014;it&#x2019;s a practical guide to a workflow on OS X. The Problem Docker is hot. It represents a significant addition to the second derivative of&hellip;",
        "date_saved": "Thu Jul 28 20:07:30 EDT 2016",
        "html_file": "cooking_with_docker_and_coreos_on_os_x.html",
        "png_file": "cooking_with_docker_and_coreos_on_os_x.png",
        "md_file": "cooking_with_docker_and_coreos_on_os_x.md",
        "content": "<div><div class=\"article-wrap\">\n <p><em>This posts assumes some familiarity with Docker&#x2014;it&#x2019;s a practical guide to a workflow on OS X.</em></p>\n\n<h2 id=\"the-problem\">The Problem</h2>\n<p>Docker is hot. It represents a significant addition to the second derivative of the state of our art. And while there are plenty of tutorials on using Docker floating around, none of them left me with all of the functionality I needed, or a clear picture of how to do real work. I have been frustrated, tickled, and tantalized. Docker, you were a real tease&#x2014;until today.</p>\n\n<h2 id=\"the-solution\">The Solution</h2>\n\n<p>When you&#x2019;re finished, you should have a native docker client, container ports that are easily accessible via localhost, and the ability to edit files on live containers from the comfort of your own <code>$EDITOR</code>.</p>\n\n<h2 id=\"the-recipe\">The Recipe</h2>\n\n<p>Preheat the oven: install <a href=\"http://vagrantup.com/\">Vagrant</a> and <a href=\"https://www.virtualbox.org/\">VirtualBox</a>. Then download docker:</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\">curl -o docker http://get.docker.io/builds/Darwin/x86_64/docker-latest\nchmod +x docker\n<span class=\"c\"># look for the docker daemon on tcp instead of unix</span>\n<span class=\"c\"># (good idea to put this in .bashrc or similar)</span>\n<span class=\"nb\">export </span><span class=\"nv\">DOCKER_HOST</span><span class=\"o\">=</span>tcp://\nsudo cp docker /usr/local/bin/\n</code></pre></div>\n\n<h3 id=\"the-docker-daemon-in-coreos-via-vagrant\">The Docker Daemon: in CoreOS via Vagrant</h3>\n\n<div class=\"highlight\"><pre><code class=\"bash\">git clone https://github.com/coreos/coreos-vagrant/\n<span class=\"nb\">cd </span>coreos-vagrant\n<span class=\"nv\">$EDITOR</span> Vagrantfile\n</code></pre></div>\n\n<p>We&#x2019;ll edit the <code>Vagrantfile</code> to setup an NFS share (for editing container files) and port forwarding (for visiting our beautiful applications via localhost):</p>\n\n<div class=\"highlight\"><pre><code class=\"ruby\"> <span class=\"c1\"># make sure these lines are present and not commented</span>\n <span class=\"c1\"># and replace /Users/cam/src with your own</span>\n <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">network</span> <span class=\"s2\">\"private_network\"</span><span class=\"p\">,</span> <span class=\"ss\">ip</span><span class=\"p\">:</span> <span class=\"s2\">\"172.12.8.150\"</span>\n <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">synced_folder</span> <span class=\"s2\">\"/Users/cam/src\"</span><span class=\"p\">,</span> <span class=\"s2\">\"/home/core/share\"</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"s2\">\"core\"</span><span class=\"p\">,</span> <span class=\"ss\">:nfs</span> <span class=\"o\">=&gt;</span> <span class=\"kp\">true</span><span class=\"p\">,</span> <span class=\"ss\">:mount_options</span> <span class=\"o\">=&gt;</span> <span class=\"o\">[</span><span class=\"s1\">'nolock,vers=3,udp'</span><span class=\"o\">]</span>\n\n <span class=\"c1\"># you'll need to add these lines</span>\n <span class=\"p\">(</span><span class=\"mi\">49000</span><span class=\"o\">.</span><span class=\"n\">.</span><span class=\"mi\">49900</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">port</span><span class=\"o\">|</span>\n <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">network</span> <span class=\"ss\">:forwarded_port</span><span class=\"p\">,</span> <span class=\"ss\">:host</span> <span class=\"o\">=&gt;</span> <span class=\"n\">port</span><span class=\"p\">,</span> <span class=\"ss\">:guest</span> <span class=\"o\">=&gt;</span> <span class=\"n\">port</span>\n <span class=\"k\">end</span>\n</code></pre></div>\n\n<h3 id=\"install-the-latest-docker-in-the-vm\">Install the latest docker in the VM</h3>\n<p>At time of writing, this is necessary because the docker client is native to OS X only as of 0.8, and CoreOS is still running 0.7.5, which is not on speaking terms with its younger sibling.</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\">vagrant up\nvagrant ssh\n<span class=\"c\"># you should land in /home/core, and</span>\n<span class=\"c\"># see /home/core/share pointing to your host share</span>\n\n<span class=\"c\"># install docker</span>\nwget --no-check-certificate https://get.docker.io/builds/Linux/x86_64/docker-latest -O docker\nchmod +x docker\n</code></pre></div>\n\n<p>Add a service for the downloaded docker:</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\">vi /media/state/units/docker-local.service\n<span class=\"c\"># copy the block below into the file above</span>\n<span class=\"o\">[</span>Unit<span class=\"o\">]</span>\n<span class=\"nv\">Description</span><span class=\"o\">=</span>docker <span class=\"nb\">local</span>\n\n<span class=\"o\">[</span>Service<span class=\"o\">]</span>\n<span class=\"nv\">PermissionsStartOnly</span><span class=\"o\">=</span><span class=\"nb\">true</span>\n<span class=\"nv\">ExecStartPre</span><span class=\"o\">=</span>/usr/bin/systemctl <span class=\"nb\">kill </span>docker.service\n<span class=\"nv\">ExecStart</span><span class=\"o\">=</span>/home/core/docker -H 0.0.0.0:4243 -H unix:///var/run/docker.sock -d\n\n<span class=\"o\">[</span>Install<span class=\"o\">]</span>\n<span class=\"nv\">WantedBy</span><span class=\"o\">=</span>local.target\n</code></pre></div>\n\n<p>Kill the 0.7.5 docker daemon and start 0.8:</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\">sudo systemctl restart <span class=\"nb\">local</span>-enable.service\n</code></pre></div>\n\n<p>If you make subsequent modifications to the new service file, you&#x2019;ll need to restart it with a different incantation:</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\">sudo systemctl restart docker-local.service\n</code></pre></div>\n\n<h3 id=\"something-smells-delicious\">Something smells delicious&#x2026;</h3>\n\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"c\"># from your os x terminal</span>\n&gt; docker version\nClient version: 0.8.0\nGo version <span class=\"o\">(</span>client<span class=\"o\">)</span>: go1.2\nGit commit <span class=\"o\">(</span>client<span class=\"o\">)</span>: cc3a8c8\nServer version: 0.8.0\nGit commit <span class=\"o\">(</span>server<span class=\"o\">)</span>: cc3a8c8\nGo version <span class=\"o\">(</span>server<span class=\"o\">)</span>: go1.2\n</code></pre></div>\n\n<h3 id=\"docker-is-served\">Docker is served</h3>\n\n<p>Garnish your <code>docker run</code> commands with a spring of <code>-v</code>, and your containers will share files with your local file system via the vm.</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"c\"># on the osx host, in /Users/cam/src/hey-ma</span>\ndocker build -t camron/hey-ma .\n\n<span class=\"c\"># run the container with a volume that links it to the vm's shared</span>\n<span class=\"c\"># folder, which is synced with a folder on the host machine</span>\ndocker run -v /home/core/share/hey-ma:/hey-ma camron/hey-ma /bin/bash\n<span class=\"nb\">cd </span>hey-ma<span class=\"p\">;</span> python server.py\n<span class=\"c\"># hack hack hack in /Users/cam/src/hey-ma</span>\n<span class=\"c\"># Ctrl-C</span>\npython server.py\n<span class=\"c\"># new code!</span>\n</code></pre></div>\n\n<p>Woot!</p>\n\n<p>There is one hiccough, which is that I get an error running a container with a volume if the volume directory already exists in the container, which it is wont to do if you&#x2019;re maintaining a Dockerfile (which you should) and using the <code>ADD . /dir</code> build strategy (which is good). This is, however, the approach explicitly proscribed and used by @jpetazzo, so I bet I&#x2019;m doing something wrong, or there is a bug that will get fixed soon. (In the meantime, however, I haven&#x2019;t found it problematic to mount the volume elsewhere.)</p>\n\n\n\n\n\n\n\n\n \n <footer>\n \n <p class=\"byline\"><time datetime=\"2014-02-13T00:00:00-08:00\">February 13, 2014</time></p>\n </footer>\n\n \n \n \n <a href=\"http://disqus.com\" class=\"dsq-brlink\">blog comments powered by </a>\n\n </div>\n </div>"
    }, {
        "title": "Introduction",
        "url": "http://www.secdev.org/projects/scapy/doc/introduction.html#about-scapy",
        "excerpt": "About Scapy&#xB6; Scapy is a Python program that enables the user to send, sniff and dissect and forge network packets. This capability allows construction of tools that can probe, scan or attack&hellip;",
        "date_saved": "Thu Jul 28 20:07:31 EDT 2016",
        "html_file": "introduction.html",
        "png_file": "introduction.png",
        "md_file": "introduction.md",
        "content": "<div><div class=\"section\" id=\"about-scapy\">\n<h2>About Scapy<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#about-scapy\" title=\"Permalink to this headline\">&#xB6;</a></h2>\n<p>Scapy is a Python program that enables the user to send, sniff and dissect and forge network packets. This capability allows construction of tools that can probe, scan or attack networks.</p>\n<p>In other words, Scapy is a powerful interactive packet manipulation program.\nIt is able to forge or decode packets of a wide number of protocols,\nsend them on the wire, capture them, match requests and replies, and\nmuch more. Scapy can easily handle most classical tasks like scanning,\ntracerouting, probing, unit tests, attacks or network discovery. It can replace hping, arpspoof, arp-sk, arping, p0f and even some parts of Nmap, tcpdump, and tshark).</p>\n<a class=\"reference external image-reference\" href=\"http://www.secdev.org/projects/scapy/doc/_images/testing-taxonomy.png\"><img alt=\"_images/testing-taxonomy.png\" src=\"http://www.secdev.org/projects/scapy/doc/_images/testing-taxonomy.png\"></a>\n<p>Scapy also performs very well on a lot of other\nspecific tasks that most other tools can&#x2019;t handle, like sending invalid frames,\ninjecting your own 802.11 frames, combining techniques\n(VLAN hopping+ARP cache poisoning, VOIP decoding on WEP encrypted channel, ...), etc.</p>\n<p>The idea is simple. Scapy mainly does two things: sending packets and receiving answers. You define a set of packets, it sends them, receives answers, matches requests with answers and returns a list of packet couples (request, answer) and a list of unmatched packets. This has the big advantage over tools like Nmap or hping that an answer is not reduced to (open/closed/filtered), but is the whole packet.</p>\n<p>On top of this can be build more high level functions, for example one that does traceroutes and give as a result only the start TTL of the request and the source IP of the answer. One that pings a whole network and gives the list of machines answering. One that does a portscan and returns a LaTeX report.</p>\n</div>\n<div class=\"section\" id=\"what-makes-scapy-so-special\">\n<h2>What makes Scapy so special<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#what-makes-scapy-so-special\" title=\"Permalink to this headline\">&#xB6;</a></h2>\n<p>First, with most other networking tools, you won&#x2019;t build someting the author did not imagine. These tools have been built for a specific goal and can&#x2019;t deviate much from it. For example, an ARP cache poisoning program won&#x2019;t let you use double 802.1q encapsulation. Or try to find a program that can send, say, an ICMP packet with padding (I said <em>padding</em>, not <em>payload</em>, see?). In fact, each time you have a new need, you have to build a new tool.</p>\n<p>Second, they usually confuse decoding and interpreting. Machines are good at decoding and can help human beings with that. Interpretation is reserved to human beings. Some programs try to mimic this behaviour. For instance they say &#x201C;<em>this port is open</em>&#x201D; instead of &#x201C;<em>I received a SYN-ACK</em>&#x201C;. Sometimes they are right. Sometimes not. It&#x2019;s easier for beginners, but when you know what you&#x2019;re doing, you keep on trying to deduce what really happened from the program&#x2019;s interpretation to make your own, which is hard because you lost a big amount of information. And you often end up using <tt class=\"docutils literal\"><span class=\"pre\">tcpdump</span> <span class=\"pre\">-xX</span></tt> to decode and interpret what the tool missed.</p>\n<p>Third, even programs which only decode do not give you all the information they received. The network&#x2019;s vision they give you is the one their author thought was sufficient. But it is not complete, and you have a bias. For instance, do you know a tool that reports the Ethernet padding?</p>\n<p>Scapy tries to overcome those problems. It enables you to build exactly the packets you want. Even if I think stacking a 802.1q layer on top of TCP has no sense, it may have some for somebody else working on some product I don&#x2019;t know. Scapy has a flexible model that tries to avoid such arbitrary limits. You&#x2019;re free to put any value you want in any field you want, and stack them like you want. You&#x2019;re an adult after all.</p>\n<p>In fact, it&#x2019;s like building a new tool each time, but instead of dealing with a hundred line C program, you only write 2 lines of Scapy.</p>\n<p>After a probe (scan, traceroute, etc.) Scapy always gives you the full decoded packets from the probe, before any interpretation. That means that you can probe once and interpret many times, ask for a traceroute and look at the padding for instance.</p>\n<div class=\"section\" id=\"fast-packet-design\">\n<h3>Fast packet design<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#fast-packet-design\" title=\"Permalink to this headline\">&#xB6;</a></h3>\n<p>Other tools stick to the <strong>program-that-you-run-from-a-shell</strong> paradigm.\nThe result is an awful syntax to describe a packet. For these tools, the\nsolution adopted uses a higher but less powerful description, in the form of\nscenarios imagined by the tool&#x2019;s author. As an example, only the IP address must\nbe given to a port scanner to trigger the <strong>port scanning</strong> scenario. Even\nif the scenario is tweaked a bit, you still are stuck to a port scan.</p>\n<p>Scapy&#x2019;s paradigm is to propose a Domain Specific Language (DSL) that\nenables a powerful and fast description of any kind of packet. Using the Python\nsyntax and a Python interpreter as the DSL syntax and interpreter has many\nadvantages: there is no need to write a separate interpreter, users don&#x2019;t need\nto learn yet another language and they benefit from a complete, concise\nand very powerful language.</p>\n<p>Scapy enables the user to describe a packet or set of packets as layers that are\nstacked one upon another. Fields of each layer have useful default values that\ncan be overloaded. Scapy does not oblige the user to use predetermined methods\nor templates. This alleviates the requirement of writing a new tool each time a\ndifferent scenario is required. In C, it may take an average of 60 lines to\ndescribe a packet. With Scapy, the packets to be sent may be described in only a\nsingle line with another line to print the result. 90% of the network probing\ntools can be rewritten in 2 lines of Scapy.</p>\n</div>\n<div class=\"section\" id=\"probe-once-interpret-many\">\n<h3>Probe once, interpret many<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#probe-once-interpret-many\" title=\"Permalink to this headline\">&#xB6;</a></h3>\n<p>Network discovery is blackbox testing. When probing a network, many stimuli are\nsent while only a few of them are answered. If the right stimuli are\nchosen, the desired information may be obtained by the responses or the lack of\nresponses. Unlike many tools, Scapy gives all the information, i.e. all the\nstimuli sent and all the responses received. Examination of this data will give\nthe user the desired information. When the dataset is small, the user can just\ndig for it. In other cases, the interpretation of the data will depend on the\npoint of view taken. Most tools choose the viewpoint and discard all the data\nnot related to that point of view. Because Scapy gives the complete raw data,\nthat data may be used many times allowing the viewpoint to evolve during\nanalysis. For example, a TCP port scan may be probed and the data visualized as\nthe result of the port scan. The data could then also be visualized with respect\nto the TTL of response packet. A new probe need not be initiated to adjust the\nviewpoint of the data.</p>\n<a class=\"reference external image-reference\" href=\"http://www.secdev.org/projects/scapy/doc/_images/scapy-concept.png\"><img alt=\"_images/scapy-concept.png\" src=\"http://www.secdev.org/projects/scapy/doc/_images/scapy-concept.png\"></a>\n</div>\n<div class=\"section\" id=\"scapy-decodes-it-does-not-interpret\">\n<h3>Scapy decodes, it does not interpret<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#scapy-decodes-it-does-not-interpret\" title=\"Permalink to this headline\">&#xB6;</a></h3>\n<p>A common problem with network probing tools is they try to interpret the answers\nreceived instead of only decoding and giving facts. Reporting something like\n<strong>Received a TCP Reset on port 80</strong> is not subject to interpretation errors.\nReporting <strong>Port 80 is closed</strong> is an interpretation that may be right most\nof the time but wrong in some specific contexts the tool&#x2019;s author did not\nimagine. For instance, some scanners tend to report a filtered TCP port when\nthey receive an ICMP destination unreachable packet. This may be right, but in\nsome cases it means the packet was not filtered by the firewall but rather there\nwas no host to forward the packet to.</p>\n<p>Interpreting results can help users that don&#x2019;t know what a port scan is but\nit can also make more harm than good, as it injects bias into the results. What\ncan tend to happen is that so that they can do the interpretation themselves,\nknowledgeable users will try to reverse engineer the tool&#x2019;s interpretation to\nderive the facts that triggered that interpretation. Unfortunately much\ninformation is lost in this operation.</p>\n</div>\n</div>\n<div class=\"section\" id=\"quick-demo\">\n<h2>Quick demo<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#quick-demo\" title=\"Permalink to this headline\">&#xB6;</a></h2>\n<p>First, we play a bit and create four IP packets at once. Let&#x2019;s see how it works. We first instantiate the IP class. Then, we instantiate it again and we provide a destination that is worth four IP addresses (/30 gives the netmask). Using a Python idiom, we develop this implicit packet in a set of explicit packets. Then, we quit the interpreter. As we provided a session file, the variables we were working on are saved, then reloaded:</p>\n<div class=\"highlight-python\"><pre># ./scapy.py -s mysession\nNew session [mysession]\nWelcome to Scapy (0.9.17.108beta)\n&gt;&gt;&gt; IP()\n&lt;IP |&gt;\n&gt;&gt;&gt; target=\"www.target.com\"\n&gt;&gt;&gt; target=\"www.target.com/30\"\n&gt;&gt;&gt; ip=IP(dst=target)\n&gt;&gt;&gt; ip\n&lt;IP dst=&lt;Net www.target.com/30&gt; |&gt;\n&gt;&gt;&gt; [p for p in ip]\n[&lt;IP dst=207.171.175.28 |&gt;, &lt;IP dst=207.171.175.29 |&gt;,\n &lt;IP dst=207.171.175.30 |&gt;, &lt;IP dst=207.171.175.31 |&gt;]\n&gt;&gt;&gt; ^D</pre>\n</div>\n<div class=\"highlight-python\"><pre># scapy -s mysession\nUsing session [mysession]\nWelcome to Scapy (0.9.17.108beta)\n&gt;&gt;&gt; ip\n&lt;IP dst=&lt;Net www.target.com/30&gt; |&gt;</pre>\n</div>\n<p>Now, let&#x2019;s manipulate some packets:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">IP</span><span class=\"p\">()</span>\n<span class=\"go\">&lt;IP |&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"n\">IP</span><span class=\"p\">(</span><span class=\"n\">dst</span><span class=\"o\">=</span><span class=\"s\">\"172.16.1.40\"</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span>\n<span class=\"go\">&lt;IP dst=172.16.1.40 |&gt;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dst</span>\n<span class=\"go\">'172.16.1.40'</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">ttl</span>\n<span class=\"go\">64</span>\n</pre></div>\n</div>\n<p>Let&#x2019;s say I want a broadcast MAC address, and IP payload to ketchup.com\nand to mayo.com, TTL value from 1 to 9, and an UDP payload:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Ether</span><span class=\"p\">(</span><span class=\"n\">dst</span><span class=\"o\">=</span><span class=\"s\">\"ff:ff:ff:ff:ff:ff\"</span><span class=\"p\">)</span>\n<span class=\"go\"> /IP(dst=[\"ketchup.com\",\"mayo.com\"],ttl=(1,9))</span>\n<span class=\"go\"> /UDP()</span>\n</pre></div>\n</div>\n<p>We have 18 packets defined in 1 line (1 implicit packet)</p>\n<div class=\"section\" id=\"sensible-default-values\">\n<h3>Sensible default values<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#sensible-default-values\" title=\"Permalink to this headline\">&#xB6;</a></h3>\n<p>Scapy tries to use sensible default values for all packet fields.\nIf not overriden,</p>\n<ul class=\"simple\">\n<li>IP source is chosen according to destination and routing table</li>\n<li>Checksum is computed</li>\n<li>Source MAC is chosen according to the output interface</li>\n<li>Ethernet type and IP protocol are determined by the upper layer</li>\n</ul>\n<a class=\"reference external image-reference\" href=\"http://www.secdev.org/projects/scapy/doc/_images/default-values-ip.png\"><img alt=\"_images/default-values-ip.png\" src=\"http://www.secdev.org/projects/scapy/doc/_images/default-values-ip.png\"></a>\n<p>Other fields&#x2019; default values are chosen to be the most useful ones:</p>\n<ul class=\"simple\">\n<li>TCP source port is 20, destination port is 80.</li>\n<li>UDP source and destination ports are 53.</li>\n<li>ICMP type is echo request.</li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"learning-python\">\n<h2>Learning Python<a class=\"headerlink\" href=\"http://www.secdev.org/projects/scapy/doc/introduction.html#learning-python\" title=\"Permalink to this headline\">&#xB6;</a></h2>\n<p>Scapy uses the Python interpreter as a command board. That means that you can directly use the Python language (assign variables, use loops, define functions, etc.)</p>\n<p>If you are new to Python and you really don&#x2019;t understand a word because of that, or if you want to learn this language, take an hour to read the very good <a class=\"reference external\" href=\"http://docs.python.org/tutorial/\">Python tutorial</a> by Guido Van Rossum. After that, you&#x2019;ll know Python :) (really!). For a more in-depth tutorial <a class=\"reference external\" href=\"http://diveintopython.org/\">Dive Into Python</a> is a very good start too.</p>\n<p>For a quick start, here&#x2019;s an overview of Python&#x2019;s data types:</p>\n<ul class=\"simple\">\n<li><tt class=\"docutils literal\"><span class=\"pre\">int</span></tt> (signed, 32bits) : <tt class=\"docutils literal\"><span class=\"pre\">42</span></tt></li>\n<li><tt class=\"docutils literal\"><span class=\"pre\">long</span></tt> (signed, infinite): <tt class=\"docutils literal\"><span class=\"pre\">42L</span></tt></li>\n<li><tt class=\"docutils literal\"><span class=\"pre\">str</span></tt> : <tt class=\"docutils literal\"><span class=\"pre\">\"bell\\x07\\n\"</span></tt> or <tt class=\"docutils literal\"><span class=\"pre\">&#x2019;bell\\x07\\n&#x2019;</span></tt></li>\n<li><tt class=\"docutils literal\"><span class=\"pre\">tuple</span></tt> (immutable): <tt class=\"docutils literal\"><span class=\"pre\">(1,4,\"42\")</span></tt></li>\n<li><tt class=\"docutils literal\"><span class=\"pre\">list</span></tt> (mutable): <tt class=\"docutils literal\"><span class=\"pre\">[4,2,\"1\"]</span></tt></li>\n<li><tt class=\"docutils literal\"><span class=\"pre\">dict`</span> <span class=\"pre\">(mutable):</span> <span class=\"pre\">``{</span> <span class=\"pre\">\"one\":1</span> <span class=\"pre\">,</span> <span class=\"pre\">\"two\":2</span> <span class=\"pre\">}</span></tt></li>\n</ul>\n<p>There are no block delimiters in Python. Instead, indendation does matter:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"k\">if</span> <span class=\"n\">cond</span><span class=\"p\">:</span>\n <span class=\"n\">instr</span>\n <span class=\"n\">instr</span>\n<span class=\"k\">elif</span> <span class=\"n\">cond2</span><span class=\"p\">:</span>\n <span class=\"n\">instr</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n <span class=\"n\">instr</span>\n</pre></div>\n</div>\n</div>\n</div>"
    }, {
        "title": "File input to gnuplot through python",
        "url": "http://stackoverflow.com/questions/5968721/file-input-to-gnuplot-through-python",
        "excerpt": "I am trying to draw a graph of some data I pull out of a MySQL database through python with gnuplot and gnuplot.py. I read the latest 10 lines of data from the MySQL database and store them in a temp&hellip;",
        "date_saved": "Thu Jul 28 20:07:33 EDT 2016",
        "html_file": "file_input_to_gnuplot_through_python.html",
        "png_file": "file_input_to_gnuplot_through_python.png",
        "md_file": "file_input_to_gnuplot_through_python.md",
        "content": "<div><div class=\"post-text\">\n\n<p>I am trying to draw a graph of some data I pull out of a MySQL database through python with gnuplot and gnuplot.py.\nI read the latest 10 lines of data from the MySQL database and store them in a temp file which is supposed to be read by gnuplot. I can do this the manual way by setting through the terminal, but I simply can't see how I should load the file into gnuplot through python.\nIf you can show me an easier way to do this, or simply a way to do it at all, I would be very grateful.</p>\n\n<pre><code>import MySQLdb\nimport Gnuplot\n\ndatafile = open('data', 'w+r')\n\ngp = Gnuplot.Gnuplot(persist=1)\ngp('set style data lines')\ngp('set term png')\ngp('set output \"escan_graph.png\"')\ngp('set datafile separator \"|\"')\n\ndb = MySQLdb.connect(host=\"localhost\", user=\"root\", passwd=\"password\", db=\"zig\")\ncursor = db.cursor()\n\ncursor.execute(\"select _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy from escan_data\")\n\nnumrows = int(cursor.rowcount) #get the count of total\n# get and display one row at a time\n\nif numrows &gt; 10:\n start = numrows-10\nelse:\n start = 0\n\nfor x in range(start,numrows):\n row = cursor.fetchone()\n print row[0], row[1]\n datafile.write(str(row[0]) + \"|\" + str(row[1]) + \"\\n\")\n\n\n\ndatabuff = Gnuplot.Data(datafile.read(), title=\"test\")\n\n\ngp.plot(databuff)\n</code></pre>\n\n<p>row[0] is the x-axis and row[1] is y-axis.</p>\n </div>\n \n </div>"
    }, {
        "title": "The What, How and Why Of Single Var Pattern in JavaScript?",
        "url": "http://www.smashingbuzz.com/2015/09/single-var-pattern-javascript/",
        "excerpt": "Are you tired of dealing with language rules and conventions? Well, then you can switch to using JavaScript, as it gives flexibility over applying rules and code conventions. For instance, JavaScript&hellip;",
        "date_saved": "Thu Jul 28 20:07:34 EDT 2016",
        "html_file": "the_what_how_and_why_of_single_var_pattern_in_javascript.html",
        "png_file": "the_what_how_and_why_of_single_var_pattern_in_javascript.png",
        "md_file": "the_what_how_and_why_of_single_var_pattern_in_javascript.md",
        "content": "<div><div class=\"post-content box mark-links\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Are you tired of dealing with language rules and conventions? Well, then you can switch to using JavaScript, as it gives flexibility over applying rules and code conventions. For instance, JavaScript allows users to create any type of variable within the script in your web page. While this may seem an advantage to you in the first place, however, it can also result in unfavorable consequences if you won&#x2019;t work carefully with the JavaScript variables.</p>\n<p><img class=\"alignnone size-full wp-image-35968\" src=\"http://www.smashingbuzz.com/wp-content/uploads/2015/09/The-What-How-and-Why-Of-Single-Var-Pattern-in-JavaScript.jpg\" alt=\"The What, How and Why Of Single Var Pattern in JavaScript?\" width=\"600\"></p>\n<p>Fortunately, there is an excellent solution that can help you work with JavaScript variables in the most effective way possible, called as single var pattern. In fact, many JavaScript legends have been encouraging to utilize the single var pattern, as it helps in preventing plenty of mistakes often made by both novice and experienced JavaScript developers.</p>\n<p>Douglas Crockford, who built JSLint the popular code quality tool likes the single var pattern and strongly advocates using it. Below is his opinion as to why JavaScript users must support this pattern:</p>\n<blockquote><p><strong>&#x201C;When using languages with block scope, it is usually recommended that variables must be declared as close as possible to the first place where they&#x2019;re used. But, since JavaScript does not have block scope, it is wiser to declare all of a function&#x2019;s variables at the top of the function. It is recommended that a single var statement be used per function. This can be declined with the vars option.&#x201D;</strong></p></blockquote>\n<p>Through this post, I would like to make you understand about the JavaScript &#x201C;single var pattern&#x201D; and why you should consider using it in your development projects.</p>\n<h3>An Overview of The Single Var Pattern</h3>\n<p>The single var pattern, basically, declares all of the (local) variables at the top of a scope block (i.e. a function block) using only a single &#x201C;var&#x201D; statement. Furthermore, all the variables are separated by a comma (,), while the last variable contains a semicolon (;) at the end.<br>\nLet&#x2019;s look at an example of the single var pattern:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">function myfuncname() {\nvar&#xA0; a = 10,\nb = 20,\nc = { name: \"XYZ\", age: 25 },\nd;\n\n}</pre>\n<p>As you can see the above example amounts to having many different var statements for each variable, as follows:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">function myfuncname() {\n\nvar a = 10;\n\nvar b = 20;\n\nvar c = { name: \"XYZ\", age: 25};\n\nvar d;\n\n}</pre>\n<p>The multiple var statement pattern as shown in the code snippet above is a viable alternative to the single var pattern. That&#x2019;s because, it consists of all the variables that are declared at the beginning of the function block, which&#xA0; helps in preventing logical errors. Plus, it makes the code more readable and so on.</p>\n<p>Since JavaScript ignores commas and semicolons included in tabs, newlines, and other spacing characters, the above example could have been written in just a single line:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">function myfuncname() {\n\nvar a = 10, b = \"20, c = { name: \"XYZ\", age: 25}, d;\n\n}</pre>\n<p>However, it&#x2019;s a good practice to declare each variable individually on one line for improved readability. This also makes it easy to comment your variables separately (if needed).</p>\n<h3>Alternative Way To Using Single Var Pattern</h3>\n<p>Apart from the above discussed single var pattern, there is another way (or formatting style) that can be used for the single var pattern. This alternative patter requires to put the comma-separators at the very beginning of each line, rather than adding it at the end:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">function myfuncname() {\n\nvar&#xA0;&#xA0; a = 10\n\n, b = \"Hello!\"\n\n, c = { name: \"ABC\", age: 44 }\n\n, d = new Date()\n\n, e;\n\n}</pre>\n<p>Whether you should place the commas at the start or the end of each line depends upon your preference. However, it would be better if you&#x2019;ll prefer to put the commas at the end of the line, as it enables you to read the var statements easily.</p>\n\n\n\n<p>So, Why You Should Use the Single Var Pattern?</p>\n<p>Below are a few benefits that you get by using the single var pattern:</p>\n<h3>1. Avoids Confusion</h3>\n<p>The biggest benefit of using the single var pattern is that it helps avoid confusion, by making it easier to find where a certain variable is; since this JavaScript pattern provides one single place to search for all the local variables essential to be used by the function. You just need to look at the top of the function to see or modify your it&#x2019;s variables.</p>\n<h3>2. Prevents Logical Errors From Occurring</h3>\n<p>Since all of the variables are declared at the beginning of the function block, it avoids logical errors that are related to hoisting, declaring global variables and naming collisions. Let us discuss about these errors one by one:</p>\n<h3>Variable Hoisting</h3>\n<p>JavaScript allows to place &#x201C;multiple var statements&#x201D; anywhere within a function, and will make you believe that the variables were declared at the start of the function block. JavaScript&#x2019;s behavior of processing the statements prior to executing else is known as hoisting. Now, in case you&#x2019;re using a variable and declare it within the function later causes logical errors. Because the single var pattern intentionally puts all the variables at the top of the function, it helps prevent related hoisting from taking place.</p>\n<h3>Naming Collisions</h3>\n<p>: While working on large-size and complicated scripts, it&#x2019;s easy to accidentally reuse a variable name, which could lead to logical errors. However, since the single var pattern help in keeping all the variables in one spot, it becomes easy to keep track of the variable names that have already been used.</p>\n<h3>Minimize Accidental Global Variables</h3>\n<p>: Having too many global variables can cause naming collisions with other JavaScript libraries &#x2013; you probably would be using &#x2013; that relies upon global variables. And thus, it is recommended that you should get rid of unnecessary global variables to avoid naming collisions. Besides, it is a good practice to use local variables over global ones, since the former ones are faster to access compared to the latter. The single var pattern will help you remember to create local variables and thereby reduces accidental global variables.</p>\n<h3>3. Make You Write Less Code</h3>\n<p>Lastly, using single var statement reduces the amount of code that you need to write. Let us consider an example to understand how it helps in writing less code:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n// A function that returns a random integer number\n// between two specified integer arguments.\n\nvar myrandomizer = function (a, b) {\n\nvar minvalue = a,\n\nmaxvalue = b,\n\nrandom = Math.random(),\n\nresult;\n\n// Calculate random number\n\nresult = Math.floor(random _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy (maxvalue - minvalue) + minvalue);\n\nreturn result;\n\n}</pre>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n// Display random number in an alert box\n\nalert(myrandomizer(1, 100));</pre>\n<p>You can reduce the above amount of code, by including the calculation of the variable &#x2018;result&#x2019; within the single var statement, as follows:</p>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n// A function that returns a random integer number\n\n// between two specified integer arguments.\n\nvar myrandomizer = function (a, b) {\n\nvar minvalue = a,\n\nmaxvalue = b,\n\nrandom = Math.random(),\n\n// Calculate random number\n\nresult = Math.floor(random _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy (maxvalue - minvalue) + minvalue);\n\nreturn result;\n\n}</pre>\n<pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n// Display random number in an alert box\n\nalert(myrandomizer(1, 100));</pre>\n<p>Conclusion</p>\n<p>Hopefully, this post will help you in becoming familiar with the JavaScript &#x201C;Single Var Pattern&#x201D; and its benefits. But, many professionals have also <a href=\"http://danhough.com/blog/single-var-pattern-rant/\" target=\"_blank\">criticized using the single var pattern in JavaScript</a>. And so, make sure to carefully analyze its set of pros and cons to make an informed decision.</p>\n<p>Author Biography: Jack Calder is currently a Senior web developer in Markupcloud Ltd. He always use to share extinct &amp; concrete information on web design and development. Jack is curently involved in <a href=\"http://www.markupcloud.com/services/psd-to-html\" target=\"_blank\" rel=\"nofollow\">psd to html service</a> with extraneous efforts on web design templates.</p>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>"
    }, {
        "title": "Using the Office UI Fabric with Angular JS to Create an Office Add-In",
        "url": "http://www.itunity.com/article/office-ui-fabric-angular-js-create-office-addin-2570",
        "excerpt": "Angular is such a popular JavaScript framework because it provides an elegant structure for creating enterprise applications using a programming language that was never designed for such a thing.&hellip;",
        "date_saved": "Thu Jul 28 20:07:36 EDT 2016",
        "html_file": "using_the_office_ui_fabric_with_angular_js_to_create_an_office_addin.html",
        "png_file": "using_the_office_ui_fabric_with_angular_js_to_create_an_office_addin.png",
        "md_file": "using_the_office_ui_fabric_with_angular_js_to_create_an_office_addin.md",
        "content": "<div><div class=\"descrpt\"><p><a href=\"https://angularjs.org/\" target=\"_blank\">Angular</a> is such a popular JavaScript framework because it provides an elegant structure for creating enterprise applications using a programming language that was never designed for such a thing. When developers build applications with Angular, they often couple it with the <a href=\"http://getbootstrap.com/\" target=\"_blank\">Bootstrap</a> framework to easily take advantage of pre-canned styles and components. The Angular team has also created several directives that combine Angular and Bootstrap into <a href=\"http://angular-ui.github.io/bootstrap/\" target=\"_blank\">UI Bootstrap</a> components. Together, these frameworks give you the ability to create beautiful and functional applications using HTML5, CSS3, and JavaScript. As proof, figure 1 shows an application <a href=\"http://wrapbootstrap.com/preview/WB055J451\" target=\"_blank\">theme</a> that I used recently. Pause and enjoy the beauty.</p>\n<p><span class=\"contentimage \">\n<a href=\"http://www.itunity.com/content/content/2570/angular-bootstrap-1.png\" title=\"Angular-bootstrap-1\" class=\"imagecaption\">\n<img src=\"http://www.itunity.com/content/content/2570/angular-bootstrap-1.png?w=550\" alt=\"Angular and Bootstrap let you create beautiful and functional applications using HTML5, CSS3, and JavaScript\">\n</a>\n</span></p>\n<p><em>Figure 1, Angular and Bootstrap make beautiful and functional applications</em></p>\n<p>When developing add-ins for Office and SharePoint, I typically use the Bootstrap styles and components. While this approach gives me all the benefits stated previously, it does present some challenges matching the standard look and feel of the Office suite. The problem for developers is that the UI components that are part of the Bootstrap world were not created with Office and SharePoint in mind. Consequently, your add-in may look good, but it may also give the user that vague feeling that it doesn&#x2019;t quite fit. What we really need are styles and components that offer the beauty and ease of Bootstrap, work well with Angular, and fit nicely into Office and SharePoint. Fortunately, Microsoft has answered our needs with the <a href=\"https://github.com/OfficeDev/Office-UI-Fabric\" target=\"_blank\">Office UI Fabric</a>.</p>\n<h2>Introducing the Office UI Fabric</h2>\n<p>Last month the Office team <a href=\"https://blogs.office.com/2015/08/31/introducing-office-ui-fabric-your-key-to-designing-add-ins-for-office/\" target=\"_blank\">announced</a> the release of the Office UI Fabric for general availability. The Office UI Fabric is a responsive, mobile-first, front-end framework for developers creating solutions for Office and SharePoint. The framework consists of styles and components that give your applications the same look and feel as Office and SharePoint. In short, it&#x2019;s Bootstrap for Office and SharePoint.</p>\n<p>The Office UI Fabric defines 10 base <a href=\"https://github.com/OfficeDev/Office-UI-Fabric/blob/master/ghdocs/FEATURES.md#typography\" target=\"_blank\">font classes</a> that represent the typography used throughout Office and SharePoint. Each base class uses the Segoe UI font and varies by size. There are also several helper font classes that alter the text weight.</p>\n<p>9 different <a href=\"https://github.com/OfficeDev/Office-UI-Fabric/blob/master/ghdocs/FEATURES.md#color\" target=\"_blank\">themes</a> are defined, making it easy to create a consistent feel in your application. Along with custom icons and animations, look and feel is easy. The Office UI Fabric also provides localization support with right-to-left (RTL) styles and language-optimized fonts.</p>\n<p>Just like Bootstrap, the Office UI Fabric also defines a 12-column, <a href=\"https://github.com/OfficeDev/Office-UI-Fabric/blob/master/ghdocs/FEATURES.md#responsive-grid\" target=\"_blank\">responsive grid</a> structure. The grid defines row and column styles just like Bootstrap. The grid is also responsive so you can use classes to define how it should change as the device size changes. Again, this is exactly like the Bootstrap grid, but made for Office and SharePoint.</p>\n<p>The Office UI Fabric includes 26 <a href=\"https://github.com/OfficeDev/Office-UI-Fabric/tree/master/dist/components\" target=\"_blank\">components</a> like menus, breadcrumbs, buttons, tables, and cards. Each component consists of some template HTML and a style sheet. Generally, you can use the components by simply copying the HTML into your project. You can review the complete <a href=\"https://msdn.microsoft.com/EN-US/library/mt484317.aspx\" target=\"_blank\">Office Add-In Design Guidelines</a> online to ensure consistency. Figure 2 shows a sample dialog box with a clean, consistent look. My only disappointment is that I wish the components came packaged as Angular directives. Looks like that is a good opportunity for a community project.</p>\n<p><span class=\"contentimage \">\n<a href=\"http://www.itunity.com/content/content/2570/office-ui-fabric-dialog-box-2.png\" title=\"office-ui-fabric-dialog-box-2\" class=\"imagecaption\">\n<img src=\"http://www.itunity.com/content/content/2570/office-ui-fabric-dialog-box-2.png?w=300\" alt=\"Office UI Fabric dialog box\">\n</a>\n</span></p>\n<p><em>Figure 2, A sample Office UI Fabric dialog box</em></p>\n<h2>Using the Office UI Fabric</h2>\n<p>Using the Office UI Fabric in your Office and SharePoint development is straightforward. As an example, I created an Outlook add-in that allows a user to pick from a list of &#x201C;quick responses&#x201D; when answering an e-mail. The add-in is built using the Angular framework with the set of quick responses maintained in a SharePoint online list. Figure 3 shows the responses surfaced when the user responds to an e-mail. Notice how the look and feel fits right in with Outlook.</p>\n<p><span class=\"contentimage \">\n<a href=\"http://www.itunity.com/content/content/2570/outlook-add-in-using-office-ui-fabric-3.png\" title=\"outlook-add-in-using-office-ui-fabric-3\" class=\"imagecaption\">\n<img src=\"http://www.itunity.com/content/content/2570/outlook-add-in-using-office-ui-fabric-3.png?w=550\" alt=\"Outlook add-in created using the Office UI Fabric\">\n</a>\n</span></p>\n<p><em>Figure 3, An Outlook add-in utilizing the Office UI Fabric</em></p>\n<p>After creating the initial Outlook add-in project in Visual Studio 2015, I reworked the structure a bit to introduce the Angular framework along with the <a href=\"http://www.cloudidentity.com/blog/2015/02/19/introducing-adal-js-v1/\" target=\"_blank\">Active Directory Authentication Library for JavaScript</a> (adal.js). This allowed me to assign my Outlook add-in permissions in Azure Active Directory for accessing the SharePoint online list where the quick responses are maintained. This article is not intended to be a primer on adal.js, but you can get up to speed by reading my <a href=\"http://www.itunity.com/article/started-adaljs-office-365-apis-2144\" target=\"_blank\">previous article</a> on the subject. Additionally, the complete source code for this article is available in the IT Unity <a href=\"https://github.com/ITUnity/dev/tree/master/QuickResponses\" target=\"_blank\">repository</a>.</p>\n<p>Once the basic add-in structure was complete, I added the references to the Office UI Fabric. The styles are available from a content delivery network (CDN) link. The components, however, must be copied from the raw HTML in the OfficeDev <a href=\"https://github.com/OfficeDev/Office-UI-Fabric/tree/master/dist/components\" target=\"_blank\">repository</a>.</p>\n\n<pre class=\"prettyprint\">&lt;link rel=\"stylesheet\" href=\"https://appsforoffice.microsoft.com/fabric/1.0/fabric.min.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://appsforoffice.microsoft.com/fabric/1.0/fabric.components.min.css\"&gt;</pre>\n\n<p>I used the styles, responsive grid, and button component in my Outlook add-in. The experience was similar to using Bootstrap, except the documentation on GitHub for the Office UI Fabric is not nearly as complete as for Bootstrap. Nonetheless, I was able to create the simple interface shown in Figure 3 without too much difficulty. The code in listing 1 shows the HTML for the user interface.</p>\n<p>Listing 1, A simple Office UI Fabric interface</p>\n\n<pre class=\"prettyprint\">&lt;div class=\"ms-fontColor-themeDarker\" style=\"margin:5px;\"&gt;\n &lt;div class=\"ms-font-s-plus\"&gt;{{message}}&lt;/div&gt;\n &lt;div class=\"ms-font-s-plus\" style=\"padding-bottom:5px;\"&gt;\n Select a quick response from the choices below:\n &lt;/div&gt;\n &lt;div data-ng-hide=\"!workingOnIt\"&gt;Retrieving quick responses...&lt;/div&gt;\n &lt;div class=\"ms-Grid\"&gt;\n &lt;div class=\"ms-Grid-row\" data-ng-repeat=\"response in responses\" style=\"padding-bottom:5px;\"&gt;\n &lt;div class=\"ms-Grid-col ms-u-sm6 ms-u-md8 ms-u-lg10\"&gt;\n &lt;div class=\"ms-font-m ms-fontWeight-semibold\"&gt;\n {{response.Title}}\n &lt;/div&gt;\n &lt;/div&gt;\n &lt;div class=\"ms-Grid-col ms-u-sm6 ms-u-md4 ms-u-lg2\"&gt;\n &lt;button class=\"ms-Button ms-Button--primary\"\n data-ng-click=\"insertResponse(response.Title)\"&gt;\n &lt;span class=\"ms-Button-label\"&gt;Respond!&lt;/span&gt;\n &lt;/button&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;</pre>\n\n<h2>Conclusions</h2>\n<p>My first experience with the Office UI Fabric was a good one. I found the styles and components easy to use and would recommend them to Office and SharePoint developers. The framework would benefit from some additional documentation and samples as well as the development of Angular directives. For a first release, however, the framework seems solid. Developers should begin to use it immediately for Office and SharePoint development.</p></div></div>"
    }, {
        "title": "jQuery responsive lightbox",
        "url": "http://chocolat.insipi.de/#demo",
        "excerpt": "chocolat.js features settings demo",
        "date_saved": "Thu Jul 28 20:07:37 EDT 2016",
        "html_file": "jquery_responsive_lightbox.html",
        "png_file": "jquery_responsive_lightbox.png",
        "md_file": "jquery_responsive_lightbox.md",
        "content": "<div>\n <div class=\"loader\">\n <div class=\"progress-bar\">\n \n </div>\n </div>\n <div class=\"fixed-viewport\">\n <div class=\"topbar\">\n <ul>\n <li class=\"chocolat\">\n <a href=\"http://chocolat.insipi.de/#home\">\n <span>\n chocolat.js\n </span>\n </a>\n </li>\n <li>\n <a href=\"http://chocolat.insipi.de/#features\">\n <span>\n features\n </span>\n </a>\n </li>\n <li>\n <a href=\"http://chocolat.insipi.de/#settings\">\n <span>\n settings\n </span>\n </a>\n </li>\n <li>\n <a href=\"http://chocolat.insipi.de/#demo\">\n <span>\n demo\n </span>\n </a>\n </li>\n <li>\n <a href=\"http://chocolat.insipi.de/#getting-started\">\n <span>\n getting started\n </span>\n </a>\n </li>\n <li>\n <a href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">\n <span>\n documentation\n </span>\n </a>\n </li>\n <li>\n <a href=\"https://github.com/nicolas-t/Chocolat\">\n <span>\n github\n </span>\n </a>\n </li>\n <li class=\"download\">\n <a href=\"http://chocolat.insipi.de/#download\">\n <span>\n download\n </span>\n </a>\n </li>\n </ul>\n</div> <div class=\"main scrollable\">\n\n <div class=\"bg bg-0\" id=\"home\">\n <div class=\"scrollsections section-0\">\n <div class=\"right-container\">\n \n <div class=\"row\">\n <div class=\"col-4 offset-3 align-center\">\n <a href=\"https://github.com/nicolas-t/Chocolat/releases/tag/0.4.14\" class=\"new-version\">\n New version (0.4.14) available !\n </a>\n </div>\n </div>\n <div class=\"first ligne clearfix\">\n <div class=\"left-zone left\">\n \n \n\n <div class=\"desc\">\n <p>\n Chocolat.js enables you to display one or several images staying on the same page.\n </p>\n <p>\n The choice is left to the user to group together a series of pictures as a link, or let them appear as thumbnails.\n </p>\n <p>\n The viewer may appears full-page or in a block.\n </p>\n </div>\n </div>\n\n <div class=\"right-zone left\">\n <pre class=\"block-code\">$ bower install chocolat</pre>\n <div class=\"block-image\">\n <img src=\"http://chocolat.insipi.de/images/mec.png\" alt=\"mec\">\n <p class=\"block-red\">\n <h3>\n <span class=\"line-1\">Open</span><br>\n <span class=\"line-2\">Source</span><br>\n <span class=\"line-3\">Easy</span><br>\n <span class=\"line-4\">Free</span>\n\n </h3>\n </p>\n </div>\n </div>\n </div>\n </div>\n </div>\n </div>\n <div class=\"bg bg-1\" id=\"features\">\n <div class=\"quad\">\n \n \n \n \n </div>\n <div class=\"scrollsections section-1\">\n <div class=\"right-container\">\n <div class=\"abs-wrapper\">\n <a href=\"http://chocolat.insipi.de/#features\" class=\"part-1 part\">\n <div class=\"part-content\">\n <p class=\"indice\">01.</p>\n <h4>\n <span class=\"animated white\">\n either for noobs\n </span><br>\n <span class=\"animated white\"> or veterans</span>\n </h4>\n <div class=\"desc\">\n <p>\n Chocolat comes with an API and multiples CSS classes which make it very handy to use for advanced users, and very easy to use for noobs.\n </p>\n </div>\n </div>\n </a>\n\n <a href=\"http://chocolat.insipi.de/#features\" class=\"part-2 part\">\n <div class=\"part-content\">\n <p class=\"indice\">02.</p>\n <h4><span class=\"animated white\">crossbrowser</span></h4>\n <div class=\"desc\">\n <p>\n Chocolat works well with all major browser. It has been tested on : IE7+, firefox, chrome, opera, safari.\n </p>\n </div>\n </div>\n </a>\n\n <a href=\"http://chocolat.insipi.de/#features\" class=\"part-3 part\">\n <div class=\"part-content\">\n <p class=\"indice\">03.</p>\n <h4><span class=\"animated white\">light</span></h4>\n <div class=\"desc\">\n <p>\n Chocolat.js is only 23 kb and reaches 10 kb once minified.\n </p>\n </div>\n </div>\n </a>\n\n <a href=\"http://chocolat.insipi.de/#features\" class=\"part-4 part\">\n <div class=\"part-content\">\n <p class=\"indice\">04.</p>\n <h4><span class=\"animated white\">responsive</span></h4>\n <div class=\"desc\">\n <p>\n Chocolat works on desktop, tablet &amp; mobile, you can also define your own breakpoints.\n </p>\n </div>\n </div>\n </a>\n </div>\n </div>\n </div>\n </div>\n <div class=\"bg bg-2\" id=\"settings\">\n <div class=\"scrollsections section-2\">\n <div class=\"row\">\n <div class=\"right-container\">\n <div class=\"row une-feature first\">\n <div class=\"col-3\">\n <div class=\"img\">\n <img src=\"http://chocolat.insipi.de/images/feature-1.png\" alt=\"\">\n </div>\n </div>\n <div class=\"col-3 \">\n <p class=\"name\">\n Block, <br>\n Fullscreen, <br>\n FullWindow\n </p>\n <p class=\"attribute\">\n container : DOM element\n </p>\n <p class=\"attribute\">\n fullScreen : bool\n </p>\n </div>\n <div class=\"col-5 \">\n <p class=\"desc\">\n Chocolat can be opened fullwindow (as many other lightboxes) but it can also be opened in a container (a block element in the page).\n <br> With recent browser you can also navigate through the images fullscreen.\n </p>\n </div>\n </div>\n <div class=\"row une-feature\">\n <div class=\"col-3\">\n <div class=\"img\">\n <img src=\"http://chocolat.insipi.de/images/feature-2.png\" alt=\"\">\n </div>\n </div>\n <div class=\"col-3 has-border\">\n <p class=\"name\">\n Cover, <br>\n Contain, <br>\n Native\n </p>\n <p class=\"attribute\">\n imageSize : <br> 'default', contain', 'cover' or 'native'\n </p>\n </div>\n <div class=\"col-5 has-border\">\n <p class=\"desc\">\n You can choose either to crop the image or to make it perfectly fit its parent (be it any kind of block) but it\u2019s still quite unclear.\n </p>\n </div>\n </div>\n <div class=\"row une-feature\">\n <div class=\"col-3\">\n <div class=\"img\">\n <img src=\"http://chocolat.insipi.de/images/feature-3.png\" alt=\"\">\n </div>\n </div>\n <div class=\"col-3 has-border\">\n <p class=\"name\">\n Loop\n </p>\n <p class=\"attribute\">\n loop : bool\n </p>\n </div>\n <div class=\"col-5 has-border\">\n <p class=\"desc\">\n Choose to restart at the beginning once you reached the last image.\n </p>\n </div>\n </div>\n <div class=\"row une-feature\">\n <div class=\"col-3\">\n <div class=\"img\">\n <img src=\"http://chocolat.insipi.de/images/feature-4.png\" alt=\"\">\n </div>\n </div>\n <div class=\"col-3 has-border\">\n <p class=\"name\">\n Keyboard <br>\n Navigation\n </p>\n \n </div>\n <div class=\"col-5 has-border\">\n <p class=\"desc\">\n You can navigate through the images using your keyboard and assign keys.\n </p>\n </div>\n </div>\n <div class=\"row une-feature fake-feature\">\n <p class=\"col-3\">\n lol\n </p>\n <p class=\"col-3 has-border\">\n lol\n </p>\n <p class=\"col-5 has-border\">\n lol\n </p>\n </div>\n </div>\n </div>\n </div>\n </div>\n <div class=\"bg bg-4\" id=\"demo\">\n <div class=\"scrollsections section-4\">\n <div id=\"chocolat-in-container\" class=\"chocolat-container\">\n <p class=\"container-limits\">\n CONTAINER LIMITS\n </p>\n </div>\n </div>\n </div>\n <div class=\"bg bg-3\" id=\"getting-started\">\n <div class=\"scrollsections section-3\">\n <div class=\"right-container\">\n <div class=\"files-needed\">\n <h5>\n <span class=\"blue\">3 files</span> <br>\n needed\n </h5>\n <div class=\"files\">\n <div class=\"row\">\n <div class=\"col-4\">\n <a target=\"_blank\" href=\"http://code.jquery.com/jquery-1.11.3.min.js\" class=\"one-file file-jquery\">\n <p class=\"file-name\">jQuery library</p>\n <p class=\"file-source\">jquery.js</p>\n </a>\n </div>\n <div class=\"col-4\">\n <a target=\"_blank\" href=\"https://raw.githubusercontent.com/nicolas-t/Chocolat/master/dist/js/jquery.chocolat.js\" class=\"one-file file-chocolat-js\">\n <p class=\"file-name\">Plugin File</p>\n <p class=\"file-source\">jquery.chocolat.js</p>\n </a>\n </div>\n <div class=\"col-4\">\n <a target=\"_blank\" href=\"https://raw.githubusercontent.com/nicolas-t/Chocolat/master/dist/css/chocolat.css\" class=\"one-file file-chocolat-css\">\n <p class=\"file-name\">CSS file</p>\n <p class=\"file-source\">chocolat.css</p>\n </a>\n </div>\n </div>\n </div>\n </div>\n <div class=\"gist-container\">\n <div class=\"gist-meta\">\n <p class=\"label\">Between head tags</p>\n <a href=\"https://gist.github.com/nicolas-t/78d82b0f438ff380d76e\" target=\"_blank\" class=\"on-github\">view file on github</a>\n </div>\n \n </div>\n\n <div class=\"building-set\">\n <div class=\"row\">\n <p class=\"col-5\">\n <h5>\n Building a\n <span class=\"blue\">set </span>\n </h5>\n <h6>\n Create links to your full-sized images.\n </h6>\n </p>\n <div class=\"col-7\">\n <p>\n You can put images thumbnails within those links.\n </p>\n <p>\n Image captions are adressed to the <span>title</span> atribute, while the <span>data-chocolat-title</span> attribute of the parent, correspond to the set title.\n <br> Links must have the css class <span>chocolat-image</span>.\n </p>\n </div>\n </div>\n </div>\n <div class=\"gist-container\">\n <div class=\"gist-meta\">\n <p class=\"label\">Between body tags (example with thumbnails)</p>\n <a target=\"_blank\" href=\"https://gist.github.com/nicolas-t/7b57c8a38221263ae9bb\" class=\"on-github\">view file on github</a>\n </div>\n \n </div>\n <div class=\"calling-script\">\n <div class=\"row\">\n <div class=\"col-5\">\n <h5>\n Calling the\n <span class=\"blue\">script </span>\n </h5>\n <p>\n Finally, we call the script that will enable navigation\n </p>\n <p>\n The call is as follows: <br>\n <span>$('selector').Chocolat()</span>\n </p>\n <p>\n If you want to embrace the full power of chocolat\n <a href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">check the documentation</a>\n </p>\n </div>\n <div class=\"col-6 offset-1\">\n <div class=\"gist-container\">\n <div class=\"gist-meta\">\n <p class=\"label\">Between script tags </p>\n <a href=\"https://gist.github.com/nicolas-t/b79afaefd41e1c258e4c\" target=\"_blank\" class=\"on-github\">view file on github</a>\n </div>\n \n </div>\n </div>\n </div>\n </div>\n <div class=\"page-ready\">\n <div class=\"row\">\n <div class=\"col-5\">\n <h5>\n Page is\n <span class=\"blue\">ready !</span>\n </h5>\n <p>\n If you do not understand the subtleties of the installation,\n </p>\n <p>\n try using the sample page provided in the archive.\n </p>\n </div>\n \n </div>\n\n </div>\n </div>\n </div>\n </div>\n <div class=\"bg bg-5\" id=\"download\">\n <div class=\"scrollsections section-5\">\n <div class=\"right-container\">\n <div class=\"download-wrapper\">\n <a target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/releases/0.4.14\" class=\"row\">\n <div class=\"col-5\">\n <div class=\"icon-part\">\n \n <p class=\"text\">\n download <br>\n chocolat.js\n </p>\n </div>\n </div>\n <div class=\"col-7\">\n <p class=\"text-part\">\n Current version is <strong>0.4.14</strong> <br>\n Licensed under a Creative Commons Attribution-ShareAlike 2.0 France.\n </p>\n </div>\n </a>\n <a href=\"https://github.com/nicolas-t/Chocolat/\" target=\"_blank\" class=\"row\">\n <div class=\"col-5\">\n <div class=\"icon-part\">\n \n <p class=\"text\">\n fork it <br>\n on github\n </p>\n </div>\n </div>\n <div class=\"col-7\">\n <p class=\"text-part\">\n Fork this site on GitHub, improve it, run <span>$ gulp test</span> and submit a pull request \\o/\n </p>\n </div>\n </a>\n <div class=\"row last credit\">\n <div class=\"col-5\">\n <a href=\"mailto:nicolas(at)insipi.de\" target=\"_blank\" class=\"animated unpx black\">CONTACT</a> <br>\n <a href=\"http://chocolat.insipi.de/#demo\" class=\"animated unpx black\">MAKE A DONATION</a> <br>\n </div>\n <div class=\"col-7\">\n <div class=\"authors\">\n <div class=\"left\">\n Plugin developed by <br>\n <a href=\"http://nicolasturlais.com\" class=\"blue animated unpx\">NICOLAS T.</a>\n </div>\n <div class=\"left\">\n website designed by <br>\n <a href=\"http://maximechillemi.com\" class=\"blue animated unpx\">maxime chillemi</a>\n </div>\n <a href=\"http://chocolat.insipi.de/\" class=\"right gototop\"></a>\n </div>\n </div>\n </div>\n </div>\n </div>\n </div>\n </div>\n </div>\n </div>\n <div class=\"nav-wrapper\">\n <div class=\"nav white home\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n <div class=\"nav blue features\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n <div class=\"nav black settings\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n <div class=\"nav none\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n <div class=\"nav white getting-started\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n <div class=\"nav white download\">\n <div class=\"nav-content\">\n <h3><a class=\"animated\" href=\"http://chocolat.insipi.de/#home\">chocolat.js</a></h3>\n <h6>\n jquery <br>\n lightbox <br>\n candy\n </h6>\n <div class=\"stuck-bottom\">\n <ul class=\"links\">\n <li class=\"link\"><a class=\"animated unpx features\" href=\"http://chocolat.insipi.de/#features\">features</a></li>\n <li class=\"link\"><a class=\"animated unpx settings\" href=\"http://chocolat.insipi.de/#settings\">settings</a></li>\n <li class=\"link\"><a class=\"animated unpx demo\" href=\"http://chocolat.insipi.de/#demo\">demo</a></li>\n <li class=\"link\"><a class=\"animated unpx getting-started\" href=\"http://chocolat.insipi.de/#getting-started\">getting started</a></li>\n <li class=\"link\"><a class=\"animated unpx download\" href=\"http://chocolat.insipi.de/#download\">download</a></li>\n <li class=\"link\"><a class=\"animated unpx documentation\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat/blob/master/readme.md\">documentation \u221d</a></li>\n <li class=\"link\"><a class=\"animated unpx\" target=\"_blank\" href=\"https://github.com/nicolas-t/Chocolat\">github \u221d</a></li>\n </ul>\n\n <div class=\"download-section\">\n <a href=\"http://chocolat.insipi.de/#download\" class=\"animated\">download</a> <br>\n <span class=\"version\">version 0.4.14</span>\n </div>\n </div>\n</div> </div>\n </div>\n\n <div class=\"controls clone-source\">\n <div class=\"phantom-box left\">\n <p class=\"main-link trigger-full-window-default\">\n <span class=\"animated white\">\n Full window\n </span>\n </p>\n <div class=\"sublinks per-two\">\n <p class=\"sublink trigger-full-window-contain\">\n <span class=\"animated white\">\n contain\n </span>\n </p>\n <p class=\"sublink last trigger-full-window-cover\">\n <span class=\"animated white\">\n cover\n </span>\n </p>\n </div>\n </div>\n <div class=\"phantom-box right active has-secondary\">\n <p class=\"main-link trigger-container-default active\">\n <span>\n Container\n </span>\n </p>\n <div class=\"sublinks per-two\">\n <p class=\"sublink trigger-container-contain active\">\n <span class=\"animated white\">\n contain\n </span>\n </p>\n <p class=\"sublink last trigger-container-cover\">\n <span class=\"animated white\">\n cover\n </span>\n </p>\n </div>\n </div>\n </div>\n \n \n \n \n \n \n \n \n \n \n </div>\n"
    }, {
        "title": "The Incomplete Collection of\nNode.js Performance Tips \u2014 Node and Beyond",
        "url": "https://medium.com/node-and-beyond/the-incomplete-collection-of-node-js-performance-tips-94cc712661bd",
        "excerpt": "This is a (non-comprehensive) collection of practical advice on how to get more performance out of your Node.js application. While the points I am making below are just some of the more obvious&hellip;",
        "date_saved": "Thu Jul 28 20:07:39 EDT 2016",
        "html_file": "the_incomplete_collection_ofnnodejs_performance_tips_u2014_node_and_beyond.html",
        "png_file": "the_incomplete_collection_ofnnodejs_performance_tips_u2014_node_and_beyond.png",
        "md_file": "the_incomplete_collection_ofnnodejs_performance_tips_u2014_node_and_beyond.md",
        "content": "<div score=\"17.5\"><section name=\"5329\" class=\" section--body section--first\" score=\"41.25\"><div class=\"section-content\" score=\"32.5\"><div class=\"section-inner layoutSingleColumn\" score=\"11.5\"><figure name=\"fdbf\" id=\"fdbf\" class=\"graf--figure\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*1dI8vwqQTqVVhDy75ugc9A.png\"></div></figure><p name=\"c8b4\" id=\"c8b4\" class=\"graf--p\">This is a (non-comprehensive) collection of practical advice on how to get more performance out of your Node.js application. While the points I am making below are just some of the more obvious<strong class=\"markup--strong markup--p-strong\"> </strong>performance boosting tips, I will try to keep a more detailed list maintained on GitHub (if people like it). But let&#x2019;s jump right into it:</p><p name=\"cd76\" id=\"cd76\" class=\"graf--p\">Node.js is single threaded (duh). So an instance of Node runs in a single thread, not taking any advantage of modern multi-core CPUs. Luckily, Node&#x2019;s cluster module allows you to easily launch a whole cluster of Node child processes to better handle the load. (And child processes share the same server ports.)</p><p name=\"7022\" id=\"7022\" class=\"graf--p\">Node&#x2019;s documentation gives an excellent and easy to read starting point on how to get started with clusters: <a href=\"https://nodejs.org/api/cluster.html\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">https://nodejs.org/api/cluster.html</a></p><p name=\"050c\" id=\"050c\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">Beyond better performance, clusters will have the added benefit of improving the resilience of your application. The &#x2018;master&#x2019; process knows when a child processes crashes, and routes traffic to other child processes until the crashed process gets restarted.</em></p><p name=\"6dd3\" id=\"6dd3\" class=\"graf--p\">An often overlooked or forgotten middleware is you can use with express is compression. It uses <strong class=\"markup--strong markup--p-strong\">gzip</strong> to compress your http payload sent to the client.</p><pre name=\"a1ce\" id=\"a1ce\" class=\"graf--pre\">var app = require('express')();<br>var compression = require('compression');<br>app.use(compression());</pre><p name=\"5772\" id=\"5772\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">Make sure that you load compression </em><strong class=\"markup--strong markup--p-strong\"><em class=\"markup--em markup--p-em\">before</em></strong><em class=\"markup--em markup--p-em\"> any other middleware.</em></p><p name=\"b0f9\" id=\"b0f9\" class=\"graf--p\">Unlike most server-based applications, Node.js apps will often be designed to run permanently. If that is the case for you, consider setting your most used variables &amp; objects just once at initialization and keep reusing them for any incoming requests down the line. Think of something like &#x201C;the top 5 articles of the week&#x201D; your users will see on your frontpage.<br>Do you really need to update that content <em class=\"markup--em markup--p-em\">every</em> time a user visits your page? If not, you can cache it:</p><pre name=\"7f91\" id=\"7f91\" class=\"graf--pre\">app.set('view cache', true);</pre><p name=\"2c6d\" id=\"2c6d\" class=\"graf--p\">Do you make use of http PUT/DELETE requests? If not, disable <em class=\"markup--em markup--p-em\">methodOverride</em>. If you don&#x2019;t even use POST requests (maybe your app does everything via sockets) you can even get rid of the <em class=\"markup--em markup--p-em\">bodyParser </em>too.</p><p name=\"4f95\" id=\"4f95\" class=\"graf--p\">Take a close look which middleware you actually need, and which you can work without of.</p><p name=\"545e\" id=\"545e\" class=\"graf--p\">And some middleware might only be needed in a specific environment mode. For those cases you can do something like this:</p><pre name=\"364c\" id=\"364c\" class=\"graf--pre\">if (app.get('env') !== 'production') {<br> app.use(morgan);<br>}</pre><p name=\"877c\" id=\"877c\" class=\"graf--p\">Express sessions are saved in memory. Your memory footprint grows with every additional user connected. This can add quite a bit of overhead to your application.</p><p name=\"d490\" id=\"d490\" class=\"graf--p\">Try to limit your use of session variables. Better to use hashed tokens and fetch user data from an alternative session store such as MongoDB or Redis.</p><p name=\"b84b\" id=\"b84b\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">But if you are brave enough you might even want to consider to not store any state server-side at all, but dive into client side sessions. For that, take a look at this: </em><a href=\"https://github.com/mozilla/node-client-sessions\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><em class=\"markup--em markup--p-em\">https://github.com/mozilla/node-client-sessions</em></a></p><p name=\"4327\" id=\"4327\" class=\"graf--p\">Probably the single biggest advantage of Node.js (besides server side javascript execution itself of course) is it&#x2019;s asynchronous nature.</p><p name=\"245d\" id=\"245d\" class=\"graf--p\">Being single-threaded, your Node.js application can easily getblocked by synchronous code execution taking too long to return. If incoming requests can&#x2019;t get processed anymore, your application is rendered de-facto useless.</p><p name=\"41b5\" id=\"41b5\" class=\"graf--p\">Think about some especially time, memory, or CPU intensive tasks. For instance accessing, reading or writing large files. If there is no absolutely, critical, unavoidable reason, you should <strong class=\"markup--strong markup--p-strong\"><em class=\"markup--em markup--p-em\">always</em></strong> use async over sync.</p><p name=\"0e07\" id=\"0e07\" class=\"graf--p\">But keep asynchronous support also in mind when choosing external libraries and components. Make sure they are not potentially blocking your application.</p><p name=\"f60f\" id=\"f60f\" class=\"graf--p\">Revisit your codebase and find chained async callbacks and think if you can run those functions parallel. For instance: You need to read 2 files before executing a callback. This can be done way better than chaining callbacks.</p><p name=\"73cd\" id=\"73cd\" class=\"graf--p\"><strong class=\"markup--strong markup--p-strong\">The <em class=\"markup--em markup--p-em\">async</em> module</strong> allows you to run functions parallel without the need of chaining them in callbacks. Here the code example for async.parallel:</p><pre name=\"b4c6\" id=\"b4c6\" class=\"graf--pre\">async.parallel([<br> function(){ ... },<br> function(){ ... }<br>], callback);</pre><p name=\"3c07\" id=\"3c07\" class=\"graf--p\">Awesome, right? You get one callback executed after all parallel running functions finished. Take a look at the documentation for more details: <a href=\"https://github.com/caolan/async\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">https://github.com/caolan/async</a></p><p name=\"684e\" id=\"684e\" class=\"graf--p\"><strong class=\"markup--strong markup--p-strong\">Bluebird and Q</strong> are known first and foremost for giving us promises. But they also let us execute code parallel returning a promise (um.. callback-ish) after all promises (um&#xA0;.. promisified functions) returned.<br>Let&#x2019;s look at an example for bluebird:</p><pre name=\"6343\" id=\"6343\" class=\"graf--pre\">Bluebird.all([promiseFunction1,promiseFunction2]) <br> .then(function(data) {<br> // will execute after all promisified functions returned<br> });</pre><p name=\"3740\" id=\"3740\" class=\"graf--p\"><strong class=\"markup--strong markup--p-strong\">ES 6</strong> has a native support for promises and likewise provide a&#xA0;<em class=\"markup--em markup--p-em\">.all()</em> method. Depending on your Node version, you might have already support for it.</p><pre name=\"5a18\" id=\"5a18\" class=\"graf--pre\">Promise.all([promiseFunction1, promiseFunction1])<br> .then(function(data) {<br> // will execute after all promisified functions returned<br> });</pre><p name=\"1c3c\" id=\"1c3c\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">If for whatever reason you do not want to use any of the options above, you could also use following approach. But this does not scale well for obvious reasons. Really, you shouldn't do that.</em></p><figure name=\"0dc8\" id=\"0dc8\" class=\"graf--figure graf--iframe\" score=\"-13.75\"></figure><p name=\"a94b\" id=\"a94b\" class=\"graf--p\">If you come from a traditional web development side to Node.js, you are probably used to working with libraries such as <a href=\"http://underscorejs.org/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">underscore</a> or <a href=\"https://lodash.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">lodash</a> to take advantage of higher order functions (think of <em class=\"markup--em markup--p-em\">_.each</em>,<em class=\"markup--em markup--p-em\"> _.map</em>, etc..)</p><p name=\"335f\" id=\"335f\" class=\"graf--p\">Those libraries are written with the <strong class=\"markup--strong markup--p-strong\">front-end</strong> in mind, and that means they include a sizable chunk of code that makes sure everything works as it should in a variety of browser environment: From Chrome to Safari, from Firefox to IE, plus&#xA0;.. polyfills (Yeah, we are looking at you IE).</p><p name=\"9494\" id=\"9494\" class=\"graf--p\">Which is <strong class=\"markup--strong markup--p-strong\">great</strong>, but also means those libraries contain a lot of additional code that you do not need&#x200A;&#x2014;&#x200A;not server-side anyways. So before adding yet another module and adding to your resource footprint, try taking advantage of V8 native functions instead, such as <em class=\"markup--em markup--p-em\">forEach</em>, <em class=\"markup--em markup--p-em\">map</em>, etc.</p><p name=\"6c8c\" id=\"6c8c\" class=\"graf--p\">If you are working with MongoDB as your database of choice, I have two easy recommendations that could improve your performance quite a bit. (And you should be able to fairly easy retrofit your already existing apps)</p><ol class=\"postList\"><li name=\"c15d\" id=\"c15d\" class=\"graf--li\">limit queries in &#x2018;scope&#x2019; whenever possible, and</li><li name=\"a0b9\" id=\"a0b9\" class=\"graf--li\">add indices to collections which are queried often</li></ol><p name=\"a8cc\" id=\"a8cc\" class=\"graf--p\">Imagine you want to display the last 10 posts of a user whenever the user visits your site. First, it is obvious that will want to index your collections accordingly, but you should also make sure to limit your MongoDB queries in &#x2018;scope&#x2019;. This can mean 2 things: First, to limit the fields you want returned, and secondly (maybe more importantly) to limit the number of documents returned. Take a look at these example snippets from the MongoDB documentation:</p><pre name=\"9bec\" id=\"9bec\" class=\"graf--pre\">db.user.find({ type: 'customer' }, { item: 10, qty: 1 } );</pre><pre name=\"33e4\" id=\"33e4\" class=\"graf--pre\">db.user.find({ type: 'customer' }).limit(10);</pre><p name=\"182c\" id=\"182c\" class=\"graf--p\">Makes sense? Also dig into the MongoDB&#x2019;s documentation on creating and working with indices in Node: <a href=\"http://docs.mongodb.org/getting-started/node/indexes/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">http://docs.mongodb.org/getting-started/node/indexes/</a></p><p name=\"5cd1\" id=\"5cd1\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">Btw: I highly recommend Mongo University&#x2019;s course: &#x201C;</em><a href=\"https://university.mongodb.com/courses/M101JS/about\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><em class=\"markup--em markup--p-em\">MongoDB for Node.js Developers</em></a><em class=\"markup--em markup--p-em\">&#x201D; Believe me, it&#x2019;s </em><strong class=\"markup--strong markup--p-strong\"><em class=\"markup--em markup--p-em\">super</em></strong><em class=\"markup--em markup--p-em\"> </em><strong class=\"markup--strong markup--p-strong\"><em class=\"markup--em markup--p-em\">awesome</em></strong><em class=\"markup--em markup--p-em\">!</em></p><p name=\"80f1\" id=\"80f1\" class=\"graf--p\">Instead of using server side rendering such Express&#x2019; Jade templating, move to client side rendering using <a href=\"http://facebook.github.io/react/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">React</a>, <a href=\"https://angularjs.org/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">AngularJS</a> or <a href=\"http://backbonejs.org/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Backbone.js</a> and have the server provide only the dynamic content really needed. &#x2018;Outsourcing&#x2019; rendering to the client can <strong class=\"markup--strong markup--p-strong\">seriously</strong> improve your application&#x2019;s performance.</p><p name=\"70b1\" id=\"70b1\" class=\"graf--p\">Wherever possible you should avoid using Node.js for serving your static assets. Those include anything from Images, Videos or CSS files.</p><p name=\"5073\" id=\"5073\" class=\"graf--p\">To improve both, performance of your application and client latency, I recommend a combination of a separate standard web server, such as Nginx, plus taking advantage of Content Delivery Networks (CDNs) to cache and provide those static assets as close to the user as possible.</p><p name=\"ed46\" id=\"ed46\" class=\"graf--p\"><em class=\"markup--em markup--p-em\">Personally I have had excellent experiences with Rackspace for both.<br>Check them out: </em><a href=\"http://www.rackspace.com\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><em class=\"markup--em markup--p-em\">www.rackspace.com</em></a></p><p name=\"0d9b\" id=\"0d9b\" class=\"graf--p\">There is a lot to be said for the beauty of clean code following <a href=\"https://github.com/airbnb/javascript\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">fancy style guides</a>. But there is more to be said for reducing load and latency&#x200A;&#x2014;&#x200A;at least in production.</p><p name=\"4f3f\" id=\"4f3f\" class=\"graf--p\">Make it a habit to use <a href=\"http://gulpjs.com\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Gulp</a> or <a href=\"http://gruntjs.com\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Grunt</a> to run tasks to <a href=\"https://github.com/mishoo/UglifyJS2/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">uglify your javascript</a> and <a href=\"https://github.com/purifycss\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">purify your CSS</a>. I personally am becoming a bit of a fan of webpack to bundle everything together as well: <a href=\"http://webpack.github.io/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">http://webpack.github.io/</a></p><p name=\"03ee\" id=\"03ee\" class=\"graf--p\">This is quite new territory for me, but it is probably fair to say that it&#x2019;s a good idea to keep close look at your application&#x2019;s performance during development. I haven't tested them all, (though I made good experiences with New Relic) but here the recommendations I got from others:</p><p name=\"090c\" id=\"090c\" class=\"graf--p graf--last\"><em class=\"markup--em markup--p-em\">Sidenote: Node.js applications in production mode run with higher performance than in development. You can run your app in production mode to get a sense of the performance once your application is deployed.</em></p></div></div></section><section name=\"1eb5\" class=\" section--body section--last\" score=\"41.25\"><div class=\"section-content\" score=\"31.25\"><div class=\"section-inner layoutSingleColumn\"><blockquote name=\"a6cf\" id=\"a6cf\" class=\"graf--pullquote pullquote graf--first\">If you found this post in any way useful, please leave a &#x2665;&#xA0;.</blockquote><blockquote name=\"7954\" id=\"7954\" class=\"graf--pullquote pullquote graf--last\">Thanks&#xA0;:)</blockquote></div></div></section></div>"
    }, {
        "title": "Develop command line application using NodeJS",
        "url": "https://codeforgeek.com/2015/09/command-line-application-nodejs/",
        "excerpt": "Node.js provides utilities to develop command line application. There are some cool application like express-geenrator and nodemo",
        "date_saved": "Thu Jul 28 20:07:40 EDT 2016",
        "html_file": "develop_command_line_application_using_nodejs.html",
        "png_file": "develop_command_line_application_using_nodejs.png",
        "md_file": "develop_command_line_application_using_nodejs.md",
        "content": "<div><div class=\"td-post-content td-pb-padding-side\"><div class=\"td-post-featured-image\"><a href=\"https://codeforgeek.com/wp-content/uploads//2015/09/banner.jpg?07add7\"><img width=\"640\" class=\"entry-thumb td-modal-image\" src=\"https://codeforgeek.com/wp-content/uploads//2015/09/banner-640x216.jpg?07add7\" alt=\"Develop speedtest command line app using Node\" title=\"Develop speedtest command line app using Node\"></a></div><div class=\"td-a-rec td-a-rec-id-content_top \"><a target=\"_blank\" href=\"http://shareasale.com/r.cfm?b=451343&amp;u=1152768&amp;m=43811&amp;urllink=&amp;afftrack=\"><img src=\"https://i.shareasale.com/image/43811/728x902.png\" border=\"0\" alt=\"Learn Web Design, Coding &amp; More. No Risk. No Contracts. Learn More\"></a></div><p>Node.js provides utilities to develop command line application. There are some cool application like <strong>express-geenrator</strong> and <strong><a href=\"http://codeforgeek.com/2014/09/update-code-without-restarting-node-server/\" target=\"_blank\">nodemon</a></strong> which runs on command line.</p><p>In this tutorial we will learn how to use command line utilities in Node and develop sample internet speed test program using <strong>speedtest.net</strong> API.</p> <figure id=\"attachment_1700\" class=\"wp-caption aligncenter\"><img src=\"https://codeforgeek.com/wp-content/uploads//2015/09/speedtest.gif?07add7\" alt=\"speedtest command line app\" width=\"1204\" class=\"size-full wp-image-1700\"><figcaption class=\"wp-caption-text\">npm install speedtestcli -g</figcaption></figure><p>==&gt; Download it using <strong>npm install speedtestcli -g</strong> and test internet speed on your terminal.</p><a class=\"button-rounded button-flat\" href=\"https://github.com/codeforgeek/speed-test-cli\" target=\"_blank\"><i class=\"fa fa-github\"></i>DOWNLOAD</a><h2>Basic Hello %Your Name% Command line App.</h2><p>This example will take your name as input and gives you output right in console with greeting. Let&#x2019;s first write a code to print <strong>&#x201C;Hello World&#x201D;</strong> in code.</p><p class=\"file_name\"><strong>cli.js</strong></p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\">console.<span class=\"me1\">log</span><span class=\"br0\">(</span><span class=\"st0\">\"Hello World\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span></p></div><p>If you save the code and run it via Node using.</p><p>You will be able to see the output in console. But this is not what we want. We want our input go like this.</p><p>And it should print</p><p>Let&#x2019;s develop this. First create <strong>package.json</strong> using <strong>npm init</strong> command OR you can copy this.</p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\"><span class=\"br0\">{</span><br> &#xA0; <span class=\"st0\">\"name\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"HelloWorld\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"version\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"1.0.0\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"description\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"author\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"license\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"ISC\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"bin\"</span><span class=\"sy0\">:</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; <span class=\"st0\">\"sayHello\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"cli.js\"</span><br> &#xA0; <span class=\"br0\">}</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"dependencies\"</span><span class=\"sy0\">:</span> <span class=\"br0\">{</span><span class=\"br0\">}</span><br> <span class=\"br0\">}</span></p></div><p>Did you notice this line.</p><div class=\"codecolorer-container text twitlight\"><p class=\"text codecolorer\">&#xA0; \"bin\": {<br> &#xA0; &#xA0; \"sayHello\": \"cli.js\"<br> &#xA0; }</p></div><p>This line tells Node to execute particular file on this command. So its syntax is.</p><div class=\"codecolorer-container text twitlight\"><p class=\"text codecolorer\">\"bin\" : {<br> &#xA0; &#xA0;\"your-command\" : \"file-to-execute\"<br> }</p></div><p>We need to modify cli.js to following.</p><p class=\"file_name\"><strong>cli.js</strong></p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\">console.<span class=\"me1\">log</span><span class=\"br0\">(</span><span class=\"st0\">\"Hello\"</span><span class=\"sy0\">,</span>process.<span class=\"me1\">argv</span><span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span></p></div><p>Save the code and run it using following command.</p><p>It will print</p><p>On screen.</p><p>To make it command line you need to add following in start of the main script.</p><p>Above line tell the System that the script should be executed with the first executable named <strong>node</strong> that&#x2019;s found in your current PATH. <strong>/bin/env</strong> is standard Unix utility that looks at your current environment.<br> So final code should be like this.</p><p class=\"file_name\"><strong>cli.js</strong></p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\">#<span class=\"sy0\">!/</span>usr<span class=\"sy0\">/</span>bin<span class=\"sy0\">/</span>env node<br> console.<span class=\"me1\">log</span><span class=\"br0\">(</span><span class=\"st0\">\"Hello\"</span><span class=\"sy0\">,</span>process.<span class=\"me1\">argv</span><span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span></p></div><p>Now run following command to install it in your system as a command line application.</p><p>This is it. Once it is installed you can access it using following command on terminal.</p><h3>Developing Speedtest command line app.</h3><p>We all know and use <strong>speedtest.net</strong> frequently to check Download and upload speed. They do provide web services too for external integration of speedtest features.</p><p>There is node module which wraps the API provided by speedtest.net ( Thanks to @ddsol for this ) called <strong>speedtest-net</strong>. We will be using that to develop our command line application.</p><p>Let&#x2019;s begin with Package.json file. Use <strong>npm init</strong> to Generate package.json for your application ( It&#x2019;s a good practice ). You may specify dependencies in the wizard or hit enter to get package.json with basic information.</p><p>You can install dependencies using.</p><div class=\"codecolorer-container text twitlight\"><p class=\"text codecolorer\">npm install chalk progress speedtest-net --save</p></div><p>Here is my package.json.</p><p class=\"file_name\"><strong>package.json</strong></p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\"><span class=\"br0\">{</span><br> &#xA0; <span class=\"st0\">\"name\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"speedTestCLI\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"version\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"1.0.0\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"description\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"author\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"license\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"ISC\"</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"bin\"</span><span class=\"sy0\">:</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; <span class=\"st0\">\"speedtest\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"index.js\"</span><br> &#xA0; <span class=\"br0\">}</span><span class=\"sy0\">,</span><br> &#xA0; <span class=\"st0\">\"dependencies\"</span><span class=\"sy0\">:</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; <span class=\"st0\">\"chalk\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"^1.1.1\"</span><span class=\"sy0\">,</span><br> &#xA0; &#xA0; <span class=\"st0\">\"progress\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"^1.1.8\"</span><span class=\"sy0\">,</span><br> &#xA0; &#xA0; <span class=\"st0\">\"speedtest-net\"</span><span class=\"sy0\">:</span> <span class=\"st0\">\"^1.0.3\"</span><br> &#xA0; <span class=\"br0\">}</span><br> <span class=\"br0\">}</span></p></div><p>Install dependencies by using following command if you have not done already.</p><p>For ease, i select <strong>speedtest</strong> as command. You can change it as per your preference. Let&#x2019;s write some code for main file.</p><p class=\"file_name\"><strong>index.js</strong></p><div class=\"codecolorer-container javascript twitlight\"><p class=\"javascript codecolorer\">#<span class=\"sy0\">!/</span>usr<span class=\"sy0\">/</span>bin<span class=\"sy0\">/</span>env node<br> <span class=\"kw2\">var</span> speedTest &#xA0; &#xA0;<span class=\"sy0\">=</span> &#xA0;require<span class=\"br0\">(</span><span class=\"st0\">'speedtest-net'</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"kw2\">var</span> ProgressBar &#xA0;<span class=\"sy0\">=</span> &#xA0;require<span class=\"br0\">(</span><span class=\"st0\">'progress'</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"kw2\">var</span> chalk &#xA0; &#xA0; &#xA0; &#xA0;<span class=\"sy0\">=</span> &#xA0;require<span class=\"br0\">(</span><span class=\"st0\">\"chalk\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"kw2\">var</span> test <span class=\"sy0\">=</span> speedTest<span class=\"br0\">(</span><span class=\"br0\">{</span>maxTime<span class=\"sy0\">:</span><span class=\"nu0\">5000</span><span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"kw2\">var</span> bar<span class=\"sy0\">,</span>pingTime<span class=\"sy0\">;</span><br> <br> <span class=\"co1\">// Event triggered when best Server is found.</span><br> <br> test.<span class=\"me1\">on</span><span class=\"br0\">(</span><span class=\"st0\">'testserver'</span><span class=\"sy0\">,</span><span class=\"kw2\">function</span><span class=\"br0\">(</span>server<span class=\"br0\">)</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; pingTime <span class=\"sy0\">=</span> server.<span class=\"me1\">bestPing</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"co1\">// Invoke every time when download speed check begin</span><br> <span class=\"co1\">// Return completion value in percentage</span><br> <br> test.<span class=\"me1\">on</span><span class=\"br0\">(</span><span class=\"st0\">'downloadprogress'</span><span class=\"sy0\">,</span><span class=\"kw2\">function</span><span class=\"br0\">(</span>pct<span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; prog<span class=\"br0\">(</span><span class=\"st0\">'Checking Download Speed '</span><span class=\"sy0\">,</span>pct<span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"co1\">// Invoke every time when upload speed check begin</span><br> <span class=\"co1\">// Return completion value in percentage</span><br> <br> test.<span class=\"me1\">on</span><span class=\"br0\">(</span><span class=\"st0\">'uploadprogress'</span><span class=\"sy0\">,</span><span class=\"kw2\">function</span><span class=\"br0\">(</span>pct<span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; prog<span class=\"br0\">(</span><span class=\"st0\">'Checking Upload Speed '</span><span class=\"sy0\">,</span>pct<span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"co1\">// Invoke When final data recieved</span><br> <br> test.<span class=\"me1\">on</span><span class=\"br0\">(</span><span class=\"st0\">'data'</span><span class=\"sy0\">,</span><span class=\"kw2\">function</span><span class=\"br0\">(</span>data<span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; console.<span class=\"me1\">log</span><span class=\"br0\">(</span>chalk.<span class=\"me1\">cyan</span><span class=\"br0\">(</span><span class=\"st0\">\"Ping : \"</span><span class=\"br0\">)</span><span class=\"sy0\">,</span>Math.<span class=\"me1\">abs</span><span class=\"br0\">(</span>pingTime<span class=\"br0\">)</span><span class=\"sy0\">,</span>chalk.<span class=\"me1\">dim</span><span class=\"br0\">(</span><span class=\"st0\">'ms'</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; console.<span class=\"me1\">log</span><span class=\"br0\">(</span>chalk.<span class=\"me1\">cyan</span><span class=\"br0\">(</span><span class=\"st0\">\"Download Speed : \"</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> data.<span class=\"me1\">speeds</span>.<span class=\"me1\">download</span> <span class=\"sy0\">+</span> chalk.<span class=\"me1\">dim</span><span class=\"br0\">(</span><span class=\"st0\">\" MBps\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; console.<span class=\"me1\">log</span><span class=\"br0\">(</span>chalk.<span class=\"me1\">cyan</span><span class=\"br0\">(</span><span class=\"st0\">\"Upload Speed : \"</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> data.<span class=\"me1\">speeds</span>.<span class=\"me1\">upload</span> <span class=\"sy0\">+</span> chalk.<span class=\"me1\">dim</span><span class=\"br0\">(</span><span class=\"st0\">\" MBps\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"co1\">// in case of error, exit.</span><br> <br> test.<span class=\"me1\">on</span><span class=\"br0\">(</span><span class=\"st0\">'error'</span><span class=\"sy0\">,</span><span class=\"kw2\">function</span><span class=\"br0\">(</span>error<span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; process.<span class=\"me1\">exit</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <br> <span class=\"coMULTI\">/*<br> &#xA0; &#xA0; function : prog<br> &#xA0; &#xA0; params : type and percentage.<br> &#xA0; &#xA0; task : update the progress bar.<br> */</span><br> <br> <span class=\"kw2\">function</span> prog<span class=\"br0\">(</span>what<span class=\"sy0\">,</span>pct<span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; <span class=\"co1\">// if its completed, terminate current progress.</span><br> &#xA0; &#xA0; <span class=\"kw1\">if</span> <span class=\"br0\">(</span>pct<span class=\"sy0\">&gt;=</span><span class=\"nu0\">100</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br> &#xA0; &#xA0; &#xA0; &#xA0; <span class=\"kw1\">if</span> <span class=\"br0\">(</span>bar<span class=\"br0\">)</span> bar.<span class=\"me1\">terminate</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; &#xA0; &#xA0; bar<span class=\"sy0\">=</span><span class=\"kw2\">null</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; &#xA0; &#xA0; <span class=\"kw1\">return</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; <span class=\"br0\">}</span><br> &#xA0; &#xA0; <span class=\"co1\">// if bar object is not created</span><br> &#xA0; &#xA0; <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>bar<span class=\"br0\">)</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; &#xA0; &#xA0; <span class=\"kw2\">var</span> green <span class=\"sy0\">=</span> <span class=\"st0\">'<span class=\"es0\">\\u</span>001b[42m <span class=\"es0\">\\u</span>001b[0m'</span><span class=\"sy0\">,</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; red <span class=\"sy0\">=</span> <span class=\"st0\">'<span class=\"es0\">\\u</span>001b[41m <span class=\"es0\">\\u</span>001b[0m'</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; &#xA0; &#xA0; bar <span class=\"sy0\">=</span> <span class=\"kw2\">new</span> ProgressBar<span class=\"br0\">(</span><span class=\"st0\">' '</span><span class=\"sy0\">+</span>what<span class=\"sy0\">+</span><span class=\"st0\">' [:bar] :percent'</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; complete<span class=\"sy0\">:</span> green<span class=\"sy0\">,</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; incomplete<span class=\"sy0\">:</span> red<span class=\"sy0\">,</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; clear<span class=\"sy0\">:</span> <span class=\"kw2\">true</span><span class=\"sy0\">,</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; width<span class=\"sy0\">:</span><span class=\"nu0\">40</span><span class=\"sy0\">,</span><br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; total<span class=\"sy0\">:</span> <span class=\"nu0\">100</span><br> &#xA0; &#xA0; &#xA0; &#xA0; <span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> &#xA0; &#xA0; <span class=\"br0\">}</span><br> &#xA0; &#xA0; <span class=\"co1\">// else update the bar with coming value.</span><br> &#xA0; &#xA0; bar.<span class=\"me1\">update</span><span class=\"br0\">(</span>pct<span class=\"sy0\">/</span><span class=\"nu0\">100</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br> <span class=\"br0\">}</span></p></div><p>Run the program using</p><p>Install it in your system using.</p><p>And run your specified command in above case <strong>speedtest</strong> on terminal to see output.<br> <figure id=\"attachment_1700\" class=\"wp-caption aligncenter\"><img src=\"https://codeforgeek.com/wp-content/uploads//2015/09/speedtest.gif?07add7\" alt=\"speedtest command line app\" width=\"1204\" class=\"size-full wp-image-1700\"><figcaption class=\"wp-caption-text\">npm install speedtestcli -g</figcaption></figure></p><h3>Conclusion:</h3><p>We learned how to develop a real-time command line application using Node.js. If you are developing framework OR working with any boilerplate generator application then command line utilities are very useful to you.</p><h3>Further reading:</h3><p><strong><a href=\"https://www.npmjs.com/package/commander\" target=\"_blank\">Commander</a></strong> &#x2013; NPM module designed for simple command line application solution.</p><div class=\"td-a-rec td-a-rec-id-content_bottom \"><div id=\"mc_embed_signup\"><p>* We hate spam a lot and there is no question that will do that ever.</p></div></div></div></div>"
    }, {
        "title": "Using FeathersJS as an open source alternative to Firebase \u2014 All about FeathersJS",
        "url": "https://medium.com/all-about-feathersjs/using-feathersjs-as-an-open-source-alternative-to-firebase-b5d93c200cee",
        "excerpt": "Firebase is a popular backend-as-a-service platform to build mobile or web applications that connect to a RESTful or real-time API. It makes it easy to get an application up and running quickly but&hellip;",
        "date_saved": "Thu Jul 28 20:07:42 EDT 2016",
        "html_file": "using_feathersjs_as_an_open_source_alternative_to_firebase_u2014_all_about_feathersjs.html",
        "png_file": "using_feathersjs_as_an_open_source_alternative_to_firebase_u2014_all_about_feathersjs.png",
        "md_file": "using_feathersjs_as_an_open_source_alternative_to_firebase_u2014_all_about_feathersjs.md",
        "content": "<section name=\"52ca\" class=\" section--body section--first section--last\" score=\"41.25\"><div class=\"section-content\" score=\"32.5\"><div class=\"section-inner layoutSingleColumn\" score=\"-13.75\"><p name=\"2cfa\" id=\"2cfa\" class=\"graf--p\"><a href=\"https://www.firebase.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Firebase</a> is a popular backend-as-a-service platform to build mobile or web applications that connect to a RESTful or real-time API. It makes it easy to get an application up and running quickly but if you are looking for more hosting options (Firebase plans can get pricy and you are locked into the platform) or are curious about full stack development in NodeJS, <a href=\"http://feathersjs.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Feathers</a> is an open source alternative that provides very similar functionality, but giving you much more control.</p><p name=\"933d\" id=\"933d\" class=\"graf--p\">In this post I\u2019d like to show how you can very simply create your own self-hosted clone of the real-time <a href=\"http://hackeryou.github.io/SlackerYou/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">SlackerYou</a> (jQuery + Firebase) chat demo that <a href=\"http://wesbos.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Wes</a> created for <a href=\"http://hackeryou.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">HackerYou</a> but with Feathers instead of Firebase.</p><figure name=\"ac81\" id=\"ac81\" class=\"graf--figure graf--iframe\" score=\"-13.75\"><figcaption class=\"imageCaption\">The SlackerYou jQuery + Firebase chat</figcaption></figure><p name=\"0225\" id=\"0225\" class=\"graf--p\">To get started, let\u2019s clone the <a href=\"https://github.com/HackerYou/SlackerYou%5D\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">SlackerYou repository</a> (or your own fork ) which we will then modify to use our own server.</p><blockquote name=\"294e\" id=\"294e\" class=\"graf--blockquote\">git clone <a href=\"mailto:git@github.com\" class=\"markup--anchor markup--blockquote-anchor\" rel=\"nofollow\">git@github.com</a>:HackerYou/SlackerYou.git<br>cd SlackerYou</blockquote><p name=\"43c6\" id=\"43c6\" class=\"graf--p\">If you want to try out everything right away, clone the <a href=\"https://github.com/feathersjs/SlackerYou\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Feathers SlackerYou</a> by running:</p><blockquote name=\"9fb1\" id=\"9fb1\" class=\"graf--blockquote\">git clone <a href=\"mailto:git@github.com\" class=\"markup--anchor markup--blockquote-anchor\" rel=\"nofollow\">git@github.com</a>:feathersjs/SlackerYou.git<br>cd SlackerYou<br>npm install<br>npm start</blockquote><p name=\"c778\" id=\"c778\" class=\"graf--p\">The server will be available at <a href=\"http://localhost:3030\" class=\"markup--anchor markup--p-anchor\">http://localhost:3030</a></p><p name=\"5560\" id=\"5560\" class=\"graf--p\">Creating a real-time server using Feathers is actually really quick. With <a href=\"https://nodejs.org/en/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">NodeJS</a> installed, in the repository folder we can run</p><blockquote name=\"f120\" id=\"f120\" class=\"graf--blockquote\">npm install feathers body-parser feathers-nedb</blockquote><p name=\"13b0\" id=\"13b0\" class=\"graf--p\">which will install the <a href=\"https://github.com/feathersjs/feathers\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">feathers</a>, <a href=\"https://www.npmjs.com/package/body-parser\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">body-parser</a> (to make it possible to send JSON to the REST API) and <a href=\"https://github.com/feathersjs/feathers-nedb\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">feathers-nedb</a> packages. <a href=\"https://github.com/louischatriot/nedb\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">NEDB</a> is a standalone file-system database so we won\u2019t have to set up our own database server. Putting it all together looks like this:</p><figure name=\"5570\" id=\"5570\" class=\"graf--figure graf--iframe\" score=\"-13.75\"></figure><p name=\"0473\" id=\"0473\" class=\"graf--p\">We create a new Feathers application, enable connecting via REST and websockets (Socket.io in this case) and add the JSON body parser. Then we register a messages service that uses an NEDB database called <em class=\"markup--em markup--p-em\">messages</em>. Last we add a static webserver for the current folder (so that we can host the HTML and JavaScript files) and run everything on port 3030. We can start the server with</p><blockquote name=\"1015\" id=\"1015\" class=\"graf--blockquote\">node app.js</blockquote><p name=\"71f9\" id=\"71f9\" class=\"graf--p\">Our messages endpoint is now running at <a href=\"http://localhost:3030/messages\" class=\"markup--anchor markup--p-anchor\">http://localhost:3030/messages</a> (but currently just showing an empty array).</p><p name=\"4cdd\" id=\"4cdd\" class=\"graf--p\">The SlackerYou client is still talking to Firebase so now it is time to update the HTML and jQuery parts to use our own newly created Feathers server instead. The <strong class=\"markup--strong markup--p-strong\">only</strong> thing to change in <em class=\"markup--em markup--p-em\">index.html</em> is to load Socket.io and feathers-client instead of the Firebase JavaScript:</p><figure name=\"b9ac\" id=\"b9ac\" class=\"graf--figure graf--iframe\" score=\"-13.75\"></figure><p name=\"dca1\" id=\"dca1\" class=\"graf--p\">Next we can update <em class=\"markup--em markup--p-em\">scripts.js</em>. We can re-use almost all of the existing code including the <em class=\"markup--em markup--p-em\">createMessage</em> method that adds a new message with jQuery. What will change is everything that is specific to Firebase. Instead, we first create a Socket.io connection to our server, then create a Feathers client and connect to the <em class=\"markup--em markup--p-em\">messages</em> service:</p><pre name=\"3082\" id=\"3082\" class=\"graf--pre\"><em class=\"markup--em markup--pre-em\">// Create a Socket.io connection</em><br><strong class=\"markup--strong markup--pre-strong\">var</strong> socket = io();<br><em class=\"markup--em markup--pre-em\">// Create a Feathers client that uses that connection</em><br><strong class=\"markup--strong markup--pre-strong\">var</strong> app = feathers().configure(feathers.socketio(socket));<br><em class=\"markup--em markup--pre-em\">// Get the messages service</em><br><strong class=\"markup--strong markup--pre-strong\">var</strong> messages = app.service('messages');</pre><p name=\"f392\" id=\"f392\" class=\"graf--p\">In the form submit handler we just need to replace</p><pre name=\"de55\" id=\"de55\" class=\"graf--pre\">messagesRef.push(message);</pre><p name=\"5334\" id=\"5334\" class=\"graf--p\">With</p><pre name=\"f8ce\" id=\"f8ce\" class=\"graf--pre\">messages.create(message);</pre><p name=\"49c9\" id=\"49c9\" class=\"graf--p\">Then we can replace the bottom of the script with the Feathers way of listening to new messages and getting all messages when a user loads the page:</p><pre name=\"c525\" id=\"c525\" class=\"graf--pre\"><em class=\"markup--em markup--pre-em\">// Add new messages</em><br>messages.on('created', addMessage);</pre><pre name=\"7b8c\" id=\"7b8c\" class=\"graf--pre\"><em class=\"markup--em markup--pre-em\">// Find all existing messages and add them to the page</em><br>messages.find({ $limit: 10 }, <strong class=\"markup--strong markup--pre-strong\">function</strong>(error, messages) {<br> <strong class=\"markup--strong markup--pre-strong\">if</strong>(messages) {<br> messages.forEach(addMessage);<br> }<br>});</pre><p name=\"7198\" id=\"7198\" class=\"graf--p\">Everything put together looks like this:</p><figure name=\"6bbc\" id=\"6bbc\" class=\"graf--figure graf--iframe\" score=\"-13.75\"></figure><p name=\"9220\" id=\"9220\" class=\"graf--p\">That\u2019s it! If you now go to <a href=\"http://localhost:3030/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">http://localhost:3030/</a> you have a working real-time chat that stores its messages in a file database (you can see all messages at <a href=\"http://localhost:3030/messages\" class=\"markup--anchor markup--p-anchor\">http://localhost:3030/messages</a>).</p><p name=\"5b43\" id=\"5b43\" class=\"graf--p\">Now it is time for some polishing. Right now, when a new user comes to the page our chat will always load all messages in no particular order (although it might be by the time of creation it is not guaranteed). The best way to get all messages in the correct order is to add a <em class=\"markup--em markup--p-em\">created_at</em> timestamp to each message on the server and have <em class=\"markup--em markup--p-em\">find</em> always sort the messages by that timestamp (oldest first). Then we also want to only return the last (newest) 10 messages. This is where <a href=\"https://github.com/feathersjs/feathers-hooks\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">feathers-hooks</a> come in. Hooks allow us to hook into a service before or after a service method runs (but before it gets sent to the client). To get hooks we run</p><blockquote name=\"3133\" id=\"3133\" class=\"graf--blockquote\">npm install feathers-hooks</blockquote><p name=\"71e3\" id=\"71e3\" class=\"graf--p\">And then we can register hooks, like adding a <em class=\"markup--em markup--p-em\">created_at</em> timestamp to a message <em class=\"markup--em markup--p-em\">before</em> it gets sent to the database like this:</p><pre name=\"50aa\" id=\"50aa\" class=\"graf--pre\">app.service('messages'). before({<strong class=\"markup--strong markup--pre-strong\"><br> </strong>create: <strong class=\"markup--strong markup--pre-strong\">function</strong>(hook, next) {<br> // Add the created_at date<br> hook.data.created_at = new Date();<br> // Go to the next step (save to database)<br> next();<br> }<br>});</pre><p name=\"3f39\" id=\"3f39\" class=\"graf--p\">The complete server now looks like this:</p><figure name=\"6cca\" id=\"6cca\" class=\"graf--figure graf--iframe\" score=\"-13.75\"></figure><p name=\"6652\" id=\"6652\" class=\"graf--p\">To see the effect of the hooks, let\u2019s delete the old database and restart the server:</p><blockquote name=\"9735\" id=\"9735\" class=\"graf--blockquote\">rm -rf db-data<br>node app.js</blockquote><p name=\"18eb\" id=\"18eb\" class=\"graf--p\">Now we have our own self-hosted real-time chat that only loads the newest 10 messages.</p><p name=\"d679\" id=\"d679\" class=\"graf--p graf--last\">Firebase is great to get up and running quickly without a backend but if you are looking for an open source option with more freedom or are curious about full stack development with NodeJS, Feathers is a great way to get very similar functionality with only a few lines of code. If you want to learn more, for example how to use other databases like MongoDB, write your own services or how to use other JavaScript frameworks to build real-time applications, head over to the <a href=\"http://feathersjs.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Feathers website</a> and <a href=\"http://feathersjs.com/learn/#\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">guides</a>.</p></div></div></section>"
    }, {
        "title": "Top 15 Facebook Open Source Projects You Must Know and use for your Maker\u2019s projects",
        "url": "http://www.open-electronics.org/top-15-facebook-open-source-projects-you-must-know-and-use-for-your-makers-projects/",
        "excerpt": "Facebook contribution to open source can be largely categorized into Mobile, Web, Back-end and Infrastructure. Top open source projects made in these categories are: Mobile: Buck Buck is a high&hellip;",
        "date_saved": "Thu Jul 28 20:07:43 EDT 2016",
        "html_file": "top_15_facebook_open_source_projects_you_must_know_and_use_for_your_makeru2019s_projects.html",
        "png_file": "top_15_facebook_open_source_projects_you_must_know_and_use_for_your_makeru2019s_projects.png",
        "md_file": "top_15_facebook_open_source_projects_you_must_know_and_use_for_your_makeru2019s_projects.md",
        "content": "<div><div id=\"content-area\">\n\n\t\t\t\n\t\t\t<p><img class=\"alignnone \" src=\"http://www.open-electronics.org/wp-content/uploads/2015/09/facebook-open-source-1024x5211.jpg\" alt=\"\" width=\"749\"></p>\n<p>Facebook contribution to open source can be largely categorized into Mobile, Web, Back-end and Infrastructure. Top open source projects made in these categories are:</p>\n<h2>Mobile:</h2>\n<h3>Buck</h3>\n<p><a href=\"https://github.com/facebook/buck\" target=\"_blank\" rel=\"nofollow\">Buck</a> is a high performance build system for Android that encourages creation of small, reusable modules consisting of code and resources. Because Android applications are predominantly written in Java, Buck also functions as a Java build system.</p>\n<h3 class=\"title\">Rebound</h3>\n\n\n<p><a href=\"http://facebook.github.io/origami\" target=\"_blank\" rel=\"nofollow\">Origami</a> is a tool for designing modern user interfaces. Quickly put together a prototype, run it on your iPhone or iPad, iterate on it, and export code snippets your engineers can use.</p>\n<h3>Stetho</h3>\n<p><a href=\"http://facebook.github.io/stetho/\" target=\"_blank\" rel=\"nofollow\">Stetho</a> is an all new&#xA0;debugging platform for Android. It&#xA0;enables the powerful Chrome Developer Tools which is implemented&#xA0;using a client/server protocol which the Stetho software provides for your application. Once your application is integrated, simply navigate to <code>chrome://inspect</code> and click &#x201C;Inspect&#x201D; to get started!</p>\n<h3>Infer</h3>\n<p>Facebook&#xA0;<a href=\"https://github.com/facebook/infer\" target=\"_blank\" rel=\"nofollow\">Infer</a>&#xA0;is a static analysis&#xA0;tool&#xA0;to detect bugs in Android and iOS apps before they ship.&#xA0;If you give Infer some Objective-C, Java, or C code, it produces a list of potential bugs.&#xA0;Anyone can use Infer to intercept critical bugs before they have shipped to people&#x2019;s phones, and help prevent crashes or poor performance.&#xA0;Infer targets critical bugs such as null pointer exceptions, resource leaks and memory leaks.</p>\n<h2>Web:</h2>\n<h3>React Js</h3>\n<p><a href=\"https://facebook.github.io/react/\" target=\"_blank\" rel=\"nofollow\">React Js</a>&#xA0;is a&#xA0;declarative, efficient, and flexible JavaScript library for building user interfaces.&#xA0;Lots of people use React as the V in MVC. Since React makes no assumptions about the rest of your technology stack, it&#x2019;s easy to try it out on a small feature in an existing project.</p>\n<h3>HHVM</h3>\n<p><a href=\"https://github.com/facebook/hhvm\" target=\"_blank\" rel=\"nofollow\">HHVM</a>&#xA0;(Hip Hop VM) is an open-source virtual machine designed for executing programs written in Hack&#xA0;and PHP. HHVM uses a just-in-time (JIT) compilation approach to achieve superior performance while maintaining the development flexibility that PHP provides.&#xA0;It&#xA0;has realized more than a 5x increase in throughput for Facebook compared with Zend PHP 5.2.&#xA0;HipHop is most commonly run as a standalone server, replacing both Apache and modphp, but it can also run standalone scripts from the command line.</p>\n<h3>Flux</h3>\n<p><a href=\"https://github.com/facebook/flux\" target=\"_blank\" rel=\"nofollow\">Flux</a> is the application architecture that Facebook uses for building client-side web applications. It complements React&#x2019;s composable view components by utilizing a unidirectional data flow. It&#x2019;s more of a pattern rather than a formal framework, and you can start using Flux immediately without a lot of new code.</p>\n<h3>Flow</h3>\n<p><a href=\"https://github.com/facebook/flow\" target=\"_blank\" rel=\"nofollow\">Flow</a> adds static typing to JavaScript to improve developer productivity and code quality.&#xA0;The goal of Flow is to find errors in JavaScript code with little programmer effort. Flow relies heavily on <strong>type inference</strong> to find type errors even when the program has not been annotated &#x2013; it precisely tracks the types of variables as they flow through the program.</p>\n<h3>fb-flo</h3>\n<p><a href=\"https://github.com/facebook/fb-flo\" target=\"_blank\" rel=\"nofollow\">fb-flo</a> is a Chrome extension that lets you modify running apps without reloading. It&#x2019;s easy to integrate with your build system, dev environment, and can be used with your favorite editor.</p>\n<h3 class=\"entry-title public\">Jest</h3>\n<p><a href=\"https://github.com/facebook/jest\" target=\"_blank\" rel=\"nofollow\">Jest</a> is unit testing framework for JavaScript. It &#xA0;is built on top of the Jasmine test framework, using familiar expect(value).toBe(other) assertions. It automatically mocks CommonJS modules returned by require(), making most existing code testable.</p>\n<h3>Nuclide</h3>\n<p><a href=\"https://github.com/facebook/nuclide\" target=\"_blank\" rel=\"nofollow\">Nuclide</a> is a&#xA0;suite of packages&#xA0;for <a href=\"https://atom.io/\" target=\"_blank\" rel=\"nofollow\">Atom</a> to provide IDE-like functionality for a variety of programming languages and technologies. It is&#xA0;designed to provide a unified developer experience for engineers throughout the company &#x2014; whether they work on native iOS apps, on React and React Native code, or on Hack to run on our HHVM web servers.</p>\n<h2>Back-end:</h2>\n<h3>Presto</h3>\n<p><a href=\"https://github.com/facebook/presto\" target=\"_blank\" rel=\"nofollow\">Presto</a> is an open source distributed SQL query engine for running interactive analytic queries against data sources of all sizes ranging from gigabytes to petabytes.&#xA0;Facebook uses Presto for interactive queries against several internal data stores, including their 300PB data warehouse. Over 1,000 Facebook employees use Presto daily to run more than 30,000 queries that in total scan over a petabyte each per day.</p>\n<h3>Osquery</h3>\n<p><a href=\"https://github.com/facebook/osquery\" target=\"_blank\" rel=\"nofollow\">Osquery</a>&#xA0;gives you a SQL interface to try out new queries and explore your operating system. With the power of a complete SQL language and dozens of useful tables built-in, osquery is an invaluable tool when performing incident response, diagnosing system&#xA0;operations problem, or troubleshooting a performance issue. Deploy a security tool that also enables developers and administrators.</p>\n<h3>RocksDB</h3>\n<p><a href=\"https://github.com/facebook/rocksdb\" target=\"_blank\" rel=\"nofollow\">RocksDB</a> builds on LevelDB to be scalable to run on servers with many CPU cores, to efficiently use fast storage, to support IO-bound, in-memory and write-once workloads, and to be flexible to allow for innovation.</p>\n<p>Not only softwares, but Facebook has also built various custom hardware competent to meet its ever increasing scale under&#xA0;<a href=\"http://opencompute.org/\" target=\"_blank\" rel=\"nofollow\">Open Compute Project</a>. &#xA0;Unlike Google and Microsoft, Facebook not only contributes its research work but also the end implementation to open source community. Let us know in comments your views towards Facebook&#x2019;s open source contribution.</p>\n<p>Source: <em><a href=\"http://fossbytes.com/top-15-facebook-open-source-projects-you-must-know/\">Top 15 Facebook Open Source Projects You Must Know</a></em></p>\n\n\t\t\t\n\t\t</div>\n\n\t\t\t</div>"
    }, {
        "title": "aerofs/gockerize",
        "url": "https://github.com/aerofs/gockerize",
        "excerpt": "Build static golang binaries and package them into minimal docker containers License BSD 3-Clause, see accompanying LICENSE file. Requirements Usage gockerize &lt;image&gt; &lt;package&gt;&hellip;",
        "date_saved": "Thu Jul 28 20:07:45 EDT 2016",
        "html_file": "aerofsgockerize.html",
        "png_file": "aerofsgockerize.png",
        "md_file": "aerofsgockerize.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Build static golang binaries and package them into minimal docker containers</p>\n\n<p><a href=\"https://github.com/aerofs/gockerize/blob/master/gockerize.png\" target=\"_blank\"><img src=\"https://github.com/aerofs/gockerize/raw/master/gockerize.png\" alt=\"gockerize\" width=\"415px\"></a></p>\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#license\"></a>License</h2>\n\n<p>BSD 3-Clause, see accompanying LICENSE file.</p>\n\n<h2><a id=\"user-content-requirements\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#requirements\"></a>Requirements</h2>\n\n\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#usage\"></a>Usage</h2>\n\n<pre><code>gockerize &lt;image&gt; &lt;package&gt; [&lt;source&gt; [&lt;mapping&gt; [&lt;Dockerfile&gt;]]]\n</code></pre>\n\n<p>The default use case is to call the script from the root directory of\nthe package being built, with any dependencies vendored in and the\nDockerfile at the root of the package.</p>\n\n<h4><a id=\"user-content-arguments\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#arguments\"></a>Arguments</h4>\n\n<p>The <code>image</code> argument determines the name of the resulting Docker image.</p>\n\n<p>The <code>package</code> argument is the fully qualified name of the package being\nbuilt.</p>\n\n<p>The <code>source</code> argument can be used to easily include non-vendored dependencies\ninto the build context. For instance, given the following hierarchy:</p>\n\n<pre><code>src/\n acme.com/\n common/\n foo/\n</code></pre>\n\n<p>Where <code>foo</code> is the service to be built and <code>common</code> is a package it depends on.</p>\n\n<p>The following command can be used, from <code>src/acme.com/foo</code> :</p>\n\n<pre><code>gockerize foo acme.com/foo ..\n</code></pre>\n\n<p>This will result in all of <code>src/acme.com</code> being used as build context, under\n<code>$GOPATH/src/acme.com</code>.</p>\n\n<p>Similarly, <code>mapping</code> can be changed from its default value to accommodate\nsource layouts that deviate from golang's conventions and <code>Dockerfile</code> can\npoint to a Dockerfile at a non-default location, including outside of the\nDocker build context.</p>\n\n<p>The contents of the <code>GOARGS</code> environment variable are passed to the go build\ncommand inside the container. Among other things, this makes it easy to use\ncustom build tags.</p>\n\n<h4><a id=\"user-content-dockerfile\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#dockerfile\"></a>Dockerfile</h4>\n\n<p>A typical Dockerfile may look like:</p>\n\n<pre><code>FROM scratch\nADD bin/foo /foo\nEXPOSE 12345\nENTRYPOINT [ \"/foo\" ]\n</code></pre>\n\n<p>The Docker image is built within a temporary container and its build\ncontext is limited to the content of <code>GOPATH</code> on that container, hence\nthe reference to <code>bin/foo</code> which is the location of the binary produced\nby compiling package <code>acme.com/foo</code>.</p>\n\n<h2><a id=\"user-content-dependency-resolution\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#dependency-resolution\"></a>Dependency resolution</h2>\n\n<p>For ease of use, golang-builder uses <code>go get</code> to automatically fetch remote\ndependencies from github and other public repositories supported by default.</p>\n\n<p>Relying on this feature should be avoided in favor of vendored dependencies.</p>\n\n<h2><a id=\"user-content-patching-standard-lib\" class=\"anchor\" href=\"https://github.com/aerofs/gockerize#patching-standard-lib\"></a>Patching standard lib</h2>\n\n<p>Fully static builds allow easy patching of the standard library. golang-builder\nleverages that by automatically applying patches found in the <code>patches</code> subdir\nof the package being built.</p>\n\n<p>Care should be taken that the patches cleanly apply against the version of go\nused in the container (1.4.2 at this time).</p>\n</article>\n </div>"
    }, {
        "title": "",
        "url": "https://hub.docker.com/_/nats/",
        "excerpt": "Supported tags and respective Dockerfile links 0.8.1, latest (Dockerfile) For more information about this image and its history, please see the relevant manifest file (library/nats). This image is&hellip;",
        "date_saved": "Thu Jul 28 20:07:47 EDT 2016",
        "html_file": ".html",
        "png_file": ".png",
        "md_file": ".md",
        "content": "<div><div class=\"Markdown__markdown___2_Qaz\"><h2>Supported tags and respective <code>Dockerfile</code> links</h2>\n<ul>\n<li><a href=\"https://github.com/nats-io/nats-docker/blob/4c81602c04da12b6c3c932c4a38a45db75bf7e99/Dockerfile\"><code>0.8.1</code>, <code>latest</code> (<em>Dockerfile</em>)</a></li>\n</ul>\n<p><a href=\"https://imagelayers.io/?images=nats:0.8.1\"><img src=\"https://badge.imagelayers.io/nats:latest.svg\"></a></p>\n<p>For more information about this image and its history, please see <a href=\"https://github.com/docker-library/official-images/blob/master/library/nats\">the relevant manifest file (<code>library/nats</code>)</a>. This image is updated via <a href=\"https://github.com/docker-library/official-images/pulls?q=label%3Alibrary%2Fnats\">pull requests to the <code>docker-library/official-images</code> GitHub repo</a>.</p>\n<p>For detailed information about the virtual/transfer sizes and individual layers of each of the above supported tags, please see <a href=\"https://github.com/docker-library/docs/blob/master/nats/tag-details.md\">the <code>nats/tag-details.md</code> file</a> in <a href=\"https://github.com/docker-library/docs\">the <code>docker-library/docs</code> GitHub repo</a>.</p>\n<h2><a href=\"https://nats.io\">NATS</a>: A high-performance cloud native messaging system.</h2>\n<p><img src=\"https://raw.githubusercontent.com/docker-library/docs/45d33e1726fed03a2a40363a9699e0587e713c55/nats/logo.png\"></p>\n<p><code>nats</code> is a high performance server for the NATS Messaging System.</p>\n<h2>Example usage</h2>\n<pre><code># Run a NATS server\n# Each server exposes multiple ports\n# 4222 is for clients.\n# 8222 is an HTTP management port for information reporting.\n# 6222 is a routing port for clustering.\n# use -p or -P as needed.\n\n$ docker run -d --name nats-main nats\n[INF] Starting gnatsd version 0.7.2\n[INF] Starting http monitor on port 8222\n[INF] Listening for route connections on 0.0.0.0:6222\n[INF] Listening for client connections on 0.0.0.0:4222\n[INF] gnatsd is ready\n\n...\n\n# To run a second server and cluster them together..\n$ docker run -d --name=nats-2 --link nats-main nats --routes=nats-route://ruser:T0pS3cr3t@nats-main:6222\n\n# If you want to verify the routes are connected, try\n$ docker run -d --name=nats-2 --link nats-main nats --routes=nats-route://ruser:T0pS3cr3t@nats-main:6222 -DV\n[INF] Starting gnatsd version 0.7.2\n[INF] Starting http monitor on port 8222\n[INF] Listening for route connections on :6222\n[INF] Listening for client connections on 0.0.0.0:4222\n[INF] gnatsd is ready\n[DBG] Trying to connect to route on nats-main:6222\n[DBG] 172.17.0.52:6222 - rid:1 - Route connection created\n[DBG] 172.17.0.52:6222 - rid:1 - Route connect msg sent\n[DBG] 172.17.0.52:6222 - rid:1 - Registering remote route \"ee35d227433a738c729f9422a59667bb\"\n[DBG] 172.17.0.52:6222 - rid:1 - Route sent local subscriptions\n</code></pre>\n<p>The server will load the configuration file below. Any command line flags can override these values.</p>\n<h2>Default Configuration File</h2>\n<pre><code># Client port of 4222 on all interfaces\nport: 4222\n\n# HTTP monitoring port\nmonitor_port: 8222\n\n# This is for clustering multiple servers together.\ncluster {\n\n # Route connections to be received on any interface on port 6222\n port: 6222\n\n # Routes are protected, so need to use them with --routes flag\n # e.g. --routes=nats-route://ruser:T0pS3cr3t@otherdockerhost:6222\n authorization {\n user: ruser\n password: T0pS3cr3t\n timeout: 0.75\n }\n\n # Routes are actively solicited and connected to from this server.\n # This Docker image has none by default, but you can pass a\n # flag to the gnatsd docker image to create one to an existing server.\n routes = []\n}\n</code></pre>\n<h2>Commandline Options</h2>\n<pre><code>Server Options:\n -a, --addr HOST Bind to HOST address (default: 0.0.0.0)\n -p, --port PORT Use PORT for clients (default: 4222)\n -P, --pid FILE File to store PID\n -m, --http_port PORT Use HTTP PORT for monitoring\n -ms,--https_port PORT Use HTTPS PORT for monitoring\n -c, --config FILE Configuration File\n\nLogging Options:\n -l, --log FILE File to redirect log output\n -T, --logtime Timestamp log entries (default: true)\n -s, --syslog Enable syslog as log method\n -r, --remote_syslog Syslog server addr (udp://localhost:514)\n -D, --debug Enable debugging output\n -V, --trace Trace the raw protocol\n -DV Debug and Trace\n\nAuthorization Options:\n --user user User required for connections\n --pass password Password required for connections\n\nTLS Options:\n --tls Enable TLS, do not verify clients (default: false)\n --tlscert FILE Server certificate file\n --tlskey FILE Private key for server certificate\n --tlsverify Enable TLS, very client certificates\n --tlscacert FILE Client certificate CA for verification\n\nCluster Options:\n --routes [rurl-1, rurl-2] Routes to solicit and connect\n\nCommon Options:\n -h, --help Show this message\n -v, --version Show version\n --help_tls TLS help.\n</code></pre>\n<h2>License</h2>\n<p>View <a href=\"https://github.com/nats-io/gnatsd/blob/master/LICENSE\">license information</a> for the software contained in this image.</p>\n<h2>Supported Docker versions</h2>\n<p>This image is officially supported on Docker version 1.11.2.</p>\n<p>Support for older versions (down to 1.6) is provided on a best-effort basis.</p>\n<p>Please see <a href=\"https://docs.docker.com/installation/\">the Docker installation documentation</a> for details on how to upgrade your Docker daemon.</p>\n<h2>User Feedback</h2>\n<h2>Documentation</h2>\n<p>Documentation for this image is stored in the <a href=\"https://github.com/docker-library/docs/tree/master/nats\"><code>nats/</code> directory</a> of the <a href=\"https://github.com/docker-library/docs\"><code>docker-library/docs</code> GitHub repo</a>. Be sure to familiarize yourself with the <a href=\"https://github.com/docker-library/docs/blob/master/README.md\">repository's <code>README.md</code> file</a> before attempting a pull request.</p>\n<h2>Issues</h2>\n<p>If you have any problems with or questions about this image, please contact us through a <a href=\"https://github.com/nats-io/nats-docker/issues\">GitHub issue</a>. If the issue is related to a CVE, please check for <a href=\"https://github.com/docker-library/official-images/issues?q=label%3Acve-tracker\">a <code>cve-tracker</code> issue on the <code>official-images</code> repository first</a>.</p>\n<p>You can also reach many of the official image maintainers via the <code>#docker-library</code> IRC channel on <a href=\"https://freenode.net\">Freenode</a>.</p>\n<h2>Contributing</h2>\n<p>You are invited to contribute new features, fixes, or updates, large or small; we are always thrilled to receive pull requests, and do our best to process them as fast as we can.</p>\n<p>Before you start to code, we recommend discussing your plans through a <a href=\"https://github.com/nats-io/nats-docker/issues\">GitHub issue</a>, especially for more ambitious contributions. This gives other contributors a chance to point you in the right direction, give you feedback on your design, and help you find out if someone else is working on the same thing.</p>\n</div></div>"
    }, {
        "title": "Setting up nginx with Docker",
        "url": "http://www.integralist.co.uk/posts/docker-nginx.html",
        "excerpt": "Introduction I wanted to learn about how to use the popular proxy server nginx for handling \"reverse proxy\" duties on a Ruby project I was working on. So I decided the easiest thing to do in order to&hellip;",
        "date_saved": "Thu Jul 28 20:07:49 EDT 2016",
        "html_file": "setting_up_nginx_with_docker.html",
        "png_file": "setting_up_nginx_with_docker.png",
        "md_file": "setting_up_nginx_with_docker.md",
        "content": "<div><article class=\"markdown-body\">\n\n\n\n\n\n\n\n<h2>Introduction</h2>\n\n<p>I wanted to learn about how to use the popular proxy server <a href=\"http://nginx.org\">nginx</a> for handling \"reverse proxy\" duties on a Ruby project I was working on. So I decided the easiest thing to do in order to play around with nginx (as I work on a MacBook Pro laptop), would be to install and run it (and my back-end application) within <a href=\"http://docker.com/\">Docker</a> containers.</p>\n\n<blockquote>\n<p>Note: I did some preliminary Googling and sadly didn't find anything straightforward that demonstrated this relatively simple requirement (i.e. run nginx and have it proxy requests to a back-end service). So I decided it would be best to write about it myself</p>\n</blockquote>\n\n<p>Now if you're unsure of what a reverse proxy does, it simply takes <em>in</em> traffic (i.e. users requesting a website domain) and proxies those requests onto another service (the service could be external to the host server or it could be running on the same box - which is the scenario I have - and typically the service being proxied to isn't publically available to the internet).</p>\n\n<p>The nginx server has many features, such as load balancing, caching and serving static files (to name but a few). When used as a reverse proxy it can also be useful for handling SSL termination (i.e. SSL is an expensive operation and so the proxy server will authenticate the provided credentials - allowing access - but terminate the SSL requirement at that point before directing traffic onto the other protected service).</p>\n\n<p>In this post we'll be primarily focusing on using nginx as a reverse proxy, although I also demonstrate how to serve static files. But the focus will be reverse proxying and not demonstrating other features within nginx. I'll also not be explaining Docker and how it works (I'm assuming you've used Docker in some form or another previously).</p>\n\n<p>Lastly, I'm going to take you on the same journey I took while setting this all up; so rather than work through a perfect scenario you'll get to see some of the errors I stumbled across along the way. If you'd prefer to just read the (small amount of) code then the next section is for you.</p>\n\n\n\n<h2>Just give me the code</h2>\n\n<p><a href=\"https://github.com/Integralist/Docker-Examples/tree/master/Nginx\">github.com/integralist/docker-examples/nginx</a></p>\n\n\n\n<h2>Setting up nginx</h2>\n\n<p>So to begin with, I went to <a href=\"https://hub.docker.com/\">Docker Hub</a> and found the <a href=\"https://registry.hub.docker.com/_/nginx/\">official nginx Docker image</a>. It suggested the easiest thing to do to get started was to download and run the image; so knowing not a lot about nginx, that's exactly what I did:</p>\n\n<pre><code class=\"language-bash\">docker run --name nginx-container -P -d nginx\n</code></pre>\n\n<blockquote>\n<p>Note: you can use the <code>-p &lt;host_port&gt;:&lt;container_port&gt;</code> option instead of <code>-P</code> if you're not going to be running multiple nginx instances (again, for the moment I was just following the recommendation from Docker Hub)</p>\n</blockquote>\n\n<p>Once the container was running I attempted to <code>curl</code> the endpoint (something like <code>http://localhost:&lt;port_number_container_mapped_to&gt;</code>) but I found this didn't work; and by that I mean it didn't return a recognisable nginx home page as was suggested it would. This was the first trip-up I made.</p>\n\n<p>The reason this didn't work is because (for me) using <a href=\"http://boot2docker.io/\">Boot2Docker</a> on a Mac - rather than being on a pure Linux machine capable of running Docker natively - means that localhost is the Mac and not the Docker host (which is the Boot2Docker VM). So to resolve that issue I needed to curl the ip of the Boot2Docker host. To get the ip simply run <code>boot2docker ip</code>.</p>\n\n<p>So your curl command (depending on what OS you're running on) should look something like:</p>\n\n<pre><code class=\"language-bash\">curl http://$(&lt;docker_host_ip&gt;:&lt;port_number_container_mapped_to&gt;\n</code></pre>\n\n<p>For me this was:</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):32781\n</code></pre>\n\n<p>Executing this resulted in the following output:</p>\n\n<pre><code class=\"language-markup\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Welcome to nginx!&lt;/title&gt;\n&lt;style&gt;\n body {\n width: 35em;\n margin: 0 auto;\n font-family: Tahoma, Verdana, Arial, sans-serif;\n }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;\n&lt;p&gt;If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required.&lt;/p&gt;\n\n&lt;p&gt;For online documentation and support please refer to\n&lt;a href=\"http://nginx.org/\"&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;\nCommercial support is available at\n&lt;a href=\"http://nginx.com/\"&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>Mounting our own static files</h3>\n\n<p>Now at this point having a standard nginx welcome page isn't very useful. We want to add our own nginx configuration and to have it serve up our own static files. To achieve that with Docker we'll need to use <a href=\"https://docs.docker.com/userguide/dockervolumes/\">Volumes</a>.</p>\n\n<p>But before I show the command for that, I need to show you the project directory I have right now:</p>\n\n<pre><code class=\"language-ini\">.\n&#x251C;&#x2500;&#x2500; Dockerfile\n&#x251C;&#x2500;&#x2500; Gemfile\n&#x251C;&#x2500;&#x2500; Gemfile.lock\n&#x251C;&#x2500;&#x2500; app.rb\n&#x251C;&#x2500;&#x2500; nginx.conf\n&#x2514;&#x2500;&#x2500; html\n &#x2514;&#x2500;&#x2500; test.html\n</code></pre>\n\n<p>This isn't the final directory structure mind you, but it's what I initially started out with. You'll see as we move on I had to add a little more structure to the project. But for now, this is what we've got.</p>\n\n<p>I'll show the contents of these files now, most of them are really small anyway:</p>\n\n<h4>Dockerfile</h4>\n\n<pre><code class=\"language-bash\">FROM ruby:2.1-onbuild\nCMD [\"ruby\", \"app.rb\"]\n</code></pre>\n\n<h4>Gemfile</h4>\n\n<pre><code class=\"language-ruby\">source \"http://rubygems.org/\"\n\ngem \"sinatra\"\n</code></pre>\n\n<h4>app.rb</h4>\n\n<pre><code class=\"language-ruby\">require \"sinatra\"\n\nset :bind, \"0.0.0.0\"\n\nget \"/\" do\n \"Hello World\"\nend\n\nget \"/foo\" do\n \"Foo!\"\nend\n</code></pre>\n\n<h4>nginx.conf</h4>\n\n<pre><code class=\"language-apacheconf\">user nobody nogroup;\nworker_processes auto; # auto-detect number of logical CPU cores\n\nevents {\n worker_connections 512; # set the max number of simultaneous connections (per worker process)\n}\n\nhttp {\n server {\n listen *:80; # Listen for incoming connections from any interface on port 80\n server_name \"\"; # Don't worry if \"Host\" HTTP Header is empty or not set\n root /usr/share/nginx/html; # serve static files from here\n }\n}\n</code></pre>\n\n<h4>html/test.html</h4>\n\n<pre><code class=\"language-markup\">&lt;h1&gt;Hey there!&lt;/h1&gt;\n&lt;p&gt;Here is my test HTML file&lt;/p&gt;\n</code></pre>\n\n<h4>Mounting the files</h4>\n\n<p>Let's see the syntax structure of the command I was looking to run:</p>\n\n<pre><code class=\"language-bash\">docker run --name nginx-container \\\n -v /path/to/static/files/on/host:/usr/share/nginx/html:ro \\\n -v /path/to/conf/on/host:/etc/nginx/nginx.conf:ro \\\n -P -d nginx\n</code></pre>\n\n<p>In the above example, you can see I'm using the <code>-v</code> flag to mount my static files directory to <code>/usr/share/nginx/html</code> as well as mounting my own nginx configuration file into the container at <code>/etc/nginx/nginx.conf</code>.</p>\n\n<blockquote>\n<p>Note: <code>:ro</code> sets the volumes to be \"read only\"</p>\n</blockquote>\n\n<p>So for me, a working example looked like the following:</p>\n\n<pre><code class=\"language-bash\">docker run --name nginx-container \\\n -v $(pwd)/html:/usr/share/nginx/html:ro \\\n -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro \\\n -P -d nginx\n</code></pre>\n\n<blockquote>\n<p>Note: the host path has to be absolute, so tweak it as necessary (I used <code>pwd</code> to make the command shorter)</p>\n</blockquote>\n\n<p>If you want to debug things, then you can run the container not as a daemon (<code>-d</code>) but with an interactive tty (<code>-it</code>) and drop yourself inside of a bash shell:</p>\n\n<pre><code class=\"language-bash\">docker run -it --name nginx-container \\\n -v $(pwd)/html:/usr/share/nginx/html:ro \\\n -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro \\\n -P nginx bash\n</code></pre>\n\n<p>Once the container is running and the <code>nginx.conf</code> and static files are mounted as a Volume, you can verify that nginx is serving the static files by trying to hit localhost on port <code>80</code> (as mentioned earlier: if you're on a Mac using Boot2Docker like me, then you'll need to access localhost via the Boot2Docker VM ip address instead):</p>\n\n<blockquote>\n<p>Note: don't forget the port number I've used will be different for you (get yours from <code>docker ps</code>)</p>\n</blockquote>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):32781\n</code></pre>\n\n<p>This will display a <code>403</code> error page, which is to be expected because we've not mounted a folder that has a <code>index.html</code> file. Our mounted directory only contained a <code>test.html</code> file, so if we try to access that instead, then we'll see it'll be loaded without a problem:</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):32781/test.html\n</code></pre>\n\n<p>If you were following along at home then you would have noticed that this returns the following HTML content:</p>\n\n<pre><code class=\"language-markup\">&lt;h1&gt;Hey there!&lt;/h1&gt;\n&lt;p&gt;Here is my test HTML file&lt;/p&gt;\n</code></pre>\n\n<p>If we try the exact same command again, but this time add the <code>-I</code> flag (e.g. <code>curl -I &lt;url&gt;</code> - this returns just the HTTP headers), we'll see that this is indeed being served by nginx:</p>\n\n<pre><code class=\"language-bash\">HTTP/1.1 200 OK\nServer: nginx/1.9.3\nDate: Sat, 01 Aug 2015 17:27:01 GMT\nContent-Type: text/html\nContent-Length: 53\nLast-Modified: Sat, 01 Aug 2015 14:05:59 GMT\nConnection: keep-alive\nETag: \"55bcd247-35\"\nAccept-Ranges: bytes\n</code></pre>\n\n<h4>Dynamically updating containers without restart</h4>\n\n<p>Because we've mounted the <code>html</code> directory as a volume, we can now create an <code>index.html</code> file for nginx to use as the root page to load when you request <code>http://$(boot2docker ip):32781/</code>; and in doing this it'll take effect immediately without requiring us to restart the container. Once we've created the file inside the <code>html</code> directory, we can then make the relevant curl request to see nginx serve up the html file.</p>\n\n<p>Just so you know, the <code>index.html</code> file I created looks like this:</p>\n\n<pre><code class=\"language-markup\">&lt;h1&gt;Welcome&lt;/h1&gt;\n&lt;p&gt;This is my home page&lt;/p&gt;\n</code></pre>\n\n\n\n<h2>Setting up the Ruby application</h2>\n\n<p>The Ruby application we'll be creating is a super simple <a href=\"http://sinatrarb.com/\">Sinatra</a> web application with two routes defined:</p>\n\n\n\n<p>One of the first things you need to do is to make sure you run <code>bundle install</code> so you have a <code>Gemfile.lock</code> generated, otherwise the base Ruby image will complain. The reason it complains is because the base Docker image is using an <code>onbuild</code> version of the Ruby image, and what this means is that it follows a \"convention over configuration\" model where by it assumes you have three files available (<code>app.rb</code>, <code>Gemfile</code> and <code>Gemfile.lock</code>) for it to automatically copy into the built Docker image for you.</p>\n\n<p>Once you've done that, you can now build the Docker image:</p>\n\n<pre><code class=\"language-bash\">docker build -t my-ruby-app .\n</code></pre>\n\n<p>Once the image is built, you can run your Ruby application like so:</p>\n\n<pre><code class=\"language-bash\">docker run --name ruby-app -p 4567:4567 -d my-ruby-app\n</code></pre>\n\n<p>You'll notice we're not using a dynamic port range because the Sinatra app we've created explicitly binds to port <code>4567</code> and so I'm exposing that specific port to the Boot2Docker VM. We can then access this application directly with the following curl command:</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):4567/\n\n# Results in...\n\nHello World%\n</code></pre>\n\n<p>Now if we want to see the HTTP Headers coming back:</p>\n\n<pre><code class=\"language-bash\">curl -I http://$(boot2docker ip):4567/\n\n# Results in...\n\nHTTP/1.1 200 OK\nContent-Type: text/html;charset=utf-8\nContent-Length: 11\nX-Xss-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nServer: WEBrick/1.3.1 (Ruby/2.1.6/2015-04-13)\nDate: Sun, 02 Aug 2015 09:20:47 GMT\nConnection: Keep-Alive\n</code></pre>\n\n\n\n<h2>Linking your app to nginx</h2>\n\n<p>OK, so we're nearing the finish line now. We've got a working nginx container and a working Ruby container. We need to gel them together by making a request and having nginx proxy the request on to the Ruby container (if the request was aimed at that) or have nginx serve a static file if the request was relevant to that.</p>\n\n<p>To get this to work with Docker, we have two options:</p>\n\n\n\n<p>Both options require a custom Dockerfile to be used for setting up nginx and both have about the same amount of complexity in different ways.</p>\n\n<p>But to understand these options, we need to be sure we understand what Docker does when linking containers. So to clarify, when linking a container (Ruby) with another container (nginx), Docker adds the ip of the linked container (Ruby) into the other container (nginx). It does this by updating the container's <code>/etc/hosts</code> file with a new entry that looks something like the following (note the last line of the file output):</p>\n\n<pre><code class=\"language-bash\">host.conf hostname hosts\nroot@a4a3bde52f8e:/# cat /etc/hosts\n172.17.0.19 a4a3bde52f8e\n127.0.0.1 localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.0.18 app 3435f6926e83 ruby-app\n</code></pre>\n\n<p>You can test this yourself by using the following command, which interactively jumps into a running version of the nginx container:</p>\n\n<pre><code class=\"language-bash\">docker run --rm -it \\\n --name nginx-container \\\n --link ruby-app:app \\\n -P nginx bash\n</code></pre>\n\n<p>Once inside the container, run <code>cat /etc/hosts</code> to get the above output (or something similar to it at least - your ip will likely be different to mine).</p>\n\n<p>While you're still inside the temporarily running nginx container, we can clarify the second option which is the ENV variable setup Docker handles. When linking a container, Docker will add details of the linked container as environment variables (as well as adding a new entry to the <code>/etc/hosts</code> file). So while you're still inside the running nginx container, execute the following command:</p>\n\n<pre><code class=\"language-bash\">env | grep APP | sort\n</code></pre>\n\n<blockquote>\n<p>Note: we're <code>grep</code>ing for the phrase <code>APP</code> as that's what we specified in our <code>docker run</code> command (i.e. <code>--link ruby-app:app</code>)</p>\n</blockquote>\n\n<p>We should now see the following output (or something very similar):</p>\n\n<pre><code class=\"language-bash\">APP_ENV_BUNDLER_VERSION=1.10.6\nAPP_ENV_BUNDLE_APP_CONFIG=/usr/local/bundle\nAPP_ENV_GEM_HOME=/usr/local/bundle\nAPP_ENV_RUBY_DOWNLOAD_SHA256=1e1362ae7427c91fa53dc9c05aee4ee200e2d7d8970a891c5bd76bee28d28be4\nAPP_ENV_RUBY_MAJOR=2.1\nAPP_ENV_RUBY_VERSION=2.1.6\nAPP_NAME=/nginx-container/app\nAPP_PORT=tcp://172.17.0.18:4567\nAPP_PORT_4567_TCP=tcp://172.17.0.18:4567\nAPP_PORT_4567_TCP_ADDR=172.17.0.18\nAPP_PORT_4567_TCP_PORT=4567\nAPP_PORT_4567_TCP_PROTO=tcp\n</code></pre>\n\n<p>Notice that Docker has capitalised the link name (e.g. <code>app</code> is now <code>APP</code>) and has used the convention of <code>&lt;LINK_NAME&gt;_&lt;ENV_VAR_FROM_LINKED_CONTAINER&gt;</code>.</p>\n\n<h3>Choosing an option?</h3>\n\n<p>With this knowledge secured in our minds, we can now understand what we need to do for each option (i.e. host file vs environment variable). For the host file option we can manipulate our <code>nginx.conf</code> file manually (before building the image) to use a named <code>upstream</code> server that references the <code>--link</code> name we provided, as part of the <code>docker run</code> command.</p>\n\n<p>Where as with the environment variables option we would need to manipulate the <code>nginx.conf</code> file <em>dynamically</em> at run time. So within our <code>Dockerfile</code> we would add a shell script, which would be executed by the <code>CMD</code> statement within the <code>Dockerfile</code>. This shell script would run and use something like the <code>sed</code> command to replace a placeholder reference within our <code>nginx.conf</code> file (likely we'd use the <code>APP_PORT</code> environment variable and do some regular expression parsing for the ip address). Once the placeholder had been replaced with the appropriate container ip, we would manually start nginx using <code>service nginx start</code>.</p>\n\n<p>Out of the two options, I think I'll go with the \"host file\" one. So let's run through the steps...</p>\n\n\n\n<pre><code class=\"language-ini\">.\n&#x251C;&#x2500;&#x2500; docker-app\n&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; Dockerfile\n&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; Gemfile\n&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; Gemfile.lock\n&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; app.rb\n&#x251C;&#x2500;&#x2500; docker-nginx\n&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; Dockerfile\n&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; nginx.conf\n&#x2514;&#x2500;&#x2500; html\n &#x251C;&#x2500;&#x2500; index.html\n &#x2514;&#x2500;&#x2500; test.html\n</code></pre>\n\n<ul>\n<li>Build the images (we'll see what these look like in a moment) for the Ruby app and nginx</li>\n<li>Run the Ruby app container</li>\n<li>Run the nginx container and link it to the running Ruby container</li>\n<li>Verify everything works</li>\n</ul>\n\n<p>Other than moving existing files (related to the building of the Ruby Docker image) inside of a <code>docker-app</code> folder, the two biggest changes are the addition of a new <code>Dockerfile</code> inside the <code>docker-nginx</code> folder and the following updated <code>nginx.conf</code> file:</p>\n\n<pre><code class=\"language-apacheconf\">user nobody nogroup;\nworker_processes auto; # auto-detect number of logical CPU cores\n\nevents {\n worker_connections 512; # set the max number of simultaneous connections (per worker process)\n}\n\nhttp {\n upstream app {\n server app:4567; # app is automatically defined inside /etc/hosts by Docker\n }\n\n server {\n listen *:80; # Listen for incoming connections from any interface on port 80\n server_name \"\"; # Don't worry if \"Host\" HTTP Header is empty or not set\n root /usr/share/nginx/html; # serve static files from here\n\n location /app/ { # catch any requests that start with /app/\n proxy_pass http://app; # proxy requests onto our app server (i.e. a different container)\n }\n }\n}\n</code></pre>\n\n<p>The aim of the new configuration is to accept any requests to <code>/app/</code> and proxy them onto our application server. So if we were to request <code>/app/</code> we'd want nginx to proxy it to the Sinatra <code>/</code> route; and if we were to request <code>/app/foo</code> then we'd expect nginx to proxy it to the Sinatra <code>/foo</code> route.</p>\n\n<p>The new <code>Dockerfile</code> we've created inside the <code>docker-nginx</code> folder will have the following content:</p>\n\n<pre><code class=\"language-bash\">FROM ubuntu\n\n# install nginx\nRUN apt-get update &amp;&amp; apt-get install -y nginx\nRUN rm -rf /etc/nginx/sites-enabled/default\n\n# forward request and error logs to docker log collector\nRUN ln -sf /dev/stdout /var/log/nginx/access.log\nRUN ln -sf /dev/stderr /var/log/nginx/error.log\n\nEXPOSE 80 443\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>\n\n<blockquote>\n<p>Note: some bright chap by the name of <a href=\"https://twitter.com/stevenjack85\">Steven Jack</a> suggested setting <code>ENTRYPOINT</code> in the Dockerfile to <code>nginx</code> and have the two options (<code>-g</code> and <code>daemon off</code>) left in the <code>CMD</code>. Doing this means if you wanted to pass other options to nginx you wouldn't have to duplicate all of your CMD</p>\n</blockquote>\n\n<p>So from the root of our project directory, let's complete the next step and build our new Docker images (technically you don't have to rebuild the Ruby application as there has been no changes to the <code>Dockerfile</code>, but just for completion I'll demonstrate the build command again).</p>\n\n<p>First let's rebuild the Ruby Docker image:</p>\n\n<pre><code class=\"language-bash\">docker build -t my-ruby-app ./docker-app\n</code></pre>\n\n<p>Now let's build our new custom nginx Docker image:</p>\n\n<pre><code class=\"language-bash\">docker build -t my-nginx ./docker-nginx\n</code></pre>\n\n<p>The third step in our list was to run the Ruby container:</p>\n\n<pre><code class=\"language-bash\">docker run --name ruby-app -p 4567:4567 -d my-ruby-app\n</code></pre>\n\n<p>Let's also verify that it's running (the following command should return back \"Hello World\"):</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):4567/\n</code></pre>\n\n<p>Now onto our fourth step, which was to run our custom nginx container whilst linking it to our already running ruby container:</p>\n\n<pre><code class=\"language-bash\">docker run --name nginx-container \\\n -v $(pwd)/html:/usr/share/nginx/html:ro \\\n -v $(pwd)/docker-nginx/nginx.conf:/etc/nginx/nginx.conf:ro \\\n --link ruby-app:app \\\n -P -d my-nginx\n</code></pre>\n\n<p>The final step is to verify that everything worked as expected (i.e. we should be able to make a request to our Boot2Docker VM's localhost and have it proxy the request through to our Ruby application server). But let's do it in stages, so the first stage is to hit the root of localhost:</p>\n\n<blockquote>\n<p>Note: in the following example you'll need to get the dynamically allocated port number for the nginx container. You can do this by running <code>docker ps</code> and extracting the port number from the output provided</p>\n</blockquote>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):&lt;dynamic_port_number&gt;\n</code></pre>\n\n<p>This <code>curl</code> request will result in the following output to stdout...</p>\n\n<pre><code class=\"language-markup\">&lt;h1&gt;Welcome&lt;/h1&gt;\n&lt;p&gt;This is my home page&lt;/p&gt;\n</code></pre>\n\n<p>The second stage is to hit the <code>/test.html</code> endpoint for localhost and make sure nginx is still serving back our static files correctly:</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):&lt;dynamic_port_number&gt;/test.html\n</code></pre>\n\n<p>This <code>curl</code> request will result in the following output to stdout...</p>\n\n<pre><code class=\"language-markup\">&lt;h1&gt;Hey there!&lt;/h1&gt;\n&lt;p&gt;Here is my test HTML file&lt;/p&gt;\n</code></pre>\n\n<p>Looking good. OK the third and final stage is to now try to hit the <code>/app/</code> endpoint for localhost and make sure nginx is proxying the request through to our Ruby backend application server (and also sending the result back again!):</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):32785/app/\n</code></pre>\n\n<p>This <code>curl</code> request will result in the following output to stdout...</p>\n\n<pre><code class=\"language-markup\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n &lt;style type=\"text/css\"&gt;\n body { text-align:center;font-family:helvetica,arial;font-size:22px;\n color:#888;margin:20px}\n #c {margin:0 auto;width:500px;text-align:left}\n &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;h2&gt;Sinatra doesn&amp;rsquo;t know this ditty.&lt;/h2&gt;\n &lt;img src='http://app/__sinatra__/404.png'&gt;\n &lt;div id=\"c\"&gt;\n Try this:\n &lt;pre&gt;get &amp;#x27;&amp;#x2F;app&amp;#x2F;&amp;#x27; do\n &amp;quot;Hello World&amp;quot;\nend\n&lt;/pre&gt;\n &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Ewww? OK so we can see nginx <em>is</em> proxying through to our Ruby application server, but the server doesn't seem to know how to handle the request <code>/app/</code>? Maybe it's something to do with the extra forward slash on the end of the request? If I change it to <code>/app</code> instead we'll see what that does:</p>\n\n<pre><code class=\"language-bash\">curl http://$(boot2docker ip):32785/app\n</code></pre>\n\n<p>This <code>curl</code> request will result in the following output to stdout...</p>\n\n<pre><code class=\"language-markup\">&lt;html&gt;\n&lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;\n&lt;body bgcolor=\"white\"&gt;\n&lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;\n&lt;hr&gt;&lt;center&gt;nginx/1.4.6 (Ubuntu)&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Hmm, ok that's not much better. So what's going on here? Well, we're seeing the <code>301</code> redirect because Sinatra is redirecting anything without a forward slash. So ok, but what about the \"Sinatra doesn't know this ditty\" error?</p>\n\n<h3>The final solution</h3>\n\n<p>The cause of the problem is because we've misconfigured nginx. The solution to the issue requires us to know a <em>very</em> subtle detail about how nginx location blocks work, which is:</p>\n\n<p>If you don't put a forward slash <code>/</code> at the end of the upstream name, then you'll find nginx passes the request exactly as it was made (i.e. <code>/app/</code>) through to the backend service, as apposed to passing it as just <code>/</code>.</p>\n\n<p>For example, we had set the proxy to pass to <code>http://app;</code> which meant a request to <code>/app/</code> was being passed to Sinatra as <code>/app/</code> and a request to <code>/app/foo</code> was being passed on to Sinatra as <code>/app/foo</code>; and as you can see from the Sinatra application code, we have no such routes defined.</p>\n\n<p>What we should do instead is change the proxy pass value to <code>http://app/;</code> (notice the extra forward slash just before the closing semi-colon).</p>\n\n<p>By putting a <code>/</code> after the upstream name means it acts more like nginx's <code>alias</code> directive which remaps requests for you. If I kept it as <code>http://app;</code>, then I would've needed to have added an <code>/app/</code> route to my Ruby application. But the additional forward slash remaps <code>/app/</code> so it's passed to Sinatra as <code>/</code> (we have a route for that) as well as remapping <code>/app/foo</code> to just <code>/foo</code> (we have a route for that too!).</p>\n\n<p>So with this in mind you'll see in GitHub I've updated the <code>nginx.conf</code> to look like the following (with additional comments to clarify the behaviour):</p>\n\n<pre><code class=\"language-apacheconf\">user nobody nogroup;\nworker_processes auto; # auto-detect number of logical CPU cores\n\nevents {\n worker_connections 512; # set the max number of simultaneous connections (per worker process)\n}\n\nhttp {\n upstream app {\n server app:4567; # app is automatically defined inside /etc/hosts by Docker\n }\n\n server {\n listen *:80; # Listen for incoming connections from any interface on port 80\n server_name \"\"; # Don't worry if \"Host\" HTTP Header is empty or not set\n root /usr/share/nginx/html; # serve static files from here\n\n location /app/ { # catch any requests that start with /app/\n proxy_pass http://app/; # proxy requests onto our app server (i.e. a different container)\n #\n # NOTE: If you don't put a forward slash / at the end of the upstream name\n # then you'll find nginx passes the request as /app/ rather than just /\n # Putting / after the upstream name means it acts more like the alias directive\n # If I kept it as http://app; then I would've needed to add a /app/ route to Sinatra\n }\n }\n}\n</code></pre>\n\n<p>With this change made, we can now make the following requests successfully:</p>\n\n<ul>\n<li><code>curl http://$(boot2docker ip):&lt;dynamic_port_number&gt;/app/</code></li>\n<li><code>curl http://$(boot2docker ip):&lt;dynamic_port_number&gt;/app/foo</code></li>\n</ul>\n\n\n\n<h2>Conclusion</h2>\n\n<p>This was a bit of a whirlwind run through to getting a simple nginx reverse proxy set-up with Docker. You can obviously swap out the Ruby backend with whatever technology stack is more appropriate (e.g. Node, Clojure, Scala... whatever).</p>\n\n<p>From here, if you're new to nginx (like I am) you can start to experiment with the many other features nginx provides. Enjoy!</p>\n\n \n <h2>Links</h2>\n <ul>\n <li><a href=\"http://www.integralist.co.uk/index.html\">Home</a></li>\n <li><a href=\"http://www.integralist.co.uk/posts/about.html\">About Me</a></li>\n <li><a href=\"https://github.com/integralist\">GitHub</a></li>\n <li><a href=\"https://twitter.com/integralist\">Twitter</a></li>\n <li><a href=\"http://www.integralist.co.uk/Resume\">Resume</a></li>\n </ul>\n </article>\n \n \n </div>"
    }, {
        "title": "Get CoreOS Logs into ELK in 5 Minutes",
        "url": "http://blog.sematext.com/2015/06/22/5-minute-recipe-centralize-logging-in-coreos/",
        "excerpt": "June 22, 2015 by Stefan Thies CoreOS Linux&#xA0;is the operating system for &#x201C;Super Massive Deployments&#x201D;. &#xA0;We wanted to see how easily we can get CoreOS logs into Elasticsearch&hellip;",
        "date_saved": "Thu Jul 28 20:07:51 EDT 2016",
        "html_file": "get_coreos_logs_into_elk_in_5_minutes.html",
        "png_file": "get_coreos_logs_into_elk_in_5_minutes.png",
        "md_file": "get_coreos_logs_into_elk_in_5_minutes.md",
        "content": "<div><div class=\"entry\">\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div class=\"post-info\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span class=\"time\">June 22, 2015</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"author\">by <a href=\"http://blog.sematext.com/author/seti123/\" title=\"Posts by Stefan Thies\" rel=\"author\">Stefan Thies</a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p><a href=\"https://coreos.com/using-coreos/\">CoreOS Linux</a>&#xA0;is the operating system for &#x201C;Super Massive Deployments&#x201D;. &#xA0;We wanted to see how easily we can get CoreOS logs into Elasticsearch /&#xA0;<a href=\"http://sematext.com/logsene/\">ELK</a>-powered centralized logging service. Here&#x2019;s how to <strong>get your CoreOS logs into ELK in about 5 minutes</strong>, give or take. &#xA0;Here&#x2019;s an example Kibana Dashboard you can get in the end:</p>\n<div id=\"attachment_5144\" class=\"wp-caption alignnone\"><a href=\"https://sematext.files.wordpress.com/2015/06/coreos-kibana-dashboard.png\"><img class=\"size-large wp-image-5144\" src=\"https://sematext.files.wordpress.com/2015/06/coreos-kibana-dashboard.png?w=630&amp;h=457\" alt=\"CoreOS Kibana Dashboard\" width=\"630\"></a><p class=\"wp-caption-text\">CoreOS Kibana Dashboard</p></div>\n<p>CoreOS is based on the following:</p>\n<ul>\n<li><strong>Docker</strong>&#xA0;and <strong>rkt</strong> for containers</li>\n<li><strong>systemd</strong> for startup scripts, and restarting services automatically</li>\n<li><strong>etcd</strong> as centralized configuration key/value store</li>\n<li><strong>fleetd</strong> to distribute services over all machines in the cluster. Yum.</li>\n<li><strong>journald</strong>&#xA0;to manage logs. Another yum.</li>\n</ul>\n<p>Amazingly, with CoreOS managing a cluster feels a&#xA0;lot like managing a single machine! &#xA0;We&#x2019;ve come a long way since ENIAC!</p>\n<p>There&#x2019;s one thing people&#xA0;notice&#xA0;when working with CoreOS &#x2013; the repetitive inspection of&#xA0;local or remote logs using &#x201C;<strong>journalctl -M machine-N -f | grep something</strong>&#x201C;. &#xA0;It&#x2019;s great to have easy access to logs from&#xA0;all&#xA0;machines in the cluster, but &#x2026; grep? Really? Could this&#xA0;be done better? &#xA0;Of course, it&#x2019;s 2015!</p>\n<p>Here is a quick example that shows how to centralize logging with CoreOS&#xA0;with just a&#xA0;few commands. The idea is to forward the output of &#x201C;<strong>journalctl -o short</strong>&#x201D; to <a href=\"http://sematext.com/logsene/\">Logsene</a>&#x2018;s&#xA0;<a href=\"https://sematext.atlassian.net/wiki/display/PUBLOGSENE/Syslog\" target=\"_blank\">Syslog Receiver</a> and take&#xA0;advantage of all its functionality &#x2013; log searching, alerting, anomaly detection, <a href=\"http://blog.sematext.com/2015/06/11/1-click-elk-stack-hosted-kibana-4/\" target=\"_blank\">integrated Kibana</a>, even correlation of logs with <a href=\"http://blog.sematext.com/2015/06/09/docker-monitoring-support/\" target=\"_blank\">Docker performance metrics</a> &#x2014; hey, why not, it&#x2019;s all available right there, so we may as well make use of it all! &#xA0;Let&#x2019;s get started!</p>\n<p><strong>Preparation: </strong></p>\n<p>1) Get a list of IP addresses of your CoreOS machines</p>\n<pre>fleetctl list-machines\n</pre>\n<p>2) Create a new Logsene App (<a href=\"https://apps.sematext.com/logsene-reports/registerApplication.do\" target=\"_blank\">here</a>)<br>\n3) Change the Logsene App Settings, and authorize the CoreOS host IP Addresses from step 1) (<a href=\"https://sematext.atlassian.net/wiki/display/PUBLOGSENE/Authorizing+IPs+for+Syslog\" target=\"_blank\">here&#x2019;s how/where</a>)</p>\n<p>Congratulations &#x2013; you just&#xA0;made it possible for your CoreOS machines to ship their logs to your new Logsene app!<br>\nTest it by running the following on any of your CoreOS machines:</p>\n<pre>journalctl -o short -f | ncat --ssl logsene-receiver-syslog.sematext.com 10514</pre>\n<p>&#x2026;and check if the logs arrive in Logsene (<a href=\"https://apps.sematext.com/logsene-reports/mainPage.do\" target=\"_blank\">here</a>). &#xA0;If they don&#x2019;t,&#xA0;yell at us&#xA0;<a href=\"http://twitter.com/sematext\" target=\"_blank\">@sematext</a>&#xA0;&#x2013; there&#x2019;s nothing better than&#xA0;public shaming on Twitter to get us to fix things. <span class=\"wp-smiley wp-emoji wp-emoji-smile\" title=\":)\">:)</span></p>\n<p><strong>Create a fleet unit file called logsene.service</strong></p>\n<pre>[Unit]\nDescription=Logsene Log Forwarder\n\n[Service]\nRestart=always\nRestartSec=10s\nExecStartPre=/bin/sh -c \"if [ -n \\\"$(etcdctl get /sematext.com/logsene/`hostname`/lastlog)\\\" ]; then echo \\\"Value Exists: /sematext.com/logsene/`hostname`/lastlog $(etcdctl get /sematext.com/logsene/`hostname`/lastlog)\\\"; else etcdctl set /sematext.com/logsene/`hostname`/lastlog\\\"`date +\\\"%Y-%%m-%d %%H:%M:%S\\\"`\\\"; fi\"\nExecStart=/bin/sh -c \"journalctl --since \\\"$(etcdctl get /sematext.com/logsene/`hostname`/lastlog)\\\" -o short -f | ncat --ssl logsene-receiver-syslog.sematext.com 10514\"\nExecStopPost=/bin/sh -c \"export D=\\\"`date +\\\"%Y-%%m-%%d %%H:%M:%S\\\"`\\\"; /bin/etcdctl set /sematext.com/logsene/$(hostname)/lastlog \\\"$D\\\"\"\n\n[Install]\nWantedBy=multi-user.target\n\n[X-Fleet]\nGlobal=true\n</pre>\n<p><strong>Activate cluster-wide logging to Logsene with fleet</strong></p>\n<p>To&#xA0;start logging to Logsene from&#xA0;<strong><em>all</em></strong> machines activate logsene.service:</p>\n<pre>fleetctl load logsene.service\nfleetctl start logsene.service\n</pre>\n<p>There. &#xA0;That&#x2019;s all there is to it! &#xA0;Hope this worked for you!</p>\n<p>At this point all your CoreOS logs should be going to <a href=\"http://sematext.com/logsene/\" target=\"_blank\">Logsene</a>. &#xA0;Now you have a <strong>central place to see all your CoreOS logs</strong>. &#xA0;If you want to send your app logs to Logsene, you can do that, too &#x2014; anything that can send logs via Syslog or to Elasticsearch can also <a href=\"https://sematext.atlassian.net/wiki/display/PUBLOGSENE/Sending+Events+to+Logsene\" target=\"_blank\">ship logs to Logsene</a>. If you want some <a href=\"http://sematext.com/spm/integrations/docker-monitoring.html\" target=\"_blank\">Docker containers &amp; host monitoring</a> to go with your CoreOS logs, just <a href=\"https://registry.hub.docker.com/u/sematext/spm-agent-docker/\" target=\"_blank\">pull spm-agent-docker</a>&#xA0;from Docker Registry. &#xA0;Enjoy!</p>\n<div id=\"jp-post-flair\" class=\"sharedaddy sd-rating-enabled sd-like-enabled sd-sharing-enabled\"><div class=\"sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded\" id=\"like-post-wrapper-7678707-5114-558863b60ae5b\"><h3 class=\"sd-title\">Like this:</h3><p class=\"likes-widget-placeholder post-likes-widget-placeholder\"><span class=\"button\"><span>Like</span></span> <span class=\"loading\">Loading...</span></p><a class=\"sd-link-color\"></a></div>\n<p id=\"jp-relatedposts\" class=\"jp-relatedposts\">\n\t<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</p></div>\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t</div>\n\n\t\t\t\t\n\n\t\t\t</div>"
    }, {
        "title": "Automating Docker Logging: ElasticSearch, Logstash, Kibana, and Logspout",
        "url": "http://nathanleclaire.com/blog/2015/04/27/automating-docker-logging-elasticsearch-logstash-kibana-and-logspout/",
        "excerpt": "You, too, could Logstash. Say that title five times fast! Seriously though, I wasn&#x2019;t sure what else to call this article so that people would actually find it. This article is a spiritual&hellip;",
        "date_saved": "Thu Jul 28 20:07:52 EDT 2016",
        "html_file": "automating_docker_logging_elasticsearch_logstash_kibana_and_logspout.html",
        "png_file": "automating_docker_logging_elasticsearch_logstash_kibana_and_logspout.png",
        "md_file": "automating_docker_logging_elasticsearch_logstash_kibana_and_logspout.md",
        "content": "<div><div>\n<p><img src=\"http://nathanleclaire.com/images/logstashcontainer.gif\">\n</p><p class=\"caption\">You, too, could Logstash.</p>\n\n<p>Say that title five times fast! Seriously though, I wasn&#x2019;t sure what else to\ncall this article so that people would actually find it.</p>\n<p>This article is a spiritual successor to <a href=\"http://evanhazlett.com/2014/11/Logging-with-ELK-and-Docker/\">Evan Hazlett&#x2019;s article on running the\nELK stack in\nDocker</a> and\n<a href=\"https://clusterhq.com/blog/fig-flocker-multi-server-docker-apps/\">ClusterHQ&#x2019;s article on doing it with Fig/Docker\nCompose and Flocker</a>.\nHuge shout out to them for being the giants whose shoulders I stand on. It is\nalso influenced by the recent <a href=\"http://research.google.com/pubs/pub43438.html\">Borg\npaper</a> which came out and\nmentions some of these tools in discussing having a &#x201C;standard stack&#x201D; for doing\nthe sorts of things that we are interested in here and more.</p>\n<h2 id=\"the-problem:b71c94aa6484d430b08a2d56d3851ee0\">The problem</h2>\n<p>Hopefully I don&#x2019;t need to convince you of the value of keeping meticulous logs\nwhich are easily searchable. If I do, simply consider what happens when\nsomething goes wrong with your application and <em>nobody has a damn clue what\nhappened</em> - at the very least, the pointy haired bosses are upset, for some\nreason that has to do with giant piles of money or audits or something like\nthat.</p>\n<p>To that end, a lot of solutions have cropped up to help, including very lovely\ntechnologies such as <a href=\"http://Logstash.net/\">Logstash</a>. More on that in a\nsecond.</p>\n<p>Since most of us know that logging is critical, one of the issues which has\nbeen driving people batty with the increase of interest in Docker is, of\ncourse, how to handle logs in a Dockerized world.</p>\n<p>With Docker, one is suddenly forced to think of logging in a different way than\nthey otherwise might have. In a traditional Linux deployment, the model for\napplication or infrastructure logging is usually to log to files, which are\nfrequently but not always located inside of the <code>/var/log</code> directory. Indeed,\nI have &#x201C;fond&#x201D; memories of checking the PHP logs for a project inside of that\ndirectory when things would go blammo and our built-in application logging\nwasn&#x2019;t telling me anything useful. I&#x2019;m not really a fan of splitting the logs\nlike that (more moving parts == harder to debug), and it&#x2019;s probably better\npractice to have a uniform way to access logs. Indeed, there is an interesting\narticle about this idea (a &#x201C;Unified Logging Layer&#x201D;)\n<a href=\"http://www.fluentd.org/blog/unified-logging-layer\">here</a> by Kiyoto Tamura of\n<a href=\"http://www.fluentd.org\">Fluentd</a>, which is a tool similar to Logstash.</p>\n<p>So what&#x2019;s different about Docker? Well, suddenly, instead of having all of\nyour logs in files on one uniform place in the host system, they are scattered\nin a variety of different isolated environments in containers. Uh oh. Sounds\nlike the opposite of what we said we wanted above.</p>\n<p>The way that Docker historically has handled logging is through the <code>docker\nlogs</code> command - Docker captures the STDOUT and STDERR of each container\nprocess, stores it on disk, and the user can query it with <code>docker logs\n&lt;container&gt;</code>. This works pretty well for purposes like development where you\njust want to dump some output to a terminal screen and access it pretty\nquickly, but starts to become more troublesome when you want to consider using\nDocker for more complex environments, <em>or</em> you want to look at logs from more\ntraditionally-architected UNIX daemons which expect to run in the background\nand log to disk inside of containers. In the first case, the issues are mainly\naround:</p>\n<ol>\n<li><em>discoverability</em> - if containers are meant to be ephemeral, trying to track\ndown the one with the logs that I want and parse them using something like\n<code>grep</code> doesn&#x2019;t sound fun, and-</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Log_rotation\"><em>log rotation</em></a> - some services\nare particular chatty, or simply meant to live for a long time, so we need a\nway of cleaning up after a while and making sure that our disk does not fill up\nwith logs we are not using. Docker out of the box does not really support for\nthis as far as I&#x2019;m aware.</li>\n</ol>\n<p>I&#x2019;m not going to talk about log rotation in this article, since that&#x2019;s a whole\n&#x2018;nother can of worms, but I will describe how the stack outlined here is meant\nto ease the process of dealing with the first problem.</p>\n<p>As for keeping tabs on processes which log to disk inside of containers, there\nare a variety of solutions and hacks to make this work. One of my favorites,\nnot really outlined here but in my opinion quite useful, is to make the\ndirectory where the logs are written in the original container a\n<a href=\"http://docs.docker.com/userguide/dockervolumes/\">volume</a>, and have some\nadditional containers inherit that volume using <code>--volumes-from</code>. Then they\ncan follow the logs using <code>tail -f /var/log/foo/access.log</code> or something like\nthat. In my opinion this promotes a decent separation of concerns since your\ncontainer monitoring the log is different from the one writing to it, and\nadditionally (less substantially) you will actually bypass the union filesystem\nto do so (just like you would do with a database). No reason to track logs\n(state) in images, really.</p>\n<p>What to do about discoverability, then? Well, we will run an <a href=\"https://www.elastic.co/webinars/introduction-elk-stack\">ELK\nstack</a> inside of\nDocker, and use the <a href=\"https://github.com/gliderlabs/logspout\">logspout</a> tool to\nautomatically route container logs to Logstash. I really feel like this type\nof approach is the future in a lot of ways - if you&#x2019;re going to be running\ncontainers, stopping them, deleting them and so on, you might as well hook into\nthose native events and make the lifecycle of a container accessible to track\nand monitor. Then your infrastructure can be reactive instead of needy for\nhuman intervention. Likewise for things like load balancing, service\ndiscovery, and so on, but that&#x2019;s for another article entirely.</p>\n<h2 id=\"the-approach:b71c94aa6484d430b08a2d56d3851ee0\">The approach</h2>\n<p>Following the lead of Evan and the ClusterHQ folks, we are going to run:</p>\n<ol>\n<li>ElasticSearch to index the log data collected and make it more easily\nqueryable</li>\n<li>Logstash to act as a remote syslog to collect the logs from the containers</li>\n<li>Logspout to actually send the container logs to Logstash</li>\n<li>Kibana as a nice front end for interacting with the collected data</li>\n<li>Cadvisor, a dashboard for monitoring container resource metrics, for kicks</li>\n</ol>\n<p>If that sounds like an intimidating amount of stuff to run, try not to fret too\nmuch - we&#x2019;re going to use <a href=\"https://github.com/docker/compose\">Docker Compose</a>\nto make starting up this stack and using it very straightforward.</p>\n<p>So, if you want to follow along at home, you can run the following commands to\nget started very quickly (you will need the latest versions of\n<a href=\"https://docs.docker.com/installation/\">Docker</a> and <a href=\"https://docs.docker.com/compose\">Docker\nCompose</a> installed):</p>\n<pre>\n$ git clone https://github.com/nathanleclaire/elk\n$ cd elk\n$ docker-compose -f docker-compose-quickstart.yml up\n</pre>\n<p>This will boot up the application with prebaked images from Docker Hub, and\nyour Kibana front-end will be accessible from port 80 of whatever host\n<code>DOCKER_HOST</code> points to.</p>\n<p>Personally, I like to kick up a DigitalOcean droplet or equivalent using\n<a href=\"https://github.com/docker/machine\">Docker Machine</a> when I&#x2019;m doing this kind of\nwork because the bandwidth for image pulls tends to be much better than on your\nfriendly neighborhood WiFi connection. If you want to also do so, the commands\nto create your own server to run this on will be similar to this (and once\nagain, make sure you have the latest version of Machine installed):</p>\n<pre>\n$ export DIGITALOCEAN_ACCESS_TOKEN=MY_SECRET_API_TOKEN\n$ docker-machine create -d digitalocean \\\n --digitalocean-size 4gb \\\n --digitalocean-image docker \\\n droplet\n....\n....\n....\nTo point your Docker client at it, run this in your shell: eval \"$(docker-machine env droplet)\"\n$ eval \"$(docker-machine env droplet)\"\n</pre>\n<p>I generally recommend a decently beefy server like outlined above because these\nprocesses tend to be a little memory-hungry. It will still work fine locally,\nbut the pulls may be a little slower unless you&#x2019;re one of the lucky few with\nfiber.</p>\n<p>If you&#x2019;re not a huge fan of running untrusted images (or you just want to\ntinker and modify the build yourself), no problem: the default\n<code>docker-compose.yml</code> in that repo is all based on <code>build</code> parameters, so you\ncan actually build the images yourself and</p>\n<pre>\n$ docker-compose build\n$ docker-compose up\n</pre>\n<p>When you boot the containers up, you&#x2019;ll see output like this in your terminal:</p>\n<p><img src=\"http://nathanleclaire.com/images/figelk.png\">\n</p>\n\n<p>You&#x2019;ll probably see some errors about Logspout failing to connect to syslog,\nwhich is totally fine and normal. It&#x2019;s just because the Logstash container\nhasn&#x2019;t started yet. When it starts, the errors will cease.</p>\n<p>If you visit port 80 on the host where you&#x2019;ve booted up the little group of\ncontainers, you should be greeted by a Kibana welcome screen:</p>\n<p><img src=\"http://nathanleclaire.com/images/kibanawelcome.png\">\n</p>\n\n<p>Click on the little &#x201C;Logstash dashboard&#x201D; link (indicated by the arrow in the\npicture above), or simply go directly to\n<code>&lt;machineIp&gt;/#/dashboard/file/default.json</code>, and you will be taken to the\ndashboard for your new Docker logging infrastructure!</p>\n<p>Like I keep mentioning, the basic &#x201C;stack&#x201D; of containers for this was pretty\nmuch ripped straight out of Evan&#x2019;s article, which is fantastic, but when I went\nto go implement things for myself there were a few issues I encountered:</p>\n<ol>\n<li>Logspout was sending data in a slightly different format than the <code>grok</code>\nfilter for Logstash in Evan&#x2019;s original article / image expected, so:</li>\n<li>There would be lots of grok parse failures in the logs (this just means\nLogstash tried to match the log message to a pattern it knows and couldn&#x2019;t).\nBy itself this wouldn&#x2019;t be <em>too</em> terrible, but:</li>\n<li>Because Logstash is a container monitored by Logspout, Logspout would\nforward all of <em>Logstash</em>&#x2019;s logs to Logstash, causing it to spin into a\nfrenetic loop and eat up almost all of the CPU on the box (<code>docker stats</code>, a\nvery useful command which will report container resource usage statistics in\nrealtime, was partially how I caught and understood that this was happening).</li>\n</ol>\n<p><img src=\"http://nathanleclaire.com/images/dockerstats.png\">\n</p><p class=\"caption\">This can't be good.</p>\n\n<p>So what&#x2019;s a hacker to do? Hack, of course! I forked Evan&#x2019;s original\nDockerfiles/repos for the images and modified things a bit. For starters, I\nthrew all of the containers into services in a <code>docker-compose.yml</code> file for\nquick reference (that prevented having to re-type all of the <code>docker run</code>\ncommands over and over again whenever I wanted to re-run the stack). I noticed\nin <a href=\"https://github.com/gliderlabs/logspout\">the Logspout Github repo</a>&#x2019;s\ndocumentation that you could specify an environment variable on a container to\ndictate that its logs should <em>not</em> be forwarded by Logspout. So, I enabled it\non the Logstash container: an environment variable setting of <code>LOGSPOUT=ignore</code>\ndid the trick.</p>\n<p>It should also be noted, for anyone reading now, that the <code>gliderlabs/logspout</code>\nimage now expects the Docker socket to be mounted in at <code>/var/run/docker.sock</code>\n(the classic location), rather than at <code>/tmp/docker.sock</code> like it was before -\nthis caused me a few headaches before I realized what was going on as I was\ntrying to use the commands from Evan&#x2019;s article verbatim. So take note!!</p>\n<p>Now my stack was no longer thrashing my CPU by getting into that infinite loop.\nBut I still had a challenge: all of those grok parse failures in the logs. The\nprovided example configuration file for Logstash did not jive well with what\nlogspout was emitting. So, in order to get a better grip on what was\nhappening, I did what anyone should do in this situation and read the source\ncode for Logspout.</p>\n<p>It wasn&#x2019;t long before I stumbled across this <a href=\"https://github.com/gliderlabs/logspout/blob/master/adapters/syslog/syslog.go#L33\">block of code related to the\nsyslog\nadapter</a>:</p>\n<pre><code class=\"language-go\">func NewSyslogAdapter(route *router.Route) (router.LogAdapter, error) {\n transport, found := router.AdapterTransports.Lookup(route.AdapterTransport(\"udp\"))\n if !found {\n return nil, errors.New(\"bad transport: \" + route.Adapter)\n }\n conn, err := transport.Dial(route.Address, route.Options)\n if err != nil {\n return nil, err\n }\n\n format := getopt(\"SYSLOG_FORMAT\", \"rfc5424\")\n priority := getopt(\"SYSLOG_PRIORITY\", \"{{.Priority}}\")\n hostname := getopt(\"SYSLOG_HOSTNAME\", \"{{.Container.Config.Hostname}}\")\n pid := getopt(\"SYSLOG_PID\", \"{{.Container.State.Pid}}\")\n tag := getopt(\"SYSLOG_TAG\", \"{{.ContainerName}}\"+route.Options[\"append_tag\"])\n structuredData := getopt(\"SYSLOG_STRUCTURED_DATA\", \"\")\n if route.Options[\"structured_data\"] != \"\" {\n structuredData = route.Options[\"structured_data\"]\n }\n data := getopt(\"SYSLOG_DATA\", \"{{.Data}}\")\n\n var tmplStr string\n switch format {\n case \"rfc5424\":\n tmplStr = fmt.Sprintf(\"&lt;%s&gt;1 {{.Timestamp}} %s %s %s - [%s] %s\\n\",\n priority, hostname, tag, pid, structuredData, data)\n case \"rfc3164\":\n tmplStr = fmt.Sprintf(\"&lt;%s&gt;{{.Timestamp}} %s %s[%s]: %s\\n\",\n priority, hostname, tag, pid, data)\n default:\n return nil, errors.New(\"unsupported syslog format: \" + format)\n }\n tmpl, err := template.New(\"syslog\").Parse(tmplStr)\n if err != nil {\n return nil, err\n }\n return &amp;SyslogAdapter{\n route: route,\n conn: conn,\n tmpl: tmpl,\n }, nil\n}\n</code></pre>\n<p>Turns out that in my case Logspout forwards logs according to the <a href=\"https://tools.ietf.org/html/rfc5424\">syslog\nRFC5424 standard</a> (you can see how it\ndefaults to this in the code above). I spent some time fiddling with the very\ncool <a href=\"http://grokdebug.herokuapp.com/\">Logstash grok parse test app</a>, but then\nwondered if there were any existing resources available online which solved\nthis problem already. Some quick Googling lead me to <a href=\"http://scottfrederick.cfapps.io/blog/2014/02/20/cloud-foundry-and-Logstash\">this\narticle</a>,\nwhich brilliantly outlined pretty much the exact grok parse filter I needed. I\nchanged around just a few things (for instance, I changed &#x201C;app&#x201D; field to\n&#x201C;containername&#x201D;) but I was soon on my way - parsing Logspout logs into useful\ndata.</p>\n<p>My final Logstash configuration file looks like this:</p>\n<pre><code>input {\n tcp {\n port =&gt; 5000\n type =&gt; syslog\n }\n udp {\n port =&gt; 5000\n type =&gt; syslog\n }\n}\n\nfilter {\n if [type] == \"syslog\" {\n grok {\n match =&gt; { \"message\" =&gt; \"%{SYSLOG5424PRI}%{NONNEGINT:ver} +(?:%{TIMESTAMP_ISO8601:ts}|-) +(?:%{HOSTNAME:containerid}|-) +(?:%{NOTSPACE:containername}|-) +(?:%{NOTSPACE:proc}|-) +(?:%{WORD:msgid}|-) +(?:%{SYSLOG5424SD:sd}|-|) +%{GREEDYDATA:msg}\" }\n }\n syslog_pri { }\n date {\n match =&gt; [ \"syslog_timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ]\n }\n if !(\"_grokparsefailure\" in [tags]) {\n mutate {\n replace =&gt; [ \"@source_host\", \"%{syslog_hostname}\" ]\n replace =&gt; [ \"@message\", \"%{syslog_message}\" ]\n }\n }\n mutate {\n remove_field =&gt; [ \"syslog_hostname\", \"syslog_message\", \"syslog_timestamp\" ]\n }\n }\n}\n\noutput {\n elasticsearch { host =&gt; \"elasticsearch\" }\n stdout { codec =&gt; rubydebug }\n}\n</code></pre>\n<p>There&#x2019;s probably plenty of room for improvement, but I&#x2019;ll have to get much\nbetter at Logstash first ;P</p>\n<h2 id=\"so-what:b71c94aa6484d430b08a2d56d3851ee0\">So what?</h2>\n<p>Now I actually had logs in a meaningful format, which weren&#x2019;t thrashing my CPU.\nIt&#x2019;s great! Whenever I run a container on that host, the logs get indexed in\nElasticSearch and made available for querying from Kibana automatically! The\nLogstash filter takes care of parsing the raw syslog messages into more useful\nlabeled information. This includes, as noted above, the logs from the\ncontainers running this stack (except for Logstash - not sure how to handle\nthat one, or if I should even worry about it. Perhaps there&#x2019;s an additional\nconfiguration option that would make it only print its own logs to STDOUT\ninstead of all of them). Imagine how useful this kind of automatic container\nlogging would be with something like\n<a href=\"http://rancher.com/rancher-os/\">RancherOS</a> as well, where <em>everything</em>\nincluding system services is running inside of Docker containers.</p>\n<p>You can toggle which fields are displayed in the logs messages to get a quick\nview of what&#x2019;s being logged to your application. This makes it easier to get a\nfeel for what is happening in your containers in real time. Kibana has an\ninsane amount of power and configurability, allowing you to sort, search, and\nfilter by all of the different fields you have.</p>\n<p><img src=\"http://nathanleclaire.com/images/logfields.png\">\n</p><p class=\"caption\">Logs which are nice and easy to read and query!</p>\n\n<p>Try running a container against the ELK stack host to see the logs appear in\nKibana automatically (you probably will need to refresh your browser or click\nthe little &#x201C;refresh&#x201D; button in Kibana)</p>\n<pre>\n$ docker run -d --name number_spitter debian:jessie bash -c 'for i in {0..2000}; do echo $i; done'\n</pre>\n<p>You can see now that most of the messages in the log are from the\n<code>number_spitter</code> container, which naturally spits out a bunch of numbers in\nthat little bash loop.</p>\n<p><img src=\"http://nathanleclaire.com/images/numberspitter.png\">\n</p><p class=\"caption\">Whaaaaat! The Number Spitter container is so chatty!</p>\n\n<p>There is a huge amount of amazing stuff you can do beyond this basic setup as\nwell. Naturally, there is the time series graph which can be used as a visual\nrepresentation of your containers&#x2019; activity over time, allowing you to zero\ndown on &#x201C;hot spots&#x201D; and quickly get a feel for what happened when, and why.</p>\n<p><img src=\"http://nathanleclaire.com/images/kibanagraph.png\">\n</p><p class=\"caption\">What the hell happened here? I don't know, but I can find out.</p>\n\n<p>Displayed: actual incident with the ElasticSearch container.</p>\n<p>There is also a huge world of additional things which can and should be done\nwith Logstash in this setup - the configuration file discussed here is only the\nbeginning. Some containers have their own logging format which should be\nsubjected to additional parsing. For instance, you can see that the log\nmessages in the picture above showing the &#x201C;table format&#x201D; are for the Kibana\ncontainer itself and have their own timestamp, information about which IP\naddress accessed what file, the status code of the HTTP response, and so on.</p>\n<p>So, that is additional information which could definitely be parsed into a more\nuseful structured format, and it is the kind of thing which will need to be\ndone on a per-app basis. Likewise, you can probably imagine really cool\nhigher-order constructs like messages which bump their priority up if they\nmatch a certain pattern like if the application recovers from a panic, hits a\ncode path which cases a null pointer exception, fails to connect to the\ndatabase, and so on.</p>\n<p>Also, if Logspout also forwarded Docker events (I&#x2019;m confused as to whether or\nnot it supports this, since I seem to recall seeing delete events for some\ncontainers show up but nothing else) and/or Docker daemon logs that would be\nSLICK! Perhaps there is an easier way to do this than hijacking Logspout to do\nit though.</p>\n<p>Additionally, Docker 1.6 has <a href=\"https://github.com/docker/docker/issues/7195\">log\ndrivers</a> that might be able to do\na similar thing in a slightly different way, so I&#x2019;m curious to explore how this\nsetup might mutate when taking that into consideration. I don&#x2019;t understand the\nLogspout internals well enough yet to know if you could do <code>--log-driver=none</code>\nand still have Logspout forward the logs, for instance. That would be pretty\ncool since then you would only have to track the data in ElasticSearch, not in\nES <em>and</em> <code>--log-driver=json</code> format.</p>\n<p>I&#x2019;m not really sure if Logstash has support for eventing as well (e.g. send an\ne-mail or a text message to the on-call person if too many errors come in a\nlimited period of time), but that&#x2019;s another potential use case (I&#x2019;d be\nsurprised if something like this wasn&#x2019;t already possible if not\nwell-supported). Come to think of it, this kind of thing is really screaming\nfor a Slack integration as well - e.g., notify the #sales channel every time we\nclose a no-touch subscription, which we know about because it got logged. But\nI digress.</p>\n<p>Speaking of digression, the demo app also includes an instance of\n<a href=\"https://github.com/GoogleComputeEngine/cadvisor\">cAdvisor</a>, a very useful tool\nto monitor the resource usage of your containers. You can access it at port\n8080 on the host you&#x2019;re working with:</p>\n<p><img src=\"http://nathanleclaire.com/images/cadvisor.png\">\n</p><p class=\"caption\">Pretty graphs for your containers</p>\n\n<h2 id=\"nice-should-i-start-using-this-right-away:b71c94aa6484d430b08a2d56d3851ee0\">Nice. Should I start using this right away?</h2>\n<p>This isn&#x2019;t the exact setup that you would neccessarily want to chuck into\nproduction immediately without modifying anything, although it definitely looks\na lot better than just &#x201C;<code>docker run</code>, maybe check up on them later manually\nusing <code>docker logs</code>&#x201D;. Some additional things to consider, in no particular order:</p>\n<ol>\n<li>ElasticSearch replicas: persisting the data on multiple nodes for\nredundancy. Weird stuff will happen, nodes will go down, and ideally your\ninfrastructure should be set up to handle this kind of failure smoothly.\nLikewise, setting up a logspout instance on each node which forwards the host&#x2019;s\nlogs to the &#x201C;master&#x201D; Logstash (and I&#x2019;m not really certain of how redundancy\nshould work for this potential point of failure) is something you need to\ntackle if you have a multi-host setup.</li>\n<li><a href=\"https://twitter.com/jessitron/status/591188506350845952\">Backing up</a> and\nrotating the log data stored in ElasticSearch. To that end, I&#x2019;m sure\n<a href=\"https://clusterhq.com\">ClusterHQ</a> (self-identified as the &#x201C;container data\npeople&#x201D;) would love to help you with this ;)</li>\n<li>Making sure that access to this interface is constrained at the network and\nuser level (the demo app leaves everything wide open, so if you run it on the\npublic Internet, expect <em>everyone</em> to be able to see it and mess with it)</li>\n<li>Adding <a href=\"http://docs.docker.com/reference/commandline/cli/#restart-policies\">container restart\npolicies</a>\nand\n<a href=\"http://rancher.com/comparing-monitoring-options-for-docker-deployments/\">monitoring</a>\nto ensure health and uptime of the services.</li>\n<li>Running the containers as lower-privileged users for better security</li>\n</ol>\n<p>So, there are still many things to think about before using this for Very Real\nStuff, but I hope I have gotten some of the gears turning in your head about\nhow you might accomplish this for yourself if you are motivated. I feel like\nrunning this tooling is within the reach of even a very small startup nowadays,\nand I&#x2019;m pretty excited that world-class tools like this are becoming more\naccessible. Ultimately it will be critical for teams now and in the future to\nbe capable of scaling to many machines per operator (SRE), and this is exactly\nthe type of tooling which makes that goal more approachable.</p>\n<h2 id=\"fin:b71c94aa6484d430b08a2d56d3851ee0\">Fin</h2>\n<p>Go forth and log my friends!! And let me know if you have ideas or\nsuggestions. I love to see follow-up articles on this sort of thing as well,\nso maybe you can be the next link in the chain.</p>\n<p>Until next time, stay sassy Internet!</p>\n\n</div>\n</div>"
    }, {
        "title": "Extending layer 2 across container hosts",
        "url": "https://www.flockport.com/flockport-labs-extending-layer-2-across-container-hosts/",
        "excerpt": "This post is to consolidate all our LXC networking guides and also explore some advanced container networking that have limited use but are interesting nonetheless hence the Flockport labs monicker.&hellip;",
        "date_saved": "Thu Jul 28 20:07:56 EDT 2016",
        "html_file": "extending_layer_2_across_container_hosts.html",
        "png_file": "extending_layer_2_across_container_hosts.png",
        "md_file": "extending_layer_2_across_container_hosts.md",
        "content": "<div><div id=\"mk-text-block-234\" class=\"mk-text-block \">This post is to consolidate all our <a title=\"Flockport news and guides\" href=\"http://www.flockport.com/news\" target=\"_blank\">LXC networking guides</a> and also explore some advanced container networking that have limited use but are interesting nonetheless hence the Flockport labs monicker. Experimental containers will now be posted under this label in our <a title=\"Flockport containers\" href=\"http://www.flockport.com/containers/\" target=\"_blank\">container section. </a>\n<p>We previously looked at <a title=\"Flockport LXC Networking Guide\" href=\"http://www.flockport.com/lxc-networking-guide/\" target=\"_blank\">basic LXC container networking; bridging, NAT, static IPs, public IPs</a> etc and then at <a title=\"Flockport LXC Advanced Networking Guide\" href=\"http://www.flockport.com/lxc-advanced-networking-guide/\" target=\"_blank\">connecting LXC containers across hosts</a> with<a title=\"Connect LXC hosts with GRE tunnels\" href=\"http://www.flockport.com/connecting-lxc-hosts-with-gre-tunnels/\" target=\"_blank\"> GRE tunnels</a> or secure<a title=\"LXC VPN TINC\" href=\"http://www.flockport.com/building-distributed-mesh-networks-of-lxc-hosts/\" target=\"_blank\"> Tinc </a>or <a title=\"Flockport LXC IPSEC VPN Guide\" href=\"http://www.flockport.com/connect-lxc-hosts-and-containers-with-ipsec-vpns/\" target=\"_blank\">IPSEC VPNs.</a></p>\n<p>We also covered <a title=\"LXC load balancing and failover\" href=\"http://www.flockport.com/load-balancing-and-failover-with-lxc-containers/\" target=\"_blank\">basic failover and load balancing with Keepalived and Nginx </a>and <a title=\"LXC failover and loadbalancing with Keepalived and LVS\" href=\"http://www.flockport.com/load-balancing-and-failover-of-lxc-containers-part-ii/\" target=\"_blank\">with LVS</a>. These networking guides apply to both LXC and VM networking in Linux in general with KVM or Xen for instance.</p>\n<p>This would be a good time to brush up. This guide explores a few advanced LXC networking possibilities that depend on a fair understanding of LXC and VM networking.</p>\n<p>We will cover extending layer 2 across remote LXC hosts with L2tpv3 or Ethernet over GRE in Part I and using LXC's support for multiple network interfaces to explore using a container as a router and touch on using VMs of software routers like Vyatta, Vyos or Pfsense to route your container or VM networks in Part II. We also cover <a title=\"Flockport labs - LXC and VXLAN\" href=\"https://www.flockport.com/flockport-labs-lxc-and-vxlan/\" target=\"_blank\">using VXLAN separately</a>.</p>\n<p>Jump directly to <a href=\"https://www.flockport.com/flockport-labs-extending-layer-2-across-container-hosts/#extendingl2\">Extending Layer 2 across LXC hosts</a> if you are up to date on LXC networking.</p>\n<p><b>LXC Networking Refresh</b><br>\nThe default LXC installation creates what is a known as a NAT bridge, this is a standalone software bridge that is created on the host (a software bridge is like a switch and is a basic functionality provided by the Linux kernel)</p>\n<p>Your containers or VMs connect to this bridge and get IPs in a private subnet. The routing is done by some iptables rules.</p>\n<p>The default lxcbr0 is this kind of a bridge. Bridging, DHCP and basic routing is configured by the lxc-net script. The virbr0 bridge used by Virt Manager for KVM is similar.</p>\n<p>Take a look at the /etc/init.d/lxc-net script (in/etc/init/lxc-net in Ubuntu) Here is what the script does in short:</p>\n<pre>1. brctl addbr lxcbr0 ----- adds bridge\n2. ifconfig lxcbr0 10.0.3.1 netmask 255.255.255.0 up ----- gives the bridge an IP and brings it up\n3. Starts a dnsmasq instance with a specified interface lxcbr0 with DHCP subnet range 10.0.3.2-10.0.3.254\n4. iptables -t nat -A POSTROUTING -s 10.0.3..0/24 ! -d 10.0.3.0/24 -j ACCEPT ----- Adds an iptables masquerading rule for lxcbr0 so containers can access the net</pre>\n<p>In the default lxcbr0 network, containers are isolated in a private 10.0.3.0/24 subnet within the host and can only be accessed by each other and the host.</p>\n<p>To access the containers from beyond the host you would need to use port forwarding ie forward port 80 of the host to port 80 of the container to for instance make a web server in the container available on the host and the network. You can of course forward 'n' number of host ports to various containers but you cannot forward the same port to multiple containers.</p>\n<p>If you are in an internal network you can use basic routing&#xA0; to connect containers across hosts with the IP route utility. A typical command to connect to let's say the 10.0.4.0/24 container network on a host with IP 192.168.1.10 from 192.168.1.5 would look like this.</p>\n<p><code>ip route add 10.0.4.0/24 via 192.168.1.10</code></p>\n<p>To make this kind of routing work you need to ensure containers subnets are different across hosts.</p>\n<p>You can set static IPs inside the container using /etc/network/interfaces file (depending on how your container OS configures networking) or via the dnsmasq instance configured for the lxcbr0 network on the host by associating specific containers to IPs in the /etc/lxc/dnsmasq file.</p>\n<p>In a NAT type network there is no way to associate a public IP to the container. If your host has a public IP you can associate that IP with a container with 1-1 NAT mapping or if you have 2 public IPs use basic IP aliasing to associate the public IP to a container via NAT mapping.</p>\n<p><b>LXC Host Bridge</b><br>\nThat was the NAT bridge. You can also create a different network for LXC containers in which containers are on the same network as your host. This is a direct bridge creating by bridging your physical interface usually eth0 to a bridge say br0 which containers and VMs then connect to.</p>\n<p>If the host is 192.168.1.5 the containers will be in the same subnet 192.168.1.0/24. This is a flat network and easier to work with with no NAT layer between containers and the network. Containers connecting to this interfaces get their IP and networking services directly from the router your host is connected to.</p>\n<p>In case this is a public network you can easily associate public IPs to the containers, and they can be directly accessed from the internet. If you bridge the other hosts on this network to their respective eth0 and connect their containers to br0 interfaces, all you hosts and containers will be on the same network and thus be directly accessible by all containers and hosts.</p>\n<p>If you have 2 network interfaces in the host you can bridge eth1 to br1 for instance, to put containers across hosts in their own network via the br1 interface. Static IPs can be configured inside the container or the router.</p>\n<p><b>Container networking in the cloud</b><br>\nFor cloud vps instances you can use either of the above methods depending on the cloud provider. You can use a private NAT network and use port forwarding to access resources on the container, associate public IP via NAT mapping or if the cloud provider allows you to bridge or gives you private networks, you can become more creative in building your container network.</p>\n<p>At this point its important to remember a lot of cloud, vps, server providers may not support bridging and most do not support things like multicast so services like Keepalived, LVS or an overlay protocol like VXLAN that uses multicast may not work in these networks, unless they support unicast.</p>\n<p><b>Connect containers across several hosts over layer 3</b><br>\nWe already showed you how to connect containers across hosts on the same network with a simple routing rule. You can connect containers across several remote hosts with IPSEC VPNs, plain GRE tunnels or the awesome tool Tinc for mesh networks and VPNs. Containers and VMs that you connect across hosts need to be on different subnets.</p>\n<p>We have detailed guides on these in our <a title=\"Flockport News and Guides\" href=\"http://www.flockport.com/news/\" target=\"_blank\">News and Guides section</a>.</p>\n<p>You can think of these as overlay networks. But remember building VPNs across the public internet has a performance penalty; via the encryption of packets, latencies between your hosts and mtu issues. But these are tried and tested methods to build resilient networks and offer distributed services.</p></div> <div id=\"mk-text-block-982\" class=\"mk-text-block \">You can actually extend layer 2 across hosts beyond your network through a layer 3 tunnel. This basically means creating a 'distributed virtual switch' across hosts that may not be in the same private network, and are connected by public IPs over networks.\n<p>Please remember layer 2 over large latencies can be problematic and like all types of tunnels mtu issues need to be addressed. Simplicity is always the best way, and extending layer 2 across hosts is relatively simple to do but may not be simple to run.</p>\n<p>A distributed switch across multiple hosts is an extremely powerful capability to have for networking containers and VMs opening up a host of possibilities. The normal bridges you create in Linux via the inbuilt bridge or soft switches like OpenVSwitch (OVS) are limited to the host. Linux does not have a distributed switch like <a title=\"VMware virtual distributed switch\" href=\"http://www.vmware.com/in/products/vsphere/features/distributed-switch\" target=\"_blank\">VMware's VDS</a>.</p>\n<p>Imagine if you could have a bridge that spans both local and remote hosts, that your containers or VMs connect to on the same layer 2 network! You can do this with Ethernet over GRE or l2tpv3, and use ipsec to encrypt the tunnels.</p>\n<p>One of the host bridges can act as the router and offer DHCP service. Application and services which depend on layer 2 like Keepalived, LVS etc benefit from this.</p>\n<p>We are going to create a bridge on 2 remote hosts over their public IPs and connect the bridges with Ethernet over GRE or L2tpv3 so containers connecting to these bridges are on the same layer 2 network. We are using Debian Wheezy with kernel 3.14 from backports, and LXC 1.0.1 from the <a title=\"Flockport getting started guide\" href=\"http://www.flockport.com/start\" target=\"_blank\">Flockport repo</a> for this guide.</p>\n<p>We will first show you how to do this with Ethernet over GRE and then L2tpv3. The main difference is Ethernet over GRE is less well known while L2tpv3 is more widely used for l2 extension and uses UDP, and thus could be more flexible.</p>\n<p><b>Extending L2 with Ethernet over GRE</b><br>\nFirst create a bridge on both the remote hosts and bring it up. Let's call this bridge superbr0, you are course free to use any name you want.</p>\n<pre>brctl addbr superbr0\nifconfig superbr0 up</pre>\n<p>Then lets connect the superbr0 across the 2 hosts with public IP 1.1.1.1 and 2.2.2.2 with a tunnel.</p>\n<p>First on Host A<br>\n<code>ip link add testgre type gretap remote 2.2.2.2 local 1.1.1.1. ttl 255</code></p>\n<p>Then on Host B<br>\n<code>ip link add testgre type gretap remote 1.1.1.1 local 2.2.2.2 ttl 255</code></p>\n<p>For Ethernet over GRE we use the gretap device. Our interface/tunnel name is testgre, this can be a name of your choice. Let's connect it to our bridge. Do this on both Host A and Host B</p>\n<p><code>brctl addif superbr0 testgre</code></p>\n<p>Now our raw network is ready. Both superbr0 bridges are connected to each other over the testgre tunnel and any VM or container which connects to the superbr0 bridge on either host will be on the same layer 2 network. Neat! You can extend to more hosts by adding more gretap tunnels.</p>\n<p>You can add static IPs to containers on both sides and and test it, but let's use dnsmasq and iptables to add basic DHCP and routing capabilities to the bridge. To do this let's use the superbr0 on host A as our router. First let's give it an IP</p>\n<p><code>ifconfig superbr0 10.0.2.1 netmask 255.255.255.0 up</code></p>\n<p>Now let's configure dnsmasq to serve this interface. In /etc/dnsmasq.conf add our newly minted bridge superbr0 to interface, add 10.0.2.1 to listen-address, uncomment bind-interfaces and give it a dhcp range of 10.0.2.2,10.0.2.254. Restart Dnsmasq and it should be ready to offer IPs on the superbr0 interface.</p>\n<pre>interface=superbr0\nlisten-address=10.0.2.1\nbind-interfaces\ndhcp-range=10.0.2.2,10.0.2.254,12h</pre>\n<p>You can also use a standalone instance of dnsmasq launched from a command line like this:</p>\n<pre>dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/dnsmasq-superbr0.pid --listen-address 10.0.2.1 --dhcp-range 10.0.2.2,10.0.2.254 --dhcp-lease-max=253 --dhcp-no-override --interface=superbr0</pre>\n<p>Connect any containers on Host A and B to the superbr0 interface and you should see them getting IPs in the 10.0.2.0/24 range given by dnsmasq we just configured on Host A.</p>\n<p>To provide internet access to your containers and VMs add a simple masquerading rule on Host A.</p>\n<p><code>iptables -t nat -A POSTROUTING -s 10.0.2.0/24 ! -d 10.0.2.0/24 -j MASQUERADE</code></p>\n<p>If you would prefer to have an external router serve the superbr0 interface then add the physical interface that connects to your router to superbr0. In this case you DO NOT need to give the bridge an IP and configure dnsmasq and iptables.</p>\n<p>So now containers on both side are on the same layer 2 network. But what if want to extend this to more physical container hosts?</p>\n<p>To do this you need a switch and a second network interface card on your host A or B. What we do is connect the second network interface eth1 to the switch and add it to the superbr0 interface.</p>\n<p><code>brctl addif superbr0 eth1</code></p>\n<p>So now any physical device connecting to the switch is connected to the superbr0 interface and will get its IPs from the router configured for this interface.</p>\n<p>To put any containers and VM in these additional hosts on the same interface you will have to bridge eth0 on the additional hosts to br0 and connect the containers and VMs to br0 on them. You can similarly do this on the other side of the tunnel on Host B to extend to other hosts.</p>\n<p>Also remember containers on both sides do not have to be limited to the extended layer 2 network on superbr0. You can add multiple network interfaces to the containers and connect them to local networks giving you more possibilities on routing and outbound connectivity.</p>\n<p><b>Extending Layer 2 with L2TPV3</b><br>\nThe principle is the same, only l2tpv3 uses UDP by default. You need to load the l2tp_eth module on both hosts before starting.</p>\n<p>First on Host A</p>\n<pre>modprobe l2tp_eth\nip l2tp add tunnel tunnel_id 1000 peer_tunnel_id 2000 encap udp local 1.1.1.1 remote 2.2.2.2 udp_sport 6000 udp_port 5000\nip l2tp add session tunnel_id 1000 session_id 3000 peer_session_id 4000</pre>\n<p>On Host B we switch the values</p>\n<pre>modprobe l2tp_eth\nip l2tp add tunnel tunnel_id 2000 peer_tunnel_id 1000 encap udp local 2.2.2.2 remote 2.2.2.2 udp_sport 5000 udp_port 6000\nip l2tp add session tunnel_id 2000 session_id 4000 peer_session_id 3000</pre>\n<p>Check the tunnel on both Hosts</p>\n<p><code>ip l2tp show tunnel</code></p>\n<p>Now add the l2tpv3 tunnel interface to your bridge on both hosts. Like for our Ethernet over GRE tunnel we will use the superbr0 bridge.</p>\n<p><code>brctl addif superbr0 l2tpeth0</code></p>\n<p>To configure DHCP, routing and other options you can use the instructions for the Ethernet over GRE above. Apart from the the tunnel interface everything else remains the same. You extend this to more hosts by adding more l2tpv3 tunnels. Both protocols have a lot more options to explore.</p>\n<p>You can also use the awesome vpn/mesh network app Tinc in switch mode to extend layer 2 across hosts. The difference is l2tpv3, Ethernet over GRE operates in kernel mode while Tinc operates in user mode.</p>\n<p>Mikrotik for instance uses Ethernet over GRE for their <a title=\"Mikrotik EOIP\" href=\"http://wiki.mikrotik.com/wiki/Manual:Interface/EoIP\" target=\"_blank\">EOIP solution</a> or layer 2 extension and provides hardware acceleration for up to 500 MBit/s. Cisco, Juniper etc have their own L2 extension protocols like <a title=\"Cisco OVT\" href=\"http://www.cisco.com/c/en/us/solutions/data-center-virtualization/overlay-transport-virtualization-otv/index.html\" target=\"_blank\">OVT</a>, using <a title=\"Cisco MPLS\" href=\"http://www.cisco.com/c/en/us/products/collateral/data-center-virtualization/data-center-interconnect/white_paper_c11_493718.html\" target=\"_blank\">MPLS</a> etc.</p>\n<p>New standards for networking in the cloud and virtualization around building SDNs (software defined networking) are fast maturing to enable some of the capabilities we cover in this guide on a large scale.</p>\n<p><a title=\"VXLAN Overlays\" href=\"http://blogs.vmware.com/vsphere/2013/05/vxlan-series-how-vtep-learns-and-creates-forwarding-table-part-5.html\" target=\"_blank\">VXLAN which extends layer 2 across multiple hosts using VTEPs</a> is fairly interesting but depends on multicast which most organizations, service and cloud providers don't support. Cisco, Juniper and others are working on their own <a title=\"Cisco VXLAN unicast\" href=\"http://www.cisco.com/c/en/us/products/collateral/switches/nexus-7000-series-switches/guide_c07-728863.html\" target=\"_blank\">'enhanced vxlan' extensions with unlticast support</a>.</p>\n<p>Cumulus Linux along with Metacloud - recently acquired by Cisco, have been working on VXLAN unicast and have released a <a title=\"VXLAN VXFLD\" href=\"https://github.com/CumulusNetworks/vxfld\" target=\"_blank\">VXFLD project</a> with some tools.</p>\n<p>The Linux kernel supports VXLAN in both multicast and unicast modes. You need a relatively recent version of the kernel 3.14+ and the iproute2 package 3.14+. We have a <a title=\"Flockport labs - LXC and VXLAN\" href=\"http://www.flockport.com/flockport-labs-lxc-and-vxlan/\" target=\"_blank\">follow up post on VXLAN here</a>.</p>\n<p>But these are still maturing and not yet ready to go. If you are interested in networking <a title=\"Networkheresy\" href=\"http://networkheresy.com\" target=\"_blank\">networkheresy</a>, <a title=\"Scott Lowe\" href=\"http://blog.scottlowe.org/\" target=\"_blank\">Scott Lowe</a> and <a title=\"Ipspace\" href=\"http://www.ipspace.net/Main_Page\" target=\"_blank\">ipspace </a>are 3 great blogs that cover next generation networking in depth.</p>\n<p><a title=\"Use an LXC container as a router\" href=\"http://www.flockport.com/use-an-lxc-container-as-a-router/\" target=\"_blank\">In Part II we are going to cover using LXC containers as routers</a> which is similar to how one would use VMs of software routers like Vyatta, Vyos or Pfsense. LXC supports multiple network interfaces and is a great way to experiment with networking and networking namespaces. With 2 interfaces one could be connected to your wan and the other your lan letting an LXC container operate as a router. There are very limited use cases for this, but its a great way to simulate networks and manage routing for other containers in the cloud.</p>\n<p><b>Further reading and resources</b></p>\n<p><a title=\"Flockport App Store\" href=\"https://www.flockport.com/store/\" target=\"_blank\">Flockport App store</a></p>\n<p><a title=\"Start\" href=\"https://www.flockport.com/start/\" target=\"_blank\">Flockport LXC Installer and VM</a></p>\n<p><a title=\"Flockport LXC Guides\" href=\"https://www.flockport.com/guides/\" target=\"_blank\">Flockport LXC Guides</a></p>\n<p><b>Flockport Networking Series</b></p>\n<p><a title=\"Flockport labs - Use an LXC container as a router\" href=\"http://www.flockport.com/use-an-lxc-container-as-a-router/\" target=\"_blank\">Flockport labs - using an LXC container as a router</a></p>\n<p><a title=\"Flockport LXC Networking Guide\" href=\"http://www.flockport.com/lxc-networking-guide/\" target=\"_blank\">LXC Networking Guide</a></p>\n<p><a title=\"Flockport LXC Advanced Networking Guide\" href=\"http://www.flockport.com/lxc-advanced-networking-guide\" target=\"_blank\">LXC Advanced Networking Guide</a></p>\n<p><a title=\"Connect LXC hosts with GRE tunnels\" href=\"http://www.flockport.com/connecting-lxc-hosts-with-gre-tunnels/\" target=\"_blank\">Connect LXC hosts with GRE tunnels</a></p>\n<p><a title=\"Connect LXC hosts with an IPSEC VPN\" href=\"http://www.flockport.com/connect-lxc-hosts-with-an-ipsec-vpn/\" target=\"_blank\">Connect LXC hosts and containers with IPSEC VPNs</a></p>\n<p><a title=\"Build Distributed Mesh Networks\" href=\"http://www.flockport.com/building-distributed-mesh-networks-of-lxc-hosts/\" target=\"_blank\">Connect LXC hosts and containers with Tinc VPNs</a></p>\n<p><a title=\"Load balancing and failover with LXC containers\" href=\"http://www.flockport.com/load-balancing-and-failover-with-lxc-containers/\" target=\"_blank\">Load balancing and failover with LXC containers</a></p>\n<p><a title=\"Build distributed storage nodes with LXC and Gluster\" href=\"http://www.flockport.com/build-distributed-storage-nodes-with-lxc-and-gluster/\" target=\"_blank\">Build distributed storage nodes with LXC and Gluster</a></p></div> <div class=\"mk-content-box mk-shortcode notitle\"><span class=\"content-box-heading\"><i class=\"mk-\"></i> </span><div class=\"content-box-content\"><h3 id=\"fancy-title-434\" class=\"mk-shortcode mk-fancy-title simple-style \"><span>Stay updated on Flockport news</span></h3>\n\n</div></div>\n\t</div>"
    }, {
        "title": "Getting started",
        "url": "http://getcontenttools.com/getting-started",
        "excerpt": "A very short intro ContentTools is one of a&#xA0;collection of libraries designed for building tools that make it easier to edit HTML content. The ContentTools library provides a fully functional&hellip;",
        "date_saved": "Thu Jul 28 20:07:58 EDT 2016",
        "html_file": "getting_started.html",
        "png_file": "getting_started.png",
        "md_file": "getting_started.md",
        "content": "<div><section class=\"[ page__content ] [ formatted ]\">\n\n<h2 id=\"intro\">\n A very short intro\n</h2>\n<p>\n ContentTools is one of a&#xA0;<a href=\"http://getcontenttools.com/api\">collection of libraries</a> designed for building tools that make it easier to edit HTML content. The ContentTools library provides a fully functional page editor which is the subject of the <i>Getting started</i> guide. However if you're interested in customizing the editor, extending the libraries or have something different in mind for the code then check out the <a href=\"http://getcontenttools.com/tutorials\">Tutorials</a> and <a href=\"http://getcontenttools.com/api\">API</a> sections.\n</p>\n<h2 id=\"download\">\n Download\n</h2>\n<p>\n First task is to download the JavaScript, CSS and other associated project files. <a href=\"https://github.com/GetmeUK/ContentTools/archive/master.zip\">Download the repo</a> and open the <b>/build</b> folder which contains everything you need including pre-built source files. Copy the contents of the folder into appropriate locations for your project <i>(e.g content-tools.min.js &gt; /www/scripts/content-tools.min.js)</i>. However, the <b>/images</b> folder and <b>icons.woff</b> font need to be copied into the same folder as&#xA0;<b>content-tools.min.css</b>&#xA0;(which I'll explain next). Your file structure should look something like:\n</p>\n<pre>/site\n /assets\n /images\n - ce-drop-above.png\n - ce-drop-below.png\n - ce-drop-left.png\n - ce-drop-right.png\n - video.png\n - content-tools.min.js\n - content-tools.min.css\n - icons.woff</pre>\n<p>\n The libraries themselves are written using <a href=\"http://coffeescript.org/\">CoffeeScript</a> and <a href=\"http://sass-lang.com/\">SASS</a> and ideally you'll want to roll your own for each web project. The build process is managed by&#xA0;<a href=\"http://gruntjs.com/\">grunt</a>&#xA0;and is very simple, however to get started there's no need.\n</p>\n<p>\n If you're more the sort to learn by pulling code apart, there is a full demo of the editor complete with example content included in the <b>/sandbox</b> folder.\n</p>\n<p class=\"note\">\n If you are using Firefox then you may experience an issue where the icon font (icon.woff) doesn't load on your local machine. A reason for this along with a solution to the issue can be found on <a href=\"http://stackoverflow.com/questions/2856502/css-font-face-not-working-with-firefox-but-working-with-chrome-and-ie\">stackoverflow</a>.\n</p>\n<h2 id=\"prepare-html\">\n Prepare the HTML\n</h2>\n<p>\n Include the ContentTools&#xA0;CSS and JS in your HTML page:\n</p>\n<pre><code class=\"language-markup\">&lt;head&gt;\n &lt;title&gt;My page&lt;/title&gt;\n &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"assets/content-tools.min.css\"&gt;\n ...\n&lt;/head&gt;\n&lt;body&gt;\n ...\n &lt;script src=\"assets/content-tools.min.js\"&gt;&lt;/script&gt;\n &lt;script src=\"assets/editor.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;</code></pre>\n<p>\n Notice that we also included an additional JavaScript file named&#xA0;<b>editor.js.</b>&#xA0;This will contain the code that initializes our editor; go ahead and create the file but leave it empty for now.\n</p>\n<p>\n Next we need to mark the regions that will be editable. There's no set way to do this but using a <b>CSS class</b> or <b>data-...</b> attribute is recommended. Only the outer element that will contain editable content is marked:\n</p>\n<pre><code class=\"language-markup\">&lt;div data-editable data-name=\"main-content\"&gt;\n &lt;blockquote&gt;\n Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live.\n &lt;/blockquote&gt;\n &lt;p&gt;John F. Woods&lt;/p&gt;\n&lt;/div&gt;</code></pre>\n<p>\n The&#xA0;<b>data-name</b> attribute is&#xA0;used to identify the region when saving (by default the&#xA0;<b>id</b> attribute is used but I prefer to keep the editable markup separated from the existing HTML markup).\n</p>\n<h3 id=\"regions-must-be-parents\">\n Regions must be parents\n</h3>\n<p>\n A common misunderstanding when marking up editable HTML is to mark up a single element as editable, for example:\n</p>\n<pre><code class=\"language-markup\">&lt;h1 data-editable data-name=\"heading\"&gt;Content&lt;/h1&gt;</code></pre>\n<p>\n This wont work as a region has to contain editable block level elements. A simple way around this is to wrap the <code>&lt;h1&gt;</code>&#xA0;tag like so:\n</p>\n<pre><code class=\"language-markup\">&lt;div data-editable data-name=heading&gt;\n &lt;h1&gt;Content&lt;/h1&gt;\n&lt;/div&gt;</code>\n</pre>\n<h2 id=\"preparing-the-css\">\n Preparing the CSS\n</h2>\n<p>\n ContentTools uses CSS classes to align text, imagery, videos and iframes&#xA0;(typically used by services such as YouTube and Vimeo to embed their players). You'll need to define styles for these alignment classes in your own CSS, for example:\n</p>\n<pre><code class=\"language-css\">/* Alignment styles for images, videos and iframes in editable regions */\n\n/* Center (default) */\n[data-editable] iframe,\n[data-editable] image,\n[data-editable] [data-ce-tag=img],\n[data-editable] img,\n[data-editable] video {\n clear: both;\n display: block;\n margin-left: auto;\n margin-right: auto;\n max-width: 100%;\n}\n\n/* Left align */\n[data-editable] .align-left {\n clear: initial;\n float: left;\n margin-right: 0.5em;\n}\n\n/* Right align */\n[data-editable].align-right {\n clear: initial;\n float: right;\n margin-left: 0.5em;\n}\n\n/* Alignment styles for text in editable regions */\n[data-editable] .text-center {\n text-align: center;\n}\n\n[data-editable] .text-left {\n text-align: left;\n}\n\n[data-editable] .text-right {\n text-align: right;\n}</code>\n&#x200B;</pre>\n<p class=\"note\">\n We scope the alignment styles to apply to elements within&#xA0;<b>[data-editable]</b>&#xA0;regions.\n</p>\n<h2 id=\"launch-editor\">\n Launch the editor\n</h2>\n<p>\n ContentTools provides an editor but we need to configure a few things before we can launch it, namely:\n</p>\n<ul>\n <li>\n The CSS styles we want users to be able to apply to elements.\n </li>\n <li>\n The regions of the page we want to be editable.\n </li>\n <li>\n A mechanism for saving our content.\n </li>\n <li>\n <i>We might also configure an image handler but that's for a later <a href=\"http://getcontenttools.com/tutorials/handling-image-uploads\">tutorial</a>.</i>\n </li>\n</ul>\n<p>\n Add the following code to the <b>editor.js</b> file we created earlier:\n</p>\n<pre><code class=\"language-javascript\">window.addEventListener('load', function() {\n var editor;\n\n});</code>\n</pre>\n<h3 id=\"configure-styles\">\n Configure styles\n</h3>\n<p>\n Much like a word processor, it's possible to configure a list of predefined styles for your content. These then appear when the user<b> selects a tag from the inspector bar at the bottom of the viewport.</b> Only styles applicable to the tag type are displayed, though styles can be set to be applicable to all tags.\n</p>\n<img alt=\"Styles tab in properties dialog\" src=\"http://getcontenttools.com/images/pages/getting-started/properties-dialog-styles-tab.png\" width=\"740\">\n<p>\n We're going to add a single style <b>.author</b> that can be applied to paragraph <b>&lt;p&gt;</b> tags. Underneath the <code>var&#xA0;editor;</code> declaration add:\n</p>\n<pre><code class=\"language-javascript\">ContentTools.StylePalette.add([\n new ContentTools.Style('Author', 'author', ['p'])\n]);</code>\n</pre>\n<p>\n The <b>StylePalette.add</b>&#xA0;method allows us to add a list of styles to the editor. Each style is declared as a&#xA0;<b>Style</b> instance initialized with a display name, a CSS class and a list of tags the style can be applied to. We'll need to add the relevant CSS to support this style so in the head of your HTML add:\n</p>\n<pre><code class=\"language-markup\">&lt;head&gt;\n ...\n &lt;style&gt;\n .author {\n font-style: italic;\n font-weight: bold;\n }\n &lt;/style&gt;\n&lt;/head&gt;</code>\n</pre>\n<h3 id=\"select-the-editable-regions\">\n Select the editable regions\n</h3>\n<p>\n Next we need to initialize the editor and let it know which elements on the page are editable. To do this add the following code to <b>editor.js</b>:\n</p>\n<pre><code class=\"language-javascript\">editor = ContentTools.EditorApp.get();\neditor.init('*[data-editable]', 'data-name');</code></pre>\n<p>\n We <b>init</b>ialize the editor with a CSS selector for the editable regions of the page and an attribute name (<b>'data-name'</b>) to tell the editor which of the element's attributes contains its region name. Region names must be unique within the same page.\n</p>\n<h3 id=\"save-changes\">\n Save changes\n</h3>\n<p>\n Finally we want to be notified when the user saves the page so that we can store the updated content of each region in a file or on a database.&#xA0;To do this we listen&#xA0;for the&#xA0;<b>saved</b> event to be triggered by the <b>editor</b>. Add the following code to <b>editor.js</b>&#xA0;after the <b>editor.init</b> statement.\n</p>\n<pre><code class=\"language-javascript\">editor.addEventListener('saved', function (ev) {\n var name, payload, regions, xhr;\n\n // Check that something changed\n regions = ev.detail().regions;\n if (Object.keys(regions).length == 0) {\n return;\n }\n\n // Set the editor as busy while we save our changes\n this.busy(true);\n\n // Collect the contents of each region into a FormData instance\n payload = new FormData();\n for (name in regions) {\n if (regions.hasOwnProperty(name)) {\n payload.append(name, regions[name]);\n }\n }\n\n // Send the update content to the server to be saved\n function onStateChange(ev) {\n // Check if the request is finished\n if (ev.target.readyState == 4) {\n editor.busy(false);\n if (ev.target.status == '200') {\n // Save was successful, notify the user with a flash\n new ContentTools.FlashUI('ok');\n } else {\n // Save failed, notify the user with a flash\n new ContentTools.FlashUI('no');\n }\n }\n };\n\n xhr = new XMLHttpRequest();\n xhr.addEventListener('readystatechange', onStateChange);\n xhr.open('POST', '/save-my-page');\n xhr.send(payload);\n});</code>\n\n\n</pre>\n<p>\n We're using AJAX to send the content of each region to the server when the user saves the page. How that content is saved is a decision for you, but the&#xA0;<a href=\"http://getcontenttools.com/tutorials/saving-strategies\">Saving strategies</a> tutorial presents a couple of approaches that might be a useful starting point.\n</p>\n<p>\n Providing the user with some feedback is nice and so we set the editor to its&#xA0;<b>busy</b> state while we wait for a response from the server. In its busy state a spinning cog will appear to let the user know that something's happening. Once we get a response, a <b>flash</b>&#xA0;is used to notify the user of the success/failure of their save request. Flashes appear large and central for a short period; the <b>ok</b> flash displays a tick and <b>no</b> a cross.\n</p>\n<h2 id=\"all-done\">\n Fin\n</h2>\n<p>\n That's it; open your page in a browser, look for the blue edit button top left and click it to start editing.\n</p>\n<p>\n If you do get stuck don't forget there's a full demo included in the <b>/sandbox</b> folder of the ContentTools repo you downloaded.\n</p>\n<p>\n For a bit of user guidance the <a href=\"http://getcontenttools.com/demo\">demo page</a> is a good place to start.\n</p>\n\n </section>\n\n </div>"
    }, {
        "title": "Let your applications fly!",
        "url": "http://feathersjs.com/",
        "excerpt": "Introduction Feathers sits right on top of Express, one of the most popular web frameworks for NodeJS. If you are not familiar with Express head over to the Express Guides to get an idea. Feathers&hellip;",
        "date_saved": "Thu Jul 28 20:08:00 EDT 2016",
        "html_file": "let_your_applications_fly.html",
        "png_file": "let_your_applications_fly.png",
        "md_file": "let_your_applications_fly.md",
        "content": "<div><div class=\"col-md-9 documentation-content\">\n <h2>Introduction</h2>\n<p>Feathers sits right on top of Express, one of the most popular web frameworks for <a href=\"http://nodejs.org/\">NodeJS</a>. If you are not familiar with Express head over to the <a href=\"http://expressjs.com/guide.html\">Express Guides</a> to get an idea. Feathers works the exact same way except that <code>var app = require('express')();</code> is replaced with <code>var app = require('feathers')()</code>. The small differences and additional functionality available is outline in the following documentation.</p>\n<h2>Configuration</h2>\n<h3>REST</h3>\n<p>Exposing services through a RESTful JSON interface is enabled by default. If you only want to use SocketIO call <code>app.disabled('feathers rest')</code> <em>before</em> registering any services.</p>\n<p>To set service parameters in a middleware, just attach it to the <code>req.feathers</code> object which will become the params for any resulting service call:</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">feathers</span><span class=\"p\">.</span><span class=\"nx\">data</span> <span class=\"o\">=</span> <span class=\"s1\">'Hello world'</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">);</span> <span class=\"c1\">// -&gt; 'Hello world'</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">name</span><span class=\"p\">,</span>\n <span class=\"nx\">params</span><span class=\"o\">:</span> <span class=\"nx\">params</span><span class=\"p\">,</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s2\">\"You have to do \"</span> <span class=\"o\">+</span> <span class=\"nx\">name</span> <span class=\"o\">+</span> <span class=\"s2\">\"!\"</span>\n <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>SocketIO</h3>\n<p>To expose services via <a href=\"http://socket.io/\">SocketIO</a> call <code>app.configure(feathers.socketio())</code>. It is also possible pass a <code>function(io) {}</code> when initializing the provider where <code>io</code> is the main SocketIO object so you can listen to custom events, change the configuration or add <a href=\"https://github.com/LearnBoost/socket.io/wiki/Authorizing\">authorization</a>:</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">configure</span><span class=\"p\">(</span><span class=\"nx\">feathers</span><span class=\"p\">.</span><span class=\"nx\">socketio</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">io</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'connection'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">socket</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'news'</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"nx\">hello</span><span class=\"o\">:</span> <span class=\"s1\">'world'</span> <span class=\"p\">});</span>\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'my other event'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">);</span>\n <span class=\"p\">});</span>\n <span class=\"p\">});</span>\n\n <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s1\">'authorization'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">handshakeData</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'users'</span><span class=\"p\">).</span><span class=\"nx\">find</span><span class=\"p\">({</span>\n <span class=\"nx\">username</span><span class=\"o\">:</span> <span class=\"nx\">handshakeData</span><span class=\"p\">.</span><span class=\"nx\">username</span><span class=\"p\">,</span>\n <span class=\"nx\">password</span><span class=\"o\">:</span> <span class=\"nx\">handshakeData</span><span class=\"p\">.</span><span class=\"nx\">password</span>\n <span class=\"p\">},</span> <span class=\"nx\">callback</span><span class=\"p\">);</span>\n <span class=\"p\">});</span>\n<span class=\"p\">}));</span>\n</pre></div>\n</code></pre>\n<p>Once the server has been started with <code>app.listen()</code> the SocketIO object is available as <code>app.io</code>.</p>\n<h2>API</h2>\n<h3>listen</h3>\n<p><code>app.listen([port])</code> starts the application on the given port. Before calling the original <a href=\"http://expressjs.com/api.html#app.listen\">Express app.listen([port])</a> Feathers will initialize the SocketIO server (if set up) and call all services <code>setup(app, path)</code> methods in the order they have been registered.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">feathers</span><span class=\"p\">();</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/my/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">setup</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">,</span> <span class=\"nx\">path</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// path -&gt; 'my/todos'</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">8080</span><span class=\"p\">);</span>\n\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">close</span><span class=\"p\">();</span>\n</pre></div>\n</code></pre>\n<h3>lookup</h3>\n<p><code>app.lookup(path)</code> returns the wrapped service object for the given path. Note that Feathers internally creates a new object from each registered service. This means that the object returned by <code>lookup</code> will provide the same methods and functionality as the original service but also functionality added by Feathers (most notably it is possible to listen to service events). <code>path</code> can be the service name with or without leading and trailing slashes.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/my/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">create</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">todoService</span> <span class=\"o\">=</span> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'my/todos'</span><span class=\"p\">);</span>\n<span class=\"c1\">// todoService is an event emitter</span>\n<span class=\"nx\">todoService</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'created'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Created todo'</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>use</h3>\n<p><code>app.use([path], service)</code> works just like <a href=\"http://expressjs.com/api.html#app.use\">Express app.use([path], middleware)</a> but additionally allows to register a service object (an object which at least provides one of the service methods as outlined in the Services section) instead of the middleware function. Note that REST services are registered in the same order as any other middleware so the below example will allow the <code>/todos</code> service only to <a href=\"http://passportjs.org/\">Passport</a> authenticated users.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"c1\">// Serve public folder for everybody</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">feathers</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span> <span class=\"o\">+</span> <span class=\"s1\">'/public'</span><span class=\"p\">);</span>\n<span class=\"c1\">// Make sure that everything else only works with authentication</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span><span class=\"nx\">res</span><span class=\"p\">,</span><span class=\"nx\">next</span><span class=\"p\">){</span>\n <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">isAuthenticated</span><span class=\"p\">()){</span>\n <span class=\"nx\">next</span><span class=\"p\">();</span>\n <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n <span class=\"c1\">// 401 Not Authorized</span>\n <span class=\"nx\">next</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"mi\">401</span><span class=\"p\">));</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n<span class=\"c1\">// Add a service.</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">name</span><span class=\"p\">,</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s2\">\"You have to do \"</span> <span class=\"o\">+</span> <span class=\"nx\">name</span> <span class=\"o\">+</span> <span class=\"s2\">\"!\"</span>\n <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h2>Services</h2>\n<p>A service can be any JavaScript object that offers one or more of the <code>find</code>, <code>get</code>, <code>create</code>, <code>update</code>, <code>remove</code> and <code>setup</code> service methods with the following signatures:</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">myService</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n <span class=\"nx\">find</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{},</span>\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{},</span>\n <span class=\"nx\">create</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{},</span>\n <span class=\"nx\">update</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{},</span>\n <span class=\"nx\">remove</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{},</span>\n <span class=\"nx\">setup</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</code></pre>\n<p>All callbacks follow the <code>function(error, data)</code> NodeJS convention. <code>params</code> can contain any additional parameters, for example the currently authenticated user. REST service calls set <code>params.query</code> with the query parameters (e.g. a query string like <code>?status=active&amp;type=user</code> becomes <code>{ query: { status: \"active\", type: \"user\" } }</code>).</p>\n<h3>find</h3>\n<p><code>find(params, callback)</code> retrieves a list of all resources from the service. Ideally use <code>params.query</code> for things like filtering and paging so that REST calls like <code>todo?status=completed&amp;user=10</code> work right out of the box.</p>\n<p><strong>REST</strong></p>\n<pre><code><div class=\"highlight\"><pre><span class=\"nx\">GET</span> <span class=\"nx\">todo</span><span class=\"o\">?</span><span class=\"nx\">status</span><span class=\"o\">=</span><span class=\"nx\">completed</span><span class=\"o\">&amp;</span><span class=\"nx\">user</span><span class=\"o\">=</span><span class=\"mi\">10</span>\n</pre></div>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'todo::find'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">query</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n <span class=\"nx\">status</span><span class=\"o\">:</span> <span class=\"s1\">'completed'</span>\n <span class=\"nx\">user</span><span class=\"o\">:</span> <span class=\"mi\">10</span>\n <span class=\"p\">}</span>\n<span class=\"p\">},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>get</h3>\n<p><code>get(id, params, callback)</code> retrieves a single resource with the given <code>id</code> from the service.</p>\n<p><strong>REST</strong></p>\n<pre><code>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'todo::get'</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>create</h3>\n<p><code>create(data, params, callback)</code> creates a new resource with <code>data</code>. The callback should be called with the newly\ncreated resource data.</p>\n<p><strong>REST</strong></p>\n<pre><code><div class=\"highlight\"><pre><span class=\"nx\">POST</span> <span class=\"nx\">todo</span>\n<span class=\"p\">{</span> <span class=\"s2\">\"description\"</span><span class=\"o\">:</span> <span class=\"s2\">\"I really have to iron\"</span> <span class=\"p\">}</span>\n</pre></div>\n</code></pre>\n<p>By default the body can be eihter JSON or form encoded as long as the content type is set accordingly.</p>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'todo::create'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s1\">'I really have to iron'</span>\n<span class=\"p\">},</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>update</h3>\n<p><code>update(id, data, params, callback)</code> updates the resource identified by <code>id</code> using <code>data</code>. The callback should\nbe called with the updated resource data.</p>\n<p><strong>REST</strong></p>\n<pre><code><div class=\"highlight\"><pre><span class=\"nx\">PUT</span> <span class=\"nx\">todo</span><span class=\"o\">/</span><span class=\"mi\">2</span>\n<span class=\"p\">{</span> <span class=\"s2\">\"description\"</span><span class=\"o\">:</span> <span class=\"s2\">\"I really have to do laundry\"</span> <span class=\"p\">}</span>\n</pre></div>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'todo::update'</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s1\">'I really have to do laundry'</span>\n<span class=\"p\">},</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// data -&gt; { id: 2, description: \"I really have to do laundry\" }</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>remove</h3>\n<p><code>remove(id, params, callback)</code> removes the resource with <code>id</code>. The callback should be called with the removed resource.</p>\n<p><strong>REST</strong></p>\n<pre><code>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'todo::remove'</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n<span class=\"p\">});</span>\n</pre></div>\n</code></pre>\n<h3>setup</h3>\n<p><code>setup(app, path)</code> initializes the service passing an instance of the Feathers application and the path it has been registered on. The SocketIO server is available via <code>app.io</code>. <code>setup</code> is a great way to connect services:</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">todoService</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">name</span><span class=\"p\">,</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s1\">'You have to '</span> <span class=\"o\">+</span> <span class=\"nx\">name</span> <span class=\"o\">+</span> <span class=\"s1\">'!'</span>\n <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">myService</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n <span class=\"nx\">setup</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">todo</span> <span class=\"o\">=</span> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'todo'</span><span class=\"p\">);</span>\n <span class=\"p\">},</span>\n\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">todo</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'take out trash'</span><span class=\"p\">,</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"nx\">name</span><span class=\"p\">,</span>\n <span class=\"nx\">todo</span><span class=\"o\">:</span> <span class=\"nx\">todo</span>\n <span class=\"p\">});</span>\n <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">feathers</span><span class=\"p\">()</span>\n <span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'todo'</span><span class=\"p\">,</span> <span class=\"nx\">todoService</span><span class=\"p\">)</span>\n <span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'my'</span><span class=\"p\">,</span> <span class=\"nx\">myService</span><span class=\"p\">)</span>\n <span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">);</span>\n</pre></div>\n</code></pre>\n<p>You can see the combination when going to <code>http://localhost:8000/my/test</code>.</p>\n<p><strong>Pro tip:</strong></p>\n<p>Bind the apps <code>lookup</code> method to your service to always look your services up dynamically:</p>\n<pre><code><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">myService</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n <span class=\"nx\">setup</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lookup</span> <span class=\"o\">=</span> <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">.</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n <span class=\"p\">},</span>\n\n <span class=\"nx\">get</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'todos'</span><span class=\"p\">).</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">'take out trash'</span><span class=\"p\">,</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"nx\">name</span><span class=\"p\">,</span>\n <span class=\"nx\">todo</span><span class=\"o\">:</span> <span class=\"nx\">todo</span>\n <span class=\"p\">});</span>\n <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</code></pre>\n<h2>Events</h2>\n<p>Any registered service will be automatically turned into an event emitter that emits events when a resource has changed, that is a <code>create</code>, <code>update</code> or <code>remove</code> service call returned successfully. It is therefore possible to bind to the below events via <code>app.lookup(servicename).on()</code> and, if enabled, all events will also broadcast to all connected SocketIO clients in the form of <code>&lt;servicepath&gt; &lt;eventname&gt;</code>. Note that the service path will always be stripped of leading and trailing slashes regardless of how it has been registered (e.g. <code>/my/service/</code> will become <code>my/service</code>).</p>\n<h3>created</h3>\n<p>The <code>created</code> event will be published with the callback data when a service <code>create</code> calls back successfully.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">create</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'created'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Created todo'</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">).</span><span class=\"nx\">create</span><span class=\"p\">({</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s1\">'We have to do something!'</span>\n<span class=\"p\">},</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">);</span>\n</pre></div>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://localhost:8000/socket.io/socket.io.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n <span class=\"kd\">var</span> <span class=\"nx\">socket</span> <span class=\"o\">=</span> <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:8000/'</span><span class=\"p\">);</span>\n\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'todos created'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Got a new Todo!'</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">);</span>\n <span class=\"p\">});</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n</pre></div>\n</code></pre>\n<h3>updated</h3>\n<p>The <code>updated</code> event will be published with the callback data when a service <code>update</code> calls back successfully.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/my/todos/'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">update</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">);</span>\n</pre></div>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://localhost:8000/socket.io/socket.io.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n <span class=\"kd\">var</span> <span class=\"nx\">socket</span> <span class=\"o\">=</span> <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:8000/'</span><span class=\"p\">);</span>\n\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'my/todos updated'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Got an updated Todo!'</span><span class=\"p\">,</span> <span class=\"nx\">todo</span><span class=\"p\">);</span>\n <span class=\"p\">});</span>\n\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">'my/todos::update'</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">description</span><span class=\"o\">:</span> <span class=\"s1\">'Updated description'</span>\n <span class=\"p\">},</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// Do something here</span>\n <span class=\"p\">});</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n</pre></div>\n</code></pre>\n<h3>removed</h3>\n<p>The <code>removed</code> event will be published with the callback data when a service <code>remove</code> calls back successfully.</p>\n<pre><code class=\"lang-js\"><div class=\"highlight\"><pre><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n <span class=\"nx\">remove</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"nx\">id</span><span class=\"o\">:</span> <span class=\"nx\">id</span> <span class=\"p\">});</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">lookup</span><span class=\"p\">(</span><span class=\"s1\">'/todos'</span><span class=\"p\">).</span><span class=\"nx\">remove</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">{},</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">);</span>\n</pre></div>\n</code></pre>\n<p><strong>SocketIO</strong></p>\n<pre><code class=\"lang-html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://localhost:8000/socket.io/socket.io.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script&gt;</span>\n <span class=\"kd\">var</span> <span class=\"nx\">socket</span> <span class=\"o\">=</span> <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:8000/'</span><span class=\"p\">);</span>\n\n <span class=\"nx\">socket</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'todos removed'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">todo</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// Remove element showing the Todo from the page</span>\n <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#todo-'</span> <span class=\"o\">+</span> <span class=\"nx\">todo</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">).</span><span class=\"nx\">remove</span><span class=\"p\">();</span>\n <span class=\"p\">});</span>\n<span class=\"nt\">&lt;/script&gt;</span>\n</pre></div>\n</code></pre>\n<h2>Why?</h2>\n<p>We know... Oh God another NodeJS framework! We really didn't want to add another name to the long list of NodeJS web frameworks but also wanted to explore a different approach than any other framework we have seen. We strongly believe that data is the core of the web and should be the focus of web applications.</p>\n<p>We also think that your data resources can and should be encapsulated in such a way that they can be scalable, easily testable and self contained. The classic web MVC pattern used to work well but is becoming antiquated in today's web.</p>\n<p>With that being said there are some amazing frameworks already out there and we wanted to leverage the ideas that have been put into them, which is why Feathers is built on top of <a href=\"http://expressjs.com\">Express</a> and is inspired in part by <a href=\"http://sailsjs.org\">Sails</a>, <a href=\"http://flatironjs.org\">Flatiron</a> and <a href=\"http://derbyjs.com\">Derby</a>.</p>\n<h2>Changelog</h2>\n<p><strong>0.2.0</strong></p>\n<ul><li>Pre-initialize <code>req.feathers</code> in REST provider to set service parameters</li>\n<li>Allowing to initialize services with or without slashes to be more express-compatible</li>\n</ul><p><strong>0.1.0</strong></p>\n<ul><li>First beta release</li>\n<li>Directly extends Express</li>\n<li>Removed built in services and moved to <a href=\"https://github.com/feathersjs/legs\">Legs</a></li>\n<li>Created <a href=\"https://github.com/feathersjs/examples\">example repository</a></li>\n</ul><p><strong>0.0.x</strong></p>\n<ul><li>Initial test alpha releases</li>\n</ul><h2>License</h2>\n<p>Copyright (C) 2013 David Luecke daff@neyeon.com\nCopyright (C) 2013 Eric Kryski e.kryski@gmail.com</p>\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</p>\n\n </div>\n </div>"
    }, {
        "title": "js-sequence-diagrams",
        "url": "http://bramp.github.io/js-sequence-diagrams/",
        "excerpt": "Demo. Try editing me below Andrew-&gt;China: Says Hello Note right of China: China thinks\\nabout it China--&gt;Andrew: How are you? Andrew-&gt;&gt;China: I am good thanks! Theme: | Download as SVG&hellip;",
        "date_saved": "Thu Jul 28 20:08:02 EDT 2016",
        "html_file": "jssequencediagrams.html",
        "png_file": "jssequencediagrams.png",
        "md_file": "jssequencediagrams.md",
        "content": "<div><header>\n \n <a href=\"https://github.com/bramp/js-sequence-diagrams\">\n <img class=\"gh-forkme\" src=\"http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png\" alt=\"Fork me on GitHub\">\n </a>\n </header>\n\n <div id=\"main\">\n\n <section id=\"demo\">\n <table class=\"inner\">\n <tr>\n <td>\n <h3>Demo. Try editing me below</h3>\n <div class=\"editor-wrapper\">\n <p class=\"editor\">Andrew-&gt;China: Says Hello\nNote right of China: China thinks\\nabout it\nChina--&gt;Andrew: How are you?\nAndrew-&gt;&gt;China: I am good thanks!</p>\n </div>\n Theme:\n \n | <a href=\"http://bramp.github.io/js-sequence-diagrams/\" class=\"download\">Download as SVG</a>\n </td>\n <td class=\"diagram\">This should be a diagram! If you don't see it you need Javascript enabled</td>\n </tr>\n </table>\n\n </section>\n\n <div class=\"inner\">\n <section id=\"info\">\n <h3>Intro</h3>\n <p>A simple javascript library to turn text into vector <a href=\"http://en.wikipedia.org/wiki/Sequence_diagram\">UML sequence diagrams</a>.\n Heavily inspired by <a href=\"http://www.websequencediagrams.com/\">websequencediagrams.com</a>, who offer a serverside solution. We use <a href=\"http://zaach.github.com/jison/\">Jison</a> to parse the text, and <a href=\"http://raphaeljs.com/\">Rapha&#xEB;l</a> to draw the image.</p>\n </section>\n <section id=\"examples\">\n <h3>Examples</h3>\n <table>\n\n <tr id=\"example1\">\n <td class=\"diagram\"></td>\n <td>\n <div class=\"editor-wrapper\">\n <p class=\"editor\">Title: Here is a title\nA-&gt;B: Normal line\nB--&gt;C: Dashed line\nC-&gt;&gt;D: Open arrow\nD--&gt;&gt;A: Dashed open arrow</p>\n </div>\n Theme:\n \n | <a href=\"http://bramp.github.io/js-sequence-diagrams/\" class=\"download\">Download as SVG</a>\n </td>\n </tr>\n\n <tr id=\"example2\">\n <td class=\"diagram\"></td>\n <td>\n <div class=\"editor-wrapper\">\n <p class=\"editor\"># Example of a comment.\nNote left of A: Note to the\\n left of A\nNote right of A: Note to the\\n right of A\nNote over A: Note over A\nNote over A,B: Note over both A and B</p>\n </div>\n Theme:\n \n | <a href=\"http://bramp.github.io/js-sequence-diagrams/\" class=\"download\">Download as SVG</a>\n </td>\n </tr>\n\n <tr id=\"example3\">\n <td class=\"diagram\"></td>\n <td>\n <div class=\"editor-wrapper\">\n <p class=\"editor\">participant C\nparticipant B\nparticipant A\nNote right of A: By listing the participants\\n you can change their order</p>\n </div>\n Theme:\n \n | <a href=\"http://bramp.github.io/js-sequence-diagrams/\" class=\"download\">Download as SVG</a>\n </td>\n </tr>\n\n </table>\n </section>\n <section id=\"syntax\">\n <h3>Syntax</h3>\n The following diagram shows the syntax for the diagrams. The exact grammar can be <a href=\"https://github.com/bramp/js-sequence-diagrams/blob/master/src/grammar.jison\">found here</a> in bison format.<div class=\"center\"><img src=\"http://bramp.github.io/js-sequence-diagrams/images/grammar.png\"></div>\n <div class=\"right\">\n generated by <a name=\"Railroad-Diagram-Generator\" class=\"signature\" title=\"http://www.bottlecaps.de/rr/ui\" href=\"http://www.bottlecaps.de/rr/ui\">Railroad Diagram Generator</a>\n\n <svg width=\"16\" height=\"16\"><g><circle></circle><circle></circle><line></line><line></line><text>R</text><text>R</text></g></svg>\n </div>\n </section>\n <section id=\"usage\">\n <h3>Usage</h3>\n <p>js-sequence-diagrams depends on <a href=\"http://raphaeljs.com/\">Rapha&#xEB;l</a> and <a href=\"http://underscorejs.org/\">Underscore.js</a> (we are <a href=\"http://lodash.com/\">lodash</a> compatible). To use include the following:\n </p><pre>&lt;script src=\"<a href=\"http://bramp.github.io/js-sequence-diagrams/bower_components/raphael/raphael-min.js\">raphael-min.js</a>\"&gt;&lt;/script&gt;\n&lt;script src=\"<a href=\"http://bramp.github.io/js-sequence-diagrams/bower_components/underscore/underscore-min.js\">underscore-min.js</a>\"&gt;&lt;/script&gt;\n&lt;script src=\"<a href=\"http://bramp.github.io/js-sequence-diagrams/bower_components/js-sequence-diagrams/build/sequence-diagram-min.js\">sequence-diagram-min.js</a>\"&gt;&lt;/script&gt;\n</pre>\nand now you have two options. You can manually parse the text:\n<pre>\n&lt;div id=\"diagram\"&gt;&lt;/div&gt;\n&lt;script&gt;\n var diagram = Diagram.parse(\"A-&gt;B: Message\");\n diagram.drawSVG(\"diagram\", {theme: 'hand'});\n&lt;/script&gt;\n</pre>\n\nor use jQuery to do all the work:\n<pre>\n&lt;div class=\"diagram\"&gt;A-&gt;B: Message&lt;/div&gt;\n&lt;script&gt;\n$(\".diagram\").sequenceDiagram({theme: 'hand'});\n&lt;/script&gt;\n</pre>\n\n\n </section>\n </div>\n\n <footer>\n \n <div class=\"inner\">\n by <a href=\"http://bramp.net\">Andrew Brampton</a> - <a href=\"https://github.com/bramp\">github</a> - <a href=\"https://twitter.com/TheBramp\">@TheBramp</a>\n </div>\n </footer>\n\n \n\n \n \n\n \n \n\n \n \n \n\n \n\n \n </div></div>"
    }, {
        "title": "Zenit",
        "url": "http://get.zenitanalytics.com/",
        "excerpt": "You&#x2019;ve worked hard to build your app. Now add some polish. Use Zenit to increase revenue, improve engagement and grow your user base. Get insights into your marketing and product like never&hellip;",
        "date_saved": "Thu Jul 28 20:08:03 EDT 2016",
        "html_file": "zenit.html",
        "png_file": "zenit.png",
        "md_file": "zenit.md",
        "content": "<div><section class=\"hero\">\n \n </section>\n\n\n <main class=\"main\">\n\n <section class=\"section section--darker\">\n <div class=\"wrapper\">\n \n <p>You&#x2019;ve worked hard to build your app. Now add some polish. Use Zenit to increase revenue, improve engagement and grow your user base. Get insights into your marketing and product like never before, in the most cost-effective way possible.</p>\n <img class=\"section__big-image\" src=\"http://get.zenitanalytics.com/images/squid-2x.png\" alt=\"\">\n </div>\n </section>\n\n <section class=\"section\">\n <div class=\"wrapper\">\n \n <div class=\"feature-list layout\">\n\n <div class=\"feature-list__feature layout__item\">\n <div class=\"feature-list__image\">\n <img src=\"http://get.zenitanalytics.com/images/device-laptop-2x.png\" alt=\"\">\n </div>\n <p class=\"feature-list__heading\">Intelligence</p>\n <p>Zenit Intelligence analyzes user, advertiser, and analytics data and churns it through advanced machine learning models. Zenit identifies important data points, and provides actionable insights for increasing revenues, attracting users, and increasing engagement.</p>\n </div><div class=\"feature-list__feature layout__item\">\n <div class=\"feature-list__image\">\n <img src=\"http://get.zenitanalytics.com/images/device-enable-2x.png\" alt=\"\">\n </div>\n <p class=\"feature-list__heading\">Decisions</p>\n <p>Use Zenit technology to boost your user engagement, explore monetization options, and reduce wasted time on unnecessary development. Zenit lets you focus on which features will grow and retain your users.</p>\n </div>\n\n </div>\n\n \n\n </div>\n </section>\n\n <section class=\"section\">\n <div class=\"wrapper\">\n \n <div class=\"image-list layout\">\n <div class=\"image-list__item layout__item\"><img src=\"http://get.zenitanalytics.com/images/testimonial-three-gray-2x.png\" alt=\"\"></div>\n <div class=\"image-list__item layout__item\"><img src=\"http://get.zenitanalytics.com/images/testimonial-dishh-invert-gray-2x.png\" alt=\"\"></div>\n <div class=\"image-list__item layout__item\"><img src=\"http://get.zenitanalytics.com/images/testimonial-goal-invert-gray-2x.png\" alt=\"\"></div>\n </div>\n </div>\n </section>\n\n <section class=\"section section--darker\">\n <div class=\"wrapper\">\n \n </div>\n </section>\n\n <section class=\"section section--dark\">\n \n </section>\n\n </main>\n\n\n \n\n \n\n \n\n</div>"
    }, {
        "title": "10 Misconceptions about Neural Networks",
        "url": "http://www.turingfinance.com/misconceptions-about-neural-networks/",
        "excerpt": "StuartReid | On May 8, 2014 Neural networks are one of the most popular and powerful classes of machine learning algorithms. In quantitative finance neural networks are often used for time-series&hellip;",
        "date_saved": "Thu Jul 28 20:08:05 EDT 2016",
        "html_file": "10_misconceptions_about_neural_networks.html",
        "png_file": "10_misconceptions_about_neural_networks.png",
        "md_file": "10_misconceptions_about_neural_networks.md",
        "content": "<div><div class=\"blogcontent\">\n\n<meta value=\"2014-05-08\">\n<p class=\"name vcard author\"><span class=\"fn\"><a href=\"http://www.turingfinance.com/author/StuartReid/\" title=\"Posts by StuartReid\" rel=\"author\">StuartReid</a></span> | On <span class=\"updated\">May 8, 2014</span></p>\n \n<p><span><a id=\"top\"></a>Neural networks are one of the most popular and powerful classes of machine learning algorithms. In quantitative finance neural networks are often used for time-series forecasting, constructing proprietary indicators, algorithmic trading, securities classification and credit risk modelling. They have also been used to construct&#xA0;stochastic process models and price derivatives. Despite their usefulness neural networks tend to have a bad reputation because their performance is \"temperamental\". In my opinion this can be attributed to poor network design owing to misconceptions regarding how neural networks work. This article discusses some of those misconceptions.</span></p>\n\n\n<h3><a id=\"brain\"></a>1. Neural networks are not models of the human&#xA0;brain</h3>\n<p><span>The human brain is one of the great&#xA0;mysteries of our time&#xA0;and&#xA0;scientists have not reached a consensus on&#xA0;exactly how it works. Two theories of the brain exist namely&#xA0;the <a href=\"http://en.wikipedia.org/wiki/Grandmother_cell\" target=\"_blank\">grandmother cell theory</a> and the distributed representation theory. The first theory asserts that individual neurons have high information capacity and are capable of representing complex concepts such as your grandmother or even&#xA0;<a href=\"http://www.npr.org/blogs/krulwich/2012/03/30/149685880/neuroscientists-battle-furiously-over-jennifer-aniston\" target=\"_blank\">Jennifer Aniston</a>. The second theory neurons asserts that neurons are much&#xA0;more simple and representations of complex objects are distributed across many neurons. Artificial neural networks are loosely inspired by the second theory. </span></p>\n<p><span>One reason why I believe current generation neural networks are not capable of sentience (a different concept to intelligence) is because I believe that biological neurons are much more complex than artificial neurons.</span></p>\n<blockquote>\n<p><span><a href=\"https://medium.com/backchannel/google-brains-co-inventor-tells-why-hes-building-chinese-neural-networks-662d03a8b548\" target=\"_blank\">A single neuron in the brain is an incredibly complex machine that even today we don&#x2019;t understand. A single &#x201C;neuron&#x201D; in a neural network is an incredibly simple mathematical function that captures a minuscule fraction of the complexity of a biological neuron. So to say neural networks mimic the brain, that is true at the level of loose inspiration, but really artificial neural networks are nothing like what the biological brain does. - Andrew Ng</a></span></p>\n</blockquote>\n<p><span>Another big difference between the brain and neural networks is size and organization. Human brains contain many more neurons and synapses than neural network and they are self-organizing and adaptive. Neural networks, by comparison, are organized according to an architecture. Neural networks are not \"self-organizing\" in the same sense as the brain which much more closely resemble a graph than an ordered network.</span></p>\n<div id=\"attachment_2214\" class=\"wp-caption alignnone\"><img class=\"wp-image-2214 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Brain-connections-300x132.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Brain-connections-358x158.png%20358w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Brain-connections-700x309.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Brain-connections.png%20934w\" alt=\"Brain connections\" width=\"934\"><p class=\"wp-caption-text\">Some very interesting views of the brain as created by state of the art brain imagine techniques. Click on the image for more information.</p></div>\n<p><span>So what does that mean? Think of it this way: a neural network is inspired&#xA0;by the brain in the same way that the Olympic stadium in Beijing is inspired by a bird's nest. That does not mean that the Olympic stadium is-a bird's nest, it means that some elements of birds nests are present in the design of the stadium. In other words, elements of the brain are present in the design of neural networks but they are a lot less similar than you&#xA0;might think.</span></p>\n<p><span>In fact neural networks are more closely related to statistical methods such as&#xA0;<a href=\"http://en.wikipedia.org/wiki/Curve_fitting\" target=\"_blank\">curve fitting</a>&#xA0;and&#xA0;<a href=\"http://en.wikipedia.org/wiki/Regression_analysis\" target=\"_blank\">regression analysis</a>&#xA0;than the human brain. In the context of quantitative finance I think it is important to remember that because whilst it may sound cool&#xA0;to say that something is 'inspired by the brain', this statement may&#xA0;result unrealistic expectations&#xA0;or fear. For more info&#xA0;see <em><a href=\"https://www.linkedin.com/pulse/artificial-intelligence-existential-threat-stuart-gordon-reid\" target=\"_blank\">'No! Artificial Intelligence is not an existential threat'</a>.</em></span></p>\n<div id=\"attachment_2864\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2864 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/07/Non-Linear-Regression.gif.pagespeed.ce.sH7uWKa_0d.gif\" alt=\"Non-Linear Regression\" width=\"610\"><p class=\"wp-caption-text\">An example of curve fitting also known as function approximation. Neural networks are quite often used to approximate complex mathematical functions.</p></div>\n<p><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></p>\n\n<h3><a id=\"stats\"></a>2. Neural networks aren't a \"weak form\" of statistics</h3>\n<p><span>Neural networks consist of layers of interconnected nodes. Individual nodes are called perceptrons and resemble a <a href=\"https://en.wikipedia.org/wiki/Linear_regression#Simple_and_multiple_regression\" target=\"_blank\">multiple linear regression</a>. The difference between a multiple linear regression and a perceptron is that a perceptron feeds the signal generated by a multiple linear regression into an&#xA0;activation function which may or may not be non-linear. In a <a href=\"https://en.wikipedia.org/wiki/Multilayer_perceptron\" target=\"_blank\">multi layered perceptron</a> (MLP) perceptrons are arranged into layers and layers are connected with other another. In the MLP there are three types of layers namely, the input layer, hidden layer(s), and the output layer. The input layer receives input patterns&#xA0;and the output layer could contain a list of&#xA0;classifications or output signals&#xA0;to which&#xA0;those input patterns may map. Hidden layers adjust the weightings on those inputs until the error of the neural network is minimized. One interpretation of this is that the hidden layers extract salient features in the input data which have predictive power with respect to the outputs.</span></p>\n\n<h5><span>Mapping Inputs : Outputs</span></h5>\n<p><span>A&#xA0;perceptron receives a vector of inputs, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{z} = (z_1,z_2,\\ldots,z_n)\"></span>, consisting on <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"n\"></span> attributes. This vector of inputs is called an input pattern. These inputs are weighted according to the weight vector belonging to that&#xA0;perceptron, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{v} = (v_1,v_2,\\ldots,v_n)\"></span>. In the context of multiple linear regression these can be thought of as regression co-efficients or beta's. The net input signal, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"net\"></span>, of the perceptron is usually the sum product of the input pattern and their weights. Neurons which use the sum-product for <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"net\"></span> are called summation units.</span></p>\n<div class=\"one_half\">\n<p><span><span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"net = \\sum^n_{i-1} z_i v_i\"></span></span></p>\n<p><span>The net input signal, minus a bias <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\theta\"></span> is then fed into some&#xA0;activation function, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"f()\"></span>. Activation functions are usually monotonically increasing functions which are bounded between either <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"(0,1)\"></span> or <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"(-1,1)\"></span> (this&#xA0;is discussed further on in this article). Activation functions can be linear or non-linear.</span></p>\n</div>\n<div class=\"one_half column-last\">\n<p><img class=\"aligncenter size-full wp-image-5860\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/Perceptron-300x135.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Perceptron.png%20624w\" alt=\"Perceptron\" width=\"624\"></p>\n</div><span>Some popular activation functions used in neural networks are shown below,</span>\n<p><img class=\"size-full wp-image-2226\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Activations-Functions-300x203.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Activations-Functions-700x473.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Activations-Functions.png%20930w\" alt=\"Activations Functions\" width=\"930\"></p>\n<p><span>The simplest neural network is one which has&#xA0;just one neuron which maps&#xA0;inputs to an output. Given a pattern, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"p\"></span>, the objective of this network would be to minimize the error of the output signal, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"o_p\"></span>, relative to some known target value for some given training pattern, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"t_p\"></span>. For example,&#xA0;if the neuron was supposed to map <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"p\"></span> to -1 but it mapped it to 1 then the error,&#xA0;as measured by sum-squared distance, of the neuron would be 4, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"(-1 - 1)^2\"></span>.&#xA0;</span></p>\n\n<h5><span>Layering</span></h5>\n<p><img class=\"size-full wp-image-2165 aligncenter\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Multilayer-perceptron-300x126.jpg%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Multilayer-perceptron.jpg%20601w\" alt=\"Multilayer perceptron\" width=\"601\"></p>\n<p><span>As shown in the image above perceptrons are organized into layers. The first layer or perceptrons, called the input later, receives the patterns, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"p\"></span>, in the training set, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"P_T\"></span>. The last layer maps to the expected outputs for those patterns. An example of this is that the&#xA0;patterns may be a list of quantities for different technical indicators regarding a security and the potential outputs may be the categories <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\{BUY, HOLD, SELL\\}\"></span>.</span></p>\n<p><span>A hidden layer is one which receives as inputs the outputs from another&#xA0;layer; and for which the&#xA0;outputs form the inputs into yet another layer. So what do these hidden layers do? One interpretation is that they extract salient features in the input data which have predictive power with respect to the outputs. This is called <a href=\"https://en.wikipedia.org/?title=Feature_extraction\" target=\"_blank\">feature extraction</a>&#xA0;and in a way it performs a similar function&#xA0;to&#xA0;statistical techniques such as&#xA0;<a href=\"http://www.turingfinance.com/artificial-intelligence-and-statistics-principal-component-analysis-and-self-organizing-maps/\" target=\"_blank\">principal component analysis.</a></span></p>\n<p><span>Deep neural networks have&#xA0;a large number of hidden layers and are able to extract much deeper features from the data. Recently, deep neural networks have performed particularly well for <a href=\"https://gigaom.com/2013/08/16/were-on-the-cusp-of-deep-learning-for-the-masses-you-can-thank-google-later/\" target=\"_blank\">image recognition problems</a>. An illustration of feature extraction in the context of image recognition&#xA0;is shown below,</span></p>\n<p><img class=\"aligncenter size-full wp-image-5863\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/viz-features-300x163.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/viz-features.png%20682w\" alt=\"viz-features\" width=\"682\"></p>\n<p><span>I think&#xA0;that one of the problems facing the use of deep neural networks for trading (in addition to the <a href=\"http://www.turingfinance.com/perils-optimization-in-investment-management/\" target=\"_blank\">obvious risk of overfitting</a>) is that the inputs into the neural network are almost always heavily pre-processed meaning that there may be few features to actually extract because the inputs are already to some extent features.</span></p>\n\n<h5><span>Learning Rules</span></h5>\n<p><span>As mentioned previously the objective of the neural network is to minimize some measure of error, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\epsilon\"></span>. The most common measure of error is sum-squared-error although this metric is sensitive to outliers and may be less appropriate than <a href=\"https://en.wikipedia.org/wiki/Tracking_error\" target=\"_blank\">tracking error</a> in the context of financial markets.</span></p>\n<p><span>Sum squared error (SSE), <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\epsilon = \\sum^{P_T}_{p=1} \\big ( t_p - o_p \\big )^2\"></span></span></p>\n<p><span>Given that the objective of the network is to minimize <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\epsilon\"></span> we can use an optimization algorithm to adjust the weights in the neural network. The most common learning algorithm for neural networks is the gradient descent algorithm although other and potentially better optimization algorithms can be used.&#xA0;</span><span>Gradient descent works by calculating the partial derivative of the error with respect to the weights for each layer in the neural network and then moving in the opposite direction to the gradient (because we want to <em>minimize</em> the error of the neural network). By minimizing the error we maximize the performance of the neural network <em>in-sample</em>.</span></p>\n<p><span>Expressed mathematically the update rule for the weights in the neural network (<span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{v}\"></span>) is given by,</span></p>\n<p><span><span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"v_i(t) = v_i(t - 1) + \\delta v_i(t)\"></span> where</span></p>\n<p><span><span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\delta v_i(t) = \\eta(-\\frac{\\partial \\epsilon}{\\partial v_i})\"></span> where</span></p>\n<p><span><span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\frac{\\partial \\epsilon}{\\partial v_i} = -2(t_p - o_p) \\frac{\\partial f}{\\partial net_p}z_{i,p}\"></span></span></p>\n<p><span>where <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\eta\"></span> is the learning rate which controls how quickly or slowly the neural network converges. It is worth nothing that the calculation of the partial derivative of <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"f\"></span> with respect to the net input signal for a pattern <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"p\"></span> represents a problem for any discontinuous activation functions; which is one reason why alternative optimization algorithms may be used. The choice of learning rate has a large impact on the performance of the neural network. Small values for <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\eta\"></span> may result in very slow convergence whereas high values for <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\eta\"></span> could result in a lot of variance in the training.</span></p>\n<div class=\"one_half\">\n<p><img class=\"aligncenter size-full wp-image-5884\" src=\"\" alt=\"Small Learning Rate\"></p>\n</div>\n<div class=\"one_half column-last\">\n<p><img class=\"aligncenter size-full wp-image-5885\" src=\"\" alt=\"High Learning Rate\"></p>\n</div>\n\n<h5><span>Summary</span></h5>\n<p><span>Despite what some of the statisticians I have met in my time believe, neural networks are not just a \"weak form of statistics for lazy analysts\" (<em>I have actually been told this before and it was quite funny</em>); neural networks represent an abstraction of solid statistical techniques which date back hundreds of years. For a fantastic explanation of the statistics behind neural networks I recommend <a href=\"http://page.mi.fu-berlin.de/rojas/neural/chapter/K9.pdf\" target=\"_blank\">reading this chapter</a>. That having been said&#xA0;I do agree&#xA0;that some practitioners like to treat neural networks as a \"black box\" which can be thrown at any problem without first taking the time to understand the nature of the problem and whether or not neural networks are an appropriate choice. An example of this is the use of neural networks for trading; markets are dynamic yet neural networks assume the distribution of input patterns&#xA0;remains stationary over time. This is discussed in <a href=\"http://www.turingfinance.com/perils-optimization-in-investment-management/\" target=\"_blank\">more detail here</a>.&#xA0;</span></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"network\"></a>3.&#xA0;Neural networks come in many architectures</h3>\n<p><span>Up until now we have just discussed the most simple neural network architecture, namely the multi-layer perceptron. There are many different neural network architectures (far too many to mention here) and the performance of any neural network is a function of its&#xA0;architecture and weights. Many modern day advances in the field of machine learning do&#xA0;not come from rethinking the way that perceptrons and optimization algorithms work but rather from being creative regarding how these components fit together. Below I discuss some very&#xA0;interesting and creative neural network architectures which have been developed over time,&#xA0;</span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Recurrent_neural_network\" target=\"_blank\">Recurrent Neural Networks</a></span>&#xA0;-&#xA0;some or all connections flow backwards&#xA0;meaning that&#xA0;feed back loops exist in the network. These networks are believed to perform better on time series data. As such, they may be particularly&#xA0;relevant in the context of the financial markets. For more information here is a link to a&#xA0;fantastic article entitled, <em><a href=\"http://karpathy.github.io/2015/05/21/rnn-effectiveness/\" target=\"_blank\">The unreasonable performance of recurrent [deep] neural networks</a></em>.</span></p>\n<div id=\"attachment_2192\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2192 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Recurrent-Neural-Network-Architectures-300x111.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Recurrent-Neural-Network-Architectures-700x259.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Recurrent-Neural-Network-Architectures.png%20941w\" alt=\"Recurrent Neural Network Architectures\" width=\"941\"><p class=\"wp-caption-text\"><span>This diagram shows three popular recurrent Neural Network Architectures namely the Elman neural network, the Jordan neural network, and the Hopfield single-layer neural network.</span></p></div>\n<p><span>A more recent interesting recurrent neural network architecture is the <a href=\"http://arxiv.org/pdf/1410.5401.pdf\" target=\"_blank\">Neural Turing Machine</a>. This network combines a recurrent neural network architecture with memory. It has been shown that these neural networks are Turing complete and were able to learn sorting algorithms and other computing tasks.</span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Boltzmann_machine\" target=\"_blank\">Boltzmann neural network</a></span> - one of the first fully connected neural networks was the&#xA0;Boltzmann neural network a.k.a Boltzmann machine. These networks were the first networks capable of&#xA0;learning internal representations and solving very difficult combinatoric problems. One interpretation of the Boltzmann machine is that it is a Monte Carlo version of the Hopfield recurrent neural network. Despite this, the neural network can be quite difficult to train but when constrained they can prove more efficient than traditional neural networks. The most popular constraint on Boltzmann machines is to disallow direct connections between hidden neurons. This particular architecture is referred to as a&#xA0;<a href=\"https://en.wikipedia.org/wiki/Restricted_Boltzmann_machine\" target=\"_blank\">Restricted Boltzmann Machine</a>, which are used in&#xA0;<a href=\"http://deeplearning.net/tutorial/rbm.html\" target=\"_blank\">Deep Botlzmann Machines</a>.</span></p>\n<div id=\"attachment_2193\" class=\"wp-caption aligncenter\"><img class=\" wp-image-2193\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Boltzmann-Machine-300x138.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Boltzmann-Machine-1024x471.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Boltzmann-Machine-700x322.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Boltzmann-Machine.png%203985w\" alt=\"Boltzmann Machine\" width=\"1435\"><p class=\"wp-caption-text\"><span>This diagram shows how different Boltzmann Machines with connections between the different nodes can significantly affect the results of the neural network (graphs to the right of the networks)</span></p></div>\n<p><span><a href=\"http://en.wikipedia.org/wiki/Deep_neural_network#Deep_neural_networks\" target=\"_blank\"><span>Deep neural networks</span></a> - there are neural networks with multiple hidden layers. Deep neural networks have become extremely popular in more recent years due to their unparalleled success in image and voice recognition problems.&#xA0;The number of <a href=\"https://en.wikipedia.org/wiki/Deep_learning#Deep_learning_architectures\" target=\"_blank\">deep neural network architectures</a> is growing quite quickly but some of the most popular architectures&#xA0;include <a href=\"https://en.wikipedia.org/wiki/Deep_belief_network\" target=\"_blank\">deep belief networks</a>, <a href=\"https://en.wikipedia.org/wiki/Convolutional_neural_network\" target=\"_blank\">convolutional neural networks</a>, deep restricted Boltzmann machines, stacked auto-encoders, and many more. One of the biggest problems with deep neural networks, especially in the context of financial markets which are non-stationary, is overfitting. More more info see <a href=\"http://deeplearning.net/reading-list/tutorials/\" target=\"_blank\">DeepLearning.net</a>.</span></p>\n<div id=\"attachment_2189\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2189 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Deep-Neural-Network-Cat2-300x147.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Deep-Neural-Network-Cat2-642x316.png%20642w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Deep-Neural-Network-Cat2.png%20670w\" alt=\"Deep Neural Network Cat\" width=\"670\"><p class=\"wp-caption-text\"><span>This diagram shows a deep neural network which consists of multiple hidden layers.</span></p></div>\n<p><span><a href=\"http://www.sciencedirect.com/science/article/pii/S0169207004001116\" target=\"_blank\"><span>Adaptive neural networks</span></a> - are neural networks which simultaneously adapt and optimize their architectures whilst learning. This is done by either growing the architecture (adding more hidden neurons) or shrinking it (pruning unnecessary hidden neurons). I believe that adaptive neural networks are most appropriate for financial markets because markets are non-stationary. I say this because the features extracted by the neural network may strengthen or weaken over time depending on market dynamics. The implication of this is that&#xA0; any&#xA0;architecture which worked optimally in the past would need to be altered to work optimally today.</span></p>\n<div id=\"attachment_2208\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2208 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Adaptive-architecture-neural-networks-300x136.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Adaptive-architecture-neural-networks-700x316.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Adaptive-architecture-neural-networks.png%20790w\" alt=\"Adaptive architecture neural networks\" width=\"790\"><p class=\"wp-caption-text\"><span>This diagram shows two different types of adaptive neural network architectures. The left image is a cascade neural network and the right image is a self-organizing map.</span></p></div>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Radial_basis_function_network\" target=\"_blank\">Radial basis networks</a></span>&#xA0;- although not a different type of architecture in the sense of perceptrons and connections, radial basis functions make use of radial basis functions as their activation functions, these are real valued functions whose output depends on the distance from a particular point. The most commonly used radial basis functions is the Gaussian distribution.&#xA0;Because radial basis functions can take on much more complex forms, they were originally used for performing function interpolation. As such, a radial basis function neural network can have a much higher information capacity. Radial basis functions&#xA0;are also used in the kernel of a <a href=\"http://en.wikipedia.org/wiki/Support_vector_machine\" target=\"_blank\">Support Vector Machine</a>.</span></p>\n<div id=\"attachment_2246\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2246 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Radial-basis-function-fitting1-300x92.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Radial-basis-function-fitting1-1024x315.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Radial-basis-function-fitting1-700x215.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Radial-basis-function-fitting1.png%201125w\" alt=\"Radial basis function fitting\" width=\"1125\"><p class=\"wp-caption-text\"><span>This diagram shows how curve fitting can be done using radial basis functions</span></p></div>\n<p><span>In summary, many hundreds of&#xA0;neural network architectures exist and the performance of one neural network can be significantly&#xA0;superior to another. As such, quantitative analysts interested in using neural networks&#xA0;should probably test multiple neural network architectures and consider combining their outputs together in an ensemble to maximize their investment performance. I recommend reading my article, <em><a href=\"http://www.turingfinance.com/perils-optimization-in-investment-management/\" target=\"_blank\">All Your Models are Wrong, 7 Sources of Model Risk</a></em>, before using Neural Networks for trading because many of the problems still apply.</span></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"size\"></a>4.&#xA0;Size matters, but bigger isn't always better</h3>\n<p><span>Having selected an architecture one must then decide how large or small the neural network should be. How many inputs are there? How many hidden neurons&#xA0;should be used? How many hidden layers should be used (if we are using a deep neural network)? And how many outputs neurons are required? </span><span>The reasons why these questions are important is because if the neural network is too large (too small) the neural network could potentially overfit (underfit) the data meaning that the network would&#xA0;not generalize well out of sample.</span></p>\n\n<h5><span>How many and which inputs should be used?</span></h5>\n<p><span>The number of inputs depends on the problem being solved,&#xA0;the quantity and quality of&#xA0;available data, and perhaps some creativity. Inputs are simply variables which we believe have some predictive power over the dependent variable being predicted. If the inputs to a problem are unclear, you can systematically determine which variables should be included by looking at the correlations and cross-correlation between potential&#xA0;independent variables and the dependent variables. This approach is detailed in the article, <em><a href=\"http://www.turingfinance.com/what-drives-real-gdp-growth-part-one/\" target=\"_blank\">What Drives Real GDP Growth?</a></em></span></p>\n<p><span>There are two problems with using correlations to select input variables. Firstly, if you are using a linear correlation metric you may inadvertently exclude&#xA0;useful variables. Secondly, two relatively uncorrelated variables could potentially be combined to produce a strongly correlated variable. If you look at the variables in isolation you may miss this opportunity. To overcome the second problem you could use <a href=\"http://www.turingfinance.com/artificial-intelligence-and-statistics-principal-component-analysis-and-self-organizing-maps/\" target=\"_blank\">principal component analysis</a> to extract useful eigenvectors (linear combinations of the variables) as inputs. That said a&#xA0;problem with this is that the eigenvectors&#xA0;may not generalize well and they also assume the&#xA0;distributions of input patterns is stationary.</span></p>\n<p><span>Another problem when selecting variables is multicollinearity. Multicollinearity is when two or more of the independent variables being fed into the model are highly correlated. In the context of regression models this may cause regression co-efficients to change erratically&#xA0;in response to small changes in the model or the data. Given that neural networks and regression models are similar I suspect this is also a problem for neural networks. </span></p>\n<p><span>Last, but not least, one statistical bias which may be introduced&#xA0;when selecting variables is <a href=\"http://www.turingfinance.com/perils-optimization-in-investment-management/\" target=\"_blank\">omitted-variable bias</a>. Omitted variable bias occurs when a model is created which leaves out one or more important causal variables. The bias is created when the model incorrectly compensates for the missing variable by over or underestimating the effect of one of the other variables i.e. the weights may&#xA0;become too large on these variables or SSE will be large.&#xA0;</span></p>\n\n<h5><span>How many hidden neurons should I use?</span></h5>\n<p><span>The optimal number of hidden units is <span>problem specific</span>. That said, as a general rule of thumb&#xA0;the more hidden units used the more probable the risk of overfitting becomes. Overfitting is when the neural network does not learn the underlying statistical properties of the data, but rather 'memorizes' the patterns and any noise they may contain. This results in neural networks which perform well in sample but poorly out of sample.&#xA0;So how can we avoid overfitting? There are two popular approaches used in industry namely early stopping and regularization and then there is my personal favourite approach, global search,</span></p>\n<div class=\"one_half\">\n<p><span><a href=\"https://en.wikipedia.org/wiki/Early_stopping\" target=\"_blank\">Early stopping</a> involves splitting your training set into the main training set and a validation set. Then&#xA0;instead of training a neural network for a fixed number of iterations, you train then until the performance of the neural network on the validation set begins to deteriorate. Essentially this prevents the neural network from using all of the available parameters and limits it's ability to simply memorize every pattern it sees. The image on the right shows two potential stopping points for the neural network (a and b).</span></p>\n</div>\n<div class=\"one_half column-last\">\n<p><img class=\"aligncenter wp-image-5874\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping-300x247.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping.png%20519w\" alt=\"Early Stopping\" width=\"243\"></p></div><span>The image below shows the performance and over-fitting of the neural network when stopped at a or b,</span>\n<p><img class=\"aligncenter size-large wp-image-5875\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping-II-300x116.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping-II-1024x397.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping-II-700x271.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Early-Stopping-II.png%201112w\" alt=\"Early Stopping II\" width=\"620\"></p>\n<p><span>Regularization penalizes the neural network for using complex architectures. Complexity in this approach is measured by the size of the neural network weights. Regularization&#xA0;is done by adding a term to sum squared error objective function which depends on the size of the weights. This is the equivalent of adding a prior which essentially makes the neural network believe that the function it is approximating is smooth,</span></p>\n<p><span><span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\epsilon = \\beta \\sum^{P_T}_{p=1} \\big ( t_p - o_p \\big )^2 + \\alpha \\sum^n_{j=1} v_j^2\"></span></span></p>\n<p><span>where <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"n\"></span> is the number of weights in the neural network. The parameters <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\alpha\"></span> and <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\beta\"></span> control the degree to which the neural network over or underfits the data. Good values for <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\alpha\"></span> and <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\beta\"></span> can be derived using Bayesian analysis and optimization. This, and the above, are explained in considerably more detail in this <a href=\"http://hagan.okstate.edu/NNDesign.pdf#page=469\" target=\"_blank\">brilliant chapter</a>.</span></p>\n<p><img class=\"aligncenter size-large wp-image-5876\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/Neural-Network-Regularization-300x234.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Neural-Network-Regularization-1024x800.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Neural-Network-Regularization-700x547.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/05/Neural-Network-Regularization.png%201185w\" alt=\"Neural Network Regularization\" width=\"620\"></p>\n<p><span>My favourite technique, which is also by far the most computationally expensive, is global search. In this approach a search algorithm is used to try different neural network architectures and arrive at a near optimal choice. This is most often done using genetic algorithms which are discussed further on in this article. </span></p>\n\n<h5><span>What Are the Outputs?</span></h5>\n<p><span>Neural networks can be used for either regression or classification. Under regression model a single value is&#xA0;outputted which may be mapped to a set of real numbers meaning that only one output neuron is required. Under&#xA0;classification model an output neuron is required for each potentially class to which the pattern may belong. If the classes are unknown unsupervised neural network techniques such as self organizing maps should be used.</span></p>\n\n<p><span>In conclusion, the best approach is to follow <a href=\"https://en.wikipedia.org/wiki/Occam's_razor\" target=\"_blank\">Ockhams Razor.</a> Ockham's razor argues that for two models of equivalent performance, the model with fewer free parameters will generalize better. On the other hand, one should never opt for an overly simplistic model at the cost of performance. Similarly, one should not assume that just because a neural network has more hidden neurons and maybe more hidden layers it will outperform a much simpler network. Unfortunately it seems to me that too much emphasis is placed on large networks and too little emphasis is placed on making good design decisions. In the case of neural networks, bigger isn't always better.&#xA0;</span></p>\n<p><div><div class=\"one_half\">\n\n<blockquote>\n<p><span>Entities must not be multiplied beyond necessity -&#xA0;<a href=\"https://en.wikipedia.org/wiki/William_of_Ockham\" target=\"_blank\">William of Ockham</a></span></p>\n</blockquote>\n</div></div></p>\n<p><div><div class=\"one_half column-last\">\n\n<blockquote>\n<p><span>Entities must not be reduced to the point of inadequacy - <a href=\"https://en.wikipedia.org/wiki/Karl_Menger\" target=\"_blank\">Karl Menger</a></span></p>\n</blockquote>\n</div></div></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"algo\"></a>5.&#xA0;Many training algorithms exist for neural networks</h3>\n<p><span>The learning algorithm of a neural network tries to optimize the neural network's weights until some stopping condition has been met. This condition is typically either&#xA0;when the error of the network reaches an&#xA0;acceptable level of accuracy on the training set, when the error of the network on the validation set begins to deteriorate, or when&#xA0;the specified&#xA0;computational budget has been exhausted.&#xA0;The most common learning algorithm for neural networks is the&#xA0;<a href=\"http://en.wikipedia.org/wiki/Backpropagation\" target=\"_blank\">backpropagation</a>&#xA0;algorithm which uses <a href=\"http://en.wikipedia.org/wiki/Stochastic_gradient_descent\" target=\"_blank\">stochastic gradient descent</a>&#xA0;which was discussed earlier on in this article. Backpropagation&#xA0;consists of two steps:</span></p>\n<ol>\n<li><span><span>The feedforward pass</span> -&#xA0;&#xA0;the training data set is passed through the network and the output from the neural network is recorded and the error of the network is calculated</span></li>\n<li><span><span>Backward propagation</span> - the error signal is passed back through the network and the weights of the neural network are optimized using gradient descent.</span></li>\n</ol>\n<p><span>The&#xA0;are some problems with this approach. Adjusting all the weights at once can result in a <a href=\"http://changelog.ca/quote/2011/11/21/why_is_back-propagation_learning_so_slow\" target=\"_blank\">significant movement</a> of the neural network in weight space, the gradient descent algorithm is quite slow, and is&#xA0;susceptible to local minima. Local minima are a problem for specific types of neural networks including all product link neural networks. The first two problems can be addressed by using <a href=\"https://en.wikipedia.org/?title=Gradient_descent#Extensions\" target=\"_blank\">variants of gradient descent</a> including momentum gradient descent (QuickProp), Nesterov's Accelerated Momentum (NAG) gradient descent, the <a href=\"http://www.magicbroom.info/Papers/DuchiHaSi10.pdf\" target=\"_blank\">Adaptive Gradient Algorithm</a>&#xA0;(AdaGrad), Resilient Propagation (RProp), and <a href=\"http://www.cs.toronto.edu/~tijmen/csc321/slides/lecture_slides_lec6.pdf\" target=\"_blank\">Root Mean Squared Propagation</a> (RMSProp). As can be seen from the image below significant improvements can be made on the classical gradient descent algorithm.&#xA0;</span></p>\n<p><a href=\"http://imgur.com/a/Hqolp\" target=\"_blank\"><img class=\"aligncenter wp-image-5864 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/05/Long-Valley-Training-Algorithms.gif.pagespeed.ce.SjtKOauOXF.gif\" alt=\"Long Valley Training Algorithms\" width=\"620\"></a></p>\n<p><span>That having been said, these algorithms cannot overcome local minima and are also less useful when trying to optimize both the architecture and weights of the neural network concurrently. In order to achieve this&#xA0;global optimization algorithms are needed. Two popular global optimization algorithms are the Particle Swarm Optimization (PSO) and the Genetic Algorithm (GA). Here is how they can be used to train neural networks:</span></p>\n<p><span><span>Neural network vector representation</span> - by encoding the neural network as a vector of weights, each representing the weight of a connection in the neural network, we can train neural networks using&#xA0;most meta-heuristic search algorithms. This technique does not work well with deep neural networks because the vectors become too large.</span></p>\n<div id=\"attachment_2294\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2294 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Vector-Representation-Neural-Network1-300x125.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Vector-Representation-Neural-Network1-1024x428.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Vector-Representation-Neural-Network1-700x292.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Vector-Representation-Neural-Network1.png%201303w\" alt=\"Vector Representation Neural Network\" width=\"1303\"><p class=\"wp-caption-text\"><span>This diagram illustrates how a neural network can be represented in a vector notation and related to the concept of a search space or fitness landscape.</span></p></div>\n<p><span><a href=\"http://en.wikipedia.org/wiki/Particle_swarm_optimization\" target=\"_blank\"><span>Particle Swarm Optimization</span></a> - to train a neural network using a PSO we construct a population / swarm of those neural networks. Each neural network is represented as a vector of weights and is adjusted according to it's position from the global best particle and it's personal best.</span></p>\n<p><span>The fitness function is calculated as the sum-squared error of the reconstructed neural network after completing one feedforward pass of the training data set. The main consideration with this approach is the velocity of the weight updates. This is because if the weights are adjusted too quickly, the sum-squared error of the neural networks will stagnate and no learning will occur.</span></p>\n<div id=\"attachment_2316\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2316 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Particle-Swarm-Optimization-Single-Swarm-300x119.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Particle-Swarm-Optimization-Single-Swarm-1024x405.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Particle-Swarm-Optimization-Single-Swarm-700x277.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Particle-Swarm-Optimization-Single-Swarm.png%201464w\" alt=\"Particle Swarm Optimization Single Swarm\" width=\"1464\"><p class=\"wp-caption-text\"><span>This diagram shows how particles are attracted to one another in a single swarm Particle Swarm Optimization algorithm.</span></p></div>\n<p><span><a href=\"http://en.wikipedia.org/wiki/Genetic_algorithm\" target=\"_blank\"><span>Genetic Algorithm</span></a> - to train a neural network using a genetic algorithm we first construct a population of vector represented neural networks. Then we apply the three genetic operators on that population to evolve better and better neural networks. These three operators are,</span></p>\n<ol>\n<li><span><a href=\"http://en.wikipedia.org/wiki/Selection_(genetic_algorithm)\" target=\"_blank\">Selection</a> - Using the sum-squared error of each network calculated after one feedforward pass, we rank the population of neural networks. The top x% of the population are selected to 'survive' to the next generation and be used for crossover.</span></li>\n<li><span><a href=\"http://en.wikipedia.org/wiki/Crossover_(genetic_algorithm)\" target=\"_blank\">Crossover</a>&#xA0;-&#xA0;The top x% of the population's genes are allowed to cross over with one another. This process forms 'offspring'. In context, each offspring will represent a new neural network with weights from both of the 'parent' neural networks.</span></li>\n<li><span><a href=\"http://en.wikipedia.org/wiki/Mutation_(genetic_algorithm)\" target=\"_blank\">Mutation</a> - this operator is required to maintain genetic diversity in the population. A small percentage of the population are selected to undergo mutation. Some of the weights in these neural networks will be adjusted randomly within a particular range.</span></li>\n</ol>\n<div id=\"attachment_2320\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2320 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Genetic-Algorithm1-300x160.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Genetic-Algorithm1-700x373.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Genetic-Algorithm1.png%20961w\" alt=\"Genetic Algorithm\" width=\"961\"><p class=\"wp-caption-text\"><span>This algorithm shows the selection, crossover, and mutation genetic operators being applied to a population of neural networks represented as vectors.</span></p></div>\n<p><span>In addition to these population-based metaheuristic search algorithms, other algorithms have been used to train of neural networks including backpropagation with added momentum, <a href=\"http://en.wikipedia.org/wiki/Differential_evolution\" target=\"_blank\">differential evolution</a>, <a href=\"http://en.wikipedia.org/wiki/Levenberg_Marquardt\" target=\"_blank\">Levenberg Marquardt</a>, <a href=\"http://en.wikipedia.org/wiki/Simulated_annealing\" target=\"_blank\">simulated annealing</a>, and many&#xA0;<a href=\"http://page.mi.fu-berlin.de/rojas/neural/chapter/K8.pdf\" target=\"_blank\">more</a>. Personally I would recommend using a combination of local and global optimization algorithms to overcome the shortcomings of both.</span></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"data\"></a>6.&#xA0;Neural networks do not always require a lot of data</h3>\n<p><span>Neural networks can use one of three learning strategies namely a supervised learning strategy, an unsupervised learning strategy, or a reinforcement learning strategy.&#xA0;</span><span><a href=\"http://en.wikipedia.org/wiki/Supervised_learning\" target=\"_blank\">Supervised learning</a>&#xA0;require at least two data sets, a training set which consists of inputs with the expected output, and a testing&#xA0;set which consists of inputs without the expected output. Both of these data sets must consist of labelled data i.e. data patterns for which the target is known upfront.&#xA0;</span><span><a href=\"http://en.wikipedia.org/wiki/Unsupervised_learning\" target=\"_blank\">Unsupervised learning</a>&#xA0;strategies are typically used to discover hidden structures (such as hidden Markov chains) in unlabeled data. They behave in a&#xA0;similar way to&#xA0;clustering algorithms. <a href=\"http://en.wikipedia.org/wiki/Reinforcement_learning\" target=\"_blank\">Reinforcement learning</a>&#xA0;are based on the simple premise of rewarding neural networks for good behaviours and punishing them for bad behaviours.&#xA0;</span><span>Because unsupervised and reinforcement learning strategies do not require that&#xA0;data be labelled&#xA0;they can be applied to under-formulated problems where the correct output is not known. &#xA0;</span></p>\n\n<h5><span>Unsupervised&#xA0;Learning</span></h5>\n<p><span>One of the most popular unsupervised neural network architectures is the Self Organizing Map (also known as the Kohonen Map). Self Organizing Maps are&#xA0;essentially a multi-dimensional scaling technique which construct an approximation of&#xA0;the <a href=\"http://en.wikipedia.org/wiki/Probability_density_function\" target=\"_blank\">probability density function</a> of some underlying data set, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{Z}\"></span>, whilst&#xA0;preserving the topological structure of that data set.&#xA0;</span><span>This is done by&#xA0;mapping input vectors, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{z}_i\"></span>, in the data set, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{Z}\"></span>, to weight vectors, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{v}_j\"></span>, (neurons) in the feature map, <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{V}\"></span>. Preserving the topological structure simply means that if two&#xA0;input vectors are close together in <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{Z}\"></span>, then the neurons to which those input vectors&#xA0;map in <span class=\"MathJax_Preview\"><img src=\"\" class=\"tex\" alt=\"\\textbf{V}\"></span> will also be close together.&#xA0;</span></p>\n<p><img class=\"aligncenter wp-image-3900 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/10/410x290xSelf-Organizing-Feature-Map.gif.pagespeed.ic.dbQPw_XimP.png\" alt=\"Dimensionality Reduction using Principal Component Analysis and Self Organizing Maps\" width=\"410\"></p>\n<p><span>For more information on self organizing maps and how they can be used to produce lower-dimensionality data sets <a href=\"http://www.turingfinance.com/artificial-intelligence-and-statistics-principal-component-analysis-and-self-organizing-maps/\" target=\"_blank\">click here</a>. Another interesting&#xA0;application of SOM's is in colouring time series charts for stock trading. This is done to show what the market conditions are at that point in time. This <a href=\"http://cortex.snowcron.com/forex_som.htm#visualization\" target=\"_blank\">website</a> provides a detailed tutorial and code snippets for implementing the idea for improved Forex trading strategies.</span></p>\n\n<h5><span>Reinforcement Learning</span></h5>\n<p><span>Reinforcement learning strategies consist of three components.&#xA0;A policy which specifies how the neural network will make decisions e.g. using technical and fundamental indicators.&#xA0;A reward function which distinguishes good from bad e.g. making vs. losing money. And a value function which specifies the long term goal. In the context of financial markets (and game playing) reinforcement learning strategies are particularly useful because the neural network learns to optimize a particular quantity such as an appropriate <a href=\"http://www.turingfinance.com/computational-investing-with-python-week-one/\" target=\"_blank\">measure of risk adjusted return</a>.&#xA0;</span></p>\n<div id=\"attachment_2379\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2379 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Reinforcement-Learning-300x154.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Reinforcement-Learning-420x215.png%20420w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Reinforcement-Learning-700x359.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Reinforcement-Learning.png%20701w\" alt=\"Reinforcement Learning\" width=\"701\"><p class=\"wp-caption-text\"><span>This diagram shows how a neural network can be either negatively or positively reinforced.</span></p></div>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"prep\"></a>7.&#xA0;Neural networks cannot be trained on any data</h3>\n<p><span>One of the biggest reasons why neural networks may not work is because&#xA0;people do not properly pre-process the data being fed into the neural network. Data normalization, removal of redundant information, and outlier removal should all be performed to&#xA0;improve the probability of good neural network performance.</span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Normalization_(statistics)\" target=\"_blank\">Data normalization</a></span> - neural networks consist of various layers of perceptrons linked together by&#xA0;weighted connections. Each perceptron contains an activation function which each have an '<a href=\"http://www.jatit.org/volumes/Vol47No3/61Vol47No3.pdf\" target=\"_blank\">active range</a>' (except for radial basis functions). Inputs into the neural network need to&#xA0;be scaled within this range so that the neural network is able to differentiate between different input patterns.</span></p>\n<p><span>For example, given&#xA0;a neural network trading system which receives indicators&#xA0;about a set&#xA0;of&#xA0;securities&#xA0;as inputs&#xA0;and outputs whether&#xA0;each&#xA0;security&#xA0;should be bought or sold. One of the inputs is the price of the security and we are using the Sigmoid activation function.&#xA0;</span><span>However, most of the securities cost between 5$ and 15$ per share&#xA0;and&#xA0;the output of the Sigmoid function approaches 1.0. So&#xA0;the output of the Sigmoid function will be be 1.0 for all securities, all of the perceptrons will 'fire' and the neural network will not learn.</span></p>\n<blockquote>\n<p><span>Neural networks trained on unprocessed&#xA0;data produce models where 'the lights are on but nobody's home'</span></p>\n</blockquote>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Outlier#Exclusion\" target=\"_blank\">Outlier removal</a></span> - an outlier is&#xA0;value that is much smaller or larger than most of the other values in some set of data. Outliers can cause problems with statistical techniques like&#xA0;regression analysis and curve fitting because when the model tries to 'accommodate' the outlier, performance of the model across all other data&#xA0;deteriorates,</span></p>\n<div id=\"attachment_2403\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2403 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Outlier-Removal-300x147.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Outlier-Removal.png%20513w\" alt=\"Outlier Removal\" width=\"513\"><p class=\"wp-caption-text\"><span>This diagram shows the effect of removing an outlier from the training data for a linear regression. The results are comparable for neural networks. Image source: https://statistics.laerd.com/statistical-guides/img/pearson-6.png</span></p></div>\n<p><span>The illustration shows that trying to accommodate an outlier into the linear regression model results in a poor fits of the data set. The effect of outliers on non-linear regression models, including neural networks, &#xA0;is similar. Therefore it is good practice is to remove outliers from the training data set. That said, identifying outliers&#xA0;is a challenge in and of itself, this <a href=\"https://www.siam.org/meetings/sdm10/tutorial3.pdf\" target=\"_blank\">tutorial</a>&#xA0;and <a href=\"http://www.eng.tau.ac.il/~bengal/outlier.pdf\" target=\"_blank\">paper</a>&#xA0;discuss existing&#xA0;techniques for outlier detection and removal.</span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Redundancy_(information_theory)\" target=\"_blank\">Remove redundancy</a></span> - when two or more of the independent variables being fed into the neural network are highly correlated (multiplecolinearity) this can negatively affect the neural networks learning ability.&#xA0;Highly correlated inputs also</span><span>&#xA0;mean that the amount of unique&#xA0;information presented by each variable&#xA0;is&#xA0;small, so&#xA0;the less significant input can be removed. Another benefit to removing redundant variables is faster training times.&#xA0;</span><span>Adaptive neural networks can be used to&#xA0;prune redundant connections and perceptrons.</span></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"break\"></a>8.&#xA0;Neural networks may need to be retrained</h3>\n<p><span>Given that you were able to train a neural network to trade successfully in and out of sample this neural network may still&#xA0;stop working over time. This is not a poor reflection&#xA0;on neural networks but rather an accurate&#xA0;reflection of the financial markets. Financial markets are complex adaptive systems meaning that they&#xA0;are&#xA0;constantly changing so what worked yesterday may not work tomorrow. This characteristic is called non-stationary or dynamic optimization problems and neural networks are not particularly good at handling them.</span></p>\n<p><span>Dynamic environments, such as financial markets, are&#xA0;extremely difficult for&#xA0;neural networks to model. Two&#xA0;approaches are either to keep&#xA0;retraining the neural network&#xA0;over-time, or to use a dynamic neural network. Dynamic neural networks 'track' changes to the environment over time and adjust&#xA0;their architecture and weights&#xA0;accordingly. They are adaptive over time.&#xA0;</span><span>For dynamic problems, multi-solution&#xA0;meta-heuristic optimization algorithms can be used to track changes to local optima over time. One such algorithm is the <a href=\"http://en.wikipedia.org/wiki/Multi-swarm_optimization\" target=\"_blank\">multi-swarm optimization</a> algorithm, a derivative of the particle swarm optimization. Additionally, genetic algorithms with enhanced diversity or memory have also been shown to be robust in dynamic environments.</span></p>\n<p><span>The illustration below demonstrates how a genetic algorithm evolves over time to find new optima in a dynamic environment. This illustration also happens to&#xA0;mimic&#xA0;trade&#xA0;crowding&#xA0;which is&#xA0;when market participants&#xA0;crowd a profitable&#xA0;trading strategy, thereby&#xA0;exhausting trading opportunities causing&#xA0;the&#xA0;trade to become less profitable.</span></p>\n<div id=\"attachment_2418\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2418 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Dynamic-Environment.gif.pagespeed.ce.hNjfn4okrI.gif\" alt=\"Dynamic Environment\" width=\"640\"><p class=\"wp-caption-text\"><span>This animated image shows a dynamic fitness landscape (search space) change over time. Image source: http://en.wikipedia.org/wiki/Fitness_landscape</span></p></div>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"blackbox\"></a>9.&#xA0;Neural networks are not black boxes</h3>\n<p><span>By itself a neural network is a <a href=\"http://en.wikipedia.org/wiki/Black_box\" target=\"_blank\">black-box</a>. This presents&#xA0;problems for people&#xA0;wanting to use them. For example, fund managers&#xA0;wouldn't&#xA0;know how a neural network makes trading&#xA0;decisions,&#xA0;so it is impossible to assess the risks of the&#xA0;trading strategies learned&#xA0;by the neural network.&#xA0;Similarly, banks using neural networks for credit risk modelling would not be able to justify why a customer has&#xA0;a particular credit rating, which is a regulatory requirement.&#xA0;</span><span>That having been said, state of the art <a href=\"https://www.google.co.za/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;cad=rja&amp;uact=8&amp;ved=0CEcQFjAC&amp;url=http%3A%2F%2Fwww.mini.pw.edu.pl%2F~mandziuk%2F09-02-06.ppt&amp;ei=DSRiU_-oEoev7AaQtoEI&amp;usg=AFQjCNHnNR7aNo_EMWcDya4ENk5JDG3cSA&amp;sig2=vA7JyJ-uYZqxxWaITp-leg&amp;bvm=bv.65636070,d.ZGU\" target=\"_blank\">rule-extraction algorithms</a> have been developed to vitrify some neural network architectures. These&#xA0;algorithms extract knowledge&#xA0;from the neural networks as&#xA0;either mathematical expressions, symbolic logic, fuzzy logic, or decision trees.</span></p>\n<div id=\"attachment_2435\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2435 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Black-box1-300x210.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Black-box1.png%20624w\" alt=\"Black box\" width=\"624\"><p class=\"wp-caption-text\"><span>This image shows a neural network as a black box and how it related to rule extraction techniques.</span></p></div>\n<p><span><a href=\"http://www.sciencedirect.com/science/article/pii/S0893608002000898\" target=\"_blank\"><span>Mathematical rules</span></a> - algorithms have been developed which can extract multiple linear regression lines from neural networks. The problem with these techniques is that the rules are often still difficult to understand, therefore these do not solve the 'black-box' problem.</span></p>\n<p><span><a href=\"http://en.wikipedia.org/wiki/Propositional_logic\" target=\"_blank\"><span>Propositional logic</span></a> - propositional&#xA0;logic is a branch&#xA0;of mathematical logic which&#xA0;deals with operations done on discrete valued variables. These variables, such as A or B, are often&#xA0;either TRUE or FALSE, but they could occupy values within a discrete range e.g. {BUY,HOLD,SELL}.</span></p>\n<p><span>Logical operations can then be applied to those variables such as&#xA0;OR, AND, and XOR. The results are called predicates which&#xA0;can also&#xA0;be quantified over sets using the exists or for-all quantifiers. This is the difference between predicate and propositional logic.&#xA0;</span><span>If we had a simple neural network which Price (P),&#xA0;Simple Moving Average (SMA), and Exponential Moving Average (EMA) as inputs and we extracted a&#xA0;trend following strategy from&#xA0;the neural network in propositional logic, we might get rules like this,</span></p>\n<p><span><img class=\"aligncenter size-full wp-image-2446\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Propositional-Logic-Example-300x38.gif%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Propositional-Logic-Example.gif%20398w\" alt=\"Propositional Logic Example\"></span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Fuzzy_logic\" target=\"_blank\">Fuzzy logic</a></span> - fuzzy logic is where probability and propositional logic meet. The problem with propositional logic is that is deals in absolutes e.g.&#xA0;BUY or SELL, TRUE or FALSE, 0 or 1. Therefore for traders there is no way to determine the&#xA0;confidence of these results.&#xA0;</span><span>Fuzzy logic overcomes this limitation by introducing a membership function which specifies how much a&#xA0;variable belongs to a particular domain. For example, a company (GOOG) might belong 0.7 to the domain {BUY} and 0.3 to the domain {SELL}.&#xA0;</span><span>Combinations of neural networks and fuzzy logic are called <a href=\"http://en.wikipedia.org/wiki/Neuro-fuzzy\" target=\"_blank\">Neuro-Fuzzy systems</a>. This <a href=\"http://www.ncbi.nlm.nih.gov/pubmed/18249802\" target=\"_blank\">research survey</a> discusses various fuzzy rule extraction techniques.</span></p>\n<p><span><span><a href=\"http://en.wikipedia.org/wiki/Decision_tree\" target=\"_blank\">Decision trees</a></span> - decision trees show how decisions are made&#xA0;when given certain information. This article describes&#xA0;how to evolve <a href=\"http://www.turingfinance.com/using-gp-to-evolve-security-analysis-decision-trees/\" target=\"_blank\">security analysis decision trees using genetic programming</a>.&#xA0;Decision tree induction is the term given to the process of extracting decision trees from neural networks.</span></p>\n<div id=\"attachment_2457\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2457 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Trading-Strategy-Decision-Tree-300x124.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Trading-Strategy-Decision-Tree-700x289.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Trading-Strategy-Decision-Tree.png%20950w\" alt=\"Trading Strategy Decision Tree\" width=\"950\"><p class=\"wp-caption-text\"><span>An example of a simple trading strategy represented using a decision tree. The triangular boxes represent decision nodes, these could be to BUY, HOLD, or SELL a company. Each box represents a tuple of &lt;indicator, inequality,=\"\" value=\"\"&gt;. An example might be &lt;sma,&gt;, 25&gt; or &lt;ema, &lt;=\",\" 30=\"\"&gt;.</span></p></div>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3><a id=\"difficult\"></a>10.&#xA0;Neural networks are not hard to implement</h3>\n<p><span><em>This list is updated, from time to time, when I have time. Last updated: November 2015.</em></span></p>\n<p><span>Speaking from experience, neural networks are quite challenging&#xA0;to code from scratch. Luckily there are now hundreds&#xA0;open source and proprietary packages which make working with neural networks a lot easier. </span><span>Below is a list of packages which quants may find useful for quantitative finance. The list is NOT exhaustive, and is ordered alphabetically. If you have any additional comments, or frameworks to add, please share via the comment section.</span></p>\n\n<h5><span>Caffe</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://caffe.berkeleyvision.org/\" target=\"_blank\">http://caffe.berkeleyvision.org/</a></span></p>\n<p><span>GitHub Repository -&#xA0;<a href=\"https://github.com/BVLC/caffe\" target=\"_blank\">https://github.com/BVLC/caffe</a></span></p>\n<p><em><span>\"Caffe is a deep learning framework made with expression, speed, and modularity in mind. It is developed by the Berkeley Vision and Learning Center (<a href=\"http://bvlc.eecs.berkeley.edu/\">BVLC</a>) and by community contributors.<a href=\"http://daggerfs.com/\">Yangqing Jia</a> created the project during his PhD at UC Berkeley.\" - Caffe webpage (November 2015)</span></em></p>\n\n<h5><span>Encog</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://www.heatonresearch.com/encog/\" target=\"_blank\">http://www.heatonresearch.com/encog/</a></span></p>\n<p><span>GitHub Repositories -&#xA0;<a href=\"https://github.com/encog\" target=\"_blank\">https://github.com/encog</a></span></p>\n<p><em><span>\"Encog is an advanced machine learning framework that supports a variety of advanced algorithms, as well as support classes to normalize and process data. Machine learning algorithms such as Support Vector Machines, Artificial Neural Networks, Genetic Programming, Bayesian Networks, Hidden Markov Models, Genetic Programming and Genetic Algorithms are supported. Most Encog training algoritms are multi-threaded and scale well to multicore hardware. Encog can also make use of a GPU to further speed processing time. A GUI based workbench is also provided to help model and train machine learning algorithms.\" - Encog webpage</span></em></p>\n\n<h5><span>H2O</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://h2o.ai/\" target=\"_blank\">http://h2o.ai/</a></span></p>\n<p><span>GitHub Repositories -&#xA0;<a href=\"https://github.com/h2oai\" target=\"_blank\">https://github.com/h2oai</a></span></p>\n<p><span>H2O is not strictly a package for machine learning, instead they expose an API for doing fast and scalable machine learning for&#xA0;smarter applications which use big data. Their API supports deep learning model, generalized boosting models, generalized linear models, and more. They also host a cool conference, <a href=\"https://www.youtube.com/playlist?list=PLNtMya54qvOFQhSZ4IKKXRbMkyLMn0caa\" target=\"_blank\">checkout the videos</a> :).</span></p>\n\n<h5><span>Google TensorFlow</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://www.tensorflow.org/\" target=\"_blank\">http://www.tensorflow.org/</a></span></p>\n<p><span>GitHub repository -&#xA0;<a href=\"https://github.com/tensorflow/tensorflow\" target=\"_blank\">https://github.com/tensorflow/tensorflow</a></span></p>\n<p><em><span>\"</span><span>TensorFlow is an open source software library for numerical computation using data flow graphs. Nodes in the graph represent mathematical operations, while the graph edges represent the multidimensional data arrays (tensors) that flow between them. This flexible architecture lets you deploy computation to one or more CPUs or GPUs in a desktop, server, or mobile device without rewriting code.\" - GitHub repository (<em>November 2015)</em></span></em></p>\n\n<h5><span>Microsoft Distributed Machine Learning Tookit</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://www.dmtk.io/\" target=\"_blank\">http://www.dmtk.io/</a></span></p>\n<p><span>GitHub repository -&#xA0;<a href=\"https://github.com/Microsoft/DMTK\" target=\"_blank\">https://github.com/Microsoft/DMTK</a></span></p>\n<p><em><span>\"DMTK includes the following projects: </span></em><em><span><a href=\"https://github.com/Microsoft/multiverso\">DMTK framework(Multiverso)</a>: The parameter server framework for distributed machine learning. </span></em><em><span><a href=\"https://github.com/Microsoft/lightlda\">LightLDA</a>: Scalable, fast and lightweight system for large-scale topic modeling.&#xA0;</span></em><em><span><a href=\"https://github.com/Microsoft/distributed_word_embedding\">Distributed word embedding</a>: Distributed algorithm for word embedding.&#xA0;</span></em><em><span><a href=\"https://github.com/Microsoft/distributed_skipgram_mixture\">Distributed skipgram mixture</a>: Distributed algorithm for multi-sense word embedding.\" - GitHub repository (November 2015)</span></em></p>\n\n<h5><span>Microsoft Azure Machine Learning</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"https://azure.microsoft.com/en-us/services/machine-learning\" target=\"_blank\">https://azure.microsoft.com/en-us/services/machine-learning</a></span></p>\n<p><span>GitHub Repositories - <a href=\"https://github.com/Azure?utf8=%E2%9C%93&amp;query=MachineLearning\" target=\"_blank\">https://github.com/Azure?utf8=%E2%9C%93&amp;query=MachineLearning</a>&#xA0;</span></p>\n<p><span>The machine learning / predictive analytics platform in Microsoft Azure is a fully managed cloud service that enables you to easily build, deploy, and share predictive analytics solutions. This software basically allows you to&#xA0;drag and drop pre-built components (including machine learning models) and custom-built&#xA0;components&#xA0;which manipulate data sets into a&#xA0;process.&#xA0;This flow-chart is then compiled into a program and can be deployed as a web-service. It is similar to the older SAS enterprise miner solution except that is it more modern, more functional, supports deep learning models, and exposes clients for Python and R.&#xA0;</span></p>\n\n<h5><span>MXNet</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://mxnet.readthedocs.org/en/latest/\" target=\"_blank\">http://mxnet.readthedocs.org/en/latest/</a></span></p>\n<p><span>GitHub Repositories -&#xA0;<a href=\"https://github.com/dmlc/mxnet\" target=\"_blank\">https://github.com/dmlc/mxnet</a></span></p>\n<p><em><span>\"MXNet is a deep learning framework designed for both efficiency and flexibility. It allows you to mix the flavours of symbolic programming and imperative programming together to maximize the efficiency and your productivity. In its core, a dynamic dependency scheduler that automatically parallelizes both symbolic and imperative operations on the fly. A graph optimization layer is build on top, which makes symbolic execution fast and memory efficient. The library is portable and lightweight, and is ready scales to multiple GPUs, and multiple machines.\" - MXNet GitHub Repository (November 2015)</span></em></p>\n\n<h5><span>Neon</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://neon.nervanasys.com/docs/latest/index.html\" target=\"_blank\">http://neon.nervanasys.com/docs/latest/index.html</a></span></p>\n<p><span>GitHub Repository -&#xA0;<a href=\"https://github.com/nervanasystems/neon\" target=\"_blank\">https://github.com/nervanasystems/neon</a></span></p>\n<p><em><span>\"neon is Nervana's Python based Deep Learning framework and achieves the fastest performance on many common deep neural networks such as AlexNet, VGG and GoogLeNet. We have designed it with the following functionality in mind: 1)&#xA0;Support for commonly used models and examples: convnets, MLPs, RNNs, LSTMs, autoencoders, 2)&#xA0;Tight integration with nervanagpu kernels for fp16 and fp32 (<a href=\"https://github.com/soumith/convnet-benchmarks\">benchmarks</a>) on Maxwell GPUs, 3)&#xA0;Basic automatic differentiation support, 4)&#xA0;Framework for visualization, and 5)&#xA0;Swappable hardware backends&#xA0;...\" - neon GitHub repository (November 2015)</span></em></p>\n\n<h5><span>Theano</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://deeplearning.net/software/theano/\" target=\"_blank\">http://deeplearning.net/software/theano/</a></span></p>\n<p><span>GitHub repository -&#xA0;<a href=\"https://github.com/Theano/Theano\" target=\"_blank\">https://github.com/Theano/Theano</a></span></p>\n<p><em><span>\"Theano is a Python library that allows you to define, optimize, and evaluate mathematical expressions involving multi-dimensional arrays efficiently. It can use GPUs and perform efficient symbolic differentiation.\" - Theano GitHub repository (November 2015).&#xA0;</span></em><span>Theano, like TensorFlow and Torch, is more broadly applicable than just Neural Networks. It is a framework for implementing existing or creating new machine learning models using off-the-shelf data-structures and algorithms.&#xA0;</span></p>\n\n<h5><span>Torch</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://torch.ch/\" target=\"_blank\">http://torch.ch/</a></span></p>\n<p><span>GitHub Repository -&#xA0;<a href=\"https://github.com/torch/torch7\" target=\"_blank\">https://github.com/torch/torch7</a></span></p>\n<p><span><em>\"Torch is a scientific computing framework with wide support for machine learning algorithms ... A summary of core features include&#xA0;an N-dimensional array,&#xA0;routines for indexing, slicing, transposing, an&#xA0;interface to C, via LuaJIT,&#xA0;linear algebra routines,&#xA0;neural network, energy-based models,&#xA0;numeric optimization routines,&#xA0;Fast and efficient GPU support,&#xA0;Embeddable, with ports to iOS, Android and FPGA\" - Torch Webpage (November 2015).</em> Like Tensorflow and Theano, Torch is more broadly applicable than just Neural Networks.&#xA0;It is a framework for implementing existing or creating new machine learning models using off-the-shelf data-structures and algorithms.&#xA0;</span></p>\n\n<h5><span>SciKit Learn</span></h5>\n<p><span>Webpage -&#xA0;<a href=\"http://scikit-learn.org/stable/\" target=\"_blank\">http://scikit-learn.org/stable/</a></span></p>\n<p><span>GitHub Repository -&#xA0;<a href=\"https://github.com/scikit-learn/scikit-learn\" target=\"_blank\">https://github.com/scikit-learn/scikit-learn</a></span></p>\n<p><span>SciKit Learn is a very popular package for doing machine learning in Python. It is built on NumPy, SciPy, and matplotlib Open source,&#xA0;and exposes implementations of various machine learning models for classification, regression, clustering, dimensionality reduction, model selection, and data preprocessing.</span></p>\n\n<p><span>As I mentioned, there are now hundreds of machine learning packages and frameworks out there. Before committing to any one solution I would recommend doing a best-fit analysis to see which open source or proprietary machine learning package or software best matches your use-cases. Generally speaking a good rule to follow in software engineering and model development for quantitative finance is to not reinvent the wheel ... that said, for any sufficiently advanced model you should expect to have to&#xA0;write some of your own code.</span></p>\n<p><span><a href=\"http://www.turingfinance.com/misconceptions-about-neural-networks/#top\">Back to the top</a></span></p>\n\n<h3>Conclusion</h3>\n<p><span>Neural networks are a class of powerful machine learning algorithms. They are based on solid statistical foundations and have been applied successfully in financial models as well as in trading strategies for many years. Despite this, they have a bad reputation due to the&#xA0;many unsuccessful attempts to use them in practice.&#xA0;</span><span>In most cases, unsuccessful neural network implementations can be traced back to inappropriate neural network design decisions and general misconceptions about how they work. This article aims to articulate some of these misconceptions in the hopes that they might help individuals implementing neural networks meet with success.</span></p>\n<p><span>For readers interested in getting more information, I have found the following books to be quite instructional when it comes to neural networks and their role in financial modelling&#xA0;and algorithmic trading.&#xA0;</span></p>\n<div id=\"attachment_2473\" class=\"wp-caption aligncenter\"><img class=\"wp-image-2473 size-full\" src=\"http://www.turingfinance.com/wp-content/uploads/2014/04/Neural-network-textbooks-300x118.png%20300w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Neural-network-textbooks-1024x404.png%201024w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Neural-network-textbooks-700x276.png%20700w,%20http://www.turingfinance.com/wp-content/uploads/2014/04/Neural-network-textbooks.png%201032w\" alt=\"Neural network textbooks\" width=\"1032\"><p class=\"wp-caption-text\">Some instructional textbooks when it comes to implementing neural networks and other machine learning algorithms in finance. Many of the misconceptions presented in this article are discussed in more detail in Professor Andries Engelbrecht's book, 'An Introduction to Computational Intelligence'</p></div>\n\n \n\n\n</div> \n</div>"
    }, {
        "title": "The Power of PCAP & Retrospection in Practice",
        "url": "https://www.protectwise.com/blog/the-power-of-pcap-and-retrospection-in-practice/",
        "excerpt": "One of the core benefits of our Cloud Network DVR is that it creates a full fidelity network memory. This memory provides two powerful capabilities: The ability to validate and reconstruct security&hellip;",
        "date_saved": "Thu Jul 28 20:08:07 EDT 2016",
        "html_file": "the_power_of_pcap__retrospection_in_practice.html",
        "png_file": "the_power_of_pcap__retrospection_in_practice.png",
        "md_file": "the_power_of_pcap__retrospection_in_practice.md",
        "content": "<div><div class=\"markdown\"><p>One of the core benefits of our Cloud Network DVR is that it creates a full fidelity network memory. This memory provides two powerful capabilities:</p>\n\n<ol>\n<li>The ability to validate and reconstruct security events quickly using full PCAP; and,</li>\n<li>The ability to continuously &#x2018;go back in time&#x2019; to uncover previously unknown threats using the latest intelligence (what we refer to as retrospection).</li>\n</ol>\n\n<p>In this post, I would like to provide some real world insight into how these capabilities provide our customers with improved detection and response capabilities that surpass what is provided by legacy security tools.</p>\n\n<p>Let me provide a few quick examples of how we see this working every day.</p>\n\n<p><strong>Retrospection &amp; Using Full PCAP for Validation</strong></p>\n\n<p>Over the past six months we&#x2019;ve seen a significant increase in successful credential compromises via phishing websites. Landing pages for common phishing sites are easy to detect with traditional IDS. However, subsequent flows in which the users give up their credentials tend to be undistinctive and may be missed. This leaves the security team unaware of whether or not the phishing attempt was successful. </p>\n\n<p>With full PCAP, an analyst can examine all flows associated with a given IP to determine if a compromise occurred. Typically, attacks like this only affect an individual user&#x2019;s personal security as opposed to the enterprise&#x2019;s security. However, the enterprise is put at risk when the user loses credentials associated with the enterprise&#x2019;s domain. This makes validating the activity more important as it exposes threats to shadow IT environments that are not otherwise protected. </p>\n\n<p>For example, some Dropbox phishing sites have captured email credentials associated to a given company&#x2019;s domain. If the user gives up access to a Dropbox account used for business purposes, they may be compromising their company&#x2019;s data. Furthermore, if the user reuses the same username and password combination to access resources on their company&#x2019;s network, an attacker can take advantage of authenticated access, which can be very difficult to detect. </p>\n\n<p>As new phishing campaigns are deployed, we continually retrospect for evidence of successful attacks. We have retrospectively discovered evidence of credential theft from phishing websites at 25% of our customers. In all cases, when we reported them they had been undiscovered by their existing security solutions. Phishing sites vary in sophistication with most of the successful sites going a long way to mimic the real site, typically borrowing resources directly from a legitimate page when loaded. Figure 1 shows a PayPal landing page reconstructed from PCAP. This page was in English except for a login button in French, despite this flaw it was still successful. </p>\n\n<p><img src=\"https://s3.amazonaws.com/www.protectwise.com/u/132/large/webshell-blog-post-figure-1.png\" alt=\"webshell-blog-post-figure-1.png\"> </p>\n\n<p><em>Fig 1. PayPal phishing landing page</em></p>\n\n<p>As mentioned earlier, when a user&#x2019;s information is compromised the network traffic is pretty basic and doesn&#x2019;t contain a enough distinctive elements to stand out from normal network traffic. Furthermore, those elements change too frequently to be discoverable without retrospection. Generally, the flows containing the evidence of compromise are separate from the ones requesting the page. This means that if you&#x2019;re using a solution that selectively captures PCAP solely for the flow requesting the landing page, you&#x2019;re missing vital intelligence. However, if an analyst has access to full PCAP, they can search all flows associated with the IP address in question for HTTP POST requests to server-side scripts like PHP, then search the POST body for evidence of compromise. Figure 2 shows an example of this involving a Dropbox site.</p>\n\n<p><img src=\"https://s3.amazonaws.com/www.protectwise.com/u/133/large/webshell-blog-post-figure-2.png\" alt=\"webshell-blog-post-figure-2.png\"> </p>\n\n<p><em>Fig 2. HTTP POST request containing user credentials</em> </p>\n\n<p>Criminals often compromise legitimate web servers to host their phishing sites. </p>\n\n<p>One of our customers was affected by this earlier this year. The customer had a legitimate website which had an area designed for users to upload image files. The uploaded files were not validated and an attacker took advantage of this by uploading a WSO webshell to the server. Once the webshell was deployed the intruder had full access to the server's file system. </p>\n\n<p>Again, this is where the beauty of having rapid access to full PCAP has significant benefits. In this case, it made parsing C&amp;C commands and extraction of relevant resources possible. The attacker used the webshell to upload and deploy multiple phishing sites. Figure 3, shows a reconstruction of browser traffic, extracted from the PCAP, seen by the attacker as they uploaded and unzipped an archive to the compromised web server. The zip file contained resources for a well designed USAA phishing site. </p>\n\n<p><img src=\"https://s3.amazonaws.com/www.protectwise.com/u/134/large/webshell-blog-post-figure-3.png\" alt=\"webshell-blog-post-figure-3.png\"> </p>\n\n<p><em>Fig 3. Reconstructed browser view of the attacker&#x2019;s webshell interface</em> </p>\n\n<p>The resources of this phishing site contained some interesting intelligence on the attacker. Figure 4, shows one of the extracted PHP file&#x2019;s logic to send credentials, banking information, and PII to two separate gmail accounts via email. Exposing this type of intelligence is useful for providing retrospection cues, and allowing the security team to look for newly discovered indicators in the past network history.</p>\n\n<p><img src=\"https://s3.amazonaws.com/www.protectwise.com/u/135/large/webshell-blog-post-figure-4.png\" alt=\"webshell-blog-post-figure-4.png\"> </p>\n\n<p><em>Fig 4. PHP file used to email victim&#x2019;s information to the attacker</em></p>\n\n<p>While these types of phishing lures have been around for sometime, we are seeing an increase in the quality of the sites as well as the success rate. These attacks can pose an elevated risk to the organization depending on the type of information that was stolen. </p>\n\n<p>Retrospection can be used to check for compromises as new campaigns are discovered. Upon discovery, full PCAP gives an analyst the ability to easily and rapidly validate the attacks, identify victims, and reconstruct resources used in the attack for additional intelligence.</p></div>\n </div>"
    }, {
        "title": "silentbicycle/guff",
        "url": "https://github.com/silentbicycle/guff",
        "excerpt": "guff reads a stream of points from a file / stdin and plots them. guff is short for MacGuffin. Plots them? It can plot to stdout: $ wc -l *.c | grep -v total | sort -nr | awk '{print($1)}' | ./guff&hellip;",
        "date_saved": "Thu Jul 28 20:08:09 EDT 2016",
        "html_file": "silentbicycleguff.html",
        "png_file": "silentbicycleguff.png",
        "md_file": "silentbicycleguff.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>guff reads a stream of points from a file / stdin and plots them.</p>\n\n<p>guff is short for <a href=\"https://en.wikipedia.org/wiki/MacGuffin\">MacGuffin</a>.</p>\n\n<h2><a id=\"user-content-plots-them\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#plots-them\"></a>Plots them?</h2>\n\n<p>It can plot to stdout:</p>\n\n<pre><code>$ wc -l *.c | grep -v total | sort -nr | awk '{print($1)}' | ./guff -d 72x30\n x: [0 - 15] y: [0 - 302] -- 0: #\n+ \n# \n| \n| \n| \n+ \n| # \n| \n| # \n| \n+ # \n| # \n| # \n| # \n| \n+ # \n| \n| # \n| \n| \n+ \n| \n| # # \n| # \n| # \n+ \n| # \n| \n| # # \n+----+----+----+----+----+----+----+----+----+----+----+----+----+----+-\n\n\n$ ./guff -d 40x20 -m count test_sin\n x: [0 - 720] y: [-1 - 1]\n+ \n| ijjh \n| 9j1 2j8 \n| ba ba \n| 98 98 \n+ 6a b5 \n| 1d e \n| e e \n| 94 58 \n| 2a a2 \n6----+----+----+---d+----+----+----+--8-\n49 94 \n|a3 49 \n| e e \n| 2c d1 \n+ 78 96 \n| b6 7a \n| d7 8c \n| cg hb \n| 3jjjj2 \n</code></pre>\n\n<p>Or to SVG:</p>\n\n<pre><code>$ wc -l *.c | grep -v total | sort -nr | awk '{print($1)}' | ./guff -s -m line -r &gt; example.svg\n</code></pre>\n\n<p><a href=\"https://github.com/silentbicycle/guff/blob/master/example.png\" target=\"_blank\"><img src=\"https://github.com/silentbicycle/guff/raw/master/example.png\" alt=\"\"></a></p>\n\n<pre><code>cat &lt;&lt;EOF | ./guff -s -x -m count\n1 1\n1 2\n-2 -3\n3 -4\n-2 -3\n2 4\n3 -4\n1 2\n3 5\n-2 -3\n</code></pre>\n\n<p><a href=\"https://github.com/silentbicycle/guff/blob/master/example2.png\" target=\"_blank\"><img src=\"https://github.com/silentbicycle/guff/raw/master/example2.png\" alt=\"\"></a></p>\n\n<h2><a id=\"user-content-input-format\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#input-format\"></a>Input format</h2>\n\n<p>guff reads a stream of lines of floating point numbers, separated by a single character:</p>\n\n<pre><code>1 2.0 3\n</code></pre>\n\n<p>and</p>\n\n<pre><code>1,2,3\n</code></pre>\n\n<p>both read as 1.0, 2.0, 3.0.</p>\n\n<p>If multiple separators appear, then the value is treated as missing for that column's row:</p>\n\n<pre><code>1,,3\n</code></pre>\n\n<p>reads as 1.0, [missing value], 3.0.</p>\n\n<p>Any line beginning with \"/\" or \"#\" is ignored, and anything else that\n<code>strtod(3)</code> considers an ill-formatted number (e.g. \"-\") will lead to\nthe rest of the line being skipped.</p>\n\n<h3><a id=\"user-content-blank-lines\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#blank-lines\"></a>Blank lines</h3>\n\n<p>Blank lines make guff plot and reset. For example, guff can be used to\nconvert an infinite stream of data periodically broken up by blank lines\ninto an infinite stream of SVG plots, also broken up by blank lines.\n(The included script, <code>discretion</code>, splits these into timestamped SVG\nfiles and updates a symlink to the newest.)</p>\n\n<h2><a id=\"user-content-why-write-another-plotter\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#why-write-another-plotter\"></a>Why write another plotter?</h2>\n\n<p>Not everything has graphic libraries installed (or a graphic environment at all),\nand sometimes it's helpful to get a rough feel for data's distribution from a\ntext-mode command line. SVG images can also be generated pretty easily.</p>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#installation\"></a>Installation</h2>\n\n<p>guff depends on on nothing besides a standard POSIX environment.</p>\n\n<p>To build it, type <code>make</code>.</p>\n\n<p>To run the tests, type <code>make test</code>.</p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/silentbicycle/guff#usage\"></a>Usage</h2>\n\n<pre><code>Usage: guff [-A] [-c] [-d WxH] [-f] [-h] [-l xyc]\n [-m MODE] [-r] [-s] [-S] [-x] [FILE]\n</code></pre>\n\n<p>Common options:</p>\n\n<pre><code>-d WxH: set width and height (e.g. \"-d 72x40\", \"-d 640x480\")\n-f: flip x &amp; y axes in plot\n-h: print help message\n-l LOG: any of 'x', 'y', 'c' -- set X, Y, and/or count to log scale\n-m MODE: dot, count, line (SVG only), default dot\n-s: render to SVG\n-x: treat first column as X for all following Y columns (def: use row count)\n</code></pre>\n\n<p>SVG only:</p>\n\n<pre><code>-c: use colorblind-safe default colors\n-r: draw linear regression lines\n</code></pre>\n\n<p>Other options (mostly for internal testing):</p>\n\n<pre><code>-A: don't draw axes\n-S: disable stream mode\n</code></pre>\n\n<p>For more details, see the man page.</p>\n</article>\n </div>"
    }, {
        "title": "flowchart.js",
        "url": "http://adrai.github.io/flowchart.js/",
        "excerpt": "st=&gt;start: Start:&gt;http://www.google.com[blank] e=&gt;end:&gt;http://www.google.com op1=&gt;operation: My Operation sub1=&gt;subroutine: My Subroutine cond=&gt;condition: Yes or&hellip;",
        "date_saved": "Thu Jul 28 20:08:11 EDT 2016",
        "html_file": "flowchartjs.html",
        "png_file": "flowchartjs.png",
        "md_file": "flowchartjs.md",
        "content": "<div><div id=\"main\">\n\n <section id=\"demo\"><table class=\"inner\"><tr><td>\n \n <div class=\"editor-wrapper\">\n <p class=\"editor\">st=&gt;start: Start:&gt;http://www.google.com[blank]\ne=&gt;end:&gt;http://www.google.com\nop1=&gt;operation: My Operation\nsub1=&gt;subroutine: My Subroutine\ncond=&gt;condition: Yes \nor No?:&gt;http://www.google.com\nio=&gt;inputoutput: catch something...\n\nst-&gt;op1-&gt;cond\ncond(yes)-&gt;io-&gt;e\ncond(no)-&gt;sub1-&gt;op1</p>\n \n </div></td>\n <td class=\"diagram\">This should be a diagram! If you don't see it you need Javascript enabled</td>\n </tr></table></section><b>Conditions can also be redirected like cond(yes, bottom) or cond(yes, right)</b>\n <div class=\"inner\">\n <section id=\"usage\"><h3>Usage</h3>\n <p>flowchart.js depends on <a href=\"http://raphaeljs.com/\">Rapha&#xEB;l</a>To use include the following:\n </p><pre>&lt;script src=\"<a href=\"http://github.com/DmitryBaranovskiy/raphael/raw/master/raphael-min.js\">raphael-min.js</a>\"&gt;&lt;\n&lt;script src=\"<a href=\"http://adrai.github.io/flowchart.js/flowchart-latest.js\">flowchart-latest.js</a>\"&gt;&lt;/script&gt;\n</pre>\nYou can parse the text:\n<pre>\n&lt;div id=\"diagram\"&gt;&lt;/div&gt;\n&lt;script&gt;\n var diagram = flowchart.parse(\"the code definition\");\n diagram.drawSVG('diagram');\n\n // you can also try to pass options:\n \n diagram.drawSVG('diagram', {\n 'line-width': 3,\n 'line-length': 50,\n 'text-margin': 10,\n 'font-size': 14,\n 'font-color': 'black',\n 'line-color': 'black',\n 'element-color': 'black',\n 'fill': 'white',\n 'yes-text': 'yes',\n 'no-text': 'no',\n 'arrow-end': 'block'\n });\n&lt;/script&gt;\n</pre>\n\n\n </section></div>\n\n <footer><div class=\"inner\">\n by <a href=\"https://github.com/adrai\">Adriano Raiano</a> - <a href=\"https://twitter.com/adrirai\">@adrirai</a>\n </div>\n </footer></div></div>"
    }, {
        "title": "Artificial Neural Networks for Beginners \u00bb Loren on the Art of MATLAB",
        "url": "http://blogs.mathworks.com/loren/2015/08/04/artificial-neural-networks-for-beginners/",
        "excerpt": "Deep Learning is a very hot topic these days especially in computer vision applications and you probably see it in the news and get curious. Now the question is, how do you get started with it?&hellip;",
        "date_saved": "Thu Jul 28 20:08:13 EDT 2016",
        "html_file": "artificial_neural_networks_for_beginners_u00bb_loren_on_the_art_of_matlab.html",
        "png_file": "artificial_neural_networks_for_beginners_u00bb_loren_on_the_art_of_matlab.png",
        "md_file": "artificial_neural_networks_for_beginners_u00bb_loren_on_the_art_of_matlab.md",
        "content": "<div><div class=\"content\"><p><a href=\"https://en.wikipedia.org/wiki/Deep_learning\">Deep Learning</a> is a very hot topic these days especially in computer vision applications and you probably see it in the news and get curious. Now the question is, how do you get started with it? Today's guest blogger, Toshi Takeuchi, gives us a quick tutorial on <a href=\"https://en.wikipedia.org/wiki/Artificial_neural_network\">artificial neural networks</a> as a starting point for your study of deep learning.</p><h3>Contents</h3><h4>MNIST Dataset<a name=\"1168dbb4-1365-4b63-8326-140263e2072f\"></a></h4><p>Many of us tend to learn better with a concrete example. Let me give you a quick step-by-step tutorial to get intuition using a popular <a href=\"http://yann.lecun.com/exdb/mnist/index.html\">MNIST handwritten digit dataset</a>. Kaggle happens to use this very dataset in the <a href=\"https://www.kaggle.com/c/digit-recognizer\">Digit Recognizer</a> tutorial competition. Let's use it in this example. You can download the competition dataset from <a href=\"https://www.kaggle.com/c/digit-recognizer/data\">\"Get the Data\"</a> page:</p><p><ul><li>train.csv - training data</li><li>test.csv - test data for submission</li></ul></p><p>Load the training and test data into MATLAB, which I assume was downloaded into the current folder. The test data is used to generate your submissions.</p><pre class=\"codeinput\">tr = csvread(<span class=\"string\">'train.csv'</span>, 1, 0); \nsub = csvread(<span class=\"string\">'test.csv'</span>, 1, 0); \n</pre><p>The first column is the label that shows the correct digit for each sample in the dataset, and each row is a sample. In the remaining columns, a row represents a 28 x 28 image of a handwritten digit, but all pixels are placed in a single row, rather than in the original rectangular form. To visualize the digits, we need to reshape the rows into 28 x 28 matrices. You can use <a href=\"http://www.mathworks.com/help/matlab/ref/reshape.html\">reshape</a> for that, except that we need to transpose the data, because <tt>reshape</tt> operates by column-wise rather than row-wise.</p><pre class=\"codeinput\">figure \ncolormap(gray) \n<span class=\"keyword\">for</span> i = 1:25 \n subplot(5,5,i) \n digit = reshape(tr(i, 2:end), [28,28])'; \n imagesc(digit) \n title(num2str(tr(i, 1))) \n<span class=\"keyword\">end</span>\n</pre><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/neuralnetFinal_01.png\" alt=\"\"> <h4>Data Preparation<a name=\"4c67c5b3-c5b2-4f81-967c-8aab28a1a8ab\"></a></h4><p>You will be using the <a href=\"http://www.mathworks.com/help/nnet/ref/nprtool.html\">nprtool</a> pattern recognition app from <a href=\"http://www.mathworks.com/products/neural-network/\">Neural Network Toolbox</a>. The app expects two sets of data:</p><p><ul><li>inputs - a numeric matrix, each column representing the samples and rows the features. This is the scanned images of handwritten digits.</li><li>targets - a numeric matrix of 0 and 1 that maps to specific labels that images represent. This is also known as a dummy variable. Neural Network Toolbox also expects labels stored in columns, rather than in rows.</li></ul></p><p>The labels range from 0 to 9, but we will use '10' to represent '0' because MATLAB is indexing is 1-based.</p><pre class=\"language-matlab\">1 --&gt; [1; 0; 0; 0; 0; 0; 0; 0; 0; 0]\n2 --&gt; [0; 1; 0; 0; 0; 0; 0; 0; 0; 0]\n3 --&gt; [0; 0; 1; 0; 0; 0; 0; 0; 0; 0]\n :\n0 --&gt; [0; 0; 0; 0; 0; 0; 0; 0; 0; 1]\n</pre><p>The dataset stores samples in rows rather than in columns, so you need to transpose it. Then you will partition the data so that you hold out 1/3 of the data for model evaluation, and you will only use 2/3 for training our artificial neural network model.</p><pre class=\"codeinput\">n = size(tr, 1); \ntargets = tr(:,1); \ntargets(targets == 0) = 10; \ntargetsd = dummyvar(targets); \ninputs = tr(:,2:end); \n\ninputs = inputs'; \ntargets = targets'; \ntargetsd = targetsd'; \n\nrng(1); \nc = cvpartition(n,<span class=\"string\">'Holdout'</span>,n/3); \n\nXtrain = inputs(:, training(c)); \nYtrain = targetsd(:, training(c)); \nXtest = inputs(:, test(c)); \nYtest = targets(test(c)); \nYtestd = targetsd(:, test(c)); \n</pre><h4>Using the Neural Network Toolbox GUI App<a name=\"cdcd71d6-a1b2-46e3-a963-ccc7e08a699d\"></a></h4><div><ol><li>You can start the Neural Network Start GUI by typing the command <a href=\"http://www.mathworks.com/help/nnet/ref/nnstart.html\">nnstart</a>.</li><li>You then click the Pattern Recognition Tool to open the Neural Network Pattern Recognition Tool. You can also usehe command <a href=\"http://www.mathworks.com/help/nnet/ref/nprtool.html\">nprtool</a> to open it directly.</li><li>Click \"Next\" in the welcome screen and go to \"Select Data\".</li><li>For <tt>inputs</tt>, select <tt>Xtrain</tt> and for <tt>targets</tt>, select <tt>Ytrain</tt>.</li><li>Click \"Next\" and go to \"Validation and Test Data\". Accept the default settings and click \"Next\" again. This will split the data into 70-15-15 for the training, validation and testing sets.</li><li>In the \"Network Architecture\", change the value for the number of hidden neurons, 100, and click \"Next\" again.</li><li>In the \"Train Network\", click the \"Train\" button to start the training. When finished, click \"Next\". Skip \"Evaluate Network\" and click next.</li><li>In \"Deploy Solution\", select \"MATLAB Matrix-Only Function\" and save t the generated code. I save it as <a href=\"http://blogs.mathworks.com/images/loren/2015/myNNfun.m\">myNNfun.m</a>.</li><li>If you click \"Next\" and go to \"Save Results\", you can also save the script as well as the model you just created. I saved the simple script as <a href=\"http://blogs.mathworks.com/images/loren/2015/myNNscript.m\">myNNscript.m</a></li></ol></div><p>Here is the diagram of this artificial neural network model you created with the Pattern Recognition Tool. It has 784 input neurons, 100 hidden layer neurons, and 10 output layer neurons.</p><p><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/network_diagram.png\" alt=\"\"> </p><p>Your model learns through training the weights to produce the correct output.</p><p><tt>W</tt> in the diagram stands for <i>weights</i> and <tt>b</tt> for <i>bias units</i>, which are part of individual neurons. Individual neurons in the hidden layer look like this - 784 inputs and corresponding weights, 1 bias unit, and 10 activation outputs.</p><p><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/neuron.png\" alt=\"\"> </p><h4>Visualizing the Learned Weights<a name=\"b1e50c47-53e5-4a09-a45f-b7286640feb6\"></a></h4><p>If you look inside <tt>myNNfun.m</tt>, you see variables like <tt>IW1_1</tt> and <tt>x1_step1_keep</tt> that represent the weights your artificial neural network model learned through training. Because we have 784 inputs and 100 neurons, the full layer 1 weights will be a 100 x 784 matrix. Let's visualize them. This is what our neurons are learning!</p><pre class=\"codeinput\">load <span class=\"string\">myWeights</span> \nW1 =zeros(100, 28*28); \nW1(:, x1_step1_keep) = IW1_1; \nfigure \ncolormap(gray) \n<span class=\"keyword\">for</span> i = 1:25 \n subplot(5,5,i) \n digit = reshape(W1(i,:), [28,28])'; \n imagesc(digit) \n<span class=\"keyword\">end</span>\n</pre><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/neuralnetFinal_02.png\" alt=\"\"> <h4>Computing the Categorization Accuracy<a name=\"c1bdce45-d5ec-4683-a80a-39887fdb374c\"></a></h4><p>Now you are ready to use <tt>myNNfun.m</tt> to predict labels for the heldout data in <tt>Xtest</tt> and compare them to the actual labels in <tt>Ytest</tt>. That gives you a realistic predictive performance against unseen data. This is also the metric Kaggle uses to score submissions.</p><p>First, you see the actual output from the network, which shows the probability for each possible label. You simply choose the most probable label as your prediction and then compare it to the actual label. You should see 95% categorization accuracy.</p><pre class=\"codeinput\">Ypred = myNNfun(Xtest); \nYpred(:, 1:5) \n[~, Ypred] = max(Ypred); \nsum(Ytest == Ypred) / length(Ytest) \n</pre><pre class=\"codeoutput\">ans =\n 1.3988e-09 6.1336e-05 1.4421e-07 1.5035e-07 2.6808e-08\n 1.9521e-05 0.018117 3.5323e-09 2.9139e-06 0.0017353\n 2.2202e-07 0.00054599 0.012391 0.00049678 0.00024934\n 1.5338e-09 0.46156 0.00058973 4.5171e-07 0.00025153\n 4.5265e-08 0.11546 0.91769 2.1261e-05 0.00031076\n 1.1247e-08 0.25335 1.9205e-06 1.1014e-06 0.99325\n 2.1627e-08 0.0045572 1.733e-08 3.7744e-07 1.7282e-07\n 2.2329e-09 7.6692e-05 0.00011479 0.98698 1.7328e-06\n 1.9634e-05 0.0011708 0.069215 0.01249 0.00084255\n 0.99996 0.14511 1.0106e-07 2.9687e-06 0.0033565\nans =\n 0.95293\n</pre><h4>Network Architecture<a name=\"f518ac98-768f-48c5-a6dd-e3769161e2a2\"></a></h4><p>You probably noticed that the artificial neural network model generated from the Pattern Recognition Tool has only one hidden layer. You can build a custom model with more layers if you would like, but this simple architecture is sufficient for most common problems.</p><p>The next question you may ask is how I picked 100 for the number of hidden neurons. The general rule of thumb is to pick a number between the number of input neurons, 784 and the number of output neurons, 10, and I just picked 100 arbitrarily. That means you might do better if you try other values. Let's do this programmatically this time. <tt>myNNscript.m</tt> will be handy for this - you can simply adapt the script to do a parameter sweep.</p><pre class=\"codeinput\">sweep = [10,50:50:300]; \nscores = zeros(length(sweep), 1); \nmodels = cell(length(sweep), 1); \nx = Xtrain; \nt = Ytrain; \ntrainFcn = <span class=\"string\">'trainscg'</span>; \n<span class=\"keyword\">for</span> i = 1:length(sweep)\n hiddenLayerSize = sweep(i); \n net = patternnet(hiddenLayerSize); \n net.divideParam.trainRatio = 70/100;\n net.divideParam.valRatio = 15/100; \n net.divideParam.testRatio = 15/100; \n net = train(net, x, t); \n models{i} = net; \n p = net(Xtest); \n [~, p] = max(p); \n scores(i) = sum(Ytest == p) /<span class=\"keyword\">...</span>\n length(Ytest);\n<span class=\"keyword\">end</span>\n</pre><p>Let's now plot how the categorization accuracy changes versus number of neurons in the hidden layer.</p><pre class=\"codeinput\">figure\nplot(sweep, scores, <span class=\"string\">'.-'</span>)\nxlabel(<span class=\"string\">'number of hidden neurons'</span>)\nylabel(<span class=\"string\">'categorization accuracy'</span>)\ntitle(<span class=\"string\">'Number of hidden neurons vs. accuracy'</span>)\n</pre><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/neuralnetFinal_03.png\" alt=\"\"> <p>It looks like you get the best result around 250 neurons and the best score will be around 0.96 with this basic artificial neural network model.</p><p>As you can see, you gain more accuracy if you increase the number of hidden neurons, but then the accuracy decreases at some point (your result may differ a bit due to random initialization of weights). As you increase the number of neurons, your model will be able to capture more features, but if you capture too many features, then you end up overfitting your model to the training data and it won't do well with unseen data. Let's examine the learned weights with 300 hidden neurons. You see more details, but you also see more noise.</p><pre class=\"codeinput\">net = models{end}; \nW1 = zeros(sweep(end), 28*28); \nW1(:, x1_step1_keep) = net.IW{1}; \nfigure \ncolormap(gray) \n<span class=\"keyword\">for</span> i = 1:25 \n subplot(5,5,i) \n digit = reshape(W1(i,:), [28,28])'; \n imagesc(digit) \n<span class=\"keyword\">end</span>\n</pre><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/neuralnetFinal_04.png\" alt=\"\"> <h4>The Next Step - an Autoencoder Example<a name=\"85b25a96-41ab-4044-8f06-51b712253669\"></a></h4><p>You now have some intuition on artificial neural networks - a network automatically learns the relevant features from the inputs and generates a sparse representation that maps to the output labels. What if we use the inputs as the target values? That eliminates the need for training labels and turns this into an unsupervised learning algorithm. This is known as an autoencoder and this becomes a building block of a deep learning network. There is an excellent example of autoencoders on the <a href=\"http://www.mathworks.com/help/nnet/examples/training-a-deep-neural-network-for-digit-classification.html\">Training a Deep Neural Network for Digit Classification</a> page in the Neural Network Toolbox documentation, which also uses MNIST dataset. For more details, Stanford provides an excellent <a href=\"http://deeplearning.stanford.edu/tutorial/\">UFLDL Tutorial</a> that also uses the same dataset and MATLAB-based starter code.</p><h4>Sudoku Solver: a Real-time Processing Example<a name=\"91869b46-1d87-4662-a74e-3ae83ec310b8\"></a></h4><p>Beyond understanding the algorithms, there is also a practical question of how to generate the input data in the first place. Someone spent a lot of time to prepare the MNIST dataset to ensure uniform sizing, scaling, contrast, etc. To use the model you built from this dataset in practical applications, you have to be able to repeat the same set of processing on new data. How do you do such preparation yourself?</p><p>There is a fun video that shows you how you can solve Sudoku puzzles using a webcam that uses a different character recognition technique. Instead of static images, our colleague <a href=\"http://www.mathworks.com/matlabcentral/profile/authors/1905880-teja-muppirala\">Teja Muppirala</a> uses a live video feed in real time to do it and he walks you through the pre-processing steps one by one. You should definitely check it out: <a href=\"http://www.mathworks.com/videos/solving-a-sudoku-puzzle-using-a-webcam-68773.html\">Solving a Sudoku Puzzle Using a Webcam</a>.</p><p><img vspace=\"5\" hspace=\"5\" src=\"http://blogs.mathworks.com/images/loren/2015/solveSudokuWebcam.png\" alt=\"\"> </p><h4>Submitting Your Entry to Kaggle<a name=\"b7442718-32fb-4db8-9016-93a0e71903a6\"></a></h4><p>You got 96% categorization accuracy rate by simply accepting the default settings except for the number of hidden neurons. Not bad for the first try. Since you are using a Kaggle dataset, you can now submit your result to Kaggle.</p><pre class=\"codeinput\">n = size(sub, 1); \nsub = sub'; \n[~, highest] = max(scores); \nnet = models{highest}; \nYpred = net(sub); \n[~, Label] = max(Ypred); \nLabel = Label'; \nLabel(Label == 10) = 0; \nImageId = 1:n; ImageId = ImageId'; \nwritetable(table(ImageId, Label), <span class=\"string\">'submission.csv'</span>);\n</pre><p>You can now submit the <tt>submission.csv</tt> on <a href=\"https://www.kaggle.com/c/digit-recognizer/submissions/attach\">Kaggle's entry submission page</a>.</p><h4>Closing<a name=\"24263b1d-b7e0-4b29-bbf1-e3770536c607\"></a></h4><p>In this example we focused on getting a high level intuition on artificial neural network using a concrete example of handwritten digit recognition. We didn&#x2019;t go into details such as how the inputs weights and bias units are combined, how activation works, how you train such a network, etc. But you now know enough to use Neural Network Toolbox in MATLAB to participate in a Kaggle competition.</p><p><br><a href=\"\"><span>Get \n the MATLAB code </span></a></p><p>\n Published with MATLAB&#xAE; R2015a<br></p></div>\n \n </div>"
    }, {
        "title": "Write vanilla comments that automagically convert into full test spec files.",
        "url": "http://speckjs.github.io/",
        "excerpt": "Fork it on GitHub Add SpeckJS formatted comments to your file function sum(a, b) { \u00a0\u00a0return a + b; Pick your favorite tool Install the npm module From within your project directo",
        "date_saved": "Thu Jul 28 20:08:15 EDT 2016",
        "html_file": "write_vanilla_comments_that_automagically_convert_into_full_test_spec_files.html",
        "png_file": "write_vanilla_comments_that_automagically_convert_into_full_test_spec_files.png",
        "md_file": "write_vanilla_comments_that_automagically_convert_into_full_test_spec_files.md",
        "content": "<div>\n\n \n <section id=\"hero-spot\" class=\"hero-spot\">\n <a href=\"http://speckjs.github.io/\"><img src=\"http://speckjs.github.io/assets/SpeckJS-logo.png\" alt=\"SpeckJS\" class=\"logo\"></a>\n \n <a href=\"https://github.com/speckjs/speckjs/\" class=\"help-link\">Fork it on GitHub</a>\n </section>\n\n \n <section id=\"tutorial\" class=\"tutorial\">\n \n \n\n <ul id=\"user-site\" class=\"tutorial-list wrapper active\">\n <li id=\"create-repo-step\">\n <h4>Add SpeckJS formatted comments to your file</h4>\n <div class=\"terminal\">\n \n <div class=\"shell\">\n \n \n \n <p>function sum(a, b) {</p>\n <p>\u00a0\u00a0return a + b;</p>\n \n </div>\n </div>\n </li>\n\n \n <li class=\"question\">\n <h4>Pick your favorite tool</h4>\n \n </li>\n\n \n <li id=\"terminal-step-1\" class=\"option-terminal\">\n <h4>Install the npm module</h4>\n <p>From within your project directory run:</p>\n\n \n </li>\n\n \n <li class=\"option-terminal\">\n <h4>Hello World</h4>\n <p>Require speckjs from within your project files:</p>\n\n \n </li>\n\n \n \n\n \n \n\n \n \n\n \n \n\n \n \n\n \n \n\n \n <li class=\"option-terminal option-ghfw option-ghfm animate-in\">\n <h4>\u2026and Boom!</h4>\n\n \n <p>This example shows a Tape test. SpeckJS compiles tests for both Tape and Jasmine.</p>\n <p>Check the documentation on <a href=\"https://github.com/speckjs/speckjs\">github.com/speckjs/speckjs</a> for more information</p>\n\n \n\n </li>\n\n\n \n \n\n \n \n\n \n \n\n\n \n \n\n </ul>\n </section>\n \n\n \n \n \n\n\n <footer class=\"page-footer\">\n \n\n \n </footer>\n</div>\n"
    }, {
        "title": "ImJasonH/ghfs",
        "url": "https://github.com/ImJasonH/ghfs",
        "excerpt": "GHFS - GitHub repos in your filesystem! GHFS mounts to a directory using FUSE and serves contents of GitHub repos on-demand. Let's try an example. First, generate a GitHub personal access token here&hellip;",
        "date_saved": "Thu Jul 28 20:08:17 EDT 2016",
        "html_file": "imjasonhghfs.html",
        "png_file": "imjasonhghfs.png",
        "md_file": "imjasonhghfs.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-ghfs---github-repos-in-your-filesystem\" class=\"anchor\" href=\"https://github.com/ImJasonH/ghfs#ghfs---github-repos-in-your-filesystem\"></a>GHFS - GitHub repos in your filesystem!</h2>\n\n<p>GHFS mounts to a directory using FUSE and serves contents of GitHub repos\non-demand.</p>\n\n<p>Let's try an example. First, generate a GitHub personal access token\n<a href=\"https://github.com/settings/tokens\">here</a> -- it only needs the\n<code>public_repo</code> scope.</p>\n\n<pre><code>$ mkdir /github\n$ go run main.go -token=$GITHUB_TOKEN -mountpoint=/github\n2015/09/17 04:27:35 serving...\n</code></pre>\n\n<p>While that runs, in another terminal, list repos owned by a user or organization:</p>\n\n<pre><code>$ ls /github/golang/\nappengine\narch\nbenchmarks\nblog\n...\n</code></pre>\n\n<p>You can inspect a repo's branches and tags as subdirectories of the repo:</p>\n\n<pre><code>$ ls /github/golang/go\n...\nmaster\n...\n</code></pre>\n\n<p>And you can inspect the directories and files in the repo at those branches or\ntags:</p>\n\n<pre><code>$ ls /github/golang/go/master\nAUTHORS\nCONTRIBUTING.md\nCONTRIBUTORS\nLICENSE\n...\n</code></pre>\n\n<p>If you know the specific revision you want to explore, you can use that instead of a branch or tag name:</p>\n\n<pre><code>$ ls /github/golang/go/3d1f8c237956ca657b9517040a7431e87f9d8a18\nAUTHORS\nCONTRIBUTING.md\nCONTRIBUTORS\nLICENSE\n...\n</code></pre>\n\n<p>Or use any unique prefix of the revision SHA:</p>\n\n<pre><code>$ ls /github/golang/go/3d1f8c23\n</code></pre>\n\n<p>At a revision/branch/tag, you can explore the repo and read files:</p>\n\n<pre><code>$ cat /github/golang/go/master/src/bytes/bytes.go\n// Copyright 2009 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n// Package bytes implements functions for the manipulation of byte slices.\n// It is analogous to the facilities of the strings package.\npackage bytes\n\nimport (\n \"unicode\"\n \"unicode/utf8\"\n)\n...\n</code></pre>\n\n<pre><code>$ wc -l /github/golang/go/master/src/bytes/bytes.go\n 714 /github/golang/go/master/src/bytes/bytes.go\n</code></pre>\n\n<pre><code>$ grep -n TODO /github/golang/go/master/src/bytes/bytes.go\n429:// TODO: update when package unicode captures more of the properties.\n</code></pre>\n\n<pre><code>$ diff \\\n /github/golang/go/89454b1c/src/bytes/bytes.go \\\n /github/golang/go/3d1f8c23/src/bytes/bytes.go\n140a141,150\n&gt; // LastIndexByte returns the index of the last instance of c in s, or -1 if c is not present in s.\n&gt; func LastIndexByte(s []byte, c byte) int {\n&gt; for i := len(s) - 1; i &gt;= 0; i-- {\n&gt; if s[i] == c {\n&gt; return i\n&gt; }\n&gt; }\n&gt; return -1\n&gt; }\n&gt; \n</code></pre>\n\n<h2><a id=\"user-content-warning-caveats-warning\" class=\"anchor\" href=\"https://github.com/ImJasonH/ghfs#warning-caveats-warning\"></a><img class=\"emoji\" title=\":warning:\" alt=\":warning:\" src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/26a0.png\" width=\"20\"> Caveats <img class=\"emoji\" title=\":warning:\" alt=\":warning:\" src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/26a0.png\" width=\"20\"></h2>\n\n<ul>\n<li><strong>This is a toy</strong>, and is not intended for anything like production use.</li>\n<li>The GitHub API is rate-limited, and this makes a lot of API calls. Don't be\nsurprised if things start to fall apart under load.</li>\n<li>I'm not responsible for this somehow breaking free and ruining your garden\nparty.</li>\n</ul>\n\n\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/ImJasonH/ghfs#license\"></a>License</h2>\n\n<pre><code>Copyright 2015 Jason Hall\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "Getting started \u00b7 Bootstrap Table",
        "url": "http://bootstrap-table.wenzhixin.net.cn/getting-started/",
        "excerpt": "Download Bootstrap table (currently v1.6.0) has a few easy ways to quickly get started, each one appealing to a different skill level and use case. Read through to see what suits your particular&hellip;",
        "date_saved": "Thu Jul 28 20:08:19 EDT 2016",
        "html_file": "getting_started_u00b7_bootstrap_table.html",
        "png_file": "getting_started_u00b7_bootstrap_table.png",
        "md_file": "getting_started_u00b7_bootstrap_table.md",
        "content": "<div><div class=\"col-md-9\">\n <h2>Download <a href=\"https://github.com/wenzhixin/bootstrap-table/blob/master/docs/_i18n/en/getting-started/download.md\"></a></h2>\n\n\n\n<p class=\"lead\">\nBootstrap table (currently v1.6.0) has a few easy ways to quickly get started, each one appealing to a different skill level and use case. Read through to see what suits your particular needs.\n</p>\n\n<h2>Source code</h2>\n\n<p>Source css, JavaScript, locales, and extensions, along with our docs.</p>\n\n<p><a href=\"https://github.com/wenzhixin/bootstrap-table/archive/master.zip\" class=\"btn btn-lg btn-outline\">Download source</a></p>\n\n<h2>Clone or fork via GitHub</h2>\n\n<p><a href=\"https://github.com/wenzhixin/bootstrap-table\" class=\"btn btn-lg btn-outline\">Via GitHub</a></p>\n\n<h2>CDN</h2>\n\n<p>The folks over at <a href=\"http://www.cdnjs.com/libraries/bootstrap-table\">CDNJS</a> or <a href=\"http://open.bootcss.com/bootstrap-table/\">bootcss</a> graciously provide CDN support for CSS and JavaScript of Bootstrap table. Just use these CDN links.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"c\">&lt;!-- Latest compiled and minified CSS --&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.6.0/bootstrap-table.min.css\"</span><span class=\"nt\">&gt;</span>\n\n<span class=\"c\">&lt;!-- Latest compiled and minified JavaScript --&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.6.0/bootstrap-table.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n\n<span class=\"c\">&lt;!-- Latest compiled and minified Locales --&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.6.0/locale/bootstrap-table-zh-CN.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</code></pre></div>\n\n<h2>Bower</h2>\n\n<p>Install and manage Bootstrap table's CSS, JavaScript, locales, and extensions using <a href=\"http://bower.io/\">Bower</a>.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"gp\">$ </span>bower install bootstrap-table\n</code></pre></div>\n\n<h2>What's included <a href=\"https://github.com/wenzhixin/bootstrap-table/blob/master/docs/_i18n/en/getting-started/whats-include.md\"></a></h2>\n\n\n\n<p>The Bootstrap table source code download includes the precompiled CSS, JavaScript, locales, extensions, and provides both compiled and minified variations, along with documentation. More specifically, it includes the following and more:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-bash\">bootstrap-table/\n&#x251C;&#x2500;&#x2500; dist/\n&#x2502; &#x251C;&#x2500;&#x2500; extensions/\n&#x2502; &#x251C;&#x2500;&#x2500; locale/\n&#x2502; &#x251C;&#x2500;&#x2500; bootstrap-table.min.css\n&#x2502; &#x2514;&#x2500;&#x2500; bootstrap-table.min.js\n&#x251C;&#x2500;&#x2500; docs/\n&#x2514;&#x2500;&#x2500; src/\n &#x251C;&#x2500;&#x2500; extensions/\n &#x251C;&#x2500;&#x2500; locale/\n &#x251C;&#x2500;&#x2500; bootstrap-table.css\n &#x2514;&#x2500;&#x2500; bootstrap-table.js\n</code></pre></div>\n\n<p>The <code>src/</code>, <code>locale/</code>, and <code>extensions/</code> are the source code for our CSS, JS. The <code>dist/</code> folder includes everything compiled and minified with <code>src/</code>. The <code>docs/</code> folder includes the source code for our documentation. Beyond that, any other included file provides support for packages, license information, and development.</p>\n\n<h2>Compiling CSS and JavaScript <a href=\"https://github.com/wenzhixin/bootstrap-table/blob/master/docs/_i18n/en/getting-started/grunt.md\"></a></h2>\n\n\n\n<p>Bootstrap table uses <a href=\"http://gruntjs.com/\">Grunt</a> for its build system, with convenient methods for working with the framework. It's how we compile our code, run tests, and more.</p>\n\n<h2>Installing Grunt</h2>\n\n<p>To install Grunt, you must <strong>first</strong> <a href=\"http://nodejs.org/download/\">download and install node.js</a> (which includes npm). npm stands for <a href=\"http://npmjs.org/\">node packaged modules</a> and is a way to manage development dependencies through node.js.</p>\n\n<p>Then, from the command line:</p>\n\n<ol>\n<li>Install <code>grunt-cli</code> globally with <code>npm install -g grunt-cli</code>.</li>\n<li>Navigate to the root <code>/bootstrap-table/</code> directory, then run <code>npm install</code>. npm will look at the <code>package.json</code> file and automatically install the necessary local dependencies listed there.</li>\n</ol>\n\n<p>When completed, you'll be able to run the various Grunt commands provided from the command line.</p>\n\n<h2>Available Grunt commands</h2>\n\n<h3><code>grunt dist</code> (Just compile CSS and JavaScript)</h3>\n\n<p>Regenerates the <code>/dist/</code> directory with compiled and minified CSS and JavaScript files. As a Bootstrap user, this is normally the command you want.</p>\n\n<h3><code>grunt test</code> (Run tests)</h3>\n\n<p>Runs <a href=\"http://jshint.com/\">JSHint</a> to test our code.</p>\n\n<h3><code>grunt docs</code> (Build &amp; test the docs assets)</h3>\n\n<p>Builds and tests CSS, JavaScript, and other assets which are used when running the documentation locally via <code>jekyll serve</code>.</p>\n\n<h3><code>grunt</code> (Build absolutely everything and run tests)</h3>\n\n<p>Compiles and minifies CSS and JavaScript, builds the documentation website, runs the HTML5 validator against the docs, regenerates the Customizer assets, and more. Requires <a href=\"http://jekyllrb.com/docs/installation/\">Jekyll</a>.</p>\n\n<h2>Troubleshooting</h2>\n\n<p>Should you encounter problems with installing dependencies or running Grunt commands, first delete the <code>/node_modules/</code> directory generated by npm. Then, rerun <code>npm install</code>.</p>\n\n<h2>Usage <a href=\"https://github.com/wenzhixin/bootstrap-table/blob/master/docs/_i18n/en/getting-started/usage.md\"></a></h2>\n\n\n\n<p>Include Bootstrap library (if your project doesn't use it already) and <code>bootstrap-table.css</code> in the head tag your html document.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"bootstrap.min.css\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href=</span><span class=\"s\">\"bootstrap-table.css\"</span><span class=\"nt\">&gt;</span>\n</code></pre></div>\n\n<p>Include jQuery library, bootstrap library (if your project doesn't use it already) and <code>bootstrap-table.js</code> in the head tag or at the very bottom of your document, just before the closing body tag (usually recommended for better performance).</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"jquery.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"bootstrap.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"bootstrap-table.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;--</span> <span class=\"na\">put</span> <span class=\"na\">your</span> <span class=\"na\">locale</span> <span class=\"na\">files</span> <span class=\"na\">after</span> <span class=\"na\">bootstrap-table</span><span class=\"err\">.</span><span class=\"na\">js</span> <span class=\"na\">--</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"bootstrap-table-zh-CN.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</code></pre></div>\n\n\n\n<p>The Bootstrap Table plugin displays data in a tabular format, via data attributes or JavaScript.</p>\n\n<h2>Via data attributes</h2>\n\n<p>Activate bootstrap table without writing JavaScript. Set <code>data-toggle=\"table\"</code> on a normal table.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"nt\">&lt;table</span> <span class=\"na\">data-toggle=</span><span class=\"s\">\"table\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;thead&gt;</span>\n <span class=\"nt\">&lt;tr&gt;</span>\n <span class=\"nt\">&lt;th&gt;</span>Item ID<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;th&gt;</span>Item Name<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;th&gt;</span>Item Price<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;/tr&gt;</span>\n <span class=\"nt\">&lt;/thead&gt;</span>\n <span class=\"nt\">&lt;tbody&gt;</span>\n <span class=\"nt\">&lt;tr&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>1<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>Item 1<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>$1<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;/tr&gt;</span>\n <span class=\"nt\">&lt;tr&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>2<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>Item 2<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;td&gt;</span>$2<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;/tr&gt;</span>\n <span class=\"nt\">&lt;/tbody&gt;</span>\n<span class=\"nt\">&lt;/table&gt;</span>\n</code></pre></div>\n\n<p>We can also use remote url data by setting <code>data-url=\"data1.json\"</code> on a normal table.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"nt\">&lt;table</span> <span class=\"na\">data-toggle=</span><span class=\"s\">\"table\"</span> <span class=\"na\">data-url=</span><span class=\"s\">\"data1.json\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;thead&gt;</span>\n <span class=\"nt\">&lt;tr&gt;</span>\n <span class=\"nt\">&lt;th</span> <span class=\"na\">data-field=</span><span class=\"s\">\"id\"</span><span class=\"nt\">&gt;</span>Item ID<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;th</span> <span class=\"na\">data-field=</span><span class=\"s\">\"name\"</span><span class=\"nt\">&gt;</span>Item Name<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;th</span> <span class=\"na\">data-field=</span><span class=\"s\">\"price\"</span><span class=\"nt\">&gt;</span>Item Price<span class=\"nt\">&lt;/th&gt;</span>\n <span class=\"nt\">&lt;/tr&gt;</span>\n <span class=\"nt\">&lt;/thead&gt;</span>\n<span class=\"nt\">&lt;/table&gt;</span>\n</code></pre></div>\n\n<h2>Via JavaScript</h2>\n\n<p>Call a bootstrap table with id table with JavaScript.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-html\"><span class=\"nt\">&lt;table</span> <span class=\"na\">id=</span><span class=\"s\">\"table\"</span><span class=\"nt\">&gt;&lt;/table&gt;</span>\n</code></pre></div><div class=\"highlight\"><pre><code class=\"language-js\"><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#table'</span><span class=\"p\">).</span><span class=\"nx\">bootstrapTable</span><span class=\"p\">({</span>\n <span class=\"na\">columns</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'id'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item ID'</span>\n <span class=\"p\">},</span> <span class=\"p\">{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'name'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item Name'</span>\n <span class=\"p\">},</span> <span class=\"p\">{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'price'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item Price'</span>\n <span class=\"p\">}],</span>\n <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n <span class=\"na\">id</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'Item 1'</span><span class=\"p\">,</span>\n <span class=\"na\">price</span><span class=\"p\">:</span> <span class=\"s1\">'$1'</span>\n <span class=\"p\">},</span> <span class=\"p\">{</span>\n <span class=\"na\">id</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span>\n <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'Item 2'</span><span class=\"p\">,</span>\n <span class=\"na\">price</span><span class=\"p\">:</span> <span class=\"s1\">'$2'</span>\n <span class=\"p\">}]</span>\n<span class=\"p\">});</span>\n</code></pre></div>\n\n<p>We can also use remote url data by setting <code>url: 'data1.json'</code>.</p>\n\n<div class=\"highlight\"><pre><code class=\"language-js\"><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#table'</span><span class=\"p\">).</span><span class=\"nx\">bootstrapTable</span><span class=\"p\">({</span>\n <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"s1\">'data1.json'</span><span class=\"p\">,</span>\n <span class=\"na\">columns</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'id'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item ID'</span>\n <span class=\"p\">},</span> <span class=\"p\">{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'name'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item Name'</span>\n <span class=\"p\">},</span> <span class=\"p\">{</span>\n <span class=\"na\">field</span><span class=\"p\">:</span> <span class=\"s1\">'price'</span><span class=\"p\">,</span>\n <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'Item Price'</span>\n <span class=\"p\">},</span> <span class=\"p\">]</span>\n<span class=\"p\">});</span>\n</code></pre></div>\n\n </div>\n \n \n </div>"
    }, {
        "title": "jQuery treetable",
        "url": "http://ludo.cubicphuse.nl/jquery-treetable/",
        "excerpt": "Download the latest release from the jQuery Plugin Registry or grab the source code from Github. Please report issues through Github issues. This plugin is released under both the MIT and the GPLv2&hellip;",
        "date_saved": "Thu Jul 28 20:08:21 EDT 2016",
        "html_file": "jquery_treetable.html",
        "png_file": "jquery_treetable.png",
        "md_file": "jquery_treetable.md",
        "content": "<div><div id=\"main\">\n \n\n <p><b><a href=\"http://plugins.jquery.com/treetable\">Download</a> the latest release from the jQuery Plugin Registry or grab the <a href=\"https://github.com/ludo/jquery-treetable\">source code</a> from Github.</b> Please <a href=\"https://github.com/ludo/jquery-treetable/issues\">report issues</a> through Github issues. This plugin is released under both the MIT and the GPLv2 license by <a href=\"http://ludovandenboom.com\">Ludo van den Boom</a>.</p>\n\n <table id=\"example-basic\">\n <caption>Basic jQuery treetable Example</caption>\n <thead>\n <tr>\n <th>Tree column</th>\n <th>Additional data</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td>Node 1: Click on the icon in front of me to expand this branch.</td>\n <td>I live in the second column.</td>\n </tr>\n <tr>\n <td>Node 1.1: Look, I am a table row <em>and</em> I am part of a tree!</td>\n <td>Interesting.</td>\n </tr>\n <tr>\n <td>Node 1.1.1: I am part of the tree too!</td>\n <td>That's it!</td>\n </tr>\n <tr>\n <td>Node 2: I am another root node, but without children</td>\n <td>Hurray!</td>\n </tr>\n </tbody>\n </table>\n\n <h2>Table of Contents</h2>\n <ol>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#overview\">Overview</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#usage\">Usage</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#configuration\">Configuration</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#api\">Public API</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#examples\">Examples</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/test.html\">Test Suite</a></li>\n <li><a href=\"http://ludo.cubicphuse.nl/jquery-treetable/CHANGELOG.txt\">CHANGELOG.txt</a></li>\n </ol>\n\n <h2><a name=\"overview\">1. Overview</a></h2>\n\n <p>jQuery treetable is a plugin for <a href=\"http://jquery.com\">jQuery</a>, the 'Write Less, Do More, JavaScript Library'. With this plugin you can display a tree in an HTML table, e.g. a directory structure or a nested list. Why not use a list, you say? Because lists are great for displaying a tree, and tables are not. Oh wait, but this plugin uses tables, doesn't it? Yes. Why do I use a table to display a list? Because I need multiple columns to display additional data besides the tree.</p>\n\n <h3>Unobtrusiveness</h3>\n\n <p>One of the goals of jQuery treetable is to be as unobtrusive as possible. Being 'unobtrusive' is very cool nowadays, so that was an important requirement. But it is cool for a reason: it keeps your HTML documents clean and it allows the code to degrade nicely when Javascript is not available.</p>\n\n <p>The treetable plugin only requires that you add specific <tt>data</tt> attributes to every row that is part of your tree. The plugin uses these attributes to determine what your tree looks like. Otherwise, it would have to guess the structure of the tree and it wouldn't be very successful in doing that. See the <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#usage\">Usage</a> chapter for more information on how to prepare your tree.</p>\n\n <h3>Features</h3>\n <ul>\n <li>It can display a tree of data in a table column.</li>\n <li>It does this as unobtrusively as possible.</li>\n <li>It allows branches to be collapsed and expanded (think of how a directory structure works in most file explorers).</li>\n <li>It allows unlimited tree depth.</li>\n <li>It uses the lightweight <a href=\"http://jquery.com\">jQuery</a> Javascript libray.</li>\n </ul>\n\n <h2><a name=\"usage\">2. Usage</a></h2>\n\n <p><b>Note:</b> This chapter assumes that you have already installed jQuery as described on their website.</p>\n\n <h3><a name=\"head\">Include the plugin in your document</a></h3>\n\n <p>The plugin can either be installed manually or by using the <a href=\"http://bower.io\">Bower</a> package manager.</p>\n\n <h4>Installing with Bower</h4>\n\n <pre class=\"listing\">\nbower install jquery-treetable</pre>\n\n <p>Note that the only listed dependency is jQuery. If you also want to use the drag &amp; drop feature you'll have to install jQuery UI yourself.</p>\n\n <h4>Installing manually</h4>\n\n <p>Copy the files <tt>jquery.treetable.js</tt> and <tt>css/jquery.treetable.css</tt> to your project. Paste the following code right before the closing <tt>body</tt> tag in your HTML document. Make sure these lines are <b>below</b> the line where you include jQuery. Change the <b>red</b> parts to reflect your situation.</p>\n\n <pre class=\"listing\">\n&lt;link href=\"<b>path/to/</b>jquery.treetable.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;script src=\"<b>path/to/</b>jquery.treetable.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(\"<b>#your_table_id</b>\").treetable();\n&lt;/script&gt;</pre>\n\n <h3><a name=\"theme\">Styling the tree</a></h3>\n\n <p>By default the tree has little styling. Use the file <tt>css/jquery.treetable.theme.default.css</tt> as a template for your own styling, or just use this default theme.</p>\n\n <h3><a name=\"tree\">Representing your tree in a table</a></h3>\n <p>When you pasted the above code and adjusted it to reflect your situation, you enabled the <em>possibility</em> of displaying a tree in your table. To make the tree actually display as a tree you have to add <tt>data-tt-id</tt> and <tt>data-tt-parent-id</tt> attributes to your table rows (<tt>tr</tt>).</p>\n\n <h4>How to do this?</h4>\n <p>First, you should add a <em>unique</em> <tt>data-tt-id</tt> attribute to each of the rows in your table, for example '<tt>node-<em>x</em></tt>'. Then you add a <tt>data-tt-parent-id</tt> attribute to each child of a node, give this class a value of '<tt><em>node-x</em></tt>'. The <em>node-x</em> part should be the same as the <tt>data-tt-id</tt> of its parent. Do you still follow me? Let me show you an example of a very simple tree: a single parent with a single child. For more examples you should view the source code of this page, where you find several tables for the examples in the <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#examples\">examples</a> chapter.</p>\n\n <pre class=\"listing\">\n&lt;table&gt;\n &lt;tr data-tt-id=\"1\"&gt;\n &lt;td&gt;Parent&lt;/td&gt;\n &lt;/tr&gt;\n &lt;tr data-tt-id=\"2\" data-tt-parent-id=\"1\"&gt;\n &lt;td&gt;Child&lt;/td&gt;\n &lt;/tr&gt;\n&lt;/table&gt;</pre>\n\n <p>Please note that the plugin expects the rows in the HTML table to be in the same order in which they should be displayed in the tree. For example, suppose you have three nodes: <strong>A</strong>, <strong>B</strong> (child of node <span>A</span>) and <strong>C</strong> (child of node <span>B</span>). If you create rows for these nodes in your HTML table in the following order <span>A</span> - <span>C</span> - <span>B</span>, then the tree will not display correctly. You have to make sure that the rows are in the order <span>A</span> - <span>B</span> - <span>C</span>.</p>\n\n <h2><a name=\"configuration\">3. Configuration</a></h2>\n\n <p>There are several settings that let you adjust the behavior of the plugin. Each of these settings is described in this section. Pass these options and callback functions to the <tt>treetable()</tt> function. See the <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#examples\">examples</a>.</p>\n\n <h3>Settings</h3>\n\n <table class=\"treetable\">\n <thead>\n <tr>\n <th>Setting</th>\n <th>Type</th>\n <th>Default</th>\n <th>Description</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><tt>branchAttr</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"ttBranch\"</tt></td>\n <td>Optional data attribute that can be used to force the expander icon to be rendered on a node. This allows us to define a node as a branch node even though it does not have children yet. This translates to a <tt>data-tt-branch</tt> attribute in your HTML.</td>\n </tr>\n <tr>\n <td><tt>clickableNodeNames</tt></td>\n <td><tt>bool</tt></td>\n <td><tt>false</tt></td>\n <td>Set to true to expand branches not only when expander icon is clicked but also when node name is clicked.</td>\n </tr>\n <tr>\n <td><tt>column</tt></td>\n <td><tt>int</tt></td>\n <td><tt>0</tt></td>\n <td>The number of the column in the table that should be displayed as a tree.</td>\n </tr>\n <tr>\n <td><tt>columnElType</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"td\"</tt></td>\n <td>The types of cells that should be considered for the tree (<tt>td</tt>, <tt>th</tt> or both).</td>\n </tr>\n <tr>\n <td><tt>expandable</tt></td>\n <td><tt>bool</tt></td>\n <td><tt>false</tt></td>\n <td>Should the tree be expandable? An expandable tree contains buttons to make each branch with children collapsible/expandable.</td>\n </tr>\n <tr>\n <td><tt>expanderTemplate</tt></td>\n <td><tt>string</tt></td>\n <td><tt>&lt;a href=\"#\"&gt;&amp;nbsp;&lt;/a&gt;</tt></td>\n <td>The HTML fragment used for the expander.</td>\n </tr>\n <tr>\n <td><tt>indent</tt></td>\n <td><tt>int</tt></td>\n <td><tt>19</tt></td>\n <td>The number of pixels that each branch should be indented with.</td>\n </tr>\n <tr>\n <td><tt>indenterTemplate</tt></td>\n <td><tt>string</tt></td>\n <td><tt>&lt;span class=\"indenter\"&gt;&lt;/span&gt;</tt></td>\n <td>The HTML fragment used for the indenter.</td>\n </tr>\n <tr>\n <td><tt>initialState</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"collapsed\"</tt></td>\n <td>Possible values: <tt>\"expanded\"</tt> or <tt>\"collapsed\"</tt>.</td>\n </tr>\n <tr>\n <td><tt>nodeIdAttr</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"ttId\"</tt></td>\n <td>Name of the data attribute used to identify node. Translates to <tt>data-tt-id</tt> in your HTML.</td>\n </tr>\n <tr>\n <td><tt>parentIdAttr</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"ttParentId\"</tt></td>\n <td>Name of the data attribute used to set parent node. Translates to <tt>data-tt-parent-id</tt> in your HTML.</td>\n </tr>\n <tr>\n <td><tt>stringCollapse</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"Collapse\"</tt></td>\n <td>For internationalization.</td>\n </tr>\n <tr>\n <td><tt>stringExpand</tt></td>\n <td><tt>string</tt></td>\n <td><tt>\"Expand\"</tt></td>\n <td>For internationalization.</td>\n </tr>\n </tbody>\n </table>\n\n <h3>Events</h3>\n\n <table class=\"treetable\">\n <thead>\n <tr>\n <th>Setting</th>\n <th>Type</th>\n <th>Default</th>\n <th>Description</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><tt>onInitialized</tt></td>\n <td><tt>function</tt></td>\n <td><tt>null</tt></td>\n <td>Callback function fired when the tree has been initialized.</td>\n </tr>\n <tr>\n <td><tt>onNodeCollapse</tt></td>\n <td><tt>function</tt></td>\n <td><tt>null</tt></td>\n <td>Callback function fired when a branch is collapsed.</td>\n </tr>\n <tr>\n <td><tt>onNodeExpand</tt></td>\n <td><tt>function</tt></td>\n <td><tt>null</tt></td>\n <td>Callback function fired when a branch is expanded.</td>\n </tr>\n <tr>\n <td><tt>onNodeInitialized</tt></td>\n <td><tt>function</tt></td>\n <td><tt>null</tt></td>\n <td>Callback function fired when a node has been initialized.</td>\n </tr>\n </tbody>\n </table>\n\n <h2><a name=\"api\">4. Public API</a></h2>\n\n <h3><tt>treetable()</tt> Plugin Function</h3>\n\n <p>The <tt>treetable()</tt> function accepts the following arguments:</p>\n\n <dl>\n <dt><tt>options</tt> (optional)</dt>\n <dd>A Javascript object of configuration settings as described in the chapter on <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/#configuration\">configuration</a>.</dd>\n <dt><tt>force</tt> (optional)</dt>\n <dd>Pass the boolean <tt>true</tt> to force reinitialization of the tree.</dd>\n </dl>\n\n <h3>Additional Functions</h3>\n\n <p>Use the following functions to manipulate the tree programmatically. Calling a function should be done through the <tt>treetable()</tt> function. For example, to collapse node '42' use <tt>$(\"#tree\").treetable(\"collapseNode\", \"42\")</tt>.</p>\n\n <dl>\n <dt><tt>collapseAll()</tt></dt>\n <dd>Collapse all nodes at once.</dd>\n <dt><tt>collapseNode(id)</tt></dt>\n <dd>Collapse a single node, identified by <tt>id</tt>.</dd>\n <dt><tt>expandAll()</tt></dt>\n <dd>Expand all nodes at once.</dd>\n <dt><tt>expandNode(id)</tt></dt>\n <dd>Expand a single node, identified by <tt>id</tt>.</dd>\n <dt><tt>loadBranch(node, rows)</tt></dt>\n <dd>Load additional rows (HTML <tt>&lt;tr&gt;</tt>s) into the tree, with parent <tt>node</tt>. If <tt>node</tt> is <tt>null</tt> rows will be added as root nodes.</dd>\n <dt><tt>move(nodeId, destinationId)</tt></dt>\n <dd>Move node <tt>nodeId</tt> to new parent with <tt>destinationId</tt>.</dd>\n <dt><tt>node(id)</tt></dt>\n <dd>Select a node from the tree. Returns a <tt>TreeTable.Node</tt> object.</dd>\n <dt><tt>removeNode(id)</tt></dt>\n <dd>Remove a node and all its descendants from the tree.</dd>\n <dt><tt>reveal(id)</tt></dt>\n <dd>Reveal a node in the tree.</dd>\n <dt><tt>sortBranch(node)</tt>, <tt>sortBranch(node, columnOrFunction)</tt></dt>\n <dd>Sort <tt>node</tt>'s children alphabetically. Defaults to sorting on the values in the configured tree column (see settings). Pass an optional column number or sorting function as the second argument <tt>columnOrFunction</tt>. See <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/test.html?grep=treetable()%20sortBranch()\">the tests</a> for examples of custom sorting functions. Does not recursively sort children of children.</dd>\n <dt><tt>unloadBranch(node)</tt></dt>\n <dd>Remove nodes/rows (HTML <tt>&lt;tr&gt;</tt>s) from the tree, with parent <tt>node</tt>. Note that the parent (<tt>node</tt>) will not be removed.</dd>\n </dl>\n\n\n <h3>Classes</h3>\n The following classes are dynamically added to the tree rows:\n <dl>\n <dt><tt>expanded</tt></dt>\n <dd>When the row is expanded</dd>\n <dt><tt>collapsed</tt></dt>\n <dd>When the row is collapsed</dd>\n <dt><tt>branch</tt></dt>\n <dd>When the row has children or the branchAttr is present</dd>\n <dt><tt>leaf</tt></dt>\n <dd>When the row has no children</dd>\n </dl>\n\n\n <h2><a name=\"examples\">5. Examples</a></h2>\n\n <h3>Basic Static Tree</h3>\n\n <table id=\"example-basic-static\">\n <tr>\n <td>app</td>\n </tr>\n <tr>\n <td>controllers</td>\n </tr>\n <tr>\n <td>application_controller.rb</td>\n </tr>\n <tr>\n <td>helpers</td>\n </tr>\n <tr>\n <td>models</td>\n </tr>\n <tr>\n <td>views</td>\n </tr>\n </table>\n\n <pre class=\"listing\">\n$(\"#example-basic-static\").treetable();</pre>\n\n <h3>Basic Expandable Tree</h3>\n\n <table id=\"example-basic-expandable\">\n <tr>\n <td>app</td>\n </tr>\n <tr>\n <td>controllers</td>\n </tr>\n <tr>\n <td>application_controller.rb</td>\n </tr>\n <tr>\n <td>helpers</td>\n </tr>\n <tr>\n <td>models</td>\n </tr>\n <tr>\n <td>views</td>\n </tr>\n </table>\n\n <pre class=\"listing\">\n$(\"#example-basic-expandable\").treetable({ expandable: true });</pre>\n\n <h3>Complex Tree With Drag and Drop</h3>\n\n <p>This example uses <a href=\"http://jqueryui.com\">jQuery UI</a>'s Draggable and Droppable components. The tree has 459 nodes.</p>\n\n \n \n <br>\n <small>Examples: <tt>2-1-1</tt>, <tt>3-1-1-2-2</tt> and <tt>3-2-1-2-3-1-2-2-1-1-1-1-2-5</tt></small>\n \n\n <table id=\"example-advanced\">\n <caption>\n <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/\">Expand all</a>\n <a href=\"http://ludo.cubicphuse.nl/jquery-treetable/\">Collapse all</a>\n </caption>\n <thead>\n <tr>\n <th>Name</th>\n <th>Kind</th>\n <th>Size</th>\n </tr>\n </thead>\n <tbody>\n <tr><td><span class=\"file\">Acknowledgements.rtf</span></td><td>File</td><td>480.95 KB</td></tr>\n <tr><td><span class=\"folder\">CHUD</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">amber</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">AmberTraceFormats.pdf</span></td><td>File</td><td>124.46 KB</td></tr>\n <tr><td><span class=\"folder\">BigTop</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">BigTopUserGuide.pdf</span></td><td>File</td><td>1314.71 KB</td></tr>\n <tr><td><span class=\"folder\">Saturn</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">SaturnUserGuide.pdf</span></td><td>File</td><td>694.29 KB</td></tr>\n <tr><td><span class=\"folder\">Shark</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">SharkUserGuide.pdf</span></td><td>File</td><td>12902.51 KB</td></tr>\n <tr><td><span class=\"folder\">simg4</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">simg4_plus</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">simg5</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DocSets</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">com.apple.ADC_Reference_Library.CoreReference.docset</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Contents</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Info.plist</span></td><td>File</td><td>1.23 KB</td></tr>\n <tr><td><span class=\"folder\">Resources</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">docSet.dsidx</span></td><td>File</td><td>41504 KB</td></tr>\n <tr><td><span class=\"file\">docSet.skidx</span></td><td>File</td><td>43072 KB</td></tr>\n <tr><td><span class=\"folder\">Documents</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">documentation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Accessibility</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Reference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AccessibilityCarbonRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CarbonAXRefRevisions</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">CarbonAXRefRevisions.html</span></td><td>File</td><td>7.44 KB</td></tr>\n <tr><td><span class=\"folder\">Index</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index_of_book.html</span></td><td>File</td><td>174.1 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.1 KB</td></tr>\n <tr><td><span class=\"folder\">Reference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">reference.html</span></td><td>File</td><td>196.28 KB</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>15.92 KB</td></tr>\n <tr><td><span class=\"folder\">AccessibilityLowlevel</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">accessibility</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">CompositePage.html</span></td><td>File</td><td>5.7 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.67 KB</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>2.87 KB</td></tr>\n <tr><td><span class=\"file\">accessibility-constants.html</span></td><td>File</td><td>26.94 KB</td></tr>\n <tr><td><span class=\"file\">accessibility-datatypes.html</span></td><td>File</td><td>11.02 KB</td></tr>\n <tr><td><span class=\"file\">accessibility-functions.html</span></td><td>File</td><td>15.55 KB</td></tr>\n <tr><td><span class=\"file\">accessibility-mpindex.html</span></td><td>File</td><td>9.87 KB</td></tr>\n <tr><td><span class=\"folder\">AXActionConstants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">CompositePage.html</span></td><td>File</td><td>15.08 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.67 KB</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>4.9 KB</td></tr>\n <tr><td><span class=\"folder\">AXAttributeConstants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXError</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXNotificationConstants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXRoleConstants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXTextAttributedString</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXUIElement</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXValue</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AXValueConstants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>10.1 KB</td></tr>\n <tr><td><span class=\"folder\">UniversalAccess</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">adcstyle.css</span></td><td>File</td><td>15.86 KB</td></tr>\n <tr><td><span class=\"folder\">AppleApplications</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Reference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AddressBookC_Collection</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Index</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index_of_book.html</span></td><td>File</td><td>153.98 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>13.62 KB</td></tr>\n <tr><td><span class=\"folder\">Introduction</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Introduction.html</span></td><td>File</td><td>5.41 KB</td></tr>\n <tr><td><span class=\"file\">RevisionHistory.html</span></td><td>File</td><td>4.66 KB</td></tr>\n <tr><td><span class=\"folder\">AddressBookRefUpdate</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Articles</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">AddressBook_10.1-10.2_SymbolChanges.html</span></td><td>File</td><td>80.84 KB</td></tr>\n <tr><td><span class=\"file\">AddressBook_10.2-10.3_SymbolChanges.html</span></td><td>File</td><td>54.2 KB</td></tr>\n <tr><td><span class=\"file\">AddressBook_10.3-10.4_SymbolChanges.html</span></td><td>File</td><td>14.78 KB</td></tr>\n <tr><td><span class=\"file\">AddressBook_10.4-10.5_SymbolChanges.html</span></td><td>File</td><td>11.03 KB</td></tr>\n <tr><td><span class=\"file\">Introduction.html</span></td><td>File</td><td>7.3 KB</td></tr>\n <tr><td><span class=\"file\">RevisionHistory.html</span></td><td>File</td><td>6.19 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.08 KB</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>2.84 KB</td></tr>\n <tr><td><span class=\"folder\">AMWorkflow_class</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AMWorkflowController_class</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AMWorkflowView_Class</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AppleApp_Aperture_002</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Automator_constants</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AutomatorFramework</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AutomatorReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AutomatorRefUpdate</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CalendarStoreFramework</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CalendarStoreReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CalendarStoreRefUpdate</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Dashboard_Ref</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">FinalCutPro_XML</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">InstantMessageFramework</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">InstantMessageFrameworkRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">InstantMessageRefUpdate</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">iSyncJavaScriptRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">iSyncManualTestSuiteRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">iSyncSyncMLRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MessageFrameworkReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Motion_FXPlug_Ref</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">SafariCSSRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">SafariHTMLRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">SyncServicesRefUpdate</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">SyncServicesSchemaRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">WebKitDOMRef</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">AppleScript</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Reference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">StudioReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">art</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">boxes.gif</span></td><td>File</td><td>11.52 KB</td></tr>\n <tr><td><span class=\"file\">browser.gif</span></td><td>File</td><td>26.04 KB</td></tr>\n <tr><td><span class=\"file\">button_in_window.gif</span></td><td>File</td><td>8.17 KB</td></tr>\n <tr><td><span class=\"file\">cc_app_info_window.gif</span></td><td>File</td><td>24.36 KB</td></tr>\n <tr><td><span class=\"file\">circular_prog_indicator.gif</span></td><td>File</td><td>0.65 KB</td></tr>\n <tr><td><span class=\"file\">color_panel.jpg</span></td><td>File</td><td>24.91 KB</td></tr>\n <tr><td><span class=\"file\">color_well.gif</span></td><td>File</td><td>7.58 KB</td></tr>\n <tr><td><span class=\"file\">combobox.gif</span></td><td>File</td><td>1.44 KB</td></tr>\n <tr><td><span class=\"file\">comboboxlist.gif</span></td><td>File</td><td>4.12 KB</td></tr>\n <tr><td><span class=\"file\">display_alert.gif</span></td><td>File</td><td>28.69 KB</td></tr>\n <tr><td><span class=\"file\">display_dialog.gif</span></td><td>File</td><td>28.42 KB</td></tr>\n <tr><td><span class=\"file\">doc_exp_groups.gif</span></td><td>File</td><td>22.52 KB</td></tr>\n <tr><td><span class=\"file\">drawer.gif</span></td><td>File</td><td>34.4 KB</td></tr>\n <tr><td><span class=\"file\">drawer_content_view.gif</span></td><td>File</td><td>8.21 KB</td></tr>\n <tr><td><span class=\"file\">drawer_instances_in_nib.gif</span></td><td>File</td><td>20.97 KB</td></tr>\n <tr><td><span class=\"file\">drawers_in_palette.gif</span></td><td>File</td><td>17.34 KB</td></tr>\n <tr><td><span class=\"file\">files_owner_in_nib.gif</span></td><td>File</td><td>15.24 KB</td></tr>\n <tr><td><span class=\"file\">font_panel.gif</span></td><td>File</td><td>17.16 KB</td></tr>\n <tr><td><span class=\"file\">hw_exp_grps_files.gif</span></td><td>File</td><td>15.35 KB</td></tr>\n <tr><td><span class=\"file\">ib_number_formatter.gif</span></td><td>File</td><td>1.46 KB</td></tr>\n <tr><td><span class=\"file\">image_tab_mainmenu_nib.gif</span></td><td>File</td><td>12.33 KB</td></tr>\n <tr><td><span class=\"file\">image_view_from_app.gif</span></td><td>File</td><td>17.18 KB</td></tr>\n <tr><td><span class=\"file\">matrix.gif</span></td><td>File</td><td>7.36 KB</td></tr>\n <tr><td><span class=\"file\">menu_item.gif</span></td><td>File</td><td>16.85 KB</td></tr>\n <tr><td><span class=\"file\">menu_showing_file_menu.gif</span></td><td>File</td><td>17 KB</td></tr>\n <tr><td><span class=\"file\">movie_view.gif</span></td><td>File</td><td>34.76 KB</td></tr>\n <tr><td><span class=\"file\">number_formatter_info.gif</span></td><td>File</td><td>24.8 KB</td></tr>\n <tr><td><span class=\"file\">open_panel.gif</span></td><td>File</td><td>32.06 KB</td></tr>\n <tr><td><span class=\"file\">outline_view.gif</span></td><td>File</td><td>18.7 KB</td></tr>\n <tr><td><span class=\"file\">popup_button.gif</span></td><td>File</td><td>6.76 KB</td></tr>\n <tr><td><span class=\"file\">progindindet.gif</span></td><td>File</td><td>3.78 KB</td></tr>\n <tr><td><span class=\"file\">save_panel.gif</span></td><td>File</td><td>39.43 KB</td></tr>\n <tr><td><span class=\"file\">secure_text_field.gif</span></td><td>File</td><td>9.91 KB</td></tr>\n <tr><td><span class=\"file\">simple_toolbar.gif</span></td><td>File</td><td>10.4 KB</td></tr>\n <tr><td><span class=\"file\">sliders.gif</span></td><td>File</td><td>11.01 KB</td></tr>\n <tr><td><span class=\"file\">sounds_in_nib_window.gif</span></td><td>File</td><td>22.26 KB</td></tr>\n <tr><td><span class=\"file\">split_view.gif</span></td><td>File</td><td>15.73 KB</td></tr>\n <tr><td><span class=\"file\">stepper.gif</span></td><td>File</td><td>1.08 KB</td></tr>\n <tr><td><span class=\"file\">table_app.gif</span></td><td>File</td><td>22.72 KB</td></tr>\n <tr><td><span class=\"file\">table_view.gif</span></td><td>File</td><td>14.55 KB</td></tr>\n <tr><td><span class=\"file\">tabview.gif</span></td><td>File</td><td>24.86 KB</td></tr>\n <tr><td><span class=\"file\">text_fields.gif</span></td><td>File</td><td>7.1 KB</td></tr>\n <tr><td><span class=\"file\">text_view.gif</span></td><td>File</td><td>12.18 KB</td></tr>\n <tr><td><span class=\"file\">to_do_outline.gif</span></td><td>File</td><td>15.4 KB</td></tr>\n <tr><td><span class=\"file\">window.gif</span></td><td>File</td><td>6.41 KB</td></tr>\n <tr><td><span class=\"folder\">Index</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.13 KB</td></tr>\n <tr><td><span class=\"folder\">sr10_panel_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr10_pplugin_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr11_textview_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr1_about</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr2_fundamentals</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr3_app_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr4_container_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr5_control_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr6_data_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr7_doc_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr8_drag_drop_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr9_menu_suite</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">sr_history</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>132.84 KB</td></tr>\n <tr><td><span class=\"folder\">Carbon</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Cocoa</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CoreFoundation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">css</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Darwin</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DeveloperTools</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DeviceDrivers</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Games</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">GraphicsImaging</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Hardware</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">HardwareDrivers</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">images</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>74.06 KB</td></tr>\n <tr><td><span class=\"file\">index-date0.html</span></td><td>File</td><td>284.1 KB</td></tr>\n <tr><td><span class=\"file\">index-date2.html</span></td><td>File</td><td>73.94 KB</td></tr>\n <tr><td><span class=\"file\">index-date3.html</span></td><td>File</td><td>74.4 KB</td></tr>\n <tr><td><span class=\"file\">index-date4.html</span></td><td>File</td><td>75.11 KB</td></tr>\n <tr><td><span class=\"file\">index-date5.html</span></td><td>File</td><td>41.11 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-date.html</span></td><td>File</td><td>49.03 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-revision.html</span></td><td>File</td><td>49.01 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-title.html</span></td><td>File</td><td>49.03 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic.html</span></td><td>File</td><td>71.41 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic0.html</span></td><td>File</td><td>93.76 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic2.html</span></td><td>File</td><td>29.61 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>73.91 KB</td></tr>\n <tr><td><span class=\"file\">index-title0.html</span></td><td>File</td><td>284.11 KB</td></tr>\n <tr><td><span class=\"file\">index-title2.html</span></td><td>File</td><td>74.7 KB</td></tr>\n <tr><td><span class=\"file\">index-title3.html</span></td><td>File</td><td>73 KB</td></tr>\n <tr><td><span class=\"file\">index-title4.html</span></td><td>File</td><td>74.15 KB</td></tr>\n <tr><td><span class=\"file\">index-title5.html</span></td><td>File</td><td>42.91 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>72.46 KB</td></tr>\n <tr><td><span class=\"file\">index-topic0.html</span></td><td>File</td><td>601.26 KB</td></tr>\n <tr><td><span class=\"file\">index-topic10.html</span></td><td>File</td><td>74.41 KB</td></tr>\n <tr><td><span class=\"file\">index-topic2.html</span></td><td>File</td><td>73.6 KB</td></tr>\n <tr><td><span class=\"file\">index-topic3.html</span></td><td>File</td><td>72.47 KB</td></tr>\n <tr><td><span class=\"file\">index-topic4.html</span></td><td>File</td><td>71.89 KB</td></tr>\n <tr><td><span class=\"file\">index-topic5.html</span></td><td>File</td><td>73.89 KB</td></tr>\n <tr><td><span class=\"file\">index-topic6.html</span></td><td>File</td><td>73.1 KB</td></tr>\n <tr><td><span class=\"file\">index-topic7.html</span></td><td>File</td><td>70.55 KB</td></tr>\n <tr><td><span class=\"file\">index-topic8.html</span></td><td>File</td><td>71.25 KB</td></tr>\n <tr><td><span class=\"file\">index-topic9.html</span></td><td>File</td><td>72.56 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>20.65 KB</td></tr>\n <tr><td><span class=\"folder\">Internationalization</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">InternetWeb</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">iPhone</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">js</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">LegacyTechnologies</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MacOSX</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MacOSXServer</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MusicAudio</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Networking</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">OpenSource</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Performance</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Porting</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Printing</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">QuickTime</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Resources</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">ScriptingAutomation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Security</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Storage</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">TextFonts</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">UserExperience</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">WebObjects</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">referencelibrary</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">adc.css</span></td><td>File</td><td>1.46 KB</td></tr>\n <tr><td><span class=\"file\">base.css</span></td><td>File</td><td>1.08 KB</td></tr>\n <tr><td><span class=\"folder\">images</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">body_bg.gif</span></td><td>File</td><td>0.24 KB</td></tr>\n <tr><td><span class=\"file\">main_bgbottom.gif</span></td><td>File</td><td>2.35 KB</td></tr>\n <tr><td><span class=\"file\">main_bgtop.gif</span></td><td>File</td><td>6.88 KB</td></tr>\n <tr><td><span class=\"file\">main_bgtop_stroke.gif</span></td><td>File</td><td>7.62 KB</td></tr>\n <tr><td><span class=\"file\">UpdateBanner_core.png</span></td><td>File</td><td>24.25 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.15 KB</td></tr>\n <tr><td><span class=\"file\">version.plist</span></td><td>File</td><td>0.44 KB</td></tr>\n <tr><td><span class=\"folder\">com.apple.ADC_Reference_Library.DeveloperTools.docset</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Contents</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Info.plist</span></td><td>File</td><td>1.33 KB</td></tr>\n <tr><td><span class=\"folder\">Resources</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">docSet.dsidx</span></td><td>File</td><td>2752 KB</td></tr>\n <tr><td><span class=\"file\">docSet.skidx</span></td><td>File</td><td>5664 KB</td></tr>\n <tr><td><span class=\"folder\">Documents</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">documentation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">adcstyle.css</span></td><td>File</td><td>15.86 KB</td></tr>\n <tr><td><span class=\"folder\">AppleApplications</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">AppleApplications.html</span></td><td>File</td><td>0.22 KB</td></tr>\n <tr><td><span class=\"folder\">Conceptual</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Dashcode_UserGuide</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Contents</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Resources</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">de.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Advanced</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_1.html</span></td><td>File</td><td>6.71 KB</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_2.html</span></td><td>File</td><td>7.93 KB</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_3.html</span></td><td>File</td><td>6.38 KB</td></tr>\n <tr><td><span class=\"folder\">Art</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">apple_birthday_widget.jpg</span></td><td>File</td><td>33.5 KB</td></tr>\n <tr><td><span class=\"file\">canvas_inspector.jpg</span></td><td>File</td><td>71.75 KB</td></tr>\n <tr><td><span class=\"file\">countdown_attributes.jpg</span></td><td>File</td><td>46.69 KB</td></tr>\n <tr><td><span class=\"file\">project_window.jpg</span></td><td>File</td><td>107.57 KB</td></tr>\n <tr><td><span class=\"file\">source_code_inspector.jpg</span></td><td>File</td><td>76.19 KB</td></tr>\n <tr><td><span class=\"file\">webapp_add_code.jpg</span></td><td>File</td><td>85.65 KB</td></tr>\n <tr><td><span class=\"file\">webapp_add_part.jpg</span></td><td>File</td><td>108.16 KB</td></tr>\n <tr><td><span class=\"file\">webapp_first_test.jpg</span></td><td>File</td><td>86.82 KB</td></tr>\n <tr><td><span class=\"file\">webapp_project_window.jpg</span></td><td>File</td><td>152.27 KB</td></tr>\n <tr><td><span class=\"file\">chapter_999_section_1.html</span></td><td>File</td><td>6.3 KB</td></tr>\n <tr><td><span class=\"folder\">CodeAndDebugging</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Dashcode_UserGuide.pdf</span></td><td>File</td><td>1875.27 KB</td></tr>\n <tr><td><span class=\"folder\">DebuggingSharing</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DesignTools</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.11 KB</td></tr>\n <tr><td><span class=\"folder\">Introduction</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MakingaWebApp</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MakingaWidgetwithDashcode</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">PartsReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Templates</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>38.57 KB</td></tr>\n <tr><td><span class=\"folder\">WidgetProjects</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">en.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Advanced</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_1.html</span></td><td>File</td><td>6.6 KB</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_2.html</span></td><td>File</td><td>7.4 KB</td></tr>\n <tr><td><span class=\"file\">chapter_8_section_3.html</span></td><td>File</td><td>6.24 KB</td></tr>\n <tr><td><span class=\"folder\">Art</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">chapter_999_section_1.html</span></td><td>File</td><td>6.2 KB</td></tr>\n <tr><td><span class=\"folder\">CodeAndDebugging</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Dashcode_UserGuide.pdf</span></td><td>File</td><td>1087.36 KB</td></tr>\n <tr><td><span class=\"folder\">DebuggingSharing</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DesignTools</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>1.09 KB</td></tr>\n <tr><td><span class=\"folder\">Introduction</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MakingaWebApp</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MakingaWidgetwithDashcode</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">PartsReference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Templates</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">toc.html</span></td><td>File</td><td>38.11 KB</td></tr>\n <tr><td><span class=\"folder\">WidgetProjects</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">es.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">fr.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">it.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">ja.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">nl.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">zh.lproj</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Dashboard-date.html</span></td><td>File</td><td>10.88 KB</td></tr>\n <tr><td><span class=\"file\">Dashboard-rev-date.html</span></td><td>File</td><td>8.85 KB</td></tr>\n <tr><td><span class=\"file\">Dashboard-rev-revision.html</span></td><td>File</td><td>8.83 KB</td></tr>\n <tr><td><span class=\"file\">Dashboard-rev-title.html</span></td><td>File</td><td>8.85 KB</td></tr>\n <tr><td><span class=\"file\">Dashboard-title.html</span></td><td>File</td><td>10.71 KB</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>11.79 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-date.html</span></td><td>File</td><td>9.38 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-revision.html</span></td><td>File</td><td>9.36 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-title.html</span></td><td>File</td><td>9.37 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic.html</span></td><td>File</td><td>9.37 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>11.78 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>12.39 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>7.24 KB</td></tr>\n <tr><td><span class=\"file\">iSync-date.html</span></td><td>File</td><td>8.17 KB</td></tr>\n <tr><td><span class=\"file\">iSync-title.html</span></td><td>File</td><td>8 KB</td></tr>\n <tr><td><span class=\"folder\">Carbon</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Carbon.html</span></td><td>File</td><td>0.21 KB</td></tr>\n <tr><td><span class=\"file\">DesignGuidelines-date.html</span></td><td>File</td><td>9.93 KB</td></tr>\n <tr><td><span class=\"file\">DesignGuidelines-rev-date.html</span></td><td>File</td><td>7.45 KB</td></tr>\n <tr><td><span class=\"file\">DesignGuidelines-rev-revision.html</span></td><td>File</td><td>7.44 KB</td></tr>\n <tr><td><span class=\"file\">DesignGuidelines-rev-title.html</span></td><td>File</td><td>7.45 KB</td></tr>\n <tr><td><span class=\"file\">DesignGuidelines-title.html</span></td><td>File</td><td>9.77 KB</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>19.66 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-date.html</span></td><td>File</td><td>12.35 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-revision.html</span></td><td>File</td><td>12.33 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-title.html</span></td><td>File</td><td>12.34 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic.html</span></td><td>File</td><td>12.98 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>19.65 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>22.64 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>10.96 KB</td></tr>\n <tr><td><span class=\"file\">IntelBasedMacs-date.html</span></td><td>File</td><td>10.5 KB</td></tr>\n <tr><td><span class=\"file\">IntelBasedMacs-title.html</span></td><td>File</td><td>10.33 KB</td></tr>\n <tr><td><span class=\"file\">Performance-date.html</span></td><td>File</td><td>9.14 KB</td></tr>\n <tr><td><span class=\"file\">Performance-title.html</span></td><td>File</td><td>8.98 KB</td></tr>\n <tr><td><span class=\"file\">Porting-date.html</span></td><td>File</td><td>8.78 KB</td></tr>\n <tr><td><span class=\"file\">Porting-title.html</span></td><td>File</td><td>8.63 KB</td></tr>\n <tr><td><span class=\"file\">Tools-date.html</span></td><td>File</td><td>16.03 KB</td></tr>\n <tr><td><span class=\"file\">Tools-rev-date.html</span></td><td>File</td><td>10.85 KB</td></tr>\n <tr><td><span class=\"file\">Tools-rev-revision.html</span></td><td>File</td><td>10.83 KB</td></tr>\n <tr><td><span class=\"file\">Tools-rev-title.html</span></td><td>File</td><td>10.84 KB</td></tr>\n <tr><td><span class=\"file\">Tools-title.html</span></td><td>File</td><td>15.88 KB</td></tr>\n <tr><td><span class=\"file\">UserExperience-date.html</span></td><td>File</td><td>8.85 KB</td></tr>\n <tr><td><span class=\"file\">UserExperience-title.html</span></td><td>File</td><td>8.69 KB</td></tr>\n <tr><td><span class=\"folder\">Cocoa</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">CoreFoundation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">css</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Darwin</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DeveloperTools</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">GraphicsImaging</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">HardwareDrivers</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">images</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>38.14 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-date.html</span></td><td>File</td><td>20.91 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-revision.html</span></td><td>File</td><td>20.89 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-title.html</span></td><td>File</td><td>20.9 KB</td></tr>\n <tr><td><span class=\"file\">index-rev-topic.html</span></td><td>File</td><td>45.06 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>38.14 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>77.78 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>17.08 KB</td></tr>\n <tr><td><span class=\"folder\">Internationalization</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">InternetWeb</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Java</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">js</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">LegacyTechnologies</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">MacOSX</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">OpenSource</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Performance</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Porting</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Resources</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">ScriptingAutomation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">UserExperience</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Xcode</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">featuredarticles</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">adcstyle.css</span></td><td>File</td><td>15.86 KB</td></tr>\n <tr><td><span class=\"folder\">AppleApplications</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">idxDashboard-date.html</span></td><td>File</td><td>8.35 KB</td></tr>\n <tr><td><span class=\"file\">idxDashboard-title.html</span></td><td>File</td><td>8.24 KB</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>8.52 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>8.51 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>8.51 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>6.46 KB</td></tr>\n <tr><td><span class=\"folder\">Carbon</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Cocoa</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">css</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">DeveloperTools</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">Games</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">images</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index-date.html</span></td><td>File</td><td>16.03 KB</td></tr>\n <tr><td><span class=\"file\">index-title.html</span></td><td>File</td><td>16.03 KB</td></tr>\n <tr><td><span class=\"file\">index-topic.html</span></td><td>File</td><td>19.32 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>10.98 KB</td></tr>\n <tr><td><span class=\"folder\">js</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">LegacyTechnologies</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">ScriptingAutomation</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">UserExperience</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>0.23 KB</td></tr>\n <tr><td><span class=\"folder\">qa</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">reference</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">referencelibrary</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">releasenotes</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">samplecode</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">technicalnotes</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">technicalqas</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">technotes</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">version.plist</span></td><td>File</td><td>0.44 KB</td></tr>\n <tr><td><span class=\"file\">iPhone SDK License.rtf</span></td><td>File</td><td>37.93 KB</td></tr>\n <tr><td><span class=\"folder\">Perl</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">wxPerl</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">INSTALL.pod</span></td><td>File</td><td>8.26 KB</td></tr>\n <tr><td><span class=\"file\">todo.txt</span></td><td>File</td><td>2.3 KB</td></tr>\n <tr><td><span class=\"folder\">Python</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">PyObjC</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">announcement.txt</span></td><td>File</td><td>2.33 KB</td></tr>\n <tr><td><span class=\"file\">api-notes-macosx.html</span></td><td>File</td><td>30.09 KB</td></tr>\n <tr><td><span class=\"file\">api-notes-macosx.txt</span></td><td>File</td><td>18.37 KB</td></tr>\n <tr><td><span class=\"file\">C-API.html</span></td><td>File</td><td>11 KB</td></tr>\n <tr><td><span class=\"file\">C-API.txt</span></td><td>File</td><td>8.67 KB</td></tr>\n <tr><td><span class=\"file\">coding-style.html</span></td><td>File</td><td>4.53 KB</td></tr>\n <tr><td><span class=\"file\">coding-style.txt</span></td><td>File</td><td>2.92 KB</td></tr>\n <tr><td><span class=\"file\">gnustep.html</span></td><td>File</td><td>1.96 KB</td></tr>\n <tr><td><span class=\"file\">gnustep.txt</span></td><td>File</td><td>1.52 KB</td></tr>\n <tr><td><span class=\"file\">index.html</span></td><td>File</td><td>2.75 KB</td></tr>\n <tr><td><span class=\"file\">index.txt</span></td><td>File</td><td>2.64 KB</td></tr>\n <tr><td><span class=\"file\">intro.html</span></td><td>File</td><td>44.82 KB</td></tr>\n <tr><td><span class=\"file\">intro.txt</span></td><td>File</td><td>38.38 KB</td></tr>\n <tr><td><span class=\"file\">protocols.html</span></td><td>File</td><td>3.48 KB</td></tr>\n <tr><td><span class=\"file\">protocols.txt</span></td><td>File</td><td>2.79 KB</td></tr>\n <tr><td><span class=\"file\">PyObjCTools.html</span></td><td>File</td><td>10.96 KB</td></tr>\n <tr><td><span class=\"file\">PyObjCTools.txt</span></td><td>File</td><td>7.9 KB</td></tr>\n <tr><td><span class=\"folder\">Quartz</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">api-notes.txt</span></td><td>File</td><td>1.47 KB</td></tr>\n <tr><td><span class=\"file\">release-process.html</span></td><td>File</td><td>3.83 KB</td></tr>\n <tr><td><span class=\"file\">release-process.txt</span></td><td>File</td><td>2.65 KB</td></tr>\n <tr><td><span class=\"file\">structure.html</span></td><td>File</td><td>6.55 KB</td></tr>\n <tr><td><span class=\"file\">structure.txt</span></td><td>File</td><td>5.1 KB</td></tr>\n <tr><td><span class=\"file\">TODO.html</span></td><td>File</td><td>13.49 KB</td></tr>\n <tr><td><span class=\"file\">TODO.txt</span></td><td>File</td><td>9.06 KB</td></tr>\n <tr><td><span class=\"folder\">tutorial</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">tutorial_embed</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">tutorial_reading.html</span></td><td>File</td><td>12.85 KB</td></tr>\n <tr><td><span class=\"file\">tutorial_reading.txt</span></td><td>File</td><td>11.12 KB</td></tr>\n <tr><td><span class=\"file\">website.lst</span></td><td>File</td><td>0.58 KB</td></tr>\n <tr><td><span class=\"file\">wrapping.html</span></td><td>File</td><td>6.04 KB</td></tr>\n <tr><td><span class=\"file\">wrapping.txt</span></td><td>File</td><td>5.2 KB</td></tr>\n <tr><td><span class=\"folder\">xcode</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Xcode-Templates.html</span></td><td>File</td><td>13.97 KB</td></tr>\n <tr><td><span class=\"folder\">wxPython</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">RubyCocoa</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"folder\">wxWidgets</span></td><td>Folder</td><td>--</td></tr>\n <tr><td><span class=\"file\">Xcode Tools License.rtf</span></td><td>File</td><td>18.79 KB</td></tr>\n </tbody>\n </table>\n\n <pre class=\"listing\">\n$(\"#example-advanced\").treetable({ expandable: true });\n\n// Highlight selected row\n$(\"#example-advanced tbody\").on(\"mousedown\", \"tr\", function() {\n $(\".selected\").not(this).removeClass(\"selected\");\n $(this).toggleClass(\"selected\");\n});\n\n// Drag &amp; Drop Example Code\n$(\"#example-advanced .file, #example-advanced .folder\").draggable({\n helper: \"clone\",\n opacity: .75,\n refreshPositions: true,\n revert: \"invalid\",\n revertDuration: 300,\n scroll: true\n});\n\n$(\"#example-advanced .folder\").each(function() {\n $(this).parents(\"#example-advanced tr\").droppable({\n accept: \".file, .folder\",\n drop: function(e, ui) {\n var droppedEl = ui.draggable.parents(\"tr\");\n $(\"#example-advanced\").treetable(\"move\", droppedEl.data(\"ttId\"), $(this).data(\"ttId\"));\n },\n hoverClass: \"accept\",\n over: function(e, ui) {\n var droppedEl = ui.draggable.parents(\"tr\");\n if(this != droppedEl[0] &amp;&amp; !$(this).is(\".expanded\")) {\n $(\"#example-advanced\").treetable(\"expandNode\", $(this).data(\"ttId\"));\n }\n }\n });\n});</pre>\n\n <h3>AJAX enabled D&amp;D example</h3>\n\n <p>See <a href=\"https://github.com/ludo/jquery-treetable-ajax-example\">https://github.com/ludo/jquery-treetable-ajax-example</a>.</p>\n\n <h3>Using treetable with PersistJS</h3>\n\n <p>See <a href=\"https://github.com/jughead/jquery-treetable-ajax-persist\">https://github.com/jughead/jquery-treetable-ajax-persist</a>.</p>\n </div>\n\n \n \n \n \n \n \n \n \n </div>"
    }, {
        "title": "micc83/editTable",
        "url": "https://github.com/micc83/editTable",
        "excerpt": "jQuery editTable is a very small jQuery Plugin (~1Kb gzipped) that fill the gap left by the missing of a default input field for data tables. jQuery editTable can be used both in ajax and/or HTTP&hellip;",
        "date_saved": "Thu Jul 28 20:08:23 EDT 2016",
        "html_file": "micc83edittable.html",
        "png_file": "micc83edittable.png",
        "md_file": "micc83edittable.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>jQuery editTable is a very small jQuery Plugin (~1Kb gzipped) that fill the gap left by the missing of a default <strong>input field for data tables</strong>. jQuery editTable can be used both in ajax and/or HTTP POST contest and let you preset the title and number of columns or just let complete freedom to the user. You can even append custom behaviors to single column cells (ex. <strong>jQuery UI Datepicker</strong>). The only limit is your imagination! :)</p>\n\n<p>To use it you just have to include jQuery and a copy of the plugin in your head or footer:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery.edittable.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"jquery.edittable.min.css\"&gt;\n</code></pre>\n\n<p>Now you can trigger editTable on any textarea or block element (ex. div, article, section ...). In case you trigger it on a textarea, its content will be used as JSON source for the table. If the textarea is inside a form, on submit, its content will be updated with the new JSON data. Otherwise, if you trigger it on a block element the table will be appended to the element itself (ajax).</p>\n\n<pre><code>var mytable = $('#edittable').editTable({\n data: [['']], // Fill the table with a js array (this is overridden by the textarea content if not empty)\n tableClass: 'inputtable', // Table class, for styling\n jsonData: false, // Fill the table with json data (this will override data property)\n headerCols: false, // Fix columns number and names (array of column names)\n maxRows: 999, // Max number of rows which can be added\n first_row: true, // First row should be highlighted?\n row_template: false, // An array of column types set in field_templates\n field_templates: false, // An array of custom field type objects\n\n // Validate fields\n validate_field: function (col_id, value, col_type, $element) {\n return true;\n }\n});\n</code></pre>\n\n<p>There are of course many methods which can be used on the created table. Let's see...</p>\n\n<pre><code>mytable.loadData(dataArray); // Fill the table with js data\nmytable.loadJsonData(jsonData); // Fill the table with JSON data\nmytable.getData(); // Get a js array of the table data\nmytable.getJsonData(); // Get JSON from the table data\nmytable.reset(); // Reset the table to the initial set of data\nmytable.isValidated() // Check if the table pass validation set with validate_field\n</code></pre>\n\n<p>To define a <strong>custom field type</strong> object:</p>\n\n<pre><code>[\n 'checkbox' : {\n\n html: '&lt;input type=\"checkbox\"&gt;', // Input type html\n\n // How to get the value from the custom input\n getValue: function (input) {\n return $(input).is(':checked');\n },\n\n // How to set the value of the custom input\n setValue: function (input, value) {\n if ( value ){\n return $(input).attr('checked', true);\n }\n return $(input).removeAttr('checked');\n }\n }\n]\n</code></pre>\n\n<p>That's it, now give a look to <a href=\"http://codeb.it/edittable/\">the examples</a> to understand how it works.</p>\n\n<h2><a id=\"user-content-credits-and-contacts\" class=\"anchor\" href=\"https://github.com/micc83/editTable#credits-and-contacts\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Credits and contacts</h2>\n\n<p>ReStable has been made by <a href=\"http://codeb.it\">me</a>. You can contact me at <a href=\"mailto:micc83@gmail.com\">micc83@gmail.com</a> or <a href=\"https://twitter.com/Micc1983\">twitter</a> for any issue or feauture request.</p>\n</article>\n </div>"
    }, {
        "title": "How to Create a Fullscreen Video Opening Animation",
        "url": "http://tympanus.net/codrops/2015/09/17/how-to-create-a-fullscreen-video-opening-animation/",
        "excerpt": "A tutorial on how to create a video opening animation inspired by the effect seen on momentsapp.com. View demo Download source In t",
        "date_saved": "Thu Jul 28 20:08:25 EDT 2016",
        "html_file": "how_to_create_a_fullscreen_video_opening_animation.html",
        "png_file": "how_to_create_a_fullscreen_video_opening_animation.png",
        "md_file": "how_to_create_a_fullscreen_video_opening_animation.md",
        "content": "<div><div class=\"ct-post-content\">\n\t\t\t\t\t\t\t\t<p class=\"ct-post-excerpt\">A tutorial on how to create a video opening animation inspired by the effect seen on momentsapp.com.</p>\t\t\t\t\t\t\t\t<div class=\"ct-ad-article-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"ct-ad-article\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"ct-ad-img\" src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/themes/codropstheme03/images/advertisement.jpg\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<p><a href=\"http://tympanus.net/Tutorials/VideoOpeningAnimation/\"><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_main.jpg\" alt=\"VideoOpeningAnimation_main\" width=\"580\" class=\"alignnone size-full wp-image-24591\"></a></p>\n<p><a class=\"demo\" href=\"http://tympanus.net/Tutorials/VideoOpeningAnimation/\">View demo</a> <a class=\"download\" href=\"http://tympanus.net/Tutorials/VideoOpeningAnimation/VideoOpeningAnimation.zip\">Download source</a></p>\n<p>In this in-depth tutorial we want to show you how to create a similar video opening effect to the one seen on <a href=\"http://momentsapp.com/\">momentsapp.com</a>. If you click the &#x201C;Watch the video&#x201D; button on the Moments App page, you will see a new image appearing on the photo stack which contains a video. The animation is a slight rotation of the frame and a subtle scaling of the video, which already starts to play. The whole wrapper expands to full screen without any play controls; just the closing cross will be shown. Once the video ends, or, if the user clicks on the closing cross, the video will simply disappear.</p>\n<p>We&#x2019;ll be using many interesting CSS properties, like <a href=\"http://tympanus.net/codrops/css_reference/animation/\">CSS animations</a>, <a href=\"http://tympanus.net/codrops/css_reference/length/#section_viewportlengths\">viewport-percentage lengths</a>, <a href=\"http://www.w3.org/TR/css3-mediaqueries/\">media queries</a> and the <a href=\"http://tympanus.net/codrops/css_reference/flexbox/\">Flexbox</a> layout mode, beside others. We&#x2019;ll also dive a bit into HTML5 video and some of its attributes and definitions.</p>\n<p><em>Note that most of these properties are supported in modern browsers only.</em></p>\n<p><strong>The images in the demo are by photographer <a href=\"https://pixabay.com/en/users/Herriest-98056/\">Herriest</a> and the video is from <a href=\"http://unripecontent.com/\">UnripeContent</a>, a great place to find lots of free footage from various categories.</strong></p>\n<p>Let&#x2019;s get down to business and start by planning the effect, write our markup and the JavaScript. Then we&#x2019;ll style everything and set up the animations that will give live to the whole effect. </p>\n<h2>Planning, Markup and JavaScript</h2>\n<p>We want to animate a wrapper that contains a video that also gets animated, so we&#x2019;ll need a nested structure with two wrappers for the video. The only control that we want to have is a close button which will also go into the same wrapper. The video will need to be in MP4 format for minimum support but we&#x2019;ll add multiple sources for support in various browsers. Read more about this topic in the <a href=\"https://en.wikipedia.org/wiki/HTML5_video\">Wikipedia entry on HTML5 video</a> and Pete LePage&#x2019;s insightful <a href=\"http://www.html5rocks.com/en/tutorials/video/basics/\">HTML5 Video</a> article on HTML5 Rocks. We&#x2019;ve used the handy <a href=\"https://cloudconvert.com/mp4-to-anything\">CloudConvert service</a> for converting our MP4 video into the required file formats (<em>WebM</em> and <em>Ogg</em>).</p>\n<p>The <em>poster</em> attribute value allows us to set an image that will be shown before the video loads. With the <em>preload</em> attribute value set to <strong>auto</strong>, we tell the browser that it&#x2019;s desirable to download the entire video optimistically, i.e. with the outlook on accomplishment. The sources for the different video file formats are listed inside the <code>video</code> element. When defining a source, we also set the <em>codec</em>; a <em>codec</em> encodes audio and video by turning a set of images into a compressed video stream or a set of audio samples into an audio stream and the other way around. The containers for video/audio stream combinations are the familiar file formats like MP4 (combines H.264 with AAC audio) or WebM (VP8 and Vorbis). These also have an identifying MIME type, like &#x201C;video/webm&#x201D;. For an in-depth explanation, check out <a href=\"http://tools.ietf.org/html/rfc6381\">The &#x2018;Codecs&#x2019; and &#x2018;Profiles&#x2019; Parameters for &#x201C;Bucket&#x201D; Media Types</a>.</p>\n<figure id=\"attachment_24573\" class=\"wp-caption alignnone\"><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_codec.jpg\" alt=\"Videocodec\" width=\"890\" class=\"size-full wp-image-24573\"><figcaption id=\"figcaption_attachment_24573\" class=\"wp-caption-text\">Using a program like the VLC media player, you can get useful information about the streams.</figcaption></figure>\n<p>Let&#x2019;s write the markup:</p>\n<pre class=\"brush:html\"><code>\n&lt;div class=\"video-wrap\"&gt;\n\t&lt;div class=\"video-inner\"&gt;\n\t\t&lt;video class=\"video-player\" src=\"media/woods.mp4\" poster=\"media/woods.jpg\" preload=\"auto\"&gt;\n\t\t\t&lt;source src=\"media/woods.webm\" type='video/webm; codecs=\"vp8.0, vorbis\"'&gt;\n\t\t\t&lt;source src=\"media/woods.ogg\" type='video/ogg; codecs=\"theora, vorbis\"'&gt;\n\t\t\t&lt;source src=\"media/woods.mp4\" type='video/mp4; codecs=\"avc1.4D401E, mp4a.40.2\"'&gt;\n\t\t\t&lt;p&gt;Sorry, but your browser does not support this video format.&lt;/p&gt;\n\t\t&lt;/video&gt;\n\t\t&lt;button class=\"action action--close\"&gt;\n\t\t\t&lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n\t\t\t&lt;span class=\"action__label action__label--hidden\"&gt;Close preview&lt;/span&gt;\n\t\t&lt;/button&gt;\n\t&lt;/div&gt;&lt;!-- /video-inner--&gt;\n&lt;/div&gt;&lt;!-- /video-wrap--&gt;\n\n&lt;div class=\"content\"&gt;\n\t&lt;div class=\"loader\"&gt;\n\t\t&lt;i class=\"fa fa-spinner fa-pulse\"&gt;&lt;/i&gt;\n\t&lt;/div&gt;\n\t&lt;button class=\"action action--hidden action--play\"&gt;\n\t\t&lt;i class=\"fa fa-play\"&gt;&lt;/i&gt;&lt;span class=\"action__label\"&gt;Watch the video&lt;/span&gt;\n\t&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>We&#x2019;ll also add a play button that will serve as our trigger for the opening animation and playing the video. As you can see, we are using the <a href=\"http://fortawesome.github.io/Font-Awesome/\">Font Awesome icon font</a> here (class <strong>fa</strong>). </p>\n<p>When we click on that play button, we will add the class <strong>video-wrap&#x2013;show</strong> to the <strong>video-wrap</strong> division. This will allow us to control the effect on a class-basis by using CSS animations and transitions. Once we click on the closing cross, we will remove that class and add <strong>video-wrap&#x2013;hide</strong> instead. Like that, we can define an alternative closing behavior with a different animation. </p>\n<p>Our aim is to control all the effect using mostly CSS; adding the classes and controlling the playing of the video will be our script&#x2019;s job.</p>\n<p>So let&#x2019;s sum up what we need to do in order to achieve what we want:</p>\n<ul>\n<li>The video will take some time to load, so we&#x2019;ll need to make sure that we don&#x2019;t allow opening the video if it&#x2019;s not ready yet. We can do that by adding the control class <strong>video-loaded</strong> to the body once the video is loaded. This will allow us to control the visibility of the loader element and the play button.</li>\n<li>When we click on the play button, we want the animation to start. By adding the class <strong>video-wrap&#x2013;show</strong> to our video wrapper, we trigger the animation, and we start playing the video a bit later.</li>\n<li>When the video reaches the end or when we click on the closing cross, we&#x2019;ll add the class <strong>video-wrap&#x2013;hide</strong> to play our alternate closing animation.</li>\n<li>We pause the video if it hasn&#x2019;t ended and we set it to the beginning if we open it (again).</li>\n</ul>\n<p>Let&#x2019;s write the JavaScript, implementing all the control behavior we have defined before:</p>\n<pre class=\"brush:js\"><code>;( function() {\n\t\n\t'use strict';\n\n\tvar bodyEl = document.body,\n\t\tvideoWrap = document.querySelector('.video-wrap'),\n\t\tvideoEl = videoWrap.querySelector('video'),\n\t\tplayCtrl = document.querySelector('.action--play'),\n\t\tcloseCtrl = document.querySelector('.action--close');\n\n\tfunction init() {\n\t\tinitEvents();\n\t}\n\n\tfunction initEvents() {\n\t\tplayCtrl.addEventListener('click', play);\n\t\tcloseCtrl.addEventListener('click', hide);\n\t\tvideoEl.addEventListener('canplaythrough', allowPlay);\n\t\tvideoEl.addEventListener('ended', hide);\n\t}\n\n\tfunction allowPlay() {\n\t\tclassie.add(bodyEl, 'video-loaded');\n\t}\n\n\tfunction play() {\n\t\tvideoEl.currentTime = 0;\n\t\tclassie.remove(videoWrap, 'video-wrap--hide');\n\t\tclassie.add(videoWrap, 'video-wrap--show');\n\t\tsetTimeout(function() {videoEl.play();}, 600);\n\t}\n\n\tfunction hide() {\n\t\tclassie.remove(videoWrap, 'video-wrap--show');\n\t\tclassie.add(videoWrap, 'video-wrap--hide');\n\t\tvideoEl.pause();\n\t}\n\n\tinit();\n\n})();\n</code></pre>\n<p>Quite straightforward, right? :) The beauty of having the functionality class-controlled is that we can now define the behavior in an interconnected way in our stylesheet. This has many advantages when it comes to managing an effect. But it&#x2019;s a matter of preference and requirements; if you have many complex interactions going on, you might be better off defining most or all the behavior (animations, transitions or visibility) in your JavaScript. But we want to dive into CSS today and explore some exciting properties that will hopefully help you with some other challenges during your development work.</p>\n<div class=\"ct-ad-article-wrapper ct-ad-article-wrapper-in\"><div class=\"ct-ad-article\"><img class=\"ct-ad-img\" src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/themes/codropstheme03/images/advertisement.jpg\"></div></div>\n<p>The effect from the Moments App website is great for examining and utilizing some exciting techniques, so let&#x2019;s dive into the CSS!</p>\n<h2>The CSS</h2>\n<p>Let&#x2019;s bring everything to life with our style definitions. We&#x2019;ll focus on the styles that are important for the effect only, but you can check out the resting styles for the page in the <em>style.css</em> file that is located in the <em>css</em> folder. </p>\n<p>Let&#x2019;s start by setting the <a href=\"http://tympanus.net/codrops/css_reference/box-sizing/\">box-sizing</a> to <strong>border-box</strong> for all elements. This box model is the preferred choice among developers because it has the advantage of allowing to define sizes <em>including</em> borders and paddings:</p>\n<pre class=\"brush:html\"><code>*,\n*:after,\n*:before {\n\t-webkit-box-sizing: border-box;\n\tbox-sizing: border-box;\n}</code></pre>\n<p>Let&#x2019;s define the body and link styles:</p>\n<pre class=\"brush:css\"><code>body {\n\tfont-family: 'Avenir Next', 'Helvetica Neue', 'Lato', 'Segoe UI', Helvetica, Arial, sans-serif;\n\tcolor: #fff;\n\tbackground: #333 url(../media/woods.jpg) no-repeat center center;\n\tbackground-size: cover;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: #d9ecc9;\n\toutline: none;\n}\n\na:hover,\na:focus {\n\tcolor: #fff;\n}\n</code></pre>\n<p>You don&#x2019;t need to set the font-smoothing properties, but we choose to do so here as it makes the fonts crisp on Mac and prevents some jiggling in Firefox. </p>\n<p>Next, we need to set the styles for our main page container that wraps everything. Using <a href=\"http://tympanus.net/codrops/css_reference/length/#section_viewportlengths\">viewport-percentage lengths</a>, we set its dimensions to span over the whole viewport and hide any overflow. <em>How do we want the elements inside of the container to be laid out?</em> Since we are using a fixed 100% height, we want the elements to be spread in one column, which is centered on the screen. What a pain this would be without the fantastic <a href=\"http://tympanus.net/codrops/css_reference/flexbox/\">Flexbox</a> layout mode :) Let&#x2019;s make extensive use of it and define exactly what we want: </p>\n<pre class=\"brush:css\"><code>.container {\n\twidth: 100vw;\n\theight: 100vh;\n\tborder: 20px solid #fff;\n\tposition: relative;\n\toverflow: hidden;\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n\t-webkit-flex-direction: column;\n\tflex-direction: column;\n\t-webkit-justify-content: space-around;\n\tjustify-content: space-around;\n\t-webkit-align-items: center;\n\talign-items: center;\n}\n</code></pre>\n<p>We set the display to <strong>flex</strong> and the flex-direction property to <strong>column</strong>. Justifying the content with <strong>space-around</strong> and aligning the items using <strong>center</strong> will give us the elastic layout we want. Try resizing your browser window to see how the elements will be laid out depending on how much space is available.</p>\n<p>Let&#x2019;s take care of that main video wrapper. Now, before we start styling away, let&#x2019;s reflect on some possible scenarios and what we need to consider so that things don&#x2019;t break. We need to cover every possible case (or at least the most important ones, leaving out devices like tiny watches). Considering the case of a smartphone or small device, we want to avoid too much fanciness and we have to consider native behavior (which might just throw our entire effect overboard, like it is the case for iOS). </p>\n<p>So we want our effect to only animate entirely for larger screens and we don&#x2019;t want to do anything too elaborate for tiny screens (we just want to show the video wrapper). We make use of media queries of which we will have two: one for defining the whole effect for screens bigger than 25em, and one for defining some styles differently according to the aspect ratio of the screen. Our reference aspect ratio is the video itself: with a size of 1280 &#xD7; 720, we have an aspect ratio of 1280/720, or 16/9. Since we want to make sure that the video covers the whole screen, we need to distinguish between the &#x201C;vertical&#x201D; and the &#x201C;horizontal&#x201D; case. One will use the width of the video to cover the screen and one will take the height. But more on that later.</p>\n<p>The &#x201C;default&#x201D; styles without the main animation effect will be defined first, and then we&#x2019;ll add everything else we need to our media queries.</p>\n<p>The main wrapper will be a fixed element that will take up all the width and height available. We&#x2019;ll use flexbox to center the inner container, so let&#x2019;s define the necessary properties:</p>\n<pre class=\"brush:css\"><code>.video-wrap {\n\tposition: fixed;\n\tz-index: 1000;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n\t-webkit-align-items: center;\n\talign-items: center;\n}\n</code></pre>\n<p>We set the z-index value of the element very high so that it&#x2019;s on top of everything else, but we don&#x2019;t want it to be clickable when the inner parts are hidden. Using <strong>pointer-events: none</strong> will make the wrapper &#x201C;untouchable&#x201D; and invisible to interaction but be careful when using this, <a href=\"http://caniuse.com/#feat=pointer-events\">support is limited</a>. You can achieve a similar behavior by using <em>visibility</em>, though. If you are interested in how that works, check out this short post of our <a href=\"http://tympanus.net/codrops/2014/02/06/fullscreen-overlay-effects/\">Fullscreen Overlay Effects</a>. </p>\n<p>When we show the video, we will set the pointer-events to <em>auto</em>:</p>\n<pre class=\"brush:css\"><code>.video-wrap--show {\n\tpointer-events: auto;\n}\n</code></pre>\n<p>While the main video wrapper serves as a layout container, the <strong>video-inner</strong> division and the video itself are our crucial main players. Let&#x2019;s set the base styles for the <strong>video-inner</strong> div:</p>\n<pre class=\"brush:css\"><code>.video-inner {\n\tposition: relative;\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0 auto;\n\topacity: 0;\n\tbackground: black;\n}\n</code></pre>\n<p>Here we set the width and height to 100% because no expansion or fancy effect will happen for the base case of small devices.</p>\n<pre class=\"brush:css\"><code>.video-wrap--show .video-inner {\n\topacity: 1;\n}\n</code></pre>\n<p>Adding our &#x201C;show&#x201D; class will simply trigger the visibility of the inner division.</p>\n<p>The video element itself will be positioned absolutely and centered by setting the top to 50% and a transform to &#x201C;pull&#x201D; it back up half of its own height:</p>\n<pre class=\"brush:css\"><code>.video-player {\n\tposition: absolute;\n\ttop: 50%;\n\twidth: 100%;\n\t-webkit-transform: translate3d(0,-50%,0);\n\ttransform: translate3d(0,-50%,0);\n}\n</code></pre>\n<p>These are the base styles that will allow to show the main video wrapper and to look like this for small screens:</p>\n<p><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_screen_base.jpg\" alt=\"VideoOpeningAnimation_screen_base\" width=\"398\" class=\"alignnone size-full wp-image-24576\"></p>\n<p>Remember, the styles for the main effect will be defined in two media queries later on.</p>\n<p>Let&#x2019;s style the loader and action buttons (play and close). The loader and play button will be placed in a division with the class <strong>content</strong> which needs relative positioning. Why? We want the loader to be positioned absolutely in the same place of the play button so that we can switch both with a transition:</p>\n<pre class=\"brush:css\"><code>.content {\n\tposition: relative;\n}\n\n/* Loader */\n.loader {\n\tfont-size: 2.5em;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\t-webkit-transform: translate3d(-50%,-50%,0);\n\ttransform: translate3d(-50%,-50%,0);\n}\n\n.video-loaded .loader {\n\topacity: 0;\n\tpointer-events: none;\n\t-webkit-transition: opacity 0.3s;\n\ttransition: opacity 0.3s;\n}\n</code></pre>\n<p>The buttons that are actions will get the class <strong>action</strong> and we will define some common styles:</p>\n<pre class=\"brush:css\"><code>.action {\n\tfont-family: 'Avenir Next', 'Helvetica Neue', 'Lato', 'Segoe UI', Helvetica, Arial, sans-serif;\n\tfont-size: 1.15em;\n\tfont-weight: bold;\n\tposition: relative;\n\toverflow: hidden;\n\tmargin: 0;\n\tpadding: 1em 2em;\n\tcolor: #fff;\n\tborder: 2px solid;\n\tborder-radius: 40px;\n\tbackground: none;\n\t-webkit-flex: none;\n\tflex: none;\n}\n\n.action:focus {\n\toutline: none;\n}\n</code></pre>\n<p>Setting the flex property value to <em>none</em> will make sure that our button doesn&#x2019;t get squeezed when things get tight. </p>\n<p>We remove the outline on focus. <em>(Note: Yes, it&#x2019;s an absolute sin to do this but I consider it an absolute no-brainer that <strong>you should provide an appropriate focus style for maintaining good accessibility</strong> but when creating demos for Codrops, I want the UI to be impeccable for the sake of being able to concentrate solely on the effect in question; in my opinion, the :focus style breaks this by changing the style on click in a permanent way.)</em></p>\n<p>The action label or text will be set to inline and when we don&#x2019;t want to show the label but keep it screen reader accessible, we can hide it by setting its position to absolute and the top value to 200%. Note that we need to set the parent&#x2019;s overflow value to <em>hidden</em> for this to work. </p>\n<pre class=\"brush:css\"><code>.action__label {\n\tdisplay: inline-block;\n\tmargin: 0 0 0 0.75em;\n}\n\n.action__label--hidden {\n\tposition: absolute;\n\ttop: 200%;\n}\n</code></pre>\n<p>The play button will be invisible initially, and then, when the video is loaded and we add the <strong>video-loaded</strong> class to the body, we show it: </p>\n<pre class=\"brush:css\"><code>.action--play {\n\tdisplay: block;\n\tmargin: 1em auto;\n\topacity: 0;\n\tpointer-events: none;\n\t-webkit-transition: opacity 0.3s 0.1s;\n\ttransition: opacity 0.3s 0.1s;\n}\n\n.video-loaded .action--play {\n\topacity: 1;\n\tpointer-events: auto;\n}\n</code></pre>\n<p><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_screen12.jpg\" alt=\"VideoOpeningAnimation_screen1\" width=\"890\" class=\"alignnone size-full wp-image-24587\"></p>\n<p>The closing button which is placed in our inner video wrapper, will be shown using a transition on its opacity and scale transform. This transition will have a delay when we open the video wrapper, but none when we close it:</p>\n<pre class=\"brush:css\"><code>.action--close {\n\tline-height: 1;\n\tposition: absolute;\n\tz-index: 1000;\n\ttop: 30px;\n\tright: 30px;\n\twidth: 60px;\n\theight: 60px;\n\tpadding: 0;\n\topacity: 0;\n\t-webkit-transition: -webkit-transform 0.3s, opacity 0.3s;\n\ttransition: transform 0.3s, opacity 0.3s;\n\t-webkit-transform: scale3d(0.7,0.7,1);\n\ttransform: scale3d(0.7,0.7,1);\n}\n\n.video-wrap--show .action--close {\n\topacity: 1;\n\t-webkit-transition-delay: 1.2s;\n\ttransition-delay: 1.2s;\n\t-webkit-transform: scale3d(1,1,1);\n\ttransform: scale3d(1,1,1);\n}\n</code></pre>\n<p>Now we are getting to the heart of our styles. </p>\n<p>For screens that are at least 25em in width, we want the expanding animation to take effect. So first we need to set the inner video wrapper to the right size. For the &#x201C;vertical&#x201D; case we will use the viewport width as a base measure to size our inner container. We do that so that we have a similar size to the decorative polaroid images which also have a dynamic width and height depending on the aspect ratio. </p>\n<p>Once we set the main wrapper&#x2019;s class to <strong>video-wrap&#x2013;show</strong>, we play the animation <strong>showVideo-1</strong>. When we close it, we will use the animation <strong>hideVideo</strong>. We&#x2019;ll have a more detailed look at the animations later on. </p>\n<p>The inner video wrapper will be slightly rotated and scaled down initially. You could also set these properties in the 0% keyframe but you can save yourself the repetition and just define the initial state in the class declaration. </p>\n<p>The video element will take up all the viewport height for this default &#x201C;vertical case&#x201D; (in the next media query we will switch that) and let the width be defined automatically. It will also be transformed; first, to be centered with the &#x201C;translate -50%&#x201D; technique, then scaled and rotated in the opposite direction to compensate the rotation of the parent slightly. We don&#x2019;t want to rotate it too much, as we don&#x2019;t want any edges to show here. Make sure to play around with these transforms to see how you can achieve other interesting effects.</p>\n<p>When we show the main wrapper, we will change the video element&#x2019;s transform (we&#x2019;ll still keep it centered, though) and make sure that it&#x2019;s also in that state when we close it. When we hide everything, we simply want to fade out the wrapper without animating it back. When closing things and making them disappear always think of the fastest elegant way to do it; remember that the user has decided to get rid of whatever is being closed, so making it easy and more fast can be desirable in cases like these.</p>\n<pre class=\"brush:css\"><code>@media screen and (min-width: 25em) {\n\t.video-inner {\n\t\twidth: 30vw;\n\t\theight: 30vw;\n\t\tborder: 20px solid #fff;\n\t\t-webkit-transform: scale3d(0.1,0.1,1) rotate3d(0,0,1,-5deg);\n\t\ttransform: scale3d(0.1,0.1,1) rotate3d(0,0,1,-5deg);\n\t}\n\t.video-wrap--show .video-inner {\n\t\topacity: 0;\n\t\t-webkit-animation: showVideo-1 1.25s forwards;\n\t\tanimation: showVideo-1 1.25s forwards;\n\t}\n\t.video-wrap--hide .video-inner {\n\t\t-webkit-animation: hideVideo 1.25s forwards;\n\t\tanimation: hideVideo 1.25s forwards;\n\t}\n\t.video-player {\n\t\tleft: 50%;\n\t\twidth: auto;\n\t\theight: 100vh;\n\t\t-webkit-transition: -webkit-transform 1s;\n\t\ttransition: transform 1s;\n\t\t-webkit-transform: translate3d(-50%,-50%,0) scale3d(0.7,0.7,1) rotate3d(0,0,1,5deg);\n\t\ttransform: translate3d(-50%,-50%,0) scale3d(0.7,0.7,1) rotate3d(0,0,1,5deg);\n\t}\n\t.video-wrap--show .video-player,\n\t.video-wrap--hide .video-player {\n\t\t-webkit-transform: translate3d(-50%,-50%,0) scale3d(1,1,1);\n\t\ttransform: translate3d(-50%,-50%,0) scale3d(1,1,1);\n\t}\n}\n</code></pre>\n<p><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_screen2.jpg\" alt=\"VideoOpeningAnimation_screen2\" width=\"890\" class=\"alignnone size-full wp-image-24575\"></p>\n<p>The second media query is for the &#x201C;horizontal&#x201D; case, i.e. the case that we know will make the video cover the whole screen by setting the width to the full viewport width. We take the values of the video&#x2019;s width and height to define the minimum aspect ratio, which is the same as 16/9.</p>\n<p>We size our inner wrapper to <em>30vh</em> initially, and the video itself will take up all the width of the screen while leaving the height to <em>auto</em>. </p>\n<pre class=\"brush:css\"><code>@media screen and (min-width: 25em) and (min-aspect-ratio: 1280/720) {\n\t.video-inner {\n\t\twidth: 30vh;\n\t\theight: 30vh;\n\t}\n\t.video-wrap--show .video-inner {\n\t\t-webkit-animation: showVideo-2 1.25s forwards;\n\t\tanimation: showVideo-2 1.25s forwards;\n\t}\n\t.video-player {\n\t\twidth: 100vw;\n\t\theight: auto;\n\t}\n}\n</code></pre>\n<p>Just a side note on formatting the CSS: you might have noticed that we don&#x2019;t use a new line between rules in media queries; this turns out to be really useful because you <em>know</em> that you are inside of a media query when editing your styles. Not a big amazing thing, but sometimes it can speed things up and ease locating something. </p>\n<p>Let&#x2019;s define the animations! </p>\n<p><em>You might wonder why we are using the WebKit prefix for transitions and animations. Animations still <a href=\"http://caniuse.com/#search=animation\">need the prefix</a> for Safari (8), iOS Safari (8.4) and Android (40) in order to work and <a href=\"http://caniuse.com/#search=transition\">transitions</a> for some older Android browsers.</em></p>\n<p>The first animation is for expanding the inner video wrapper for the vertical case where we take the viewport width as base measure. You don&#x2019;t need to distinguish these two cases for the inner wrapper if you have a fixed initial size. But since we want a dynamic size depending on the ratio (and because we want to show you how to abuse the relative viewport units) we define two different opening animations. </p>\n<p><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_screen31.jpg\" alt=\"VideoOpeningAnimation_screen3\" width=\"890\" class=\"alignnone size-full wp-image-24586\"></p>\n<p>Considering the initial state of the inner wrapper, we now animate its dimensions to half of the viewport width and set the opacity to 1. We scale it up a bit but keep the rotation value. Then we animate to fullscreen, using 100vw for the width and 100vh for the height. The transforms will be &#x201C;unset&#x201D;: </p>\n<pre class=\"brush:css\"><code>@-webkit-keyframes showVideo-1 {\n\t50% {\n\t\twidth: 50vw;\n\t\theight: 50vw;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t\ttransform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n\n@keyframes showVideo-1 {\n\t50% {\n\t\twidth: 50vw;\n\t\theight: 50vw;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t\ttransform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n</code></pre>\n<p>The other animation is exactly the same, we just use the viewport height as base measure and so we need to set the 50% keyframe width and height to 50vh.</p>\n<pre class=\"brush:css\"><code>@-webkit-keyframes showVideo-2 {\n\t50% {\n\t\twidth: 50vh;\n\t\theight: 50vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t\ttransform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n\n@keyframes showVideo-2 {\n\t50% {\n\t\twidth: 50vh;\n\t\theight: 50vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t\ttransform: scale3d(0.5,0.5,1) rotate3d(0,0,1,-5deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n</code></pre>\n<p>Notice, how we add the actual reset transform with the scale3d and the rotate3d. You could as well simply write one of the transform types but this is a troublemaker for browsers like FF. It&#x2019;s a good idea to thoroughly test each case if you&#x2019;d like to simplify it.</p>\n<p><img src=\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/07/VideoOpeningAnimation_screen4.jpg\" alt=\"VideoOpeningAnimation_screen4\" width=\"890\" class=\"alignnone size-full wp-image-24572\"></p>\n<p>Last, but not least, we define the animation for hiding the whole thing. Remember that we&#x2019;ve already taken care of hiding the video element itself in the first media query. For the video wrapper animation we set the first and last keyframe to be the same except for the opacity. Like that we are simply fading out the video wrapper. </p>\n<pre class=\"brush:css\"><code>@-webkit-keyframes hideVideo {\n\t0% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 0;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n\n@keyframes hideVideo {\n\t0% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 1;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n\t100% {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\topacity: 0;\n\t\t-webkit-transform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t\ttransform: scale3d(1,1,1) rotate3d(0,0,1,0deg);\n\t}\n}\n</code></pre>\n<p>This syntax looks like we could simplify it, right? It should be possible to define the 0% and 100% keyframe in one definition and then set the different properties in single keyframes, but this does not seem to work well in IE, unfortunately. Also, placing the animations into the media query definitions will bring you into hell&#x2019;s kitchen in IE10 and IE11: they simply won&#x2019;t work. Read more about this problem in this article by Karen Menezes: <a href=\"http://blog.karenmenezes.com/2014/dec/26/ie-bug-keyframe-animations/\">IE bug: keyframe animations inside a media query block</a>.</p>\n<p>These are all the styles for the effect. Make sure to play around with the transforms and the animations. For example, you could set a nice timing function or rotate differently, or even rotate in perspective; there are many possibilities&#x2014;imagination is all you need :)</p>\n<p><strong>We hope you enjoyed this tutorial and find it useful! Thank you for reading!</strong></p>\n\n<p><a class=\"demo\" href=\"http://tympanus.net/Tutorials/VideoOpeningAnimation/\">View demo</a> <a class=\"download\" href=\"http://tympanus.net/Tutorials/VideoOpeningAnimation/VideoOpeningAnimation.zip\">Download source</a></p>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>"
    }, {
        "title": "jmschrei/pomegranate",
        "url": "https://github.com/jmschrei/pomegranate",
        "excerpt": "pomegranate is a package for graphical models and Bayesian statistics for Python, implemented in cython. It grew out of the YAHMM package, where many of the components used could be rearranged to do&hellip;",
        "date_saved": "Thu Jul 28 20:08:26 EDT 2016",
        "html_file": "jmschreipomegranate.html",
        "png_file": "jmschreipomegranate.png",
        "md_file": "jmschreipomegranate.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>pomegranate is a package for graphical models and Bayesian statistics for Python, implemented in cython. It grew out of the <a href=\"https://github.com/jmschrei/yahmm\">YAHMM</a> package, where many of the components used could be rearranged to do other cool things. It currently supports:</p>\n\n<ul class=\"task-list\">\n<li>Probability Distributions</li>\n<li>Finite State Machines</li>\n<li>Hidden Markov Models</li>\n<li>Discrete Bayesian Networks</li>\n</ul>\n\n<h2>\n<a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#installation\"></a>Installation</h2>\n\n<p>I am currently having issues getting pomgranate to be pip installable, stemming from the use of multiple cython files. If anyone knows the fix, please submit a working pull request and I will send you a picture of a pomegranate and other assorted fruit of varying deliciousness.</p>\n\n<p>However, cloning the repo or downloading the zip and manually moving the files into your site-packages folder does work.</p>\n\n<h2>\n<a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#contributing\"></a>Contributing</h2>\n\n<p>If you would like to contribute a feature then fork the master branch (fork the release if you are fixing a bug). Be sure to run the tests before changing any code. You'll need to have <a href=\"https://github.com/nose-devs/nose\">nosetests</a> installed. The following command will run all the tests:</p>\n\n<pre><code>nosetests -w tests/\n</code></pre>\n\n<p>Let us know what you want to do just in case we're already working on an implementation of something similar. This way we can avoid any needless duplication of effort. Also, please don't forget to add tests for any new functions. </p>\n\n<h2>\n<a id=\"user-content-tutorial\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#tutorial\"></a>Tutorial</h2>\n\n<h3>\n<a id=\"user-content-probability-distributions\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#probability-distributions\"></a>Probability Distributions</h3>\n\n<p>The emission distributions used later on for the other models can be used independently. This is useful if you want to calculate the probability of some data given a distribution, or had to fit a distribution to some given data. pomegranate offers a simple solution, which is an extensible library of distributions and kernel densities natively built in.</p>\n\n<pre><code>from pomegranate import *\n\na = NormalDistribution( 5, 2 )\nb = TriangleKernelDensity( [1,5,2,3,4], weights=[4,2,6,3,1] )\nc = MixtureDistribution( [ NormalDistribution( 2, 4 ), ExponentialDistribution( 8 ) ], weights=[1, 0.01] )\n\nprint a.log_probability( 8 )\nprint b.log_probability( 8 )\nprint c.log_probability( 8 )\n</code></pre>\n\n<p>This should return -2.737, -inf, and -3.44 respectively. </p>\n\n<p>We can also update these distributions using Maximum Likelihood Estimates for the new values. Kernel densities will discard previous points and add in the new points, while MixtureDistributions will perform expectation-maximization to update the mixture of distributions.</p>\n\n<pre><code>c.from_sample([1, 5, 7, 3, 2, 4, 3, 5, 7, 8, 2, 4, 6, 7, 2, 4, 5, 1, 3, 2, 1])\nprint c\n</code></pre>\n\n<p>This should result in <code>MixtureDistribution( [NormalDistribution(3.916, 2.132), ExponentialDistribution(0.99955)], [0.9961, 0.00386] )</code>. All distributions can be trained either as a batch using <code>from_sample</code>, or using summary statistics using <code>summarize</code> on lists of numbers until all numbers have been fed in, and then <code>from_summaries</code> like in the following example which produces the same result:</p>\n\n<pre><code>c = MixtureDistribution( [ NormalDistribution( 2, 4 ), ExponentialDistribution( 8 ) ], weights=[1, 0.01] )\nc.summarize([1, 5, 7, 3, 2, 4, 3])\nc.summarize([5, 7, 8])\nc.summarize([2, 4, 6, 7, 2, 4, 5, 1, 3, 2, 1])\nc.from_summaries()\n</code></pre>\n\n<p>In addition, training can be done on weighted samples by passing an array of weights in along with the data for any of the training functions, such as <code>c.summarize([5,7,8], weights=[1,2,3])</code>. Training can also be done with inertia, where the new value will be some percentage the old value and some percentage the new value, used like <code>c.from_sample([5,7,8], inertia=0.5)</code> to indicate a 50-50 split between old and new values. </p>\n\n<h3>\n<a id=\"user-content-finite-state-machines\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#finite-state-machines\"></a>Finite State Machines</h3>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Finite-state_machine\">Finite state machines</a> are computational machines which can be in one of many states. The machine can be defined as a graphical model where the states are the states of the machine, and the edges define the transitions from each state to the other states in the machine. As the machine receives data, the state which it is in changes in a greedy fashion. Since the machine can be in only one state at a time and is memoryless, it is extremely useful. A classic example is a vending machine, which takes in coins and when it reaches the specified amount, will reset and dispense an item.</p>\n\n<pre><code>from pomegranate import *\n\n# Create the states in the same way as you would an HMM\na = State( DiscreteDistribution({ 0 : 1.0 }), name=\"0\" )\nb = State( DiscreteDistribution({ 5 : 1.0 }), name=\"5\" )\nc = State( DiscreteDistribution({ 5 : 1.0 }), name=\"10a\" )\nd = State( DiscreteDistribution({ 5 : 1.0 }), name=\"15a\" )\ne = State( DiscreteDistribution({ 10 : 1.0 }), name=\"10b\" )\nf = State( DiscreteDistribution({ 10 : 1.0 }), name=\"15b\" )\n\n# Create a FiniteStateMachine object \nmodel = FiniteStateMachine( \"Vending Machine\", start=a )\n\n# Add the states to the machine\nmodel.add_states( [a, b, c, d, e, f] )\n\n# Connect the states according to possible transitions\nmodel.add_transition( a, b, 0.33 )\nmodel.add_transition( a, a, 0.33 )\nmodel.add_transition( a, e, 0.33 )\nmodel.add_transition( b, c, 0.5 )\nmodel.add_transition( b, f, 0.5 )\nmodel.add_transition( c, e, 1.0 )\nmodel.add_transition( d, a, 1.0 )\nmodel.add_transition( e, d, 0.5 )\nmodel.add_transition( e, f, 0.5 )\nmodel.add_transition( f, a, 1.0 )\n\n# Bake the model in the same way\nmodel.bake( merge=False )\n</code></pre>\n\n<p>In the above example, the states are the value of the new coin added. We can either add three nickles, or a nickle and a dime, or a dime and a nickle. Each states name is the cumulative amount, and emission is the value of the new coin. When it reaches 15, it will reset by seeing a 0 value coin. For example:</p>\n\n<pre><code># Take a sequence of coins to add to the model\nseq = [ 5, 5, 5 ]\n\n# Print out where you start in the model\nprint \"Start\", model.current_state.name\n\n# Print out where the model is for each step\nfor symbol in seq:\n model.step( symbol )\n print symbol, model.current_state.name\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Start 0\n5 5\n5 10a\n5 15a\n</code></pre>\n\n<p>As we add nickles, we the machine progresses to new states until it reaches 15, which is what we want in this example. We can return to the beginning of the machine from there by appending a 0 to the list, as follows:</p>\n\n<pre><code># Take a sequence of coins to add to the model\nseq = [ 5, 5, 5 ]\n\n# Print out where you start in the model\nprint \"Start\", model.current_state.name\n\n# Print out where the model is for each step\nfor symbol in seq:\n model.step( symbol )\n print symbol, model.current_state.name\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Start 0\n5 5\n5 10a\n5 15a\n0 0\n</code></pre>\n\n<p>We could also have a dime in there.</p>\n\n<pre><code># Take a sequence of coins to add to the model\nseq = [ 10, 5, 0 ]\n\n# Print out where you start in the model\nprint \"Start\", model.current_state.name\n\n# Print out where the model is for each step\nfor symbol in seq:\n model.step( symbol )\n print symbol, model.current_state.name\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Start 0\n10 10a\n5 15b\n0 0\n</code></pre>\n\n<p>Presumably the action of dispensing the drink would accompany the machine being in state 15a or 15b, but that's up to the application on top of the state machine.</p>\n\n<h3>\n<a id=\"user-content-hidden-markov-models\" class=\"anchor\" href=\"https://github.com/jmschrei/pomegranate#hidden-markov-models\"></a>Hidden Markov Models</h3>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Hidden_Markov_model\">Hidden Markov models</a> are a form of structured learning, in which a sequence of observations are labelled according to the hidden state they belong. HMMs can be thought of as non-greedy FSMs, in that the assignment of tags is done in a globally optimal way as opposed to being simply the best at the next step. HMMs have been used extensively in speech recognition and bioinformatics, where speech is a sequence of phonemes and DNA is a sequence of nucleotides. </p>\n\n<p>Lets model the situation in which you are betting on the outcome of a person flipping a coin. You know that they have a fair coin, and a weighted coin which will usually land heads-up. You also know that it is difficult for them to swap the coins with you watching, and so you can't simply believe that every time the coin lands heads up, he has swapped it, especially with a 50% chance of landing heads up normally. Lets compare the FSM and HMM analysis of this situation</p>\n\n<pre><code>from pomegranate import *\n\nfair = State( DiscreteDistribution({ 'H' : 0.5, 'T' : 0.5 }), \"fair\" )\nunfair = State( DiscreteDistribution({ 'H' : 0.75, 'T' : 0.25 }), \"unfair\" )\n\n# Transition Probabilities\nstay_same = 0.75\nchange = 1. - stay_same\n\n# Create the HiddenMarkovModel instance and add the states\nhmm = HiddenMarkovModel( \"HT\" )\nhmm.add_states([fair, unfair])\n\n# We don't know which coin he chose to start off with\nhmm.add_transition( hmm.start, fair, 0.5 )\nhmm.add_transition( hmm.start, unfair, 0.5 )\n\n# However, we do know it's hard for him to switch\nhmm.add_transition( fair, fair, stay_same )\nhmm.add_transition( fair, unfair, change )\n\nhmm.add_transition( unfair, unfair, stay_same )\nhmm.add_transition( unfair, fair, change )\n\nhmm.bake()\n\n\n# Create the FiniteStateMachine instance and add the states\nfsm = FiniteStateMachine( \"HT\" )\nfsm.add_states([fair, unfair])\n\n# We don't know which coin he chose to start off with\nfsm.add_transition( fsm.start, fair, 0.5 )\nfsm.add_transition( fsm.start, unfair, 0.5 )\n\nfsm.add_transition( fair, fair, stay_same )\nfsm.add_transition( fair, unfair, change )\n\nfsm.add_transition( unfair, unfair, stay_same )\nfsm.add_transition( unfair, fair, change )\n\nfsm.bake()\n</code></pre>\n\n<p>Now we can run a sequence of observations through each model.</p>\n\n<pre><code>sequence = [ 'H', 'H', 'T', 'T', 'H', 'T', 'H', 'T', 'H', 'H', 'H', 'H', 'H', 'H', 'H', 'H', 'T', 'T', 'H' ]\n\nprint \"HMM Path\"\nprint \"\\t\".join( state.name for _, state in hmm.viterbi( sequence )[1] )\nprint\nprint \"FSM Path\"\nfor flip in sequence:\n fsm.step( flip )\n print fsm.current_state.name,\nprint\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>HMM Path\nfair fair fair fair fair fair fair fair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair\n\nFSM Path\nunfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair unfair\n</code></pre>\n\n<p>As the probability of changing approaches 0.5, the FSM and the HMM begin to converge to each other. With change = stay_same = 0.5, we get identical results:</p>\n\n<pre><code>HMM Path\nunfair unfair fair fair unfair fair unfair fair unfair unfair unfair unfair unfair unfair unfair unfair fair fair unfair\n\nFSM Path\nunfair unfair fair fair unfair fair unfair fair unfair unfair unfair unfair unfair unfair unfair unfair fair fair unfair\n</code></pre>\n\n<p>Another classic example of using a hidden Markov model is to do pairwise sequence alignment in bioinformatics. A full tutorial can be found <a href=\"http://nbviewer.ipython.org/github/jmschrei/yahmm/blob/master/examples/Global%20Sequence%20Alignment.ipynb\">here</a> The gist is that you have a graphical structure as follows:</p>\n\n<p><a href=\"https://camo.githubusercontent.com/34c84a14d744eca052e419a6b4a6b2237fd73256/687474703a2f2f7777772e63732e7461752e61632e696c2f253745727368616d69722f616c676d622f30302f73637269626530302f68746d6c2f6c656330362f696d673130362e676966\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/34c84a14d744eca052e419a6b4a6b2237fd73256/687474703a2f2f7777772e63732e7461752e61632e696c2f253745727368616d69722f616c676d622f30302f73637269626530302f68746d6c2f6c656330362f696d673130362e676966\" alt=\"alt text\" title=\"Three Character Profile HMM\"></a></p>\n\n<p>This defines a 'profile HMM' of length 3, in which you model the a profile and align new sequences to it. A perfectly matching sequence will align its three characters to the three match states. However, there can be mismatches where the observed sequence does not match the profile perfectly, which is why each emission is a distribution over all four nucleotides with small probabilities of seeing other nucleotides. There can also be insertions into the sequence, modelled by the middle track, and deleted in comparison to the profile modelled by the top track of silent states. This type of model can solve an interesting question in sequence analysis of when is it more likely that a nucleotide mutated over time (simply a mismatch in the model), versus was explicitly removed and had a new nucleotide added in (delete + insertion). We can see which is more likely using the Viterbi algorithm. </p>\n\n<p>Lets make our profile we model 'ACT'. </p>\n\n<pre><code>from pomegranate import *\nmodel = HiddenMarkovModel( \"Global Sequence Aligner\" )\n\n# Define the distribution for insertions\ni_d = DiscreteDistribution( { 'A': 0.25, 'C': 0.25, 'G': 0.25, 'T': 0.25 } )\n\n# Create the insert states, each with a uniform insertion distribution\ni0 = State( i_d, name=\"I0\" )\ni1 = State( i_d, name=\"I1\" )\ni2 = State( i_d, name=\"I2\" )\ni3 = State( i_d, name=\"I3\" )\n\n# Create the match states with small chances of mismatches\nm1 = State( DiscreteDistribution({ \"A\": 0.95, 'C': 0.01, 'G': 0.01, 'T': 0.02 }) , name=\"M1\" )\nm2 = State( DiscreteDistribution({ \"A\": 0.003, 'C': 0.99, 'G': 0.003, 'T': 0.004 }) , name=\"M2\" )\nm3 = State( DiscreteDistribution({ \"A\": 0.01, 'C': 0.01, 'G': 0.01, 'T': 0.97 }) , name=\"M3\" )\n\n# Create the silent delete states\nd1 = State( None, name=\"D1\" )\nd2 = State( None, name=\"D2\" )\nd3 = State( None, name=\"D3\" )\n\n# Add all the states to the model\nmodel.add_states( [i0, i1, i2, i3, m1, m2, m3, d1, d2, d3 ] )\n\n# Create transitions from match states\nmodel.add_transition( model.start, m1, 0.9 )\nmodel.add_transition( model.start, i0, 0.1 )\nmodel.add_transition( m1, m2, 0.9 )\nmodel.add_transition( m1, i1, 0.05 )\nmodel.add_transition( m1, d2, 0.05 )\nmodel.add_transition( m2, m3, 0.9 )\nmodel.add_transition( m2, i2, 0.05 )\nmodel.add_transition( m2, d3, 0.05 )\nmodel.add_transition( m3, model.end, 0.9 )\nmodel.add_transition( m3, i3, 0.1 )\n\n# Create transitions from insert states\nmodel.add_transition( i0, i0, 0.70 )\nmodel.add_transition( i0, d1, 0.15 )\nmodel.add_transition( i0, m1, 0.15 )\n\nmodel.add_transition( i1, i1, 0.70 )\nmodel.add_transition( i1, d2, 0.15 )\nmodel.add_transition( i1, m2, 0.15 )\n\nmodel.add_transition( i2, i2, 0.70 )\nmodel.add_transition( i2, d3, 0.15 )\nmodel.add_transition( i2, m3, 0.15 )\n\nmodel.add_transition( i3, i3, 0.85 )\nmodel.add_transition( i3, model.end, 0.15 )\n\n# Create transitions from delete states\nmodel.add_transition( d1, d2, 0.15 )\nmodel.add_transition( d1, i1, 0.15 )\nmodel.add_transition( d1, m2, 0.70 ) \n\nmodel.add_transition( d2, d3, 0.15 )\nmodel.add_transition( d2, i2, 0.15 )\nmodel.add_transition( d2, m3, 0.70 )\n\nmodel.add_transition( d3, i3, 0.30 )\nmodel.add_transition( d3, model.end, 0.70 )\n\n# Call bake to finalize the structure of the model.\nmodel.bake()\n\nfor sequence in map( list, ('ACT', 'GGC', 'GAT', 'ACC') ):\n logp, path = model.viterbi( sequence )\n print \"Sequence: '{}' -- Log Probability: {} -- Path: {}\".format(\n ''.join( sequence ), logp, \" \".join( state.name for idx, state in path[1:-1] ) )\n</code></pre>\n\n<p>This should produce the following:</p>\n\n<pre><code>Sequence: 'ACT' -- Log Probability: -0.513244900357 -- Path: M1 M2 M3\nSequence: 'GGC' -- Log Probability: -11.0481012413 -- Path: I0 I0 D1 M2 D3\nSequence: 'GAT' -- Log Probability: -9.12551967402 -- Path: I0 M1 D2 M3\nSequence: 'ACC' -- Log Probability: -5.08795587886 -- Path: M1 M2 M3\n</code></pre>\n\n<p>This seems to work well. A perfect match goes through the three match states, and off matches go through other sequences of hidden states. We see in the case of ACC, the model thinks it's more likely that the T at the end of the profile was mutated to a C than a deletion and an insertion, but is not so lenient in the case of 'GGC'. This is I made G's very unlikely in our prior match distributions.</p>\n\n<p>The HMM can then be used as a backend to do the alignment by defining a function which takes in two sequences, and uses the HMM in the global name space to do the alignment (works for this example, but using global name spaces in general is a bad idea). Using the HMM as a backend allows us to shield users from needing to know how HMMs work at all but only that through the power of math their sequences have been aligned.</p>\n\n<pre><code>def pairwise_alignment( x, y ):\n \"\"\"\n This function will take in two sequences, and insert dashes appropriately to make them appear aligned. This consists only of adding a dash to the model sequence for every insert in the path appropriately, and a dash in the observed sequence for every delete in the path appropriately.\n \"\"\"\n\n logp, path = model.viterbi( sequence )\n for i, (index, state) in enumerate( path[1:-1] ):\n name = state.name\n\n if name.startswith( 'D' ):\n y = y[:i] + '-' + y[i:]\n elif name.startswith( 'I' ):\n x = x[:i] + '-' + x[i:]\n\n return x, y\n\nfor sequence in map( list, ('A', 'GA', 'AC', 'AT', 'ATCC' ) ):\n x, y = pairwise_alignment( 'ACT', ''.join(sequence) )\n print \"{}\\n{}\".format( x, y )\n print\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Sequence: A\nACT\nA--\n\nSequence: GA\n-ACT\nGA--\n\nSequence: AC\nACT\nAC-\n\nSequence: AT\nACT\nA-T\n\nSequence: ATCC\nACT--\nA-TCC\n</code></pre>\n\n<p>Everything is exactly the same as in YAHMM, except the <code>Model</code> class is now <code>HiddenMarkovModel</code>. If you have code using YAHMM you would like to port over to pomegranate, the only difference is the start of your file should have</p>\n\n<pre><code>from pomegranate import *\nfrom pomegranate import HiddenMarkovModel as Model\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>from yahmm import *\n</code></pre>\n\n\n\n<p><a href=\"http://en.wikipedia.org/wiki/Bayesian_network\">Bayesian networks</a> are a powerful inference tool, in which states represent some random variable we care about and edges represent conditional dependencies between them. These are useful in that while a model like a hidden Markov model represents joint probabilities across all variables, a Bayesian network represents conditional probabilities, giving a more nuanced view of the data. A powerful algorithm called the sum-product or forward-backward algorithm allows for inference to be done on this network, calculating posteriors on unobserved (\"hidden\") variables when limited information is given. The more information is known, the better the inference will be, but there is no requirement on the amount of data passed in. The hidden and observed variables do not need to be partitioned when the network is made, they simply exist based on what information is given. </p>\n\n<p>Lets test out the Bayesian Network framework on the <a href=\"http://en.wikipedia.org/wiki/Monty_Hall_problem\">Monty Hall problem</a>. The Monty Hall problem arose from the gameshow <i>Let's Make a Deal</i>, where a guest had to choose which one of three doors had a prize behind it. The twist was that after the guest chose, the host, originally Monty Hall, would then open one of the doors the guest did not pick and ask if the guest wanted to switch which door they had picked. Initial inspection may lead you to believe that if there are only two doors left, there is a 50-50 chance of you picking the right one, and so there is no advantage one way or the other. However, it has been proven both through simulations and analytically that there is in fact a 66% chance of getting the prize if the guest switches their door, regardless of the door they initially went with. </p>\n\n<p>We can reproduce this result using Bayesian networks with three nodes, one for the guest, one for the prize, and one for the door Monty chooses to open. The door the guest initially chooses and the door the prize is behind are completely random processes across the three doors, but the door which Monty opens is dependent on both the door the guest chooses (it cannot be the door the guest chooses), and the door the prize is behind (it cannot be the door with the prize behind it). </p>\n\n<pre><code>import math\nfrom pomegranate import *\n\n# The guests initial door selection is completely random\nguest = DiscreteDistribution( { 'A': 1./3, 'B': 1./3, 'C': 1./3 } )\n\n# The door the prize is behind is also completely random\nprize = DiscreteDistribution( { 'A': 1./3, 'B': 1./3, 'C': 1./3 } )\n\n# However, the door Monty opens is dependent on both of the previous distributions\nmonty = ConditionalDiscreteDistribution( {\n 'A' : { 'A' : DiscreteDistribution({ 'A' : 0.0, 'B' : 0.5, 'C' : 0.5 }),\n 'B' : DiscreteDistribution({ 'A' : 0.0, 'B' : 0.0, 'C' : 1.0 }),\n 'C' : DiscreteDistribution({ 'A' : 0.0, 'B' : 1.0, 'C' : 0.0 }) },\n 'B' : { 'A' : DiscreteDistribution({ 'A' : 0.0, 'B' : 0.0, 'C' : 1.0 }), \n 'B' : DiscreteDistribution({ 'A' : 0.5, 'B' : 0.0, 'C' : 0.5 }),\n 'C' : DiscreteDistribution({ 'A' : 1.0, 'B' : 0.0, 'C' : 0.0 }) },\n 'C' : { 'A' : DiscreteDistribution({ 'A' : 0.0, 'B' : 1.0, 'C' : 0.0 }),\n 'B' : DiscreteDistribution({ 'A' : 1.0, 'B' : 0.0, 'C' : 0.0 }),\n 'C' : DiscreteDistribution({ 'A' : 0.5, 'B' : 0.5, 'C' : 0.0 }) } \n }, [guest, prize] )\n\n# State objects hold both the distribution, and a high level name.\ns1 = State( guest, name=\"guest\" )\ns2 = State( prize, name=\"prize\" )\ns3 = State( monty, name=\"monty\" )\n\n# Create the Bayesian network object with a useful name\nnetwork = BayesianNetwork( \"Monty Hall Problem\" )\n\n# Add the three states to the network \nnetwork.add_states( [ s1, s2, s3 ] )\n\n# Add transitions which represent conditional dependencies, where the second node is conditionally dependent on the first node (Monty is dependent on both guest and prize)\nnetwork.add_transition( s1, s3 )\nnetwork.add_transition( s2, s3 )\nnetwork.bake()\n</code></pre>\n\n<p>Bayesian Networks introduc a new distribution, the ConditionalDiscreteDistribution. This distribution takes in (1) a dictionary where each nested layer refers to the values one of the distributions it is dependent on takes and (2) a list of the distribution objects it is dependent on in the order of the nesting in the dictionary. In the Monty Hall example, the monty distribution is dependent on both the guest and the prize distributions in that order. The first layer of nesting accounts for what happens when the guest chooses various doors, and the second layer indicates what happens when the prize is actually behind a certain door, for each of the 9 possibilities. </p>\n\n<p>In order to reproduce the final result, we need to take advantage of the forward-backward/sum-product algorithm. This algorithm allows the network to calculate posterior probabilities for each distribution in the network when as distributions get clamped to certain values. This is done in pomegranate by feeding in a dictionary of state names and their associated values, and running <code>forward_backward</code>. </p>\n\n<p>Lets say that the guest chooses door 'A'. guest becomes an observed variable, while both prize and monty are hidden variables. </p>\n\n<pre><code>observations = { 'guest' : 'A' }\n\n# beliefs will be an array of posterior distributions or clamped values for each state, indexed corresponding to the order\n# in self.states. \nbeliefs = network.forward_backward( observations )\n\n# Convert the beliefs into a more readable format\nbeliefs = map( str, beliefs )\n\n# Print out the state name and belief for each state on individual lines\nprint \"\\n\".join( \"{}\\t{}\".format( state.name, belief ) for state, belief in zip( network.states, beliefs ) )\n</code></pre>\n\n<p>This will yield: </p>\n\n<pre><code>prize DiscreteDistribution({'A': 0.3333333333333335, 'C': 0.3333333333333333, 'B': 0.3333333333333333})\nguest A\nmonty DiscreteDistribution({'A': 0.0, 'C': 0.5, 'B': 0.5})\n</code></pre>\n\n<p>Since we have clamped the guest distribution to 'A', it returns just that value. The prize distribution is unaffected. \nSince guest is clamped to 'A', it is forced to stay that way. Note that the prize distribution is unaffected, but that the monty distribution now puts a 0 probability on him saying A, since he will not open the same door the guest chose. </p>\n\n<p>In order to reproduce the final result, we need to see what happens when Monty opens a door. Lets clamp the Monty distribution to 'B' to indicate he has opened that door. Now both guest and monty are observed variables, and prize is the hidden variable.</p>\n\n<pre><code>observations = { 'guest' : 'A', 'monty' : 'B' }\nbeliefs = map( str, network.forward_backward( observations ) )\nprint \"\\n\".join( \"{}\\t{}\".format( state.name, belief ) for state, belief in zip( network.states, beliefs ) )\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>guest A\nmonty B\nprize DiscreteDistribution({'A': 0.3333333333333333, 'C': 0.6666666666666666, 'B': 0.0})\n</code></pre>\n\n<p>Both guest and monty have been clamped to values. However, we see that probability of prize being 'C' is 66% mimicking the mystery behind the Monty hall problem!</p>\n\n<p>This has predominately leveraged forward propogation of messages. If we want to see backward propogation of messages, lets see what happens if we tuned in late and only saw which door Monty opened. Monty is an observed variable, while both guest and prize are hidden variables.</p>\n\n<pre><code>observations = { 'monty' : 'B' }\nbeliefs = map( str, network.forward_backward( observations ) )\nprint \"\\n\".join( \"{}\\t{}\".format( state.name, belief ) for state, belief in zip( network.states, beliefs ) )\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>guest DiscreteDistribution({'A': 0.49999999999999994, 'C': 0.49999999999999994, 'B': 0.0})\nmonty B\nprize DiscreteDistribution({'A': 0.49999999999999994, 'C': 0.49999999999999994, 'B': 0.0})\n</code></pre>\n\n<p>We know that if Monty opened door 'B', that the prize cannot be behind 'B' and that the guest could not have opened 'B'. The posterior guest and prize probabilities show this. </p>\n\n<p>Useful stuff.</p>\n\n<p>Below is the <a href=\"http://www.norsys.com/tutorials/netica/secA/tut_A1.htm\">Asia example</a>. It is more of the same, but seeing a more complicated network may help you get yours working!</p>\n\n<pre><code>from pomegranate import *\n\n# Create the distributions\nasia = DiscreteDistribution({ 'True' : 0.5, 'False' : 0.5 })\ntuberculosis = ConditionalDiscreteDistribution({\n 'True' : DiscreteDistribution({ 'True' : 0.2, 'False' : 0.80 }),\n 'False' : DiscreteDistribution({ 'True' : 0.01, 'False' : 0.99 })\n }, [asia])\n\nsmoking = DiscreteDistribution({ 'True' : 0.5, 'False' : 0.5 })\nlung = ConditionalDiscreteDistribution({\n 'True' : DiscreteDistribution({ 'True' : 0.75, 'False' : 0.25 }),\n 'False' : DiscreteDistribution({ 'True' : 0.02, 'False' : 0.98 })\n }, [smoking] )\nbronchitis = ConditionalDiscreteDistribution({\n 'True' : DiscreteDistribution({ 'True' : 0.92, 'False' : 0.08 }),\n 'False' : DiscreteDistribution({ 'True' : 0.03, 'False' : 0.97})\n }, [smoking] )\n\ntuberculosis_or_cancer = ConditionalDiscreteDistribution({\n 'True' : { 'True' : DiscreteDistribution({ 'True' : 1.0, 'False' : 0.0 }),\n 'False' : DiscreteDistribution({ 'True' : 1.0, 'False' : 0.0 }),\n },\n 'False' : { 'True' : DiscreteDistribution({ 'True' : 1.0, 'False' : 0.0 }),\n 'False' : DiscreteDistribution({ 'True' : 0.0, 'False' : 1.0 })\n }\n }, [tuberculosis, lung] )\n\nxray = ConditionalDiscreteDistribution({\n 'True' : DiscreteDistribution({ 'True' : .885, 'False' : .115 }),\n 'False' : DiscreteDistribution({ 'True' : 0.04, 'False' : 0.96 })\n }, [tuberculosis_or_cancer] )\n\ndyspnea = ConditionalDiscreteDistribution({\n 'True' : { 'True' : DiscreteDistribution({ 'True' : 0.96, 'False' : 0.04 }),\n 'False' : DiscreteDistribution({ 'True' : 0.89, 'False' : 0.11 })\n },\n 'False' : { 'True' : DiscreteDistribution({ 'True' : 0.82, 'False' : 0.18 }),\n 'False' : DiscreteDistribution({ 'True' : 0.4, 'False' : 0.6 })\n }\n }, [tuberculosis_or_cancer, bronchitis])\n\n# Make the states. Note the name can be different than the name of the state\n# can be different than the name of the distribution\ns0 = State( asia, name=\"asia\" )\ns1 = State( tuberculosis, name=\"tuberculosis\" )\ns2 = State( smoking, name=\"smoker\" )\ns3 = State( lung, name=\"cancer\" )\ns4 = State( bronchitis, name=\"bronchitis\" )\ns5 = State( tuberculosis_or_cancer, name=\"TvC\" )\ns6 = State( xray, name=\"xray\" )\ns7 = State( dyspnea, name='dyspnea' )\n\n# Create the Bayesian network\nnetwork = BayesianNetwork( \"asia\" )\nnetwork.add_states([ s0, s1, s2, s3, s4, s5, s6, s7 ])\nnetwork.add_transition( s0, s1 )\nnetwork.add_transition( s1, s5 )\nnetwork.add_transition( s2, s3 )\nnetwork.add_transition( s2, s4 )\nnetwork.add_transition( s3, s5 )\nnetwork.add_transition( s5, s6 )\nnetwork.add_transition( s5, s7 )\nnetwork.add_transition( s4, s7 )\nnetwork.bake()\n</code></pre>\n\n<p>Lets add in some information:</p>\n\n<pre><code>observations = { 'tuberculosis' : 'True', \n 'smoker' : 'False', \n 'bronchitis' : DiscreteDistribution({ 'True' : 0.8, 'False' : 0.2 }) \n }\nbeliefs = map( str, network.forward_backward( observations ) )\nprint \"\\n\".join( \"{}\\t\\t{}\".format( state.name, belief ) for state, belief in zip( network.states, beliefs ) )\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>xray DiscreteDistribution({'True': 0.885, 'False': 0.115})\ndyspnea DiscreteDistribution({'True': 0.9460000000000002, 'False': 0.05400000000000003})\nasia DiscreteDistribution({'True': 0.9523809523809523, 'False': 0.04761904761904764})\ntuberculosis True\nsmoker False\ncancer DiscreteDistribution({'False': 0.98, 'True': 0.02000000000000001})\nbronchitis DiscreteDistribution({'True': 0.811127248750323, 'False': 0.188872751249677})\nTvC DiscreteDistribution({'False': 0.0, 'True': 1.0})\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "CryptDB/cryptdb",
        "url": "https://github.com/CryptDB/cryptdb",
        "excerpt": "CryptDB's website (including latest source code): http://css.csail.mit.edu/cryptdb Wiki: https://github.com/burrows-labs/cryptdb-wiki/wiki/_pages Convention : When this document uses syntax like&hellip;",
        "date_saved": "Thu Jul 28 20:08:28 EDT 2016",
        "html_file": "cryptdbcryptdb.html",
        "png_file": "cryptdbcryptdb.png",
        "md_file": "cryptdbcryptdb.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p>CryptDB's website (including latest source code): <a href=\"http://css.csail.mit.edu/cryptdb\">http://css.csail.mit.edu/cryptdb</a></p>\n\n<p>Wiki: <a href=\"https://github.com/burrows-labs/cryptdb-wiki/wiki/_pages\">https://github.com/burrows-labs/cryptdb-wiki/wiki/_pages</a></p>\n\n<p>Convention : When this document uses syntax like\n single-quote text single-quote\n + 'some-text-here'\n + 'a second example'\n it indicates that the reader is to use the value <em>without</em>\n the single-quotes.</p>\n\n<h6><a id=\"user-content--getting-started\" class=\"anchor\" href=\"https://github.com/CryptDB/cryptdb#-getting-started\"></a>##### Getting started</h6>\n\n<pre><code>* Requirements:\n &gt; Ubuntu 12.04, 13.04; Not tested on a different OS.\n &gt; ruby\n* Build CryptDB using the installation script.\n &gt; note, this script will stop and start your mysql instance.\n &gt; scripts/install.rb &lt;path-to-cryptdb&gt;\n + &lt;path-to-cryptdb&gt; should just be '.' if you are in the cryptdb\n directory\n + the script will likely require root privileges in order to\n install dependencies and UDFs.\n* Username/Password\n By default cryptdb uses 'root' for the username and 'letmein'\n for the password. You can change this by modifying the source.\n + Tests: test/test_utils.hh\n + Shell: main/cdb_test.cc\n + Proxy: mysqlproxy/wrapper.lua\n* Rebuildling CryptDB\n If you modify the source and want to rebuild, issue 'make' in the\n cryptdb directory. If you change the UDFs you will also need to do\n 'make install' (which will likely require root privilege).\n</code></pre>\n\n<h6><a id=\"user-content--a-few-ways-to-run-cryptdb\" class=\"anchor\" href=\"https://github.com/CryptDB/cryptdb#-a-few-ways-to-run-cryptdb\"></a># A few ways to run CryptDB</h6>\n\n<pre><code>Set (or place in your .bashrc):\n&gt; export EDBDIR=/full/path/to/cryptdb/ \n\nI. Shell\n &gt; To Start: obj/main/cdb_test ./shadow &lt;some-database-name&gt;\n &gt; Type SQL queries that will be encrypted.\n\nII. Proxy\n A) To Start: \n &gt; /path/to/cryptdb/bins/proxy-bin/bin/mysql-proxy \\\n --plugins=proxy --event-threads=4 \\\n --max-open-files=1024 \\\n --proxy-lua-script=$EDBDIR/mysqlproxy/wrapper.lua \\\n --proxy-address=127.0.0.1:3307 \\\n --proxy-backend-addresses=localhost:3306\n\n B) Connect to CryptDB: (where root/letmein are username/password)\n mysql -u root -pletmein -h 127.0.0.1 -P 3307\n C) CREATE a database; USE it; Then type queries that will execute\n on encrypted data at the DB server!\n\nIII. Tests\n &gt; To Start:\n obj/test/test queries plain proxy-single\n</code></pre>\n\n<h6><a id=\"user-content--failing-queries\" class=\"anchor\" href=\"https://github.com/CryptDB/cryptdb#-failing-queries\"></a>###### Failing queries</h6>\n\n<pre><code>Note that CryptDB is not a product, but just a more advanced research\nprototype. It only has implemented a subset of SQL queries. For example,\nit supports the regular MySQL client and a variety of queries you can\nplay with from this shell, Wordpress, and other apps. We did not test\nit with other MySQL clients (e.g., PHP, Java) and these likely issue\nsome uncommon metadata query we did not implement. Feel free to\nimplement what's missing!\n\n\n&gt; Queries can fail for a few reasons.\n I) CryptDB can support the query, but we have not yet implemented it.\n This should throw an UNIMPLEMENTED exception.\n II) CryptDB can not support this type of query, likely for\n cryptographic reasons. The error should include a message telling\n you more about the issue.\n\n For example if you issue this query to the shell.\n SELECT _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy FROM t WHERE x + 10 &lt; 50\n\n You should get feedback. You will see that the feedback\n tells you the desired security level for the operation at\n each onion, and the current security level of each argument\n for each onion.\n\n In the case of this query, you can see that it would like\n to compare order with onion 1 (OPE), 4 (PLAIN) or 6 (WAIT).\n\n But if you look at it's first child \"additive\", you can see\n that it would like to use the HOM onion. Because the HOM\n onion is not supported by the order operation, the query\n fails and gives you this error message.\n\n Look to the CryptDB paper for more information regarding\n how MySQL operations correspond to the cryptographic onions.\n III) State corruption (ie a bug in our code), this will likely lead\n to a crash.\n IV) Invalid query; problem with the query syntax.\n</code></pre>\n\n<h6><a id=\"user-content--misc\" class=\"anchor\" href=\"https://github.com/CryptDB/cryptdb#-misc\"></a>########## Misc</h6>\n\n<pre><code>&gt; The benchmarks in the CryptDB paper are based on an older version of\n CryptDB. We have added new features and functionality to the current\n version which we have not yet optimized (but it is part of our\n roadmap).\n&gt; For example queries, take a look at our tests test/TestQueries.cc\n&gt; Consider connecting directly to MySQL to see what is in the raw\n database.\n&gt; Resetting state (e.g., after running tests)\n &gt; Take a look at scripts/refresh.sh ; you probably want that.\n &gt; If you create a database in cryptdb and then reset\n the state without first dropping the database from _within_\n cryptdb; you will need to drop it from the regular mysql client.\n&gt; Modifying the UDFs.\n + If you make changes to edb/udf.cc, you must reinstall the UDFs\n before your changes will take affect.\n &gt; sudo service mysql stop\n &gt; sudo make install\n &gt; sudo service mysql start\n&gt; This new version of CryptDB is only single principal. We are in the\n process of developling a new platform that more affectively addresses\n multiple principals.\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "CoreOS + Kubernetes Step By Step",
        "url": "https://coreos.com/kubernetes/docs/latest/getting-started.html",
        "excerpt": "This guide will walk you through a deployment of a single-master/multi-worker Kubernetes cluster on CoreOS. We&#x2019;re going to: configure an etcd cluster for Kubernetes to use generate the&hellip;",
        "date_saved": "Thu Jul 28 20:08:30 EDT 2016",
        "html_file": "coreos__kubernetes_step_by_step.html",
        "png_file": "coreos__kubernetes_step_by_step.png",
        "md_file": "coreos__kubernetes_step_by_step.md",
        "content": "<div><div class=\"coreos-docs\">\n\n\n<p>This guide will walk you through a deployment of a single-master/multi-worker Kubernetes cluster on CoreOS. We&#x2019;re going to:</p>\n<ul>\n<li>configure an etcd cluster for Kubernetes to use</li>\n<li>generate the required certificates for communication between Kubernetes components</li>\n<li>deploy a master node</li>\n<li>deploy worker nodes</li>\n<li>configure <code class=\"highlighter-rouge\">kubectl</code> to work with our cluster</li>\n<li>deploy the DNS add-on</li>\n<li>deploy the network policy add-on</li>\n</ul>\n<p>Working through this guide may take you a few hours, but it will give you good understanding of the moving pieces of your cluster and set you up for success in the long run. Let&#x2019;s get started.</p>\n<h2 id=\"deployment-options\">Deployment Options</h2>\n<p>The following variables will be used throughout this guide. Most of the provided defaults can safely be used, however some values such as <code class=\"highlighter-rouge\">ETCD_ENDPOINTS</code> and <code class=\"highlighter-rouge\">MASTER_HOST</code> will need to be customized to your infrastructure.</p>\n<p><strong>MASTER_HOST</strong>=<em>no default</em></p>\n<p>The address of the master node. In most cases this will be the publicly routable IP of the node. Worker nodes must be able to reach the master node(s) via this address on port 443. Additionally, external clients (such as an administrator using <code class=\"highlighter-rouge\">kubectl</code>) will also need access, since this will run the Kubernetes API endpoint.</p>\n<p>If you will be running a high-availability control-plane consisting of multiple master nodes, then <code class=\"highlighter-rouge\">MASTER_HOST</code> will ideally be a network load balancer that sits in front of them. Alternatively, a DNS name can be configured which will resolve to the master IPs. How requests are routed to the master nodes will be an important consideration when creating the TLS certificates.</p>\n\n<p><strong>ETCD_ENDPOINTS</strong>=<em>no default</em></p>\n<p>List of etcd machines (<code class=\"highlighter-rouge\">http://ip:port</code>), comma separated. If you&#x2019;re running a cluster of 5 machines, list them all here.</p>\n\n<p><strong>POD_NETWORK</strong>=10.2.0.0/16</p>\n<p>The CIDR network to use for pod IPs.\nEach pod launched in the cluster will be assigned an IP out of this range.\nThis network must be routable between all hosts in the cluster. In a default installation, the flannel overlay network will provide routing to this network.</p>\n\n<p><strong>SERVICE_IP_RANGE</strong>=10.3.0.0/24</p>\n<p>The CIDR network to use for service cluster VIPs (Virtual IPs). Each service will be assigned a cluster IP out of this range. This must not overlap with any IP ranges assigned to the <code class=\"highlighter-rouge\">POD_NETWORK</code>, or other existing network infrastructure. Routing to these VIPs is handled by a local kube-proxy service to each host, and are not required to be routable between hosts.</p>\n\n<p><strong>K8S_SERVICE_IP</strong>=10.3.0.1</p>\n<p>The VIP (Virtual IP) address of the Kubernetes API Service. If the <code class=\"highlighter-rouge\">SERVICE_IP_RANGE</code> is changed above, this must be set to the first IP in that range.</p>\n\n<p><strong>DNS_SERVICE_IP</strong>=10.3.0.10</p>\n<p>The VIP (Virtual IP) address of the cluster DNS service. This IP must be in the range of the <code class=\"highlighter-rouge\">SERVICE_IP_RANGE</code> and cannot be the first IP in the range. This same IP must be configured on all worker nodes to enable DNS service discovery.</p>\n<h2 id=\"deploy-etcd-cluster\">Deploy etcd Cluster</h2>\n<p>Kubernetes uses etcd for data storage and for cluster consensus between different software components. Your etcd cluster will be heavily utilized since all objects storing within and every scheduling decision is recorded. It&#x2019;s recommended that you run a multi-machine cluster on dedicated hardware (with fast disks) to gain maximum performance and reliability of this important part of your cluster. For development environments, a single etcd is ok.</p>\n<h3 id=\"single-nodedevelopment\">Single-Node/Development</h3>\n<p>You can simply start etcd via <a href=\"https://coreos.com/os/docs/latest/cloud-config.html#etcd2\">cloud-config</a> when you create your CoreOS machine or start it manually.</p>\n<p>If you are starting etcd manually, we need to first configure it to listen on all interfaces:</p>\n<ul>\n<li>Replace <code class=\"highlighter-rouge\">${PUBLIC_IP}</code> with the etcd machines publicly routable IP address.</li>\n</ul>\n<p><strong>/etc/systemd/system/etcd2.service.d/40-listen-address.conf</strong></p>\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[Service]\nEnvironment=ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379\nEnvironment=ETCD_ADVERTISE_CLIENT_URLS=http://${PUBLIC_IP}:2379\n</code></pre>\n</div>\n<p>Use the value of <code class=\"highlighter-rouge\">ETCD_ADVERTISE_CLIENT_URLS</code> as the value of <code class=\"highlighter-rouge\">ETCD_ENDPOINTS</code> in the rest of this guide.</p>\n<p>Next, start etcd</p>\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ sudo systemctl start etcd2\n</code></pre>\n</div>\n<p>To ensure etcd starts after a reboot, enable it too:</p>\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"gp\">$ </span>sudo systemctl <span class=\"nb\">enable </span>etcd2\nCreated symlink from /etc/systemd/system/multi-user.target.wants/etcd2.service to /usr/lib64/systemd/system/etcd2.service.\n</code></pre>\n</div>\n<h3 id=\"multi-nodeproduction\">Multi-Node/Production</h3>\n<p>It is highly recommended that etcd is run as a dedicated cluster separately from Kubernetes components.</p>\n<p>Use the <a href=\"https://coreos.com/etcd/docs/latest/clustering.html\">official etcd clustering guide</a> to decide how best to deploy etcd into your environment.</p>\n<h2 id=\"generate-kubernetes-tls-assets\">Generate Kubernetes TLS Assets</h2>\n<p>The Kubernetes API has various methods for validating clients &#x2014; this guide will configure the API server to use client certificate authentication.</p>\n<p>This means it is necessary to have a Certificate Authority and generate the proper credentials. Generate the necessary assets from existing PKI infrastructure, or by following <a href=\"https://coreos.com/kubernetes/docs/latest/openssl.html\">these OpenSSL-based instructions</a> to create the needed certificates and keys.</p>\n<p>In the following steps, it is assumed that you will have generated the following TLS assets:</p>\n<p><strong>Root CA Public Key</strong></p>\n<p>ca.pem</p>\n\n<p><strong>API Server Public &amp; Private Keys</strong></p>\n<p>apiserver.pem</p>\n<p>apiserver-key.pem</p>\n\n<p><strong>Worker Node Public &amp; Private Keys</strong></p>\n<p><em>You should have one certificate/key set for every worker node in the planned cluster.</em></p>\n<p>${WORKER_FQDN}-worker.pem</p>\n<p>${WORKER_FQDN}-worker-key.pem</p>\n\n<p><strong>Cluster Admin Public &amp; Private Keys</strong></p>\n<p>admin.pem</p>\n<p>admin-key.pem</p>\n<div class=\"co-m-docs-next-step\">\n<p><strong>Is your etcd cluster up and running?</strong> You need the IPs for the next step.</p>\n<p><strong>Did you generate all of the certificates?</strong> You will place these on disk next.</p>\n<a href=\"https://coreos.com/kubernetes/docs/latest/deploy-master.html\" class=\"btn btn-primary btn-icon-right\">Yes, ready to deploy the master node</a>\n</div>\n</div> \n</div>"
    }, {
        "title": "eivind88/prm",
        "url": "https://github.com/eivind88/prm",
        "excerpt": "A minimal project manager for the terminal. This script must be sourced, not run in a subshell. See usage for more information. What? This program basically lets you CRUD projects. Upon activation,&hellip;",
        "date_saved": "Thu Jul 28 20:08:32 EDT 2016",
        "html_file": "eivind88prm.html",
        "png_file": "eivind88prm.png",
        "md_file": "eivind88prm.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>A minimal project manager for the terminal.</p>\n\n<p><a href=\"https://github.com/eivind88/prm/blob/demo/prm.gif\" target=\"_blank\"><img src=\"https://github.com/eivind88/prm/raw/demo/prm.gif\" alt=\"Demo\"></a></p>\n\n<p>This script <strong>must</strong> be sourced, <em>not</em> run in a subshell.\nSee <a href=\"https://github.com/eivind88/prm#usage\">usage</a> for more information.</p>\n\n<h2><a id=\"user-content-what\" class=\"anchor\" href=\"https://github.com/eivind88/prm#what\"></a>What?</h2>\n\n<p>This program basically lets you CRUD projects. Upon activation, each projects runs its associated start-script; on deactivation, it runs the project stop-script.</p>\n\n<p>These bash-scripts can be used for things like changing directories, setting environment variables, cleanup, etc.</p>\n\n<h2><a id=\"user-content-how\" class=\"anchor\" href=\"https://github.com/eivind88/prm#how\"></a>How?</h2>\n\n<p>Adding and editing projects will open the associated start- and stop-scripts in your editor (as defined by the <code>$EDITOR</code> environment variable).</p>\n\n<p>A project start-script might for instance look something like this:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># cd to project directory</span>\n<span class=\"pl-c1\">cd</span> <span class=\"pl-smi\">$HOME</span>/src/Python/hello-world\n\n<span class=\"pl-c\"># activate conda env</span>\n<span class=\"pl-c1\">source</span> activate hello-world\n\n<span class=\"pl-c\"># show current git status</span>\ngit status</pre></div>\n\n<p>The same project's stop-script might look like this:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># deactivate conda env</span>\n<span class=\"pl-c1\">source</span> deactivate hello-world\n\n<span class=\"pl-c\"># clean up</span>\nrm <span class=\"pl-k\">*</span>.log <span class=\"pl-k\">*</span>.tmp</pre></div>\n\n<p>When you activate a new project, prm automatically stops any active projects.</p>\n\n<p>When a project is deactivated, prm changes the working directory back to the path you were originally on before starting your first project.</p>\n\n<h2><a id=\"user-content-why\" class=\"anchor\" href=\"https://github.com/eivind88/prm#why\"></a>Why?</h2>\n\n<p>I found myself missing project management features (like those seen in text editors and IDEs) on the terminal.</p>\n\n<p>Instead of remembering what projects I am working on these days or switching between loads of terminal windows or tabs, I now use prm.</p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/eivind88/prm#usage\"></a>Usage</h2>\n\n<p>In order to work properly, prm <strong>must</strong> be sourced, <em>not</em> run in a subshell; i.e. <code>. ./prm</code>.</p>\n\n<p>The easiest way to do this is probably to add an alias to prm in your <code>~/.bashrc</code> (or wherever you keep your aliases), like so:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c1\">alias</span> prm=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>. path/to/prm.sh<span class=\"pl-pds\">\"</span></span></pre></div>\n\n<p>From help the option screen:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>Usage: prm [options] ...\nOptions:\n add <span class=\"pl-k\">&lt;</span>project name<span class=\"pl-k\">&gt;</span> Add project.\n edit <span class=\"pl-k\">&lt;</span>project name<span class=\"pl-k\">&gt;</span> Edit project.\n list List all projects.\n remove <span class=\"pl-k\">&lt;</span>project name<span class=\"pl-k\">&gt;</span> Remove project.\n rename <span class=\"pl-k\">&lt;</span>old<span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">&lt;</span>new<span class=\"pl-k\">&gt;</span> Rename project.\n start <span class=\"pl-k\">&lt;</span>project name<span class=\"pl-k\">&gt;</span> Start project.\n stop Stop active project.\n -h --help Display this information.\n -v --version Display version info.</pre></div>\n\n<p>All prm-data is written to <code>~/.prm</code></p>\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/eivind88/prm#license\"></a>License</h2>\n\n<p>This software is released under the terms of the 3-clause New BSD License. See the <a href=\"https://github.com/eivind88/prm/blob/master/LICENSE.txt\">license</a> file for details.</p>\n</article>\n </div>"
    }, {
        "title": "Using an offline GnuPG master key",
        "url": "http://www.incenp.org/notes/2015/using-an-offline-gnupg-master-key.html",
        "excerpt": "OpenPGP subkeys have many benefits (well summarized on this Debian wiki page), one of them being that if you have both an encryption subkey and a signing subkey (at least), you don&#x2019;t need your&hellip;",
        "date_saved": "Thu Jul 28 20:08:35 EDT 2016",
        "html_file": "using_an_offline_gnupg_master_key.html",
        "png_file": "using_an_offline_gnupg_master_key.png",
        "md_file": "using_an_offline_gnupg_master_key.md",
        "content": "<div><section>\n \n <p>OpenPGP subkeys have many benefits (well summarized on this <a href=\"https://wiki.debian.org/Subkeys\">Debian wiki page</a>), one of\nthem being that if you have both an encryption subkey and a signing\nsubkey (at least), you don&#x2019;t need your master private key for your daily\nusage of OpenPGP&#x2014;you will only need it for signing someone else&#x2019;s key or\nto modify your own key (adding or revoking User IDs, adding or revoking\nsubkeys, updating the preferences, etc.).</p>\n <p>Consequently, your private master key can be put offline most of the\ntime, and brought back to your computer only on those few occasions\nwhere it is required.</p>\n <p>There are already <a href=\"https://alexcabal.com/creating-the-perfect-gpg-keypair/\">many</a>\n<a href=\"http://wiki.fsfe.org/Card_howtos/Card_with_subkeys_using_backups#Removing_the_master_key_from_the_keyring\">pages</a>\non the web describing how to do that. However, most of them, if not all\nof them, predate the recent release of GnuPG 2.1, so I thought an update\non that topic would be worthwhile.</p>\n <h2>How to remove the master private key from your keyring</h2>\n <h3>Step 1: Back up the original keyring</h3>\n <p>Let&#x2019;s assume you have the following private keyring:</p>\n <pre class=\"console\">$ <strong>gpg2 --list-secret-keys</strong>\n/home/alice/.gnupg/pubring.kbx\n------------------------------\nsec rsa4096/CB2F38F25B491A54 2014-12-31 [SC] [expires: 2017-12-30]\nuid [ultimate] Alice &lt;alice@example.org&gt;\nssb rsa2048/04BB7F8FDEC5E5D9 2014-12-31 [S] [expires: 2015-12-31]\nssb rsa2048/BBB6B86627C2D43A 2014-12-31 [E] [expires: 2015-12-31]</pre>\n <p>Export the private master key and its private subkeys:</p>\n <pre class=\"console\">$ <strong>gpg2 --armor --output alice-private-keys.asc --export-secret-key alice@example.org</strong></pre>\n <p>Store the exported private keys in a secure place (not on your\ncomputer). You may also print a hardcopy with a tool like <a href=\"http://www.jabberwocky.com/software/paperkey/\">Paperkey</a>:</p>\n <pre class=\"console\">$ <strong>gpg2 --export-secret-key alice@example.org | paperkey | lpr</strong></pre>\n <h3>Step 2: Remove the private master key from the keyring</h3>\n <p>The &#x201C;classic&#x201D; method for doing that is to export your private\nsubkeys, then delete all your private keys (the master private key and\nthe private subkeys), and import back the private subkeys (because GnuPG\nprior to version 2.1 had no option to delete the master key only).</p>\n <p>With GnuPG 2.1 however, there is a more direct method. First, find\nthe <em>keygrip</em> of your master key:</p>\n <pre class=\"console\">$ <strong>gpg2 --list-secret-keys --with-keygrip</strong>\n/home/alice/.gnupg/pubring.kbx\n------------------------------\nsec rsa4096/CB2F38F25B491A54 2014-12-31 [SC] [expires: 2017-12-30]\n Keygrip = <em>D4DF0C35D3E22FA6AC37DA2E54FB03F73616A3CB</em>\nuid [ultimate] Alice &lt;alice@example.org&gt;\nssb rsa2048/04BB7F8FDEC5E5D9 2014-12-31 [S] [expires: 2015-12-31]\n Keygrip = 21B2EDF018D7CAF0B45644FDB753DD42307C4425\nssb rsa2048/BBB6B86627C2D43A 2014-12-31 [E] [expires: 2015-12-31]\n Keygrip = 2E149DA9C5E46E0DECC6A17EFD8B5FB1DF1E1BAB</pre>\n <p>Then send a <code>DELETE_KEY</code> command to the GnuPG Agent:</p>\n <pre class=\"console\">$ <strong>gpg-connect-agent \"DELETE_KEY D4DF0C35D3E22FA6AC37DA2E54FB03F73616A3CB\" /bye</strong></pre>\n <p>Confirm that you want to delete the key when the agent ask you\nso.</p>\n <div class=\"note\">\n <p>For reference, the &#x201C;classic&#x201D; method (which still works with GnuPG\n 2.1) is as follows:</p>\n <p>First, export the subkeys:</p>\n <pre class=\"console\">$ <strong>gpg2 --armor --output private-subkeys.asc --export-secret-subkeys alice@example.org</strong></pre>\n <p>Then delete the private master key and its subkeys:</p>\n <pre class=\"console\">$ <strong>gpg2 --delete-secret-key alice@example.org</strong>\n\nsec rsa4096/CB2F38F25B491A54 2014-12-31 Alice &lt;alice@example.org&gt;\n\nDelete this key from the keyring? (y/N) <strong>y</strong>\nThis is a secret key! - really delete? (y/N) <strong>y</strong></pre>\n <p>Then import back the subkeys you have just exported:</p>\n <pre class=\"console\">$ <strong>gpg2 --import private-subkeys.asc</strong>\ngpg: key CB2F38F25B491A54: \"Alice &lt;alice@example.org&gt;\" not changed\ngpg: key CB2F38F25B491A54: secret key imported\ngpg: Total number processed: 4\ngpg: unchanged: 1\ngpg: secret keys read: 4\ngpg: secret keys imported: 2</pre>\n </div>\n <h3>Step 3: Ensure that the private master key has been removed</h3>\n <p>List the contents of your private keyring again:</p>\n <pre class=\"console\">$ <strong>gpg2 --list-secret-keys</strong>\n/home/alice/.gnupg/pubring.kbx\n------------------------------\nsec# rsa4096/CB2F38F25B491A54 2014-12-31 [SC] [expires: 2017-12-30]\nuid [ultimate] Alice &lt;alice@example.org&gt;\nssb rsa2048/04BB7F8FDEC5E5D9 2014-12-31 [S] [expires: 2015-12-31]\nssb rsa2048/BBB6B86627C2D43A 2014-12-31 [E] [expires: 2015-12-31]\nssb rsa2048/7D2233B8833E70AF 2014-12-31 [A] [expires: 2015-12-31]</pre>\n <p>No matter which method above you have used, you should see the\n<code>#</code> symbol after the <code>sec</code> keyword, confirming\nthat the private master key is not usable.</p>\n <p>If you want to be really sure, try to do something that requires the\nprivate master key, such as adding a new dummy User ID to your\nkeyring:</p>\n <pre class=\"console\">$ <strong>gpg2 --edit-key alice@example.org</strong>\nSecret key is available.\n\npub rsa4096/CB2F38F25B491A54\n created: 2014-12-31 expires: 2017-12-30 usage: SC \n trust: ultimate validity: ultimate\nsub rsa2048/04BB7F8FDEC5E5D9\n created: 2014-12-31 expires: 2015-12-31 usage: S \nsub rsa2048/BBB6B86627C2D43A\n created: 2014-12-31 expires: 2015-12-31 usage: E \nsub rsa2048/7D2233B8833E70AF\n created: 2014-12-31 expires: 2015-12-31 usage: A \n[ultimate] (1). Alice &lt;alice@example.org&gt;\n\ngpg&gt; <strong>adduid</strong>\nReal name: <strong>Dummy</strong>\nEmail address: <strong>dummy@example.org</strong>\nComment: \nYou selected this USER-ID:\n \"Dummy &lt;dummy@example.org&gt;\"\n\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? <strong>O</strong>\ngpg: <em>signing failed: No secret key</em>\ngpg: <em>signing failed: No secret key</em>\n\ngpg&gt; <strong>quit</strong></pre>\n <p>Note the <code>signing failed: No secret key</code> messages.</p>\n <h2>How to use the offline master key</h2>\n <p>There are several ways to make GnuPG temporarily use the offline\nmaster key. The method I am currently using goes along the following\nlines.</p>\n <p>Let&#x2019;s assume you have stored the <code>alice-private-keys.asc</code>\nfile (generated in step 1 above) on a USB stick, and that, when the\nstick is mounted, the file is available at a location such as\n<code>/run/media/alice/mystick/alice-private-keys.asc</code>.</p>\n <p>Create a temporary directory to use as a temporary GnuPG home:</p>\n <pre class=\"console\">$ <strong>mkdir ~/gpgtmp</strong>\n$ <strong>chmod 0700 ~/gpgtmp</strong></pre>\n <p>Import your complete private keyring on that directory from your\nbackup file:</p>\n <pre class=\"console\">$ <strong>gpg2 --homedir ~/gpgtmp --import /run/media/alice/mystick/alice-private-keys.asc</strong>\ngpg: keybox &#x2018;gpgtmp/pubring.kbx&#x2019; created\ngpg: gpgtmp/trustdb.gpg: trustdb created\ngpg: key 5B491A54: public key \"Alice &lt;alice@example.org&gt;\" imported\ngpg: key 5B491A54: secret key imported\ngpg: Total number processed: 4\ngpg: imported: 1\ngpg: secret keys read: 4\ngpg: secret keys imported: 3</pre>\n <p>You may now unmount your USB stick and put it back in its safe\nplace.</p>\n <p>Now edit the key you want to sign. Use the temporary directory as\nGnuPG home, but add the public keyring from your normal GnuPG home\ndirectory:</p>\n <pre class=\"console\">$ <strong>gpg2 --homedir ~/gpgtmp --keyring ~/.gnupg/pubring.kbx --edit-key bob@example.com</strong></pre>\n <div class=\"note\">\n <p>If you were using GnuPG 2.0 prior to GnuPG 2.1, your public keyring\n is probably still in the &#x201C;legacy&#x201D; format and will be called\n <code>pubring.gpg</code> instead of <code>pubring.kbx</code>.</p>\n </div>\n <p>When you have finished, terminate the GnuPG Agent which was started\nin the temporary directory, and wipe out that directory:</p>\n <pre class=\"console\">$ <strong>gpg-connect-agent --homedir ~/gpgtmp KILLAGENT /bye</strong>\n$ <strong>rm -rf ~/gpgtmp</strong></pre>\n <p>A drawback of this method is that since you are not using your normal\nGnuPG&#x2019;s home directory, any configuration file in that directory will be\nignored. If that is a concern, you may copy or symlink your\n<code>$GNUPGHOME/gpg.conf</code> file into the temporary directory\nbefore invoking GnuPG.</p>\n <p>I strongly suggest using a small script to automatize the above\ncommands&#x2014;such as this one&#x200B;<sup><a class=\"footnote-call\" href=\"http://www.incenp.org/notes/2015/using-an-offline-gnupg-master-key.html#footnote1\" id=\"fcall1\">1</a></sup>:</p>\n <pre class=\"file\">#!/bin/bash\n\n# The DOS label of your USB stick\nLABEL=mystick\n\n# The pathname to the file containing your private keys\n# on that stick\nKEYFILE=alice-private-keys.asc\n\n# Identify the device file corresponding to your USB stick\ndevice=$(/sbin/findfs $LABEL)\n\nif [ -n \"$device\" ]; then\n # Mount the stick\n udisksctl mount --block-device $device\n\n # Create temporary GnuPG home directory\n tmpdir=$(mktemp -d -p $XDG_RUNTIME_DIR gpg.XXXXXX)\n\n # Import the private keys\n gpg2 --homedir $tmpdir --import /run/media/$USER/$LABEL/$KEYFILE\n\n # Unmount the stick\n udisksctl unmount --block-device $device\n\n # Launch GnuPG from the temporary directory,\n # with the default public keyring\n # and with any arguments given to us on the command line\n gpg2 --homedir $tmpdir --keyring ${GNUPGHOME:-$HOME/.gnupg}/pubring.kbx $@\n\n # Cleaning up\n [ -f $tmpdir/S.gpg-agent ] &amp;&amp; gpg-connect-agent --homedir $tmpdir KILLAGENT /bye\n rm -rf $tmpdir\nfi</pre>\n <h2>Some further thoughts</h2>\n <h3>Splitting the master key in parts</h3>\n <p>If you don&#x2019;t like the idea to keep your offline master key on a\nsingle USB stick,<sup><a class=\"footnote-call\" href=\"http://www.incenp.org/notes/2015/using-an-offline-gnupg-master-key.html#footnote2\" id=\"fcall2\">2</a></sup> you may want to use a <em>N-of-M secret sharing scheme</em> to\nsplit the backup file in <em>M</em> parts, in such a way that <em>N</em>\nparts at least are needed to reconstruct the file.</p>\n <p>For example, using <a href=\"http://www.digital-scurf.org/software/libgfshare\">libgfshare</a>&#x2019;s\nimplementation of <a href=\"http://dl.acm.org/citation.cfm?doid=359168.359176\">Shamir&#x2019;s\n Secret Sharing Scheme</a>:</p>\n <pre class=\"console\">$ <strong>gfsplit -n 2 -m 3 alice-private-keys.asc</strong></pre>\n <p>This will produce three files of the form\n<code>alice-private-keys.asc.NNN</code>, any two of which will be needed\nto reconstruct the original file. You may then store each of them on a\ndifferent support.</p>\n <h3>Another method: Manipulating GnuPG Agent&#x2019;s key files directly</h3>\n <p>Currently (with GnuPG 2.1), GnuPG Agent stores each private key in a\nseparate file <code>$GNUPGHOME/private-keys-v1.d/NNN&#x2026;NNN.key</code>,\nwhere <em>NNN&#x2026;NNN</em> is the 20-bytes long keygrip of the key.</p>\n <p>This allows a different and much simpler method to put the master\nprivate key offline, and bringing it back only when needed.</p>\n <p>Back up the private key and delete it from the private keyring in a\nsingle step simply by moving the corresponding file from the\n<code>$GNUPGHOME/private-keys-v1.d</code> directory (once you know its\nkeygrip):</p>\n <pre class=\"console\">$ <strong>mv ~/.gnupg/private-keys-v1.d/D4DF0C35D3E22FA6AC37DA2E54FB03F73616A3CB.key \\\n /run/media/alice/mystick/</strong></pre>\n <p>To use the master key when needed, copy or symlink it from your\nstorage device back into the private keys directory, perform the\noperation requiring the master key, then delete the file or symlink. No\nmore need to use a temporary GnuPG home directory.</p>\n <div class=\"note\">\n <p>A few remarks regarding this method:</p>\n <ul>\n <li>the private key is stored in its protected form, so it is as\n well protected using this method as it was using the\n <code>--export-secret-key</code> option above;</li>\n <li>GnuPG Agent only caches the passphrase protecting the key, never\n the key itself&#x2014;it reads the key from file everytime the key is\n required, which means that as soon as the key file is removed from\n the agent&#x2019;s directory, the key is no longer available;</li>\n <li>a possible cause of concern is that this method depends on what\n may be considered as implementation details of GnuPG Agent, which\n may very well change in future GnuPG versions&#x2014;by contrast the first\n method above only depends on GnuPG&#x2019;s public interface.</li>\n </ul>\n </div>\n \n </section>\n </div>"
    }, {
        "title": "A Valid SSL Certificate for Every IP Address | Pivotal P.O.V.",
        "url": "http://blog.pivotal.io/labs/labs/sslip-io-a-valid-ssl-certificate-for-every-ip-address",
        "excerpt": "sslip.io enables developers to equip their servers with valid SSL certificates for free (on the downside, the server's URI will be an awkward mash-up of the server's IP address and the sslip.io&hellip;",
        "date_saved": "Thu Jul 28 20:08:36 EDT 2016",
        "html_file": "a_valid_ssl_certificate_for_every_ip_address__pivotal_pov.html",
        "png_file": "a_valid_ssl_certificate_for_every_ip_address__pivotal_pov.png",
        "md_file": "a_valid_ssl_certificate_for_every_ip_address__pivotal_pov.md",
        "content": "<div><div class=\"post-34152 post type-post status-publish format-standard has-post-thumbnail hentry category-labs tag-bosh tag-cloud-foundry tag-devops tag-open-source channel-labs channel-pivotal-labs\">\n\t\t\t\t\t\t\t\t\n<p><a href=\"https://sslip.io/\">sslip.io</a> enables developers to equip their servers with valid SSL certificates for free (on the downside, the server's URI will be an awkward mash-up of the server's IP address and the sslip.io domain, e.g. <a href=\"https://52-0-56-137.sslip.io/\">https://52-0-56-137.sslip.io</a>). Two components make this possible: a custom DNS (<a href=\"https://en.wikipedia.org/wiki/Domain_Name_System\">Domain Name System</a>) backend that resolves hostnames to an embedded IP address (e.g. 192-168-0-1.sslip.io resolves to 192.168.0.1), and an SSL key and wildcard certificate downloadable from GitHub.</p>\n<p>This blog post discusses how we <sup><a href=\"http://blog.pivotal.io/labs/labs/sslip-io-a-valid-ssl-certificate-for-every-ip-address#authors\">[1]</a></sup> implemented the former component (the custom DNS backend) (the latter component's implementation, a file downloaded from GitHub, is trivial and thus not discussed).</p>\n<h3 id=\"sslip-io-implementation\">sslip.io Implementation</h3>\n<ul>\n<li>We wanted the concept to be easy to understand. To that end, we made it similar to a popular service, <a href=\"http://xip.io/\">xip.io</a>.</li>\n<li>We wanted it to be easy to implement. Fortunately, we didn't have to start from scratch&#x2014;<a href=\"https://github.com/sstephenson\">Sam Stephenson</a> had already done much of the heavy lifting when he created xip.io, and he made the source code <a href=\"https://github.com/basecamp/xip-pdns\">freely available</a>.</li>\n<li>We wanted it to be a <a href=\"https://bosh.io/docs/create-release.html\">BOSH release</a>, so that we could deploy our servers using a single command (i.e. <code>bosh-init deploy sslip.yml</code>). Also, a stipulation of the Hack Day (a day that Pivotal Software set aside to work on fun projects) was that our project had to be Cloud Foundry-related. We wrote much of sslip.io during the Hack Day.</li>\n</ul>\n<h3 id=\"modifying-xip-io-to-create-sslip-io\">Modifying xip.io to create sslip.io</h3>\n<p>xip.io's backend almost accomplished what we needed, but not quite: it lacked the ability to resolve hostnames that were in the sslip.io domain (i.e. not in an sslip.io subdomain). In fact, the typical sslip.io hostname did not resolve properly until it was 3 or more subdomains removed from the sslip.io domain. Here are some examples:</p>\n<table>\n<thead>\n<tr>\n<th>hostname</th>\n<th># of subdomains</th>\n<th>IP address(es)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2.sslip.io</td>\n<td>0</td>\n<td>2.0.0.0 (broken)</td>\n</tr>\n<tr>\n<td>1.2.sslip.io</td>\n<td>1</td>\n<td>2.0.0.0 (broken)</td>\n</tr>\n<tr>\n<td>168.1.2.sslip.io</td>\n<td>2</td>\n<td>2.0.0.0 (broken)</td>\n</tr>\n<tr>\n<td>192.168.1.2.sslip.io</td>\n<td>3</td>\n<td>192.168.1.2 (good)</td>\n</tr>\n<tr>\n<td>www.192.168.1.2.sslip.io</td>\n<td>4</td>\n<td>192.168.1.2 (good)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>The hostname must be in the sslip.io domain for the wildcard certificate to work properly</strong>; it will not work in an sslip.io subdomain. This is a technical limitation of wildcard certs and the manner in which browsers treat them (read more <a href=\"http://security.stackexchange.com/questions/10538/what-certificates-are-needed-for-multi-level-subdomains\">here</a>).</p>\n<p>Our solution: use dashes, not dots, to separate the numbers embedded in the hostname. Some examples:</p>\n<table>\n<thead>\n<tr>\n<th>hostname</th>\n<th># of subdomains</th>\n<th>IP address(es)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>192-168-1-2.sslip.io</td>\n<td>0</td>\n<td>192.168.1.2</td>\n</tr>\n<tr>\n<td>10-9-8-7.sslip.io</td>\n<td>0</td>\n<td>10.9.8.7</td>\n</tr>\n<tr>\n<td>www-172-16-0-1.sslip.io</td>\n<td>0</td>\n<td>172.16.0.1</td>\n</tr>\n</tbody>\n</table>\n<p>We modified <em>xip-pdns.sh</em>, the core of the xip.io backend, to accommodate dashes as well as dots. Although we were surprised to discover that the xip.io backend program was a bash script, we found the coding to be tight, and making the needed changes was fairly straightforward:</p>\n<pre class=\"editor-colors lang-diff\"><p class=\"line\"><span class=\"text plain null-grammar\"><span>@@&#xA0;-68,6&#xA0;+68,7&#xA0;@@&#xA0;log()&#xA0;{</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+DASHED_IP_SUBDOMAIN_PATTERN=\"(^|-|\\.)(((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)-){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))\\$\"</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>@@&#xA0;-95,6&#xA0;+96,10&#xA0;@@&#xA0;subdomain_is_ip()&#xA0;{</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+subdomain_is_dashed_ip()&#xA0;{</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+&#xA0;&#xA0;[[&#xA0;\"$SUBDOMAIN\"&#xA0;=~&#xA0;$DASHED_IP_SUBDOMAIN_PATTERN&#xA0;]]</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>@@&#xA0;-109,6&#xA0;+114,11&#xA0;@@&#xA0;resolve_ip_subdomain()&#xA0;{</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+resolve_dashed_ip_subdomain()&#xA0;{</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+&#xA0;&#xA0;[[&#xA0;\"$SUBDOMAIN\"&#xA0;=~&#xA0;$DASHED_IP_SUBDOMAIN_PATTERN&#xA0;]]&#xA0;||&#xA0;true</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+&#xA0;&#xA0;echo&#xA0;\"${BASH_REMATCH[2]//-/.}\"</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>@@&#xA0;-174,6&#xA0;+184,9&#xA0;@@&#xA0;while&#xA0;read_query;&#xA0;do</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;elif&#xA0;subdomain_is_dashed_ip;&#xA0;then</span></span></p><p class=\"line\"><span class=\"text plain null-grammar\"><span>+&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;answer_subdomain_a_query_for&#xA0;dashed_ip</span></span></p></pre>\n<p>We made the changes, which led us to the next step: deploying our changes with BOSH.</p>\n<h3 id=\"creating-the-bosh-release\">Creating the BOSH release</h3>\n<p>Creating the BOSH release posed no problems.</p>\n<ul>\n<li>We followed the <a href=\"https://bosh.io/docs/create-release.html\">BOSH instructions</a></li>\n<li>The release is available on <a href=\"https://github.com/cloudfoundry-community/xip-release\">GitHub</a></li>\n<li>We cut corners when creating a release. Specifically, in our <a href=\"https://github.com/cloudfoundry-community/xip-release/blob/master/packages/pdns-3.4.6/packaging\">packaging script</a> we installed dependent packages (e.g. boost-devel, libmysqlclient-dev) directly using the OS (i.e. <code>yum</code> in the case of a CentOS stemcell, <code>apt-get</code> in the case of Ubuntu). This is strongly discouraged, but the alternative&#x2014;building releases for the dependencies&#x2014;would have jeopardized our ability to finish within the 8-hour span of Hack Day.</li>\n</ul>\n<h3 id=\"rolling-your-own\">Rolling Your Own</h3>\n<p>Rolling your own version of an xip.io-style nameserver is fairly straightforward; the xip BOSH release has <a href=\"https://github.com/cloudfoundry-community/xip-release#deploying-a-custom-version-of-xip-to-amazon-aws\">instructions</a> for setting up the Amazon AWS environment, deploying, and testing.</p>\n<p>Although there is work involved setting up the BOSH manifest (e.g. setting up the AWS VPC), it's not terribly burdensome. We encourage you to review the <a href=\"https://github.com/cloudfoundry-community/xip-release/blob/master/examples/xip-bosh-init-aws.yml\">sample manifest</a>. Most of it is boilerplate; search for \"CHANGEME\" to see what would need to be changed to deploy your own version. Surprisingly little.</p>\n<h3 id=\"the-economics-of-sslip-io-238-55-per-year\">The Economics of sslip.io: $238.55 per year</h3>\n<p>Costs are a vital but often-overlooked dimension of smaller engineering projects.</p>\n<p>The sslip.io service costs $238.55 per year, two-thirds of which are paid to Amazon AWS for two <sup><a href=\"http://blog.pivotal.io/labs/labs/sslip-io-a-valid-ssl-certificate-for-every-ip-address#rfc1034\">[2]</a></sup> DNS nameservers that run 24 hours a day, answering queries for the sslip.io domain. In our case we were fortunate&#x2014;the servers were already in place for a previous project, eliminating that line item (i.e. we only had to pay for the registration and certificates, not for the servers).</p>\n<table>\n<thead>\n<tr>\n<th>Expense</th>\n<th>Vendor</th>\n<th>Cost</th>\n<th>Cost / year</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>sslip.io</em> domain name registration</td>\n<td>namecheap.com</td>\n<td>$164.40 5-year</td>\n<td>$32.88</td>\n</tr>\n<tr>\n<td>*<em>.sslip.io</em> wildcard cert</td>\n<td>cheapsslshop.com</td>\n<td>$165.00 3-year</td>\n<td>$55.00</td>\n</tr>\n<tr>\n<td>2 &#xD7; EC2 t2.micro instances</td>\n<td>Amazon AWS</td>\n<td>$0.0172 / hour <sup><a href=\"http://blog.pivotal.io/labs/labs/sslip-io-a-valid-ssl-certificate-for-every-ip-address#ec2_pricing\">[3]</a></sup></td>\n<td>$150.67</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"a-mysterious-1-second-delay-unmasked\">A Mysterious 1-Second Delay, Unmasked</h3>\n<p>In one of the more curious moments of troubleshooting, we noticed a mysterious 1+ second delay in the<br>\nPowerDNS server response. It became apparent that the delay was caused by a series of<br>\nunfortunate events (involving IPv6):</p>\n<ul>\n<li>the nameserver (<em>ns-he.nono.com</em>) had both IPv4 (78.47.249.19) and IPv6 addresses (2a01:4f8:d12:148e::2)</li>\n<li>the client (<em>maria.nono.com</em>) also had both IPv4 (10.9.9.140) and IPv6 (2601:646:0100:4253:aa66:7fff:fe03:4c1b) <sup><a href=\"http://blog.pivotal.io/labs/labs/sslip-io-a-valid-ssl-certificate-for-every-ip-address#emoji\">[4]</a></sup> addresses</li>\n<li>the <code>nslookup</code> client had an affinity for the IPv6 address</li>\n<li>PowerDNS by default does not bind to the IPv6 address (a surprising and dismaying decision)</li>\n<li>the initial attempt to resolve to the nameserver's IPv6 address would fail</li>\n<li><em>nslookup</em> would fall back to the IPv4 address</li>\n<li>the lookup would succeed.</li>\n</ul>\n<p>The fix was to force PowerDNS to bind to the IPv6 port by adding the following lineto the <em>pdns.conf</em> file:</p>\n<pre class=\"editor-colors lang-text\"></pre>\n<h3 id=\"acknowledgements\">Acknowledgements</h3>\n<p>We'd like to thank Pivotal Software for setting aside a Hack Day where we could implement sslip.io as a proof of concept.</p>\n<p>We'd like to thank Sam Stephenson for writing xip.io, which was the initial inspiration for sslip.io, and for suggesting the domain name sslip.io.</p>\n<p><a href=\"https://github.com/justinjsmith\">Justin Smith</a> consulted on the security implications of releasing an SSL certificate and key to the general public.</p>\n\n<p><a name=\"authors\"><sup>1</sup></a> <a href=\"https://github.com/tylerschultz\">Tyler Schultz</a>, <a href=\"https://github.com/APShirley\">Alvaro Perez-Shirley</a>, and <a href=\"https://github.com/cunnie\">Brian Cunnie</a> created sslip.io</p>\n<p><a name=\"rfc1034\"><sup>2</sup></a> We must have at least two name servers; we can't get away with just one. Per <a href=\"http://tools.ietf.org/html/rfc1034\">RFC 1034</a>:</p>\n<blockquote><p>\nBy administrative fiat, we require every zone to be available on at least two servers, and many zones have more redundancy than that.\n</p></blockquote>\n<p><a name=\"ec2_pricing\"><sup>3</sup></a> Amazon effectively charges <a href=\"https://aws.amazon.com/ec2/pricing/\">$0.0086/hour</a> for a 1 year term all-upfront t2.micro reserved instance.</p>\n<p>For those among you who worry that a t2.micro instance might be underpowered to serve DNS, fear not. If anything, our t2.micro instance is overpowered:</p>\n<p>We use <code>top</code> to gauge our server's performance:</p>\n<pre class=\"editor-colors lang-text\"></pre>\n<ul>\n<li>CPU is not stressed:\n<ul>\n<li>15-minute <a href=\"https://en.wikipedia.org/wiki/Load_%28computing%29\">load average</a> is 0.05. We typically don't worry about a system until the load average (sometimes referred to as the \"run queue\") climbs above 6. Note that Linux systems, of which ours is one, has a generous accounting of load average: not only does it include processes that are waiting for CPU but also includes processes that are blocked on I/O. This means that on Linux systems \"load average\" is not a good measure of CPU usage; instead, it lumps I/O and CPU usage in the same bucket.</li>\n<li>CPU idle percentage is typically 98%. This means that 98% of the time the processor has nothing to do.</li>\n</ul>\n</li>\n<li>RAM is not stressed: of the 1015MiB of RAM, 182MiB are free, and only 6MiB of swap is used. We typically don't worry about RAM on Linux systems until the swap space used exceeds twice the physical RAM.</li>\n</ul>\n<p>Our disk space is adequate, too, as measured by <code>df</code>:</p>\n<pre class=\"editor-colors lang-text\"></pre>\n<p>Note that our t2.micro instance is not exclusively dedicated to serving DNS; it's also running an <a href=\"http://www.pool.ntp.org/en/\">NTP Pool</a> server, processing ~1700 NTP queries / second. And running an nginx server. And yet, in spite of those extra processes, the server is essentially doing nothing 95% of the time.</p>\n<p><a name=\"emoji\"><sup>4</sup></a> The sharp-eyed reader may notice that \":0100\" which appears in maria.nono.com's IPv6 address is not appropriately abbreviated (i.e. the leading \"0\" should be stripped). The reason the 0 isn't stripped is that when it is stripped, it becomes the emoji <a href=\"http://emojipedia.org/hundred-points-symbol/\">\"100\"</a> (<img class=\"emoji\" title=\":100:\" alt=\"100\" src=\"http://blog.pivotal.io/opt/homebrew-cask/Caskroom/atom/1.0.7/Atom.app/Contents/Resources/app.asar/node_modules/roaster/node_modules/emoji-images/pngs/100.png\">) in our <a href=\"https://atom.io/\">Markdown editor</a>, which has the unfortunate side-effect of turning a conventional, boring IPv6 address into a spectacle.</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>"
    }, {
        "title": "cyrus-and/gdb-dashboard",
        "url": "https://github.com/cyrus-and/gdb-dashboard",
        "excerpt": "Modular visual interface for GDB in Python. This comes as a standalone single-file .gdbinit which, among the other things, enables a configurable dashboard showing the most relevant information&hellip;",
        "date_saved": "Thu Jul 28 20:08:38 EDT 2016",
        "html_file": "cyrusandgdbdashboard.html",
        "png_file": "cyrusandgdbdashboard.png",
        "md_file": "cyrusandgdbdashboard.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Modular visual interface for GDB in Python.</p>\n\n<p>This comes as a standalone single-file <a href=\"https://raw.githubusercontent.com/cyrus-and/gdb-dashboard/master/.gdbinit\"><code>.gdbinit</code></a> which, among the other\nthings, enables a configurable dashboard showing the most relevant information\nduring the program execution. Its main goal is to reduce the number of GDB\ncommands issued to inspect the current program status allowing the programmer to\nfocus on the control flow instead.</p>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#installation\"></a>Installation</h2>\n\n<p>Just place <a href=\"https://raw.githubusercontent.com/cyrus-and/gdb-dashboard/master/.gdbinit\"><code>.gdbinit</code></a> in your home directory, for example:</p>\n\n<pre><code>wget -P ~ git.io/.gdbinit\n</code></pre>\n\n<h2><a id=\"user-content-screenshot\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#screenshot\"></a>Screenshot</h2>\n\n<p><a href=\"https://camo.githubusercontent.com/a45a4a05692295918e27689833d87c83b096f89f/687474703a2f2f692e696d6775722e636f6d2f4973587030524b2e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/a45a4a05692295918e27689833d87c83b096f89f/687474703a2f2f692e696d6775722e636f6d2f4973587030524b2e706e67\" alt=\"Screenshot\"></a></p>\n\n<h2><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#features\"></a>Features</h2>\n\n<ul>\n<li><p>Single GDB init file.</p></li>\n<li><p>Interaction with GDB using the native <a href=\"https://sourceware.org/gdb/onlinedocs/gdb/Python-API.html\">Python API</a>.</p></li>\n<li><p>Several default modules are included to address the most basic\nneeds: source code, assembly, registers, etc.).</p></li>\n<li><p>User-defined modules can be easily developed by extending a\n<a href=\"https://github.com/cyrus-and/gdb-dashboard#custom-modules\">Python class</a>.</p></li>\n<li><p>Additional configuration files (both <a href=\"https://sourceware.org/gdb/onlinedocs/gdb/Command-Files.html\">GDB</a> and Python) are read\nfrom <code>~/.gdbinit.d/</code>.</p></li>\n<li><p>Fully stylable user interface and dynamic command prompt.</p></li>\n<li><p>No GDB command has been redefined, instead all the\nfeatures are available as subcommands of the main <code>dashboard</code> command.</p></li>\n</ul>\n\n<h2><a id=\"user-content-default-modules\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#default-modules\"></a>Default modules</h2>\n\n<p>Follows the list of bundled default modules. Refer to the GDB help system for\nthe full syntax.</p>\n\n<ul>\n<li><p><code>assembly</code> shows the disassembled code surrounding the program counter. The\ninstructions constituting the current statement are marked, if available.</p></li>\n<li><p><code>history</code> lists the last entries of the GDB value history.</p></li>\n<li><p><code>memory</code> allows to inspect memory regions.</p></li>\n<li><p><code>registers</code> shows the CPU registers and their values.</p></li>\n<li><p><code>source</code> shows the program source code, if available.</p></li>\n<li><p><code>stack</code> shows the current stack trace including the function name and the\nfile location, if available. Optionally list the frame arguments and locals\ntoo.</p></li>\n<li><p><code>threads</code> lists the currently available threads.</p></li>\n<li><p><code>expressions</code> watches user expressions.</p></li>\n</ul>\n\n<h2><a id=\"user-content-commands\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#commands\"></a>Commands</h2>\n\n<p>The GDB documentation is available at <code>help dashboard</code>. Just like any GDB\ncommand, abbreviations are possible. Moreover, the alias <code>db</code> resolves to\n<code>dashboard</code>.</p>\n\n<h3><a id=\"user-content-dashboard\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#dashboard\"></a>dashboard</h3>\n\n<p>This is the root command and it is used to manually redisplay the dashboard.</p>\n\n<h3><a id=\"user-content-dashboard--enabled-onoff\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#dashboard--enabled-onoff\"></a>dashboard -enabled [on|off]</h3>\n\n<p>Enable or disable the automatic display of the dashboard whenever the target\nprogram stops. The dashboard is enabled by default and even when it is disabled,\nit can be manually displayed with <code>dashboard</code>.</p>\n\n<h3><a id=\"user-content-dashboard--layout-directive\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#dashboard--layout-directive\"></a>dashboard -layout [<code>&lt;directive&gt;</code>...]</h3>\n\n<p>By default, all the modules are enabled and placed within the dashboard in\nalphabetical order. As the number of modules grows, it is important to decide\nwhich modules will be part of the dashboard, and where.</p>\n\n<p>Each directive is in the form <code>[!]&lt;module&gt;</code>, when the <code>!</code> is present then the\ncorresponding module is disabled by default. The order of directives denotes the\ndisplay order within the dashboard. For example:</p>\n\n<pre><code>dashboard -layout source !assembly stack\n</code></pre>\n\n<p>Modules which do not appear in the list are disabled and placed after the last\nelement in alphabetical order.</p>\n\n<p>When executed without arguments, this command lists all the available modules.</p>\n\n<h3><a id=\"user-content-dashboard--style-name-value\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#dashboard--style-name-value\"></a>dashboard -style [<code>&lt;name&gt;</code> [<code>&lt;value&gt;</code>]]</h3>\n\n<p>Access to the stylable attributes of the dashboard, see <a href=\"https://github.com/cyrus-and/gdb-dashboard#stylable-attributes\">Stylable\nattributes</a>. For example, to change the prompt to\nsomething more familiar:</p>\n\n<pre><code>dashboard -style prompt '(gdb)'\n</code></pre>\n\n<p>The argument is parsed as a Python literal and converted to the proper type.</p>\n\n<p>When only the name is specified this command shows the current value,\nwhereas without arguments prints all the attributes.</p>\n\n<h3><a id=\"user-content-modules-subcommands\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#modules-subcommands\"></a>Modules subcommands</h3>\n\n<p>Every module adds its own subcommand <code>dashboard &lt;module&gt;</code> which is used to\ntoggle the enable flag and to redisplay the dashboard.</p>\n\n<p>Modules may also declare additional subcommands, see <code>help dashboard &lt;module&gt;</code>\nfrom GDB.</p>\n\n<p>Moreover, if a module declare some stylable attributes then the command\n<code>dashboard &lt;module&gt; -style</code> will be available. Its functioning is equivalent to\nthe <a href=\"https://github.com/cyrus-and/gdb-dashboard#dashboard--style-name-value\"><code>dashboard -style</code></a> command but it does apply\nto a module.</p>\n\n<h2><a id=\"user-content-configuration\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#configuration\"></a>Configuration</h2>\n\n<p>Files in <code>~/.gdbinit.d/</code> are executed in alphabetical order, but the preference\nis given to Python files. If there are subdirectories, they are walked\nrecursively. The idea is to keep separated the custom modules definition from\nthe configuration itself.</p>\n\n<p>The main configuration file can be placed in <code>~/.gdbinit.d/</code> (say\n<code>~/.gdbinit.d/init</code>) and should be used to tune the dashboard styles and modules\nconfiguration but also the usual GDB parameters.</p>\n\n<p>The alternative is to hard code changes in the provided <a href=\"https://raw.githubusercontent.com/cyrus-and/gdb-dashboard/master/.gdbinit\"><code>.gdbinit</code></a>, to do\nso just add new modules and GDB settings under <code># Default modules</code> and <code># Better\nGDB defaults</code> respectively.</p>\n\n<h2><a id=\"user-content-stylable-attributes\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#stylable-attributes\"></a>Stylable attributes</h2>\n\n<p>There is number of attributes that can be used to customize the aspect of the\ndashboard and of its modules. They are documented within the GDB help system.\nFor what concerns the dashboard itself it can be reached with:</p>\n\n<pre><code>help dashboard -style\n</code></pre>\n\n<p>Whereas for modules:</p>\n\n<pre><code>help dashboard &lt;module&gt; -style\n</code></pre>\n\n<h3><a id=\"user-content-ansi-escape-codes\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#ansi-escape-codes\"></a>ANSI escape codes</h3>\n\n<p>Colors and text styles are specified using <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\">ANSI</a> escape codes. For\nexample setting a style to <code>1;31</code> will produce <code>^[[1;31m</code>, which will result in\ndisplaying the text red (<code>31</code>) and bright (<code>1</code>). The ansi output can be disabled\nby setting the <code>ansi</code> attribute (note that this will not affect the command\nprompt).</p>\n\n<h3><a id=\"user-content-dividers\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#dividers\"></a>Dividers</h3>\n\n<p>A divider is basically a terminal-wide horizontal line with an optional label.\nPrimary dividers are those used to separate the modules, whereas secondary\ndividers may be used inside modules to logically separate different sections.\nWhen a section or module is empty then the styles used for the divider are those\nwith the <code>off</code> qualifier.</p>\n\n<h3><a id=\"user-content-common-styles\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#common-styles\"></a>Common styles</h3>\n\n<p>These are general purpose <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\">ANSI</a> styles defined for convenience and used\nwithin the default modules.</p>\n\n<ul>\n<li><code>style_selected_1</code></li>\n<li><code>style_selected_2</code></li>\n<li><code>style_low</code></li>\n<li><code>style_high</code></li>\n<li><code>style_error</code></li>\n</ul>\n\n<h2><a id=\"user-content-custom-modules\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#custom-modules\"></a>Custom modules</h2>\n\n<p>The idea of custom modules is that they provide ways to access readonly\ninformation from the the target program status; it is safe to assume that they\nwill be queried during the program execution only.</p>\n\n<p>Custom modules must inherit the <code>Dashboard.Module</code> class and define some\nmethods:</p>\n\n<ul>\n<li><p><code>label</code> returns the module label which will appear in the divider.</p></li>\n<li><p><code>lines</code> return a list of strings which will form the module content. When a\nmodule is temporarily unable to produce its content, it should return an\nempty list; its divider will then use the styles with the <code>off</code> qualifier.</p></li>\n</ul>\n\n<p>The name of a module is automatically obtained by the class name.</p>\n\n<p>Modules are instantiated once at initialization time and kept during the whole\nthe GDB session.</p>\n\n<p>Optionally, a module may include a description which will appear in the GDB help\nsystem by specifying a Python docstring for the class.</p>\n\n<p>Optionally, a module may define stylable attributes by defining the <code>attributes</code>\nmethod returning a dictionary in which the key is the attribute name and the\nvalue is another dictionary:</p>\n\n<ol>\n<li><p><code>default</code> is the initial value for this attribute.</p></li>\n<li><p><code>doc</code> is the documentation of this attribute which will appear in the GDB\nhelp system. This key can be omitted.</p></li>\n<li><p><code>name</code> is the name of the attribute of the Python object, defaults to the\nkey value.</p></li>\n<li><p><code>type</code> is the type of this attribute, it is used to coerce the value passed\nas an argument to the proper type, or raise an exception. This key defaults\nto the <code>str</code> type.</p></li>\n<li><p><code>check</code> is a control callback which accept the coerced value and returns\n<code>True</code> if the value satisfies the constraint and <code>False</code> otherwise. This key\nis optional, when omitted no check is performed.</p></li>\n</ol>\n\n<p>Optionally, a module may declare subcommands by defining the <code>commands</code> method\nreturning a dictionary in which the key is the command name and the value is\nanother dictionary:</p>\n\n<ol>\n<li><p><code>action</code> is the callback to be executed which accepts the raw input string\nfrom the GDB prompt. Callbacks may raise exceptions to notify erroneous\nsituations which message will be shown automatically to the user.</p></li>\n<li><p><code>doc</code> is the command documentation.</p></li>\n<li><p><code>completion</code> is the completion policy, one of the <code>gdb.COMPLETE_*</code> constants\ndefined in the <a href=\"https://sourceware.org/gdb/onlinedocs/gdb/Commands-In-Python.html\">reference manual</a>. This key is optional and\ndefaults to <code>None</code> which is equivalent to <code>gdb.COMPLETE_NONE</code>.</p></li>\n</ol>\n\n<h3><a id=\"user-content-common-functions\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#common-functions\"></a>Common functions</h3>\n\n<p>A number of auxiliary common functions are defined in the global scope, they can\nbe found in the provided <a href=\"https://raw.githubusercontent.com/cyrus-and/gdb-dashboard/master/.gdbinit\"><code>.gdbinit</code></a> and concern topics like <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\">ANSI</a>\noutput, divider formatting, conversion callbacks, etc. They should be more or\nless self-documented, some usage examples can be found within the bundled\ndefault modules.</p>\n\n<h3><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#example\"></a>Example</h3>\n\n<p>Default modules already provide a good example, but here is a simple module\nwhich may be used as a template for new custom modules, it allows the programmer\nto note down some snippets of text during the debugging session.</p>\n\n<div class=\"highlight highlight-python\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">Notes</span>(<span class=\"pl-e\">Dashboard.Module</span>):\n <span class=\"pl-s\"><span class=\"pl-pds\">\"\"\"</span>Simple user-defined notes.<span class=\"pl-pds\">\"\"\"</span></span>\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\"><span class=\"pl-c1\">__init__</span></span>(<span class=\"pl-smi\">self</span>):\n <span class=\"pl-v\">self</span>.notes <span class=\"pl-k\">=</span> []\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">label</span>(<span class=\"pl-smi\">self</span>):\n <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Notes<span class=\"pl-pds\">'</span></span>\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">lines</span>(<span class=\"pl-smi\">self</span>):\n out <span class=\"pl-k\">=</span> []\n <span class=\"pl-k\">for</span> note <span class=\"pl-k\">in</span> <span class=\"pl-v\">self</span>.notes:\n out.append(note)\n <span class=\"pl-k\">if</span> <span class=\"pl-v\">self</span>.divider:\n out.append(divider())\n <span class=\"pl-k\">return</span> out[:<span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>] <span class=\"pl-k\">if</span> <span class=\"pl-v\">self</span>.divider <span class=\"pl-k\">else</span> out\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">add</span>(<span class=\"pl-smi\">self</span>, <span class=\"pl-smi\">arg</span>):\n <span class=\"pl-k\">if</span> arg:\n <span class=\"pl-v\">self</span>.notes.append(arg)\n <span class=\"pl-k\">else</span>:\n <span class=\"pl-k\">raise</span> <span class=\"pl-c1\">Exception</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Cannot add an empty note<span class=\"pl-pds\">'</span></span>)\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">clear</span>(<span class=\"pl-smi\">self</span>, <span class=\"pl-smi\">arg</span>):\n <span class=\"pl-v\">self</span>.notes <span class=\"pl-k\">=</span> []\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">commands</span>(<span class=\"pl-smi\">self</span>):\n <span class=\"pl-k\">return</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>add<span class=\"pl-pds\">'</span></span>: {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>action<span class=\"pl-pds\">'</span></span>: <span class=\"pl-v\">self</span>.add,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>doc<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Add a note.<span class=\"pl-pds\">'</span></span>\n },\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>clear<span class=\"pl-pds\">'</span></span>: {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>action<span class=\"pl-pds\">'</span></span>: <span class=\"pl-v\">self</span>.clear,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>doc<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Remove all the notes.<span class=\"pl-pds\">'</span></span>\n }\n }\n\n <span class=\"pl-k\">def</span> <span class=\"pl-en\">attributes</span>(<span class=\"pl-smi\">self</span>):\n <span class=\"pl-k\">return</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>divider<span class=\"pl-pds\">'</span></span>: {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>doc<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Divider visibility flag.<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>default<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">True</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">bool</span>\n }\n }</pre></div>\n\n<p>To use the above just save it in a Python file, say <code>notes.py</code>, inside\n<code>~/.gdbinit.d/</code>, the the following commands (together with the help) will be\navailable:</p>\n\n<pre><code>dashboard notes\ndashboard notes add\ndashboard notes clear\ndashboard notes -style\n</code></pre>\n\n<h2><a id=\"user-content-resources\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#resources\"></a>Resources</h2>\n\n\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/cyrus-and/gdb-dashboard#license\"></a>License</h2>\n\n<p>Copyright (c) 2015 Andrea Cardaci <a href=\"mailto:cyrus.and@gmail.com\">cyrus.and@gmail.com</a></p>\n\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:</p>\n\n<p>The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.</p>\n\n<p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>\n</article>\n </div>"
    }, {
        "title": "WikiImunesExamples \u2013 IMUNES",
        "url": "http://imunes.net/wiki/wiki/WikiImunesExamples",
        "excerpt": "Examples Examples are available for download on github: &#x200B;https://github.com/imunes/imunes-examples. List of currently available documented examples: Installing additional packages in virtual&hellip;",
        "date_saved": "Thu Jul 28 20:08:42 EDT 2016",
        "html_file": "wikiimunesexamples_u2013_imunes.html",
        "png_file": "wikiimunesexamples_u2013_imunes.png",
        "md_file": "wikiimunesexamples_u2013_imunes.md",
        "content": "<div><div id=\"wikipage\" class=\"trac-content\">\n<h2 id=\"Examples\">Examples</h2>\n<p>\nExamples are available for download on github: <a class=\"ext-link\" href=\"https://github.com/imunes/imunes-examples\"><span class=\"icon\">&#x200B;</span>https://github.com/imunes/imunes-examples</a>.\n</p>\n<p>\nList of currently available documented examples:\n</p>\n<h2 id=\"Installingadditionalpackagesinvirtualnodes\">Installing additional packages in virtual nodes</h2>\n<p>\nTo install additional packages in the IMUNES virtual nodes the script <tt>pkg_add_imunes</tt> is included in the IMUNES release.\n</p>\n<pre class=\"wiki\"># pkg_add_imunes -r strogswan tshark\n</pre><h2 id=\"MakingscriptsforIMUNES\">Making scripts for IMUNES</h2>\n<p>\nIMUNES experiments can be started without GUI, by using the batch option:\n</p>\n<pre class=\"wiki\"># imunes -b topology.imn\nCreating nodes...\npc1 router1 router2 pc2 router3 \nCreating links...\nl0 l2 l1 l3 \nConfiguring nodes...\nn0 n1 n2 n3 n4 \nNetwork topology instantiated in 0 seconds (5 nodes and 4 links).\nExperiment ID = i95350\n</pre><p>\nIMUNES includes the following tools that enable easy scripting for virtual topologies:\n</p>\n<ul><li><a class=\"wiki\" href=\"http://imunes.net/wiki/wiki/WikiImunesExamples#himage\">himage</a> - runs a shell or command directly in a virtual node\n</li><li><a class=\"wiki\" href=\"http://imunes.net/wiki/wiki/WikiImunesExamples#hcp\">hcp</a> - copies files to/from (between) virtual nodes (i.e. copying config, log files)\n</li><li><a class=\"wiki\" href=\"http://imunes.net/wiki/wiki/WikiImunesExamples#vlink\">vlink</a> - alters all link properties (bandwidth, delay, BER, duplicate)\n</li><li>cleanupAll - shuts down <strong>all</strong> running experiments\n<pre class=\"wiki\"># cleanupAll\nTerminating processes...\nShutting down netgraph node \nShutting down vimages...\nCleanup completed in 1 seconds.\n</pre></li></ul><h2 id=\"himage\">himage</h2>\n<p>\nThe <tt>himage</tt> command is a wrapper around the standard <tt>jls</tt> and <tt>jexec</tt> tools that are used to manage FreeBSD jails.\n</p>\n<p>\nThe default output shows usage possibilities:\n</p>\n<pre class=\"wiki\">$ himage\n\nCommand himage can be used as an interface to the command jexec/jls\nfor virtual images. Hostname is used instead of jail name.\nHostname can be in the form: hostname or hostname@eid.\n\nUsage:\n himage vi_hostname command\n himage -v vi_hostname ---&gt; vimage name (eid.nodename)\n himage -n vi_hostname ---&gt; vimage node name (nodename)\n himage -e vi_hostname ---&gt; vimage eid name (eid)\n himage -j vi_hostname ---&gt; vimage jail id (jid)\n himage -d vi_hostname ---&gt; vimage path\n himage -l ---&gt; running experiments eids \n</pre><p>\nThe main usage scenario of himage is to run applications in IMUNES nodes without GUI by using node names (i.e. pc1, router1, dnsServer, ...) instead of node identificators (i.e. n0, n1, ...). Running a command inside the node named <tt>pc1</tt> in the current topology (must be ran as root):\n</p>\n<pre class=\"wiki\"># himage pc1 ls\n.cshrc\t\tboot.conf\tlibexec\t\trescue\t\tusr\n.profile\tdev\t\tmedia\t\troot\t\tvar\nCOPYRIGHT\tetc\t\tmnt\t\tsbin\nbin\t\thome\t\tout.log\t\tsys\nboot\t\tlib\t\tproc\t\ttmp\n</pre><p>\nIf there are multiple experiments running with the same node names then a warning will be issued:\n</p>\n<pre class=\"wiki\"># himage pc1\nError: pc1 is not a unique name.\nIt is used (at least) for nodes:\n 245 - pc1 /var/imunes/i95350/n0\n 256 - pc1 /var/imunes/ib5b10/n0\n</pre><p>\nNow you need to specify the experiment ID (<tt>@i95350</tt>) you want to run the command in:\n</p>\n<pre class=\"wiki\"># himage pc1@i95350 ls\n.cshrc\t\tboot.conf\tlibexec\t\trescue\t\tusr\n.profile\tdev\t\tmedia\t\troot\t\tvar\nCOPYRIGHT\tetc\t\tmnt\t\tsbin\nbin\t\thome\t\tout.log\t\tsys\nboot\t\tlib\t\tproc\t\ttmp\n</pre><p>\nTo see the list of running experiments run the following:\n</p>\n<pre class=\"wiki\">$ himage -l\ni95350\nia0890\nib5b10\n</pre><p>\nAdditional information about experiment nodes can be found using the other <tt>himage</tt> options:\n</p>\n<pre class=\"wiki\">$ himage -v pc1\ni95350.n0\n$ himage -n pc1\nn0\n$ himage -e pc1\ni95350\n$ himage -j pc1\n245\n$ himage -d pc1\n/var/imunes/i95350/n0\n</pre><h2 id=\"hcp\">hcp</h2>\n<p>\nThe <tt>hcp</tt> command is a wrapper around the standard <tt>cp</tt> command. It uses node names to refer to virtual node root partitions.\n</p>\n<p>\nHere are two examples that demonstrate copying from the virtual node and to the virtual node:\n</p>\n<pre class=\"wiki\"># hcp router1:boot.conf .\n# hcp start_script.sh router1:/root/\n</pre><p>\nThe command can also be used to copy files between virtual nodes and between experiments (using the same notation as <tt>himage</tt>):\n</p>\n<pre class=\"wiki\"># hcp router1:boot.conf router2:root/\n# hcp router1@i84ec0:root/start_script.sh router1@i56ad1:root/\n</pre>\n<p>\nThe <tt>vlink</tt> command is a wrapper around <tt>ngctl</tt>, netgraph tool used to create links between virtual nodes in IMUNES.\n</p>\n<p>\n<tt>vlink</tt> is used to change link parameters. The following link parameters are available:\n</p>\n<ul><li>bandwidth (bps, bits-per-second)\n</li><li>bit-error rate, BER (number of bits in which one error will occur)\n</li><li>delay (microseconds)\n</li><li>packet duplication (%, percentage of packets that will be duplicated)\n</li></ul><p>\nA link is identified by the endpoint node names. The link between pc1 and pc2 is identified by <tt>pc1-pc2</tt> or <tt>pc2-pc1</tt>.\n</p>\n<pre class=\"wiki\">Usage:\nvlink [options] link_name[@eid]\noptions:\n -bw value set link bandwidth (bps) &lt;&gt;\n -BER value set link BER (1/value) &lt;&gt;\n -dly value set link delay (us) &lt;&gt;\n -dup value set link duplicate (%) &lt;&gt;\n -r set link settings to default values\n -e value specify experiment ID &lt;&gt;\n -eid value specify experiment ID &lt;&gt;\n -? Print this message\n</pre><p>\nSetting the bandwidth to 10 Mb/s with a delay of 30 ms to the link connecting router1 and pc1:\n</p>\n<pre class=\"wiki\"># vlink -bw 10000000 -dly 30000 router1-pc1\n</pre><p>\nGenerate an error on one bit in a million:\n</p>\n<pre class=\"wiki\"># vlink -BER 1000000 router1-pc1\n</pre><p>\nSet packet duplication to 20%:\n</p>\n<pre class=\"wiki\"># vlink -dup 20 router1-pc1\n</pre><p>\nModifying a link in a specific experiment (i.e. Experiment ID = i56ad1):\n</p>\n<pre class=\"wiki\"># vlink -dup 20 router1-pc1@i56ad1\n</pre><p>\nTo reset the link settings to the default values the <tt>-r</tt> flag is used:\n</p>\n<pre class=\"wiki\"># vlink -r router1-pc1@i56ad1\n</pre></div>\n \n </div>"
    }, {
        "title": "Free SSL/TLS Certificates",
        "url": "https://letsencrypt.org/",
        "excerpt": "From our blog New Name, New Home for the Let's Encrypt Client Over the next few months the Let&#x2019;s Encrypt client will transition to a new name (soon to be announced), and a new home at the&hellip;",
        "date_saved": "Thu Jul 28 20:08:44 EDT 2016",
        "html_file": "free_ssltls_certificates.html",
        "png_file": "free_ssltls_certificates.png",
        "md_file": "free_ssltls_certificates.md",
        "content": "<div><div class=\"page-content\">\n <div class=\"wrapper\">\n <div class=\"\">\n <div class=\"pure-g home\">\n <div class=\"pure-u-1 pure-u-md-1-2\">\n <div class=\"grid-container\">\n <h2 class=\"through-line\">From our blog</h2>\n <ul class=\"post-list\">\n \n <li>\n \n\n <h2>\n <a class=\"post-link\" href=\"https://letsencrypt.org/2016/03/09/le-client-new-home.html\">New Name, New Home for the Let's Encrypt Client</a>\n </h2>\n Over the next few months the Let&#x2019;s Encrypt client will transition to a new name (soon to be announced), and a new home at the Electronic Frontier Foundation (EFF).\n <p><a href=\"https://letsencrypt.org/2016/03/09/le-client-new-home.html\">Read more</a></p>\n </li>\n \n <li>\n \n\n <h2>\n <a class=\"post-link\" href=\"https://letsencrypt.org/2016/03/08/our-millionth-cert.html\">Our Millionth Certificate</a>\n </h2>\n Let&#x2019;s Encrypt has issued its millionth certificate, helping to secure approximately 2.4 million domains. This milestone means a lot to a team that started building a CA from scratch 16 months ago with an aim to have a real impact on the security of the Web as soon as possible.\n <p><a href=\"https://letsencrypt.org/2016/03/08/our-millionth-cert.html\">Read more</a></p>\n </li>\n \n <li>\n \n\n <h2>\n <a class=\"post-link\" href=\"https://letsencrypt.org/2015/12/21/ovh-sponsorship.html\">OVH Sponsors Let's Encrypt</a>\n </h2>\n We&#x2019;re pleased to announce that <a href=\"https://www.ovh.com/\">OVH</a> has become a Platinum sponsor of Let&#x2019;s Encrypt.\n <p><a href=\"https://letsencrypt.org/2015/12/21/ovh-sponsorship.html\">Read more</a></p>\n </li>\n \n </ul>\n \n\n </div>\n </div>\n\n <div class=\"pure-u-1 pure-u-md-1-2\">\n <div class=\"grid-container\">\n <h2 class=\"through-line\">Major Sponsors</h2>\n <div class=\"text-center\">\n <a href=\"https://www.mozilla.org/\"><img src=\"https://letsencrypt.org/images/mozilla-logo.png\" alt=\"Mozilla\" width=\"80\"></a>\n <a href=\"http://www.akamai.com/\"><img src=\"https://letsencrypt.org/images/akamai-logo.png\" alt=\"Akamai\" width=\"80\"></a>\n <a href=\"http://www.cisco.com/\"><img src=\"https://letsencrypt.org/images/cisco-logo.png\" alt=\"Cisco\" width=\"80\"></a>\n <a href=\"https://www.eff.org/\"><img src=\"https://letsencrypt.org/images/eff-logo.png\" alt=\"Electronic Frontier Foundation\" width=\"80\"></a>\n <a href=\"https://www.ovh.com/\"><img src=\"https://letsencrypt.org/images/ovh-logo.png\" alt=\"OVH\" width=\"80\"></a>\n <a href=\"https://www.google.com/chrome/\" rel=\"nofollow\"><img src=\"https://letsencrypt.org/images/chrome-logo.png\" alt=\"Google Chrome\" width=\"80\"></a>\n <a href=\"https://www.identrustssl.com/\"><img src=\"https://letsencrypt.org/images/identrust-logo.png\" alt=\"IdenTrust\" width=\"80\"></a>\n <a href=\"https://www.internetsociety.org/\"><img src=\"https://letsencrypt.org/images/isoc.png\" alt=\"Internet Society\" width=\"80\"></a>\n <a href=\"https://www.facebook.com/\"><img src=\"https://letsencrypt.org/images/facebook-logo.png\" alt=\"Facebook\" width=\"80\"></a>\n <a href=\"https://automattic.com/\"><img src=\"https://letsencrypt.org/images/automattic-logo.png\" alt=\"Automattic\" width=\"80\"></a>\n <a href=\"https://www.shopify.com/\"><img src=\"https://letsencrypt.org/images/shopify.png\" alt=\"Shopify\" width=\"80\"></a>\n <a href=\"http://www.ala.org/offices/oif\"><img src=\"https://letsencrypt.org/images/ala.png\" alt=\"American Library Association\" width=\"80\"></a>\n <a href=\"https://www.cyon.ch/\"><img src=\"https://letsencrypt.org/images/cyon.png\" alt=\"Cyon\" width=\"80\"></a>\n <a href=\"https://www.keycdn.com/\"><img src=\"https://letsencrypt.org/images/keycdn-logo.png\" alt=\"KeyCDN\" width=\"80\"></a>\n <a href=\"https://www.infomaniak.ch/\"><img src=\"https://letsencrypt.org/images/infomaniak-logo.png\" alt=\"Infomaniak\" width=\"80\"></a>\n <a href=\"https://www.hostpoint.ch/\"><img src=\"https://letsencrypt.org/images/hostpoint-logo.png\" alt=\"HostPoint\" width=\"80\"></a>\n <a href=\"https://www.siteground.com/\"><img src=\"https://letsencrypt.org/images/siteground-logo.png\" alt=\"SiteGround\" width=\"80\"></a>\n <a href=\"https://sucuri.net/\"><img src=\"https://letsencrypt.org/images/sucuri-logo.png\" alt=\"Sucuri\" width=\"80\"></a>\n <a href=\"https://www.vultr.com\"><img src=\"https://letsencrypt.org/images/vultr-logo.png\" alt=\"Vultr\" width=\"80\"></a>\n <a href=\"https://www.planethoster.net/\"><img src=\"https://letsencrypt.org/images/planethoster-logo.png\" alt=\"PlanetHoster\" width=\"80\"></a>\n <a href=\"https://www.trailofbits.com/\"><img src=\"https://letsencrypt.org/images/trail-of-bits-logo.png\" alt=\"Trail of Bits\" width=\"80\"></a>\n <a href=\"https://www.novatrend.ch/\"><img src=\"https://letsencrypt.org/images/novatrend-logo.png\" alt=\"NovaTrend\" width=\"80\"></a>\n <a href=\"https://www.gandi.net/\"><img src=\"https://letsencrypt.org/images/gandi-logo.png\" alt=\"Gandi\" width=\"80\"></a>\n <a href=\"https://www.netsparker.com/\"><img src=\"https://letsencrypt.org/images/netsparker-logo.png\" alt=\"Netsparker\" width=\"80\"></a>\n <a href=\"https://www.yunpian.com/\"><img src=\"https://letsencrypt.org/images/yunpian-logo.png\" alt=\"YunPian\" width=\"80\"></a>\n <a href=\"https://www.free.fr/adsl/\"><img src=\"https://letsencrypt.org/images/freebox-logo.png\" alt=\"Freebox\" width=\"80\"></a>\n <a href=\"http://www.wpbeginner.com/\"><img src=\"https://letsencrypt.org/images/wpbeginner-logo.png\" alt=\"WPBeginner\" width=\"80\"></a>\n </div>\n\n <h2 class=\"through-line\">Donate</h2>\n \n\n <h2 class=\"through-line\">About ISRG</h2>\n <p>Internet Security Research Group (ISRG) is a California public\n benefit corporation, and is recognized by the IRS as a tax-exempt\n organization under Section 501(c)(3) of the Internal Revenue Code.\n ISRG&#x2019;s mission is to reduce financial, technological, and\n education barriers to secure communication over the Internet.</p>\n </div>\n </div>\n </div>\n </div>\n</div>\n\n \n \n\n\n </div></div>"
    }, {
        "title": "Ops-ing with packer and terraform",
        "url": "http://engineering.sharethrough.com/blog/2015/09/08/ops-ing-with-packer-and-terraform/",
        "excerpt": "Most of Sharethrough&#x2019;s infrastructure runs on AWS. For a long time we&#x2019;ve relied on chef and knife ec2 to maintain resources, but as we grew, we searched for tools that would continue to&hellip;",
        "date_saved": "Thu Jul 28 20:08:45 EDT 2016",
        "html_file": "opsing_with_packer_and_terraform.html",
        "png_file": "opsing_with_packer_and_terraform.png",
        "md_file": "opsing_with_packer_and_terraform.md",
        "content": "<div><div class=\"entry-content\">\n <p>Most of Sharethrough&#x2019;s infrastructure runs on <a href=\"https://aws.amazon.com/\">AWS</a>. For a long time we&#x2019;ve relied on <a href=\"https://www.chef.io/chef/\">chef</a> and <a href=\"https://github.com/chef/knife-ec2\">knife ec2</a> to maintain resources, but as we grew, we searched for tools that would continue to improve operation efficiency. Recently we started using two tools from <a href=\"https://hashicorp.com/\">Hashicorp</a>, <a href=\"https://www.packer.io/\">Packer</a> and <a href=\"https://www.terraform.io/\">Terraform</a>, that appear to deliver what we&#x2019;re looking for.</p>\n\n<h2>What we did</h2>\n\n<p>Sharethrough powers much of its platform with microservices. We preserve package and library versions, system parameters, and application configuration for these services using Chef cookbooks, attributes, and environment files.\nFor a long time, services shared customized tasks for changing EC2 instance state using <code>knife-ec2</code>:</p>\n<div class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8</pre></td><td class=\"code\"><pre>masonleung@Masons-MacBook-Pro $ rake -T\nrake chef:resolve # resolve cookbook dependencies\nrake chef:vendor # vendor cookbook dependencies\nrake instance:chef # run chef on instance\nrake instance:delete # delete an instance\nrake instance:environment # setup the environment\nrake instance:list # list instances\nrake instance:new # launch a new ec2 instance\n</pre></td></tr></tbody></table>\n</div>\n\n<p>A great approach, but it had some drawbacks:</p>\n\n<ol>\n<li>Every time you created an instance, libraries had to be recompiled from source (slow)</li>\n<li>For service clusters, creating nodes one node at a time was <code>n</code> times slow, where <code>n</code> is the number of instances in the cluster.</li>\n<li>Some resources aren&#x2019;t EC2 instances at all (e.g. a new queue in <a href=\"https://aws.amazon.com/sqs/\">SQS</a>), but we still needed consistent automation to create them.</li>\n<li>Things like security groups, IAM roles, users, and policies were handled manually, and thus lacked a paper trail.</li>\n</ol>\n\n<p>We decided to take a two-step approach to bringing up a hypothetical service:</p>\n\n<ol>\n<li>Create a service&#x2019;s EC2 instance with libraries pre-installed</li>\n<li>Create any non-EC2 resources required to run the service (e.g. SQS)</li>\n</ol>\n\n<h2>Introducing Packer</h2>\n\n<p>Packer creates machine images on multiple platforms using a single configuration file. It contains provisioners that work with common configuration management tools (i.e. Chef). We use it with our Chef cookbooks to create Sharethrough-specific <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html\">Amazon Machine Images</a> (AMI). Packer installs packages and libraries into a reusable image.</p>\n\n<p>Here&#x2019;s a snippet of a sample packer file:</p>\n<div class=\"highlight json\"><table><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12</pre></td><td class=\"code\"><pre><span class=\"p\">{</span><span class=\"s2\">\"provisioners\"</span><span class=\"p\">:</span><span class=\"p\">[</span><span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span><span class=\"s2\">\"chef-solo\"</span><span class=\"p\">,</span><span class=\"s2\">\"cookbook_paths\"</span><span class=\"p\">:</span><span class=\"p\">[</span><span class=\"s2\">\"ops/chef/berks-cookbooks\"</span><span class=\"p\">],</span><span class=\"s2\">\"run_list\"</span><span class=\"p\">:</span><span class=\"p\">[</span><span class=\"s2\">\"bakery::{{user `role`}}\"</span><span class=\"p\">],</span><span class=\"s2\">\"environments_path\"</span><span class=\"p\">:</span><span class=\"s2\">\"ops/chef/environments\"</span><span class=\"p\">,</span><span class=\"s2\">\"chef_environment\"</span><span class=\"p\">:</span><span class=\"s2\">\"{{user `environment`}}\"</span><span class=\"p\">,</span><span class=\"s2\">\"staging_directory\"</span><span class=\"p\">:</span><span class=\"s2\">\"/home/ubuntu/cookbooks\"</span><span class=\"p\">}</span><span class=\"p\">]</span><span class=\"p\">}</span></pre></td></tr></tbody></table>\n</div>\n\n<p>In our first try, <code>staging</code> and <code>production</code> images were created separately (they access different AWS resources).\nWe later discovered Packer has a <code>staging_directory</code> attribute to save chef cookbooks onto the image. It also has <code>environments_path</code> to store environment specified attributes. The <code>staging_directory</code> and <code>environment_path</code> combination allowed us to rerun cookbooks. When we created an image, we always built with production attributes. If we need a staging environment, we simply reran the Chef cookbooks with staging attributes during instance instantiation. This approach cuts the number of stored images in half.</p>\n\n<h2>Terraform all the resources</h2>\n\n<p>If other AWS resources are required to run a microservice, we want to use Terraform to create all of them. Our Terraform files are organized by components; listing the directory gives us a glance of what resources are needed:</p>\n<div class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11</pre></td><td class=\"code\"><pre>masonleung@Masons-MacBook-Pro ~/Projects/code/vaca/ops/terraform/production (master) $ ls -l\ntotal 112\n-rw-r--r-- 1 masonleung staff 120 Jun 9 11:50 aws.tf\n-rw-r--r-- 1 masonleung staff 1346 Aug 20 13:45 ec2.tf\n-rw-r--r-- 1 masonleung staff 116 Aug 20 12:37 iam_instance_profiles.tf\n-rw-r--r-- 1 masonleung staff 196 Aug 20 12:37 iam_policy_attachment.tf\n-rw-r--r-- 1 masonleung staff 322 Aug 20 12:37 iam_role.tf\n-rw-r--r-- 1 masonleung staff 9314 Aug 20 13:45 main.tfstate\n-rw-r--r-- 1 masonleung staff 14090 Aug 20 13:45 main.tfstate.backup\n-rw-r--r-- 1 masonleung staff 317 Aug 20 12:37 security_group.tf\n-rw-r--r-- 1 masonleung staff 680 Aug 20 12:37 variable.tf\n</pre></td></tr></tbody></table>\n</div>\n\n<p>Below is a sample terraform file for EC2 instance creation</p>\n<div class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38</pre></td><td class=\"code\"><pre>resource \"aws_instance\" \"vaca-green\" {\n count = 2\n ami = \"ami-12345abc\"\n instance_type = \"m3.large\"\n key_name = \"master\"\n availability_zone = \"${lookup(var.zones, concat(\"zone\",count.index))}\"\n security_groups = [\"office-access\", \"${aws_security_group.vaca_security_group.name}\", \"${aws_security_group.vaca_production.name}\"]\n iam_instance_profile = \"${aws_iam_instance_profile.vaca.name}\"\n\n root_block_device {\n volume_size = \"50\"\n delete_on_termination = true\n }\n\n tags {\n Name = \"vaca production green ${count.index}\"\n Project = \"${var.application_name}\"\n Roles = \"app\"\n Stages = \"${var.environment}\"\n Group = \"green\"\n }\n\n lifecycle {\n create_before_destroy = true\n }\n\n provisioner \"remote-exec\" {\n inline = [\n \"cd /home/ubuntu; sudo chef-solo -c cookbooks/solo.rb -j cookbooks/node.json -E staging\",\n \"host=$(curl -s http://169.254.169.254/latest/meta-data/public-hostname)\",\n \"touch $host\"\n ]\n }\n\n provisioner \"local-exec\" {\n command = \"bundle install &amp;&amp; bundle exec cap HOSTFILTER=${self.public_dns} production deploy\"\n }\n}\n</pre></td></tr></tbody></table>\n</div>\n\n<p>A few callouts:</p>\n\n<ol>\n<li>We perform blue-green deploy to our microservices for breaking changes. Bringing up a new set of EC2 instances requires copy-and-paste of <code>aws_instance</code> resources and a rerun of Terraform. When the deploy is completed, we remove the duplicated <code>aws_instance</code> section and destroy the extra instances.</li>\n<li>As mentioned earlier, we only create AMIs with production attributes. Staging instances are built by re-running chef with staging attributes inside the provisioner section.</li>\n<li>The <code>root_block_device</code> section allows us to create <a href=\"https://aws.amazon.com/ebs/\">EBS</a> volumes of any size, which saves us from forgetting to mount volumes used to, say, store logs.</li>\n<li>Lastly, we tie IAM role and policy which are defined in other Terraform files to an EC2 instance via the <code>iam_instance_profile</code> attribute, preventing us from missing role assignment.</li>\n</ol>\n\n<h2>In Summary</h2>\n\n<p>Packer saves us time from having to install libraries from sources every time a new EC2 instance is created. We can simply harden an image and use it as the base image for microservices.</p>\n\n<p>Terraform also solves a common AWS problem: when a developer modifies resources in the AWS console, there is no way of tracing that change to a documented step that could be reversed.\nWith Terraform, changes made to infrastructure is code in Terraform files, so they&#x2019;re recorded and maintained in git. Promoting visibility this way has saved us from having a forgotten one-off step.</p>\n\n<p>Pre-baking an image with Packer saves time, but the proliferation of images is hard to manage without the ability to associate metadata to an image. We&#x2019;re looking at Hashicorp&#x2019;s <a href=\"https://atlas.hashicorp.com/\">Atlas</a> product as a way to handle images as version-controlled assets.</p>\n\n<p>So far we&#x2019;ve only used a subset of Terraform, but we&#x2019;re starting to use it for non-EC2 resources. And although Terraform is great for creating brand new infrastructure, it needs improvements when working on existing nodes. There is a <a href=\"https://github.com/dtan4/terraforming\">free tool</a> to lessen the work on exporting existing infrastructure, but would be nice if Terraform dealt with it natively.</p>\n\n<p>We&#x2019;re excited about Hashicorp&#x2019;s products and will continue to test-drive them as they mature.</p>\n\n</div>\n\n </div>"
    }, {
        "title": "An introduction to visual programming using NoFlo",
        "url": "http://rawkes.com/articles/an-introduction-to-noflo-and-flow-based-programming",
        "excerpt": "I recently stumbled upon NoFlo during my quest for a better way to manage the realtime processing and transformation of data within ViziCities. I was dubious about this bizarre JavaScript framework&hellip;",
        "date_saved": "Thu Jul 28 20:08:47 EDT 2016",
        "html_file": "an_introduction_to_visual_programming_using_noflo.html",
        "png_file": "an_introduction_to_visual_programming_using_noflo.png",
        "md_file": "an_introduction_to_visual_programming_using_noflo.md",
        "content": "<div><section class=\"span10 offset3\">\n<p>I recently stumbled upon <a href=\"http://noflojs.org\">NoFlo</a> during my quest for a better way to manage the realtime processing and transformation of data within <a href=\"http://vizicities.com\">ViziCities</a>. I was dubious about this bizarre JavaScript framework at first, initially casting it aside as a fun distraction. In fact, it was only after spending a full day experimenting with NoFlo that I began to comprehend its full potential. And boy does it have potential!</p>\n\n<p><figure><br> <img src=\"http://rawkes.com/media/noflo-introduction/noflo.jpg\"><br></figure></p>\n\n<p>So what actually is NoFlo? And why would you want to use it? No one wants yet another framework to learn, nor another pitch for the Next Big Thing&#x2122; in programming (a.k.a. &#x201C;I didn't like anything else so I half-baked something new that no one will use&#x201D;). I'm a grumpy cynic at the best of times, usually casting aside all the new crap as a fad (it usually is), but NoFlo is different. It has inspired me and filled me with a kind of excitement and energy that I've not felt for a long time. More specifically, the concept that NoFlo is created on has the potential to change the way you approach programming, forever. I'm deadly serious.</p>\n\n<p>In the following series of posts I will dig into NoFlo, take a look at what can be done with it and show you how to use it. But first, let's unwrap this magical concept that NoFlo is based upon.</p>\n\n<h2>Flow-based programming</h2>\n\n<p>Back in the 1970s, a man by the name of Paul Morrison decided it would be a good idea to invent a new way to construct computer programs. It's called flow-based programming, or FBP for short.</p>\n\n<p><figure><br> <img src=\"http://rawkes.com/media/noflo-introduction/ibm-system360.jpg\"><br> <figcaption>Computers were so large in the 1970s that you required an army to use them!</figcaption><br></figure></p>\n\n<p>Based on <a href=\"http://en.wikipedia.org/wiki/Dataflow_programming\">dataflow programming</a>, the theory of FBP is simple &#x2014; break a computer program into a series of repeatable individual components and network them together.</p>\n\n<p>In <a href=\"http://www.jpaulmorrison.com/fbp/\">Paul's own words</a>:</p>\n\n<blockquote>\n <p>FBP defines applications as networks of \"black box\" processes, which exchange data across predefined connections by message passing, where the connections are specified externally to the processes. These black box processes can be reconnected endlessly to form different applications without having to be changed internally. FBP is thus naturally component-oriented.</p>\n</blockquote>\n\n<p>Easy peasy! Now I don't know about you, but I find it easier to understand something by doing it. Technical descriptions end up confusing me, then as soon as I think it's started to make sense I become even more confused.</p>\n\n<p>Fortunately, you need only understand the gist of FBP for this series (that it's about breaking things into components and writing little if no code) as the benefits will become obvious as you start to use it. If you do want to dig deep into FBP than I suggest taking a look at <a href=\"http://www.jpaulmorrison.com/fbp/\">Paul's fantastic website on it</a>, including a <a href=\"https://github.com/flowbased/flowbased.org/wiki\">wiki overview of the core concepts</a>.</p>\n\n<h2>Why FBP over, you know, normal programming?</h2>\n\n<p>Good question! There's my own personal opinion and then the opinion of the FBP hard-liners. They will say that you should always be using FBP, that once you open your eyes to its majesty then you'll never want to program &#x201C;normally&#x201D; ever again. I actually agree with that, partly.</p>\n\n<p>On the flip-side, the grumpy cynical side of me says that you should continue doing things how you do them now, but that you should try out FBP and see what sticks. You might end up using it in its entirety, or even a mix of both, or perhaps you'll never want to look at it again. Any of those options are fine.</p>\n\n<p>Specifically, FBP does introduce new ways of thinking about things and it does make things a lot better in certain areas. None of them are unique to FBP, though together they combine to create a rather powerful offering.</p>\n\n<p>For example, FBP fosters the concept of compartmentalised logic and processing. In fact, it forces you to break things down into processes that ideally take a single expected input and use that to produce a single expected output. These components can be reused amongst other areas of your application, or you can even take components written by other people (think NPM), requiring absolutely zero new code to be written. A perfect FBP application could be created with existing components without writing a single line of code (I'll show you how in a later post). That's pretty amazing.</p>\n\n<p>This compartmentalism (pretty sure I just made that up) means that your application is inherently more robust, more reliable, more testable, more everything-able! FBP literally allows you to create applications faster, and that speed only increases the more you use it and the more components you create (or become available elsewhere). That's an unavoidable fact, not a promise.</p>\n\n<h2>So why not FBP?</h2>\n\n<p>FBP isn't all shiny (like every single thing ever, apart from perhaps those mirrors they put in space telescopes). I mean, it really is a fantastic concept and its benefits far outweigh the downsides, but those downsides will rule it out for some situations and that's ok.</p>\n\n<p>One example is that you can find yourself duplicating similar processes in FBP. If you need to run multiple transformations on an array of data then you may find yourself looping over that data multiple times across different components. This introduces extra processing time to your application.</p>\n\n<p>Then there's the overhead of sending data between components. This is an unavoidable part of FBP and it means that every single time you send a message you require a tiny amount of processing time to do that. This can add up when you start sending 1000s of pieces of data around the system.</p>\n\n<p>Fortunately, you can learn to notice and avoid both of these situations. Once you've got used to FBP you'll begin to notice common approaches and optimisations. For example, you can avoid the previous situations by carefully thinking about the right component for the job. There are many ways to achieve the same result in FBP, which is both a blessing and a curse.</p>\n\n<h2>FBP's magic bullet &#x2014; visual programming</h2>\n\n<p>The crown jewel of FBP is the ability to construct applications using visual tools. This completely changes the way you look at a computer program, allowing you to get a much better idea about the entire structure and flow of your application.</p>\n\n<p><figure><br> <img src=\"http://rawkes.com/media/noflo-introduction/noflo.jpg\"><br></figure></p>\n\n<p>Instead of needing to comprehend thousands of lines of code across countless files, with visual programming using FBP you instead need only connect the dots, quite literally.</p>\n\n<p>This approach means that the application itself visually shows you how it works, rather than requiring prior knowledge of the entire system before understanding how it all fits together. This not only makes more sense to the creator of the application but it also means someone new can look at it and comprehend it nearly immediately. Even if they aren't a programmer!</p>\n\n<p><figure><br> <img src=\"http://rawkes.com/media/noflo-introduction/quartz-composer.png\"><br></figure></p>\n\n<p>This kind of visual programming isn't new. Apple's Quartz Composer <a href=\"http://www.bbc.co.uk/blogs/legacy/radiolabs/2009/10/fun_with_quartz_composer_in_sn.shtml\">has done this for years</a>, as have <a href=\"https://cycling74.com/products/max/\">Max MSP</a>, <a href=\"http://vvvv.org/\">vvvv</a>, <a href=\"http://nodered.org/\">NodeRed</a> and many others.</p>\n\n<p>Creating applications in this way is incredibly powerful as it allows you to focus on getting to the final result rather than writing the intermediate code and logic. It's a strangely liberating feeling to create an application in a graphical tool without writing a single line of code.</p>\n\n<p>Further on in the series we'll take a look at the new browser-based tooling that exists to create applications in this way.</p>\n\n<h2>Enter NoFlo</h2>\n\n<p>It's at this point that <a href=\"http://noflojs.org/\">NoFlo</a> enters the fray, the hot new thing in the world of FBP and visual programming. Let's save that story for another day.</p>\n\n<p>In the next post we'll dig deeper into NoFlo to learn what it is and how to get started with it. In further posts we'll then use NoFlo to begin creating your own applications using FBP and visual programming.</p>\n\n<p>We'll be covering the following and more:</p>\n\n<ul>\n<li>NoFlo and FBP concepts</li>\n<li>Getting started with NoFlo</li>\n<li>Using NoFlo in the browser</li>\n<li>Performing common tasks using NoFlo (looping, splitting and merging, etc)</li>\n<li>Optimising for NoFlo</li>\n<li>Integrating NoFlo in an existing application</li>\n<li>Creating a custom build of NoFlo</li>\n<li>Creating your own components</li>\n</ul>\n\n<p><a href=\"http://feeds.feedburner.com/rawkes\">Make sure to subscribe</a> so you don't miss out!</p>\n</section>\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t</div>"
    }, {
        "title": "Economic secrets of the dark web\u2014the safe, easy way for anyone to be a little drug lord",
        "url": "http://qz.com/481037/dark-web/",
        "excerpt": "This article has been corrected. We had met at a bar. I told him I was an economist. He told me he was a pot dealer. You might think we wouldn\u2019t have had much to talk about. But the most exciting&hellip;",
        "date_saved": "Thu Jul 28 20:08:49 EDT 2016",
        "html_file": "economic_secrets_of_the_dark_webu2014the_safe_easy_way_for_anyone_to_be_a_little_drug_lord.html",
        "png_file": "economic_secrets_of_the_dark_webu2014the_safe_easy_way_for_anyone_to_be_a_little_drug_lord.png",
        "md_file": "economic_secrets_of_the_dark_webu2014the_safe_easy_way_for_anyone_to_be_a_little_drug_lord.md",
        "content": "<div class=\"item-body\" score=\"33.75\">\n\t\t<div score=\"10.75\">\n\t\t\t\n<p><em>This article has been <a href=\"http://qz.com/481037/dark-web/#Correction\">corrected</a>.</em></p>\n<p>We had met at a bar. I told him I was an economist. He told me he was a pot dealer. You might think we wouldn\u2019t have had much to talk about. But the most exciting story in economics is one where an innovation disrupts a market and creates new ones. So once he said the \u201cdark web\u201d had totally changed his business model in just a few years, I knew he could tell me things that would really blow my mind.</p>\n<p>The dealer, Paul (not his real name), explained how much easier it is to do business if he orders his supply over the web. In some ways, it\u2019s safer\u2014he can buy a wider range of cannabis, gets more consistent quality, doesn\u2019t have to personally interact with his suppliers, and it\u2019s quick and easy. But getting large amounts of marijuana shipped to him through the mail remains a major source of risk. To minimize it he employs a third party\u2014a facilitator\u2014to handle the delivery.</p>\n<figure id=\"image-502384\" class=\"inline-image alignnone zoomable size-medium\"><img src=\"https://qzprod.files.wordpress.com/2015/08/delivery-variants.png?w=684\" alt=\"\" title=\"Direct delivery? Have it your way.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Direct delivery? Have it your way.<span class=\"inline-image-credit\">(Middle Earth)</span></figcaption></figure><p>The facilitator rents a carefully vetted Airbnb and arranges for a naive student to be there to sign for the package. The student then takes it to a second location, often a convenience store where the facilitator has a relationship with the owner. He collects the package from there, splits it into smaller portions, and passes those on to street dealers for sale. For taking on the most risk, the facilitator gets 60% of Paul\u2019s profits.</p>\n<p>That 60% got my attention. After all, the market for drugs is notoriously inefficient. <a href=\"http://articles.latimes.com/2005/apr/24/opinion/oe-dubner24\">Street dealers</a>, who face the most risk of violence and arrest, aren\u2019t compensated for it. But in Paul\u2019s model, the biggest risk-taker was the facilitator, and he was getting the biggest share of the profits, just as economic theory said he should. If what Paul told me was true, I wondered, could the dark web be creating a better functioning and more efficient drug market?</p>\n<h2>What is the dark web and how does it work?</h2>\n<p>Marketplaces for contraband have existed for only about four years on the dark web, but they\u2019ve made inroads fast. According to the <a href=\"http://www.globaldrugsurvey.com/the-global-drug-survey-2015-findings/\">2015 Global Drug Survey</a>, about 10%-15% of drug users in the UK, US, and Australia have bought drugs off the net.</p>\n<p>These sites don\u2019t show up in search engines and can\u2019t be visited with a regular web browser. You need special software that will obscure the site\u2019s location on the internet (its IP address) and, generally, yours too. For many dark-web sites, that software is Tor, originally developed by the US government to protect intelligence information. And most of the sites conduct business in bitcoin, the cryptocurrency that allows for anonymous online payments.</p>\n<figure id=\"image-502427\" class=\"inline-image alignright zoomable size-small\"><img src=\"https://qzprod.files.wordpress.com/2015/08/detailed-drug-menu.png?w=321\" alt=\"\" title=\"Spoilt for choice.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Spoilt for choice.<span class=\"inline-image-credit\">(Middle Earth)</span></figcaption></figure><p>\u201cIt was the combination of Tor and bitcoin\u201d that sparked the sudden growth of these drug marketplaces, says <a href=\"https://www.andrew.cmu.edu/user/nicolasc/\">Nicolas Christin </a>of Carnegie Mellon University, an expert on the dark web. People may have previously bought or advertised drugs on non-dark websites like Craigslist, he said, but it was a tiny share of the market, with unsophisticated sellers and buyers.</p>\n<p>Silk Road, founded by Ross Ulbricht (a.k.a. \u201cDread Pirate Roberts\u201d) in February 2011, was the first site to marry Tor and bitcoin to create a bazaar of illegal goods. By the time Silk Road was shut down in October 2013, about 1,000 vendors were selling on the site. Since it shuttered, dozens of new bazaars have sprung up in its place, offering an exhilarating and terrifying array of products: prescription pills, meth, heroin, speed, crack, guns, stolen identities, gold, and erotica.</p>\n<figure id=\"image-502366\" class=\"inline-image alignnone zoomable size-medium\"><img src=\"https://qzprod.files.wordpress.com/2015/08/middle-earth-menus_colorcorrected.jpeg?quality=80&amp;strip=all&amp;w=871\" alt=\"\" title=\"Beyond drugs, a terrifying variety of contraband.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Beyond drugs, a terrifying variety of contraband.<span class=\"inline-image-credit\">(Middle Earth)</span></figcaption></figure><p>Shopping on the dark web is easy. Tor works much like a conventional web browser. You simply download it, open it, search for the name of an active market (some require a referral), choose one, create a login, and you are ready to go.</p>\n<figure id=\"image-502372\" class=\"inline-image alignleft zoomable size-small\"><img src=\"https://qzprod.files.wordpress.com/2015/08/left-menu-bar.png?w=380\" alt=\"\" title=\"User-friendly.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>User-friendly.<span class=\"inline-image-credit\">(Nucleus)</span></figcaption></figure><p>And aside from their wares, these marketplaces look remarkably similar to their counterparts on the \u201cclearnet\u201d, or regular internet. Users leave detailed reviews on the quality of a vendor\u2019s product, speed of delivery, and how secure the shipping method was. There\u2019s information on where vendors are located and where they\u2019ll ship to. Some even post their refund and exchange policies. The websites are clean, well organized, and easy to navigate; there are icons for online support, shopping carts, and order status. The bitcoin/dollar/euro exchange rate is often featured on a banner, much like a price ticker on a finance website. Purchasing meth from a dealer in the Netherlands feels as familiar and mundane as buying sheets from Macy\u2019s.</p>\n<p>Christin estimates there are about 9,300 different vendors on the dark web. He and his coauthor, Kyle Soska, <a href=\"https://www.andrew.cmu.edu/user/nicolasc/publications/SC-USENIXSec15.pdf\">recently scraped data</a> (pdf) on transactions and prices from 35 different drug bazaars between 2013 to 2015, in order to see how the market had evolved post-Silk Road.</p>\n<p>They observed that most vendors are casual dealers, selling relatively small amounts, and spend only a few months on a site. About 70% of vendors sold less than $1,000 worth of product in the period they surveyed. Only about 2% sold more than $100,000, and just 35 kingpin vendors sold over $1 million. The top 1% accounted for 51.5% of all the transactions. Despite the variety of things on offer, cocaine, MDMA, and cannabis made up about 70% of sales; and while most listings were for cannabis-related products, an overwhelming majority of the revenue came from selling MDMA and cocaine.</p>\n<h2>Where the risk still lies</h2>\n<p>The dark web does make transactions safer. Thanks to the ratings systems, the product is more reliable and both sides are accountable. You can deal anonymously, and you don\u2019t have to meet potentially dangerous clients or vendors in person.</p>\n<p>All the same, of course, there are risks that Macy\u2019s customers don\u2019t run. Because there\u2019s no legal protection for illegal purchases, the bitcoin payments sit in escrow until the goods have been delivered and both parties are satisfied. That exposes the seller<strong> </strong>to exchange-rate risk, because bitcoin is an extremely volatile currency.</p>\n<figure id=\"image-502436\" class=\"inline-image alignleft zoomable size-medium\"><img src=\"https://qzprod.files.wordpress.com/2015/08/refund-policy1.png?w=810\" alt=\"\" title=\"Satisfaction (almost) guaranteed.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Satisfaction (almost) guaranteed.<span class=\"inline-image-credit\">(East India Company)</span></figcaption></figure><p>The original Silk Road offered a crude currency-risk hedging option, but most bazaars today don\u2019t. Vendors are reduced to swapping even cruder hedging strategies on Reddit. A moderator of the popular Reddit <a href=\"https://www.reddit.com/r/DarkNetMarkets/\">DarkNetMarket</a> forum, whose handle is Theeconomist1, wrote to me, \u201cEscrow is obviously a big risk vendors undertake. Especially on certain products with thin margins. A fluctuation can easily wipe out a profit.\u201d There is also, Christin says, a non-trivial risk a marketplace will abruptly shut down and its operators will steal the money sitting in escrow.</p>\n<p>Finally, of course, there is one other big source of risk: the point where the virtual world of the dark web and the world of physical reality intersect. In other words, getting drugs delivered.</p>\n<p>That\u2019s why Paul, the dealer I met, gives up 60% of his profits to hedge delivery risk. Another Reddit user, VIadthePutin, <a href=\"https://www.reddit.com/r/DarkNetMarkets/comments/27x2ov/whats_a_drop_address_how_do_you_get_one_and_why/\">described an equally ornate strategy</a> to secure a safe delivery location (called a drop address):</p>\n<blockquote score=\"3.75\"><p>\u201cA drop address needs to be created, cultivated even. A quick run through on how I pick some of my drops:</p>\n<ul><li>I pick a house with no one living in it (but not bank owned)</li>\n<li>Make it look lived in, including mow the lawn, weed the garden, maybe throw a kids toy out there.</li>\n<li>Stop by every day or two for at least a week, preferably two or three. You want the neighbors to have a vague notion of someone living there without being able to pick out your face.</li>\n<li>Get the mail man used to mail coming here, send junk mail to this address (This is where you pick the delivery name) cheap packages, whatever. Be mindful that Amazon mails through UPS and the USPS man won\u2019t know if you\u2019ve had packages delivered. *I stop by every day and put the mail on the counter inside the house, waiting a few days before opening just to allow LEOs [law-enforcement officers] to jump the gun on me.\u201d</li>\n</ul></blockquote>\n<p>VIadthePutin says he works in property management. That makes it feasible for him to cultivate abandoned houses as drug delivery destinations. Most buyers just have the drugs shipped to their homes (especially if it\u2019s a small amount) or to a friend\u2019s house or PO box. A Quartz summer intern said that at his university, different frat houses had agreements to receive each other\u2019s drug shipments.</p>\n<h2>How the dark web could change the drug market\u2026</h2>\n<p>As with many illegal commodities, the drug market does not function efficiently. According to <a href=\"https://data.unodc.org/\">UN data</a> (and as Quartz has <a href=\"http://qz.com/466273/what-illegal-drugs-cost-on-the-dark-web/\">previously reported</a>), huge price disparities exist across borders. Cocaine, for instance, typically costs $63 a gram in the UK and more than $130 in Sweden. There can be large disparities in price within the same country or even the same city. A wide variation in purity is one reason, but so is an ill-functioning market. If drugs were a legal commodity, those price differences would be arbitraged away through trade.</p>\n<div class=\"atlas-chart\"><img src=\"https://www.theatlas.com/i/atlas_4kISXhx5.png\"></div>\n<p>The root cause of this market inefficiency is information asymmetry. You don\u2019t know how good an illegal drug is until you consume it, and you can\u2019t turn to the law to enforce agreements, return a substandard product, or complain to your dealer if he tries to rob you. That prevents price discovery and risk compensation, key features of a well-functioning market.</p>\n<figure id=\"image-502381\" class=\"inline-image alignleft zoomable size-medium\"><img src=\"https://qzprod.files.wordpress.com/2015/08/feedback.png?w=644\" alt=\"\" title=\"Happy customers.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Happy customers.<span class=\"inline-image-credit\">(Nucleus)</span></figcaption></figure><p>What makes the dark web a game-changer is that it has those features. Suppliers have detailed reviews on their product, the market is competitive, and people can shop around easily. Aspiring sellers struggle to get a foothold without a history of good reviews; sometimes they offer special deals and an easy exchange policy in return for good reviews. And the markets are global, so it\u2019s possible to see prices in other countries. All this produces a well-behaved <a href=\"http://qz.com/466273/what-illegal-drugs-cost-on-the-dark-web/\">price distribution</a> like the one you\u2019d find in any functional, legal market.</p>\n<p>Well, almost. TheEconomist1 has noticed that some international pricing disparities persist, because shipping internationally is so risky. Many vendors will only ship domestically. He wrote to me:</p>\n<blockquote><p>\u201cThe most obvious example is Australia. Their customs is so good and strict, drug loss via shipping is huge. Prices are hugely divergent from the norm. It could be 5-10 times more than prices found elsewhere.\u201d</p></blockquote>\n<p>But there is already some evidence that the dark web\u2019s competitive market is driving down prices. The median price for cannabis today on the dark web is only $7.60 a gram in the US/Canada, which is about 45% lower than what the street price was in 2013, according to UN data. Synthetic drugs are harder to compare in price than cannabis, because of differences in purity. On the dark web vendors are likely to be more up-front about the purity of their product, because the system holds them accountable.</p>\n<h2>\u2026but only certain parts of it</h2>\n<p>At Ulbricht\u2019s trial, his <a href=\"http://www.scribd.com/doc/265886135/Ulbricht-Sentencing-Defense-Letter\">lawyers argued</a> the dark web made drug dealing safer. <a href=\"http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2436643\">Others argued</a> it could make the industry less violent. At the very least it could make the market more efficient. But for it to reduce most of the violence and other risks in the drug trade, the dark web would need to reach a larger market. And despite its impressive growth, both TheEconomist1 and Christin agree that probably won\u2019t happen. Christin says the market\u2019s exponential growth rate is starting to slow as it converges on its natural, relatively small, size.</p>\n<p>The market is limited in the kinds of buyers it can attract. With few exceptions, it cannot serve large distributors, who do not benefit from buying or selling on the web because they have their own existing relationships, methods of quality control, and so on. Delivery of large shipments is also a problem: Christin points out that some dealers have <a href=\"http://motherboard.vice.com/read/the-rise-and-fall-of-shiny-flakes-germanys-online-drug-market\">used unwitting commercial courier services</a> such as DHL, but, he says, \u201cIt\u2019s very hard to ship large amounts of drugs and not get caught.\u201d Instead, most buyers on the dark web are either consumers, who use the web as an alternative to buying on the street, or fairly small-time street dealers.</p>\n<p>The market is also limited in the kinds of drugs it can trade effectively. Drugs like heroin and cocaine already have established distribution and production channels that the web in its current form can\u2019t disrupt. Opium poppies and coca leaves are grown in only a few developing countries, and turning those commodities into consumable drugs, transporting them, and distributing them is the domain of large, well-organized, powerful and very profitable cartels who, so far, don\u2019t benefit from participating in dark web markets.</p>\n<figure id=\"image-502430\" class=\"inline-image alignnone zoomable size-large\"><img src=\"https://qzprod.files.wordpress.com/2015/08/variety-of-drugs.png?w=1018\" alt=\"\" title=\"Some of these are more suited to the dark web than others.\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Some of these are more suited to the dark web than others.<span class=\"inline-image-credit\">(Nucleus)</span></figcaption></figure><p>But according to the Theeconomist1, \u201cCertain drugs are prime for bulk orders for distro [distribution].\u201d He explains that RC (LSD), alp powder (Xanax) and MDMA thrive on the web because because vendors can participate in their production, and they are easy to ship in bulk. Theeconomist1 speculates that vendors for RC and possibly alp buy the chemicals overseas (often from China), press them into pills, and then sell the final (or intermediate product) on the web.</p>\n<p>The vendors\u2019 role in production may be what drives the relatively high margins on these drugs. It would also explain why, according to the Global Drug Survey and Christin\u2019s research, they are the largest share of the dark-web market. The nature of these particular drugs and their relatively tech-savvy customer base could mean their sales move from being mainly street-based to being mainly online.</p>\n<p>For other sorts of drugs, such as pharmaceuticals, the dark web will not work as a distribution channel for dealers, Theeconomist1 explained to me:</p>\n<blockquote><p>\u201cNo way can you buy adderal, oxy, etc on the DNMs [dark net markets] and resell for a profit. Often the street price is better than the DNM price. So for these types of drugs, its going to be mostly end users on the DNMs. This is mainly due to the how these drugs have to be sourced\u2026 You have to find a break in the supply chain. Smaller DNM vendors probably buy scripts [prescriptions] off patients, using pill mills as their source. Larger, more sophisticated vendors, find a way to pinch it higher up in the supply chain. Diversion at the suppply chain level is the only way to stock huge quantities.\u201d</p></blockquote>\n<figure id=\"image-502494\" class=\"inline-image alignleft zoomable size-medium\"><img src=\"https://qzprod.files.wordpress.com/2015/08/screen-shot-2015-09-11-at-10-59-22-am.png?w=606\" alt=\"\" title=\"Counterfeit Xanax! It makes you so happy!\"><figcaption class=\"inline-image-caption\"><i class=\"icon-camera\"></i>Counterfeit Xanax! It makes you so happy!<span class=\"inline-image-credit\">(Nucleus)</span></figcaption></figure><p>Similarly, the dark web is ill-suited to drugs like heroin or meth, whose heavily addicted users usually can\u2019t wait the relatively long times\u2014often weeks\u2014it takes from purchase to delivery, nor have the mental energy to deal with bitcoins.</p>\n<p>Drugs used by students and more affluent people are a more natural fit. Quartz\u2019s intern claimed many drugs at his university were sourced on the web. When I was in college, most students bought recreational drugs from fellow students who were both bold and industrious enough to interact with real drug dealers. But the extent of their dealing was limited to other students and not very profitable. Now that kid down the hall who deals drugs may get his supply online instead of braving the in-person market.</p>\n<h2>The future</h2>\n<p>In short, the web will probably not alter the entire market. At most it will further segment it. Certain drugs like MDMA may move mostly online. And the web may be the preferred source for affluent users and small-time pot dealers.</p>\n<p>Prostitution went through a similar transition in the early 2000s. Most sex workers in the middle and high end of the range no longer work with pimps or madams, because they can advertise for themselves online. This increased the number of providers and lowered prices. But at the lower end (streetwalkers) and the very high end (escorts), the market still functions more or less as it has for millennia.</p>\n<p>Still, the dark web\u2019s present size reflects the current state of technology. New innovation normally catches on with more affluent and sophisticated users first, then trickles down as it becomes more user-friendly. It was hard to imagine the widespread use of smartphones when mobile phones were only used by Wall Street types in the 1980s. Likewise, we cannot predict how the dark web will evolve. If drones, already being used by drug dealers, become more common, it may mitigate shipping risk. Payment technology and mobile could also evolve in ways we can\u2019t predict. In that case even your average junkie may end up using the web, and your neighbor may be running a cartel one day.</p>\n<p><em><a name=\"Correction\"></a><strong>Correction:</strong> An earlier version of this piece said the price of cocaine in the UK was $63 an ounce, rather than a gram.</em></p>\n\t\t\t\n\t\t</div>\n\t\t\n\t</div>\n\t"
    }, {
        "title": "The new art of war: How trolls, hackers and spies are rewriting the rules of\u00a0conflict",
        "url": "http://toinformistoinfluence.com/2015/09/15/the-new-art-of-war-how-trolls-hackers-and-spies-are-rewriting-the-rules-of-conflict/",
        "excerpt": "It is nice to read an article that rolls cyber into information warfare. Cyber is not done for cyber&#x2019;s sake, although almost the entire cyber community thinks in those terms &#x2013; never&hellip;",
        "date_saved": "Thu Jul 28 20:08:52 EDT 2016",
        "html_file": "the_new_art_of_war_how_trolls_hackers_and_spies_are_rewriting_the_rules_ofu00a0conflict.html",
        "png_file": "the_new_art_of_war_how_trolls_hackers_and_spies_are_rewriting_the_rules_ofu00a0conflict.png",
        "md_file": "the_new_art_of_war_how_trolls_hackers_and_spies_are_rewriting_the_rules_ofu00a0conflict.md",
        "content": "<div><div class=\"entry-content\">\n\n\t\t<br><p>It is nice to read an article that rolls cyber into information warfare.</p>\n<p>Cyber is not done for cyber&#x2019;s sake, although almost the entire cyber community thinks in those terms &#x2013; never adventuring outside their comfort zone.</p>\n<p>This article reminds one that it is all about the information.</p>\n<p>Nice quote by&#xA0;Margarita Jaitner, at the end. She gets it.</p>\n\n<p>By <a class=\"author\" href=\"http://www.techrepublic.com/search/?q=steve+ranger\" rel=\"author\">Steve Ranger</a></p>\n<p>Wandering the pretty, medieval streets of Tallinn&#x2019;s old town, it is hard to believe that the tiny country of Estonia has anything at all to do with cyberwarfare. But first as victim of an attack and now as home to some of the leading thinkers on how the digital battlefield will develop, the country has played a key role in its emergence and evolution.</p>\n<p>Estonia is a country of around 1.3 million people, facing the Baltic Sea and the Gulf of Finland, it borders Latvia to the south and Russia to the east. After decades as part of the Soviet Union, it regained independence in 1991.</p>\n<p>Even today reminders of the Soviet times still abound in the capital Tallinn. There&#x2019;s a museum in one of the big downtown hotels showing how the KGB would bug the rooms of foreign guests.</p>\n<p>But Estonia does not intend to be defined by its past, but is instead intent on creating the most advanced digital state on the planet. Since independence, Estonia has invested heavily in digital services. It leads the way with internet voting&#x2014;in the 2011 election nearly a quarter of voters cast their ballots that way&#x2014;and electronic tax filing, all underpinned by a nationwide digital signature infrastructure.</p>\n<p>Today, you can even become an Estonian e-resident regardless of where you live in the world so you can use that same infrastructure to electronically sign contracts or set up your own company in the country.</p>\n<p>But being so reliant on the internet carries a risk, as the country found out in 2007.</p>\n<p>Plans by Estonian authorities to move a Soviet war memorial sparked a wave of website defacements and denial of service attacks in the country over a three week period, throwing Estonia&#x2019;s government services, newspapers, and businesses offline. The attacks temporarily disabled the websites of banks, ministries and political parties. Many pointed the finger at Russian hackers (Russia denied any involvement in the incident) but the events demonstrated how a purely digital attack on a state could have real-world consequences.</p>\n<p>The Tallinn Manual<br>\nWhile the impact of the attacks can be overstated&#x2014;&#x201D;inconvenient, not cyberwar&#x201D; is how one local described it&#x2014;it accelerated plans, already in place, to set up a NATO cyber defence think-tank in the country.</p>\n<p>The Cooperative Cyber Defence Centre of Excellence (CDCOE) was established the year after the attacks took place as an institution created to figure out how to improve the digital defences of NATO members and what cyberwarfare would actually look like.</p>\n<blockquote><p>&#x201C;Our view is that cyber is another operational domain, much as the seas are, much as the land is, much as space is.&#x201D;<br>\nAdmiral Mike Rogers</p></blockquote>\n<p>As well as the cyber defence exercises it conducts annually, probably the centre&#x2019;s most important work so far appeared in 2013: the Tallinn Manual on the International Law Applicable to Cyber Warfare, known simply as the Tallinn Manual.</p>\n<p>While there is no international law that directly refers to the ultra-modern concept of cyber warfare, there are plenty that applies. So CDCOE assembled a panel of international legal experts to go through this existing law and show how it applies to cyber warfare.This formed the basis of the Tallinn Manual and the 95 so-called &#x2018;black letter rules&#x2019; it contains (so named because that&#x2019;s how they appear in the text).</p>\n<p>Through these rules the manual attempts to define some of the basics of cyber warfare. At the most fundamental level, the rules states that an online attack on a state can, in certain circumstances, be the equivalent of an armed attack. It also lays out that such an attack is against international law, and that a state attacked in such a way has the right to hit back.</p>\n<p>Other rules the manual spells out: don&#x2019;t target civilians or launch indiscriminate attacks that could cripple civilian infrastructure. While many of these sorts of rules are well understood when it comes to standard warfare, setting it out in the context of digital warfare was groundbreaking.</p>\n<p>While the manual argues that a cyber attack can be considered to be the equivalent of an armed attack if it causes physical harm to people or property, other attacks can also be considered a use of force depending on their severity or impact. For example, breaking into a military system would be more likely to be seen as serious, as opposed to hacking into a small business. In contrast, cyber attacks that generate &#x201C;mere inconvenience or irritation&#x201D; would never be considered to be a use of force.<br>\nImage: iStock<br>\nThe manual also delves into some of the trickier questions of cyber war: would Country A be justified in launching a pre-emptive military strike against a Country B if it knew Country B planned to blow up Country A&#x2019;s main oil pipeline by hacking the microcontrollers managing its pipeline pressure? (Answer: probably yes.)</p>\n<p>The manual even considers the legality of some scenarios verging on the science-fictional.</p>\n<p>If an army hacked into and took control of enemy drones, would those drones have to be grounded and marked with the capturers insignia before being allowed to carry out reconnaissance flights? (Answer: maybe.)</p>\n<p>But what&#x2019;s striking is that the Tallinn Manual sets the rules for a war that hasn&#x2019;t been fought yet.</p>\n<p>No Digital Pearl Harbour<br>\nAlthough nearly every state around the globe has been developing a cyber warfare strategy, and some have been building up skills and perhaps even stockpiles of digital weapons, there haven&#x2019;t been any digital attacks that have crossed the thresholds of armed attack as defined by the Tallinn Manual. No massed bot armies, no hackers blowing up power stations from their bedrooms.</p>\n<p>Perhaps the closest was the use of the Stuxnet worm (most likely by the US) as part of a bid to derail the Iranian nuclear programme. By contrast, the attacks on Estonia itself would, for all the excitement around them, be towards the inconvenience and irritation end of the spectrum.</p>\n<p>The Tallinn Manual doesn&#x2019;t say much about the reality of the cut-and-thrust of the modern internet, where state-sponsored hackers, spies, and more are constantly probing the systems of other nations. This is a shadowy world where it is often unclear who the attackers are and what their intentions are (and just what the motivations of their backers is, too). It&#x2019;s a world filled with misleading evidence, ambiguity and deniability.</p>\n<p>Throughout history, states have used third parties and proxies to get their dirty work done. The difference is that by hacking into systems in countries across the world, these groups can have an impact far from their home territories.</p>\n<figure class=\"wp-caption alignright\"><img class=\"\" src=\"http://tr4.cbsistatic.com/hub/i/r/2015/09/15/7b2d919b-08c6-4995-bf7b-fa6e4be4ab90/resize/620x485/94a82f322e479a467f2ab2a4c675fadd/img4683.jpg\" alt=\"\" width=\"424\"><figcaption class=\"wp-caption-text\">Colonel Artuz Suzik speaking at the CCDCOE conference Image: Estonian Defence Forces</figcaption></figure>\n<p>On the subject of such attacks&#x2014;which can be extremely serious but never quite reach the level of an actual attack by force&#x2014;the manual has little to say. However, these kinds of attacks are the ones that take place every single day. Cyberwar has become the continuation of politics by digital means.</p>\n<p>&#x201C;The scope of cyber attacks is very, very wide, so that&#x2019;s why with the first Tallinn Manual we took the most severe case of armed attack and the use of force,&#x201D; explains Colonel Artur Suzik, the director of CCDCOE until August 2015. &#x201C;But the majority of cyber incidents nation states face occur outside of the conflict law, so there was a clear need to expand the legal analysis to this area.&#x201D;</p>\n<p>That doesn&#x2019;t mean the manual is a failure, or irrelevant. Indeed, it may even be that by making clear that digital attacks are covered by an array of existing international law, the Tallinn Manual has forced countries to rethink their approaches to cyber warfare. That is, because the manual does a good job of defining just what kinds of attack might lead to a missile being lobbed in your direction, states launching hacking attacks have been careful to keep their operations (just) below that threshold, say experts.</p>\n<p>An expanded Tallinn Manual 2.0 is due to be published next year looking at how international law addresses malicious cyber operations by state (and non-state) actors during peacetime.</p>\n<p>The new manual will try to create the same &#x2018;black letter rules&#x2019; around much trickier concepts, such as when countries are responsible for hostile cyber operations launched against other states from their territory, and when such operations violate the sovereignty of the state.</p>\n<p>It will take the analysis into the much complicated and murky environment of the day-to-day cyber attacks that don&#x2019;t ever reach the level of physical attacks, but are no less dangerous for it.</p>\n<p>Few, for example, could have imagined a couple of years ago that a hacking attack against a film studio could lead to an international incident, or that the theft of HR records from the obscure Office of Personnel Management could create such consternation.</p>\n<p>Politicians and diplomats are still struggling to work out how to deal with the near-constant stream of other data leaks from all sorts of government agencies that are blamed on state-sponsored hackers. And there is little in the way of consensus on how to deal with it or often even how to label it. When does hacking become espionage and when does that evolve into something that could escalate into the use of armed force?</p>\n<blockquote><p>&#x201C;NATO doesn&#x2019;t have any interest [in militarising] cyberspace.&#x201D;<br>\nSorin Ducaru</p></blockquote>\n<p>And while many industry watchers saw the attacks on Estonia and built out of that lurid &#x2018;Digital Pearl Harbour&#x2019; style scenarios where a country could be toppled by a digital attack launched by a dedicated few, this has not taken place. The reality has turned out to be less far less dramatic, but much more complicated to tackle.</p>\n<p>That&#x2019;s not to say that the apocalyptic scenario of state-backed hackers causing mayhem by breaking into industrial control systems (the technology that runs power stations or chemical plants) is utterly impossible &#x2013; just extremely unlikely, and extremely hard and extremely expensive. Cyberwar, as it was envisaged, has not taken place.</p>\n<p>But it&#x2019;s entirely possible that by watching and waiting for a explosive Hollywood-style catastrophe that we&#x2019;ve missed the much more insidious and protracted cyberwar that has been going on for years already.</p>\n<p>Hybrid information war<br>\nEarlier this year, the cyber think-tank held a conference to bring together some of the biggest thinkers on cyber warfare in Tallinn to discuss the most recent developments in cyber war theory ahead of the publication of the new Tallinn Manual at an event called CyCon.</p>\n<p>For what was effectively a technology conference, there were a lot of people in uniform. In attendance was not only the head of the NSA, Admiral Mike Rogers, but also the Assistant Secretary General of NATO, Sorin Ducaru, reflecting the level of concern around cyber defence among the allies.</p>\n<p>Despite the subject matter, it wasn&#x2019;t all serious. Speakers, including surveillance chief Admiral Rogers, were presented on-stage with a thank you present of a mug with an ear for a handle.)</p>\n<p>Both men reflected a cautious, slowly-developing approach when it comes to the use of the internet by the military. NATO itself, for example, only recently decided that a major digital attack on a member state could be covered by Article 5 of its collective defence clause (one of the most fundamental tenets of NATO, that an armed attack on one member should be considered an armed attack on them all). And, Ducaru insisted, &#x201C;NATO doesn&#x2019;t have any interest [in militarising] cyberspace or to have an ungoverned space.&#x201D;</p>\n<p>Rogers emphasised that the use of the internet by the US military is still evolving, with defence the priority. &#x201C;Our view is that cyber is another operational domain, much as the seas are, much as the land is, much as space is, and increasingly, it is an environment in which we will conduct a series of very traditional military evolutions from the defensive things to the application of capabilities to generate specific kinds of effects,&#x201D; he said. &#x201C;We think cyber will evolve over time, much as we&#x2019;ve seen the other domains, in the more traditional arenas.&#x201D;</p>\n<figure class=\"wp-caption alignnone\"><img src=\"http://tr4.cbsistatic.com/hub/i/r/2015/09/14/31e78350-3364-4d5b-a543-0aba532a2bed/resize/620x485/7e20dc82f3f44c6955bace1b2670550c/admiralrogers.jpg\" alt=\"\" width=\"422\"><figcaption class=\"wp-caption-text\">NSA chief Admiral Mike Rogers speaking at CyCon Image: Estonian Defence Forces</figcaption></figure>\n<p>To put it another way: cyberwarfare models are maturing in the same way that other technologies mature. To take a more prosaic example, the evolution of cyberwarfare is a lot like the cycle e-commerce went through. There was a lot of initial excitement and investment from retailers in building seperate e-commerce operations or businesse, but gradually these became not just a standard part of their operation but for many retailers the core of their business, just as cyberwarfare planning and strategy is gradually becoming a part of mainstream military planning.</p>\n<p>However that doesn&#x2019;t mean that all countries are taking the same approach to strategy or that they even agree on what should be included in the term cyberwarfare. Some countries have a very narrow model of what cyberwarfare should look like &#x2013; that is should focus on hacking and damaging systems. Others see it as just one part of a much wider information warfare spectrum which stretches from hacking to disinformation and propoganda. Indeed,much of the criticism of the Tallinn Manual has been around how it represents a NATO&#x2014;and specifically Western&#x2014;outlook on what cyberwarfare should look like.</p>\n<p>Across the street from the hotel where the conference took place stands a building topped with a Soviet star, a reminder of Estonia&#x2019;s past and, unsurprisingly given the location and the ongoing conflict in Ukraine, understanding the cyberwarfare strategy of Estonia&#x2019;s big neighbour was a recurring theme.</p>\n<p>And while NATO is thinking of cyberwarfare in terms of defending (and attacking) networks, others&#x2014;particularly Russia, according to speakers at the conference&#x2014;have developed a wider perspective that folds classic hacker tools into the broader concept of information warfare, which can stretch all the way from propaganda and disinformation through to the more expected denial of service attacks and more.</p>\n<p>Speaking at a conference session, Keir Giles of the Conflict Studies Research Centre crystalised it thus: &#x201C;There is now a developing realization that pure cybersecurity and cyberdefence is not sufficient to counter an enemy thinking in much broader terms.&#x201D;</p>\n<p>Richard Bejtlich of the US Brookings Institution think-tank said that when it comes to cyberwar and cyberdefence, the NATO emphasis is still on software. &#x201C;The Chinese and Russia have a broader concept,&#x201D; he said.</p>\n<p>For example there was limited use of cyberwarfare&#x2014;like hacking and denial of service&#x2014;during the hostilities in Ukraine, even though many analysts were expecting more. Was it that cyberwar didn&#x2019;t happen, or that it simply didn&#x2019;t look quite how western observers were expecting it to?</p>\n<p>&#x201C;There are number of reasons why it doesn&#x2019;t look the way people were expecting when the Ukraine conflict first started. Cyber-armageddon was promised but hasn&#x2019;t happened,&#x201D; Bejtlich said. &#x201C;All of the cyberactivity is purely a facilitator for broader information warfare ends.&#x201D;</p>\n<p>All of this means that cyberwarfare isn&#x2019;t just&#x2014;or perhaps even primarily&#x2014;about breaking stuff anymore.</p>\n<p>Indeed, protecting your networks will not protect you from cyberwar but may even leave you more open to it because those networks are exactly how your opponent will want to deliver its messages, its themes, its memes to their targets.</p>\n<p>As Professor Francois Gere of the French Institute of Strategic Analysis pointed out: &#x201C;That&#x2019;s some kind of paradox: if you want to dispatch propaganda and disinformation you cannot totally disrupt the communications devices of your adversary, so the internet must remain relatively safe and accessible.&#x201D;</p>\n<p>Instead of a being characterised by the delivery of an elegantly crafted digital weapon like Stuxnet, it seems that for some countries, cyberwarfare is becoming just one part of a continuum with includes the much wider concept of hybrid information war. That includes subtle disinformation and overt propaganda along with more traditional options like denial of service or website defacement.</p>\n<p>As such, rather than just worrying about denial of service we should start to worry more about denial of reality. The rise of &#x2018; troll armies&#x2019; is well documented: bloggers paid to promote a pro-government agenda, making it harder for critics to be heard. This is well documented in Russia and China but also seems to be spreading further around the globe.</p>\n<p>This much broader definition of &#x2018;information warfare&#x2019; is much harder to tackle, especially as none of it would rise to the level of the use of force as defined by the Tallinn Manual. It&#x2019;s hard to stop a denial of service attack against a bank; it&#x2019;s much harder still to deal with a flood of rumours spread across social networks that the bank is running out of money.</p>\n<blockquote><p>&#x201C;There is now a developing realization that pure cybersecurity and cyberdefence is not sufficient to counter an enemy thinking in much broader terms.&#x201D;<br>\nKeir Giles</p></blockquote>\n<p>In some respects this is harnessing the nature of the internet, a space where free speech, doubt, and scepticism can run wild. Fighting an army of online trolls sharing half-truths or outright lies in order to confuse the public and make it harder for politicians to make decisions is hard, and certainly not one that any existing army can deal with.</p>\n<p>Few democratic nations will want to limit the free flow of information to the public but also aren&#x2019;t set up to&#x2014;or are capable of&#x2014;rebutting every crazy rumour which makes it a hard technique to combat. But if a nation can orchestrate a campaign of rumour and disinformation against another that changes public opinion in that country to the point that it alters the decisions made by its political leaders, then an army of trolls could be vastly more useful, and harder to fight, than a squadron of tanks.</p>\n<p>Few democratic countries would want to wage war in such a way, but tackling it without undermining, for example, the freedom of speech which the public are used to is a challenge which they are currently ill-equipped to deal with. However, some are taking gradual steps in this direction. For example, the UK government recently started a Twitter account aimed at countering online propaganda from ISIL.</p>\n<p>The next version of the the Tallinn Manual is due in 2016, and will make it clearer just how international law applies to cyber attacks which don&#x2019;t reach the level of physical attacks. It may be that providing a legal framework for this extremely murky environment will actually reduce some of the attacks we&#x2019;re currently seeing. But what is clear is that, overtly or covertly, the internet is now another battlefield, even if it often hard to discern it as such.</p>\n<p>Or, as Margarita Jaitner of the Swedish Defence Academy told the conference: perhaps we have run an &#x201C;information operation&#x201D; on ourselves, tricking ourselves into thinking we would see some &#x201C;breaking things armageddon&#x201D; but completely missed the part about &#x201C;what does it do to society, what does it do to our impression of what is going on, and how does it fog our picture of the events, and how does it stop us from acting or reacting?&#x201D;</p>\n<p>Perhaps the greatest success of cyberwarfare so far is to convince the world that it hasn&#x2019;t really started yet.</p>\n<p>About Steve Ranger<br>\nSteve Ranger is the UK editor of TechRepublic, and has been writing about the impact of technology on people, business and culture for more than a decade. Before joining TechRepublic he was the editor of silicon.com.</p>\n<p>Source:&#xA0;<a href=\"http://www.techrepublic.com/article/the-new-art-of-war-how-trolls-hackers-and-spies-are-rewriting-the-rules-of-conflict/\">http://www.techrepublic.com/article/the-new-art-of-war-how-trolls-hackers-and-spies-are-rewriting-the-rules-of-conflict/</a></p>\n\t\t\n\t\t\t\t</div>\n\n\t\t\n\n\t\t\n\n\t</div>"
    }, {
        "title": "The Math I Learned After I Thought Had Already Learned Math",
        "url": "http://blog.mrmeyer.com/2015/the-math-i-learned-after-i-thought-had-already-learned-math/",
        "excerpt": "True story: it&#x2019;s possible to fly through your own secondary math education &#x2013; honor roll bumper sticker on your mom&#x2019;s minivan and all &#x2013;&#xA0;but miss some of the Very Big&hellip;",
        "date_saved": "Thu Jul 28 20:08:53 EDT 2016",
        "html_file": "the_math_i_learned_after_i_thought_had_already_learned_math.html",
        "png_file": "the_math_i_learned_after_i_thought_had_already_learned_math.png",
        "md_file": "the_math_i_learned_after_i_thought_had_already_learned_math.md",
        "content": "<div><div class=\"entry\">\n\t\t\t\t\t<p>True story: it&#x2019;s possible to <em>fly</em> through your own secondary math education &#x2013; honor roll bumper sticker on your mom&#x2019;s minivan and all &#x2013;&#xA0;but miss some of the Very Big Ideas of secondary math.</p>\n<p>For one example: in <a href=\"http://blog.mrmeyer.com/2015/if-simplifying-rational-expressions-is-aspirin-then-how-do-you-create-the-headache/\">our last post on simplifying rational expressions</a>, the process of turning a lengthy rational expression into a simpler one,&#xA0;<a href=\"http://blog.mrmeyer.com/2015/if-simplifying-rational-expressions-is-aspirin-then-how-do-you-create-the-headache/comment-page-1/#comment-2409318\">Bill F writes</a>:</p>\n<blockquote><p>Another benefit of evaluating both expressions for a set of values is to emphasize the equivalence of both expressions. Students lose the thread that simplifying creates equivalent expressions. All too often the process is seen as a bunch-of-math-steps-that-the-teacher-tells-us-to-do. When asked, &#x201C;what did those steps accomplish?&#x201D; blank stares are often seen.</p></blockquote>\n<p>Past a certain point, those operations are trivial. But it&#x2019;s only past a point much farther in the distance that the <em>understanding</em> &#x2013; these two rational expressions are <em>equivalent</em> &#x2013;&#xA0;becomes trivial.</p>\n<p>For another example: I left high school adept at graphing functions. I could complete the square and change forms easily. I knew how to identify the asymptotes, holes, and limiting behavior of those thorny rational expressions. But it wasn&#x2019;t until I had graduated university math and was several years into <em>teaching</em> that I really, really understood that the graph is a picture of all the points that make the function <em>true</em>. This was difficult for me because graphs don&#x2019;t often <em>look</em> like a bunch of points. They look like a <em>line</em></p>\n<p>That&#x2019;s one reason I&#x2019;m excited about <a href=\"http://teacher.desmos.com/activitybuilder\">the Desmos Activity Builder</a> and this activity I made in it last week, <a href=\"https://student.desmos.com/?prepopulateCode=xffk\">Loco for Loci</a>!</p>\n<p>It asks students to place a point anywhere on a graph so that it makes a particular relationship <em>true</em>. Then it asks the students to imagine what <em>all of our points</em> would look like if we pictured them on the same graph. Then the teacher can show the results, underscoring this Very Big Idea that I didn&#x2019;t fully appreciate my first time through high school &#x2013; what we eventually think of as a continuous line is a picture of lots and lots of points.</p>\n<p>Here is what happened when 300 people on Twitter played along:</p>\n<p>&#x201C;Drag the green point so that it&#x2019;s the same distance from both blue points.&#x201D;</p>\n<p><a href=\"http://blog.mrmeyer.com/wp-content/uploads/150811_1hi.png\"><img src=\"http://blog.mrmeyer.com/wp-content/uploads/150811_1lo-1024x890.png\" alt=\"150811_1lo\" width=\"500\" class=\"aligncenter size-large wp-image-23603\"></a></p>\n<p>Trickier: &#x201C;Drag the green point so that it&#x2019;s five units from both blue points.&#x201D;</p>\n<p><a href=\"http://blog.mrmeyer.com/wp-content/uploads/150811_2hi.png\"><img src=\"http://blog.mrmeyer.com/wp-content/uploads/150811_2lo-1024x885.png\" alt=\"150811_2lo\" width=\"500\" class=\"aligncenter size-large wp-image-23601\"></a></p>\n<p>Whimsical: &#x201C;Drag the green point so it is the same distance from a) the line of dinosaurs and b) the big dinosaur.&#x201D; I really couldn&#x2019;t have hoped for better here.</p>\n<p><a href=\"http://blog.mrmeyer.com/wp-content/uploads/150811_3hi.png\"><img src=\"http://blog.mrmeyer.com/wp-content/uploads/150811_3lo-1024x652.png\" alt=\"150811_3lo\" width=\"500\" class=\"aligncenter size-large wp-image-23599\"></a></p>\n<p>And then a couple of very interesting misfires.</p>\n<p>&#x201C;Drag the green point so that it&#x2019;s four units from the blue point.&#x201D;</p>\n<p><a href=\"http://blog.mrmeyer.com/wp-content/uploads/150811_5hi.png\"><img src=\"http://blog.mrmeyer.com/wp-content/uploads/150811_5lo-1024x888.png\" alt=\"150811_5lo\" width=\"500\" class=\"aligncenter size-large wp-image-23595\"></a></p>\n<p>&#x201C;Drag the green point so that a line segment is formed with a slope of .5.&#x201D;</p>\n<p><a href=\"http://blog.mrmeyer.com/wp-content/uploads/150811_4hi.png\"><img src=\"http://blog.mrmeyer.com/wp-content/uploads/150811_4lo-1024x888.png\" alt=\"150811_4lo\" width=\"500\" class=\"aligncenter size-large wp-image-23597\"></a></p>\n<p>You could run a semester-long master&#x2019;s seminar on the misconceptions in that last graph.</p>\n<p>Well.</p>\n<p>Maybe more like ten quick seconds at the start of your Algebra class.</p>\n<p>If you&#x2019;d like to run this activity with your own students, here is <a href=\"https://teacher.desmos.com/activitybuilder/custom/55c368cb6f0091a533ff7fd0\">the teacher link</a>.</p>\n<p><strong>Questions for the Comments</strong></p>\n<ul>\n<li>Obviously, I didn&#x2019;t invite hyperbolas and ellipses to the party. Which other loci should have received the same treatment?</li>\n<li>Which Very Big Ideas did you only fully understand once you started math teaching?</li>\n</ul>\n<p><strong>Featured Comment</strong></p>\n<p><a href=\"http://blog.mrmeyer.com/2015/the-math-i-learned-after-i-thought-had-already-learned-math/comment-page-1/#comment-2409839\">Jason Dyer</a>:</p>\n<blockquote><p>I find this sort of gap fascinating [my inability to conceive of graphs as a picture of solutions &#x2013;<strong>dm</strong>] especially because it is likely somewhere along the line you were at least told this fact (you might even be able to track exactly where). But it still didn&#x2019;t stick! It&#x2019;s as if being told just isn&#x2019;t enough.</p></blockquote>\n<p><a href=\"http://blog.mrmeyer.com/2015/the-math-i-learned-after-i-thought-had-already-learned-math/comment-page-1/#comment-2409864\">Bowen Kerins</a>:</p>\n<blockquote><p>The description you give about graphs is something we have to hit early and often in CME Project, it&#x2019;s one of the top 3 things to learn in the entire curriculum. It&#x2019;s amazing how that can get lost in the shuffle, but it does, and where it gets lost is the algorithmic way of graphing a function or equation: the A does this, the B does that, etc &#x2014; all of this ignores the deeper fact that under the hood, this is all a relationship between two variables x and y.</p></blockquote>\n<p>The other two of Bowen&#x2019;s top three things to learn in Algebra, <a href=\"https://twitter.com/bowenkerins/status/631248340190105600\">according to Bowen on Twitter</a>, are:</p>\n<ul>\n<li>Variables represent numbers, so test numbers to test ideas and build equations.</li>\n<li>Rules for new stuff should respect existing rules.</li>\n</ul>\n<p><strong>Featured Tweets</strong></p>\n<p>Amazing, all the people <a href=\"https://twitter.com/ddmeyer/status/631161953889599488\">unburdening themselves on Twitter</a> of math they only understood once they began teaching. <em>What does it all mean?</em></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\n\n\n\t\t\t\t\n\t\t\t\t\n\n\n\t \n\n\t\n\n \n\n\n</div>"
    }, {
        "title": "Introduction to Monte Carlo Tree Search",
        "url": "http://jeffbradberry.com/posts/2015/09/intro-to-monte-carlo-tree-search/",
        "excerpt": "The subject of game AI generally begins with so-called perfect information games. These are turn-based games where the players have no information hidden from each other and there is no element of&hellip;",
        "date_saved": "Thu Jul 28 20:08:55 EDT 2016",
        "html_file": "introduction_to_monte_carlo_tree_search.html",
        "png_file": "introduction_to_monte_carlo_tree_search.png",
        "md_file": "introduction_to_monte_carlo_tree_search.md",
        "content": "<div><div class=\"content\">\n <p>The subject of game AI generally begins with so-called <em>perfect\ninformation</em> games. These are turn-based games where the players have\nno information hidden from each other and there is no element of\nchance in the game mechanics (such as by rolling dice or drawing cards\nfrom a shuffled deck). Tic Tac Toe, Connect 4, Checkers, Reversi,\nChess, and Go are all games of this type. Because everything in this\ntype of game is fully determined, a tree can, in theory, be\nconstructed that contains all possible outcomes, and a value assigned\ncorresponding to a win or a loss for one of the players. Finding the\nbest possible play, then, is a matter of doing a search on the tree,\nwith the method of choice at each level alternating between picking\nthe maximum value and picking the minimum value, matching the\ndifferent players' conflicting goals, as the search proceeds down the\ntree. This algorithm is called <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Minimax\">Minimax</a>.</p>\n<p>The problem with Minimax, though, is that it can take an impractical\namount of time to do a full search of the game tree. This is\nparticularly true for games with a high <em>branching factor</em>, or high\naverage number of available moves per turn. This is because the basic\nversion of Minimax needs to search all of the nodes in the tree to\nfind the optimal solution, and the number of nodes in the tree that\nmust be checked grows exponentially with the branching factor. There\nare methods of mitigating this problem, such as searching only to a\nlimited number of moves ahead (or <em>ply</em>) and then using an <em>evaluation\nfunction</em> to estimate the value of the position, or by <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning\">pruning</a> branches\nto be searched if they are unlikely to be worthwhile. Many of these\ntechniques, though, require encoding domain knowledge about the game,\nwhich may be difficult to gather or formulate. And while such methods\nhave produced Chess programs capable of defeating grandmasters,\nsimilar success in Go has been elusive, particularly for programs\nplaying on the full 19x19 board.</p>\n<p>However, there is a game AI technique that does do well for games with\na high branching factor and has come to dominate the field of Go\nplaying programs. It is easy to create a basic implementation of this\nalgorithm that will give good results for games with a smaller\nbranching factor, and relatively simple adaptations can build on it\nand improve it for games like Chess or Go. It can be configured to\nstop after any desired amount of time, with longer times resulting in\nstronger game play. Since it doesn't necessarily require\ngame-specific knowledge, it can be used for <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/General_game_playing\">general game playing</a>. It may even\nbe adaptable to games that incorporate randomness in the rules. This\ntechnique is called Monte Carlo Tree Search. In this article I will\ndescribe how <abbr title=\"Monte Carlo Tree Search\">MCTS</abbr> works,\nspecifically a variant called Upper Confidence bound applied to Trees\n(<abbr title=\"Upper Confidence bound applied to Trees\">UCT</abbr>), and then will\nshow you how to build a basic implementation in Python.</p>\n<p>Imagine, if you will, that you are faced with a row of slot machines,\neach with different payout probabilities and amounts. As a rational\nperson (if you are going to play them at all), you would prefer to use\na strategy that will allow you to maximize your net gain. But how can\nyou do that? For whatever reason, there is no one nearby, so you\ncan't watch someone else play for a while to gain information about\nwhich is the best machine. Clearly, your strategy is going to have to\nbalance playing all of the machines to gather that information\nyourself, with concentrating your plays on the observed best machine.\nOne strategy, called <abbr title=\"Upper Confidence Bound 1\">UCB1</abbr>, does\nthis by constructing statistical <em>confidence intervals</em> for each\nmachine</p>\n<p class=\"math\">\n\\begin{equation*}\n\\bar{x}_i \\pm \\sqrt{\\frac{2 \\ln n}{n_i}}\n\\end{equation*}\n</p>\n<p>where:</p>\n<ul class=\"simple\">\n<li><span class=\"math\">\\(\\bar{x}_i\\)</span>: the mean payout for machine <span class=\"math\">\\(i\\)</span></li>\n<li><span class=\"math\">\\(n_i\\)</span>: the number of plays of machine <span class=\"math\">\\(i\\)</span></li>\n<li><span class=\"math\">\\(n\\)</span>: the total number of plays</li>\n</ul>\n<p>Then, your strategy is to pick the machine with the highest upper\nbound each time. As you do so, the observed mean value for that\nmachine will shift and its confidence interval will become narrower,\nbut all of the other machines' intervals will widen. Eventually, one\nof the other machines will have an upper bound that exceeds that of\nyour current one, and you will switch to that one. This strategy has\nthe property that your <em>regret</em>, the difference between what you would\nhave won by playing solely on the actual best slot machine and your\nexpected winnings under the strategy that you do use, grows only as\n<span class=\"math\">\\(\\mathcal{O}(\\ln n)\\)</span>. This is the same <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Big_O_notation\">big-O</a> growth rate as the\ntheoretical best for this problem (referred to as the <em>multi-armed\nbandit problem</em>), and has the additional benefit of being easy to\ncalculate.</p>\n<p>And here's how Monte Carlo comes in. In a standard Monte Carlo\nprocess, a large number of random simulations are run, in this case,\nfrom the board position that you want to find the best move for.\nStatistics are kept for each possible move from this starting state,\nand then the move with the best overall results is returned. The\ndownside to this method, though, is that for any given turn in the\nsimulation, there may be many possible moves, but only one or two that\nare good. If a random move is chosen each turn, it becomes extremely\nunlikely that the simulation will hit upon the best path forward. So,\nUCT has been proposed as an enhancement. The idea is this: any given\nboard position can be considered a multi-armed bandit problem, if\nstatistics are available for all of the positions that are only one\nmove away. So instead of doing many purely random simulations, UCT\nworks by doing many multi-phase <em>playouts</em>.</p>\n<div class=\"figure align-left\">\n<img alt=\"Selection\" src=\"http://jeffbradberry.com/images/mcts_selection.png\">\n<p class=\"caption\">Selection</p>\n<p class=\"legend\">\nHere the positions and moves selected by the UCB1 algorithm at each\nstep are marked in bold. Note that a number of playouts have\nalready been run to accumulate the statistics shown. Each circle\ncontains the number of wins / number of times played.</p>\n</div>\n<p class=\"group\">The first phase, <em>selection</em>, lasts while you have the statistics\nnecessary to treat each position you reach as a multi-armed bandit\nproblem. The move to use, then, would be chosen by the UCB1 algorithm\ninstead of randomly, and applied to obtain the next position to be\nconsidered. Selection would then proceed until you reach a position\nwhere not all of the child positions have statistics recorded.</p>\n<div class=\"figure align-right\">\n<img alt=\"Expansion\" src=\"http://jeffbradberry.com/images/mcts_expansion.png\">\n<p class=\"caption\">Expansion</p>\n<p class=\"legend\">\nThe position marked 1/1 at the bottom of the tree has no further\nstatistics records under it, so we choose a random move and add a\nnew record for it (bold), initialized to 0/0.</p>\n</div>\n<p class=\"group\">The second phase, <em>expansion</em>, occurs when you can no longer apply\nUCB1. An unvisited child position is randomly chosen, and a new\nrecord node is added to the tree of statistics.</p>\n<div class=\"figure align-left\">\n<img alt=\"Simulation\" src=\"http://jeffbradberry.com/images/mcts_simulation.png\">\n<p class=\"caption\">Simulation</p>\n<p class=\"legend\">\nOnce the new record is added, the Monte Carlo simulation begins,\nhere depicted with a dashed arrow. Moves in the simulation may be\ncompletely random, or may use calculations to weight the randomness\nin favor of moves that may be better.</p>\n</div>\n<p class=\"group\">After expansion occurs, the remainder of the playout is in phase 3,\n<em>simulation</em>. This is done as a typical Monte Carlo simulation,\neither purely random or with some simple weighting heuristics if a\n<em>light playout</em> is desired, or by using some computationally expensive\nheuristics and evaluations for a <em>heavy playout</em>. For games with a\nlower branching factor, a light playout can give good results.</p>\n<div class=\"group figure align-right\">\n<img alt=\"Back-propagation\" src=\"http://jeffbradberry.com/images/mcts_backprop.png\">\n<p class=\"caption\">Back-Propagation</p>\n<p class=\"legend\">\nAfter the simulation reaches an end, all of the records in the path\ntaken are updated. Each has its play count incremented by one, and\neach that matches the winner has its win count incremented by one,\nhere shown by the bolded numbers.</p>\n</div>\n<p class=\"group\">Finally, the fourth phase is the <em>update</em> or <em>back-propagation</em> phase.\nThis occurs when the playout reaches the end of the game. All of the\npositions visited during this playout have their play count\nincremented, and if the player for that position won the playout, the\nwin count is also incremented.</p>\n<p>This algorithm may be configured to stop after any desired length of\ntime, or on some other condition. As more and more playouts are run,\nthe tree of statistics grows in memory and the move that will finally\nbe chosen will converge towards the actual optimal play, though that\nmay take a very long time, depending on the game.</p>\n<p>For more details about the mathematics of UCB1 and UCT, see\n<a class=\"reference external\" href=\"http://homes.di.unimi.it/~cesabian/Pubblicazioni/ml-02.pdf\">Finite-time Analysis of the Multiarmed Bandit Problem</a> and\n<a class=\"reference external\" href=\"https://www.lri.fr/~sebag/Examens_2008/UCT_ecml06.pdf\">Bandit based Monte-Carlo Planning</a>.</p>\n<p>Now let's see some code. To separate concerns, we're going to need a\n<tt class=\"docutils literal\">Board</tt> class, whose purpose is to encapsulate the rules of a game\nand which will care nothing about the AI, and a <tt class=\"docutils literal\">MonteCarlo</tt> class,\nwhich will only care about the AI algorithm and will query into the\n<tt class=\"docutils literal\">Board</tt> object in order to obtain information about the game. Let's\nassume a <tt class=\"docutils literal\">Board</tt> class supporting this interface:</p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">Board</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">start</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"c\"># Returns a representation of the starting state of the game.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">current_player</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes the game state and returns the current player's</span>\n <span class=\"c\"># number.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">next_state</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">play</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes the game state, and the move to be applied.</span>\n <span class=\"c\"># Returns the new game state.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">legal_plays</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state_history</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes a sequence of game states representing the full</span>\n <span class=\"c\"># game history, and returns the full list of moves that</span>\n <span class=\"c\"># are legal plays for the current player.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">winner</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state_history</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes a sequence of game states representing the full</span>\n <span class=\"c\"># game history. If the game is now won, return the player</span>\n <span class=\"c\"># number. If the game is still ongoing, return zero. If</span>\n <span class=\"c\"># the game is tied, return a different distinct value, e.g. -1.</span>\n <span class=\"k\">pass</span>\n</pre></div>\n<p>For the purposes of this article I'm not going to flesh this part out\nany further, but for example code you can find one of my\nimplementations on <a class=\"reference external\" href=\"https://github.com/jbradberry/ultimate_tictactoe/blob/master/t3/board.py\">github</a>.\nHowever, it is important to note that we will require that the\n<tt class=\"docutils literal\">state</tt> data structure is hashable and equivalent states hash to the\nsame value. I personally use flat tuples as my state data structures.</p>\n<p>The AI class we will be constructing will support this interface:</p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes an instance of a Board and optionally some keyword</span>\n <span class=\"c\"># arguments. Initializes the list of game states and the</span>\n <span class=\"c\"># statistics tables.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">update</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">):</span>\n <span class=\"c\"># Takes a game state, and appends it to the history.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">get_play</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"c\"># Causes the AI to calculate the best move from the</span>\n <span class=\"c\"># current game state and return it.</span>\n <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">run_simulation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"c\"># Plays out a \"random\" game from the current position,</span>\n <span class=\"c\"># then updates the statistics tables with the result.</span>\n <span class=\"k\">pass</span>\n</pre></div>\n<p>Let's begin with the initialization and bookkeeping. The <tt class=\"docutils literal\">board</tt>\nobject is what the AI will be using to obtain information about where\nthe game is going and what the AI is allowed to do, so we need to\nstore it. Additionally, we need to keep track of the state data as we\nget it.</p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span> <span class=\"o\">=</span> <span class=\"n\">board</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">update</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">):</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n</pre></div>\n<p>The UCT algorithm relies on playing out multiple games from the\ncurrent state, so let's add that next.</p>\n<div class=\"highlight\"><pre><span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"c\"># ...</span>\n <span class=\"n\">seconds</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">'time'</span><span class=\"p\">,</span> <span class=\"mi\">30</span><span class=\"p\">)</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculation_time</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">seconds</span><span class=\"o\">=</span><span class=\"n\">seconds</span><span class=\"p\">)</span>\n\n <span class=\"c\"># ...</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">get_play</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"n\">begin</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span>\n <span class=\"k\">while</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">begin</span> <span class=\"o\">&lt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculation_time</span><span class=\"p\">:</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">run_simulation</span><span class=\"p\">()</span>\n</pre></div>\n<p>Here we've defined a configuration option for the amount of time to\nspend on a calculation, and <tt class=\"docutils literal\">get_play</tt> will repeatedly call\n<tt class=\"docutils literal\">run_simulation</tt> until that amount of time has passed. This code\nwon't do anything particularly useful yet, because we still haven't\ndefined <tt class=\"docutils literal\">run_simulation</tt>, so let's do that now.</p>\n<div class=\"highlight\"><pre><span class=\"c\"># ...</span>\n<span class=\"kn\">from</span> <span class=\"nn\">random</span> <span class=\"kn\">import</span> <span class=\"n\">choice</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"c\"># ...</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_moves</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">'max_moves'</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n\n <span class=\"c\"># ...</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">run_simulation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"n\">states_copy</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"p\">[:]</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"n\">states_copy</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n\n <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"nb\">xrange</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_moves</span><span class=\"p\">):</span>\n <span class=\"n\">legal</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">legal_plays</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n\n <span class=\"n\">play</span> <span class=\"o\">=</span> <span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">legal</span><span class=\"p\">)</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">next_state</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">play</span><span class=\"p\">)</span>\n <span class=\"n\">states_copy</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n\n <span class=\"n\">winner</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">winner</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"n\">winner</span><span class=\"p\">:</span>\n <span class=\"k\">break</span>\n</pre></div>\n<p>This adds the beginnings of the <tt class=\"docutils literal\">run_simulation</tt> method, which\neither selects a move using UCB1 or chooses a random move from the set\nof legal moves each turn until the end of the game. We have also\nintroduced a configuration option for limiting the number of moves\nforward that the AI will play.</p>\n<p>You may notice at this point that we are making a copy of\n<tt class=\"docutils literal\">self.states</tt> and adding new states to it, instead of adding\ndirectly to <tt class=\"docutils literal\">self.states</tt>. This is because <tt class=\"docutils literal\">self.states</tt> is the\nauthoritative record of what has happened so far in the game, and we\ndon't want to mess it up with these speculative moves from the\nsimulations.</p>\n<p>Now we need to start keeping statistics on the game states that the AI\nhits during each run of <tt class=\"docutils literal\">run_simulation</tt>. The AI should pick the\nfirst unknown game state it reaches to add to the tables.</p>\n<div class=\"highlight\"><pre><span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"c\"># ...</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n <span class=\"c\"># ...</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">run_simulation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"n\">visited_states</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n <span class=\"n\">states_copy</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"p\">[:]</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"n\">states_copy</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n <span class=\"n\">player</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">current_player</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n\n <span class=\"n\">expand</span> <span class=\"o\">=</span> <span class=\"bp\">True</span>\n <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"nb\">xrange</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_moves</span><span class=\"p\">):</span>\n <span class=\"n\">legal</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">legal_plays</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n\n <span class=\"n\">play</span> <span class=\"o\">=</span> <span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">legal</span><span class=\"p\">)</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">next_state</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">play</span><span class=\"p\">)</span>\n <span class=\"n\">states_copy</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n\n <span class=\"c\"># `player` here and below refers to the player</span>\n <span class=\"c\"># who moved into that particular state.</span>\n <span class=\"k\">if</span> <span class=\"n\">expand</span> <span class=\"ow\">and</span> <span class=\"p\">(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"p\">:</span>\n <span class=\"n\">expand</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n <span class=\"n\">visited_states</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">))</span>\n\n <span class=\"n\">player</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">current_player</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n <span class=\"n\">winner</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">winner</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"n\">winner</span><span class=\"p\">:</span>\n <span class=\"k\">break</span>\n\n <span class=\"k\">for</span> <span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span> <span class=\"ow\">in</span> <span class=\"n\">visited_states</span><span class=\"p\">:</span>\n <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"p\">:</span>\n <span class=\"k\">continue</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n <span class=\"k\">if</span> <span class=\"n\">player</span> <span class=\"o\">==</span> <span class=\"n\">winner</span><span class=\"p\">:</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n<p>Here we've added two dictionaries to the AI, <tt class=\"docutils literal\">wins</tt> and <tt class=\"docutils literal\">plays</tt>,\nwhich will contain the counts for every game state that is being\ntracked. The <tt class=\"docutils literal\">run_simulation</tt> method now checks to see if the\ncurrent state is the first new one it has encountered this call, and,\nif not, adds the state to both <tt class=\"docutils literal\">plays</tt> and <tt class=\"docutils literal\">wins</tt>, setting both\nvalues to zero. This method also adds every game state that it goes\nthrough to a set, and at the end updates <tt class=\"docutils literal\">plays</tt> and <tt class=\"docutils literal\">wins</tt> with\nthose states in the set that are in the <tt class=\"docutils literal\">plays</tt> and <tt class=\"docutils literal\">wins</tt> dicts.\nWe are now ready to base the AI's final decision on these statistics.</p>\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">division</span>\n<span class=\"c\"># ...</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"c\"># ...</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">get_play</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_depth</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n <span class=\"n\">player</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">current_player</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n <span class=\"n\">legal</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">legal_plays</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"p\">[:])</span>\n\n <span class=\"c\"># Bail out early if there is no real choice to be made.</span>\n <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">legal</span><span class=\"p\">:</span>\n <span class=\"k\">return</span>\n <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">legal</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n <span class=\"k\">return</span> <span class=\"n\">legal</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n <span class=\"n\">games</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n <span class=\"n\">begin</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span>\n <span class=\"k\">while</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">begin</span> <span class=\"o\">&lt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculation_time</span><span class=\"p\">:</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">run_simulation</span><span class=\"p\">()</span>\n <span class=\"n\">games</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\n <span class=\"n\">moves_states</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">next_state</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">p</span> <span class=\"ow\">in</span> <span class=\"n\">legal</span><span class=\"p\">]</span>\n\n <span class=\"c\"># Display the number of calls of `run_simulation` and the</span>\n <span class=\"c\"># time elapsed.</span>\n <span class=\"k\">print</span> <span class=\"n\">games</span><span class=\"p\">,</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">begin</span>\n\n <span class=\"c\"># Pick the move with the highest percentage of wins.</span>\n <span class=\"n\">percent_wins</span><span class=\"p\">,</span> <span class=\"n\">move</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">(</span>\n <span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">/</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n <span class=\"n\">p</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span> <span class=\"ow\">in</span> <span class=\"n\">moves_states</span>\n <span class=\"p\">)</span>\n\n <span class=\"c\"># Display the stats for each possible play.</span>\n <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span>\n <span class=\"p\">((</span><span class=\"mi\">100</span> <span class=\"o\">*</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">/</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">0</span><span class=\"p\">),</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">),</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">p</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span> <span class=\"ow\">in</span> <span class=\"n\">moves_states</span><span class=\"p\">),</span>\n <span class=\"n\">reverse</span><span class=\"o\">=</span><span class=\"bp\">True</span>\n <span class=\"p\">):</span>\n <span class=\"k\">print</span> <span class=\"s\">\"{3}: {0:.2f}% ({1} / {2})\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">x</span><span class=\"p\">)</span>\n\n <span class=\"k\">print</span> <span class=\"s\">\"Maximum depth searched:\"</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_depth</span>\n\n <span class=\"k\">return</span> <span class=\"n\">move</span>\n</pre></div>\n<p>We have added three things in this step. First, we allow <tt class=\"docutils literal\">get_play</tt>\nto return early if there are no choices or only one choice to make.\nNext, we've added output of some debugging information, including the\nstatistics for the possible moves this turn and an attribute that\nwill keep track of the maximum depth searched in the selection phase\nof the playouts. Finally, we've added code that picks out the move\nwith the highest win percentage out of the possible moves, and returns\nit.</p>\n<p>But we are not quite finished yet. Currently, our AI is using pure\nrandomness for its playouts. We need to implement UCB1 for positions\nwhere the legal plays are all in the stats tables, so the next trial\nplay is based on that information.</p>\n<div class=\"highlight\"><pre><span class=\"c\"># ...</span>\n<span class=\"kn\">from</span> <span class=\"nn\">math</span> <span class=\"kn\">import</span> <span class=\"n\">log</span><span class=\"p\">,</span> <span class=\"n\">sqrt</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MonteCarlo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">board</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n <span class=\"c\"># ...</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">'C'</span><span class=\"p\">,</span> <span class=\"mf\">1.4</span><span class=\"p\">)</span>\n\n <span class=\"c\"># ...</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">run_simulation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"c\"># A bit of an optimization here, so we have a local</span>\n <span class=\"c\"># variable lookup instead of an attribute access each loop.</span>\n <span class=\"n\">plays</span><span class=\"p\">,</span> <span class=\"n\">wins</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">plays</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wins</span>\n\n <span class=\"n\">visited_states</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n <span class=\"n\">states_copy</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">states</span><span class=\"p\">[:]</span>\n <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"n\">states_copy</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n <span class=\"n\">player</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">current_player</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n\n <span class=\"n\">expand</span> <span class=\"o\">=</span> <span class=\"bp\">True</span>\n <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"nb\">xrange</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_moves</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">):</span>\n <span class=\"n\">legal</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">legal_plays</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n <span class=\"n\">moves_states</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">next_state</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">p</span> <span class=\"ow\">in</span> <span class=\"n\">legal</span><span class=\"p\">]</span>\n\n <span class=\"k\">if</span> <span class=\"nb\">all</span><span class=\"p\">(</span><span class=\"n\">plays</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span> <span class=\"ow\">in</span> <span class=\"n\">moves_states</span><span class=\"p\">):</span>\n <span class=\"c\"># If we have stats on all of the legal moves here, use them.</span>\n <span class=\"n\">log_total</span> <span class=\"o\">=</span> <span class=\"n\">log</span><span class=\"p\">(</span>\n <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">)]</span> <span class=\"k\">for</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span> <span class=\"ow\">in</span> <span class=\"n\">moves_states</span><span class=\"p\">))</span>\n <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">move</span><span class=\"p\">,</span> <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">(</span>\n <span class=\"p\">((</span><span class=\"n\">wins</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">)]</span> <span class=\"o\">/</span> <span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">)])</span> <span class=\"o\">+</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">C</span> <span class=\"o\">*</span> <span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">log_total</span> <span class=\"o\">/</span> <span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">)]),</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">S</span> <span class=\"ow\">in</span> <span class=\"n\">moves_states</span>\n <span class=\"p\">)</span>\n <span class=\"k\">else</span><span class=\"p\">:</span>\n <span class=\"c\"># Otherwise, just make an arbitrary decision.</span>\n <span class=\"n\">move</span><span class=\"p\">,</span> <span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">moves_states</span><span class=\"p\">)</span>\n\n <span class=\"n\">states_copy</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n\n <span class=\"c\"># `player` here and below refers to the player</span>\n <span class=\"c\"># who moved into that particular state.</span>\n <span class=\"k\">if</span> <span class=\"n\">expand</span> <span class=\"ow\">and</span> <span class=\"p\">(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">plays</span><span class=\"p\">:</span>\n <span class=\"n\">expand</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n <span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n <span class=\"n\">wins</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n <span class=\"k\">if</span> <span class=\"n\">t</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_depth</span><span class=\"p\">:</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_depth</span> <span class=\"o\">=</span> <span class=\"n\">t</span>\n\n <span class=\"n\">visited_states</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">((</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">))</span>\n\n <span class=\"n\">player</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">current_player</span><span class=\"p\">(</span><span class=\"n\">state</span><span class=\"p\">)</span>\n <span class=\"n\">winner</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">board</span><span class=\"o\">.</span><span class=\"n\">winner</span><span class=\"p\">(</span><span class=\"n\">states_copy</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"n\">winner</span><span class=\"p\">:</span>\n <span class=\"k\">break</span>\n\n <span class=\"k\">for</span> <span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span> <span class=\"ow\">in</span> <span class=\"n\">visited_states</span><span class=\"p\">:</span>\n <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">plays</span><span class=\"p\">:</span>\n <span class=\"k\">continue</span>\n <span class=\"n\">plays</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n <span class=\"k\">if</span> <span class=\"n\">player</span> <span class=\"o\">==</span> <span class=\"n\">winner</span><span class=\"p\">:</span>\n <span class=\"n\">wins</span><span class=\"p\">[(</span><span class=\"n\">player</span><span class=\"p\">,</span> <span class=\"n\">state</span><span class=\"p\">)]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n<p>The main addition here is the check to see if all of the results of\nthe legal moves are in the <tt class=\"docutils literal\">plays</tt> dictionary. If they aren't\navailable, it defaults to the original random choice. But if the\nstatistics are all available, the move with the highest value\naccording to the confidence interval formula is chosen. This formula\nadds together two parts. The first part is just the win ratio, but\nthe second part is a term that grows slowly as a particular move\nremains neglected. Eventually, if a node with a poor win rate is\nneglected long enough, it will begin to be chosen again. This term\ncan be tweaked using the configuration parameter <tt class=\"docutils literal\">C</tt> added to\n<tt class=\"docutils literal\">__init__</tt> above. Larger values of <tt class=\"docutils literal\">C</tt> will encourage more\nexploration of the possibilities, and smaller values will cause the AI\nto prefer concentrating on known good moves. Also note that the\n<tt class=\"docutils literal\">self.max_depth</tt> attribute from the previous code block is now\nupdated when a new node is added and its depth exceeds the previous\n<tt class=\"docutils literal\">self.max_depth</tt>.</p>\n<p>So there we have it. If there are no mistakes, you should now have an\nAI that will make reasonable decisions for a variety of board games.\nI've left a suitable implementation of <tt class=\"docutils literal\">Board</tt> as an exercise for\nthe reader, but one thing I've left out here is a way of actually\nallowing a user to play against the AI. A toy framework for this can\nbe found at <a class=\"reference external\" href=\"https://github.com/jbradberry/boardgame-socketserver\">jbradberry/boardgame-socketserver</a> and\n<a class=\"reference external\" href=\"https://github.com/jbradberry/boardgame-socketplayer\">jbradberry/boardgame-socketplayer</a>.</p>\n<p>This version that we've just built uses light playouts. Next time,\nwe'll explore improving our AI by using heavy playouts, by training\nsome evaluation functions using machine learning techniques and\nhooking in the results.</p>\n<p><strong>UPDATE:</strong> The diagrams have been corrected to more accurately\nreflect the possible node values.</p>\n\n </div>\n\n</div>"
    }, {
        "title": "mistio/mist.io",
        "url": "https://github.com/mistio/mist.io",
        "excerpt": "Mist.io helps you manage and monitor your virtual machines, across different clouds, using any device that can access the web. It is provided under the GNU AGPL v3.0 License. Check out the freemium&hellip;",
        "date_saved": "Thu Jul 28 20:08:57 EDT 2016",
        "html_file": "mistiomistio.html",
        "png_file": "mistiomistio.png",
        "md_file": "mistiomistio.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n<p>Mist.io helps you manage and monitor your virtual machines, across different\nclouds, using any device that can access the web. It is provided under the\nGNU AGPL v3.0 License. Check out the freemium service at <a href=\"https://mist.io\">https://mist.io</a></p>\n<a name=\"user-content-installation\"></a>\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#installation\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Installation</h2>\n<p>Mist.io is written in Python. Currently it is tested and developed using\nPython 2.7. The only system wide requirements are Python, Python header\nfiles and some basic build tools. Git is used for revision control. Every other\ndependency is build automatically via zc.buildout. Although we use zc.buildout\nit is recommended to install mist.io in a virtualenv to avoid conflicts with\neggs in the system's Python.</p>\n<p>To install the basic requirements in a <strong>Debian</strong> based distro do:</p>\n<pre>sudo aptitude install gcc python-dev build-essential git erlang libpcre3-dev python-lxml python-virtualenv\n</pre>\n<p>In <strong>Red Hat</strong> based systems the following packages need to be installed:</p>\n<pre>sudo yum install git python-virtualenv python-dev erlang pcre python-lxml gcc libxml2 libxml2-python libxml2-devel python-zc-buildout\n</pre>\n<p>If you run the command erl after that and it is not found, then package erlang might be missing from the official repos so it needs to be installed manually:</p>\n<pre>sudo yum install wget -y\nwget http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\nwget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm\nsudo rpm -Uvh remi-release-7.rpm epel-release-7-5.noarch.rpm\nsudo yum install erlang -y\n</pre>\n<p>For <strong>openSUSE</strong> distibution, you'll have to additionally install:</p>\n<pre>sudo zypper in python-gevent libevent-devel\n</pre>\n<p>In <strong>MacOSX</strong> you have to install Xcode and its command line tools. For virtualenv\nyou simply run:</p>\n<pre>sudo easy_install virtualenv\n</pre>\n<p>Supposing you have all the above, the steps are simple. Login as user, clone the repository,\ncreate a virtualenv and run buildout. This will fail if you run it as root or with sudo, so make sure you run it as user</p>\n<pre>git clone https://github.com/mistio/mist.io.git\ncd mist.io\nvirtualenv --no-site-packages .\n./bin/python bootstrap.py\n./bin/buildout -v\n</pre>\n<p>If you plan to support <strong>KVM</strong> you should install libvirt library:</p>\n<p>For Debian systems:</p>\n<pre>sudo aptitude install libvirt-bin libvirt-dev\n./bin/pip install libvirt-python\n</pre>\n<p>While for Redhat based:</p>\n<pre>yum install libvirt-devel -y\n./bin/pip install libvirt-python\n</pre>\n<p>For <strong>vSphere</strong> support, you should install pyvmomi library:</p>\n<pre>./bin/pip install pyvmomi\n</pre>\n<p>In case you are using an older version of setuptools, bootstrap will fail. To\nsolve this you need to:</p>\n<pre>./bin/pip install setuptools --upgrade\n</pre>\n<p>If you are using Python 2.6 you'll have to install ipython version 1, otherwise buildout will fail:</p>\n<pre>./bin/pip install ipython==1\n</pre>\n<p>In MacOSX in case you are using Xcode 7 buildout will fail. To solve this you need to:</p>\n<pre>CFLAGS='-std=c99' ./bin/buildout -v\n</pre>\n<a name=\"user-content-deployment\"></a>\n<h2><a id=\"user-content-deployment\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#deployment\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Deployment</h2>\n<p>Mist.io comes with supervisor in order to handle all the processes.</p>\n<p>To get it up and running:</p>\n<pre>./bin/supervisord\n</pre>\n<p>For development you can tail the logs:</p>\n<pre>tail -f var/log/*.log\n</pre>\n<p>You can also monitor that all the processes are up and running:</p>\n<pre>./bin/supervisorctl status\n</pre>\n<p>Finally, you can start, stop or restart a specific process:</p>\n<pre>./bin/supervisorctl restart uwsgi\n</pre>\n<p>Point your browser to <a href=\"http://127.0.0.1:8000\">http://127.0.0.1:8000</a> and you are ready to roll!</p>\n<a name=\"user-content-faq\"></a>\n<h2><a id=\"user-content-faq\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#faq\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>FAQ</h2>\n<a name=\"user-content-i-install-mist-io-and-visit-http-localhost-8000-but-i-don-t-see-anything\"></a>\n<h3><a id=\"user-content-i-install-mistio-and-visit-httplocalhost8000-but-i-dont-see-anything\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#i-install-mistio-and-visit-httplocalhost8000-but-i-dont-see-anything\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>I install mist.io and visit <a href=\"http://localhost:8000\">http://localhost:8000</a> but I don't see anything</h3>\n<p>make sure all services are running:</p>\n<pre>user@user:~/mist.io$ ./bin/supervisorctl status\ncelery RUNNING pid 15169, uptime 0:00:02\nhaproxy RUNNING pid 15165, uptime 0:00:02\nhub-shell RUNNING pid 15172, uptime 0:00:02\nmemcache RUNNING pid 15170, uptime 0:00:02\nrabbitmq RUNNING pid 15168, uptime 0:00:02\nsockjs RUNNING pid 15166, uptime 0:00:02\nuwsgi RUNNING pid 15167, uptime 0:00:02\n</pre>\n<p>if you don't see a service as RUNNING then mist.io won't be able to start properly. Make sure that all dependencies have been added to the system before running the buildout, if not install them and re-run the buildout. Also have a look on the logs that are on var/log dir:</p>\n<pre>user@user:~/mist.io$ tail -f var/log/*.log\n</pre>\n<a name=\"user-content-how-to-change-mist-io-listen-address\"></a>\n<h3><a id=\"user-content-how-to-change-mistio-listen-address\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#how-to-change-mistio-listen-address\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>How to change mist.io listen address</h3>\n<p>By default mist.io binds on the localhost interface, if you want to change this behavior edit haproxy.conf and change the line:</p>\n<pre>frontend www localhost:8000\n</pre>\n<p>to:</p>\n<pre>frontend www 0.0.0.0:8000\n</pre>\n<p>then restart haproxy:</p>\n<pre>user@user:~/mist.io$ ./bin/supervisorctl restart haproxy\n</pre>\n<p>Make sure that no other service has already binded on port 8000. It should now load on <a href=\"http://your_ip:8000\">http://your_ip:8000</a></p>\n<p>If this does not load check if a local firewall policy denies incoming access to port 8000, or if your provider denies incoming access to port 8000 (eg the default ec2 policy for some regions)</p>\n<a name=\"user-content-process-rabbitmq-is-not-running\"></a>\n<h3><a id=\"user-content-process-rabbitmq-is-not-running\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#process-rabbitmq-is-not-running\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Process rabbitmq is not running</h3>\n<p>First make sure that erlang is installed, otherwise it won't be able to start (on RedHat based OS you might have to install it manually, see the install section). On some Ubuntu systems there's an error that prevents rabbitmq from starting correctly, if that's the case for you try to start epmd manually and then restart rabbitmq:</p>\n<pre>user@user:~/mist.io$ ./bin/supervisorctl status rabbitmq\nrabbitmq STARTING\nuser@user:~/mist.io$ epmd -daemon &amp;&amp; ./bin/supervisorctl restart rabbitmq\nuser@user:~/mist.io$ ./bin/supervisorctl status rabbitmq\nrabbitmq RUNNING pid 18808, uptime 0:00:06\n</pre>\n<a name=\"user-content-do-you-have-an-official-mist-io-docker-image\"></a>\n<h3><a id=\"user-content-do-you-have-an-official-mistio-docker-image\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#do-you-have-an-official-mistio-docker-image\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Do you have an official mist.io docker image?</h3>\n<p>Sure, find it on <a href=\"https://registry.hub.docker.com/u/mist/mistio/\">https://registry.hub.docker.com/u/mist/mistio/</a></p>\n<p>With docker installed on your system, you just need to pull it and start a container:</p>\n<pre>root@client-monit:~$ docker pull mist/mistio\nPulling repository mist/mistio\n...\n...\nStatus: Downloaded newer image for mist/mistio:latest\nroot@client-monit:~$ docker run -d -p 8000:8000 mist/mistio\n8da5cc47bca22a5d1da729c4b23382c90ae0aaec50bcc2d608e9bea783b5b8a3\n</pre>\n<p>The above commands, pulled the docker image, started it as a daemon, and exposed it to port 8000. You can now launch a browser on your ip:8000, eg <a href=\"http://104.236.188.180:8000/\">http://104.236.188.180:8000/</a> and you should see the Mist.io UI.</p>\n<p>You can find more info on <a href=\"http://docs.mist.io/article/39-installation\">http://docs.mist.io/article/39-installation</a></p>\n<a name=\"user-content-how-to-add-authentication-to-mist-io-dashboard\"></a>\n<h3><a id=\"user-content-how-to-add-authentication-to-mistio-dashboard\" class=\"anchor\" href=\"https://github.com/mistio/mist.io#how-to-add-authentication-to-mistio-dashboard\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>How to add authentication to mist.io dashboard</h3>\n<p>By default mist.io listens on port 8000 on the localhost interface. You can use nginx and expose this port to port 80 and add http basic authentication there, or you can expose port 8000 on external interfaces (see the seconds section on the FAQ for this) and add http basic authentication there. The last one can be achieved with editing haproxy.conf file and adding 4 lines, as it has been suggested by @paimpozhil here <a href=\"https://github.com/mistio/mist.io/pull/213/files\">https://github.com/mistio/mist.io/pull/213/files</a>. Make sure you restart haproxy after the edits:</p>\n<pre>user@user:~/mist.io$ ./bin/supervisorctl restart haproxy\n</pre>\n\n</article>\n </div>"
    }, {
        "title": "tugboat",
        "url": "https://github.com/pearkes/tugboat",
        "excerpt": "A command line tool for interacting with your DigitalOcean droplets. Installation gem install tugboat Configuration Run the configuration utility, tugboat authorize. You can grab your keys here. $&hellip;",
        "date_saved": "Thu Jul 28 20:08:58 EDT 2016",
        "html_file": "tugboat.html",
        "png_file": "tugboat.png",
        "md_file": "tugboat.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>A command line tool for interacting with your <a href=\"https://www.digitalocean.com/\">DigitalOcean</a> droplets.</p>\n\n<h2>\n<a name=\"installation\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#installation\"></a>Installation</h2>\n\n<pre><code>gem install tugboat\n</code></pre>\n\n<h2>\n<a name=\"configuration\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#configuration\"></a>Configuration</h2>\n\n<p>Run the configuration utility, <code>tugboat authorize</code>. You can grab your keys\n<a href=\"https://www.digitalocean.com/api_access\">here</a>.</p>\n\n<pre><code>$ tugboat authorize\nEnter your client key: foo\nEnter your API key: bar\nEnter your SSH key path (optional, defaults to ~/.ssh/id_rsa):\nEnter your SSH user (optional, defaults to jack):\nAuthentication with DigitalOcean was successful!\n</code></pre>\n\n<h2>\n<a name=\"usage\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#usage\"></a>Usage</h2>\n\n<h3>\n<a name=\"retrieve-a-list-of-your-droplets\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#retrieve-a-list-of-your-droplets\"></a>Retrieve a list of your droplets</h3>\n\n<pre><code>$ tugboat droplets\npearkes-web-001 (ip: 30.30.30.1, status: active, region: 1, id: 13231511)\npearkes-admin-001 (ip: 30.30.30.3, status: active, region: 1, id: 13231512)\npearkes-api-001 (ip: 30.30.30.5, status: active, region: 1, id: 13231513)\n</code></pre>\n\n<h3>\n<a name=\"fuzzy-name-matching\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#fuzzy-name-matching\"></a>Fuzzy name matching</h3>\n\n<p>You can pass a unique fragment of a droplets name for interactions\nthroughout <code>tugboat</code>.</p>\n\n<pre><code>$ tugboat restart admin\nDroplet fuzzy name provided. Finding droplet ID...done, 13231512 (pearkes-admin-001)\nQueuing restart for 13231512 (pearkes-admin-001)...done\n</code></pre>\n\n<p>tugboat handles multiple matches as well:</p>\n\n<pre><code>$ tugboat restart pearkes\nDroplet fuzzy name provided. Finding droplet ID...Multiple droplets found.\n\n0) pearkes-web-001 (13231511)\n1) pearkes-admin-001 (13231512)\n2) pearkes-api-001 (13231513)\n\nPlease choose a droplet: [\"0\", \"1\", \"2\"] 0\nQueuing restart for 13231511 (pearkes-web-001)...done\n</code></pre>\n\n<h3>\n<a name=\"ssh-into-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#ssh-into-a-droplet\"></a>SSH into a droplet</h3>\n\n<p>You can configure a SSH username and key path in <code>tugboat authorize</code>.</p>\n\n<p>This lets you ssh into a droplet by providing it's name, or a partial\nmatch.</p>\n\n<pre><code>$ tugboat ssh admin\nDroplet fuzzy name provided. Finding droplet ID...done, 13231512 (pearkes-admin-001)\nExecuting SSH (pearkes-admin-001)...\nWelcome to Ubuntu 12.10 (GNU/Linux 3.5.0-17-generic x86_64)\npearkes@pearkes-admin-001:~#\n</code></pre>\n\n<h3>\n<a name=\"create-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#create-a-droplet\"></a>Create a droplet</h3>\n\n<pre><code>$ tugboat create pearkes-www-002 -s 64 -i 2676 -r 2\nQueueing creation of droplet 'pearkes-www-002'...done\n</code></pre>\n\n<h3>\n<a name=\"info-about-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#info-about-a-droplet\"></a>Info about a droplet</h3>\n\n<pre><code>$ tugboat info admin\nDroplet fuzzy name provided. Finding droplet ID...done, 13231512 (pearkes-admin-001)\n\nName: pearkes-admin-001\nID: 13231512\nStatus: active\nIP: 30.30.30.3\nRegion ID: 1\nImage ID: 25489\nSize ID: 66\nBackups Active: false\n</code></pre>\n\n<h3>\n<a name=\"destroy-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#destroy-a-droplet\"></a>Destroy a droplet</h3>\n\n<pre><code>$ tugboat destroy pearkes-www-002\nDroplet fuzzy name provided. Finding droplet ID...done, 13231515 (pearkes-www-002)\nWarning! Potentially destructive action. Please confirm [y/n]: y\nQueuing destroy for 13231515 (pearkes-www-002)...done\n</code></pre>\n\n<h3>\n<a name=\"restart-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#restart-a-droplet\"></a>Restart a droplet</h3>\n\n<pre><code>$ tugboat restart admin\nDroplet fuzzy name provided. Finding droplet ID...done, 13231512 (pearkes-admin-001)\nQueuing restart for 13231512 (pearkes-admin-001)...done\n</code></pre>\n\n<h3>\n<a name=\"shutdown-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#shutdown-a-droplet\"></a>Shutdown a droplet</h3>\n\n<pre><code>$ tugboat halt admin\nDroplet fuzzy name provided. Finding droplet ID...done, 13231512 (pearkes-admin-001)\nQueuing shutdown for 13231512 (pearkes-admin-001)...done\n</code></pre>\n\n<h3>\n<a name=\"snapshot-a-droplet\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#snapshot-a-droplet\"></a>Snapshot a droplet</h3>\n\n<pre><code>$ tugboat snapshot admin test-admin-snaphot\nQueuing snapshot 'test' for 13231512 (pearkes-admin-001)...done\n</code></pre>\n\n<h2>\n<a name=\"help\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#help\"></a>Help</h2>\n\n<p>If you're curious about command flags for a specific command, you can\nask tugboat about it.</p>\n\n<pre><code>$ tugboat help restart\n</code></pre>\n\n<p>For a complete overview of all of the available commands, run:</p>\n\n<pre><code>$ tugboat help\n</code></pre>\n\n<h2>\n<a name=\"contributing\" class=\"anchor\" href=\"https://github.com/pearkes/tugboat#contributing\"></a>Contributing</h2>\n\n<p>See the <a href=\"https://github.com/pearkes/tugboat/blob/master/CONTRIBUTING.md\">contributing guide</a>.</p></article></div>"
    }, {
        "title": "smdahlen/vagrant-digitalocean",
        "url": "https://github.com/smdahlen/vagrant-digitalocean",
        "excerpt": "vagrant-digitalocean is a provider plugin for Vagrant that supports the management of Digital Ocean droplets (instances). NOTE: The Chef provisioner is no longer supported by default (as of 0.2.0).&hellip;",
        "date_saved": "Thu Jul 28 20:09:01 EDT 2016",
        "html_file": "smdahlenvagrantdigitalocean.html",
        "png_file": "smdahlenvagrantdigitalocean.png",
        "md_file": "smdahlenvagrantdigitalocean.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><code>vagrant-digitalocean</code> is a provider plugin for Vagrant that supports the\nmanagement of <a href=\"https://www.digitalocean.com/\">Digital Ocean</a> droplets\n(instances).</p>\n\n<p><strong>NOTE:</strong> The Chef provisioner is no longer supported by default (as of 0.2.0).\nPlease use the <code>vagrant-omnibus</code> plugin to install Chef on Vagrant-managed\nmachines. This plugin provides control over the specific version of Chef\nto install.</p>\n\n<p>Current features include:</p>\n\n<ul class=\"task-list\">\n<li>create and destroy droplets</li>\n<li>power on and off droplets</li>\n<li>rebuild a droplet</li>\n<li>provision a droplet with the shell or Chef provisioners</li>\n<li>setup a SSH public key for authentication</li>\n<li>create a new user account during droplet creation</li>\n</ul><p>The provider has been tested with Vagrant 1.1.5+ using Ubuntu 12.04 and\nCentOS 6.3 guest operating systems.</p>\n\n<h2>\n<a name=\"user-content-install\" class=\"anchor\" href=\"https://github.com/smdahlen/vagrant-digitalocean#install\"></a>Install</h2>\n\n<p>Installation of the provider requires two steps:</p>\n\n<ol class=\"task-list\">\n<li>\n<p>Install the provider plugin using the Vagrant command-line interface:</p>\n\n<pre><code>$ vagrant plugin install vagrant-digitalocean\n</code></pre>\n</li>\n</ol><p><strong>NOTE:</strong> If you are using a Mac, you may need to install a CA bundle to enable SSL\ncommunication with the Digital Ocean API. It is recommended to first install\n<a href=\"http://mxcl.github.io/homebrew/\">Homebrew</a>. With Homebrew installed, run\nthe following command to install the bundle:</p>\n\n<pre><code>$ brew install curl-ca-bundle\n</code></pre>\n\n<p>Once the bundle is installed, add the following environment variable to your\n<code>.bash_profile</code> script and <code>source</code> it:</p>\n\n<div class=\"highlight highlight-bash\"><pre><span class=\"nb\">export </span><span class=\"nv\">SSL_CERT_FILE</span><span class=\"o\">=</span>/usr/local/opt/curl-ca-bundle/share/ca-bundle.crt\n</pre></div>\n\n<h2>\n<a name=\"user-content-configure\" class=\"anchor\" href=\"https://github.com/smdahlen/vagrant-digitalocean#configure\"></a>Configure</h2>\n\n<p>Once the provider has been installed, you will need to configure your project\nto use it. The most basic <code>Vagrantfile</code> to create a droplet on Digital Ocean\nis shown below:</p>\n\n<div class=\"highlight highlight-ruby\"><pre><span class=\"no\">Vagrant</span><span class=\"o\">.</span><span class=\"n\">configure</span><span class=\"p\">(</span><span class=\"s1\">'2'</span><span class=\"p\">)</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">config</span><span class=\"o\">|</span>\n\n <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">provider</span> <span class=\"ss\">:digital_ocean</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">provider</span><span class=\"p\">,</span> <span class=\"n\">override</span><span class=\"o\">|</span>\n <span class=\"n\">override</span><span class=\"o\">.</span><span class=\"n\">ssh</span><span class=\"o\">.</span><span class=\"n\">private_key_path</span> <span class=\"o\">=</span> <span class=\"s1\">'~/.ssh/id_rsa'</span>\n <span class=\"n\">override</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">box</span> <span class=\"o\">=</span> <span class=\"s1\">'digital_ocean'</span>\n <span class=\"n\">override</span><span class=\"o\">.</span><span class=\"n\">vm</span><span class=\"o\">.</span><span class=\"n\">box_url</span> <span class=\"o\">=</span> <span class=\"s2\">\"https://github.com/smdahlen/vagrant-digitalocean/raw/master/box/digital_ocean.box\"</span>\n\n <span class=\"n\">provider</span><span class=\"o\">.</span><span class=\"n\">client_id</span> <span class=\"o\">=</span> <span class=\"s1\">'YOUR CLIENT ID'</span>\n <span class=\"n\">provider</span><span class=\"o\">.</span><span class=\"n\">api_key</span> <span class=\"o\">=</span> <span class=\"s1\">'YOUR API KEY'</span>\n <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</pre></div>\n\n<p>Please note the following:</p>\n\n<ul class=\"task-list\">\n<li>You <em>must</em> specify the <code>override.ssh.private_key_path</code> to enable authentication\nwith the droplet. The provider will create a new Digital Ocean SSH key using\nyour public key which is assumed to be the <code>private_key_path</code> with a <em>.pub</em>\nextension.</li>\n<li>You <em>must</em> specify your Digital Ocean Client and API keys. These may be\nfound on the control panel within the <em>My Settings &gt; API Access</em> section.</li>\n</ul><p><strong>Supported Configuration Attributes</strong></p>\n\n<p>The following attributes are available to further configure the provider:</p>\n\n<ul class=\"task-list\">\n<li>\n<code>provider.image</code> - A string representing the image to use when creating a\nnew droplet (e.g. <code>Debian 6.0 x64</code>). The available options may\nbe found on Digital Ocean's new droplet <a href=\"https://www.digitalocean.com/droplets/new\">form</a>.\nIt defaults to <code>Ubuntu 14.04.3 x64</code>.</li>\n<li>\n<code>provider.region</code> - A string representing the region to create the new\ndroplet in. It defaults to <code>New York 2</code>.</li>\n<li>\n<code>provider.size</code> - A string representing the size to use when creating a\nnew droplet (e.g. <code>1GB</code>). It defaults to <code>512MB</code>.</li>\n<li>\n<code>provider.private_networking</code> - A boolean flag indicating whether to enable\na private network interface (if the region supports private networking). It\ndefaults to <code>false</code>.</li>\n<li>\n<code>provider.backups_enabled</code> - A boolean flag indicating whether to enable backups for\nthe droplet. It defaults to <code>false</code>.</li>\n<li>\n<code>provider.ssh_key_name</code> - A string representing the name to use when creating\na Digital Ocean SSH key for droplet authentication. It defaults to <code>Vagrant</code>.</li>\n<li>\n<code>provider.setup</code> - A boolean flag indicating whether to setup a new user\naccount and modify sudo to disable tty requirement. It defaults to <code>true</code>.\nIf you are using a tool like <a href=\"https://packer.io\">packer</a> to create\nreusable snapshots with user accounts already provisioned, set to <code>false</code>.</li>\n</ul><p>The provider will create a new user account with the specified SSH key for\nauthorization if <code>config.ssh.username</code> is set and the <code>provider.setup</code>\nattribute is <code>true</code>.</p>\n\n<h2>\n<a name=\"user-content-run\" class=\"anchor\" href=\"https://github.com/smdahlen/vagrant-digitalocean#run\"></a>Run</h2>\n\n<p>After creating your project's <code>Vagrantfile</code> with the required configuration\nattributes described above, you may create a new droplet with the following\ncommand:</p>\n\n<pre><code>$ vagrant up --provider=digital_ocean\n</code></pre>\n\n<p>This command will create a new droplet, setup your SSH key for authentication,\ncreate a new user account, and run the provisioners you have configured.</p>\n\n<p><strong>Supported Commands</strong></p>\n\n<p>The provider supports the following Vagrant sub-commands:</p>\n\n<ul class=\"task-list\">\n<li>\n<code>vagrant destroy</code> - Destroys the droplet instance.</li>\n<li>\n<code>vagrant ssh</code> - Logs into the droplet instance using the configured user\naccount.</li>\n<li>\n<code>vagrant halt</code> - Powers off the droplet instance.</li>\n<li>\n<code>vagrant provision</code> - Runs the configured provisioners and rsyncs any\nspecified <code>config.vm.synced_folder</code>.</li>\n<li>\n<code>vagrant reload</code> - Reboots the droplet instance.</li>\n<li>\n<code>vagrant rebuild</code> - Destroys the droplet instance and recreates it with the\nsame IP address is was assigned to previously.</li>\n<li>\n<code>vagrant status</code> - Outputs the status (active, off, not created) for the\ndroplet instance.</li>\n</ul><h2>\n<a name=\"user-content-contribute\" class=\"anchor\" href=\"https://github.com/smdahlen/vagrant-digitalocean#contribute\"></a>Contribute</h2>\n\n<p>To contribute, clone the repository, and use <a href=\"http://gembundler.com\">Bundler</a>\nto install dependencies:</p>\n\n<pre><code>$ bundle\n</code></pre>\n\n<p>To run the provider's tests:</p>\n\n<pre><code>$ bundle exec rake test\n</code></pre>\n\n<p>You can now make modifications. Running <code>vagrant</code> within the Bundler\nenvironment will ensure that plugins installed in your Vagrant\nenvironment are not loaded.</p></article>\n </div>"
    }, {
        "title": "icodeforlove/doapi",
        "url": "https://github.com/icodeforlove/doapi",
        "excerpt": "The doapi module allows you to communicate with the DigitalOcean API V2 from node.js in a promise friendly manner. It also supports automatic request retries.",
        "date_saved": "Thu Jul 28 20:09:03 EDT 2016",
        "html_file": "icodeforlovedoapi.html",
        "png_file": "icodeforlovedoapi.png",
        "md_file": "icodeforlovedoapi.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://npmjs.org/package/doapi\"><img src=\"https://camo.githubusercontent.com/be0f28b1db348eb04822a25645649b6e8f501c22/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f646f6170692e7376673f7374796c653d666c61742d737175617265\" alt=\"NPM version\"></a>\n<a href=\"https://npmjs.org/package/doapi\"><img src=\"https://camo.githubusercontent.com/db96c3d5399df7cc6a700061360f77d637818c31/687474703a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f646f6170692e7376673f7374796c653d666c61742d737175617265\" alt=\"Downloads\"></a></p>\n\n\n\n<p>The doapi module allows you to communicate with the <a href=\"https://developers.digitalocean.com/documentation/v2/\">DigitalOcean API V2</a> from node.js in a promise friendly manner.</p>\n\n<p>It also supports automatic request retries.</p>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#installation\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Installation</h2>\n\n<p>This module is published in NPM:</p>\n\n<pre><code>npm install doapi --save\n</code></pre>\n\n<p>The <code>--save</code> tells NPM to automatically add it to your <code>package.json</code> file</p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#usage\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Usage</h2>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Import a module</span>\n<span class=\"pl-k\">var</span> DigitalOceanAPI <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>doapi<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\">// Create an instance with your API V2 credentials</span>\n<span class=\"pl-k\">var</span> api <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">DigitalOceanAPI</span>({token<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>my_token<span class=\"pl-pds\">'</span></span>});\n\n<span class=\"pl-c\">// Get things done</span>\n<span class=\"pl-smi\">api</span>.<span class=\"pl-en\">dropletGetAll</span>().<span class=\"pl-en\">then</span>(<span class=\"pl-k\">function</span> (<span class=\"pl-smi\">droplets</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(droplets);\n});</pre></div>\n\n<h2><a id=\"user-content-config\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#config\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Config</h2>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">new</span> <span class=\"pl-en\">DigitalOceanAPI</span>({\n token<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>my_token<span class=\"pl-pds\">'</span></span>,\n itemsPerPage<span class=\"pl-k\">:</span> <span class=\"pl-c1\">100</span>, <span class=\"pl-c\">// default=100</span>\n maxRetries<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, <span class=\"pl-c\">// default=5</span>\n raw<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> <span class=\"pl-c\">// default=false</span>\n});</pre></div>\n\n<h2><a id=\"user-content-pagination\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#pagination\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Pagination</h2>\n\n<p>you can pass pagination params into any method that has a <code>body</code> or <code>query</code> argument.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">api</span>.<span class=\"pl-en\">dropletGetAll</span>({per_page<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, page<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>}).<span class=\"pl-en\">then</span>(<span class=\"pl-k\">function</span> (<span class=\"pl-smi\">droplets</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(droplets);\n});</pre></div>\n\n<h2><a id=\"user-content-raw\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#raw\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Raw</h2>\n\n<p>if you set raw it will return the full response body with <code>request info</code> and <code>ratelimiting details</code>, the default is false.</p>\n\n\n\n<p>would return</p>\n\n<pre><code> {\n account: {\n droplet_limit: 25,\n email: 'email@domain.com',\n uuid: 'f5bbaffce3a8792421593a7075b486bafd66672f',\n email_verified: true\n },\n ratelimit: {\n limit: '5000',\n remaining: '4993',\n reset: '1434197547'\n },\n requestinfo: {\n id: 'a24427fd-0d43-9536-a206-zac22d2696e1',\n runtime: '0.038537'\n }\n }\n</code></pre>\n\n<p>and with raw set to false (the default), it would return</p>\n\n<pre><code> {\n droplet_limit: 25,\n email: 'email@domain.com',\n uuid: 'f5bbaffce3a8792421593a7075b486bafd66672f',\n email_verified: true\n }\n</code></pre>\n\n<h2><a id=\"user-content-debugging\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#debugging\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Debugging</h2>\n\n<p>we use the debug module so you can debug the http requests by doing the following</p>\n\n<pre><code>DEBUG=http node myfile.js\n</code></pre>\n\n<p><a href=\"https://camo.githubusercontent.com/30febf8b3cdc03060c1bc322bce0164b225380c3/687474703a2f2f63646e2e696d6734322e636f6d2f34616435663330356236666538303631336339306161646635343333373539382e706e67\" target=\"_blank\"><img src=\"http://cdn.img42.com/4ad5f305b6fe80613c90aadf54337598.png\" alt=\"image\"></a></p>\n\n<p>also all methods enforce type checking so invalid usage would result in errors like this</p>\n\n<p><a href=\"https://camo.githubusercontent.com/faf214c31c2d1e855499f41d92adc2b4506179b2/687474703a2f2f63646e2e696d6734322e636f6d2f63663037336439633362663935626330333535303435613032346164306265342e706e67\" target=\"_blank\"><img src=\"http://cdn.img42.com/cf073d9c3bf95bc0355045a024ad0be4.png\" alt=\"image\"></a></p>\n\n<h2><a id=\"user-content-methods\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#methods\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Methods</h2>\n\n<p>All methods follow the <a href=\"https://developers.digitalocean.com/documentation/v2/\">official API documentation</a>.</p>\n\n<h3><a id=\"user-content-droplets\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#droplets\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Droplets</h3>\n\n<ul>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-droplets\">dropletGetAll(Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#create-a-new-droplet\">dropletNew(Object body, [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#retrieve-an-existing-droplet-by-id\">dropletGet(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#reboot-a-droplet\">dropletReboot(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#power-cycle-a-droplet\">dropletPowerCycle(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#shutdown-a-droplet\">dropletShutdown(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#power-off-a-droplet\">dropletPowerOff(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#power-on-a-droplet\">dropletPowerOn(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#password-reset-a-droplet\">dropletPasswordReset(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#resize-a-droplet\">dropletResize(Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#snapshot-a-droplet\">dropletSnapshot(Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#restore-a-droplet\">dropletRestore(Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#rebuild-a-droplet\">dropletRebuild(Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#rename-a-droplet\">dropletRename(Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#delete-a-droplet\">dropletDestroy(Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-available-kernels-for-a-droplet\">dropletKernalsGetAll(Number id, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-snapshots-for-a-droplet\">dropletSnapshotsGetAll(Number id, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-backups-for-a-droplet\">dropletBackupsGetAll(Number id, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-actions-for-a-droplet\">dropletActionGetAll(Number id, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-neighbors-for-a-droplet\">dropletNeighborsGetAll(Number id, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-droplet-upgrades\">dropletUpgradesGetAll(Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-droplet-neighbors\">reportDropletNeighborsGetAll(Object query [, Boolean raw])</a></li>\n</ul>\n\n<h2><a id=\"user-content-account\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#account\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Account</h2>\n\n<ul>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#get-user-information\">accountGet([Boolean raw])</a></li>\n</ul>\n\n<h3><a id=\"user-content-regions\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#regions\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Regions</h3>\n\n<ul>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-regions\">regionGetAll(Object query [, Boolean raw])</a></li>\n</ul>\n\n<h3><a id=\"user-content-images\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#images\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Images</h3>\n\n\n\n<h3><a id=\"user-content-ssh-keys\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#ssh-keys\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>SSH keys</h3>\n\n\n\n<h3><a id=\"user-content-sizes\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#sizes\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Sizes</h3>\n\n<ul>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-sizes\">sizeGetAll(Object query [, Boolean raw])</a></li>\n</ul>\n\n<h3><a id=\"user-content-domains\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#domains\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Domains</h3>\n\n<ul>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-domains\">domainGetAll(Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#create-a-new-domain\">domainNew(String name, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#retrieve-an-existing-domain\">domainGet(String name [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#delete-a-domain\">domainDestroy(String name [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#list-all-domain-records\">domainRecordGetAll(String name, Object query [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#create-a-new-domain-record\">domainRecordNew(String name, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#retrieve-an-existing-domain-record\">domainRecordGet(String name, Number id [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#update-a-domain-record\">domainRecordEdit(String name, Number id, Object body [, Boolean raw])</a></li>\n<li><a href=\"https://developers.digitalocean.com/documentation/v2/#delete-a-domain-record\">domainRecordDestroy(String name, Number id [, Boolean raw])</a></li>\n</ul>\n\n<h3><a id=\"user-content-actions\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#actions\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Actions</h3>\n\n\n\n<h3><a id=\"user-content-floating-ips\" class=\"anchor\" href=\"https://github.com/icodeforlove/doapi#floating-ips\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Floating IPs</h3>\n\n\n</article>\n </div>"
    }, {
        "title": "koalalorenzo/python-digitalocean",
        "url": "https://github.com/koalalorenzo/python-digitalocean",
        "excerpt": "This library provides easy access to Digital Ocean APIs to deploy droplets, images and more. How to install You can install python-digitalocean using pip pip install -U python-digitalocean or via&hellip;",
        "date_saved": "Thu Jul 28 20:09:05 EDT 2016",
        "html_file": "koalalorenzopythondigitalocean.html",
        "png_file": "koalalorenzopythondigitalocean.png",
        "md_file": "koalalorenzopythondigitalocean.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>This library provides easy access to Digital Ocean APIs to deploy droplets, images and more.</p>\n\n<p><a href=\"https://travis-ci.org/koalalorenzo/python-digitalocean\"><img src=\"https://camo.githubusercontent.com/4ea9cf978b9599c1ed355f115777ba12475a19a1/68747470733a2f2f7472617669732d63692e6f72672f6b6f616c616c6f72656e7a6f2f707974686f6e2d6469676974616c6f6365616e2e737667\" alt=\"\"></a></p>\n\n\n\n<h2><a id=\"user-content-how-to-install\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#how-to-install\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>How to install</h2>\n\n<p>You can install python-digitalocean using <strong>pip</strong></p>\n\n<pre><code>pip install -U python-digitalocean\n</code></pre>\n\n<p>or via sources:</p>\n\n<pre><code>python setup.py install\n</code></pre>\n\n<h2><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#features\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Features</h2>\n\n<p>python-digitalocean support all the features provided via digitalocean.com APIs, such as:</p>\n\n<ul>\n<li>Get user's Droplets</li>\n<li>Get user's Images (Snapshot and Backups)</li>\n<li>Get public Images</li>\n<li>Get Droplet's event status</li>\n<li>Create and Remove a Droplet</li>\n<li>Resize a Droplet</li>\n<li>Shutdown, restart and boot a Droplet</li>\n<li>Power off, power on and \"power cycle\" a Droplet</li>\n<li>Perform Snapshot</li>\n<li>Enable/Disable automatic Backups</li>\n<li>Restore root password of a Droplet</li>\n</ul>\n\n<h2><a id=\"user-content-examples\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#examples\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>&#xA0;Examples</h2>\n\n<h3><a id=\"user-content-shutdown-all-droplets\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#shutdown-all-droplets\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Shutdown all droplets</h3>\n\n<p>This example shows how to shutdown all the active droplets:</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> digitalocean\nmanager <span class=\"pl-k\">=</span> digitalocean.Manager(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secretspecialuniquesnowflake<span class=\"pl-pds\">\"</span></span>)\nmy_droplets <span class=\"pl-k\">=</span> manager.get_all_droplets()\n<span class=\"pl-k\">for</span> droplet <span class=\"pl-k\">in</span> my_droplets:\n droplet.shutdown()</pre></div>\n\n<h3><a id=\"user-content-creating-a-droplet-and-checking-its-status\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#creating-a-droplet-and-checking-its-status\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Creating a Droplet and checking its status</h3>\n\n<p>This example shows how to create a droplet and how to check its status</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> digitalocean\ndroplet <span class=\"pl-k\">=</span> digitalocean.Droplet(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secretspecialuniquesnowflake<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>Example<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-v\">region</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>nyc2<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># New York 2</span>\n <span class=\"pl-v\">image</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>ubuntu-14-04-x64<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># Ubuntu 14.04 x64</span>\n <span class=\"pl-v\">size_slug</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>512mb<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># 512MB</span>\n <span class=\"pl-v\">backups</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)\ndroplet.create()</pre></div>\n\n<h3><a id=\"user-content-checking-the-status-of-the-droplet\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#checking-the-status-of-the-droplet\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Checking the status of the droplet</h3>\n\n<div class=\"highlight highlight-source-python\"><pre>actions <span class=\"pl-k\">=</span> droplet.get_actions()\n<span class=\"pl-k\">for</span> action <span class=\"pl-k\">in</span> actions:\n action.load()\n <span class=\"pl-c\"># Once it shows complete, droplet is up and running</span>\n <span class=\"pl-c1\">print</span> action.status</pre></div>\n\n<h3><a id=\"user-content-add-sshkey-into-digitalocean-account\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#add-sshkey-into-digitalocean-account\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Add SSHKey into DigitalOcean Account</h3>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> digitalocean <span class=\"pl-k\">import</span> SSHKey\n\nuser_ssh_key <span class=\"pl-k\">=</span> <span class=\"pl-c1\">open</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/home/&lt;$USER&gt;/.ssh/id_rsa.pub<span class=\"pl-pds\">'</span></span>).read()\nkey <span class=\"pl-k\">=</span> SSHKey(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>secretspecialuniquesnowflake<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>uniquehostname<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-v\">public_key</span><span class=\"pl-k\">=</span>user_ssh_key)\nkey.create()</pre></div>\n\n<h3><a id=\"user-content-creating-a-new-droplet-with-all-your-ssh-keys\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#creating-a-new-droplet-with-all-your-ssh-keys\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Creating a new droplet with all your SSH keys</h3>\n\n<div class=\"highlight highlight-source-python\"><pre>manager <span class=\"pl-k\">=</span> digitalocean.Manager(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secretspecialuniquesnowflake<span class=\"pl-pds\">\"</span></span>)\nkeys <span class=\"pl-k\">=</span> manager.get_all_sshkeys()\n\ndroplet <span class=\"pl-k\">=</span> digitalocean.Droplet(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secretspecialuniquesnowflake<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-v\">name</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>DropletWithSSHKeys<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-v\">region</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>ams3<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># Amster</span>\n <span class=\"pl-v\">image</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>ubuntu-14-04-x64<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># Ubuntu 14.04 x64</span>\n <span class=\"pl-v\">size_slug</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>512mb<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"># 512MB</span>\n <span class=\"pl-v\">ssh_keys</span><span class=\"pl-k\">=</span>keys, <span class=\"pl-c\">#Automatic conversion</span>\n <span class=\"pl-v\">backups</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>)\ndroplet.create()</pre></div>\n\n<h2><a id=\"user-content-testing\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#testing\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Testing</h2>\n\n<h3><a id=\"user-content-test-using-docker\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#test-using-docker\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Test using Docker</h3>\n\n<p>To test this python-digitalocean you can use <a href=\"https://www.docker.com\">docker</a> to have a <strong>clean environment automatically</strong>. First you have to build the container by running in your shell on the repository directory:</p>\n\n<pre><code>docker build -t \"pdo-tests\" .\n</code></pre>\n\n<p>Then you can run all the tests (for both python 2 and python 3)</p>\n\n<pre><code>docker run pdo-tests\n</code></pre>\n\n<p><strong>Note</strong>: This will use Ubuntu 14.04 as base and use your repository to run tests. So every time you edit some files, please run these commands to perform tests on your changes.</p>\n\n<h3><a id=\"user-content-testing-using-pytest-manually\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#testing-using-pytest-manually\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Testing using pytest manually</h3>\n\n<p>Use <a href=\"http://pytest.org/\">pytest</a> to perform testing. It is recommended to use a dedicated virtualenv to perform tests, using these commands:</p>\n\n<pre><code>$ virtualenv /tmp/digitalocean_env\n$ source /tmp/digitalocean_env/bin/activate\n$ pip install -r requirements.txt\n</code></pre>\n\n<p>To run all the tests manually use py.test command:</p>\n\n<pre><code>$ python -m pytest\n</code></pre>\n\n<h2><a id=\"user-content-links\" class=\"anchor\" href=\"https://github.com/koalalorenzo/python-digitalocean#links\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Links</h2>\n\n\n</article>\n </div>"
    }, {
        "title": "JamieH/DigitalOcean-CSharp",
        "url": "https://github.com/JamieH/DigitalOcean-CSharp",
        "excerpt": "C# bindings for the Digital Ocean API V1 Fetching latest commit&#x2026; Cannot retrieve the latest commit at this time.",
        "date_saved": "Thu Jul 28 20:09:07 EDT 2016",
        "html_file": "jamiehdigitaloceancsharp.html",
        "png_file": "jamiehdigitaloceancsharp.png",
        "md_file": "jamiehdigitaloceancsharp.md",
        "content": "<div><div class=\"repository-content\">\n\n \n<p class=\"repository-meta js-details-container\">\n <span class=\"repository-meta-content\">\n <span> C# bindings for the Digital Ocean API V1</span>\n </span>\n\n</p>\n\n\n\n\n \n\n\n<div class=\"file-navigation in-mid-page\">\n\n \n\n\n \n\n \n<div class=\"select-menu branch-select-menu js-menu-container js-select-menu left\">\n \n\n <div class=\"select-menu-modal-holder js-menu-content js-navigation-container\">\n\n \n </div>\n</div>\n\n\n \n\n \n</div>\n\n\n\n\n<include-fragment class=\"commit-tease commit-loader\" src=\"https://github.com/JamieH/DigitalOcean-CSharp/tree-commit/30053253f82545dad03c5b5de8758867929aef2e\">\n <div class=\"blank\">\n <img alt=\"\" class=\"loader\" src=\"https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif\" width=\"16\">\n Fetching latest commit&#x2026;\n </div>\n <p class=\"loader-error\">\n Cannot retrieve the latest commit at this time.\n </p>\n</include-fragment>\n\n<include-fragment class=\"file-wrap\" src=\"https://github.com/JamieH/DigitalOcean-CSharp/file-list/master\">\n\n <a href=\"https://github.com/JamieH/DigitalOcean-CSharp/tree/30053253f82545dad03c5b5de8758867929aef2e\" class=\"hidden js-permalink-shortcut\">Permalink</a>\n\n \n\n</include-fragment>\n\n\n\n <div id=\"readme\" class=\"readme boxed-group clearfix announce instapaper_body md\">\n <h3>\n <svg class=\"octicon octicon-book\" height=\"16\" width=\"16\"><path></path></svg>\n README.md\n </h3>\n\n <article class=\"markdown-body entry-content\">\n\n<p>C# bindings for the Digital Ocean API</p>\n\n<p>A nuget package can be found <a href=\"https://www.nuget.org/packages/DigitalOcean-CSharp/\">here</a> and an example of usage is included <a href=\"https://github.com/JamieH/DigitalOcean-CSharp/blob/master/DOAPIExample/Program.cs\">here</a>.</p>\n</article>\n </div>\n\n\n </div>\n \n</div>"
    }, {
        "title": "valerylisay/digitalocean-api",
        "url": "https://github.com/valerylisay/digitalocean-api",
        "excerpt": "Simple and easy to use package that provides access to Digital Ocean API v2. &gt;&gt;&gt; from digitalocean import ClientV2 &gt;&gt;&gt; client = ClientV2(token='your_token_here') &gt;&gt;&gt;&hellip;",
        "date_saved": "Thu Jul 28 20:09:10 EDT 2016",
        "html_file": "valerylisaydigitaloceanapi.html",
        "png_file": "valerylisaydigitaloceanapi.png",
        "md_file": "valerylisaydigitaloceanapi.md",
        "content": "<div><p>Simple and easy to use package that provides access to Digital Ocean API v2.</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">from</span> digitalocean <span class=\"pl-k\">import</span> ClientV2\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> client <span class=\"pl-k\">=</span> ClientV2(<span class=\"pl-v\">token</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>your_token_here<span class=\"pl-pds\">'</span></span>)\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> client.droplets.all()\n{u'droplets': [{u'status': u'active', u'kernel': {u'version': u'2.6.32-431.1.2.0.1.el6.i686', u'id': 379, u'name': u'CentOS 6.x x32 vmlinuz-2.6.32-431.1.2.0.1.el6.i686'}, u'locked': False, u'name': u'dropletname.com', u'backup_ids': [], u'region': {u'available': True, u'sizes': [u'512mb', u'2gb', u'4gb', u'8gb', u'32gb', u'48gb', u'16gb', u'64gb', u'1gb'], u'features': [u'virtio', u'private_networking', u'backups'], u'slug': u'ams2', u'name': u'Amsterdam 2'}, u'snapshot_ids': [], u'networks': {u'v4': [{u'type': u'public', u'netmask': u'255.255.255.0', u'ip_address': u'188.xxx.xxx.xxx', u'gateway': u'188.xxx.xxx.1'}], u'v6': []}, u'vcpus': 1, u'features': [u'virtio'], u'image': {u'slug': u'centos-6-5-x32', u'name': u'CentOS 6.5 x32', u'created_at': u'2014-05-02T20:16:38Z', u'id': 3448674, u'regions': [u'nyc1', u'ams1', u'sfo1', u'nyc2', u'ams2', u'sgp1', u'lon1', u'nyc3', u'ams3'], u'distribution': u'CentOS', u'public': True}, u'memory': 1024, u'created_at': u'2014-08-13T12:15:58Z', u'disk': 30, u'id': 2323856, u'size': {u'price_monthly': 10.0, u'transfer': 2, u'slug': u'1gb', u'price_hourly': 0.01488}}], u'meta': {u'total': 1}}\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> \n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> client.droplets.get(<span class=\"pl-v\">droplet_id</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2323856</span>)\n{u'droplet': {u'status': u'active', u'kernel': {u'version': u'2.6.32-431.1.2.0.1.el6.i686', u'id': 379, u'name': u'CentOS 6.x x32 vmlinuz-2.6.32-431.1.2.0.1.el6.i686'}, u'locked': False, u'name': u'dropletname.com', u'backup_ids': [], u'region': {u'available': True, u'sizes': [u'512mb', u'2gb', u'4gb', u'8gb', u'32gb', u'48gb', u'16gb', u'64gb', u'1gb'], u'features': [u'virtio', u'private_networking', u'backups'], u'slug': u'ams2', u'name': u'Amsterdam 2'}, u'snapshot_ids': [], u'networks': {u'v4': [{u'type': u'public', u'netmask': u'255.255.255.0', u'ip_address': u'188.xxx.xxx.xxx', u'gateway': u'188.xxx.xxx.1'}], u'v6': []}, u'vcpus': 1, u'features': [u'virtio'], u'image': {u'slug': u'centos-6-5-x32', u'name': u'CentOS 6.5 x32', u'created_at': u'2014-05-02T20:16:38Z', u'id': 3448674, u'regions': [u'nyc1', u'ams1', u'sfo1', u'nyc2', u'ams2', u'sgp1', u'lon1', u'nyc3', u'ams3'], u'distribution': u'CentOS', u'public': True}, u'memory': 1024, u'created_at': u'2014-08-13T12:15:58Z', u'disk': 30, u'id': 2323856, u'size': {u'price_monthly': 10.0, u'transfer': 2, u'slug': u'1gb', u'price_hourly': 0.01488}}}\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> \n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> client.droplets.shutdown(<span class=\"pl-v\">droplet_id</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2323856</span>)\n{<span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>action<span class=\"pl-pds\">'</span></span>: {<span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>status<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>in-progress<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>resource_id<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">2323856</span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>region<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>ams2<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>completed_at<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">None</span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>started_at<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>2014-09-15T11:04:36Z<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>shutdown<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">32469004</span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>resource_type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>droplet<span class=\"pl-pds\">'</span></span>}}\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> \n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> client.droplets.get_droplet_action(<span class=\"pl-v\">droplet_id</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2323856</span>, <span class=\"pl-v\">action_id</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">32469004</span>)\n{<span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>action<span class=\"pl-pds\">'</span></span>: {<span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>status<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>completed<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>resource_id<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">2323856</span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>region<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>ams2<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>completed_at<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>2014-09-15T11:05:13Z<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>started_at<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>2014-09-15T11:04:36Z<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>shutdown<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>: <span class=\"pl-c1\">32469004</span>, <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>resource_type<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-k\">u</span><span class=\"pl-pds\">'</span>droplet<span class=\"pl-pds\">'</span></span>}}</pre></div>\n\n</div>"
    }, {
        "title": "andrewchilds/overcast",
        "url": "https://github.com/andrewchilds/overcast",
        "excerpt": "Overcast is a simple terminal-based cloud management tool that was designed to make it easy to spin up and manage clusters of servers in a consistent, scriptable way. Inspired by Packer.io. Concepts&hellip;",
        "date_saved": "Thu Jul 28 20:09:12 EDT 2016",
        "html_file": "andrewchildsovercast.html",
        "png_file": "andrewchildsovercast.png",
        "md_file": "andrewchildsovercast.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><a href=\"https://camo.githubusercontent.com/ba89fd420644302ebee62e4fc4cb37dc68a5c81f/687474703a2f2f692e696d6775722e636f6d2f416b35787039592e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/ba89fd420644302ebee62e4fc4cb37dc68a5c81f/687474703a2f2f692e696d6775722e636f6d2f416b35787039592e706e67\" alt=\"Screenshot\"></a></p>\n\n<p>Overcast is a simple terminal-based cloud management tool that was designed to make it easy to spin up and manage clusters of servers in a consistent, scriptable way. Inspired by <a href=\"http://packer.io\">Packer.io</a>.</p>\n\n<h2>\n<a name=\"concepts\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#concepts\"></a>Concepts</h2>\n\n<ol>\n<li>\n<strong>Instances</strong> are any machine you can SSH into. Instances can be local or remote, virtual or physical. Each instance has a name, IP, SSH key and port.</li>\n<li>\n<strong>Clusters</strong> are sets of instances.</li>\n</ol><h2>\n<a name=\"features\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#features\"></a>Features</h2>\n\n<ul>\n<li>\n<p>Define clusters using the command line or manually by editing a JSON file.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>overcast cluster create db\n<span class=\"nv\">$ </span>overcast cluster create app\n</pre></div>\n</li>\n<li>\n<p>Spin up new instances on DigitalOcean. Once finished these are automatically added to clusters.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>overcast instance create db.01 --cluster<span class=\"o\">=</span>db --host<span class=\"o\">=</span>digitalocean\n<span class=\"nv\">$ </span>overcast instance create db.02 --cluster<span class=\"o\">=</span>db --host<span class=\"o\">=</span>digitalocean\n</pre></div>\n</li>\n<li>\n<p>Import existing instances located anywhere to a cluster.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>overcast instance import app.01 --cluster<span class=\"o\">=</span>app --ip<span class=\"o\">=</span>127.0.0.2 <span class=\"se\">\\</span>\n --ssh-port<span class=\"o\">=</span>22222 --ssh-key<span class=\"o\">=</span><span class=\"nv\">$HOME</span>/.ssh/id_rsa\n<span class=\"nv\">$ </span>overcast instance import app.02 --cluster<span class=\"o\">=</span>app --ip<span class=\"o\">=</span>127.0.0.3 <span class=\"se\">\\</span>\n --ssh-port<span class=\"o\">=</span>22222 --ssh-key<span class=\"o\">=</span><span class=\"nv\">$HOME</span>/.ssh/id_rsa\n</pre></div>\n</li>\n<li>\n<p>Run commands or script files on an instance, a cluster, or all clusters, sequentially or in parallel.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>overcast run db install/core install/redis\n<span class=\"nv\">$ </span>overcast run all uptime <span class=\"s2\">\"free-m\"</span> <span class=\"s2\">\"df -h\"</span> --parallel\n</pre></div>\n</li>\n<li>\n<p>Push and pull files between your local machine and an instance, a cluster, or all clusters. Dynamically rewrite file paths to include the instance name.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>overcast push app nginx/myapp.conf /etc/nginx/sites-enabled/myapp.conf\n<span class=\"nv\">$ </span>overcast pull all /etc/nginx/sites-enabled/myapp.conf nginx/<span class=\"o\">{</span>instance<span class=\"o\">}</span>.myapp.conf\n</pre></div>\n</li>\n<li><p>Overcast is a thin wrapper around your native SSH client, and doesn't install or leave anything on the servers you communicate with.</p></li>\n<li><p>A script library is included to make it easy to install common software components in a modular fashion. The library is tailored to Ubuntu 12.04, but could easily be extended to include other distributions/versions.</p></li>\n</ul><h2>\n<a name=\"design-goals--motivation\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#design-goals--motivation\"></a>Design Goals &amp; Motivation</h2>\n\n<p>There are a number of server management frameworks out there already (Chef, Puppet, Ansible, Salt), but all involve either a complicated server/client implementation, a steep learning curve or a giant, monolithic conceptual framework.</p>\n\n<p>I wanted something that is conceptually simple and easy to use, that is only concerned with programmatic communication with clusters of servers, that leaves problems like process/state management and monitoring to other tools.</p>\n\n<h2>\n<a name=\"installation\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#installation\"></a>Installation</h2>\n\n<ol>\n<li><p>Install <a href=\"https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager\">Node.js</a> if not already installed.</p></li>\n<li>\n<p>Install Overcast using npm.</p>\n\n<div class=\"highlight highlight-sh\"><pre><span class=\"nv\">$ </span>npm -g install overcast\n</pre></div>\n</li>\n<li>\n<p>You can now use Overcast from any directory.</p>\n\n\n</li>\n</ol><h2>\n<a name=\"configuration\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#configuration\"></a>Configuration</h2>\n\n<p>Overcast looks for an <code>.overcast</code> directory in the current directory, or in some parent directory, otherwise falling back to <code>$HOME/.overcast</code>. This allows you to have multiple configurations, and to check your cluster definitions and scripts into a repo, like source code.</p>\n\n<p>The command <code>overcast init</code> will create a new configuration in the current directory. The config directory looks like this:</p>\n\n<div class=\"highlight highlight-sh\"><pre>.overcast\n /files <span class=\"c\"># Files to be copied to instances</span>\n /keys <span class=\"c\"># SSH keys. Can be your own or auto-generated by overcast</span>\n /scripts <span class=\"c\"># Scripts to be run on instances</span>\n /clusters.json <span class=\"c\"># Cluster/instance definitions (see example.clusters.json)</span>\n /variables.json <span class=\"c\"># API keys, etc (see example.variables.json)</span>\n</pre></div>\n\n<h2>\n<a name=\"api-documentation\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#api-documentation\"></a>API Documentation</h2>\n\n<h3>\n<a name=\"overcast-cluster\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-cluster\"></a>overcast cluster</h3>\n\n<pre><code> overcast cluster create [name]\n Creates a new cluster.\n\n Example:\n $ overcast cluster create db\n\n overcast cluster rename [name] [new-name]\n Renames a cluster.\n\n Example:\n $ overcast cluster rename app-cluster app-cluster-old\n\n overcast cluster remove [name]\n Removes a cluster from the index. If the cluster has any instances\n attached to it, they will be moved to the \"orphaned\" cluster.\n\n Example:\n $ overcast cluster remove db\n</code></pre>\n\n<h3>\n<a name=\"overcast-expose\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-expose\"></a>overcast expose</h3>\n\n<pre><code> overcast expose [instance|cluster|all] [port...]\n Reset the exposed ports on the instance or cluster using iptables.\n This will fail if you don't include the current SSH port.\n Expects an Ubuntu server, untested on other distributions.\n\n Examples:\n $ overcast expose redis 22 6379\n $ overcast expose mysql 22 3306\n $ overcast expose app 22 80 443\n</code></pre>\n\n<h3>\n<a name=\"overcast-exposed\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-exposed\"></a>overcast exposed</h3>\n\n<pre><code> overcast exposed [instance|cluster|all]\n List the exposed ports on the instance or cluster.\n Expects an Ubuntu server, untested on other distributions.\n</code></pre>\n\n<h3>\n<a name=\"overcast-help\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-help\"></a>overcast help</h3>\n\n<pre><code> Overcast v0.1.5\n\n Code repo, issues, pull requests:\n https://github.com/andrewchilds/overcast\n\n Usage:\n overcast [command] [options...]\n\n Help:\n overcast help\n overcast help [command]\n overcast [command] help\n\n Commands:\n overcast cluster list\n overcast cluster create [name]\n overcast cluster rename [name] [new-name]\n overcast cluster remove [name]\n overcast expose [instance|cluster|all] [port...]\n overcast exposed [instance|cluster|all]\n overcast info\n overcast init\n overcast instance create [name] [options]\n overcast instance import [name] [options]\n overcast instance remove [name]\n overcast list\n overcast ping [instance|cluster|all]\n overcast port [instance|cluster|all] [port]\n overcast pull [instance|cluster|all] [source] [dest]\n overcast push [instance|cluster|all] [source] [dest]\n overcast run [instance|cluster|all] [command...]\n overcast run [instance|cluster|all] [file...]\n overcast ssh [instance]\n\n Config directory:\n /path/to/.overcast\n</code></pre>\n\n<h3>\n<a name=\"overcast-info\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-info\"></a>overcast info</h3>\n\n<pre><code> overcast info\n Pretty-prints the complete clusters.json file, stored here:\n /path/to/.overcast/clusters.json\n</code></pre>\n\n<h3>\n<a name=\"overcast-init\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-init\"></a>overcast init</h3>\n\n<pre><code> overcast init\n Create an .overcast config directory in the current working directory.\n No action taken if one already exists.\n</code></pre>\n\n<h3>\n<a name=\"overcast-instance\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-instance\"></a>overcast instance</h3>\n\n<pre><code> overcast instance create [name] [options]\n Creates a new instance on a hosting provider. You'll need to add your API\n credentials to the .overcast/variables.json file for this to work.\n See the .overcast/example.variables.json file for reference.\n\n The instance will start out using the auto-generated SSH key found here:\n /path/to/.overcast/keys/overcast.key.pub\n\n Option | Default\n --cluster=CLUSTER |\n --provider=NAME | digitalocean\n --region=NAME | nyc2\n --image=NAME | ubuntu-12-04-x64\n --size=NAME | 512mb\n\n Example:\n $ overcast instance create db.01 --cluster=db --host=digitalocean\n\n overcast instance import [name] [options]\n Imports an existing instance to a cluster.\n\n Option | Default\n --cluster=CLUSTER |\n --ip=IP |\n --ssh-port=PORT | 22\n --ssh-key=PATH | .overcast/keys/overcast.key\n --user=USERNAME | root\n\n Example:\n $ overcast instance import app.01 --cluster=app --ip=127.0.0.1 \\\n --ssh-port=22222 --ssh-key=$HOME/.ssh/id_rsa\n\n overcast instance remove [name]\n Removes an instance from the index.\n The server itself is not affected by this action.\n\n Example:\n $ overcast instance remove app.01\n</code></pre>\n\n<h3>\n<a name=\"overcast-list\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-list\"></a>overcast list</h3>\n\n<pre><code> overcast list\n Short list of your cluster and instance definitions, stored here:\n /path/to/.overcast/clusters.json\n</code></pre>\n\n<h3>\n<a name=\"overcast-ping\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-ping\"></a>overcast ping</h3>\n\n<pre><code> overcast ping [instance|cluster|all]\n Ping an instance or cluster.\n\n Option | Default\n --count=N | 3\n\n Examples:\n $ overcast ping app.01\n $ overcast ping db --count=5\n</code></pre>\n\n<h3>\n<a name=\"overcast-port\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-port\"></a>overcast port</h3>\n\n<pre><code> overcast port [instance|cluster|all] [port]\n Change the SSH port for an instance or a cluster.\n Careful, this port should already be open!\n\n Examples:\n $ overcast port app.01 22222\n $ overcast port db 22222\n</code></pre>\n\n<h3>\n<a name=\"overcast-pull\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-pull\"></a>overcast pull</h3>\n\n<pre><code> overcast pull [instance|cluster|all] [source] [dest]\n Pull a file or directory from an instance or cluster using scp. Source is absolute.\n Destination can be absolute or relative to the .overcast/files directory.\n\n Any reference to {instance} in the destination will be replaced with the instance name.\n\n Example:\n Assuming instances \"app.01\" and \"app.02\", this will expand to:\n - .overcast/files/nginx/app.01.myapp.conf\n - .overcast/files/nginx/app.02.myapp.conf\n $ overcast pull app /etc/nginx/sites-enabled/myapp.conf nginx/{instance}.myapp.conf\n</code></pre>\n\n<h3>\n<a name=\"overcast-push\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-push\"></a>overcast push</h3>\n\n<pre><code> overcast push [instance|cluster|all] [source] [dest]\n Push a file or directory to an instance or cluster using scp. Source can be\n absolute, or relative to the .overcast/files directory. Destination is absolute.\n\n Any reference to {instance} in the source will be replaced with the instance name.\n\n Example:\n Assuming instances \"app.01\" and \"app.02\", this will expand to:\n - .overcast/files/nginx/app.01.myapp.conf\n - .overcast/files/nginx/app.02.myapp.conf\n $ overcast push app nginx/{instance}.myapp.conf /etc/nginx/sites-enabled/myapp.conf\n</code></pre>\n\n<h3>\n<a name=\"overcast-run\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-run\"></a>overcast run</h3>\n\n<pre><code> overcast run [instance|cluster|all] [command...]\n Runs a command or series of commands on an instance or cluster.\n Commands will run sequentially unless you use the --parallel flag,\n in which case each command will run on all instances simultanously.\n\n Option\n --env=\"KEY=VAL KEY='1 2 3'\"\n --parallel -p\n\n Examples:\n $ overcast run app --env=\"foo='bar bar' testing=123\" env\n $ overcast run all uptime \"free -m\" \"df -h\"\n\n overcast run [instance|cluster|all] [file...]\n Executes a script file or files on an instance or cluster.\n Script files can be either absolute or relative path.\n Script files will run sequentially unless you use the --parallel flag,\n in which case each file will execute on all instances simultanously.\n\n Option\n --env=\"KEY=VAL KEY='1 2 3'\"\n --parallel -p\n\n Relative paths are relative to this directory:\n /path/to/.overcast/scripts\n\n Example:\n $ overcast run db install/core install/redis\n</code></pre>\n\n<h3>\n<a name=\"overcast-ssh\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#overcast-ssh\"></a>overcast ssh</h3>\n\n<pre><code> overcast ssh [instance]\n Opens an SSH connection to an instance.\n</code></pre>\n\n<h2>\n<a name=\"running-the-tests\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#running-the-tests\"></a>Running the Tests</h2>\n\n<p><a href=\"https://travis-ci.org/andrewchilds/overcast\"><img src=\"https://camo.githubusercontent.com/f779007e740c407c8aaf18b9d253aa4047d9e5e9/68747470733a2f2f7472617669732d63692e6f72672f616e647265776368696c64732f6f766572636173742e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a></p>\n\n\n\n<h2>\n<a name=\"upgrading-overcast\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#upgrading-overcast\"></a>Upgrading Overcast</h2>\n\n\n\n<p>Configuration files are left alone during an upgrade.</p>\n\n<h2>\n<a name=\"contributing\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#contributing\"></a>Contributing</h2>\n\n<p>Contributions are very welcome. If you've got an idea for a feature or found a bug, please <a href=\"https://github.com/andrewchilds/overcast/issues\">open an issue</a>. If you're a developer and want to help make Overcast better, <a href=\"https://github.com/andrewchilds/overcast/pulls\">open a pull request</a> with your changes.</p>\n\n<h2>\n<a name=\"roadmap\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#roadmap\"></a>Roadmap</h2>\n\n<ul>\n<li>Linode support</li>\n<li>AWS EC2 support</li>\n<li>Better test coverage</li>\n<li>Improved script library bundle</li>\n</ul><h2>\n<a name=\"license\" class=\"anchor\" href=\"https://github.com/andrewchilds/overcast#license\"></a>License</h2>\n\n<p>MIT. Copyright &#xA9; 2014 <a href=\"http://twitter.com/andrewchilds\">Andrew Childs</a>.</p></article>\n </div>"
    }, {
        "title": "wmira/dropkit",
        "url": "https://github.com/wmira/dropkit",
        "excerpt": "dropkit dropkit is a node.js module for Digital Ocean's V2 REST API. Usage: npm install --save dropkit DropKit uses BlueBird and returns promises. var Dropkit",
        "date_saved": "Thu Jul 28 20:09:14 EDT 2016",
        "html_file": "wmiradropkit.html",
        "png_file": "wmiradropkit.png",
        "md_file": "wmiradropkit.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-dropkit\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#dropkit\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>dropkit</h2>\n\n<p>dropkit is a node.js module for Digital Ocean's V2 REST API.</p>\n\n<p><a href=\"https://travis-ci.org/wmira/dropkit\"><img src=\"https://camo.githubusercontent.com/9c06af63a6a5186e5054b4251875ec21328fb30d/68747470733a2f2f7472617669732d63692e6f72672f776d6972612f64726f706b69742e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a></p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#usage\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Usage:</h2>\n\n<p>npm install --save dropkit</p>\n\n<p>DropKit uses <a href=\"https://github.com/petkaantonov/bluebird\">BlueBird</a> and returns promises.</p>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-k\">var</span> Dropkit <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dropkit<span class=\"pl-pds\">\"</span></span>);\n <span class=\"pl-k\">var</span> v2 <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Dropkit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TOKEN<span class=\"pl-pds\">\"</span></span>);\n\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">accounts</span>().<span class=\"pl-en\">then</span>(<span class=\"pl-k\">function</span>(<span class=\"pl-smi\">account</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(account);\n }).<span class=\"pl-en\">error</span>(<span class=\"pl-k\">function</span>(<span class=\"pl-smi\">error</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpStatusCode: <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">error</span>.<span class=\"pl-smi\">statusCode</span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>response: <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">error</span>.<span class=\"pl-smi\">res</span>);\n });</pre></div>\n\n<h2><a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#api\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>API:</h2>\n\n<p>See the DigitalOcean's <a href=\"https://developers.digitalocean.com/#introduction\">V2 Rest API</a> for return definition</p>\n\n<h2><a id=\"user-content-accounts\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#accounts\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Accounts</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">accounts</span>();\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">account</span>.<span class=\"pl-en\">keys</span>(); <span class=\"pl-c\">//return all keys</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">account</span>.<span class=\"pl-en\">keys</span>(keyIdOrFingerPrint); <span class=\"pl-c\">//retrieve key info</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">account</span>.<span class=\"pl-en\">keys</span>({name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>keyname<span class=\"pl-pds\">'</span></span>,public_key<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh-rsa ...<span class=\"pl-pds\">\"</span></span>}); <span class=\"pl-c\">//create a new key</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">account</span>.<span class=\"pl-smi\">key</span>.<span class=\"pl-en\">update</span>(keyIdOrFingerPrint,newname);\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">account</span>.<span class=\"pl-smi\">key</span>.<span class=\"pl-en\">destroy</span>(keyIdOrFingerPrint);\n\n</pre></div>\n\n<h2><a id=\"user-content-actions\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#actions\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Actions</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">actions</span>(); <span class=\"pl-c\">//list all actions</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">actions</span>({page<span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>,per_page<span class=\"pl-k\">=</span><span class=\"pl-c1\">2</span>}); <span class=\"pl-c\">//pass parameter on action list</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">actions</span>(actionId); <span class=\"pl-c\">//retrieve specific actionid</span>\n</pre></div>\n\n<h2><a id=\"user-content-domains\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#domains\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Domains</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">domains</span>(); <span class=\"pl-c\">//list all domains</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">domains</span>(domainName); <span class=\"pl-c\">//get domain info</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">domain</span>.<span class=\"pl-en\">create</span>({name<span class=\"pl-k\">:</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>domain.com<span class=\"pl-pds\">'</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ip_address<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>});\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">domain</span>.<span class=\"pl-en\">delete</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>domain.com<span class=\"pl-pds\">\"</span></span>); <span class=\"pl-c\">//delete</span></pre></div>\n\n<h2><a id=\"user-content-domain-records\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#domain-records\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Domain Records</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">records</span>(domainName); <span class=\"pl-c\">//list all records for a given domain</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">records</span>(domainName,recordId);<span class=\"pl-c\">//return info for a particular record id</span>\n\n <span class=\"pl-c\">//create a new data, where recordData is https://developers.digitalocean.com/#create-a-new-domain-record</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">record</span>.<span class=\"pl-en\">create</span>(domainName,recordData);\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">record</span>.<span class=\"pl-en\">update</span>(domainName,recordId,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>newrecordname<span class=\"pl-pds\">\"</span></span>);<span class=\"pl-c\">//update the name of a record</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">record</span>.<span class=\"pl-en\">delete</span>(domainName,recordId); <span class=\"pl-c\">//delete the record id</span></pre></div>\n\n<h2><a id=\"user-content-droplets\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#droplets\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Droplets</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">droplets</span>(); <span class=\"pl-c\">//return list of droplets</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">droplets</span>(dropletId); <span class=\"pl-c\">//return info for droplet id</span>\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">droplet_upgrades</span>(); <span class=\"pl-c\">//return droplet upgrades</span>\n\n <span class=\"pl-c\">//create a droplet where droplet is https://developers.digitalocean.com/#create-a-new-droplet</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-en\">create</span>(droplet);\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-en\">kernels</span>(dropletId);\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-en\">snapshots</span>(dropletId);\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-en\">backups</span>(dropletId);\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-en\">delete</span>(dropletId);\n\n <span class=\"pl-c\">//action here can be disable_backups,reboot,power_cycle,shutdown,power_off,power_on,restore,password_reset ..etc</span>\n <span class=\"pl-c\">//see https://developers.digitalocean.com/#droplet-actions</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">droplet</span>.<span class=\"pl-c1\">action</span>(dropletId,action);\n</pre></div>\n\n<h2><a id=\"user-content-droplets-1\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#droplets-1\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Droplets</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-c1\">images</span>(); <span class=\"pl-c\">//return all images</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-c1\">images</span>({type<span class=\"pl-k\">:</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>distribution<span class=\"pl-pds\">\"</span></span>}); <span class=\"pl-c\">//list all distribution images</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-c1\">images</span>({type<span class=\"pl-k\">:</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>application<span class=\"pl-pds\">\"</span></span>}); <span class=\"pl-c\">//list all application images</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-c1\">images</span>(id); <span class=\"pl-c\">//retrieve an image id</span>\n\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">image</span>.<span class=\"pl-en\">update</span>(id,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>newName<span class=\"pl-pds\">\"</span></span>); <span class=\"pl-c\">//update name of id</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">image</span>.<span class=\"pl-en\">delete</span>(id); <span class=\"pl-c\">//as specified</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">image</span>.<span class=\"pl-en\">transfer</span>(imageId,<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nyc2<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\">//transfer image id to specified region</span>\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-smi\">image</span>.<span class=\"pl-c1\">action</span>(imageId,actionId); <span class=\"pl-c\">//retrieve actionId</span>\n</pre></div>\n\n<h2><a id=\"user-content-others\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#others\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Others</h2>\n\n<div class=\"highlight highlight-source-js\"><pre> <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">regions</span>();\n <span class=\"pl-smi\">v2</span>.<span class=\"pl-en\">sizes</span>();</pre></div>\n\n<h2><a id=\"user-content-dev\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#dev\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Dev</h2>\n\n\n\n<h2><a id=\"user-content-todo\" class=\"anchor\" href=\"https://github.com/wmira/dropkit#todo\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>TODO</h2>\n\n\n</article>\n </div>"
    }, {
        "title": "digitalocean/godo",
        "url": "https://github.com/digitalocean/godo",
        "excerpt": "Godo is a Go client library for accessing the DigitalOcean V2 API. You can view the client API docs here: http://godoc.org/github.com/digitalocean/godo You can view DigitalOcean API docs here:&hellip;",
        "date_saved": "Thu Jul 28 20:09:16 EDT 2016",
        "html_file": "digitaloceangodo.html",
        "png_file": "digitaloceangodo.png",
        "md_file": "digitaloceangodo.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://travis-ci.org/digitalocean/godo\"><img src=\"https://camo.githubusercontent.com/64d762bb5df52eab0702c6ad9c20ee8750e96515/68747470733a2f2f7472617669732d63692e6f72672f6469676974616c6f6365616e2f676f646f2e737667\" alt=\"Build Status\"></a></p>\n\n\n\n<p>Godo is a Go client library for accessing the DigitalOcean V2 API.</p>\n\n<p>You can view the client API docs here: <a href=\"http://godoc.org/github.com/digitalocean/godo\">http://godoc.org/github.com/digitalocean/godo</a></p>\n\n<p>You can view DigitalOcean API docs here: <a href=\"https://developers.digitalocean.com/documentation/v2/\">https://developers.digitalocean.com/documentation/v2/</a></p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#usage\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Usage</h2>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/digitalocean/godo<span class=\"pl-pds\">\"</span></span></pre></div>\n\n<p>Create a new DigitalOcean client, then use the exposed services to\naccess different parts of the DigitalOcean API.</p>\n\n<h3><a id=\"user-content-authentication\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#authentication\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Authentication</h3>\n\n<p>Currently, Personal Access Token (PAT) is the only method of\nauthenticating with the API. You can manage your tokens\nat the DigitalOcean Control Panel <a href=\"https://cloud.digitalocean.com/settings/applications\">Applications Page</a>.</p>\n\n<p>You can then use your token to create a new client:</p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>golang.org/x/oauth2<span class=\"pl-pds\">\"</span></span>\n\n<span class=\"pl-smi\">pat</span> <span class=\"pl-k\">:=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mytoken<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">type</span> <span class=\"pl-v\">TokenSource</span> <span class=\"pl-k\">struct</span> {\n <span class=\"pl-v\">AccessToken</span> <span class=\"pl-k\">string</span>\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">(<span class=\"pl-v\">t</span> *<span class=\"pl-v\">TokenSource</span>) <span class=\"pl-en\">Token</span></span>() (*<span class=\"pl-v\">oauth2</span>.<span class=\"pl-v\">Token</span>, <span class=\"pl-v\">error</span>) {\n <span class=\"pl-smi\">token</span> <span class=\"pl-k\">:=</span> &amp;oauth2.<span class=\"pl-smi\">Token</span>{\n AccessToken: t.<span class=\"pl-smi\">AccessToken</span>,\n }\n <span class=\"pl-k\">return</span> token, <span class=\"pl-c1\">nil</span>\n}\n\n<span class=\"pl-smi\">tokenSource</span> <span class=\"pl-k\">:=</span> &amp;TokenSource{\n <span class=\"pl-v\">AccessToken</span>: pat,\n}\n<span class=\"pl-smi\">oauthClient</span> <span class=\"pl-k\">:=</span> oauth2.<span class=\"pl-c1\">NewClient</span>(oauth2.<span class=\"pl-smi\">NoContext</span>, tokenSource)\n<span class=\"pl-smi\">client</span> <span class=\"pl-k\">:=</span> godo.<span class=\"pl-c1\">NewClient</span>(oauthClient)</pre></div>\n\n<h2><a id=\"user-content-examples\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#examples\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Examples</h2>\n\n<p>To create a new Droplet:</p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-smi\">dropletName</span> <span class=\"pl-k\">:=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>super-cool-droplet<span class=\"pl-pds\">\"</span></span>\n\n<span class=\"pl-smi\">createRequest</span> <span class=\"pl-k\">:=</span> &amp;godo.<span class=\"pl-smi\">DropletCreateRequest</span>{\n <span class=\"pl-v\">Name</span>: dropletName,\n <span class=\"pl-v\">Region</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nyc3<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-v\">Size</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>512mb<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-v\">Image</span>: godo.<span class=\"pl-smi\">DropletCreateImage</span>{\n Slug: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ubuntu-14-04-x64<span class=\"pl-pds\">\"</span></span>,\n },\n}\n\n<span class=\"pl-smi\">newDroplet</span>, <span class=\"pl-smi\">_</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> client.<span class=\"pl-smi\">Droplets</span>.<span class=\"pl-c1\">Create</span>(createRequest)\n\n<span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n fmt.<span class=\"pl-c1\">Printf</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Something bad happened: <span class=\"pl-c1\">%s</span><span class=\"pl-cce\">\\n\\n</span><span class=\"pl-pds\">\"</span></span>, err)\n <span class=\"pl-k\">return</span> err\n}</pre></div>\n\n<h3><a id=\"user-content-pagination\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#pagination\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Pagination</h3>\n\n<p>If a list of items is paginated by the API, you must request pages individually. For example, to fetch all Droplets:</p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">func</span> <span class=\"pl-en\">DropletList</span>(<span class=\"pl-v\">client</span> *<span class=\"pl-v\">godo</span>.<span class=\"pl-v\">Client</span>) ([]<span class=\"pl-v\">godo</span>.<span class=\"pl-v\">Droplet</span>, <span class=\"pl-v\">error</span>) {\n <span class=\"pl-c\">// create a list to hold our droplets</span>\n <span class=\"pl-smi\">list</span> <span class=\"pl-k\">:=</span> []godo.<span class=\"pl-smi\">Droplet</span>{}\n\n <span class=\"pl-c\">// create options. initially, these will be blank</span>\n <span class=\"pl-smi\">opt</span> <span class=\"pl-k\">:=</span> &amp;godo.<span class=\"pl-smi\">ListOptions</span>{}\n <span class=\"pl-k\">for</span> {\n <span class=\"pl-smi\">droplets</span>, <span class=\"pl-smi\">resp</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> client.<span class=\"pl-smi\">Droplets</span>.<span class=\"pl-c1\">List</span>(opt)\n <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>, err\n }\n\n <span class=\"pl-c\">// append the current page's droplets to our list</span>\n <span class=\"pl-k\">for</span> <span class=\"pl-smi\">_</span>, <span class=\"pl-smi\">d</span> <span class=\"pl-k\">:=</span> <span class=\"pl-k\">range</span> droplets {\n list = <span class=\"pl-c1\">append</span>(list, d)\n }\n\n <span class=\"pl-c\">// if we are at the last page, break out the for loop</span>\n <span class=\"pl-k\">if</span> resp.<span class=\"pl-smi\">Links</span> == <span class=\"pl-c1\">nil</span> || resp.<span class=\"pl-smi\">Links</span>.<span class=\"pl-c1\">IsLastPage</span>() {\n <span class=\"pl-k\">break</span>\n }\n\n <span class=\"pl-smi\">page</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> resp.<span class=\"pl-smi\">Links</span>.<span class=\"pl-c1\">CurrentPage</span>()\n <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n <span class=\"pl-k\">return</span> <span class=\"pl-c1\">nil</span>, err\n }\n\n <span class=\"pl-c\">// set the page we want for the next request</span>\n opt.<span class=\"pl-smi\">Page</span> = page + <span class=\"pl-c1\">1</span>\n }\n\n <span class=\"pl-k\">return</span> list, <span class=\"pl-c1\">nil</span>\n}</pre></div>\n\n<h2><a id=\"user-content-versioning\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#versioning\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Versioning</h2>\n\n<p>Each version of the client is tagged and the version is updated accordingly.</p>\n\n<p>Since Go does not have a built-in versioning, a package management tool is\nrecommended - a good one that works with git tags is\n<a href=\"http://labix.org/gopkg.in\">gopkg.in</a>.</p>\n\n<p>To see the list of past versions, run <code>git tag</code>.</p>\n\n<h2><a id=\"user-content-documentation\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#documentation\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Documentation</h2>\n\n<p>For a comprehensive list of examples, check out the <a href=\"https://developers.digitalocean.com/documentation/v2/\">API documentation</a>.</p>\n\n<p>For details on all the functionality in this library, see the <a href=\"http://godoc.org/github.com/digitalocean/godo\">GoDoc</a> documentation.</p>\n\n<h2><a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/digitalocean/godo#contributing\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Contributing</h2>\n\n<p>We love pull requests! Please see the <a href=\"https://github.com/digitalocean/godo/blob/master/CONTRIBUTING.md\">contribution guidelines</a>.</p>\n</article>\n </div>"
    }, {
        "title": "Dosa by shon",
        "url": "http://shon.github.io/dosa/",
        "excerpt": "Python wrapper for Digital Ocean API V2. Installation pip install dosa Usage import dosa API_KEY = 'Your API Key' dosa.set_debug() # enables debug logs client = dosa.Client(api_key=API_KEY) #&hellip;",
        "date_saved": "Thu Jul 28 20:09:17 EDT 2016",
        "html_file": "dosa_by_shon.html",
        "png_file": "dosa_by_shon.png",
        "md_file": "dosa_by_shon.md",
        "content": "<div><section class=\"main-content\">\n <p>Python wrapper for Digital Ocean <a href=\"https://developers.digitalocean.com\">API\nV2</a>.</p>\n\n<p><a href=\"http://badge.fury.io/py/dosa\"><img src=\"https://badge.fury.io/py/dosa.svg\" alt=\"Latest\nVersion\"></a></p>\n\n<p><a href=\"https://crate.io/packages/dosa/\"><img src=\"https://pypip.in/d/dosa/badge.png\" alt=\"Number of PyPI\ndownloads\"></a></p>\n\n<h2>\n<a id=\"installation\" class=\"anchor\" href=\"http://shon.github.io/dosa/#installation\"></a>Installation</h2>\n\n<pre lang=\"sourceCode\"><code>pip install dosa\n</code></pre>\n\n<h2>\n<a id=\"usage\" class=\"anchor\" href=\"http://shon.github.io/dosa/#usage\"></a>Usage</h2>\n\n<pre lang=\"sourceCode\"><code>import dosa\n\nAPI_KEY = 'Your API Key'\ndosa.set_debug() # enables debug logs\n\nclient = dosa.Client(api_key=API_KEY)\n\n# Droplets\nclient.droplets.list()\nstatus, result = client.droplets.create(name='terminator', region='nyc2',\\\n size='512mb', image='ubuntu-14-04-x32', ssh_keys=[12345])\nnew_droplet_id = result['id']\n\n# Droplet\nnew_droplet = client.Droplet(new_droplet_id)\nprint(new_droplet.info())\n## shortcuts\nnew_droplet.status()\nnew_droplet.ip_addresses()\nclient.droplets.delete(new_droplet_id)\n\n# SSH Keys\npub_key = open('~/.ssh/id_rsa.pub').read()\nclient.keys.create(name='RSA key', public_key=pub_key)\nclient.keys.list()\n\n# Images\nclient.images.list()\nclient.images.all()\nclient.images.search('ubuntu', 'sgp1', show_op=True)\n\n# Domains\nclient.domains.list()\nclient.domains.all()\nclient.domains.create(name='example.com', ip_address='1.2.3.4')\nclient.domains.delete(id='example.com')\n\n### Get specific domain\ndomain = client.Domain(domain='example.com')\ndomain.info()\n\n# Domain Records\ndr = client.DomainRecords(domain='example.com')\ndr.list()\ndr.create(type='A', name='example.com', data='162.10.66.0')\n\n### Get specific domain record for a domain\nrecord = dr.Record(record_id='7976006')\nrecord.info()\nrecord.update(name='new.example.com')\n\n# Extras\n# $ ls keys/\n# rsa_pub1.id rsa_pub2.key rsa_pub3.key\nkeys_dir = 'keys'\nclient.sync_ssh_keys(keys_dir)\n</code></pre>\n\n<h2>\n<a id=\"notes\" class=\"anchor\" href=\"http://shon.github.io/dosa/#notes\"></a>Notes</h2>\n\n<p>Image search:</p>\n\n<pre><code>&gt;&gt;&gt; client.images.search('ubuntu', region='sgp1', show_op=True)\n</code></pre>\n\n<p>Above code snippets searches for images containing ubuntu in description\nor slug. Since region is specified (sgp1), only images in sgp1 region\nwould be considered. If no region is specified all regions are included.</p>\n\n<h2>\n<a id=\"credits\" class=\"anchor\" href=\"http://shon.github.io/dosa/#credits\"></a>Credits</h2>\n\n<p>Created while working on <a href=\"http://scroll.in\">Scroll.in</a>'s project.</p>\n\n<h2>\n<a id=\"dosa\" class=\"anchor\" href=\"http://shon.github.io/dosa/#dosa\"></a>Dosa?</h2>\n\n<p><a href=\"http://commons.wikimedia.org/wiki/File:Paper_Masala_Dosa.jpg#mediaviewer/File:Paper_Masala_Dosa.jpg\"><img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Paper_Masala_Dosa.jpg/640px-Paper_Masala_Dosa.jpg\" alt='\"Paper Masala Dosa\" by SteveR- -\n&lt;http://www.flickr.com/photos/git/3936135033/&gt;. Licensed under Creative\nCommons Attribution 2.0 via Wikimedia\nCommons'></a></p>\n\n \n\n </section>\n\n \n \n\n </div>"
    }, {
        "title": "DoSnapshot",
        "url": "http://dosnapshot.merqlove.ru/",
        "excerpt": "Use this tool to backup DigitalOcean droplet's vi",
        "date_saved": "Thu Jul 28 20:09:20 EDT 2016",
        "html_file": "dosnapshot.html",
        "png_file": "dosnapshot.png",
        "md_file": "dosnapshot.md",
        "content": "<div><section id=\"main-content\">\n <p><a href=\"http://badge.fury.io/rb/do_snapshot\"><img src=\"https://badge.fury.io/rb/do_snapshot.svg\" alt=\"Gem Version\"></a>\n<a href=\"https://travis-ci.org/merqlove/do_snapshot\"><img src=\"https://travis-ci.org/merqlove/do_snapshot.svg?branch=master\" alt=\"Build Status\"></a>\n<a href=\"https://gemnasium.com/merqlove/do_snapshot\"><img src=\"https://gemnasium.com/merqlove/do_snapshot.svg\" alt=\"Dependency Status\"></a>\n<a href=\"https://coveralls.io/r/merqlove/do_snapshot?branch=master\"><img src=\"https://coveralls.io/repos/merqlove/do_snapshot/badge.png?branch=master\" alt=\"Coverage Status\"></a>\n<a href=\"http://inch-ci.org/github/merqlove/do_snapshot\"><img src=\"http://inch-ci.org/github/merqlove/do_snapshot.png?branch=master\" alt=\"Inline docs\"></a>\n<a href=\"https://codeclimate.com/github/merqlove/do_snapshot\"><img src=\"https://codeclimate.com/github/merqlove/do_snapshot.png\" alt=\"Code Climate\"></a></p>\n\n<p>Use this tool to backup DigitalOcean droplet's via snapshot method, on the fly!</p>\n\n<p>Here some features:</p>\n\n<ul>\n<li>Multiple threads out of the box. No matter how much droplet's you have.</li>\n<li>Snapshots Auto-Cleanup.</li>\n<li>Auto-Boot Droplet back if Snapshot Event is failed or bad connection exception.</li>\n<li>Binary special for cron and command-line. Homebrew, Standalone installers.</li>\n<li>Mail notifications when fail or maximum of snapshots is reached for one or multiple droplets.</li>\n<li>Custom mail settings (You can set <a href=\"https://github.com/benprew/pony\">Pony</a> mail settings).</li>\n<li>Stop mode (when you don't want to create new snapshots when maximum is reached).</li>\n<li>Timeout option for long requests or uncaught loops. By default it 600 seconds, but you can change it by hand.</li>\n<li>Logging into selected directory.</li>\n<li>Verbose mode for research.</li>\n<li>Quiet mode for silence.</li>\n</ul><h2>\n<a name=\"compatibility\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#compatibility\"></a>Compatibility</h2>\n\n<p>Ruby versions: 1.9.3 and higher. JRuby in 1.9 mode is also supported.</p>\n\n<p><img src=\"https://raw.githubusercontent.com/merqlove/do_snapshot/master/assets/example.png\" alt=\"DoSnaphot example\"></p>\n\n<h3>\n<a name=\"you-can-ask-me-why-you-made-this-tool\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#you-can-ask-me-why-you-made-this-tool\"></a>You can ask me, \"Why you made this tool?\"</h3>\n\n<ul>\n<li>First. I needed stable tool, which can provide for me automatic Snapshot feature for all of my Droplets via Cron planner.</li>\n<li>I don't want to think how much snapshots for each droplet i have.</li>\n<li>I don't wont to sleep when my droplets Offline!!! And i wanted tool which can BOOT back droplets, which failed to snapshot.</li>\n<li>Also i want to understand what's going on if there some error. Mail is my choice. But logs also good.</li>\n<li>And ... sure ;) We want to do it fast as rocket! :)</li>\n<li>more more more...</li>\n<li>So this tool can save a lot of time for people.</li>\n</ul><h2>\n<a name=\"installation\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#installation\"></a>Installation</h2>\n\n<p>Install it yourself as:</p>\n\n<pre><code>$ gem install do_snapshot\n</code></pre>\n\n<p>For <strong>OSX</strong> users (<a href=\"http://github.com/merqlove/homebrew-do-snapshot\">Homebrew Tap</a>):</p>\n\n<pre><code>$ brew tap merqlove/do-snapshot &amp;&amp; brew install do_snapshot\n\n$ do_snapshot -V\n</code></pre>\n\n<p>Standalone pack for <strong>Unix/Linux</strong> users: <a href=\"https://assets.merqlove.ru.s3.amazonaws.com/do_snapshot/do_snapshot.tgz\">Download</a></p>\n\n<pre><code>$ wget https://assets.merqlove.ru.s3.amazonaws.com/do_snapshot/do_snapshot.tgz # if not done.\n\n# Example Install into /usr/local\n\n$ tar -xzf do_snapshot.tgz /usr/local/ &amp;&amp; ln -s /usr/local/do_snapshot/bin/do_snapshot /usr/local/bin/do_snapshot \n$ do_snapshot help \n</code></pre>\n\n<p>Standalone Zip pack for others: <a href=\"https://assets.merqlove.ru.s3.amazonaws.com/do_snapshot/do_snapshot.zip\">Download</a></p>\n\n<p>Or add this line to Gemfile:</p>\n\n<pre><code>gem 'do_snapshot'\n</code></pre>\n\n<p>And then execute:</p>\n\n<pre><code>$ bundle\n</code></pre>\n\n<h2>\n<a name=\"usage\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#usage\"></a>Usage</h2>\n\n<p>First you may need to set DigitalOcean API keys: </p>\n\n<pre><code>$ export DIGITAL_OCEAN_CLIENT_ID=\"SOMEID\"\n$ export DIGITAL_OCEAN_API_KEY=\"SOMEKEY\"\n</code></pre>\n\n<p>If you want to set keys without environment, than set it via options when you run do_snapshot:</p>\n\n<pre><code>$ do_snapshot --digital-ocean-client-id YOURLONGAPICLIENTID --digital-ocean-api-key YOURLONGAPIKEY\n</code></pre>\n\n<h3>\n<a name=\"how-to\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#how-to\"></a>How-To</h3>\n\n<p>Here we <code>keeping</code> only 5 <strong>latest</strong> snapshots and cleanup older after new one is created. If creation of snapshots failed no one will be deleted. By default we keeping <code>10</code> droplets.</p>\n\n<pre><code>$ do_snapshot --keep 5 -c\n</code></pre>\n\n<p>Keep latest 3 from selected droplets:</p>\n\n<pre><code>$ do_snapshot --only 123456 1234567 --keep 3\n</code></pre>\n\n<p>Working with all except selected droplets:</p>\n\n<pre><code>$ do_snapshot --exclude 123456 123457\n</code></pre>\n\n<p>Keep latest 5 snapshots, send mail notification instead of creating new one:</p>\n\n<pre><code>$ do_snapshot --keep 10 --stop --mail to:yourmail@example.com\n</code></pre>\n\n<p><img src=\"https://raw.githubusercontent.com/merqlove/do_snapshot/master/assets/safe_mode.png\" alt=\"DoSnapshot Safe Mode Example\"></p>\n\n<p>E-mail notifications disabled out of the box. \nFor working mailer you need to set e-mail settings via run options.</p>\n\n<pre><code>--mail to:mail@somehost.com from:from@host.com --smtp address:smtp.gmail.com port:25 user_name:someuser password:somepassword\n</code></pre>\n\n<h3>\n<a name=\"cron-example\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#cron-example\"></a>Cron example</h3>\n\n<pre><code>0 4 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 7 . /.../.digitalocean_keys &amp;&amp; /.../bin/do_snapshot -k 5 -m to:TO from:FROM -t address:HOST user_name:LOGIN password:PASSWORD port:2525 -q -c\n</code></pre>\n\n<h3>\n<a name=\"real-world-example\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#real-world-example\"></a>Real world example</h3>\n\n<pre><code>$ bin/do_snapshot --only 123456 -k 3 -c -m to:TO from:FROM -t address:HOST user_name:LOGIN password:PASSWORD port:2525 -v\n\nChecking DigitalOcean Id's.\nStart performing operations\nSetting DigitalOcean Id's.\nLoading list of DigitalOcean droplets\nWorking with list of DigitalOcean droplets\nPreparing droplet id: 123456 name: mrcr.ru to take snapshot.\nShutting down droplet.\nStart creating snapshot for droplet id: 123456 name: mrcr.ru.\nWait until snapshot will be created.\nSnapshot name: mrcr.ru_2014_07_18 created successfully.\nDroplet id: 123456 name: mrcr.ru snapshots: 4.\nFor droplet with id: 123456 and name: mrcr.ru the maximum number 3 of snapshots is reached.\nCleaning up snapshots for droplet id: 123456 name: mrcr.ru.\nSnapshot name: mrcr.ru_2014_07_17 delete requested.\nAll operations has been finished.\nSending e-mail notification.\n</code></pre>\n\n<h3>\n<a name=\"all-options\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#all-options\"></a>All options:</h3>\n\n<pre><code>&gt; $ do_snapshot c \n\naliases: s, snap, create\n\nOptions:\n -o, [--only=123456 123456 123456] # Select some droplets.\n -e, [--exclude=123456 123456 123456] # Except some droplets.\n -k, [--keep=5] # How much snapshots you want to keep?\n # Default: 10\n -d, [--delay=5] # Delay between snapshot operation status requests.\n # Default: 10 \n [--timeout=250] # Timeout in sec's for events like Power Off or Create Snapshot.\n # Default: 600 \n -m, [--mail=to:yourmail@example.com] # Receive mail if fail or maximum is reached.\n -t, [--smtp=user_name:yourmail@example.com password:password] # SMTP options.\n -l, [--log=/Users/someone/.do_snapshot/main.log] # Log file path. By default logging is disabled.\n -c, [--clean], [--no-clean] # Cleanup snapshots after create. If you have more images than you want to `keep`, older will be deleted.\n -s, [--stop], [--no-stop] # Stop creating snapshots if maximum is reached.\n -v, [--trace], [--no-trace] # Verbose mode.\n -q, [--quiet], [--no-quiet] # Quiet mode. If don't need any messages in console.\n [--digital-ocean-client-id=YOURLONGAPICLIENTID] # DIGITAL_OCEAN_CLIENT_ID. if you can't use environment.\n [--digital-ocean-api-key=YOURLONGAPIKEY] # DIGITAL_OCEAN_API_KEY. if you can't use environment. \n\nDescription:\n `do_snapshot` able to create and cleanup snapshots on your droplets.\n\n You can optionally specify parameters to select or exclude some droplets. \n</code></pre>\n\n<h2>\n<a name=\"dependencies\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#dependencies\"></a>Dependencies:</h2>\n\n<ul>\n<li>\n<a href=\"https://github.com/erikhuda/thor\">Thor</a> for CLI.</li>\n<li>\n<a href=\"https://github.com/scottmotte/digitalocean\">Digitalocean</a> for API requests.</li>\n<li>\n<a href=\"https://github.com/benprew/pony\">Pony</a> for mail notifications.</li>\n</ul><h2>\n<a name=\"contributing\" class=\"anchor\" href=\"http://dosnapshot.merqlove.ru/#contributing\"></a>Contributing</h2>\n\n<ol>\n<li>Fork it ( <a href=\"https://github.com/merqlove/do_snapshot/fork\">https://github.com/merqlove/do_snapshot/fork</a> )</li>\n<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>\n<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>\n<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>\n<li>Create a new Pull Request</li>\n</ol>\n </section>\n\n \n </div>"
    }, {
        "title": "Brief survey on methods for attacking Tor hidden service",
        "url": "http://translate.wooyun.io/2015/09/19/Brief-survey-on-methods-for-attacking-Tor-hidden-service.html",
        "excerpt": "Author:Phunter From:http://drops.wooyun.org/papers/8265 Recently, MIT published an article for their recent work of identifying the hidden service of Tor by circuit fingerprinting with website&hellip;",
        "date_saved": "Thu Jul 28 20:09:21 EDT 2016",
        "html_file": "brief_survey_on_methods_for_attacking_tor_hidden_service.html",
        "png_file": "brief_survey_on_methods_for_attacking_tor_hidden_service.png",
        "md_file": "brief_survey_on_methods_for_attacking_tor_hidden_service.md",
        "content": "<div><div class=\"post-content\">\n <p>Author:<a href=\"https://twitter.com/PhunterLau\">Phunter</a></p>\n<p>From:http://drops.wooyun.org/papers/8265</p>\n<p>Recently, MIT published an <a href=\"https://people.csail.mit.edu/devadas/pubs/circuit_finger.pdf\">article</a> for their recent work of identifying the hidden service of Tor by circuit fingerprinting with website fingerprinting to eventually trace down the hidden service users. This paper has been discussed on reddit and many other forums, and the question that whether Tor can be compromised becomes hot again. Here I want to have a brief overview of recent research on the methods and attempts for attacking Tor hidden services over the past years. These methods are not my original creation and I try to introduce them in simple words. Some worth reading materials are provided at the ending part are for further review. In summary, Tor hidden services are very hard to compromise and mostly the following methods and attempts are heuristic analysis.</p>\n\n<h2>0x00 Brief introduction of Tor</h2>\n\n<p>The primary goal of Tor (The Onion Router) is to prevent traffic filter and sniffing from spying user&#x2019;s communication privacy. Most chinese people know it not for its encryption but for its multi-layered nodes which can bypass the Great Fire Wall (GFW). The general idea of Tor is that, each Tor user setups a local Tor proxy server which regularly communicates with other Tor users, therefore a topology circuit is constructed. Tor users encrypt the message to transmit in the application layer. The communication in between each routing pair is point-to-point encrypted and the routing pairs is just like layers of an onion. Such multi-layered topology structure is the same as place the client right at the heart of an onion which is exactly the methods that Tor uses to protect information sources. When a message is issued from the client, it will search for paths through network, go through multiple layer of proxy nodes and be sent in plain text form at exit layer, that&#x2019;s to say, the destination node can only see that the plain text is sent from the exit node but it doesn&#x2019;t know the actual location of the information source client. If attackers know the IP address of some Tor nodes, they might find the information source by querying the flowing direction of the entire information. So for each Tor proxy server, it&#x2019;s important to hide its own IP address.</p>\n<p><img src=\"http://static.wooyun.org//drops/20150826/2015082606343588393.png\" alt=\"Please enter image description.\"></p>\n<p>reference from <a href=\"http://drops.wooyun.org/wp-content/uploads/2015/08/137.png\">wikipedia link</a></p>\n<p>Note that the point of attacking against Tor hidden services is not to obtain the transmitted message but to find out: which nodes are Tor&#x2019;s intermediate nodes, which users are using Tor and which Tor services are used. Because the message at the exit node is in a plain text form. If one knows the exit node, one knows the transmitted message, for example, parts of the leaked files from Wikileaks are captured at some Tor exit nodes.</p>\n<h2>0x01 Summary of Attacking Methods: general guildline</h2>\n\n<p>Tor is a complicated system. It has the complexity from its design, thus it may have vulnerablilities to be attacked for its complexity. Besides, its implementation plus server configurations are not perfect. Meanwhile, it also has some &#x201C;stupid teammates\" problems which can be leveraged for attacks. These aspects are the routine attacking points for targeting Tor&#x2019;s anonymity and privacy.</p>\n<p>Attacks based on Tor&#x2019;s information characteristics usually leverage its encryption and network complexity. The popular method is wiretapping the pattern of network data. Because the information is encrypted through multi-layered nodes, Tor&#x2019;s traffic pattern is different from normal network data transmission, in determining the time of link and the special pattern of network data. A Tor node could generally be identified by listening to the data transmission pattern of a node. The transmitted information contains some intrinsic features (such as <a href=\"http://www.welivesecurity.com/2015/07/29/keystroke-biometrics-exploit-defeats-tor-privacy/\">keystroke frequency pattern</a>), as a result, the encrypted traffic with these features from the source of Tor to the destination may also contain some traceable features. For example, if the attacker designs some experiments, the sequence of message communication can be used to detect the location of a Tor node. Most of the research work of attacking Tor&#x2019;s anonymity focuses on this aspect, including the recent method mentioned in MIT&#x2019;s article that is circuit fingerprinting on Tor&#x2019;s nodes. These methods are mostly nicely construction methods and many major research institutes (some are state-owned) are working on this direction.</p>\n<p>Other approaches with &#x201C;stupid teammates&#x201D; that are based on attacking on Tor&#x2019;s implementation/configuration are often not enrolled in the research projects of all major research institutions, but like the status of it and social engineering in hacking attacks, it can become <a href=\"https://en.wikipedia.org/wiki/Achilles%27_heel\">Achilles&#x2019; heel</a> in a special situation. The methods attacking Tor&#x2019;s implementation mainly are deceiving, for instance, to set Tor node under attacker&#x2019;s control to attract other Tor nodes to link. Methods attacking on Tor&#x2019;s Implementation and server configuration mostly lie in the fact that if a Tor server is not appropriately configured, Tor&#x2019;s other services may be compromised to leak the address of Tor services. For example, there is a kind of &#x201C;stupid teammate&#x201D; , a Tor proxy server node is also the node for other services. If a web application runs on it (for example, the PHP version is old and contains many exploits), an attacker may penetrate the system using the vulnerable web services so long as the attacker can get the shell to scan the entire machine and determine if there&#x2019;s Tor running on it. Recently, a &#x201C;stupid teammate&#x201D; is bitcoin exchange: some relevant research uses bitcoin transactions to detect the IP address of some nodes in Tor. Please read http://orbilu.uni.lu/handle/10993/18679. These methods will not be discussed here.</p>\n<h2>0x02 Some Work of the Great Fire Wall (GFW)\\</h2>\n\n<p>Tor can also be used for bypassing the Great Fire Wall (GFW), because it can automatically monitor if related proxy node is reachable and redirect till it can connect to outside of the GFW. Therefore, the GFW doesn&#x2019;t like Tor. What more, the GFW hates Tor because the destination server can only see Tor&#x2019;s exit nodes. So a server located abroad can use Tor to disguise itself as a server inside China and provides services to bypass the GFW.</p>\n<p>&#x2022; The main research goal of GFW is not about finding the message source, but blocking Tor nodes and cutting off the connection, so these users who bypass the GFW will be blocked. There&#x2019;s no official documentation about the GFW for reasons that everyone knows, but based observation results, the GFW uses the following methods:<br>\n&#x2022; Block known IP nodes and Bridge nodes: GFW can block parts of known IP nodes and monitor the rest for further investigation. The purpose of monitoring is about collecting data transmitted among nodes, which can be used as the feature selection from data flow in GFW&#x2019;s machine learning models.<br>\n&#x2022; Set up some Tor nodes under GFW&#x2019;s control and attract other Tor nodes for connection and block.<br>\n&#x2022; Attacking non-SSL encrypted Tor nodes to collect data flow as features to analyze (Deep Package Investigation, DPI), then classifying if it is Tor node using machine learning plus artificial rules.</p>\n<p>The advantage of GFW is that it can see real traffic data that other. Their methods use the traffic features and positive/negative samples collected from real traffic for their machine learning models. GFW can quickly detect any Tor encryption and changing in network structure. It can also perform much passive data collection work without being detected. It keeps GFW a secret from Tor&#x2019;s attack. As the goal of GFW &#x2018;s work is blocking the connection instead of finding the message source or the user identities, it blocks a small portions of Tor nodes, where new arising nodes are constantly generated. So it won&#x2019;t cause huge damage to Tor&#x2019;s anonymity and privacy for now.</p>\n<h2>0x03 Research work outside China</h2>\n\n<p>The main objective of academic research is about compromising the privacy and anonymity of Tor, which is commonly found in papers from universities and research institutions, as well as United States National Security Agency's (NSA) public materials and accidentally leaked documents.</p>\n<h2>0x04 MIT&#x2019;s Work</h2>\n\n<p>As mention at the beginning of this article, MIT fingerprints the data flow circuits in Tor. Its primary target is not looking for Tor nodes or finding user information, but finding out if there is Tor hidden service in the network, which can design a web page fingerprint to attack the client or service location on Tor nodes (more information on webpage fingerprinting please refer to Cai et al &#x201C;<a href=\"http://www3.cs.stonybrook.edu/~xcai/fp.pdf\">Touching from a Distance: Website Fingerprinting Attacks and Defenses</a>&#x201D;, basically the method is that, an attacker sets a client in Tor network to visit a specific webpage with a special fingerprint, track the message sent, get the features of Tor proxy nodes, such as the packet size and interval frequency, and it uses machine learning to classify). It uses a simple way to determine if there is Tor hidden services in the network: they set up a Tor node that is controlled by themselves (the attacker) when other Tor nodes and user links come in and after a while of message transmission, the attacker can count the number of data transferred and the number of packets sent as well as the sequence of construction circuits, so that the attacker can predict which Tor service (e.g. OpenWeb) that the user is using with a simple machine learning model. The reason why this method is powerful is that, it is passively collecting data rather than actively sending packets, therefore before revealing the Tor node information, the attacker can fly under the radar.</p>\n<p>This is very interesting work, and it also includes in great detail of the full text. It is also a great reading material for beginners who want to learn Tor attacking. As for if it successfully compromises Tor&#x2019;s anonymity and privacy as claimed, here in this <a href=\"https://www.reddit.com/r/TOR/comments/3f3ioo/mit_breaks_tor_anonymity_by_exploiting_entry_nodes/\">reddit</a> discussion, everyone thought it&#x2019;s far from so-called &#x201C;compromising&#x201D;.</p>\n<h2>0x05 IIIT&#x2019;s Work</h2>\n\n<p><a href=\"https://sites.google.com/site/sambuddhochakravarty/\">Chakravarty</a> team from IIT leverages a Cisco NetFlow Gateway monitoring tool and designs a smart Perturbation experiment for detecting the relevance between the server and client messages. Many Cisco routers have a default tool called NetFlow, which provides all kind of statistical information, for example, the number of packages and bytes etc. Network administrators use this tool to check the pattern of network information and identify the cause of problems, for example network congestion. Chakravarty team designs such an experiment that it adds a special Perturbation to the pattern of the server traffic, causing the net flow in the gateway some statistical features and constantly send a certain of messages based on this perturbation feature. When this perturbation passes through the whole network, the perturbation feature from the client and the feature in the server show some statistical correlation. Based on this statistical correlation, the information source can be predicted. The team also provides further protection advice: obfuscating these network features that can cause the leak of perturbation feature on nodes, for example, delay sending the package, and hide these features.</p>\n<p>Their experiment is more powerful than MIT&#x2019;s, because the experiment can be repeated on public Tor network. All they need is monitoring a small part of public Internet gateway, use gateway monitoring tools like netflow to observe enough Tor traffic information. This method is to actively detect Tor network, which differs from MIT&#x2019;s passive data collection. For further reading, please refer to http://securityaffairs.co/wordpress/30202/hacking/tor-traffic-analysis-attack.html and http://resources.infosecinstitute.com/hacking-tor-network-follow/. From the perspective of principle, GFW also uses similar methods to observe, but details remain unknown.</p>\n<h2>0x06 NSA Work: oh boy!</h2>\n\n<p>Our dear National Security Agency (NSA)&#x2019;s working is relatively broad. It involves what node is a Tor node, which users use Tor, which Tor services and so on. NSA's main purpose is tracking Tor users. But NSA admits they still have a long way before completely breaking the Tor privacy and hidden services. They only attack a few specific users (these users who are successfully captured are generally using a <a href=\"https://edwardsnowden.com/wp-content/uploads/2013/10/tor-stinks-presentation.pdf\">Cookie cache Leakge</a> approach, there are some users who technically don&#x2019;t know how to use Tor, and carelessly download a software suite to connect to a NSA controlled Tor server, causing them being detected.) None of the following information is NSA initiatively provided.</p>\n<p><img src=\"http://static.wooyun.org//drops/20150826/2015082606343676126.png\" alt=\"Please enter image description.\"></p>\n<p>Picture credit from http://yalasu.com/an-open-letter-to-asu-president-michael-crow/</p>\n<h2>&#x201C;Stupid Teammate&#x201D; Methods</h2>\n<p>The &#x201C;stupid teammate&#x201D; of Tor is the browser (mostly Firefox), and the well known Flash, plus some web scripts. Most of the users don't really understand the working principles and methods of Tor, and they tend to choose some <a href=\"http://www.darkreading.com/risk-management/fbi-admits-to-tor-server-takeover/d/d-id/1111553\">one-click installation Tor browser</a> suite which might contain something they don't know, like Firefox browser with known vulnerabilities, vulnerable Flash Player etc. For example, a user who installs the complete Baidu programs does not necessarily know what these components are. Agencies like FBI, NSA, take advantage of users who have these packages installed, attack their web browsers and Flash, and exploit the privacy and anonymity of Tor users. However, this method demonstrates that agencies such as NSA actually has no good way to directly attack Tor, thus they have to research on these &#x201C;stupid teammates&#x201D; and primarily target them.</p>\n<h2>0x07 FoxAcid Servers</h2>\n\n<p>NSA has a mysterious server code &#x201C;FoxAcid&#x201D;. It&#x2019;s a type of Tor server under NSA control. It has a variety of usages, for example, if NSA wants to track a Tor user, they use some special methods to connect this user's circuit to one of NSA's FoxAcid server, and ensure long term of connection. NSA also prepares for some further attacking work by planting malwares into user&#x2019;s computer, and makes sure the user connects to the FoxAcid server for a long period of time. It's said that these FoxAcid servers are Windows Server 2003, and these Trojan malwre can still connect to the FoxAcid even if users restart the computer.</p>\n<h2>Amazingly good teammates and webpage fingerprints</h2>\n<p>In addition to the use of stupid teammates, NSA has some amazing good teammates: the communications operators. NSA may request American telecommunications operators to provide data of a specific user, and operators such as AT&amp;T will not hesitate to cooperate with. NSA will implant a specific fingerprint information in a Web page, if users access this website through Tor, NSA can track the flow of data from the user visited the Web page through operator&#x2019;s data. In my opinion, in theory GFW may also have similar work, but their primary goal is tracking users, so they may just block these Tor IPs.</p>\n<p>For further reading, please refer to http://www.networkcomputing.com/networking/nsa-battles-tor-9-facts/d/d-id/1111857?</p>\n<h2>0x08 Summary</h2>\n\n<p>Thank you for reading such a long review. Attacks on Tor anonymity and privacy is a popular topic, both in academic and industrial, there are many aspects for attacks. Attack methods are usually in two types, one is distinguishing data flow pattern from normal traffic caused by Tor&#x2019;s encryption characteristic. The other one uses the weakness of the constructed Tor nodes and other related services. Each agency leverages unique methods to attack Tor because of different goals. Great Fire Wall's primary goal is blocking the connection, so they want to find out the location of the Tor nodes and block them, as a result, their methods lie in the detection of network traffic patterns; NSA wants keep tracking users, so their main targets are the users and the Tor chain that users pass through, therefore, they have researched and experimented multiple methods on tracking users. MIT's work is more interesting, the paper itself is a detailed description of circuit fingerprinting attack that I suggest reading, where IIIT team&#x2019;s work is a method that actively probes Tor.</p>\n </div>\n </div>"
    }, {
        "title": "Introducing Lemur",
        "url": "http://techblog.netflix.com/2015/09/introducing-lemur.html",
        "excerpt": "by: Kevin Glisson, Jason Chan&#xA0;and&#xA0;Ben Hagen Netflix is pleased to announce the open source release of our x.509 certificate orchestration framework : Lemur! The Challenge of Certificate&hellip;",
        "date_saved": "Thu Jul 28 20:09:23 EDT 2016",
        "html_file": "introducing_lemur.html",
        "png_file": "introducing_lemur.png",
        "md_file": "introducing_lemur.md",
        "content": "<div><div class=\"post-body entry-content\" id=\"post-body-2461585919917315159\">\n<span>by: </span><a href=\"https://twitter.com/kevgliss\">Kevin Glisson</a><span>, </span><a href=\"https://twitter.com/chanjbs\">Jason Chan</a>&#xA0;and&#xA0;<a href=\"https://twitter.com/benhagen\">Ben Hagen</a><br>\n<span><br></span>\n<span>Netflix is pleased to announce the open source release of our x.509 certificate orchestration framework : Lemur!</span><br>\n<span><br></span>\n<b><span>The Challenge of Certificate Management</span>\n</b><br>\n<div dir=\"ltr\">\n<span><a href=\"https://en.wikipedia.org/wiki/Public_key_infrastructure\">Public Key Infrastructure</a></span><span>is a set of hardware, software, people, policies, and procedures needed to create, manage, distribute, use, store, and revoke digital certificates and manage public-key encryption. PKI allows for secure communication by establishing chains of trust between two entities. </span></div>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>There are three main components to PKI that we are attempting to address:</span></p>\n<ol>\n<li dir=\"ltr\"><div dir=\"ltr\">\n<h4 dir=\"ltr\">\n<img height=\"235px;\" src=\"https://lh5.googleusercontent.com/s2myiuviAbtXDkX8pb4k-ZNNr4QGIbkBQSpQwxE6JOLfjLNKCJiU4BButs_6HKM2nQw1x4h5CFN37BuR3T1xyDKMv5gJJ76j_NhC7uNU04pM57nIPDLj_MHMfd1FdtEFkK4eUMA\" width=\"213px;\"></h4>\n<span>Public Certificate</span><span> - A cryptographic document that proves the ownership of a public key, which&#xA0;</span><span>can be used for signing, proving identity or encrypting data.</span></div>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Private Key</span><span> - A cryptographic document that is used to decrypt data encrypted by a public key. </span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Certificate Authorities (CAs)</span><span> - Third-party or internal services that validate those they do business with. They provide confirmation that a client is talking to the server it thinks it is. Their public certificates are loaded into major operating systems and provide a basis of trust for others to build on. </span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>The management of all the pieces needed for PKI can be a confusing and painful experience. Certificates have expiration dates - if they are allowed to expire without replacing communication can be interrupted, impacting a system&#x2019;s availability. And, private keys must never be exposed to any untrusted entities - any loss of a private key can impact the confidentiality of communications. There is also increased complexity when creating certificates that support a diverse pool of browsers and devices. It is non-trivial to track which devices and browsers trust which certificate authorities.</span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>On top of the management of these sensitive and important pieces of information, the tools used to create manage and interact with PKI have confusing or ambiguous options. This lack of usability can lead to mistakes and undermine the security of PKI. </span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>For non-experts the experience of creating certificates can be an intimidating one. </span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Empowering the Developer</span></h4>\n<p dir=\"ltr\">\n<span>At Netflix developers are responsible for their entire application environment, and we are moving to an environment that requires the use of HTTPS for all web applications. This means developers often have to go through the process of certificate procurement and deployment for their services. Let&#x2019;s take a look at what a typical procurement process might look like: </span></p>\n<p dir=\"ltr\">\n<span>Here we see an example workflow that a developer might take when creating a new service that has TLS enabled.</span></p>\n<b><br></b>\n<br>\n<div dir=\"ltr\">\n<a href=\"https://lh6.googleusercontent.com/MX5e5ySuiiaFrhwFy0J2b2ZcCyS-2QYVY02iBCC1JNDT9OjXx_bI85dOCzLFdJDL6dpPcib1AUTVmjNSKl6OZkyUB3IOtV8wMRN_p-6kqjkxTL5TVFuTcHWh8i0dgbb8PbEdg7Y\"><img border=\"0\" height=\"456px;\" src=\"https://lh6.googleusercontent.com/MX5e5ySuiiaFrhwFy0J2b2ZcCyS-2QYVY02iBCC1JNDT9OjXx_bI85dOCzLFdJDL6dpPcib1AUTVmjNSKl6OZkyUB3IOtV8wMRN_p-6kqjkxTL5TVFuTcHWh8i0dgbb8PbEdg7Y\" width=\"624px;\"></a><span>There are quite a few steps to this process and much of it is typically handled by humans. Let&#x2019;s enumerate them:</span></div>\n<ol>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Create Certificate Signing Request (CSR)</span><span> - A CSR is a cryptographically signed request that has information such as State/Province, Location, Organization Name and other details about the entity requesting the certificate and what the certificate is for. Creating a CSR typically requires the developer to use OpenSSL commands to generate a private key and enter the correct information. The OpenSSL command line contains hundreds of options and significant flexibility. This flexibility can often intimidate developers or cause them to make mistakes that undermine the security of the certificate. </span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<ol start=\"2\">\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Submit CSR</span><span> - The developer then submits the CSR to a CA. Where to submit the CSR can be confusing. Most organizations have internal and external CAs. Internal CAs are used for inter-service or inter-node communication anywhere you have control of both sides of transmission and can thus control who to trust. External CAs are typically used when you don&#x2019;t have control of both sides of a transmission. Think about your browser communicating with a banking website over HTTPS. It relies on the trust built by third parties (Symantec/Digicert, GeoTrust etc.) in order to ensure that we are talking to who we think we are. External CAs are used for the vast majority of Internet-facing websites. </span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<ol start=\"3\">\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Approve CSR</span><span> - Due to the sensitive and error-prone nature of the certificate request process, the choice is often made to inject an approval process into the workflow. In this case, a security engineer would review that a request is valid and correct before issuing the certificate.</span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<ol start=\"4\">\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Deploy Certificate</span><span> - Eventually the issued certificate needs to be placed on a server that will handle the request. It&#x2019;s now up to the developer to ensure that the keys and server certificates are correctly placed and configured on the server and that the keys are kept in a safe location.</span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<ol start=\"5\">\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Store Secrets</span><span> - An optional, but important step is to ensure that secrets can be retrieved at a later date. If a server ever needs to be re-deployed these keys will be needed in order to re-use the issued certificate.</span></p>\n</li>\n</ol>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Each of these steps have the developer moving through various systems and interfaces, potentially copying and pasting sensitive key material from one system to another. This kind of information spread can lead to situations where a developer might not correctly clean up the private keys they have generated or accidently expose the information, which could put their whole service at risk. Ideally a developer would never have to handle key material at all. </span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Toward Better Certificate Management</span></h4>\n<div dir=\"ltr\">\n<span>Certificate management is not a new challenge, tools like </span><a href=\"http://www.ejbca.org/\"><span>EJBCA</span></a><span>, </span><a href=\"http://www.openca.org/\"><span>OpenCA</span></a><span>, and more recently </span><a href=\"https://letsencrypt.org/\"><span>Let&#x2019;s Encrypt</span></a><span> are all helping to make certificate management easier. When setting out to make certificate management better we had two main goals: First, increase the usability and convenience of procuring a certificate in such a way that would not be intimidating to users. Second, harden the procurement process by generating high strength keys and handling them with care. </span></div>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Meet Lemur! </span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Lemur</span></h4>\n<p dir=\"ltr\">\n<span>Lemur is a certificate management framework that acts as a broker between certificate authorities and internal deployment and management tools. This allows us to build in defaults and templates for the most common use cases, reduce the need for a developer to be exposed to sensitive key material, and provides a centralized location from which to manage and monitor all aspects of the certificate lifecycle. </span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>We will use the following terminology throughout the rest of the discussion:</span></p>\n<b><br></b>\n<br>\n<ul>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Issuers </span><span>are internal or third-party certificate authorities</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Destinations </span><span>are deployment targets, for TLS these would be the servers terminating web requests.</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Sources</span><span> are any certificate store, these can include third party sources such as AWS, GAE, even source code.</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Notifications</span><span> are ways for a subscriber to be notified about a change with their certificate.</span></p>\n</li>\n</ul>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Unlike many of our tools Lemur is not tightly bound to AWS, in fact Lemur provides several different integration points that allows it to fit into just about any existing environment. </span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Security engineers can leverage Lemur to act as a broker between deployment systems and certificate authorities. It provides a unified view of, and tracks all certificates in an environment regardless of where they were issued. &#xA0;</span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Let&#x2019;s take a look at what a developer's new workflow would look like using Lemur:</span></p>\n\n\n<div class=\"separator\">\n<a href=\"http://1.bp.blogspot.com/-ddSboGM8cbI/VgBSAucAoQI/AAAAAAAABQE/PZJdwxtbOrU/s1600/new.png\"><img border=\"0\" src=\"http://1.bp.blogspot.com/-ddSboGM8cbI/VgBSAucAoQI/AAAAAAAABQE/PZJdwxtbOrU/s1600/new.png\"></a></div>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Some key benefits of the new workflow are:</span></p>\n<ul>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Developer no longer needs to know OpenSSL commands</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Developer no longer needs to know how to safely handle sensitive key material</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Certificate is immediately deployed and usable</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Keys are generated with known strength properties</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Centralized tracking and notification</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Common API for internal users</span></p>\n</li>\n</ul>\n<b><br></b>\n<br>\n<div dir=\"ltr\">\n<span><img height=\"480px;\" src=\"https://lh5.googleusercontent.com/QpkVQLBsDtYiaPxuYpXsdIA9KKxAlnV2su-i-PECVgAIGmRGHwwGDCAJkCN6hYzI3mD5Ovs7f6KJvweZECJzLVaO9GQDqv0DhwreYreBRkW2GmeukLtXwod2bstmMsuX=s1600\" width=\"624px;\"></span></div>\n<p dir=\"ltr\">\n<span>This interface is much more forgiving than that of a command line and allows for helpful suggestions and input validation. </span></p>\n<div dir=\"ltr\">\n<span><img height=\"482px;\" src=\"https://lh5.googleusercontent.com/NukE5buAszywR9GzZgRgLCrrwJPZCNQR_MGjPP_3ARALj4vsFBIn-PNute-BwKNBkCQjOeD-NgTt6TTQt37mSXd4mac9McrCsVVskH8nvdh33RWH22uEAak-bc7l8TIOyP0pwxU\" width=\"405px;\"></span></div>\n<p dir=\"ltr\">\n<span>For advanced users, Lemur supports all certificate options that the target issuer supports. </span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Lemur&#x2019;s destination plugins allow for a developer to pick an environment to upload a certificate. Having Lemur handle the propagation of sensitive material keeps it off developer&#x2019;s laptops and ensures secure transmission. Out of the box Lemur supports multi-account AWS deployments. Over time, we hope that others can use the common plugin interface to fit their specific needs.</span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>Even with all the things that Lemur does for us we knew there would use cases where certificates are not issued through Lemur. For example, a third party hosting and maintaining a marketing site, or a payment provider generating certificates for secure communication with their service. </span></p>\n<b><br></b>\n<br>\n<p dir=\"ltr\">\n<span>To help with these use cases and provide the best possible visibility into an organization&#x2019;s certificate deployment, Lemur has the concept of source plugins and the ability to import certificates. Source plugins allow Lemur to reach out into different environments and discover and catalog existing certificates, making them an easy way to bootstrap Lemur&#x2019;s certificate management within an organization. </span><br>\n<span><br></span></p>\n<p dir=\"ltr\">\n<span>Lemur creates, discovers and deploys certificates. It also securely stores the sensitive key material created during the procurement process. Letting Lemur handle key management provides a centralized and known method of encryption and the ability to audit the key&#x2019;s usage and access. </span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Architecture</span></h4>\n<p dir=\"ltr\">\n<span>Lemur makes use of the following components :</span></p>\n<ul>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Python 2.7, 3.4 with Flask API (including a number of helper packages)</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>AngularJS UI</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Postgres</span></p>\n</li>\n<li dir=\"ltr\"><p dir=\"ltr\">\n<span>Optional use of AWS Simple Email Service (SES) for email notifications</span></p>\n</li>\n</ul>\n<p dir=\"ltr\">\n<span>We&#x2019;re shipping Lemur with built-in plugins for that allow you to issue certificates from Verisign/Symantec and allow for the discovery and deployment of certificates into AWS.</span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Getting Started</span></h4>\n\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Interested in Contributing?</span></h4>\n<p dir=\"ltr\">\n<span>Feel free to reach out or submit pull requests if you have any suggestions. We&#x2019;re looking forward to seeing what new plugins you create to to make Lemur your own! We hope you&#x2019;ll find Lemur as useful as we do!</span></p>\n<b><br></b>\n<br>\n<h4 dir=\"ltr\">\n<span>Conclusion</span></h4>\n<div dir=\"ltr\">\n<span>Lemur is helping the Netflix security team manage our PKI infrastructure by empowering developers and creating a paved road to SSL/TLS enabled applications. Lemur is available on our</span><a href=\"http://netflix.github.io/#repo\"><span>GitHub</span></a><span> site now!</span></div>\n\n\n\n</div>\n\n</div>"
    }, {
        "title": "mateogianolio/sshync",
        "url": "https://github.com/mateogianolio/sshync",
        "excerpt": "Auto-sync files or directories over SSH using fs.watch(). Comes with a nifty tool sshpair that generates a public SSH key with echo -e \"y\\n\" | ssh-keygen -q -N \"\" -f ~/.ssh/id_rsa and writes the&hellip;",
        "date_saved": "Thu Jul 28 20:09:24 EDT 2016",
        "html_file": "mateogianoliosshync.html",
        "png_file": "mateogianoliosshync.png",
        "md_file": "mateogianoliosshync.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Auto-sync files or directories over SSH using <a href=\"https://nodejs.org/docs/latest/api/fs.html#fs_fs_watch_filename_options_listener\">fs.<strong>watch</strong>()</a>.</p>\n\n<p>Comes with a nifty tool <code>sshpair</code> that generates a public SSH key with</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c1\">echo</span> -e <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>y\\n<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> ssh-keygen -q -N <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span> -f <span class=\"pl-k\">~</span>/.ssh/id_rsa</pre></div>\n\n<p>and writes the result to <code>~/.ssh/authorized_keys</code> on the remote host. This prevents the password prompt from showing up every time we sync.</p>\n\n<p>Ignore paths by adding them, one per line, to a file named <code>.sshyncignore</code> in the provided <code>source</code> folder.</p>\n\n<h3><a id=\"user-content-install\" class=\"anchor\" href=\"https://github.com/mateogianolio/sshync#install\"></a>install</h3>\n\n\n\n<h3><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/mateogianolio/sshync#usage\"></a>usage</h3>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># generate a public SSH key (so we don't have to retype password)</span>\n<span class=\"pl-c\"># write to user@ip:~/.ssh/authorized_keys</span>\n\n$ sshpair <span class=\"pl-k\">&lt;</span>user@ip[:port]<span class=\"pl-k\">&gt;</span>\n\n<span class=\"pl-c\"># initialize file auto-sync</span>\n$ sshync <span class=\"pl-k\">&lt;</span>user@ip[:port]<span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">&lt;</span><span class=\"pl-c1\">source</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">&lt;</span>destination<span class=\"pl-k\">&gt;</span>\n <span class=\"pl-c1\">source</span>: <span class=\"pl-k\">local</span> <span class=\"pl-c1\">source</span> folder.\n destination: remote destination folder.</pre></div>\n\n<h3><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/mateogianolio/sshync#example\"></a>example</h3>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ git clone https://github.com/mateogianolio/sshync.git\n$ <span class=\"pl-c1\">cd</span> sshync\n$ sshpair root@xxx.xxx.82.203\ngenerated ssh key to <span class=\"pl-k\">~</span>/.ssh/id_rsa.pub\nroot@xxx.xxx.82.203<span class=\"pl-s\"><span class=\"pl-pds\">'</span>s password:</span>\n<span class=\"pl-s\">root@xxx.xxx.82.203<span class=\"pl-pds\">'</span></span>s password:\n<span class=\"pl-k\">~</span>/.ssh/id_rsa.pub =<span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">~</span>/.ssh/authorized_keys\n\n$&#xA0;<span class=\"pl-c1\">echo</span> -e <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>.git\\nnode_modules<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">&gt;</span> .sshyncignore\n$ sshync root@xxx.xxx.82.203 <span class=\"pl-c1\">.</span> /root/sshync\n<span class=\"pl-c1\">.</span> =<span class=\"pl-k\">&gt;</span> root@xxx.xxx.82.203:/root/sshync\n\nignore ./.sshyncignore\nmkdir -p /root/sshync\n[+] ./README.md =<span class=\"pl-k\">&gt;</span> /root/sshync/README.md [399 bytes]\n[+] ./package.json =<span class=\"pl-k\">&gt;</span> /root/sshync/package.json [520 bytes]\n[+] ./sshync.js =<span class=\"pl-k\">&gt;</span> /root/sshync/sshync.js [3304 bytes]\n[+] ./LICENSE.md =<span class=\"pl-k\">&gt;</span> /root/sshync/LICENSE.md [1084 bytes]\n<span class=\"pl-c\"># ... edit package.json ...</span>\n[/] ./package.json =<span class=\"pl-k\">&gt;</span> /root/sshync/package.json [524 bytes]</pre></div>\n</article>\n </div>"
    }, {
        "title": "Better logging in Nodejs using Bunyan",
        "url": "http://www.codingdefined.com/2014/12/better-logging-in-nodejs-using-bunyan.html",
        "excerpt": "In this post we will discuss about logging in Nodejs using Bunyan. You might have seen examples of nodejs in our site as well as in any other site, that everyone uses console.log to log the messages.&hellip;",
        "date_saved": "Thu Jul 28 20:09:26 EDT 2016",
        "html_file": "better_logging_in_nodejs_using_bunyan.html",
        "png_file": "better_logging_in_nodejs_using_bunyan.png",
        "md_file": "better_logging_in_nodejs_using_bunyan.md",
        "content": "<div><div class=\"post-body entry-content\" id=\"post-body-3515281718784208644\">\n<div dir=\"ltr\">\n<div class=\"separator\">\n<a href=\"http://4.bp.blogspot.com/-vJcblLR5n7g/U7Vh52-vssI/AAAAAAAAACA/M2EcY7husXc/s1600/nodejslogo.jpg\"><img border=\"0\" src=\"http://4.bp.blogspot.com/-vJcblLR5n7g/U7Vh52-vssI/AAAAAAAAACA/M2EcY7husXc/s1600/nodejslogo.jpg\" width=\"200\"></a></div>\nIn this post we will discuss about logging in Nodejs using <a href=\"https://github.com/trentm/node-bunyan/\" target=\"_blank\">Bunyan</a>. You might have seen examples of nodejs in our site as well as in any other site, that everyone uses console.log to log the messages. Thus it gives a wrong impression to the developers that this is the best way to log messages in an application.<br>\n<a name=\"more\"></a><br>\nBut, a BIGG NO to <span>console.log</span>. You must use something better than console.log when you are creating your node applications. In this post we will discuss about better logging in your node application by using Bunyan.<br>\n<br>\n<div class=\"separator\">\n<a href=\"http://4.bp.blogspot.com/-nyr2yCe1OA4/VJVAHI6FvRI/AAAAAAAAAPo/QQmXAHgaXyY/s1600/bunyan.png\"><img border=\"0\" src=\"http://4.bp.blogspot.com/-nyr2yCe1OA4/VJVAHI6FvRI/AAAAAAAAAPo/QQmXAHgaXyY/s1600/bunyan.png\" width=\"640\"></a></div>\n\nPC:&#xA0;<a href=\"https://www.npmjs.com/package/bunyan\" target=\"_blank\">https://www.npmjs.com/package/bunyan</a><br>\n<br>\nAs per <a href=\"https://github.com/trentm/node-bunyan/\" target=\"_blank\">Bunyan</a>, it is a simple and fast JSON logging library for nodejs services. They also have a Bunyan CLI tool for nicely viewing the logs.<br>\n<b><br></b>\n<b>How to Install Bunyan</b><br>\n<b><br></b>\n<span>npm install -g bunyan</span> <span>// It will get you Bunyan CLI in your Path</span><br>\n<br>\n<b>How to Use Bunyan</b><br>\n<br>\nCreate a file named example5.js whose contents will be :<br>\n<br>\n<span>var bunyan = require('bunyan');</span><br>\n<span>var log = bunyan.createLogger({name: 'myFirstBunyanExample'});</span><br>\n<span>log.info('1st Log using Bunyan');</span><br>\n<span>log.warn('It's just a warning');</span><br>\n<br>\n<b>Output Without Using CLI</b><br>\n<br>\n<div class=\"separator\">\n<a href=\"http://2.bp.blogspot.com/-ZwZNBCNDlyo/VJ-eEqnMvDI/AAAAAAAAAUg/lzZA8Sc9RHE/s1600/bsiilji.png\"><img border=\"0\" src=\"http://2.bp.blogspot.com/-ZwZNBCNDlyo/VJ-eEqnMvDI/AAAAAAAAAUg/lzZA8Sc9RHE/s1600/bsiilji.png\" width=\"640\"></a></div>\n<br>\n<b>Output With Using CLI</b><br>\n<b><br></b>\n<div class=\"separator\">\n<a href=\"http://3.bp.blogspot.com/-4JjPOq7evQA/VJ-eEjH5PhI/AAAAAAAAAUk/QSOQdNZet30/s1600/sy4zp3u.png\"><img border=\"0\" src=\"http://3.bp.blogspot.com/-4JjPOq7evQA/VJ-eEjH5PhI/AAAAAAAAAUk/QSOQdNZet30/s1600/sy4zp3u.png\" width=\"640\"></a></div>\n<br>\n<b>Log Levels</b><br>\n<br>\nAs you can see in the output level field is a number, where for Info it is 30 and for Warning it is 40. So, let see what are the different Log Levels available<br>\n<br>\n<span>Level Name : trace, Level Number : 10</span><br>\n<span>Level Name : debug, Level Number : 20</span><br>\n<span>Level Name : info, Level Number : 30</span><br>\n<span>Level Name : warn, Level Number : 40</span><br>\n<span>Level Name : error, Level Number : 50</span><br>\n<span>Level Name : fatal, Level Number : 60</span><br>\n<br>\n<b>Log Method API</b><br>\n<br>\n<span>log.info();</span> <span>// returns a boolean message to know is \"info\" level enabled</span><br>\n<span>log.info('message');</span> <span>// logs a simple message</span><br>\n<span>log.info('message %s', a, b);</span> <span>// message formatting using util.format</span><br>\n<span>log.info({a: 'b'}, 'message');</span> <span>//adds \"a\" field to log record</span><br>\n<span><br></span>\nPlease Like and Share the Blog, if you find it interesting and helpful.<br>\n\n</div>\n\n</div>\n\n</div>"
    }, {
        "title": "Resilient sub-structure for your microservice",
        "url": "http://lattice.cf/",
        "excerpt": "Run Containerized Workloads Lattice aspires to make clustering containers easy. Lattice includes a cluster scheduler, http load balancing, log aggregation and health management. Lattice containers&hellip;",
        "date_saved": "Thu Jul 28 20:09:27 EDT 2016",
        "html_file": "resilient_substructure_for_your_microservice.html",
        "png_file": "resilient_substructure_for_your_microservice.png",
        "md_file": "resilient_substructure_for_your_microservice.md",
        "content": "<div><div id=\"content\">\n <nav class=\"container\">\n \n </nav>\n\n \n\n<div class=\"bg-gradient-1\">\n <div class=\"problem-statement pbxxxl ptxxl\">\n <div class=\"container\">\n <div class=\"txt-c row\">\n <div class=\"col-md-18 col-md-offset-3\">\n <h2 class=\"mvxxl type-neutral-11 h1 em-joey title\">Run Containerized Workloads</h2>\n\n \n\n <p class=\"h1 type-neutral-11 em-low\">\n Lattice aspires to make clustering containers easy. Lattice includes a cluster scheduler, http load balancing, log aggregation and health management. Lattice containers can be long running or temporary tasks which get dynamically scaled and balanced across a cluster. Lattice packages components from Cloud Foundry to provide a cloud native platform for individual developers and small teams.</p>\n </div>\n </div>\n </div>\n </div>\n \n</div>\n\n<div class=\"featureRow animated\">\n \n\n <div class=\"featureRow-left bg-dark-1 pvxxl scheduling\">\n <div class=\"pvxxxl\">\n <div class=\"container\">\n <div class=\"row\">\n <div class=\"prxxxl col-md-12 col-sm-24\">\n <h3 class=\"mtn type-neutral-3 h2 em-joey mbn featureCount\">01</h3>\n <h2 class=\"mtn type-neutral-11 title em-joey\">Scheduling</h2>\n <p class=\"h3 type-neutral-9 em-low\">The scheduler balances the allocation of container process resources across the infrastructure. The algorithm uses a distributed auction model based on the resource availability of the hosts and the current placement of your containers.</p>\n <p class=\"h3 type-neutral-9 em-low\"><a class=\"em-default\" href=\"http://lattice.cf/docs\"><span>Documentation</span></a></p>\n </div>\n \n </div>\n </div>\n </div>\n\n \n\n </div>\n\n \n</div>\n\n<div class=\"featureRow animated\">\n \n\n <div class=\"featureRow-right bg-dark-1 pvxxl dynamic-routing\">\n <div class=\"pvxxxl\">\n <div class=\"container\">\n <div class=\"row\">\n \n\n <div class=\"plxxxl col-md-12 col-sm-24\">\n <h3 class=\"mtn type-neutral-3 h2 em-joey mbn featureCount\">02</h3>\n\n <h2 class=\"mtn type-neutral-11 title em-joey\">Dynamic Routing</h2>\n\n <p class=\"h3 type-neutral-9 em-low\">As new containers are started, routes are added for them and they begin servicing requests as soon as they are able. Failing health checks remove containers from the routing in real time. The programmable routing can also be used to shape http request traffic, to A/B test different versions of an application and to perform blue-green deployments to minimize downtime.</p>\n\n <p class=\"h3 type-neutral-9 em-low\"><a href=\"http://lattice.cf/docs/index.html\" class=\"em-default\"><span>Documentation</span></a></p>\n </div>\n </div>\n </div>\n </div>\n\n \n </div>\n \n</div>\n\n<div class=\"featureRow animated\">\n \n <div class=\"featureRow-left bg-dark-1 pvxxl self-healing\">\n <div class=\"pvxxxl\">\n <div class=\"container\">\n <div class=\"row\">\n <div class=\"prxxxl col-md-12 col-sm-24\">\n <h3 class=\"mtn type-neutral-3 h2 em-joey mbn featureCount\">03</h3>\n <h2 class=\"mtn type-neutral-11 title em-joey\">Self Healing</h2>\n <p class=\"h3 type-neutral-9 em-low\">Lattice's declarative application deployment reconciles the current desired state of the system with the actual state. Any time the number of containers allocated for an application does not match the number of running containers, Lattice attempts to correct the system.</p>\n <p class=\"h3 type-neutral-9 em-low\"><a class=\"em-default\" href=\"http://lattice.cf/docs\"><span>Documentation</span></a></p>\n </div>\n \n </div>\n </div>\n </div>\n\n \n </div>\n \n</div>\n\n<div class=\"featureRow animated\">\n \n\n <div class=\"featureRow-right bg-dark-1 pvxxl log-aggregation\">\n <div class=\"pvxxxl\">\n <div class=\"container\">\n <div class=\"row\">\n \n\n <div class=\"plxxxl col-md-12 col-sm-24\">\n <h3 class=\"mtn type-neutral-3 h2 em-joey mbn featureCount\">04</h3>\n\n <h2 class=\"mtn type-neutral-11 title em-joey\">Status Stream</h2>\n\n <p class=\"h3 type-neutral-9 em-low\">All containers get added to the logging service. The logging service streams the logs from the container processes as well as the routers and health checks for archival or real-time troubleshooting.</p>\n\n <p class=\"h3 type-neutral-9 em-low\"><a href=\"http://lattice.cf/docs\" class=\"em-default\"><span>Documentation</span></a></p>\n </div>\n </div>\n </div>\n </div>\n\n \n </div>\n \n</div>\n\n\n <div class=\"bg-dark-1\">\n <div class=\"pvxxl\">\n <div class=\"app-instances pbxxl ptxxl\">\n <div class=\"container\">\n <div class=\"txt-c row\">\n <div class=\"col-md-18 col-md-offset-3\">\n <h2 class=\"mtn mbxxl title type-neutral-11 h1 em-joey\">Modular. Flexible. Powerful</h2>\n\n \n </div>\n </div>\n </div>\n\n <div class=\"container-fluid\">\n <div class=\"txt-c row\">\n <div class=\"col-md-24\">\n <img src=\"http://lattice.cf/images/img--appInstances@2x-9589f7e6.png\" class=\"appInstances img-responsive\" alt=\"Application Instances\" title=\"Application Intances\">\n </div>\n </div>\n </div>\n </div>\n </div>\n \n </div>\n\n \n </div>\n\n </div>"
    }, {
        "title": "webXray",
        "url": "http://webxray.org/",
        "excerpt": "| | \\ \\ / / __ _____| |__ \\ V / _ __ __ _ _ _ \\ \\ /\\ / / _ \\ '_ \\ &gt; About webXray is a tool for detecting third-party HTTP requests on large numbers of web pages and matching them to the companies&hellip;",
        "date_saved": "Thu Jul 28 20:09:29 EDT 2016",
        "html_file": "webxray.html",
        "png_file": "webxray.png",
        "md_file": "webxray.md",
        "content": "<div><header>\n\t\t\t<pre>\n | | \\ \\ / / \n __ _____| |__ \\ V / _ __ __ _ _ _ \n \\ \\ /\\ / / _ \\ '_ \\ &gt; \n\t\t</pre></header>\n\t\t<article>\n\t\t\n\t\t<h2>About</h2>\n\t\t<p>webXray is a tool for detecting third-party HTTP requests on large numbers of web pages and matching them to the companies which receive user data.</p>\n\n\t\t<h2>Why</h2>\n\t\t<p>Third-party HTTP requests are the lowest-level mechanism by which user data may be surreptitiously disclosed to unknown parties on the web. This may be for perfectly benign reasons, such as an embedded a picture from another site, or it may be a form of surveillance utilizing tracking pixels, cookies, or even sophisticated fingerprinting techniques.</p>\n\n\t\t<h2>How</h2>\n\t\t<p>As a departure from existing tools, webXray facilitates the identification of the real-world entities to which requests are made by correlating domain request with the owners of domains. In other words, webXray allows you to see which companies are monitoring which pages.</p>\n\n\t\t<p>The core of webXray is a python program which ingests addresses of webpages, passes them to the headless web browser <a href=\"http://phantomjs.org\">PhantomJS</a>, and parses requests in order to determine those which go to domains which are exogenous to the primary (or first-party) domain of the site. This data is then stored in MySQL for later analysis.</p>\n\n\t\t<h2>Who</h2>\n\t\t<p>webXray was originally developed for academic research, but may be used by anybody with an interest in the hidden structures of the web, privacy, and surveillance.</p>\n\n\t\t\t<h2>Cost</h2>\n\t\t\t<p>Free!*</p>\n\t\t\t<p>(*Subject to terms of the <a href=\"https://www.gnu.org/copyleft/gpl.html\">GNU Public License</a>.)</p>\n\t\t</article>\n\t\t<article>\n\t\t\t<h2>Get the Software</h2>\n\t\t\t\n\t\t\twebXray can downloaded from <a href=\"https://github.com/timlib/webxray\">GitHub</a>.\n\t\t\t\n\t\t\t<h2>Dependencies</h2>\n\t\t\t<p>In order to use webXray the following must be installed on your system:</p>\n\n\t\t\t\n\t\n\t\t\t<p>In regards to the MySQL Python Connector, I have had the best luck with going with the \"Platform Independent\" version. Make sure you use Python3 to install it.</p>\n\n\t\t\t<h2>OS Specific Directions</h2>\n\t\t\t<h3 id=\"ubuntu\">Installing on Ubuntu 14.04</h3>\n\t\t\t<p>Ubuntu 14.04 already has Python3 installed, to make sure you have 3.4 type:</p>\n\t\t\t<p class=\"cli\">python3 --version</p>\n\t\t\t<p>...if you see 3.4 or above you are good to go!</p>\n\t\t\t<p>Next is to install PhantomJS, to do so execute this command:</p>\n\t\t\t<p class=\"cli\">apt-get install phantomjs</p>\n\t\t\t<p>...this will install PhantomJS. webXray requires 1.9 or above, to see if you have this type:</p>\n\t\t\t<p class=\"cli\">phantomjs --version</p>\n\t\t\t<p>Assuming you are going well so far it's time to install the MySQL database server. Do do so enter this command:</p>\n\t\t\t<p class=\"cli\">apt-get install mysql-server</p>\n\t\t\t<p>This will walk you through setting up MySQL. It will encourage you to enter a password, strictly speaking this is a good idea, but if you are only using the database for webXray it is likely ok to run it without a password, in which case webXray will work with no changes. However, if you <em>do</em> choose to use a password you will need to modify the file 'webxray/MySQLDriver.py' so webXray can connect.</p>\n\t\t\t<p>Now you start the MySQL server:</p>\n\t\t\t<p class=\"cli\">service mysql start</p>\n\t\t\t<p>Each time you reboot your computer you will need to start the MySQL server.</p><p>The last Ubuntu-specific step is to install git:</p>\n\t\t\t<p class=\"cli\">apt-get install git</p>\n\t\t\t<p>Great, you can now skip to <a href=\"http://webxray.org/#connector\">installing the Python MySQL Connector</a>.</p>\n\n\t\t\t<h3>Other Linux Flavors</h3>\n\t\t\t<p>Should be similar to above, if you are using another flavor you're likely able to figure it out based on the above. webXray was tested and developed primarily on CentOS and RHEL; the major pain there is installing Python 3.</p>\n\t\t\t\n\t\t\t<h3>Windows Specific Instructions</h3>\n\t\t\t<p>Get a linux cloud server (which cost <a href=\"https://www.digitalocean.com/?refcode=960359b345c2\">fractions of a cent per hour</a> these days). Ubuntu is the easiest flavor of Linux to get started with and the directions above will serve you well. Seriously, this is your best option. You can do it. I'm both confident in your abilities and proud of you for taking this important step in life.</p>\n\t\t\t\n\t\t\t<h3 id=\"mac\">Mac OSX Specific Directions</h3>\n\t\t\t<p>Unlike Windows, Mac OSX is UNIX-based, this means you can run webXray pretty easily.</p>\n\t\t\t<p>First you need to install Homebrew which will manage the rest of your installation steps. You can get Homebrew <a href=\"http://brew.sh\">here</a>, it may take a little bit to get set up. We'll be patient while you do that.</p>\n\t\t\t<p>OK, the following assumes Homebrew is installed on your system. Using the terminal (if you have installed Homebrew this is where you are already), you will now install Python3:</p>\n\t\t\t<p class=\"cli\">brew install python3</p>\n\t\t\t<p>To make sure you have the right version of Python installed type:</p>\n\t\t\t<p class=\"cli\">python3 --version</p>\n\t\t\t<p>...if you see 3.4 or above you are good to go!</p>\n\t\t\t<p>Next is to install PhantomJS, to do so execute this command:</p>\n\t\t\t<p class=\"cli\">brew install phantomjs</p>\n\t\t\t<p>...this will install PhantomJS. webXray requires 1.9 or above, to see if you have this type:</p>\n\t\t\t<p class=\"cli\">phantomjs --version</p>\n\t\t\t<p>Assuming you are going well so far it's time to install the MySQL database server. Do do so enter this command:</p>\n\t\t\t<p class=\"cli\">brew install mysql</p>\n\t\t\t<p>This will walk you through setting up MySQL. It will encourage you to enter a password, strictly speaking this is a good idea, but if you are only using the database for webXray it is likely ok to run it without a password, in which case webXray will work with no changes. However, if you <em>do</em> choose to use a password you will need to modify the file 'webxray/MySQLDriver.py' so webXray can connect.</p>\n\t\t\t<p>Now you start the MySQL server:</p>\n\t\t\t<p class=\"cli\">mysql.server start</p>\n\t\t\t<p>Each time you reboot your computer you will need to start the MySQL server.</p><p>The last Mac specific step is to install wget, a program that allows you to download resources from the web. To do so type:</p>\n\t\t\t<p class=\"cli\">brew install wget</p>\n\t\t\t<p>Great, you can now continue to <a href=\"http://webxray.org/#connector\">installing the Python MySQL Connector</a>.</p>\n\t\t\t\n\t\t\t<h3 id=\"connector\">Installing Python MySQL Connector</h3>\n\t\t\t<p>OK, here is the part that is a pain in the ass: installing the Python MySQL Connector. To do so first download it using this command:</p>\n\t\t\t<p class=\"cli\">wget https://dev.mysql.com/get/Downloads/Connector-Python/mysql-connector-python-2.0.4.tar.gz</p>\n\t\t\t<p>Next, you need to extract the archive:</p>\n\t\t\t<p class=\"cli\">tar -xvf mysql-connector-python-2.0.4.tar.gz</p>\n\t\t\t<p>Next, go to the directory:</p>\n\t\t\t<p class=\"cli\">cd mysql-connector-python-2.0.4/</p>\n\t\t\t<p>...and run the installer:</p>\n\t\t\t<p class=\"cli\">python3 setup.py install</p>\n\t\t\t<p>...the go back to the last directory:</p>\n\t\t\t<p class=\"cli\">cd ..</p>\n\t\t\t<p>Continue below to...</p>\n\t\t\t\n\t\t\t<h3>Install webXray!</h3>\n\t\t\t<p>The last step is to get webXray from GitHub!</p>\n\t\t\t<p class=\"cli\">git clone https://github.com/timlib/webXray.git</p>\n\t\t\t<p>Now webXray is ready to go! To use it type:</p>\n\t\t\t<p class=\"cli\">cd webXray</p>\n\t\t\t<p class=\"cli\">python3 run_webxray.py -i</p>\n\t\t\t<p>This is the interactive mode and will guide you to scanning the top 1,000 Alexa websites.</p>\n\t</article>\n\t<article>\n\t\t\t<h2>Using webXray to Analyze Your Own List of Pages</h2>\n\t\t\t<p>The entire point of webXray is to allow you to analyze pages of your choosing. In order to do so, first place all of the page addresses you wish to scan into a text file and place this file in the \"page_lists\" directory. Make sure your addresses start with \"http\", if not, webXray will not recognize them as valid addresses. Once you have placed your page list in the proper directory you may run webXray in interactive mode and it will allow you to select your page list. Easy-peasy.\n\n\t\t\t</p><h2>Viewing Reports</h2>\n\t\t\t<p>Use the interactive mode to guide you to generating an analysis. When it is completed it will be output to the '/reports' directory. This will contain a number of csv files; they are:</p>\n\t\t\t<ul>\n\t\t\t\t<li>db_summary: a basic report of how many pages loaded, how many errors, basic stats</li>\n\t\t\t\t<li>summary_by_tld: gives more stats on how many domains are contacted, cookies, javascript, etc.</li>\n\t\t\t\t<li>domains-by-tld: the most frequently contacted domains, by tld</li>\n\t\t\t\t<li>elements-by-tld: most frequent elements, any type</li>\n\t\t\t\t<li>elements-by-tld-image: most frequent elements, images</li>\n\t\t\t\t<li>elements-by-tld-javascript:\tmost frequent elements, javascript</li>\n\t\t\t\t<li>orgs-by-tld: this is the most interesting bit, shows all the top companies who own the domains which are being contacted - relies on the data in webxray/resources/org_domains/org_domains.json which was compiled manually and should be expanded.</li>\n\t\t\t\t<li>network: pairings between page domains and tracker domains, you can import this info to data viz software to do cool stuff - this is something worth heavy tweaking if it's of particular interest to you!</li>\n\t\t\t</ul>\n\t\t\t\n\t\t\t<h2>Important Note on Speed</h2>\n\t\t\t<p>webXray can analyze many pages in parallell and has achieved speeds up to 30,000 pages per hour. However, out-of-the-box webXray is configured to only scan four pages in parallell. If you think your system can handle more (and chances are it can!), open the 'run_webxray.py' file and search for the string 'pool_size' - when you find that there are instructions on how to increase the numbers of pages you can do concurrently. The bigger you can make pool_size, the faster you will go.</p>\n\t\t</article>\n\n\t\t<article>\n\t\t\t<h2>Publications</h2>\n\t\t\t\n\t\t\t<h2>Privacy Implication of Health Information Seeking on the Web</h2>\n\t\t\t<p>Communications of the ACM, <em>March, 2015</em>.\n\t\t\t\n\t\t\t</p><h2>Add Your Own!</h2>\n\t\t\t<p>If you have used webXray for your own research, please let us know and we will add you to this section.</p>\n\t\t</article>\n\t\t<article>\n\t\t\t<h2>Transparency</h2>\n\n\t\t\t<h2>Tracking</h2>\n\t\t\t<p>In order to give the webmaster an idea of how much traffic this site is getting, the open-source, locally-hosted analytics software <a href=\"https://piwik\">piwik</a> is used. If you like, you may opt-out of piwik on this site. Collected data is minimized to the extent piwik allowed, and is purged regularly.</p>\n\n\t\t</article>\n\t\t</div>"
    }, {
        "title": "/\u02c8Tr\u00e6f\u026ak/ \u00b7 /\u02c8Tr\u00e6f\u026ak/",
        "url": "http://traefik.github.io/",
        "excerpt": "What Tr&#xE6;f&#x26A;k is a modern HTTP reverse proxy and load balancer made to deploy microservices with ease. It supports several backends (Docker, Mesos/Marathon, Consul, Etcd, Rest API,&hellip;",
        "date_saved": "Thu Jul 28 20:09:30 EDT 2016",
        "html_file": "u02c8tru00e6fu026ak_u00b7_u02c8tru00e6fu026ak.html",
        "png_file": "u02c8tru00e6fu026ak_u00b7_u02c8tru00e6fu026ak.png",
        "md_file": "u02c8tru00e6fu026ak_u00b7_u02c8tru00e6fu026ak.md",
        "content": "<div><main class=\"content\">\n \n \n \n <div class=\"post-holder\">\n\n<article class=\"post first\">\n\n\n \n <h2 class=\"post-title\">What</h2>\n\n <section class=\"post-content\">\n <p>Tr&#xE6;f&#x26A;k is a modern HTTP reverse proxy and load balancer made to deploy microservices with ease.\nIt supports several backends (Docker, Mesos/Marathon, Consul, Etcd, Rest API, file&#x2026;) to manage its configuration automatically and dynamically.</p>\n\n </section>\n\n</article>\n</div>\n\n\n \n \n \n <p class=\"post-holder\">\n\n<article class=\"post\">\n\n\n \n <h2 class=\"post-title\">Features</h2>\n\n <section class=\"post-content\">\n <ul>\n<li>No dependency hell, single binary made with go</li>\n<li>Simple json Rest API</li>\n<li>Simple TOML file configuration</li>\n<li>Multiple backends supported: Docker, Mesos/Marathon, Consul, Etcd, and more to come</li>\n<li>Watchers for backends, can listen change in backends to apply a new configuration automatically</li>\n<li>Hot-reloading of configuration. No need to restart the process</li>\n<li>Graceful shutdown http connections during hot-reloads</li>\n<li>Circuit breakers on backends</li>\n<li>Round Robin, rebalancer load-balancers</li>\n<li>Rest Metrics</li>\n<li>Tiny docker image included</li>\n<li>SSL backends support</li>\n<li>SSL frontend support</li>\n<li>WebUI</li>\n</ul>\n\n </section>\n\n</article>\n</p>\n\n\n \n \n \n <div class=\"post-holder\">\n\n<article class=\"post last\">\n\n\n \n <h2 class=\"post-title\">Get it</h2>\n\n <section class=\"post-content\">\n \n\n<pre><code>./traefik traefik.toml\n</code></pre>\n\n<ul>\n<li>Use the tiny Docker image:</li>\n</ul>\n\n<pre><code>docker run -d -p 8080:8080 -p 80:80 -v $PWD/traefik.toml:/traefik.toml emilevauge/traefik\n</code></pre>\n\n\n\n<pre><code>git clone https://github.com/EmileVauge/traefik\n</code></pre>\n\n<p>You can find the complete documentation <a href=\"https://github.com/EmileVauge/traefik/blob/master/docs/index.md\">here</a>.</p>\n\n<p><a href=\"https://circleci.com/gh/EmileVauge/traefik\"><img src=\"https://img.shields.io/circleci/project/EmileVauge/traefik.svg\" alt=\"Circle CI\"></a></p>\n\n<p><a href=\"https://github.com/EmileVauge/traefik\"><img src=\"https://img.shields.io/github/forks/EmileVauge/traefik.svg\" alt=\"Forks\"></a></p>\n\n<p><a href=\"https://github.com/EmileVauge/traefik\"><img src=\"https://img.shields.io/github/stars/EmileVauge/traefik.svg\" alt=\"Stars\"></a></p>\n\n<p><a href=\"https://github.com/EmileVauge/traefik/blob/master/LICENSE.md\"><img src=\"https://img.shields.io/badge/license-MIT-blue.svg\" alt=\"License\"></a></p>\n\n </section>\n\n</article>\n</div>\n\n\n \n \n\n</main>\n \n\n\n \n \n \n\n\n\n</div>"
    }, {
        "title": "Checkpoint and restore Docker container with CRIU",
        "url": "http://blog.circleci.com/checkpoint-and-restore-docker-container-with-criu/",
        "excerpt": "TL;DR: Simple demo of Docker checkpoint &amp; restore Start a container $ export cid=$(docker run -d busybox tail -f /dev/null) Checkpoint the container $ docker checkpoint $cid 7cc692f22c11&hellip;",
        "date_saved": "Thu Jul 28 20:09:32 EDT 2016",
        "html_file": "checkpoint_and_restore_docker_container_with_criu.html",
        "png_file": "checkpoint_and_restore_docker_container_with_criu.png",
        "md_file": "checkpoint_and_restore_docker_container_with_criu.md",
        "content": "<div><section id=\"main-content\" class=\"left\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t\t<h2>TL;DR: Simple demo of Docker checkpoint &amp; restore</h2>\n<h2>Start a container</h2>\n<p><code>$ export cid=$(docker run -d busybox tail -f /dev/null)</code></p>\n<h2>Checkpoint the container</h2>\n<p><code>$ docker checkpoint $cid<br>\n7cc692f22c11</code></p>\n<h2>It&#x2019;s not running anymore</h2>\n<p><code>$ docker ps --quiet<br>\nNo containers shown here</code></p>\n<h2>Restore the container</h2>\n<p><code>$ docker restore $cid<br>\n7cc692f22c11</code></p>\n<h2>It&#x2019;s running again!!</h2>\n<p><code>$ docker ps --quiet<br>\n7cc692f22c11</code></p>\n<h2>What is CR and CRIU?</h2>\n<p>CR (checkpoint and restart) is a technology that saves the memory state of process into files and resume the processes from the saved state. <a href=\"https://github.com/xemul/criu\">CRIU</a> is a tool originally developed to CR LXC containers.</p>\n<p>Since Docker can run LXC containers, we should be able to CR Docker containers by using CRIU, right? I&#x2019;ve experimented this before and wrote <a href=\"http://localhost:4000/blog/en/criu/experiment-to-suspend-and-resume-docker-container-with-criu/\">this post</a>. Unfortunately, the experiment didn&#x2019;t succeed because CRIU didn&#x2019;t support Docker very well at that moment.</p>\n<p>More than a year has passed since then and CRIU team made a lot of effort to support Docker.</p>\n<p>In this post, I will show you how Docker checkpoint/restore works with CRIU and why I&#x2019;m excited about it with use cases.</p>\n<h2>CRIU Vagrant box</h2>\n<p>CR Docker by using CRIU is still under the experiment, so you need to build Docker with experimental feature enabled. Also, it&#x2019;s not fully merged into Docker, so you need to use a fork of Docker that one of developers in CRIU team created. In addition to that, you also need to compile Kernel with special kernel modules enabled.</p>\n<p>It&#x2019;s not very fun to do all these things, but don&#x2019;t worry! I&#x2019;ve created a Vagrant box with all these things done and uploaded for you! You just need to download the box and run on your local machine.</p>\n<h2>Spin up Vagrant box</h2>\n<p>Assuming that the name of VM is <strong>vg-1</strong>, run the following commands.</p>\n<p><code>vagrant box add https://atlas.hashicorp.com/kimh/boxes/criu<br>\nmkdir &lt;path to vg-1&gt;<br>\ncd &lt;path to vg-1&gt;<br>\nvagrant init kimh/criu<br>\nvagrant up<br>\nvagrant ssh</code></p>\n<p>That&#x2019;s all you have to do to try CRIU!</p>\n<h2>docker restore/checkpoint commands</h2>\n<p>Docker running on <strong>vg-1</strong> is enabled experimental features and has two commands you&#x2019;ve never seen before.</p>\n<p><code>$ docker checkpoint --help</code></p>\n<p>Usage: docker checkpoint [OPTIONS] CONTAINER [CONTAINER...]</p>\n<p>Checkpoint one or more running containers<br>\n....</p>\n<p><code>$ docker restore --help</code></p>\n<p>Usage: docker restore [OPTIONS] CONTAINER [CONTAINER...]</p>\n<p>Restore one or more checkpointed containers<br>\n....</p>\n<p>These <code>checkpoint</code> and <code>restore</code> commands use the CRIU executable which I compiled and installed on the vagrant box.</p>\n<p><code>$ criu --help</code></p>\n<p>Usage:<br>\n criu dump|pre-dump -t PID [<options>]<br>\n criu restore [<options>]<br>\n criu check [--ms]<br>\n criu exec -p PID <syscall-string><br>\n criu page-server<br>\n criu service [<options>]<br>\n criu dedup</options></syscall-string></options></options></p>\n<p>....</p>\n<p>Here&#x2019;s a very simple example of how to CR a Docker container.</p>\n<h2>Starting a container</h2>\n<p><code>docker run \\<br>\n --name np \\<br>\n --rm \\<br>\n busybox:latest \\<br>\n /bin/sh -c \\<br>\n 'i=0; while true; do echo $i; i=$(expr $i + 1); sleep 1; done'</code></p>\n<p>This command download busybox image andruns a number-printer container which keeps printing incremental numbers.</p>\n<h2>Checkpointing a container</h2>\n<p>Now, let&#x2019;s checkpoint this container. You can do this with <code>docker checkpoint</code> command. Because the number-printer container is running in the foreground, do this from other terminal.</p>\n<p><code>docker checkpoint np</code></p>\n<p>Once you checkpoint the container, you will see that it stops printing numbers. <code>docker ps</code> command doesn&#x2019;t show the container anymore.</p>\n<h2>Restoring a container</h2>\n<p>Let&#x2019;s restore the number-printing container with <code>docker restore</code> command.</p>\n<p><code>docker restore np</code></p>\n<p>If restoring succeeded, the number-printing container again starts printing numbers. It&#x2019;s also back in the result of <code>docker ps</code>. We succeeded in checkpointing and restoring the container!</p>\n<h2>Pause/Unpause VS Checkpoint/Restore</h2>\n<p>You may say, <i>&#x201C;Wait, you can already do this with docker pause/unpause commands&#x201D;.</i></p>\n<p>That&#x2019;s right and you don&#x2019;t see a behavior difference between pause/unpause and checkpoint/restore in the previous example. Both commands stop a job of container in the middle and resume later.</p>\n<p>The difference is while checkpoint/restart saves the memory state of containers into a disk while pause/unpause doesn&#x2019;t.</p>\n<p>You can think of pause/unpause as sending SIGSTOP and SIGCONT to UNIX process. You can run a process in foreground and hitting Ctrl+z will stop the process. You can also restore the process with <code>fg job-id</code>. Pause/unpause commands do the similar thing to running containers.</p>\n<p>Checkpoint/restore does more complicated things. It dumps the memory state of running containers into the disk and restore the containers by reading the memory dump.</p>\n<p>Because checkpoint/restore saves the state of containers into the disk, we can do more interesting things that we cannot do with pause/unpase. We will see these interesting use cases in the next section.</p>\n<h2>Use cases</h2>\n<p>Here are some use cases of CR Docker containers.</p>\n<h2>(1) Resuming long-running containers</h2>\n<p>You sometimes want to run tasks that take very long time. For example, if you run a program that calculates digits of Pi on a Docker container, the container need to be long-running to calculate trillion digits.</p>\n<p>But what if you accidentally shutdown your host machine? This will shutdown the Pi container and you will lose trillion digits that the container has calculated.</p>\n<p>CRIU is a great tool to solve this problem. You can periodically checkpoint the container and be prepared for the accident. If the accident happens, you just need to restore the container and resume the calculation in the middle.</p>\n<h2>(2) Speeding up slow-start containers</h2>\n<p>There are applications that take very long time to start. You can speed up such containers by checkpointing the containers after slow applications started.</p>\n<p>Here is an example that demonstrates this use case. Let&#x2019;s assume that redis is super slow to start (This is completely not true in reality!!).</p>\n<p>We just start a redis container as usual.</p>\n<p><code>cid=$(docker run -d redis)</code></p>\n<p>Because redis is slow to start in the world of this blog, we need to wait for 20 secs before redis is ready to accept connections. After wating 20 secs, we checkpoint the container.</p>\n<p><code>docker checkpoint --image-dir=/tmp/redis $cid</code></p>\n<p>We need to restore the redis container into a new container so that you can start multiple containers from the saved container. To do this, you need to use <strong>&#x2013;force=true</strong> and pass a new container id.</p>\n<p><code>docker create --name=redis-0 redis<br>\ndocker restore --force=true --image-dir=/tmp/redis redis-0</code></p>\n<p>The started container is immediately ready to accept the connection without waiting 20 secs.</p>\n<p>The cool thing is that you can repeat the same process to start multiple containers very fast.</p>\n<p><code>for i in 1 2 3 4 5; do<br>\n docker create --name=redis-$i redis<br>\n docker restore --force=true --image-dir=/tmp/redis redis-$i<br>\ndone</code></p>\n<p>The above example theoretically takes 100 secs (20 sec x 5) to finish without CR. With CR, the five containers start in the blink of an eye.</p>\n<h2>(3) Container migration</h2>\n<p>You can do the Docker container migration with CRIU.</p>\n<p>To see how this works, you need to run two vagrant VMs. You should be already running <strong>vg-1</strong>, so you need to run one more VM <strong>vg-2</strong>.</p>\n<p><code># Create vg-2<br>\nmkdir &lt;path to vg-2&gt;<br>\ncd &lt;path to vg-2&gt;<br>\nvagrant init kimh/criu<br>\nvagrant up</code></p>\n<p>Once <strong>vg-2</strong> is up, run the following command to run a container. This is needed because of a bug in CRIU. Otherwise, the following exmaples don&#x2019;t work. So, please don&#x2019;t forget to do this.</p>\n<p><code>vagrant ssh -- 'docker run --name=foo -d busybox tail -f /dev/null &amp;&amp; docker rm -f foo'</code></p>\n<p>You are now running two vagrant VMs <strong>vg-1</strong> and <strong>vg-2</strong>. Run a number-printer container on <strong>vg-1</strong>.</p>\n<p><code>docker run \\<br>\n -d \\<br>\n --name np busybox:latest \\<br>\n /bin/sh -c \\<br>\n 'i=0; while true; do echo $i; i=$(expr $i + 1); sleep 1; done'</code></p>\n<p>You can see that the number-printer container is keep printing numbers.</p>\n<p><code>$ docker logs -f np<br>\n1<br>\n2<br>\n3<br>\n4<br>\n5<br>\n....</code></p>\n<p>Now let&#x2019;s migrate the container to <strong>vg-2</strong>. I made a <a href=\"https://gist.github.com/kimh/79f7bcb195466acea39a\">helper shell script</a> to do this, so you need to download it to your local machine.</p>\n<p><code>curl -L -o docker-migrate.sh https://gist.githubusercontent.com/kimh/79f7bcb195466acea39a/raw/ca0965d90c850dcbe54654a6002678fff333d408/docker-migrate.sh<br>\nchmod +x docker-migrate.sh</code></p>\n<p>You need to pass three arguments to use the script.</p>\n<p>The first argument is the name of the container to migrate. In our case, it&#x2019;s <strong>np</strong>.</p>\n<p>The second and third arguments are path to vagrant directories that you migrate from and to.</p>\n<p><code>docker-migrate.sh np &lt;path to vg-1&gt; &lt;path to vg-2&gt;</code></p>\n<p>Ex. /tmp/docker-migrate.sh np /Users/kimh/vagrant/vg1 /Users/kimh/vagrant/vg2</p>\n<p>Once the script successfully finished, you can go to <strong>vg-2</strong> and check with <code>docker logs -f np</code> command. You should see that the number-printing container resumes printing numbers from the place that it&#x2019;s paused on vg-1.</p>\n<p><a href=\"http://blog.circleci.com/wp-content/uploads/2015/09/Migration_Succeeded.jpg\"><img src=\"http://blog.circleci.com/wp-content/uploads/2015/09/Migration_Succeeded-1024x319.jpg\" alt=\"Migration_Succeeded\" width=\"640\" class=\"alignleft size-large wp-image-412\"></a><br>\nThe migration succeeded!</p>\n<h2>Wrapping up</h2>\n<p>We&#x2019;ve seen how to CR Docker container with CRIU and some use cases. I hope people will come up more interesting use cases and develop tools that takes the advantages of CR.</p>\n<p>Here are useful resources to learn more about CR Docker with CRIU.</p>\n<p><a href=\"http://criu.org/Docker\">Main website of CRIU</a><br>\n<a href=\"https://github.com/boucher/docker/blob/cr-combined/experimental/checkpoint_restore.md\">Docker fork with CRIU support</a><br>\n<a href=\"http://blog.kubernetes.io/2015/07/how-did-quake-demo-from-dockercon-work.html\">Kubernetes blog about CRIU</a></p>\n<p class=\"special-message\">Need fast, easy-to-setup Continuous Integration? Try <a href=\"https://circleci.com\">Circle</a> and set up your CI server in 20 seconds!</p><div class=\"addtoany_share_save_container addtoany_content_bottom\"><div class=\"a2a_kit addtoany_list a2a_target\" id=\"wpa2a_1\"><a class=\"a2a_button_twitter\" href=\"http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fblog.circleci.com%2Fcheckpoint-and-restore-docker-container-with-criu%2F&amp;linkname=Checkpoint%20and%20restore%20Docker%20container%20with%20CRIU\" title=\"Twitter\" rel=\"nofollow\" target=\"_blank\"><img src=\"http://blog.circleci.com/wp-content/plugins/add-to-any/icons/twitter.png\" width=\"16\" alt=\"Twitter\"></a><a class=\"a2a_button_facebook\" href=\"http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fblog.circleci.com%2Fcheckpoint-and-restore-docker-container-with-criu%2F&amp;linkname=Checkpoint%20and%20restore%20Docker%20container%20with%20CRIU\" title=\"Facebook\" rel=\"nofollow\" target=\"_blank\"><img src=\"http://blog.circleci.com/wp-content/plugins/add-to-any/icons/facebook.png\" width=\"16\" alt=\"Facebook\"></a><a class=\"a2a_button_google_plus\" href=\"http://www.addtoany.com/add_to/google_plus?linkurl=http%3A%2F%2Fblog.circleci.com%2Fcheckpoint-and-restore-docker-container-with-criu%2F&amp;linkname=Checkpoint%20and%20restore%20Docker%20container%20with%20CRIU\" title=\"Google+\" rel=\"nofollow\" target=\"_blank\"><img src=\"http://blog.circleci.com/wp-content/plugins/add-to-any/icons/google_plus.png\" width=\"16\" alt=\"Google+\"></a><a class=\"a2a_button_reddit\" href=\"http://www.addtoany.com/add_to/reddit?linkurl=http%3A%2F%2Fblog.circleci.com%2Fcheckpoint-and-restore-docker-container-with-criu%2F&amp;linkname=Checkpoint%20and%20restore%20Docker%20container%20with%20CRIU\" title=\"Reddit\" rel=\"nofollow\" target=\"_blank\"><img src=\"http://blog.circleci.com/wp-content/plugins/add-to-any/icons/reddit.png\" width=\"16\" alt=\"Reddit\"></a>\n\n</div></div>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</section>\n\t\n\t\t\t\t\n\t</div>"
    }, {
        "title": "Google Project Hosting",
        "url": "https://code.google.com/p/pyrit/wiki/Tutorial",
        "excerpt": "IntroductionThis document will guide you through your first steps with Pyrit. Before continuing, you should have Pyrit installed and working. See the Installation-Wiki for details. You will also need&hellip;",
        "date_saved": "Thu Jul 28 20:09:35 EDT 2016",
        "html_file": "google_project_hosting.html",
        "png_file": "google_project_hosting.png",
        "md_file": "google_project_hosting.md",
        "content": "<div><div class=\"vt\" id=\"wikimaincol\">\n <h2><a name=\"Introduction\"></a>Introduction<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Introduction\" class=\"section_anchor\"></a></h2><p>This document will guide you through your first steps with Pyrit. <strong>Before continuing, you should have Pyrit installed and working.</strong> See the <a href=\"https://code.google.com/p/pyrit/wiki/Installation\">Installation</a>-Wiki for details. You will also need to have <a href=\"http://www.secdev.org/projects/scapy/\" rel=\"nofollow\">Scapy</a> installed, which should come with your distribution or may be installed from source. Pyrit can use <a href=\"http://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a> to access various kinds of SQL-databases and you'll need to have it installed if you want to try that feature as explained below. </p><p>You should also take a look at the <a href=\"https://code.google.com/p/pyrit/wiki/ReferenceManual\">manual</a> when new commands get introduced below; more information and details about the features a command provides are given there. </p><p>Throughout this tutorial we will refer to files and examples that are distributed together with Pyrit's source-code. Therefore the first step is to get yourself a copy of <a href=\"http://pyrit.googlecode.com/files/pyrit-0.3.0.tar.gz\" rel=\"nofollow\">the source-code tarball</a>, unpack it and switch to the /test-directory: </p><pre class=\"prettyprint\">wget http://pyrit.googlecode.com/files/pyrit-0.3.0.tar.gz\ntar xvzf pyrit-0.3.0.tar.gz\ncd pyrit-0.3.0/test</pre><p>You should find three files within this directory that will be of interest for us: </p><ul><li><i>dict.gz</i> is a gzip-compressed wordlist </li><li><i>wpa2psk-linksys.dump.gz</i> is a gzip-compressed dump of a WPA2-PSK handshake </li><li><i>wpapsk-linksys.dump.gz</i> is a gzip-compressed dump a WPA-PSK handshake </li></ul><h2><a name=\"First_steps_with_capture-files_and_wordlists\"></a>First steps with capture-files and wordlists<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#First_steps_with_capture-files_and_wordlists\" class=\"section_anchor\"></a></h2><p>Pyrit can understand packet capture files in pcap-format. These files basically contain what was captured from the air. Our first meaningful step in this tutorial is to let Pyrit analyze one of the capture files and give us some information about the content. </p><h2><a name=\"Analyzing_a_capture_file\"></a>Analyzing a capture file<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Analyzing_a_capture_file\" class=\"section_anchor\"></a></h2><p>Issue to following command to analyze the file <i>wpapsk-linksys.dump.gz</i>: </p><pre class=\"prettyprint\">pyrit -r wpapsk-linksys.dump.gz analyze</pre><p> Pyrit should answer with output very similar like the following: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nParsing file 'wpapsk-linksys.dump.gz' (1/1)...\n587 packets (587 802.11-packets), 1 APs\n\n#1: AccessPoint 00:0b:86:c2:a4:85 ('linksys')\n #0: Station 00:13:ce:55:98:ef, handshake found\n #1: Station 01:00:5e:7f:ff:fa\n #2: Station 01:00:5e:00:00:16</pre><p>Pyrit has successfuly parsed the capture file and found one AccessPoint with BSSID <i>00:0b:86:c2:a4:85</i> and ESSID <i>'linksys'</i> and three Stations communicating with that AccessPoint. The key-negotiation (known as the fourway-handshake) between the Station with MAC <i>00:13:ce:55:98:ef</i> and the AccessPoint has also been recorded in the capture file. We can use the data from this handshake to guess that password that is used to protect the network. </p><p><strong>Please note</strong> that Pyrit can transparently read/write gzip-compressed files; this becomes very handy when dealing with large wordlists or cowpatty-files that may take hundrets of megabytes. </p><h2><a name=\"Attacking_a_handshake_and_revealing_the_password\"></a>Attacking a handshake and revealing the password<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Attacking_a_handshake_and_revealing_the_password\" class=\"section_anchor\"></a></h2><p>We now use the example wordlist <i>dict.gz</i> and let Pyrit guess the password that was used in the key-negotiation between AccessPoint <i>00:0b:86:c2:a4:85</i> and Station <i>00:13:ce:55:98:ef</i>. The correct password should get detected, if it is part of the list. In our terms, this is known as a \"passthrough-attack\". Issue the following command: </p><pre class=\"prettyprint\">pyrit -r wpapsk-linksys.dump.gz -i dict.gz -b 00:0b:86:c2:a4:85 attack_passthrough</pre><p>This tells Pyrit to take the capture-file <i>wpapsk-linksys.dump.gz</i> and attack the key-negotiation with AccessPoint <i>00:0b:86:c2:a4:85</i> using the dictionary-file <i>dict.gz</i>. </p><p><strong>Please note</strong> that you do not always have to tell Pyrit which AccessPoint to choose from the capture-file - Pyrit will usually be able to figure that out by itself. </p><p>You should get a response very similar to the following: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nParsing file 'wpapsk-linksys.dump.gz' (1/1)...\n587 packets (587 802.11-packets), 1 APs\n\nTried 4091 PMKs so far; 935 PMKs per second.\n\nThe password is 'dictionary'.</pre><p>We've successfully revealed that the password used to protect the network <i>00:0b:86:c2:a4:85</i> is <i>\"dictionary\"</i>... </p><h2><a name=\"Interlude:_Stripping_a_capture-file_from_unnecessary_cruft\"></a>Interlude: Stripping a capture-file from unnecessary cruft<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Interlude:_Stripping_a_capture-file_from_unnecessary_cruft\" class=\"section_anchor\"></a></h2><p>Capture-files are usually simple dumps of the traffic captured directly from the air. For our purpose, we are only interested in a very tiny fraction of the traffic between AccessPoint and Station. Pyrit can help reducing the size of a packet-capture file by analyzing the traffic and throwing away all packets that are of no use for us. We end up with a new, very small capture file that still holds all valuable information and is useable with other tools like <i>Wireshark</i>. </p><p><strong>Please note</strong> that stripping a capture file is not necessary. It's sole purpose is to make life a little easier when it comes to large capture files. </p><p>Our original example has 587 packets and a size of roughly 13kb. Issue the following command: </p><pre class=\"prettyprint\">pyrit -r wpapsk-linksys.dump.gz -o wpapsk-linksys_stripped.dump.gz strip</pre><p>You should get a response like the following: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nParsing file 'wpapsk-linksys.dump.gz' (1/1)...\n587 packets (587 802.11-packets), 1 APs\n\n#1: AccessPoint 00:0b:86:c2:a4:85 ('linksys')\n #0: Station 00:13:ce:55:98:ef (1 authentications)\n\nNew pcap-file 'wpapsk-linksys_stripped.dump.gz' written (4 out of 587 packets)</pre><p>The new capture file <i>wpapsk-linksys_stripped.dump.gz</i> has a size of only a few hundred bytes and contains only three from the key-negotiation (used to attack the password) and one beacon-frame (used to detect the network's ESSID). </p><h2><a name=\"Working_with_Pyrit's_database\"></a>Working with Pyrit's database<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Working_with_Pyrit's_database\" class=\"section_anchor\"></a></h2><p>As you may already know, guessing the password used in a WPA(2)-PSK key-negotiation is a computational-intensive task. During this process, more than 99.9% of the CPU-cycles have to be spent to compute what is known as the <i>Pairwise Master Key</i>, a 256-bit key derived from the ESSID and a password using the PBKDF2-HMAC-SHA1-algorithm. One of the major weaknesses of WPA(2)-PSK is that the <i>Pairwise Master Key</i> has no elements that are unique to the moment of the key-negotiation between AccessPoint and Station. It is therefor possible to pre-compute the <i>Pairwise Master Key</i> and store it for later use. In the moment of attacking a key-negotiation, we are left with the remaining 0.1% of what depends on session-unique data. It is therefore extremely valueable for an attacker to pre-compute large tables of <i>Pairwise Master Keys</i> for common ESSIDs. </p><p>This is where Pyrit's database kicks in. It can store ESSIDs, passwords and their corresponding <i>Pairwise Master Keys</i>, possibly growing to the size of hundrets of millions of entries. Starting with a fresh installation of Pyrit, your database will most probably be empty. Issue the following command to get an overview: </p><pre class=\"prettyprint\">pyrit eval</pre><p>Pyrit should respond like this: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nPasswords available: 0</pre><p>Nothing fancy to see here, yet. </p><p><strong>Please note</strong> the default filesystem-based storage <i>'file://'</i>. We'll come to SQL-databases later on. </p><h2><a name=\"Populating_and_batch-processing_the_database\"></a>Populating and batch-processing the database<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Populating_and_batch-processing_the_database\" class=\"section_anchor\"></a></h2><p>In order to make the database usefull, we'll populate it with passwords from a wordlist. Issue the following command: </p><pre class=\"prettyprint\">pyrit -i dict.gz import_passwords</pre><p>Pyrit will read the file <i>'dict.gz'</i> and store the wordlist in it's internal database format. You should get a response like the following: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\n10202 lines read. Flushing buffers... \nAll done.</pre><p><strong>Please note</strong> that you can add more passwords to the database later on; the command <i>'import_passwords'</i> ensures that duplicates within the wordlist or between the wordlist and the database are tossed out and not stored again. For now, run the <i>'eval'</i>-command again to see how the database has been populated with passwords from <i>'dict.gz'</i>. You should get output similar to this: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nPasswords available: 4078</pre><p>You'll notice that Pyrit has only stored 4,078 out of the 10,202 passwords from the file. Pyrit has automatically filtered passwords that are not suitable for WPA(2)-PSK and also sorted out duplicates. Now that we have some passwords in the database, we have to create an ESSID. Issue the following command: </p><pre class=\"prettyprint\">pyrit -e linksys create_essid</pre><p>... and you'll get an output like this: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nCreated ESSID 'linksys'</pre><p>Run the <i>'eval'</i>-command again and you'll see that ESSID <i>'linksys'</i> has been created in the database: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nPasswords available: 4078\n\nESSID 'linksys' : 0 (0.00%)</pre><p>The database now contains enough information to start batch-processing it. Pyrit will take all (ESSID:password)-combinations, compute the corresponding <i>Pairwise master Keys</i> and store those for later use. </p><p><strong>Please note</strong> that you can stop Pyrit's batch-processing at any time (with ctrl+c or sending SIGTERM). Pyrit will start at the point where it stopped the next time you start batch-processing. Issue to following command: </p><pre class=\"prettyprint\">pyrit batch</pre><p>... and watch how Pyrit crunches through the database until it runs out of work: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nWorking on ESSID 'linksys'\nProcessed all workunits for ESSID 'linksys'; 1035 PMKs per second.\n\nBatchprocessing done.</pre><p>You can use the <i>'eval'</i>-command once more to see that all workunits for ESSID <i>'linksys'</i> have been computed. </p><h2><a name=\"Using_the_database_to_attack_a_handshake\"></a>Using the database to attack a handshake<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Using_the_database_to_attack_a_handshake\" class=\"section_anchor\"></a></h2><p>We can now use the <i>Pairwise Master Keys</i> stored in the database to attack the same handshake as in the example above. Instead of running a \"passthrough-attack\", where the database is not touched at all, we issue a \"database-attack\" like the following: </p><pre class=\"prettyprint\">pyrit -r wpapsk-linksys.dump.gz attack_db</pre><p><strong>Please note</strong> that we did neither specify the network's ESSID nor it's BSSID. </p><p>You should get a response very similar to the following: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'file://'... connected.\nParsing file 'wpapsk-linksys.dump.gz' (1/1)...\n587 packets (587 802.11-packets), 1 APs\n\nPicked AccessPoint 00:0b:86:c2:a4:85 ('linksys') automatically.\nAttacking handshake with Station 00:13:ce:55:98:ef...\nTried 1639 PMKs so far (39.8%); 1577435 PMKs per second.\n\nThe password is 'dictionary'.</pre><p>Again, the password protecting the network has been revealed. </p><p>While our example uses an extremely small wordlist and the performance-numbers are thereby not very reliable, attacking a handshake from a database of pre-computed <i>Pairwise Master Keys</i> will usually crunch through more than one million passwords per second. You can also run a database-attack against the second capture file <i>'wpa2psk-linksys.dump.gz'</i>, which will also take use of the pre-computed <i>Pairwise Master Keys</i>. </p><h2><a name=\"Scaling_up:_Using_a_SQL-database_as_storage\"></a>Scaling up: Using a SQL-database as storage<a href=\"https://code.google.com/p/pyrit/wiki/Tutorial#Scaling_up:_Using_a_SQL-database_as_storage\" class=\"section_anchor\"></a></h2><p>Using a SQL-database instead of the filesystem will give you some benefits: </p><ul><li>Real ACID-compliance, backup- and load-balancing-features. </li><li>Multiple Pyrit-clients can operate on the same database at the same time over the network. </li><li>Meta- and binary-data are (possibly) stored independent of each other, making the database easier to query and operate on. </li></ul><p>Pyrit uses <a href=\"http://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a> and can therefor use all kinds of SQL-databases for it's internal storage mechanism: <a href=\"http://www.sqlite.org/\" rel=\"nofollow\">SQLite</a> has all the benefits described above (except the network-functionality), <a href=\"http://dev.mysql.com/\" rel=\"nofollow\">MySQL</a> and <a href=\"http://www.postgresql.org/\" rel=\"nofollow\">PostgreSQL</a> require some setup but provide more features and better scaling. Please refer to <a href=\"http://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a>'s documentation for more details about supported databases. </p><p>Using a database as storage is extremely easy - all you got to do is to provide an alternative <i>connection-string</i> instead of <i>'file://'</i> that Pyrit uses by default (please refer to the <a href=\"https://code.google.com/p/pyrit/wiki/ReferenceManual\">manual</a> for details about the connection-string). In the following example, we use a SQLite-database stored in the single file <i>'mydb.db'</i>: </p><pre class=\"prettyprint\">pyrit -u sqlite:///mydb.db -i dict.gz import_passwords</pre><p><strong>Please note</strong> that we do not have to care about creating the database (in the case of SQLite) or any tables within it. Pyrit will take care of this. You should get an output very similar to this: </p><pre class=\"prettyprint\">Pyrit 0.3.0 (C) 2008-2010 Lukas Lueg http://pyrit.googlecode.com\nThis code is distributed under the GNU General Public License v3+\n\nConnecting to storage at 'sqlite:///mydb.db'... connected.\n10202 lines read. Flushing buffers... \nAll done.</pre><p>Setting up a MySQL- or PostreSQL-server is beyond the scope of this tutorial. However, after setting up the database-server, creating a (empty) database and providing the necessary credentials, the required steps in Pyrit are the same as above. For example, to use the (already created) database <i>'pyrit'</i> on a PostgreSQL-server at 192.168.0.7 with user <i>'pyrit'</i> and no password, your commandline would look something like this: </p><pre class=\"prettyprint\">pyrit -u postgres://pyrit:@192.168.0.7/pyrit -e linksys create_essid</pre><p>To make life a little easier, you can save the default connection-string in Pyrit's configuration-file at <i>'~/.pyrit/config'</i>. Change the value of the key <i>default_storage</i> to a new connection-string and you won't have to supply it every single time. </p>\n </div>\n </div>"
    }, {
        "title": "Let\u2019s Write a Web Extension",
        "url": "https://hacks.mozilla.org/2015/09/lets_write_a_webextension/",
        "excerpt": "You might have heard about Mozilla&#x2019;s WebExtensions, our implementation of a new browser extension API for writing multiprocess-compatible add-ons. Maybe you&#x2019;ve been wondering what it&hellip;",
        "date_saved": "Thu Jul 28 20:09:37 EDT 2016",
        "html_file": "letu2019s_write_a_web_extension.html",
        "png_file": "letu2019s_write_a_web_extension.png",
        "md_file": "letu2019s_write_a_web_extension.md",
        "content": "<div><article class=\"post\">\n <p>You might have heard about Mozilla&#x2019;s <a href=\"https://wiki.mozilla.org/WebExtensions\" title=\"Mozilla&#x2019;s WebExtensions Wiki Page\">WebExtensions</a>, our implementation of a new browser extension API for writing multiprocess-compatible add-ons. Maybe you&#x2019;ve been wondering what it was about, and how you could use it. Well, I&#x2019;m here to help! I think the <a href=\"https://developer.mozilla.org/en-US/Add-ons/WebExtensions\" title=\"MDN&#x2019;s WebExtensions Documentation\">MDN&#x2019;s WebExtensions docs</a> are a pretty great place to start:</p>\n<blockquote><p>WebExtensions are a new way to write Firefox extensions.</p>\n<p>The technology is developed for cross-browser compatibility: to a large extent the API is compatible with the <a href=\"https://developer.chrome.com/extensions\" title=\"Chrome&#x2019;s Extension API\">extension API</a> supported by Google Chrome and Opera. Extensions written for these browsers will in most cases run in Firefox with just a few changes. The API is also fully compatible with <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Multiprocess_Firefox\" title=\"a.k.a. Electrolysis\">multiprocess Firefox</a>.</p>\n</blockquote>\n<p>The only thing I would add is that while Mozilla is implementing most of the API that Chrome and Opera support, we&#x2019;re not restricting ourselves to only that API. Where it makes sense, we will be adding new functionality and talking with other browser makers about implementing it as well. Finally, since the WebExtension API is still under development, it&#x2019;s probably best if you use <a href=\"https://nightly.mozilla.org/\" title=\"Download Nightly Here\">Firefox Nightly</a> for this tutorial, so that you get the most up-to-date, standards-compliant behaviour. But keep in mind, this is still experimental technology &#x2014; things might break!</p>\n<h3 id=\"starting-off\">Starting off</h3>\n<p>Okay, let&#x2019;s start with a reasonably simple add-on. We&#x2019;ll add a button, and when you click it, it will open up <a href=\"http://chilloutandwatchsomecatgifs.com/\" title=\"Cat Gifs!\">one of my favourite sites</a> in a new tab.</p>\n\n<p>The first file we&#x2019;ll need is a <a href=\"https://developer.chrome.com/extensions/manifest\" title=\"Chrome&#x2019;s Manifest Documentation\"><code>manifest.json</code></a>, to tell Firefox about our add-on.</p>\n<pre><code class=\"js\">{\n \"manifest_version\": 2,\n \"name\": \"Cat Gifs!\",\n \"version\": \"1.0\",\n \"applications\": {\n \"gecko\": {\n \"id\": \"catgifs@mozilla.org\"\n }\n },\n\n \"browser_action\": {\n \"default_title\": \"Cat Gifs!\"\n }\n}</code></pre>\n<p>Great! We&#x2019;re done! Hopefully your code looks a little <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-1\" title=\"Step One\">like this</a>. Of course, we have no idea if it works yet, so let&#x2019;s install it in Firefox (we&#x2019;re using Firefox Nightly for the latest implementation). You could try to drag the <code>manifest.json</code>, or the whole directory, onto Firefox, but that really won&#x2019;t give you what you want.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/1-DirectoryListing.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/1-DirectoryListing-500x315.png%20500w,%20https://hacks.mozilla.org/files/2015/09/1-DirectoryListing-250x157.png%20250w,%20https://hacks.mozilla.org/files/2015/09/1-DirectoryListing.png%201166w\" alt=\"The directory listing\" width=\"500\" class=\"alignnone size-large wp-image-29289\"></a></p>\n<h3 id=\"installing\">Installing</h3>\n<p>To make Firefox recognize your extension as an add-on, you need to give it a zip file which ends in <code>.xpi</code>, so let&#x2019;s make one of those by first installing <a href=\"http://www.7-zip.org/\" title=\"7-Zip&#x2019;s website\">7-Zip</a>, and then typing <code>7z a catgifs.xpi manifest.json</code>. (If you&#x2019;re on Mac or Linux, the <code>zip</code> command should be built-in, so just type <code>zip catgifs.xpi manifest.json</code>.) Then you can drag the <code>catgifs.xpi</code> onto Firefox, and it will show you an error because our extension is unsigned.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/2-FirstError.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/2-FirstError-500x317.png%20500w,%20https://hacks.mozilla.org/files/2015/09/2-FirstError-250x159.png%20250w,%20https://hacks.mozilla.org/files/2015/09/2-FirstError.png%201167w\" alt=\"The first error\" width=\"500\" class=\"alignnone size-large wp-image-29290\"></a></p>\n<p>We can work around this by going to <code>about:config</code>, typing <code>xpinstall.signatures.required</code> in the search box, double-clicking the entry to set it to false, and then closing that tab. After that, when we drop <code>catgifs.xpi</code> onto Firefox, we get the option to install our new add-on!</p>\n<blockquote><p>It&#x2019;s important to note that beginning with Firefox 44 (later this year), add-ons will <a href=\"https://wiki.mozilla.org/Addons/Extension_Signing\" title=\"Extension Signing Documentation\">require a signature</a> to be installed on Firefox Beta or Release versions of the browser, so even if you set the preference shown below, you will soon still need to run Firefox Nightly or Developer Edition to follow this tutorial.</p>\n</blockquote>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/3-SuccessDialog.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/3-SuccessDialog-500x318.png%20500w,%20https://hacks.mozilla.org/files/2015/09/3-SuccessDialog-250x159.png%20250w,%20https://hacks.mozilla.org/files/2015/09/3-SuccessDialog.png%201169w\" alt=\"Success!!!\" width=\"500\" class=\"alignnone size-large wp-image-29291\"></a></p>\n<p>Of course, our add-on doesn&#x2019;t do a whole lot yet.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/4-ButtonClick.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/4-ButtonClick-500x317.png%20500w,%20https://hacks.mozilla.org/files/2015/09/4-ButtonClick-250x159.png%20250w,%20https://hacks.mozilla.org/files/2015/09/4-ButtonClick.png%201169w\" alt=\"I click and click, but nothing happens.\" width=\"500\" class=\"alignnone size-large wp-image-29292\"></a></p>\n<p>So let&#x2019;s fix that!</p>\n<h3 id=\"adding-features\">Adding features</h3>\n<p>First, we&#x2019;ll add the following lines to <code>manifest.json</code>, above the line containing <a href=\"https://developer.chrome.com/extensions/browserAction\" title=\"Chrome&#x2019;s Browser Action Documentation\"><code>browser_action</code></a>:</p>\n<pre><code class=\"js\"> \"background\": {\n \"scripts\": [\"background.js\"],\n \"persistent\": false\n },</code></pre>\n<p>now, of course, that&#x2019;s pointing at a <code>background.js</code> file that doesn&#x2019;t exist yet, so we should create that, too. Let&#x2019;s paste the following javascript in it:</p>\n<pre><code class=\"js\">'use strict';\n\n/*global chrome:false */\n\nchrome.browserAction.setBadgeText({text: '(&#x30C4;)'});\nchrome.browserAction.setBadgeBackgroundColor({color: '#eae'});\n\nchrome.browserAction.onClicked.addListener(function(aTab) {\n chrome.tabs.create({'url': 'http://chilloutandwatchsomecatgifs.com/', 'active': true});\n});</code></pre>\n<p>And you should get something that looks <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-2\" title=\"Step Two\">like this</a>. Re-create the add-on by typing <code>7z a catgifs.xpi manifest.json background.js</code> (or <code>zip catgifs.xpi manifest.json background.js</code>), and drop <code>catgifs.xpi</code> onto Firefox again, and now, when we click the button, we should get a new tab! &#x1F604;</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/5-CatGifs.gif\"><img src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/5-CatGifs.gif\" alt=\"Cat Gifs!\" width=\"500\" class=\"alignnone size-large wp-image-29293\"></a></p>\n<h3 id=\"automating-the-build\">Automating the build</h3>\n<p>I don&#x2019;t know about you, but I ended up typing <code>7z a catgifs.xpi manifest.json</code> a disappointing number of times, and wondering why my <code>background.js</code> file wasn&#x2019;t running. Since I know where this blog post is ending up, I know we&#x2019;re going to be adding a bunch more files, so I think it&#x2019;s time to add a build script. I hear that the go-to build tool these days is <a href=\"http://gulpjs.com/\" title=\"Gulp&#x2019;s Homepage\"><code>gulp</code></a>, so I&#x2019;ll wait here while you <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md#getting-started\" title=\"Gulp&#x2019;s Installation Instructions\">go install that</a>, and c&#x2019;mon back when you&#x2019;re done. (I needed to install <a href=\"https://nodejs.org/\" title=\"Node&#x2019;s Homepage\">Node</a>, and then gulp twice. I&#x2019;m not sure why.)</p>\n<p>So now that we have gulp installed, we should make a file named <code>gulpfile.js</code> to tell it how to build our add-on.</p>\n<pre><code class=\"js\">'use strict';\n\nvar gulp = require('gulp');\n\nvar files = ['manifest.json', 'background.js'];\nvar xpiName = 'catgifs.xpi';\n\ngulp.task('default', function () {\n console.log(files, xpiName)\n});</code></pre>\n<p>Once you have that file looking something <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-3\" title=\"Step Three\">like this</a>, you can type <code>gulp</code>, and see output that looks something like this:</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/6-GulpOutput.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/6-GulpOutput-500x184.png%20500w,%20https://hacks.mozilla.org/files/2015/09/6-GulpOutput-250x92.png%20250w,%20https://hacks.mozilla.org/files/2015/09/6-GulpOutput.png%20802w\" alt=\"Just some command line stuff, nbd.\" width=\"500\" class=\"alignnone size-large wp-image-29294\"></a></p>\n<p>Now, you may notice that we didn&#x2019;t actually build the add-on. To do that, we will need to install another package to zip things up. So, type <code>npm install gulp-zip</code>, and then change the <code>gulpfile.js</code> to contain the following:</p>\n<pre><code class=\"js\">'use strict';\n\nvar gulp = require('gulp');\nvar zip = require('gulp-zip');\n\nvar files = ['manifest.json', 'background.js'];\nvar xpiName = 'catgifs.xpi';\n\ngulp.task('default', function () {\n gulp.src(files)\n .pipe(zip(xpiName))\n .pipe(gulp.dest('.'));\n});</code></pre>\n<p>Once your <code>gulpfile.js</code> looks <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-4\" title=\"Step Four\">like this</a>, when we run it, it will create the <code>catgifs.xpi</code> (as we can tell by looking at the timestamp, or by deleting it and seeing it get re-created).</p>\n<h3 id=\"fixing-a-bug\">Fixing a bug</h3>\n<p>Now, if you&#x2019;re like me, you clicked the button a whole bunch of times, to test it out and make sure it&#x2019;s working, and you might have ended up with a lot of tabs. While this will ensure you remain extra-chill, it would probably be nicer to only have one tab, either creating it, or switching to it if it exists, when we click the button. So let&#x2019;s go ahead and add that.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/7-ManyTabbys.gif\"><img src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/7-ManyTabbys.gif\" alt=\"Lots and lots of cats.\" width=\"500\" class=\"alignnone size-large wp-image-29295\"></a></p>\n<p>The first thing we want to do is see if the tab exists, so let&#x2019;s edit the <code>browserAction.onClicked</code> listener in <code>background.js</code> to contain the following:</p>\n<pre><code class=\"js\">chrome.browserAction.onClicked.addListener(function(aTab) {\n chrome.tabs.query({'url': 'http://chilloutandwatchsomecatgifs.com/'}, (tabs) =&gt; {\n if (tabs.length === 0) {\n // There is no catgif tab!\n chrome.tabs.create({'url': 'http://chilloutandwatchsomecatgifs.com/', 'active': true});\n } else {\n // Do something here&#x2026;\n }\n });\n});</code></pre>\n<p>Huh, that&#x2019;s weird, it&#x2019;s always creating a new tab, no matter how many catgifs tabs there are already&#x2026; It turns out that our add-on doesn&#x2019;t have permission to see the urls for existing tabs yet which is why it can&#x2019;t find them, so let&#x2019;s go ahead and add that by inserting the following code above the <code>browser_action</code>:</p>\n<pre><code class=\"js\"> \"permissions\": [\n \"tabs\"\n ],</code></pre>\n<p>Once your code looks <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-5\" title=\"Step Five\">similar to this</a>, re-run <code>gulp</code> to rebuild the add-on, and drag-and-drop to install it, and then when we test it out, ta-da! Only one catgif tab! Of course, if we&#x2019;re on another tab it doesn&#x2019;t do anything, so let&#x2019;s fix that. We can change the <code>else</code> block to contain the following:</p>\n<pre><code class=\"js\"> // Do something here&#x2026;\n chrome.tabs.query({'url': 'http://chilloutandwatchsomecatgifs.com/', 'active': true}, (active) =&gt; {\n if (active.length === 0) {\n chrome.tabs.update(tabs[0].id, {'active': true});\n }\n });</code></pre>\n<p>Make sure it looks <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-6\" title=\"Step Six\">like this</a>, rebuild, re-install, and shazam, it works!</p>\n<h3 id=\"making-it-look-nice\">Making it look nice</h3>\n<p>Well, it works, but it&#x2019;s not really pretty. Let&#x2019;s do a couple of things to fix that a bit.</p>\n<p>First of all, we can add a custom icon so that our add-on doesn&#x2019;t look like all the other add-ons that haven&#x2019;t bothered to set their icons&#x2026; To do that, we add the following to <code>manifest.json</code> after the <code>manifest_version</code> line:</p>\n<pre><code class=\"js\"> \"icons\": {\n \"48\": \"icon.png\",\n \"128\": \"icon128.png\"\n },</code></pre>\n<p>And, of course, we&#x2019;ll need to download a pretty picture for our icon, so let&#x2019;s save a copy of <a href=\"https://raw.githubusercontent.com/bwinton/catgif-extension/master/icon.png\" title=\"icon.png\">this picture</a> as <code>icon.png</code>, and <a href=\"https://raw.githubusercontent.com/bwinton/catgif-extension/master/icon128.png\" title=\"icon128.png\">this one</a> as <code>icon128.png</code>.</p>\n<p>We should also have a prettier icon for the button, so going back to the <code>manifest.json</code>, let&#x2019;s add the following lines in the <code>browser_action</code> block before the <code>default_title</code>:</p>\n<pre><code class=\"js\"> \"default_icon\": {\n \"19\": \"button.png\",\n \"38\": \"button38.png\"\n },</code></pre>\n<p>and save <a href=\"https://raw.githubusercontent.com/bwinton/catgif-extension/master/button.png\" title=\"button.png\">this image</a> as <code>button.png</code>, and <a href=\"https://raw.githubusercontent.com/bwinton/catgif-extension/master/button38.png\" title=\"button38.png\">this image</a> as <code>button38.png</code>.</p>\n<p>Finally, we need to tell our build script about the new files, so change the <code>files</code> line of our <code>gulpfile.js</code> to:</p>\n<pre><code class=\"js\">var files = ['manifest.json', 'background.js', '*.png'];</code></pre>\n<p>Re-run the build, and re-install the add-on, and <a href=\"https://github.com/bwinton/catgif-extension/releases/tag/step-7\" title=\"Step Seven\">we&#x2019;re done</a>! &#x1F600;</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/8-PrettyIcon.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/8-PrettyIcon-500x316.png%20500w,%20https://hacks.mozilla.org/files/2015/09/8-PrettyIcon-250x158.png%20250w\" alt=\"New, prettier, icons.\" width=\"500\" class=\"alignnone size-large wp-image-29296\"></a></p>\n<h3 id=\"one-more-thing---\">One more thing&#x2026;</h3>\n<p>Well, there is another thing we could try to do. I mean, we have an add-on that works beautifully in Firefox, but one of the advantages of the new WebExtension API is that you can run the same add-on (or an add-on with minimal changes) on both Firefox and Chrome. So let&#x2019;s see what it will take to get this running in both browsers!</p>\n<p>We&#x2019;ll start by launching Chrome, and trying to load the add-on, and see what errors it gives us. To load our extension, we&#x2019;ll need to go to <code>chrome://extensions/</code>, and check the <code>Developer mode</code> checkbox, as shown below:</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/9-ChromeDeveloper.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/9-ChromeDeveloper-500x315.png%20500w,%20https://hacks.mozilla.org/files/2015/09/9-ChromeDeveloper-250x158.png%20250w\" alt=\"Now we&#x2019;re hackers!\" width=\"500\" class=\"alignnone size-large wp-image-29297\"></a></p>\n<p>Then we can click the &#x201C;Load unpacked extension&#x2026;&#x201D; button, and choose our directory to load our add-on! Uh-oh, it looks like we&#x2019;ve got an error.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/10-ChromeAlmost.png\"><img src=\"https://hacks.mozilla.org/files/2015/09/10-ChromeAlmost-500x315.png%20500w,%20https://hacks.mozilla.org/files/2015/09/10-ChromeAlmost-250x158.png%20250w\" alt=\"Close, but not quite.\" width=\"500\" class=\"alignnone size-large wp-image-29298\"></a></p>\n<p>Since the <code>applications</code> key is required for Firefox, I think we can safely ignore this error. And anyways, the button shows up! And when we click it&#x2026;</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/11-ChromeCats.gif\"><img src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/09/11-ChromeCats.gif\" alt=\"Cats!\" width=\"500\" class=\"alignnone size-large wp-image-29299\"></a></p>\n<p>So, I guess we&#x2019;re done! (I used to have a section in here about how to load <a href=\"https://babeljs.io/\" title=\"Babel!\">babel.js</a>, because the version of Chrome I was using didn&#x2019;t support ES6&#x2019;s <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" title=\"a.k.a. Fat-Arrows.\">arrow functions</a>, but apparently they&#x2019;ve upgraded their JavaScript engine, and now everything is good. &#x1F609;)</p>\n<p>Finally, if you have any questions, or run into any problems following this tutorial, please feel free to leave a comment here, or get in touch with me through <a href=\"mailto:bwinton@mozilla.com\" title=\"My email address\">email</a>, or on <a href=\"https://twitter.com/bwinton/\" title=\"@bwinton\">twitter</a>! If you have issues or constructive feedback developing WebExtensions, the team will be listening on the <a href=\"https://discourse.mozilla-community.org/c/add-ons/development\" target=\"_blank\">Discourse forum</a>. </p> <section class=\"about\">\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/bwintonmozilla-com/\">More articles by Blake Winton&#x2026;</a></p>\n </section>\n </article>\n \n\n</div>"
    }, {
        "title": "Create Your Own Streaming Service With Emby",
        "url": "http://www.linux.com/news/software/multimedia/854527-create-your-own-streaming-service-with-emby/",
        "excerpt": "We live in an age where everything is moving to cloud. This trend of course has its own advantages and disadvantages. The biggest advantage is that we can access our data anywhere, anytime from any&hellip;",
        "date_saved": "Thu Jul 28 20:09:38 EDT 2016",
        "html_file": "create_your_own_streaming_service_with_emby.html",
        "png_file": "create_your_own_streaming_service_with_emby.png",
        "md_file": "create_your_own_streaming_service_with_emby.md",
        "content": "<div><div class=\"article-content\">\n\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/emby-1.jpg\" width=\"300\" alt=\"emby-1\" title=\"Figure 1: Configure Emby user.\" class=\"caption\">We live in an age where everything is moving to cloud. This trend of course has its own advantages and disadvantages. The biggest advantage is that we can access our data anywhere, anytime from any device. On the flip side, the biggest disadvantage is that we lose control or ownership of our data.</p>\n<p dir=\"ltr\">What if you could get the best of both worlds? What if you get to &#x201C;own&#x201D; this cloud? That's what I do. Although ownCloud takes care of my cloud needs, there are other fully or partially open source solutions that take care of my streaming needs. I have been using Plex Media Server so far and it's extremely powerful. Recently, however, I came across an open source media server that looks quite promising; it's called <a href=\"http://emby.media/\">Emby</a>. According to the website, the Emby server automatically converts and streams your media on the fly to play on any device.</p>\n<h3 dir=\"ltr\">Why Emby?</h3>\n<p dir=\"ltr\">I tried Emby not because I wanted to switch away from Plex or because I was looking for an alternative; I love Plex, it serves me well. I gave Emby a try because of its open source base, and because it's good to have choices.</p>\n<p dir=\"ltr\">Installation of Emy is quite easy. Officially, it supports Arch Linux (my favorite distro), CentOS, Debian (runs on my server), Docker, Fedora, and Ubuntu, but you can always install it on any distro of your choice, manually. There are different instructions for different distros.</p>\n<p dir=\"ltr\">If you are running Ubuntu 14.04, then run the following commands in the terminal:</p>\n<pre dir=\"ltr\">wget -qO - <a href=\"http://download.opensuse.org/repositories/home\">http://download.opensuse.org/repositories/home</a>:emby/xUbuntu_14.04/Release.key | sudo apt-key add -<br class=\"kix-line-break\">sudo sh -c \"echo 'deb <a href=\"http://download.opensuse.org/repositories/home\">http://download.opensuse.org/repositories/home</a>:/emby/xUbuntu_14.04/ /' &gt;&gt; /etc/apt/sources.list.d/emby-server.list\"<br class=\"kix-line-break\">sudo apt-get update<br class=\"kix-line-break\">sudo apt-get install mono-runtime mediainfo libsqlite3-dev imagemagick-6.q8 libmagickwand-6.q8-2 libmagickcore-6.q8-2<br class=\"kix-line-break\">sudo apt-get install emby-server</pre>\n<p dir=\"ltr\">If you are on Fedora or CentOS, first install the epel repo:</p>\n<pre dir=\"ltr\">yum install epel-release</pre>\n<p dir=\"ltr\">Then, install Emby for CentOS or Fedora releases (check the directory path for your version of Fedora <a href=\"http://docs.google.com/htdownload.opensuse.org/repositories/home:/emby/\">here</a>) and replace \"REPO_DIRECTORY\" with it in the the following command:</p>\n<pre dir=\"ltr\">wget <a href=\"http://download.opensuse.org/repositories/home\">http://download.opensuse.org/repositories/home</a>:/emby/REPO_DIRECTORY/home:emby.repo -O /etc/yum.repos.d/emby.repo<br class=\"kix-line-break\">yum install emby-server</pre>\n<p dir=\"ltr\">For example, if you are on CentOS 7, the command will be:</p>\n<pre dir=\"ltr\">wget <a href=\"http://download.opensuse.org/repositories/home\">http://download.opensuse.org/repositories/home</a>:/emby/CentOS_7/home:emby.repo -O /etc/yum.repos.d/emby.repo</pre>\n<pre dir=\"ltr\">yum install emby-server</pre>\n<p dir=\"ltr\">Arch users can install emby server from the community repository.</p>\n<pre dir=\"ltr\">sudo pacman -S emby-server</pre>\n<p dir=\"ltr\">During the installation process, you will come across this warning: \"Emby by default runs under a user named &#x201C;emby&#x201D;. Please ensure that the user emby has read and write access to any folders you wish to add to your library. Otherwise please run emby under a different user.\"</p>\n<p dir=\"ltr\">Hit OK, and it will give you an option to change the user (see Figure 1 above).</p>\n<p>You can change the user to an existing user on the system or create a new one. I would prefer to keep a separate user so that I can better manager permissions on my server.</p>\n<p dir=\"ltr\">Once the installation is finished, you may have to start the service, depending on your distro. Debian-based servers usually start the service automatically, but if you are on systemd-based systems such as Arch Linux, you will have to start the service using the following command:</p>\n<pre dir=\"ltr\">sudo systemctl start emby-server</pre>\n<p dir=\"ltr\">Once the server is running, you can open the Emby server in a browser :</p>\n<pre dir=\"ltr\"><a href=\"http://SERVER_IP:8096/web/wizardstart.html\">http://SERVER_IP:8096/web/wizardstart.html</a></pre>\n<p dir=\"ltr\">You will be greeted by the window shown in Figure 2.</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/emby-2.jpg\" width=\"350\" alt=\"emby-2\" title=\"Figure 2: Emby main window.\" class=\"caption\"></p>\n\n<h3 dir=\"ltr\">Configuration</h3>\n<p>You can follow these steps to complete the configuration process.</p>\n<p dir=\"ltr\">1. Enter language</p>\n<p dir=\"ltr\">2. In this window you have to create a user so you can control which user has access to which media libraries.</p>\n<p dir=\"ltr\">Emby also offers a service similar to Plex Pass where you can use it to access the server from outside the local network or from mobile devices. You will notice a <a href=\"http://emby.media/connect/\">link to create Emby Connect account</a>, at the bottom of the page. You will get a free trial of the service for a few weeks, after that you have to pay a fee to support the development work. However, Emby Connect is not required if you want to play it on local network using a browser, but I think it's needed if you use it on Amazon Fire TV or other such devices.&#xA0;</p>\n<p>3. In the next window, you can start setting up the media library (Figure 3).</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/emby-media3.jpg\" width=\"550\" alt=\"emby-media3\" title=\"Figure 3: Media settings.\" class=\"caption\">Click on the + button, choose the media type from the list and give it a name. You can add all the libraries, by media type, that you need. We will configure the location of media later.</p>\n<p dir=\"ltr\">4. Choose the preferred language for metadata</p>\n<p dir=\"ltr\">5. I skipped the Live TV Tuner settings page, as I don't have any TV tuner.</p>\n<p dir=\"ltr\">6. Accept the terms of service.</p>\n<p dir=\"ltr\">That's it.</p>\n<p dir=\"ltr\">You can now log into your Emby media server. That's where you can further fine-tune the server and configure the location for media libraries (Figure 4).</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/emby-4.jpg\" width=\"550\" alt=\"emby-4\" title=\"Figure 4: Emby server dashboard.\" class=\"caption\">Click on Library and choose the media type, then click on the + button on &#x201C;Media Locations&#x201D; and choose the path to the directory where videos, music, photos or other media is stored. You can play around to understand other settings. Once configured, you can now access your very own &#x201C;Netflix &amp; Pandora&#x201D; on the local server using the server path.</p>\n<p dir=\"ltr\">Just open the browser on any PC connected to the local network and give the path to Emby server, as mentioned above. Log in to the user account and access your media (Figure 5). &#xA0;</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/emby-5.jpg\" width=\"550\" alt=\"emby-5\" title=\"Figure 5: Emby settings page.\" class=\"caption\">If you want to access the server from outside the local network, just log into your account from this address: <em>app.emby.media</em>. Once logged in, go to the settings menu and provide it with the server IP of your Emby Server. Enjoy your media remotely!</p>\n<p dir=\"ltr\">You can also access the server from mobile devices using either the Emby app or UPnP/DLNA clients. The official Emby app is available for Android devices, along with Amazon's Fire TV. There is no client for iOS yet, but you can use VLC to play movies on the local network.</p>\n<p dir=\"ltr\">Go ahead, install Emby on your server and let us know what you think about it!</p></div>\n\n\n\n\n\n\n\n\t\t\t\t \n\n\n\t\t\t\t\n\t\t\t\t</div>"
    }, {
        "title": "B2 Cloud Storage",
        "url": "https://www.backblaze.com/b2/cloud-storage.html",
        "excerpt": "The lowest cost cloud storage on the planet: $0.005/GB a month. Try it and get the first 10 GB free on us. B2 is in private beta. No credit card required. Forgot Password? By creating an account you&hellip;",
        "date_saved": "Thu Jul 28 20:09:40 EDT 2016",
        "html_file": "b2_cloud_storage.html",
        "png_file": "b2_cloud_storage.png",
        "md_file": "b2_cloud_storage.md",
        "content": "<div id=\"page_b2_landing\">\n\n\n\n\n\n\n<section class=\"container-fluid hero\">\n\n \n\n <div class=\"row\">\n\n <div class=\"col-sm-8 col-sm-offset-2\">\n \n\n \n\n <p class=\"lead\">The lowest cost cloud storage on the planet: $0.005/GB a month.<br>\n Try it and get the first 10 GB free on us.</p>\n </div>\n </div>\n \n\n \n\n <div class=\"row\">\n <div class=\"col-sm-6 col-sm-offset-3\">\n \n\n \n\n \n\n \n \n\n \n \n\n\n \n\n <p>\n <small>B2 is in private beta.\n No credit card required.<br>\n<a href=\"https://www.backblaze.com/forgot_password.htm\">Forgot Password?</a><br>\n \n </small>\n </p>\n\n </div>\n </div>\n\n\n</section>\n\n\n\n<div class=\"row\">\n<div class=\"col-lg-12\">\n <div class=\"b2-terms\">By creating an account you agree to our <a href=\"https://www.backblaze.com/terms.html\">terms</a></div>\n </div>\n </div>\n \n \n \n<section class=\"container section2\">\n <div class=\"row\">\n <p class=\"col-sm-8 col-sm-offset-2\">\n <h2>Backblaze B2 Cloud Storage works similar to Amazon S3 or Microsoft Azure, allowing you to store\n unlimited data in the cloud.\n <br>\n <span class=\"text-primary\">But does it for 1/4th the cost.</span></h2>\n\n\n </p>\n </div>\n\n <div class=\"row\">\n <div class=\"col-sm-8 col-sm-offset-2\">\n <img src=\"https://www.backblaze.com/b2/images/b2-home-mini-cloud.jpg\" class=\"img-responsive\">\n </div>\n </div>\n\n <div class=\"row\">\n <div class=\"col-sm-8 col-sm-offset-2\">\n <p class=\"text-muted\">Backblaze has developed a robust cloud storage solution that\n is reliable and scalable.\n Developers can build applications, IT people can store corporate data, and anyone can store or host data online. </p>\n </div>\n\n </div>\n</section>\n\n\n\n<section class=\"container section3\">\n <div class=\"row\">\n <div class=\"col-sm-8\">\n <img src=\"https://www.backblaze.com/b2/images/b2-home-upload-screenshots.png\" class=\"img-responsive\">\n </div>\n\n \n </div>\n</section>\n\n\n\n<section class=\"container section4\">\n <div class=\"row\">\n <div class=\"col-sm-4\">\n <img src=\"https://www.backblaze.com/b2/images/b2-home-icon-live-archive.png\" class=\"img-responsive img248\">\n\n <h2>Live &amp; Archive</h2>\n\n <p><span class=\"bbold\">Data is instantly available;</span> no offline or nearline delays.</p>\n\n <p> Don\u2019t worry about choosing between a service that makes your data available or one that is inexpensive;\n you get the best of both.\n </p>\n </div>\n <div class=\"col-sm-4\">\n <img src=\"https://www.backblaze.com/b2/images/b2-home-icon-scale-tree.png\" class=\"img-responsive img248\">\n\n <h2>Scale Freely</h2>\n\n <p><span class=\"bbold\">Unlimited Storage:</span> Upload 1 file or millions. 1 MB or 100 petabytes.</p>\n\n <p><span class=\"bbold\">Pay Only For What You Use:</span> No need to plan and pay for extra head room.</p>\n\n <p><span class=\"bbold\">Scale Up/Down:</span> Store more data or less as your needs change.</p>\n\n </div>\n \n </div>\n\n \n</section>\n\n\n\n\n<div class=\"b2-gradient-b\">\n <section class=\"container section5\">\n \n <div class=\"row\">\n \n \n </div>\n\n <div class=\"row\">\n <div class=\"col-sm-12\">\n <img src=\"https://www.backblaze.com/b2/images/b2-home-goodies.png\" class=\"img-responsive shift\">\n </div>\n </div>\n\n </section>\n</div>\n\n<section class=\"container section6\">\n \n\n \n \n \n \n \n \n \n \n \n \n \n\n\n \n \n \n \n \n \n \n \n \n \n \n\n\n \n \n \n \n \n \n \n \n \n \n\n \n\n <div class=\"row\">\n <div class=\"col-sm-8 col-sm-offset-2\">\n <table class=\"home-pricing\">\n <tr class=\"mg-tp-20\">\n\n <td class=\"gray-border-right gray-hilite gray-border-top center\">\n <img src=\"https://www.backblaze.com/b2/images/b2-logo-backblaze-medium.png\" class=\"img-responsive\">\n </td>\n <td class=\"ht-110 gray-hilite gray-border-top pdg-lft-30\">\n <span class=\"green large\">$0.005</span><span class=\"gray med-small\">/GB Month</span>\n <img src=\"https://www.backblaze.com/b2/images/b2-home-75-discount.png\" class=\"b2-discount-image\">\n </td>\n\n </tr>\n <tr>\n <td class=\"ht-110 gray-border-right gray-border-top\">\n <img src=\"https://www.backblaze.com/b2/images/b2-logo-amazons3-medium.png\" class=\"img-responsive\">\n </td>\n <td class=\"ht-110 gray-border-top pdg-lft-30\">\n <span class=\"large\">$0.022+</span><span class=\"gray med-small\">/GB Month</span>\n </td>\n </tr>\n\n\n <tr>\n\n <td class=\"ht-110 gray-border-right gray-border-top gray-border-bottom\">\n <img src=\"https://www.backblaze.com/b2/images/b2-logo-microsoft-azure-medium.png\" class=\"img-responsive\">\n </td>\n <td class=\"ht-110 gray-border-top gray-border-bottom pdg-lft-30\">\n <span class=\"large\">$0.022</span><span class=\"gray med-small\"><span class=\"large\">+</span>/GB Month</span>\n </td>\n\n </tr>\n </table>\n </div></div>\n\n</section>\n\n<section class=\"container-fluid section8 gray-bg\">\n \n \n</section>\n\n\n\n\n<section class=\"container section7\">\n <div class=\"row center\">\n <div class=\"col-sm-12\">\n <h2 class=\"center\">Create an Account and Get an Invite</h2>\n <h4>Take B2 for a spin and try it for yourself. Play. Have fun. And build something awesome!</h4>\n <a href=\"https://www.backblaze.com/b2/get-invite.html\" class=\"btn btn-primary btn-lg mg-tp-20\">Get B2\n Invite</a>\n </div>\n </div>\n</section>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</div>\n"
    }, {
        "title": "Launching nginScript and Looking Ahead - NGINX",
        "url": "https://www.nginx.com/blog/launching-nginscript-and-looking-ahead/",
        "excerpt": "I&#x2019;ve been wanting to add more scripting capabilities to NGINX for a long time. Scripting lets people do more in NGINX without having to write C modules, for example. Lua is a good tool in this&hellip;",
        "date_saved": "Thu Jul 28 20:09:42 EDT 2016",
        "html_file": "launching_nginscript_and_looking_ahead__nginx.html",
        "png_file": "launching_nginscript_and_looking_ahead__nginx.png",
        "md_file": "launching_nginscript_and_looking_ahead__nginx.md",
        "content": "<div><div class=\"entry-content blog-post\">\n\t\t<p>I&#x2019;ve been wanting to add more scripting capabilities to NGINX for a long time. Scripting lets people do more in NGINX without having to write C modules, for example. Lua is a good tool in this area, but it&#x2019;s not as widely known as some other languages.</p>\n<p>JavaScript was the most obvious language to add next. It&#x2019;s the most popular language&#xA0;&#x2013;&#xA0;<a target=\"_blank\" href=\"http://venturebeat.com/2015/08/19/here-are-the-top-10-programming-languages-used-on-github/\">#1 on GitHub</a> for the past three years. JavaScript is also a good fit for the way we configure NGINX.</p>\n<p>I recently <a href=\"https://www.nginx.com/blog/nginx-open-source-reflecting-back-and-looking-ahead/\">announced</a> a working prototype of a JavaScript virtual machine (VM) that would be embedded within NGINX. Today we announced the launch of the first preview of this software, <i>nginScript</i>, at <a href=\"https://www.nginx.com/nginxconf/\">nginx.conf 2015</a>.</p>\n<p>This is another milestone in the development of NGINX open source software and NGINX Plus. I want to take the opportunity to explain what nginScript is, describe why it&#x2019;s needed, share some examples, and talk about the future.</p>\n<h2>What nginScript Is</h2>\n<p>nginScript is a robust implementation of much of JavaScript, including the parts most useful for configuring NGINX. Some less-used parts of JavaScript and some less relevant built-in objects are not supported.</p>\n<p>nginScript can be used for quick fixes, making NGINX configuration more convenient and operations more efficient. But, because it runs at the application delivery level, it will also enable you to refactor your applications for greater long-term stability, security, and scale.</p>\n<p>nginScript has two parts:</p>\n<ol>\n<li>A custom virtual machine (VM) and byte-code compiler with a very fast start-up and tear-down time. Blocking operations, such as an HTTP subrequest, can be suspended and resumed, in the same way as other blocking operations in JavaScript.</li>\n<li>A configuration syntax for embedding snippets of JavaScript in your NGINX configuration. These snippets are evaluated at runtime, as HTTP transactions proceed. You can create powerful conditional configurations, modify requests and responses on the fly, and adjust the internal operations of NGINX specifically for each request.</li>\n</ol>\n<p>There are currently several popular JavaScript VMs out there, but they are optimized for use with browsers. The nginScript VM is focused on server requirements. We run a separate VM for each request, so there&#x2019;s no need for garbage collection. And an nginScript program can be pre-empted so NGINX code can run.</p>\n<h2>What nginScript Makes Possible</h2>\n<p>nginScript has a wide range of potential uses. The following capabilities are available today, and they will be extended over time:</p>\n<ul>\n<li><b>Defend against security threats</b> &#x2013; nginScript can dynamically respond to abusive traffic sources by rate-limiting or denying requests.</li>\n<li><b>Gain richer control over traffic</b> &#x2013; You can implement flexible control over how traffic is routed using information in the request or other sources.</li>\n<li><b>Consolidate functions across applications</b> &#x2013; You can move duplicated functionality out of applications and into the application delivery platform.</li>\n<li><b>Speed application development with function libraries</b> &#x2013; nginScript code can be developed, reused, improved, stored, and shared.</li>\n</ul>\n<p>In the future, we&#x2019;ll add more capabilities to nginScript and broaden its scope, so you can use it for tasks such as fixing application bugs, changing business rules, personalizing the user experience, and sharding requests across servers and aggregating the replies.</p>\n<h2>nginScript in Action</h2>\n<p>There are two new directives that can be used to insert JavaScript code into NGINX, <code>js_set</code> and <code>js_run</code>.</p>\n<h3>js_set</h3>\n<p>The <code>js_set</code> directive sets the value of a variable to the result of the execution of JavaScript code:</p>\n<pre><code>http {\n js_set $hello_world \"\n var str = 'Hello World!';\n // JavaScript\n str;\n \";\n\n server {\n ...\n location /{\n return 200 $hello_world;\n }\n }\n}</code></pre>\n<p>In the above example, the value of <code>$hello_world</code> is set to the value of the last statement in the JavaScript code. The client is then returned the value of this variable: &#x201C;Hello World!&#x201D;.</p>\n<p>A variable set by <code>js_set</code> can be used in any NGINX directive that takes a variable parameter, such as <code>limit_req_zone</code>, <code>proxy_pass</code>, and <code>sub_filter</code>.</p>\n<h3>js_run</h3>\n<p>The <code>js_run</code> directive is evaluated at the content-generation stage. It&#x2019;s used to execute JavaScript natively and generate an HTTP response. It goes inside a <code>location</code> block and triggers execution of JavaScript code when the location matches a request URL.</p>\n<pre><code>location / {\n js_run \"\n var res;\n res = $r.response;\n res.status = 200;\n res.send('Hello World!');\n res.finish();\n \";\n}\n</code></pre>\n<h3>Request Parameters</h3>\n<p>With nginScript you have full access to the request parameters, with the <code>$r</code> variable. The following example returns the request parameters back to the requester.</p>\n<pre><code>http {\n js_set $summary \"\n var a, s, h;\n\n s = 'JS summary\\n\\n';\n\n s += 'Method: ' + $r.method + '\\n';\n s += 'HTTP version: ' + $r.httpVersion + '\\n';\n s += 'Host: ' + $r.headers.host + '\\n';\n s += 'Remote Address: ' + $r.remoteAddress + '\\n';\n s += 'URI: ' + $r.uri + '\\n';\n\n s += 'Headers:\\n';\n for (h in $r.headers) {\n s += ' header \\\"' + h + '\\\" is \\\"' + $r.headers[h] + '\\\"\\n';\n }\n\n s += 'Args:\\n';\n for (a in $r.args) {\n s += ' arg \\\"' + a + '\\\" is \\\"' + $r.args[a] + '\\\"\\n';\n }\n\n s;\n \";\n\n server {\n listen 8000;\n\n location /summary {\n return 200 $summary;\n }\n}</code></pre>\n<h3>Custom Request Routing</h3>\n<p>With the <code>location</code> block in NGINX you can route traffic based on URI. With nginScript you can route traffic based on any data in the request, including cookies, headers, arguments, or any keywords in the request body. The following example routes traffic based on the presence of an argument named <code>upstream</code>:</p>\n<pre><code>upstream my_upstream0 {\n server server1.example.com;\n server server2.example.com;\n}\nupstream my_upstream1 {\n server server3.example.com;\n server server4.example.com;\n}\n\njs_set $my_upstream \"\n var s, upstream, upstream_num;\n\n upstream = $r.args.upstream;\n\n // convert upstream number to integer\n upstream_num = +upstream;\n\n if (upstream_num &lt; 0 || upstream_num &gt; 1) {\n upstream_num = 0;\n }\n\n s = 'my_upstream' + upstream_num;\n\n s;\n\";\n\nserver {\n listen 80;\n\n location / {\n proxy_set_header Host $host;\n proxy_pass http://$my_upstream;\n }\n}</code></pre>\n<h2>The Future of nginScript</h2>\n<p>Our goal is to make NGINX the connective tissue and traffic management layer for all modern web applications. Embedding JavaScript in NGINX is a major step in this direction. nginScript joins Lua, Perl, and modules as robust ways to extend NGINX.</p>\n<p>nginScript is not intended to replace Lua or other embedded languages in NGINX. JavaScript has now been added to the existing community of extensions to NGINX, and we expect the number of alternatives continues to grow in the future.</p>\n<p>nginScript enables testing and prototyping, functionality and security fixes, and strategic refactoring of application development and deployment. We look forward to your feedback as you try out nginScript and consider its long-term place in your application development and delivery strategy.</p>\n<p>For more information, check out these resources:</p>\n<ul>\n<li><a href=\"https://www.nginx.com/resources/wiki/nginScript/\">Wiki documentation</a></li>\n<li><a target=\"_blank\" href=\"http://hg.nginx.org/njs/file/11d4d66851ed/README\">README</a></li>\n<li><a target=\"_blank\" href=\"http://hg.nginx.org/njs\">Mercurial repository</a></li>\n</ul>\n<p>To provide feedback, please use our <a target=\"_blank\" href=\"http://mailman.nginx.org/mailman/listinfo/nginx\">mailing list</a>. </p>\n\t</div>\n</div>"
    }, {
        "title": "Pyra: Full Prototypes Soon!",
        "url": "http://pandoralive.info/?p=5296",
        "excerpt": "As we are soon jumping in the 4th quarter of 2015, things are getting progressively in place for the Dragonbox Pyra, with full prototypes to be assembled within November. The remaining elements are&hellip;",
        "date_saved": "Thu Jul 28 20:09:44 EDT 2016",
        "html_file": "pyra_full_prototypes_soon.html",
        "png_file": "pyra_full_prototypes_soon.png",
        "md_file": "pyra_full_prototypes_soon.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t<p><img class=\"alignnone size-full wp-image-5150\" src=\"http://pandoralive.info/wp-content/uploads/2015/06/keymat-CAD-top.png\" alt=\"keymat-CAD-top\" width=\"640\"></p>\n<p>As we are soon jumping in the 4th quarter of 2015, things are getting progressively in place for the Dragonbox Pyra, with full prototypes to be assembled within November. The remaining elements are now being produced: the keymat, following its layout finalization, is now in production and samples of the real thing will be available by Mid-October. Once received we will see how it works hands-on, and if keys are lighted up as expected via the backlights.</p>\n\n<p>The case&#x2019;s mould is also being manufactured and should be done by early November. That means that the subsequent cases produced will be very much the final ones, while the colour needs to be decided. I&#x2019;d say that the colour will also depend on the mould design. Colouring of plastics is done via the addition of masterbatches mixtures, and those can modify the property of plastics at high temperatures &#x2013; making some colours more prone to cracks or breakage depending on your mould design. I hope ED is aware of that.</p>\n<p>As you may be aware, the Pyra&#x2019;s hardware is comprised of two essential parts, the main board and the CPU board (for modularity purposes). It looks like the rotator chip is working as expected now (you can see the video at the bottom of this post). It seems like the design is completely done for these 2 boards and there will be a pre-production run by Mid-October to ensure the assembly can work with the fixed design on the actual production line.</p>\n<div id=\"attachment_4985\" class=\"wp-caption alignnone\"><img class=\"size-large wp-image-4985\" src=\"http://pandoralive.info/wp-content/uploads/2015/04/Screenshot-from-2015-04-14-081442-1024x575.png\" alt=\"This is how the two boards look like when assembled together\" width=\"625\"><p class=\"wp-caption-text\">This is what the two boards look like when assembled together</p></div>\n<p>Batteries are manufactured and 3000 are now available at the production site in Germany.</p>\n<p>With all these elements in place, the first pre-production models could be assembled by October-November and go to developers in order to increase the pace of software availability (and OS optimizations) by the actual time of release. This also means that pre-orders could start as early as November or something like that, and give it a few more months for the availability of the final machine. So, it now seems like Q1 2016 is a likely shipping period.</p>\n<p>On a side note, ED also shared this video showing the Pyra using a dual video output mode: an emulator running on the Pyra screen, and a full X desktop running at the same time on the HDMI-out via a connected monitor.</p>\n<p><iframe width=\"625\" height=\"352\" src=\"https://www.youtube.com/embed/F1ccK1aX4OY?feature=oembed\"></iframe></p>\n<p>Not sure how useful this kind of dual output would be in reality (maybe one could use the Pyra screen as a notification display while doing actual work on the X session on a larger screen), but as a tech demo it&#x2019;s quite cool. This technique works by using one framebuffer running an X-Server and the second framebuffer sent directly to the emulator for display on the attached screen.</p>\n\n\t\t\t\t\t</div>\n\t\t\n\t\t\n\t</div>"
    }, {
        "title": "grammarly/rocker-compose",
        "url": "https://github.com/grammarly/rocker-compose",
        "excerpt": "rocker-compose Docker composition tool with idempotency features for deploying applications that consist of multiple containers. It's intended to be used in the following cases: Deploying&hellip;",
        "date_saved": "Thu Jul 28 20:09:46 EDT 2016",
        "html_file": "grammarlyrockercompose.html",
        "png_file": "grammarlyrockercompose.png",
        "md_file": "grammarlyrockercompose.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-rocker-compose\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose\"></a>rocker-compose</h2>\n\n<p>Docker composition tool with idempotency features for deploying applications that consist of multiple containers. It's intended to be used in the following cases:</p>\n\n<ol>\n<li>Deploying containerized apps to servers</li>\n<li>Running containerized apps locally for development or testing</li>\n</ol>\n\n<h2><a id=\"user-content-table-of-contents\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#table-of-contents\"></a>Table of contents</h2>\n\n\n\n<h2><a id=\"user-content-rationale\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rationale\"></a>Rationale</h2>\n\n<p>There is an official <a href=\"https://github.com/docker/compose\">docker-compose</a> tool that may do the trick. But we found that it is missing a few key features that makes us unable to use it for production deployment. rocker-compose is designed to be a deployment tool in the first place and be useful for development as a bonus (docker-compose is vise versa). For us, a docker deployment tool should:</p>\n\n<ol>\n<li>Be able to read the manifest (configuration file) and run an isolated chain of containers, respecting a dependency graph</li>\n<li>Be idempotent: only affected containers should be restarted <em>(docker-compose simply restarts everything on every run)</em></li>\n<li>Support configurable namespaces and avoid name clashes between apps <em>(docker-compose does not even support underscores in container names - that's a bummer)</em></li>\n<li>Remove containers that are not in the manifest anymore <em>(docker-compose does not)</em></li>\n<li>Respect any changes that can be made to containers' configuration. Images can be updated, their names might stay the same (in case of using mutable tags)</li>\n<li>From the dependency graph, we can determine, which actions may run in parallel, and utilize it</li>\n<li>Support templating in the manifest file: not only ENV variables, but also conditionals, etc. <em>(docker-compose does not have it, but they recently came up with a <a href=\"https://github.com/docker/compose/issues/1377\">pretty good solution</a>, which we also adopted)</em></li>\n</ol>\n\n<p>Contributing these features to docker-compose was also an option, but we decided to come up with a new solution due the following reasons:</p>\n\n<ol>\n<li><code>docker-machine</code> is written in Python, we don't have tools in Python. Also it would be nice if the tool was written in Go to benefit from the existing ecosystem and to ease installations on development machines and any instance or CI server</li>\n<li>We wanted to have full control over the tool and be able to add any feature to it any time</li>\n<li>Time factor was also critical, we were able to come up with a working solution in four days</li>\n</ol>\n\n<h2><a id=\"user-content-how-it-works\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#how-it-works\"></a>How it works</h2>\n\n<p>The most notable feature of <code>rocker-compose</code> is <strong>idempotency</strong>. We have to be able to compare any bit of a container runtime, which includes configuration and state.\nFor every run, rocker-compose is building two data sets: <strong>desired</strong> and <strong>actual</strong>. \"Desired\" is the list of containers given in the manifest. \"Actual\" is the list of currently running containers we get through the Docker API. By <a href=\"https://github.com/grammarly/rocker-compose/blob/master/src/compose/diff.go\">comparing the two sets</a> and knowing the dependencies between the containers we are about to run, we build an <a href=\"https://github.com/grammarly/rocker-compose/blob/master/src/compose/action.go\">ordered action list</a>. You can also consider the action list as a <em>delta</em> between the two sets.</p>\n\n<p>If a desired container does not exist, <code>rocker-compose</code> simply creates it (and optionally starts). For an existing container with the same name (namespace does help here), it does a more sophisticated comparison:</p>\n\n<ol>\n<li><strong>Compare configuration.</strong> When starting a container, <code>rocker-compose</code> puts the serialized source YAML configuration to a label called <code>rocker-compose-config</code>. By <a href=\"https://github.com/grammarly/rocker-compose/blob/master/src/compose/config/compare.go\">comparing</a> the source config from the manifest and the one stored in a running container label, <code>rocker-compose</code> can detect changes.</li>\n<li><strong>Compare image id</strong>. <code>rocker-compose</code> also checks if the image id has changed. It may happen when you are using <code>:latest</code> tags, and an image can be updated without changing the tag.</li>\n<li><a href=\"https://github.com/grammarly/rocker-compose#state\">Compare state</a>.</li>\n</ol>\n\n<p>It allows <code>rocker-compose</code> to perform <strong>as few changes as possible</strong> to make the actual state match the desired one. If something was changed, <code>rocker-compose</code> recreates the container from scratch. Note that any container change can trigger recreations of other containers depending on that one.</p>\n\n<p><strong>In case of loose coupling</strong>, you can benefit from a micro-services approach and do clever updates, affecting only a single container, without touching others. See <a href=\"https://github.com/grammarly/rocker-compose#patterns\">patterns</a> to learn more about the best practices.</p>\n\n<h2><a id=\"user-content-production-use\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#production-use\"></a>Production use</h2>\n\n<p><code>rocker-compose</code> isn't yet battle-tested for production. However, it's intended to be used for deployments due to its idempotent properties. The idea is that anything you do with <code>rocker-compose</code> on your local machine you can do on a remote machine by simply adding remote host parameters or having <a href=\"https://docs.docker.com/reference/commandline/cli/#environment-variables\">appropriate ENV</a>. <code>rocker-compose</code> implements docker's native client interface for connection parameterization.</p>\n\n<div class=\"highlight highlight-bash\"><pre>$ rocker-compose run <span class=\"pl-c\"># gathers info about docker server from ENV</span>\n$ rocker-compose <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>docker-machine config qa1<span class=\"pl-pds\">)</span></span> run <span class=\"pl-c\"># connects to qa1 server and runs there </span></pre></div>\n\n<p><em>NOTE: You should have qa1 machine registered in your docker-machine</em></p>\n\n<p>See <a href=\"https://github.com/grammarly/rocker-compose#command-line-reference\">command line reference</a> for more details.</p>\n\n<h2><a id=\"user-content-migrating-from-docker-compose\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#migrating-from-docker-compose\"></a>Migrating from docker-compose</h2>\n\n<pre><code>diff docker-compose rocker-compose\n</code></pre>\n\n<p>rocker-compose does its best to be compatible with docker-compose manifests, however there are few differences you should consider in order to migrate:</p>\n\n<ol>\n<li>rocker-compose does not support image names without tags specified. In case you have images without tags, just add <code>:latest</code> explicitly.</li>\n<li>rocker-compose does not support <code>build</code> and <code>dockerfile</code> properties for the container spec. If you rely on it heavily, please file an issue and describe your use case.</li>\n<li>Instead of <code>external_links</code> property, you can specify a different or empty namespace, e.g. <code>links: other.app</code> or <code>links: .redis</code>. However, it is suggested to use <a href=\"https://github.com/grammarly/rocker-compose#loose-coupling-network\">loose coupling strategies</a> instead.</li>\n<li>No <a href=\"https://docs.docker.com/swarm/\">Swarm</a> intergration, since we don't use it. It seems to be not a big deal to implement, so PR or issue, please.</li>\n<li>rocker-compose have <code>restart:always</code> but default. Despite Docker's default value is \"no\", we found that more often we want to have \"always\" and people constantly forget to put it.</li>\n<li>There is no <code>rocker-compose scale</code>. Instead, we took a more <a href=\"https://github.com/grammarly/rocker-compose#dynamic-scaling\">declarative approach</a> to replicate containers.</li>\n<li><code>extends</code> works differently. You cannot extend from a different file. <a href=\"https://github.com/grammarly/rocker-compose#extends\">More info</a></li>\n<li>Other properties that are not supported, by may be added easily, file an issue or open a pull request if you miss them: <code>env_file</code>, <code>log_driver</code>, <code>cap_add</code>, <code>devices</code>, <code>security_opt</code>, <code>stdin_open</code>, <code>tty</code>, <code>read_only</code>, <code>volume_driver</code>, <code>mac_address</code>.</li>\n</ol>\n\n<h2><a id=\"user-content-tutorial\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#tutorial\"></a>Tutorial</h2>\n\n<p>Here is an <a href=\"https://github.com/grammarly/rocker-compose/blob/master/example/wordpress.yml\">example of running a wordpress application</a> with rocker-compose:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress </span></span><span class=\"pl-c\"># specify a manifest-level namespace under which all containers will be named</span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span> </span><span class=\"pl-c\"># container name will be \"wordpress.main\"</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2 </span></span><span class=\"pl-c\"># run from \"wordpress\" image of version 4.1.2</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span></span>\n <span class=\"pl-c\"># link container named \"db\" as alias \"mysql\", inside the \"main\" container</span>\n <span class=\"pl-c\"># you can reach \"db\" container by using \"mysql\" host or using MYSQL_PORT_3306_TCP_ADDR env var</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db:mysql</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span><span class=\"pl-c\"># throw 8080 port to a host network, map it to 80 internal port</span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">MYSQL_ROOT_PASSWORD:</span> <span class=\"pl-s\">example </span></span><span class=\"pl-c\"># provide MYSQL_ROOT_PASSWORD env var</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span></span>\n <span class=\"pl-c\"># specify to mount all volumes from \"db_data\" container, this way we can</span>\n <span class=\"pl-c\"># update \"db\" container without loosing data</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db_data </span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db_data:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest </span></span><span class=\"pl-c\"># use empty image, just for data</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created </span></span><span class=\"pl-c\"># this tells compose to not try to run this container, data containers need to be only created</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># define the empty directory that will be used by the \"db\" container</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">/var/lib/mysql</span></span></pre></div>\n\n<p>You can run this manifest with the following command:</p>\n\n<div class=\"highlight highlight-bash\"><pre>rocker-compose run -f example/wordpress.yml</pre></div>\n\n<p>Or simply this in case your manifest is in the same directory and is named <code>compose.yml</code>:</p>\n\n\n\n<p>The output will be something like the following:</p>\n\n<pre><code>INFO[0000] Reading manifest: .../rocker-compose/example/wordpress.yml\nINFO[0000] Gathering info about 17 containers\nINFO[0000] Create container wordpress.db_data\nINFO[0000] Create container wordpress.db\nINFO[0000] Starting container wordpress.db id:810cb0e65e2d from image mysql:5.6\nINFO[0001] Waiting for 1s to ensure wordpress.db not exited abnormally...\nINFO[0002] Create container wordpress.main\nINFO[0002] Starting container wordpress.main id:20aa94bd256d from image wordpress:4.1.2\nINFO[0002] Waiting for 1s to ensure wordpress.main not exited abnormally...\nINFO[0003] Running containers: wordpress.main, wordpress.db, wordpress.db_data\n</code></pre>\n\n<p><em>NOTE: I have all images downloaded already. Rocker-compose will download missing images during the first run. If you want to pull all images from the manifest separately, there is a <code>rocker-compose pull</code> command for that</em></p>\n\n<p><em>NOTE 2: the line \"Gathering info about 17 containers\" just means that there are 17 containers on my machine that were created by rocker-compose. You will have 0</em></p>\n\n<p>Rocker-compose creates containers in a deliberate order respecting inter-container dependencies. Let's see what we've created:</p>\n\n<pre><code>$ docker ps -a | grep wordpress\n13f34666431e wordpress:4.1.2 \"/entrypoint.sh apac 2 minutes ago Up 2 minutes 0.0.0.0:8080-&gt;80/tcp wordpress.main\n810cb0e65e2d mysql:5.6 \"/entrypoint.sh mysq 2 minutes ago Up 2 minutes 3306/tcp wordpress.db\n26511eaeccd2 grammarly/scratch:latest \"true\" 2 minutes ago wordpress.db_data\n$\n</code></pre>\n\n<p><code>rocker-compose</code> prefixed container names with the namespace \"wordpress\". Namespaces help <code>rocker-compose</code> to isolate container names and also detect obsolete containers that should be removed.</p>\n\n<p>You can now go to your browser and check <code>:8080</code> under your <code>docker-machine ip</code> address. Wordpress application should be there.</p>\n\n<p>Assuming you have a virtual machine named <code>dev</code>, you can do:</p>\n\n<div class=\"highlight highlight-bash\"><pre>$ open http://<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>docker-machine ip dev<span class=\"pl-pds\">)</span></span>:8080/</pre></div>\n\n<p>Let's inspect some stuff and connect to the Wordpress application container to see how it interacts with mysql:</p>\n\n<div class=\"highlight highlight-bash\"><pre><span class=\"pl-c\"># as you can see, wordpress is running a bunch of apache2 processes</span>\n$ docker <span class=\"pl-c1\">exec</span> -ti wordpress.main ps aux\nUSER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND\nroot 1 0.0 0.9 177140 20184 <span class=\"pl-k\">?</span> Ss 14:59 0:00 apache2 -DFOREGROUND\nwww-data 118 0.0 0.3 177172 7416 <span class=\"pl-k\">?</span> S 14:59 0:00 apache2 -DFOREGROUND\nwww-data 119 0.0 0.3 177172 7416 <span class=\"pl-k\">?</span> S 14:59 0:00 apache2 -DFOREGROUND\nwww-data 120 0.0 0.3 177172 7416 <span class=\"pl-k\">?</span> S 14:59 0:00 apache2 -DFOREGROUND\nwww-data 121 0.0 0.3 177172 7416 <span class=\"pl-k\">?</span> S 14:59 0:00 apache2 -DFOREGROUND\nwww-data 122 0.0 0.3 177172 7416 <span class=\"pl-k\">?</span> S 14:59 0:00 apache2 -DFOREGROUND\nroot 131 0.0 0.1 17492 2100 <span class=\"pl-k\">?</span> Rs+ 15:12 0:00 ps aux\n\n<span class=\"pl-c\"># let's look at ENV variables that are in our wordpress container</span>\n<span class=\"pl-c\"># there is a MYSQL_PORT_3306_TCP_ADDR which can be used to connect to a db container</span>\n$ docker <span class=\"pl-c1\">exec</span> -ti wordpress.main env\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nHOSTNAME=20aa94bd256d\nMYSQL_PORT=tcp://172.17.3.21:3306\nMYSQL_PORT_3306_TCP=tcp://172.17.3.21:3306\nMYSQL_PORT_3306_TCP_ADDR=172.17.3.21\nMYSQL_PORT_3306_TCP_PORT=3306\nMYSQL_PORT_3306_TCP_PROTO=tcp\nMYSQL_NAME=/wordpress.main/mysql\nMYSQL_ENV_MYSQL_ROOT_PASSWORD=example\nMYSQL_ENV_MYSQL_MAJOR=5.6\nMYSQL_ENV_MYSQL_VERSION=5.6.25\nPHP_INI_DIR=/usr/local/etc/php\nPHP_EXTRA_BUILD_DEPS=apache2-dev\nPHP_EXTRA_CONFIGURE_ARGS=--with-apxs2\nPHP_VERSION=5.6.8\nWORDPRESS_VERSION=4.1.2\nWORDPRESS_UPSTREAM_VERSION=4.1.2\nWORDPRESS_SHA1=9e9745bb8a1166622de866076eac73a49cb3eba0\nHOME=/root\n\n<span class=\"pl-c\"># /etc/hosts shows that there is a host entry for db container as well</span>\n$ docker <span class=\"pl-c1\">exec</span> -ti wordpress.main cat /etc/hosts\n172.17.3.23 20aa94bd256d\n127.0.0.1 localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.3.21 mysql 810cb0e65e2d wordpress.db\n\n<span class=\"pl-c\"># you can also open a shell inside of the wordpress container and inspect some stuff</span>\n$ docker <span class=\"pl-c1\">exec</span> -ti wordpress.main bash\nroot@20aa94bd256d:/var/www/html# df -h\nFilesystem Size Used Avail Use% Mounted on\nnone 19G 17G 598M 97% /\ntmpfs 1002M 0 1002M 0% /dev\nshm 64M 0 64M 0% /dev/shm\n/dev/sda1 19G 17G 598M 97% /etc/hosts\nroot@20aa94bd256d:/var/www/html# <span class=\"pl-c1\">exit</span>\n<span class=\"pl-c1\">exit</span>\n$</pre></div>\n\n<p>As you can see, I am almost out of space on my boot2docker virtual machine.</p>\n\n<p>In case you run <code>rocker-compose</code> again without changing anything, it will ensure that nothing was changed and quit:</p>\n\n<pre><code>$ rocker-compose run\nINFO[0000] Reading manifest: .../rocker-compose/example/wordpress.yml\nINFO[0000] Gathering info about 20 containers\nINFO[0000] Running containers: wordpress.main, wordpress.db, wordpress.db_data\n$\n</code></pre>\n\n<p>Let's update our Wordpress application and set the newer version:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-c\"># ...</span>\n<span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.2.2</span></span>\n<span class=\"pl-c\"># ...</span></pre></div>\n\n<p>And to apply the effects of our changes, you have to repeat the run:</p>\n\n<pre><code>$ rocker-compose run\nINFO[0000] Reading manifest:.../rocker-compose/example/wordpress.yml\nINFO[0000] Gathering info about 20 containers\nINFO[0000] Pulling image: wordpress:4.2.2 for wordpress.main\n...\nINFO[0045] Removing container wordpress.main id:20aa94bd256d\nINFO[0045] Create container wordpress.main\nINFO[0045] Starting container wordpress.main id:13f34666431e from image wordpress:4.2.2\nINFO[0046] Waiting for 1s to ensure wordpress.main not exited abnormally...\nINFO[0047] Running containers: wordpress.main, wordpress.db, wordpress.db_data\n$\n</code></pre>\n\n<p><code>rocker-compose</code> has automatically pulled the newer version 4.2.2 of Wordpress and restarted the container. Note that our <code>db</code> and <code>db_data</code> containers were untouched since they haven't been changed.</p>\n\n<pre><code>$ docker ps -a | grep wordpress\n13f34666431e wordpress:4.2.2 \"/entrypoint.sh apac 2 minutes ago Up 2 minutes 0.0.0.0:8080-&gt;80/tcp wordpress.main\n810cb0e65e2d mysql:5.6 \"/entrypoint.sh mysq 15 minutes ago Up 15 minutes 3306/tcp wordpress.db\n26511eaeccd2 grammarly/scratch:latest \"true\" 15 minutes ago wordpress.db_data\n$\n</code></pre>\n\n<p>You can see that <code>wordpress.main</code> container was restarted later than others. Also, it is running a newer version now.</p>\n\n<p>Any attribute can be changed and after running <code>compose</code> again, it will change as little as it can to make the actual state match the desired one.</p>\n\n<p>After experimenting you can remove containers from the manifest:</p>\n\n<pre><code>$ rocker-compose rm\nINFO[0000] Reading manifest: .../rocker-compose/example/wordpress.yml\nINFO[0000] Gathering info about 20 containers\nINFO[0000] Removing container wordpress.main id:13f34666431e\nINFO[0001] Removing container wordpress.db id:810cb0e65e2d\nINFO[0002] Removing container wordpress.db_data id:26511eaeccd2\nINFO[0002] Nothing is running\n$\n</code></pre>\n\n<h2><a id=\"user-content-command-line-reference\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#command-line-reference\"></a>Command line reference</h2>\n\n<h5><a id=\"user-content-rocker-compose-1\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-1\"></a><code>rocker-compose</code></h5>\n\n<p>These options are global and can be used with any subcommand:</p>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-verbose</code></td>\n<td><code>-vv</code></td>\n<td><code>false</code></td>\n<td>makes debug output</td>\n<td><code>rocker-compose -vv run</code></td>\n</tr>\n<tr>\n<td><code>-log</code></td>\n<td><code>-l</code></td>\n<td><code>nil</code></td>\n<td>redirects output to a log file</td>\n<td><code>rocker-compose -l out.log run</code></td>\n</tr>\n<tr>\n<td><code>-json</code></td>\n<td><em>none</em></td>\n<td>makes json output</td>\n<td><code>rocker-compose -json run</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-host</code></td>\n<td><code>-H</code></td>\n<td><code>unix:///var/run/docker.sock</code></td>\n<td>Daemon socket(s) to connect to [$DOCKER_HOST]</td>\n<td><code>rocker-compose -H tcp://10.10.41.2:2376 run</code></td>\n</tr>\n<tr>\n<td><code>-tlsverify</code></td>\n<td><code>-tls</code></td>\n<td><code>false</code></td>\n<td>Use TLS and verify the remote</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-tlscacert</code></td>\n<td><em>none</em></td>\n<td><code>~/.docker/ca.pem</code></td>\n<td>Trust certs signed only by this CA</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-tlscert</code></td>\n<td><em>none</em></td>\n<td><code>~/.docker/cert.pem</code></td>\n<td>Path to TLS certificate file</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-tlskey</code></td>\n<td><em>none</em></td>\n<td><code>~/.docker/key.pem</code></td>\n<td>Path to TLS key file</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-auth</code></td>\n<td><code>-a</code></td>\n<td><code>nil</code></td>\n<td>Docker auth, username and password in user:password format</td>\n<td><code>rocker-compose -a user:pass run</code></td>\n</tr>\n<tr>\n<td><code>-help</code></td>\n<td><code>-h</code></td>\n<td><code>nil</code></td>\n<td>shows help</td>\n<td><code>rocker-compose --help</code></td>\n</tr>\n<tr>\n<td><code>-version</code></td>\n<td><code>-v</code></td>\n<td><code>nil</code></td>\n<td>prints rocker-compose version</td>\n<td><code>rocker-compose -v</code></td>\n</tr>\n</tbody></table>\n\n<h5><a id=\"user-content-common-options-for-run-pull-rm-and-clean-commands\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#common-options-for-run-pull-rm-and-clean-commands\"></a>Common options for <code>run</code>, <code>pull</code>, <code>rm</code> and <code>clean</code> commands</h5>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-file</code></td>\n<td><code>-d</code></td>\n<td><code>compose.yml</code></td>\n<td>Path to configuration file, if <code>-</code> is given as a value, then STDIN will be used</td>\n<td><code>rocker-compose run -f c.yml</code>, <code>cat c.yml | rocker-compose run -f -</code></td>\n</tr>\n<tr>\n<td><code>-var</code></td>\n<td><em>none</em></td>\n<td><code>[]</code></td>\n<td>Set variables to pass to build tasks</td>\n<td><code>rocker-compose run -var v=1 -var dev=true</code></td>\n</tr>\n<tr>\n<td><code>-dry</code></td>\n<td><code>-d</code></td>\n<td><code>false</code></td>\n<td>Don't execute any operations on target docker</td>\n<td><code>rocker-compose clean -d</code></td>\n</tr>\n</tbody></table>\n\n<h5><a id=\"user-content-rocker-compose-run--executes-manifest-composeyml\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-run--executes-manifest-composeyml\"></a><code>rocker-compose run</code> &#x2014; executes manifest (compose.yml)</h5>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-global</code></td>\n<td><code>-g</code></td>\n<td><code>false</code></td>\n<td>Search for existing containers globally, not only ones started with compose</td>\n<td><code>rocker-compose run -g</code></td>\n</tr>\n<tr>\n<td><code>-force</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>Force recreation of all containers</td>\n<td><code>rocker-compose run -force</code></td>\n</tr>\n<tr>\n<td><code>-attach</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>Stream stdout and stderr of all containers from the spec</td>\n<td><code>rocker-compose run -attach</code></td>\n</tr>\n<tr>\n<td><code>-pull</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>Pull images before running</td>\n<td><code>rocker-compose run -pull</code></td>\n</tr>\n<tr>\n<td><code>-wait</code></td>\n<td><em>none</em></td>\n<td><code>1s</code></td>\n<td>Wait and check exit codes of launched containers</td>\n<td><code>rocker-compose run -wait 5s</code></td>\n</tr>\n<tr>\n<td><code>-ansible</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>output json in ansible format for easy parsing</td>\n<td><code>rocker-compose clean -ansible</code></td>\n</tr>\n</tbody></table>\n\n<p>+ Common options.</p>\n\n<h5><a id=\"user-content-rocker-compose-pull--pull-images-specified-in-the-manifest\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-pull--pull-images-specified-in-the-manifest\"></a><code>rocker-compose pull</code> &#x2014; pull images specified in the manifest</h5>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-ansible</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>output json in ansible format for easy parsing</td>\n<td><code>rocker-compose clean -ansible</code></td>\n</tr>\n</tbody></table>\n\n<p>+ Common options.</p>\n\n<h5><a id=\"user-content-rocker-compose-rm--stop-and-remove-any-containers-specified-in-the-manifest\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-rm--stop-and-remove-any-containers-specified-in-the-manifest\"></a><code>rocker-compose rm</code> &#x2014; stop and remove any containers specified in the manifest</h5>\n\n<p>+ Common options.</p>\n\n<h5><a id=\"user-content-rocker-compose-clean--cleanup-old-tags-for-images-specified-in-the-manifest\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-clean--cleanup-old-tags-for-images-specified-in-the-manifest\"></a><code>rocker-compose clean</code> &#x2014; cleanup old tags for images specified in the manifest</h5>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-keep</code></td>\n<td><code>-k</code></td>\n<td><code>5</code></td>\n<td>number of last images to keep</td>\n<td><code>rocker-compose clean -k 10</code></td>\n</tr>\n<tr>\n<td><code>-ansible</code></td>\n<td><em>none</em></td>\n<td><code>false</code></td>\n<td>output json in ansible format for easy parsing</td>\n<td><code>rocker-compose clean -ansible</code></td>\n</tr>\n</tbody></table>\n\n<p>+ Common options.</p>\n\n<h5><a id=\"user-content-rocker-compose-info--show-docker-info-check-connectivity-versions-etc\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#rocker-compose-info--show-docker-info-check-connectivity-versions-etc\"></a><code>rocker-compose info</code> &#x2014; show docker info (check connectivity, versions, etc.)</h5>\n\n<table><thead>\n<tr>\n<th>option</th>\n<th>alias</th>\n<th>default value</th>\n<th>description</th>\n<th>example</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>-all</code></td>\n<td><code>-a</code></td>\n<td><code>false</code></td>\n<td>show advanced info</td>\n<td><code>rocker-compose info -a</code></td>\n</tr>\n</tbody></table>\n\n<h2><a id=\"user-content-composeyml-spec\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#composeyml-spec\"></a>compose.yml spec</h2>\n\n<p>The spec is a <a href=\"http://yaml.org/\">YAML</a> file format. Note that the indentation is 2 spaces. Empty lines should be unindented.</p>\n\n<h3><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#example\"></a>Example</h3>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress </span></span><span class=\"pl-c\"># specify a manifest-level namespace under which all containers will be named</span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span> </span><span class=\"pl-c\"># container name will be \"wordpress.main\"</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2 </span></span><span class=\"pl-c\"># run from \"wordpress\" image of version 4.1.2</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span></span>\n <span class=\"pl-c\"># link container named \"db\" as alias \"mysql\", inside the \"main\" container</span>\n <span class=\"pl-c\"># you can reach \"db\" container by using \"mysql\" host or using MYSQL_PORT_3306_TCP_ADDR env var</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db:mysql</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span><span class=\"pl-c\"># throw 8080 port to a host network, map it to 80 internal port</span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">MYSQL_ROOT_PASSWORD:</span> <span class=\"pl-s\">example </span></span><span class=\"pl-c\"># provide MYSQL_ROOT_PASSWORD env var</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span></span>\n <span class=\"pl-c\"># specify to mount all volumes from \"db_data\" container, this way we can</span>\n <span class=\"pl-c\"># update \"db\" container without loosing data</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db_data </span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db_data:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest </span></span><span class=\"pl-c\"># use empty image, just for data</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created </span></span><span class=\"pl-c\"># this tells compose to not try to run this container, data containers need to be only created</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># define the empty directory that will be used by the \"db\" container</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">/var/lib/mysql</span></span></pre></div>\n\n<p>rocker-compose is also compatible with docker-compose format, where containers are specified in the root level:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">db:mysql</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span> <span class=\"pl-s\">MYSQL_ROOT_PASSWORD=example</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span> <span class=\"pl-s\">db_data </span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">db_data:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span> <span class=\"pl-s\">/var/lib/mysql</span></span></pre></div>\n\n<p>In this case, namespace will be the name of parent directory of your <code>compose.yml</code> file.</p>\n\n<h3><a id=\"user-content-types\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#types\"></a>Types</h3>\n\n<p>String:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress</span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">while true; do sleep 1; done</span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> |-</span>\n<span class=\"pl-s\"> set -e</span>\n<span class=\"pl-s\"> touch /var/log/out.log</span>\n<span class=\"pl-s\"> while true; do echo \"hello\" &gt;&gt; /var/log/out.log; sleep 1; done</span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">str1:</span> <span class=\"pl-s\">and i am also a string</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">str2:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>and i<span class=\"pl-pds\">\"</span></span></span></pre></div>\n\n<p>Array:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">[\"/bin/sh\", \"-c\", \"echo hello\"]</span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\">data</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\">config</span></span>\n\n<span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span></pre></div>\n\n<p>Hash:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">env:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">DB_PASSWORD:</span> <span class=\"pl-s\">lopata</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">DB_HOST:</span> <span class=\"pl-s\">localhost</span></span></pre></div>\n\n<p>Bool:</p>\n\n\n\n<p>Number:</p>\n\n\n\n<p>Ulimit:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">ulimits:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-ent\">name:</span> <span class=\"pl-s\">nofile</span></span>\n <span class=\"pl-c1\"><span class=\"pl-ent\">soft:</span> 1024</span>\n <span class=\"pl-c1\"><span class=\"pl-ent\">hard:</span> 2048</span></pre></div>\n\n<h3><a id=\"user-content-root-level-properties\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#root-level-properties\"></a>Root level properties</h3>\n\n<table><thead>\n<tr>\n<th>Property</th>\n<th>Default value</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><strong>namespace</strong></td>\n<td><em>REQUIRED</em></td>\n<td>String</td>\n<td>root namespace to prefix all container names in the current manifest</td>\n</tr>\n<tr>\n<td><strong>containers</strong></td>\n<td><em>REQUIRED</em></td>\n<td>Hash</td>\n<td>list of containers to run within the current namespace where every key:value pair is a container name as a key and container spec as a value</td>\n</tr>\n</tbody></table>\n\n<h3><a id=\"user-content-container-properties\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#container-properties\"></a>Container properties</h3>\n\n<p>Example:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress</span></span></pre></div>\n\n<p>Where <code>main</code> is a container name and <code>image: wordpress</code> is its spec. If container name begins with an underscore (<code>_</code>) then <code>rocker-compose</code> will not consider it &#x2014; useful for creating base specs for <a href=\"https://github.com/grammarly/rocker-compose#extends\">extends</a>. Note that by convension, properties should be maintained in the given order when writing compose manifests.</p>\n\n<table><thead>\n<tr>\n<th>Property</th>\n<th>Default</th>\n<th>Type</th>\n<th>Run param</th>\n<th>Description</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><strong>extends</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><em>none</em></td>\n<td><code>container_name</code> - extend spec from another container of the current manifest</td>\n</tr>\n<tr>\n<td><strong>image</strong></td>\n<td><em>REQUIRED</em></td>\n<td>String</td>\n<td><code>docker run &lt;image&gt;</code></td>\n<td>image name for the container, the syntax is <code>[registry/][repo/]name[:tag]</code></td>\n</tr>\n<tr>\n<td><strong>state</strong></td>\n<td><code>running</code></td>\n<td>String</td>\n<td><em>none</em></td>\n<td><code>running</code>, <code>ran</code>, <code>created</code> - desired state of a container (<a href=\"https://github.com/grammarly/rocker-compose#state\">read more about state</a>)</td>\n</tr>\n<tr>\n<td><strong>entrypoint</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#entrypoint-default-command-to-execute-at-runtime\"><code>--entrypoint</code></a></td>\n<td>overwrite the default entrypoint set by the image</td>\n</tr>\n<tr>\n<td><strong>cmd</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><code>docker run &lt;image&gt; &lt;cmd&gt;</code></td>\n<td>the list of command arguments to pass</td>\n</tr>\n<tr>\n<td><strong>workdir</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#workdir\"><code>-w</code></a></td>\n<td>set working directory inside the container</td>\n</tr>\n<tr>\n<td><strong>restart</strong></td>\n<td><code>always</code></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#restart-policies-restart\"><code>--restart</code></a></td>\n<td><code>never</code>, <code>always</code>, <code>on-failure,N</code> - container restart policy</td>\n</tr>\n<tr>\n<td><strong>labels</strong></td>\n<td><em>nil</em></td>\n<td>Hash|String</td>\n<td><code>--label FOO=BAR</code></td>\n<td>key/value labels to add to the container</td>\n</tr>\n<tr>\n<td><strong>env</strong></td>\n<td><em>nil</em></td>\n<td>Hash|String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#env-environment-variables\"><code>-e</code></a></td>\n<td>key/value ENV variables</td>\n</tr>\n<tr>\n<td><strong>wait_for</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><em>none</em></td>\n<td>array of container names - wait for other containers to start before starting the container</td>\n</tr>\n<tr>\n<td><strong>links</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/userguide/dockerlinks/\"><code>--link</code></a></td>\n<td>other containers to link with; can be <code>container</code> or <code>container:alias</code></td>\n</tr>\n<tr>\n<td><strong>volumes_from</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/userguide/dockervolumes/\"><code>--volumes-from</code></a></td>\n<td>mount volumes from other containers</td>\n</tr>\n<tr>\n<td><strong>volumes</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/userguide/dockervolumes/\"><code>-v</code></a></td>\n<td>specify volumes of a container, can be <code>path</code> or <code>src:dest</code> <a href=\"https://github.com/grammarly/rocker-compose#volumes\">read more</a></td>\n</tr>\n<tr>\n<td><strong>expose</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/articles/networking/\"><code>--expose</code></a></td>\n<td>expose a port or a range of ports from the container without publishing it/them to your host; e.g. <code>8080</code> or <code>8125/udp</code></td>\n</tr>\n<tr>\n<td><strong>ports</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/articles/networking/\"><code>-p</code></a></td>\n<td>publish a container&#x1FBF;s port or a range of ports to the host, e.g. <code>8080:80</code> or <code>0.0.0.0:8080:80</code> or <code>8125:8125/udp</code></td>\n</tr>\n<tr>\n<td><strong>publish_all_ports</strong></td>\n<td><code>false</code></td>\n<td>Bool</td>\n<td><a href=\"https://docs.docker.com/articles/networking/\"><code>-P</code></a></td>\n<td>every port in <code>expose</code> will be published to the host</td>\n</tr>\n<tr>\n<td><strong>dns</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#network-settings\"><code>--dns</code></a></td>\n<td>add DNS servers to the container</td>\n</tr>\n<tr>\n<td><strong>add_host</strong></td>\n<td><em>nil</em></td>\n<td>Array|String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#network-settings\"><code>--add-host</code></a></td>\n<td>add records to <code>/etc/hosts</code> file, e.g. <code>mysql:172.17.3.21</code></td>\n</tr>\n<tr>\n<td><strong>net</strong></td>\n<td><code>bridge</code></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#network-settings\"><code>--net</code></a></td>\n<td>network mode, options are: <code>bridge</code>, <code>host</code>, <code>container:&lt;name|id&gt;</code>; <code>none</code> is used to disable networking</td>\n</tr>\n<tr>\n<td><strong>hostname</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#network-settings\"><code>--hostname</code></a></td>\n<td>set a custom hostname for the container</td>\n</tr>\n<tr>\n<td><strong>domainname</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/articles/networking/#configuring-dns\"><code>--dns-search</code></a></td>\n<td>set the search domain to <code>/etc/resolv.conf</code></td>\n</tr>\n<tr>\n<td><strong>user</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#user\"><code>-u</code></a></td>\n<td>run container process with specified user or UID</td>\n</tr>\n<tr>\n<td><strong>uts</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#uts-settings-uts\"><code>--uts</code></a></td>\n<td>if set to <code>host</code> container will inherit host machine's hostname and domain; warning, <strong>insecure</strong>, use only with trusted containers</td>\n</tr>\n<tr>\n<td><strong>pid</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#pid-settings-pid\"><code>--pid</code></a></td>\n<td>set the PID (Process) Namespace mode for the container, when set to <code>host</code> will be in host machine's namespace</td>\n</tr>\n<tr>\n<td><strong>privileged</strong></td>\n<td><code>false</code></td>\n<td>Bool</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-privilege-linux-capabilities-and-lxc-configuration\"><code>--privileged</code></a></td>\n<td>give extended privileges to this container</td>\n</tr>\n<tr>\n<td><strong>memory</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td>Number</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-constraints-on-resources\"><code>--memory</code></a></td>\n</tr>\n<tr>\n<td><strong>memory_swap</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td>Number</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-constraints-on-resources\"><code>--memory-swap</code></a></td>\n</tr>\n<tr>\n<td><strong>cpu_shares</strong></td>\n<td><em>nil</em></td>\n<td>Number</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-constraints-on-resources\"><code>--cpu-shares</code></a></td>\n<td>CPU shares (relative weight)</td>\n</tr>\n<tr>\n<td><strong>cpu_period</strong></td>\n<td><em>nil</em></td>\n<td>Number</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-constraints-on-resources\"><code>--cpu-period</code></a></td>\n<td>limit the CPU CFS (Completely Fair Scheduler) period</td>\n</tr>\n<tr>\n<td><strong>cpuset_cpus</strong></td>\n<td><em>nil</em></td>\n<td>String</td>\n<td><a href=\"https://docs.docker.com/reference/run/#runtime-constraints-on-resources\"><code>--cpuset-cpus</code></a></td>\n<td>CPUs in which to allow execution, e.g. <code>0-3</code> or <code>0,1</code></td>\n</tr>\n<tr>\n<td><strong>ulimits</strong></td>\n<td><em>nil</em></td>\n<td>Array of Ulimit</td>\n<td><a href=\"https://github.com/docker/docker/pull/9437\"><code>--ulimit</code></a></td>\n<td>ulimit spec for the container</td>\n</tr>\n<tr>\n<td><strong>kill_timeout</strong></td>\n<td><code>0</code></td>\n<td>Number</td>\n<td><em>none</em></td>\n<td>timeout in seconds to wait for container to <a href=\"https://docs.docker.com/reference/commandline/stop/\">stop before killing it</a> with <code>-9</code></td>\n</tr>\n<tr>\n<td><strong>keep_volumes</strong></td>\n<td><code>false</code></td>\n<td>Bool</td>\n<td><em>none</em></td>\n<td>tell <code>rocker-compose</code> to keep volumes when removing the container</td>\n</tr>\n</tbody></table>\n\n<p>Some aliases are supported for compatibility with <code>docker-compose</code> and <code>docker run</code> specs:</p>\n\n<table><thead>\n<tr>\n<th>docker_compose</th>\n<th>rocker_compose</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><code>command</code></td>\n<td><code>cmd</code></td>\n</tr>\n<tr>\n<td><code>link</code></td>\n<td><code>links</code></td>\n</tr>\n<tr>\n<td><code>label</code></td>\n<td><code>labels</code></td>\n</tr>\n<tr>\n<td><code>hosts</code></td>\n<td><code>add_host</code></td>\n</tr>\n<tr>\n<td><code>extra_hosts</code></td>\n<td><code>add_host</code></td>\n</tr>\n<tr>\n<td><code>working_dir</code></td>\n<td><code>workdir</code></td>\n</tr>\n<tr>\n<td><code>environment</code></td>\n<td><code>env</code></td>\n</tr>\n</tbody></table>\n\n<h2><a id=\"user-content-state\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#state\"></a>State</h2>\n\n<p>For every pair of containers with the same name, <code>rocker-compose</code> does a comparison of all properties to figure out changes, as well as a check of the running state. To determine if the container should be restarted, in case all other properties are equal, <code>rocker-compose</code> uses the following decision scheme:</p>\n\n<table><thead>\n<tr>\n<th>Desired State</th>\n<th>Actual State</th>\n<th>Exit Code</th>\n<th>Action</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>running</td>\n<td>not exists</td>\n<td><em>none</em></td>\n<td>start</td>\n</tr>\n<tr>\n<td>running</td>\n<td>exists</td>\n<td><em>any</em></td>\n<td>remove and start</td>\n</tr>\n<tr>\n<td>running</td>\n<td>restarting</td>\n<td><em>any</em></td>\n<td>wait</td>\n</tr>\n<tr>\n<td>running</td>\n<td>running</td>\n<td><em>none</em></td>\n<td>NOOP</td>\n</tr>\n<tr>\n<td>created</td>\n<td>not exists</td>\n<td><em>none</em></td>\n<td>create</td>\n</tr>\n<tr>\n<td>created</td>\n<td>exists</td>\n<td><em>any</em></td>\n<td>NOOP</td>\n</tr>\n<tr>\n<td>created</td>\n<td>restarting</td>\n<td><em>any</em></td>\n<td>remove and create</td>\n</tr>\n<tr>\n<td>created</td>\n<td>running</td>\n<td><em>none</em></td>\n<td>remove and create</td>\n</tr>\n<tr>\n<td>ran</td>\n<td>not exists</td>\n<td><em>none</em></td>\n<td>start and wait</td>\n</tr>\n<tr>\n<td>ran</td>\n<td>exists</td>\n<td><code>0</code></td>\n<td>NOOP</td>\n</tr>\n<tr>\n<td>ran</td>\n<td>exists</td>\n<td>non-zero</td>\n<td>remove, start and wait</td>\n</tr>\n<tr>\n<td>ran</td>\n<td>restarting</td>\n<td><em>any</em></td>\n<td>wait</td>\n</tr>\n<tr>\n<td>ran</td>\n<td>running</td>\n<td><em>none</em></td>\n<td>NOOP?</td>\n</tr>\n</tbody></table>\n\n<p><em>NOTE: by \"start\" here we mean \"create\" and then \"start\"</em></p>\n\n<p><strong>state: ran</strong> is used for single-shot commands to perform some initialization. <code>rocker-compose</code> does not re-run such containers unless they have changed or previous executions exited with non-zero code.</p>\n\n<p><strong>state: created</strong> is mostly used for data volume and network-share containers. They are described in <a href=\"https://github.com/grammarly/rocker-compose#patterns\">patterns</a> section.</p>\n\n<h2><a id=\"user-content-volumes\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#volumes\"></a>Volumes</h2>\n\n<p>It is possible to mount volumes to a running container the same way as it is when using plain <code>docker run</code>. In Docker, there are two types of volumes: <strong>Data volume</strong> and <strong>Mounted host directory</strong>. </p>\n\n<h3><a id=\"user-content-data-volume\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#data-volume\"></a>Data volume</h3>\n\n<p>\"Data volume\" is a reusable directory managed by Docker daemon that can be shared between containers. Most often, this type of file sharing across containers should be used because of its <a href=\"http://12factor.net/\">12factor</a> compliance &#x2014; you can think of it as \"data volume as a service\".</p>\n\n<p>Example:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span></span>\n <span class=\"pl-c\"># specify to mount all volumes from \"db_data\" container, this way we can</span>\n <span class=\"pl-c\"># update \"db\" container without loosing data</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db_data </span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db_data:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest </span></span><span class=\"pl-c\"># use empty image, just for data</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created </span></span><span class=\"pl-c\"># this tells compose to not try to run this container, data containers needs to be just created</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># define the empty directory that will be used by \"db\" container</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">/var/lib/mysql</span></span>\n\n <span class=\"pl-c\"># Cron job container that will periodically backup data from /var/lib/mysql volume in db_data container</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">db_backup:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">some_cron_backuper_image</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span> <span class=\"pl-s\">db_data</span></span></pre></div>\n\n<h3><a id=\"user-content-mounted-host-directory\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#mounted-host-directory\"></a>Mounted host directory</h3>\n\n<p>While it is useful for development and testing, it's unsafe and error-prone for production use. It requires some external folder to exist on a host machine in order to run your container. Also, it may cause some unpleasant failure modes hard to reproduce. And finally, you cannot guarantee reproducibility of your manifests.</p>\n\n<p>The rule of thumb with \"Mounted host directories\" is the following:</p>\n\n<ol>\n<li>Use it only for development</li>\n<li>Use it for logging or mounting external devices, such as EBS volumes <em>(this one may be covered by tools like <a href=\"https://github.com/ClusterHQ/flocker\">flocker</a> or future docker volume drivers)</em></li>\n</ol>\n\n<p>Example:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># mount /mnt/data directory from host machine to /var/lib/mysql in the container</span>\n <span class=\"pl-c\"># container can be safely removed without data loss</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">/mnt/data:/var/lib/mysql</span></span>\n\n <span class=\"pl-c\"># Cron job container that will periodically backup data from /mnt/data host machine directory</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">db_backup:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">some_cron_backuper_image</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span> <span class=\"pl-s\">/mnt/data:/var/lib/mysql</span></span></pre></div>\n\n<p>Development example:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">db:mysql</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># mount ./wordpress-src directory to /var/www/html in the container, this way we can hack wordpress sources while the container is running</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">./wordpress-src:/var/www/html</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span></pre></div>\n\n<p><em>NOTE: you cannot use the last example for production, obviously because there should be no such directory as <code>./wordpress-src</code></em></p>\n\n<h2><a id=\"user-content-extends\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#extends\"></a>Extends</h2>\n\n<p>You can extend some container specifications within a single manifest file. In this example, we will run two identical wordpress containers and assign them to different ports:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-c\"># define base _main container spec; it will be ignored by rocker-compose because it starts from _</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">_main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">db:mysql</span></span>\n\n <span class=\"pl-c\"># extend main1 from _main and override ports to listen on :8080</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main1:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">extends:</span> <span class=\"pl-s\">_main</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8080:80<span class=\"pl-pds\">\"</span></span></span>\n\n <span class=\"pl-c\"># extend main2 from _main and override ports to listen on :8081</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main2:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">extends:</span> <span class=\"pl-s\">_main</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8081:80<span class=\"pl-pds\">\"</span></span></span></pre></div>\n\n<p><strong>NOTE:</strong> nested extends are not allowed by <code>rocker-compose</code>.</p>\n\n<h2><a id=\"user-content-templating\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#templating\"></a>Templating</h2>\n\n<p><code>rocker-compose</code> uses Go <a href=\"http://golang.org/pkg/text/template/\">text/template</a> engine to render manifests. This way you can put some logic into your manifests or even inject some variables from the outside:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">db:mysql</span></span>\n {{ if eq .env <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dev<span class=\"pl-pds\">\"</span></span> }}\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># mount ./wordpress-src directory to /var/www/html in the container, such way we can hack wordpress sources while the container is running</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">./wordpress-src:/var/www/html</span></span>\n {{ end }}\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\">{{ or .port \"8080\" }}:80</span></span></pre></div>\n\n<p>You can run this manifest as follows:</p>\n\n<div class=\"highlight highlight-bash\"><pre>$ rocker-compose run <span class=\"pl-c\"># will not mount src volume and run on 8080</span>\n$ rocker-compose run -var env=dev <span class=\"pl-c\"># will mount src volume and run on :8080</span>\n$ rocker-compose run -var env=dev -var port=8081 <span class=\"pl-c\"># will mount src volume and run on :8081</span></pre></div>\n\n<p>In addition to the <a href=\"http://golang.org/pkg/text/template/#hdr-Functions\">builtin helper functions</a> there are some provided by <code>rocker-compose</code>:</p>\n\n<h6><a id=\"user-content--bridgeip--example\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#-bridgeip--example\"></a>{{ bridgeIp }} <a href=\"https://github.com/grammarly/rocker-compose#loose-coupling-network\">Example</a></h6>\n\n<p>Returns Docker's <a href=\"https://docs.docker.com/articles/networking/\">bridge gateway ip</a>, which can be used to access any exposed ports of an external container. Useful for loose coupling. <a href=\"https://github.com/grammarly/rocker-compose/blob/88007dcf571da7617f775c9abe1824eedc9598fb/src/compose/docker.go#L59\">Source</a></p>\n\n<h6><a id=\"user-content--seq-to--or--seq-from-to--or--seq-from-to-step-\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#-seq-to--or--seq-from-to--or--seq-from-to-step-\"></a>{{ seq <em>To</em> }} or {{ seq <em>From</em> <em>To</em> }} or {{ seq <em>From</em> <em>To</em> <em>Step</em> }}</h6>\n\n<p>Sequence generator. Returns an array of integers of a given sequence. Useful when you need to duplicate some configuration, for example scale containers of the same type. Mostly used in combination with <code>range</code>:</p>\n\n<pre><code>{{ range $i := seq 1 5 2 }}\ncontainer-$i\n{{ end }}\n</code></pre>\n\n<p>This template will yield:</p>\n\n<pre><code>container-1\ncontainer-3\ncontainer-5\n</code></pre>\n\n<p>See <a href=\"https://github.com/grammarly/rocker-compose#dynamic-scaling\">this example</a> of using <code>seq</code> for dynamically scaling containers.</p>\n\n<h2><a id=\"user-content-dynamic-scaling\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#dynamic-scaling\"></a>Dynamic scaling</h2>\n\n<p>Sometimes you need to dynamically set the number of containers to be started. <code>docker-compose</code> has <a href=\"https://docs.docker.com/compose/cli/#scale\">scale</a> command that does exactly what we want. With <code>rocker-compose</code> we can template the configuration with the help of the <code>seq</code> generator:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">scaling</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n {{ <span class=\"pl-ent\">range $n </span>:= seq .n }}\n <span class=\"pl-s\"><span class=\"pl-ent\">worker_{{$n}}:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">busybox:buildroot-2013.08.1</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">command:</span> <span class=\"pl-s\">for i in `seq 1 10000`; do echo \"hello $i!!!!\"; sleep 1; done</span></span>\n {{ end }}</pre></div>\n\n<p>By running <code>rocker-compose</code> with some value for a variable <code>n</code>, it will spawn a desired number of \"worker\" containers:</p>\n\n<div class=\"highlight highlight-bash\"><pre>rocker-compose run -var n=1 <span class=\"pl-c\"># will spawn worker_1</span>\nrocker-compose run -var n=2 <span class=\"pl-c\"># will add worker_2 while worker_1 is still running</span>\nrocker-compose run -var n=4 <span class=\"pl-c\"># will add worker_3 and worker_4 while worker_1 and worker_2 are running</span>\nrocker-compose run -var n=1 <span class=\"pl-c\"># will kill worker_2, worker_3, and worker_4, while keeping worker_1 running</span></pre></div>\n\n<h3><a id=\"user-content-a-more-advanced-example\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#a-more-advanced-example\"></a>A more advanced example</h3>\n\n<p>We can specify complete groups of containers running independently. Here we use <code>_base</code> container configuration to extend our workers from. Each worker writes its name and message sequence number to a log, which is stored in a dedicated volume container. From the other side, there is a <code>tail_container</code> for each worker, that tails the worker's log.</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">scaling</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">_base:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">busybox:buildroot-2013.08.1</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">for i in `seq 1 10000`; do echo \"hello $NAME $i!!!!\" &gt;&gt; /tmp/log; sleep 1; done</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">NAME:</span> <span class=\"pl-s\">{{or .name \"NONE\"}}</span></span>\n\n {{ <span class=\"pl-ent\">range $n </span>:= seq .n }}\n <span class=\"pl-s\"><span class=\"pl-ent\">worker_{{$n}}:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">extends:</span> <span class=\"pl-s\">_base</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span> <span class=\"pl-s\">NAME=worker-{{$n}}</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span> <span class=\"pl-s\">volume_container_{{$n}}</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">volume_container_{{$n}}:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span> <span class=\"pl-s\">/tmp</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">tail_container_{{$n}}:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">ubuntu:12.04</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">tail -f /tmp/log</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span> <span class=\"pl-s\">volume_container_{{$n}}</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">worker_{{$n}}</span></span>\n {{ end }}</pre></div>\n\n<h2><a id=\"user-content-patterns\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#patterns\"></a>Patterns</h2>\n\n<p>Here is a list of the most common problems with multi-container applications and ways you can solve them with <code>rocker-compose</code>.</p>\n\n<h3><a id=\"user-content-data-volume-containers\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#data-volume-containers\"></a>Data volume containers</h3>\n\n<p>By design, containers are transient. Most of the tools for containerized applications are built expecting your apps to respect this rule. Your container can be dropped and created from scratch any time. For example, to update the image some container is running, you have to remove container and create a new one. This is a property of <strong>immutable infrastructure</strong>. In Docker, every container has its own dedicated file system, and by default it is removed along with the container. There is a <code>VOLUME</code> directive, which creates a separate data volume associated with the container that is able to persist after container removal. But there is no way to re-associate the old detached volume with a new container.</p>\n\n<p>A known pattern to workaround containers transient properties while not losing persistent data is to make a \"data volume container\" and mount its volumes to your application container.</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">db:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">mysql:5.6</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">env:</span> <span class=\"pl-s\">MYSQL_ROOT_PASSWORD=example</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span></span>\n <span class=\"pl-c\"># db container can be easily re-created without losing data</span>\n <span class=\"pl-c\"># all data will remain in /var/lib/mysql associated with db_data container</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">db_data </span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">db_data:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/scratch:latest </span></span><span class=\"pl-c\"># use empty image, just for data</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created </span></span><span class=\"pl-c\"># this tells compose to not try to run this container, data containers need to be just created</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes:</span></span>\n <span class=\"pl-c\"># define the empty directory that will be used by \"db\" container</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">/var/lib/mysql</span></span></pre></div>\n\n<p>Another reason for using this pattern is to split the lifecycle of your application from its configuration:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">wordpress</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">wordpress:4.1.2</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">volumes_from:</span> <span class=\"pl-s\">main_config</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">main_config:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">my_wordpress_config</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">created</span></span></pre></div>\n\n<p>This way, you can release <code>my_wordpress_config</code> independently from <code>wordpress</code> and deliver it separately. Keep in ming, though, that the <code>main</code> container will be restarted any time <code>main_config</code> changes.</p>\n\n<p>Dockerfile if the <code>my_wordpress_config</code> image might look like the following:</p>\n\n<div class=\"highlight highlight-bash\"><pre>FROM scratch\nADD ./config.json /etc/wordpress/config.json <span class=\"pl-c\"># add config file from the context directory to the image</span>\nVOLUME /etc/wordpress <span class=\"pl-c\"># declare /etc/wordpress to be shareable</span></pre></div>\n\n<p>The directory <code>/etc/wordpress</code> will appear in the <code>main</code> container when it is started.</p>\n\n<h3><a id=\"user-content-bootstrapping\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#bootstrapping\"></a>Bootstrapping</h3>\n\n<p>Sometimes you want to do some initialization prior to starting your application container. For example, you may want to create an initial user for a database. <a href=\"https://github.com/docker-library/mysql/blob/master/5.6/docker-entrypoint.sh\">Most of times</a>, people do some sort of <code>./docker-entrypoint.sh</code> wrapping entrypoint script, which is executed as the main process in a container. It does some checks and initialization and then runs an actual process.</p>\n\n<p>There are situations when you are using some vendor image and do not want to extend from it or modify it in any way. In this case, you can use single-run container semantics:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">sensu</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">sensu_client:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">sensu-client</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span> <span class=\"pl-s\">rabbitmq</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">wait_for:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\">bootstrap </span></span><span class=\"pl-c\"># wait for `bootstrap` container to finish</span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">rabbitmq:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">rabbitmq:3-management</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-ent\">bootstrap:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">tutumcloud/curl</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">state:</span> <span class=\"pl-s\">ran </span></span><span class=\"pl-c\"># rocker-compose will run this container once, unless it's changed</span>\n<span class=\"pl-s\"> <span class=\"pl-ent\">cmd:</span> |-</span>\n<span class=\"pl-s\"> curl --silent -u guest:guest -XPUT -H \"Content-Type: application/json\" \\</span>\n<span class=\"pl-s\"> http://$RABBITMQ_PORT_15672_TCP_ADDR:15672/api/users/sensu \\</span>\n<span class=\"pl-s\"> -d '{\"password\":\"sensu\",\"tags\":\"\"}'</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">links:</span></span>\n <span class=\"pl-s\">- <span class=\"pl-s\">rabbitmq</span></span></pre></div>\n\n<p>This may look as an ugly example, but <a href=\"https://github.com/grammarly/rocker-compose#state\"><code>state:ran</code></a> and <a href=\"https://github.com/grammarly/rocker-compose#container-properties\"><code>wait_for</code></a> are useful primitives that can be used in other cases as well.</p>\n\n<p>Here the start order will be the following:</p>\n\n<ol>\n<li><code>rabbitmq</code> will go first because it does not have any dependencies</li>\n<li><code>bootstrap</code> will run its curl command</li>\n<li><code>sensu_client</code> will be started when <code>bootstrap</code> finished successfully, \"sensu\" user will be already created</li>\n</ol>\n\n<h3><a id=\"user-content-loose-coupling-network\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#loose-coupling-network\"></a>Loose coupling: network</h3>\n\n<p>The most correct way of linking Docker containers between each other is using <a href=\"https://docs.docker.com/userguide/dockerlinks/\"><code>--link</code></a> primitive. However, in case of container A linked to container B, A needs to be recreated every time we update B. If you rely on ENV variables provided by the links functionality, <a href=\"https://docs.docker.com/userguide/dockerlinks/#important-notes-on-docker-environment-variables\">you cannot update dependencies</a> without recreating your container.</p>\n\n<p>Docker also automatically populates entries to <code>/etc/hosts</code> inside your container. It also updates hosts entires when dependencies <strong>restart</strong>, but not when you <strong>recreate</strong> them (that commonly happens when you update underlying images.) Accessing links though <code>/etc/hosts</code> also does not help loose coupling because you need B to exist anyway in order to even start A.</p>\n\n<p>Both approaches are considered tight coupling and it's ok to use them as long as you acknowledge that fact.</p>\n\n<p>Sometimes you want to detach your application container from some dependency. Let's assume you have an app which is writing metrics to <a href=\"https://github.com/etsy/statsd\">StatsD</a> daemon by UDP, and you don't care if the daemon is present the time you start your application. </p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">myapp</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-c\"># container A</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">alpine:3.2</span></span>\n <span class=\"pl-c\"># writes counter to statsd every second, note `statsd` host to `nc`</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">while true; do echo \"foo:1|c\" | nc -u -w0 statsd 8125; sleep 1; done</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">add_host:</span></span>\n <span class=\"pl-c\"># this will populate \"statsd\" host mapped to a</span>\n <span class=\"pl-c\"># Docker's bridge ip address</span>\n <span class=\"pl-s\">- <span class=\"pl-s\">statsd:{{ bridgeIp }}</span></span>\n\n<span class=\"pl-c\"># in another manifest managed by another team</span>\n<span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">platform</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-c\"># container B</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">statsd:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">statsd</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">ports:</span></span>\n <span class=\"pl-c\"># this will bind 8125/udp port and it will be available</span>\n <span class=\"pl-c\"># on the Docker's bridge ip</span>\n <span class=\"pl-s\">- <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8125:8125/udp<span class=\"pl-pds\">\"</span></span></span></pre></div>\n\n<p>This way, <code>myapp.main</code> can run independently from <code>platform.statsd</code> and at the same time be able to write metrics to <code>statsd:8125</code>. In case statsd is not present, metrics will be simply dropped on the floor.</p>\n\n<p>This is a tradeoff because you have to expose a known port to a host network. Ports may clash, you don't have full isolation here and benefit from random port mapping. In every particular situation you have to balance between loose coupling and isolation.</p>\n\n<h3><a id=\"user-content-network-share\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#network-share\"></a>Network share</h3>\n\n<p>In case you have containers A and B from example above in the same manifest, you can do loose coupling without exposing any global ports to a host network. The trick is to use <code>net: container:&lt;id|name&gt;</code> feature:</p>\n\n<div class=\"highlight highlight-yaml\"><pre><span class=\"pl-s\"><span class=\"pl-ent\">namespace:</span> <span class=\"pl-s\">myapp</span></span>\n<span class=\"pl-s\"><span class=\"pl-ent\">containers:</span></span>\n <span class=\"pl-c\"># container A</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">main:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">alpine:3.2</span></span>\n <span class=\"pl-c\"># wire the network to a dummy container</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">net:</span> <span class=\"pl-s\">container:dummy</span></span>\n <span class=\"pl-c\"># writes counter to statsd every second, note `127.0.0.1` host to `nc`</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">cmd:</span> <span class=\"pl-s\">while true; do echo \"foo:1|c\" | nc -u -w0 127.0.0.1 8125; sleep 1; done</span></span>\n\n <span class=\"pl-c\"># container B</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">statsd:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">statsd</span></span>\n <span class=\"pl-c\"># wire the network to a dummy container</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">net:</span> <span class=\"pl-s\">container:dummy</span></span>\n\n <span class=\"pl-c\"># simple container that hangs in 'while true' forever</span>\n <span class=\"pl-s\"><span class=\"pl-ent\">dummy:</span></span>\n <span class=\"pl-s\"><span class=\"pl-ent\">image:</span> <span class=\"pl-s\">grammarly/net</span></span></pre></div>\n\n<p>In this example <code>dummy</code> container plays the role of a network host. Containers that connected to it by <code>net: container:dummy</code> share all ports between each other.</p>\n\n<p><strong>Note</strong> that ports now may clash between container A and B since they now are in the same network.</p>\n\n<p><strong>Keep in mind</strong> that you cannot mix links with <code>net:conainer</code> mode.</p>\n\n<h3><a id=\"user-content-loose-coupling-files\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#loose-coupling-files\"></a>Loose coupling: files</h3>\n\n<p>TODO</p>\n\n<h2><a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#contributing\"></a>Contributing</h2>\n\n<h3><a id=\"user-content-dependencies\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#dependencies\"></a>Dependencies</h3>\n\n<p>Use <a href=\"http://getgb.io/\">gb</a> to test and build. We vendor all dependencies, you can find them under <code>/vendor</code> directory.</p>\n\n<p>Please, use <a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> in order to automatically re-format Go code into vendor standartised convension. Ideally, you have to set it on post-save action in your IDE. For SublimeText3, <a href=\"https://github.com/DisposaBoy/GoSublime\">GoSublime</a> package does the right thing.</p>\n\n<h3><a id=\"user-content-build\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#build\"></a>Build</h3>\n\n<p>(will procude a binary into <code>bin/</code> directory)</p>\n\n\n\n<p>or build for all platforms:</p>\n\n\n\n<p>If you have a github access token, you can also do a github release:</p>\n\n\n\n<h3><a id=\"user-content-test\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#test\"></a>Test</h3>\n\n\n\n<h3><a id=\"user-content-test-something-particular\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#test-something-particular\"></a>Test something particular</h3>\n\n<div class=\"highlight highlight-bash\"><pre>gb <span class=\"pl-c1\">test</span> compose/... -run TestMyFunction</pre></div>\n\n<h3><a id=\"user-content-todo\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#todo\"></a>TODO</h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"> Introduce templating for compose.yml to substitute variables from the outside</li>\n<li class=\"task-list-item\"> Refactor config.go - move some functions to config_convert.go</li>\n<li class=\"task-list-item\"> Remove obsolete containers (e.g. removed from compose.yml)</li>\n<li class=\"task-list-item\"> EnsureContainer for containers out of namespace (cannot be created)</li>\n<li class=\"task-list-item\"> client.go execution functions</li>\n<li class=\"task-list-item\"> Add labels for containers launched by compose?</li>\n<li class=\"task-list-item\"> rocker-compose executable with docker connection and cli flags</li>\n<li class=\"task-list-item\"> Choose and adopt a logging framework</li>\n<li class=\"task-list-item\"> Protect from loops in dependencies</li>\n<li class=\"task-list-item\"> Cross-compilation for linux and darwin (run in container? how will gb work?)</li>\n<li class=\"task-list-item\"> Attach stdout of launched (or existing) containers</li>\n<li class=\"task-list-item\"> Force-restart option</li>\n<li class=\"task-list-item\"> Never remove volumes of some containers</li>\n<li class=\"task-list-item\"> Parallel pull operation</li>\n<li class=\"task-list-item\"> Force-pull option (if image exists, only for \"latest\" or non-semver tags?)</li>\n<li class=\"task-list-item\"> Clean command, keep_versions config attribute for containers</li>\n<li class=\"task-list-item\"> ansible-module mode for rocker-compose executable</li>\n<li class=\"task-list-item\"> Write detailed readme, manual and tutorial</li>\n<li class=\"task-list-item\"> Dry mode, todo: ensure dry works for all actions</li>\n</ul>\n\n<div class=\"highlight highlight-bash\"><pre>grep -R TODO <span class=\"pl-k\">**</span>/<span class=\"pl-k\">*</span>.go <span class=\"pl-k\">|</span> grep -v <span class=\"pl-s\"><span class=\"pl-pds\">'</span>^vendor/<span class=\"pl-pds\">'</span></span></pre></div>\n\n<h2><a id=\"user-content-authors\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#authors\"></a>Authors</h2>\n\n\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/grammarly/rocker-compose#license\"></a>License</h2>\n\n<p>(c) Copyright 2015 Grammarly, Inc.</p>\n\n<p>Licensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at</p>\n\n<p><a href=\"http://www.apache.org/licenses/LICENSE-2.0\">http://www.apache.org/licenses/LICENSE-2.0</a></p>\n\n<p>Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.</p>\n</article>\n </div>"
    }, {
        "title": "openvswitch/ovs",
        "url": "https://github.com/openvswitch/ovs/blob/master/INSTALL.Debian.md",
        "excerpt": "This document describes how to build Debian packages for Open vSwitch. To install Open vSwitch on Debian without building Debian packages, see INSTALL.md instead. These instructions should also work&hellip;",
        "date_saved": "Thu Jul 28 20:09:48 EDT 2016",
        "html_file": "openvswitchovs.html",
        "png_file": "openvswitchovs.png",
        "md_file": "openvswitchovs.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>This document describes how to build Debian packages for Open vSwitch.\nTo install Open vSwitch on Debian without building Debian packages,\nsee <a href=\"https://github.com/openvswitch/ovs/blob/master/INSTALL.md\">INSTALL.md</a> instead.</p>\n\n<p>These instructions should also work on Ubuntu and other Debian\nderivative distributions.</p>\n\n<h2><a id=\"user-content-before-you-begin\" class=\"anchor\" href=\"https://github.com/openvswitch/ovs/blob/master/INSTALL.Debian.md#before-you-begin\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Before You Begin</h2>\n\n<p>Before you begin, consider whether you really need to build packages\nyourself. Debian \"wheezy\" and \"sid\", as well as recent versions of\nUbuntu, contain pre-built Debian packages for Open vSwitch. It is\neasier to install these than to build your own. To use packages from\nyour distribution, skip ahead to \"Installing .deb Packages\", below.</p>\n\n<h2><a id=\"user-content-building-open-vswitch-debian-packages\" class=\"anchor\" href=\"https://github.com/openvswitch/ovs/blob/master/INSTALL.Debian.md#building-open-vswitch-debian-packages\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Building Open vSwitch Debian packages</h2>\n\n<p>You may build from an Open vSwitch distribution tarball or from an\nOpen vSwitch Git tree with these instructions.</p>\n\n<p>You do not need to be the superuser to build the Debian packages.</p>\n\n<ol>\n<li><p>Install the \"build-essential\" and \"fakeroot\" packages, e.g. with\n<code>apt-get install build-essential fakeroot</code>.</p></li>\n<li><p>Obtain and unpack an Open vSwitch source distribution and <code>cd</code> into\nits top level directory.</p></li>\n<li><p>Install the build dependencies listed under \"Build-Depends:\" near\nthe top of debian/control. You can install these any way you like,\ne.g. with <code>apt-get install</code>.</p>\n\n<p>Check your work by running <code>dpkg-checkbuilddeps</code> in the top level of\nyour ovs directory. If you've installed all the dependencies\nproperly, dpkg-checkbuilddeps will exit without printing anything.\nIf you forgot to install some dependencies, it will tell you which ones.</p></li>\n<li><p>Run:</p>\n\n<p><code>fakeroot debian/rules binary</code></p>\n\n<p>This will do a serial build that runs the unit tests. This will take\napproximately 8 to 10 minutes. If you prefer, you can run a faster\nparallel build, e.g.:</p>\n\n<p><code>DEB_BUILD_OPTIONS='parallel=8' fakeroot debian/rules binary</code></p>\n\n<p>If you are in a big hurry, you can even skip the unit tests:</p>\n\n<p><code>DEB_BUILD_OPTIONS='parallel=8 nocheck' fakeroot debian/rules binary</code></p>\n\n<p>(There are a few pitfalls in the Debian packaging building system\nso that, occasionally, you may find that in a tree that you have\nusing for a while, the build command above exits immediately\nwithout actually building anything. To fix the problem, run</p>\n\n<p><code>fakeroot debian/rules clean</code></p>\n\n<p>or start over from a fresh copy of the source tree.)</p></li>\n<li><p>The generated .deb files will be in the parent directory of the\nOpen vSwitch source distribution.</p></li>\n</ol>\n\n<h2><a id=\"user-content-installing-deb-packages\" class=\"anchor\" href=\"https://github.com/openvswitch/ovs/blob/master/INSTALL.Debian.md#installing-deb-packages\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Installing .deb Packages</h2>\n\n<p>These instructions apply to installing from Debian packages that you\nbuilt yourself, as described in the previous section, or from packages\nprovided by Debian or a Debian derivative distribution such as Ubuntu.\nIn the former case, use a command such as <code>dpkg -i</code> to install the\n.deb files that you build, and in the latter case use a program such\nas <code>apt-get</code> or <code>aptitude</code> to download and install the provided\npackages.</p>\n\n<p>You must be superuser to install Debian packages.</p>\n\n<ol>\n<li><p>Start by installing an Open vSwitch kernel module. See\ndebian/openvswitch-switch.README.Debian for the available options.</p></li>\n<li><p>Install the \"openvswitch-switch\" and \"openvswitch-common\" packages.\nThese packages include the core userspace components of the switch.</p></li>\n</ol>\n\n<p>Open vSwitch .deb packages not mentioned above are rarely useful.\nPlease refer to their individual package descriptions to find out\nwhether any of them are useful to you.</p>\n\n<h2><a id=\"user-content-bug-reporting\" class=\"anchor\" href=\"https://github.com/openvswitch/ovs/blob/master/INSTALL.Debian.md#bug-reporting\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Bug Reporting</h2>\n\n<p>Please report problems to <a href=\"mailto:bugs@openvswitch.org\">bugs@openvswitch.org</a>.</p>\n</article>\n </div>"
    }, {
        "title": "Introduction - Getting Started Guide",
        "url": "https://www.opendaylight.org/introduction-getting-started-guide",
        "excerpt": "I.&#xA0;Introduction&#xA0;&#xA0;&#xA0;II. Platform Overview&#xA0;&#xA0;&#xA0;III. Features Overview&#xA0;&#xA0;&#xA0;IV. Additional Features&#xA0; V. APIs&#xA0;&#xA0;&#xA0;VI. Installation&hellip;",
        "date_saved": "Thu Jul 28 20:09:51 EDT 2016",
        "html_file": "introduction__getting_started_guide.html",
        "png_file": "introduction__getting_started_guide.png",
        "md_file": "introduction__getting_started_guide.md",
        "content": "<div><div class=\"field-item even\"><p>I.&#xA0;Introduction&#xA0;&#xA0;&#xA0;<a class=\"homepage button\" href=\"https://www.opendaylight.org/platform-overview-getting-started-guide\">II. Platform Overview</a>&#xA0;&#xA0;&#xA0;<a class=\"homepage button\" href=\"https://www.opendaylight.org/odl-features-getting-started-guide\">III. Features Overview</a>&#xA0;&#xA0;&#xA0;<a class=\"homepage button\" href=\"https://www.opendaylight.org/additional-features-getting-started-guide\">IV. Additional Features</a>&#xA0;</p>\n<p><a class=\"homepage button\" href=\"https://www.opendaylight.org/getting-started-guide/apis\">V. APIs</a>&#xA0;&#xA0;&#xA0;<a class=\"homepage button\" href=\"https://www.opendaylight.org/installation-overview-getting-started-guide\">VI. Installation Overview</a>&#xA0; &#xA0;<a class=\"homepage button\" href=\"https://www.opendaylight.org/installing-features-getting-started-guide\">VII. Installing Features</a>&#xA0;</p>\n<h3>Introduction</h3>\n<p>The OpenDaylight project is an open source platform for Software Defined Networking (SDN) that uses open protocols to provide centralized, programmatic control and network device monitoring. Like many other SDN controllers, OpenDaylight supports OpenFlow, as well as offering ready-to-install network solutions as part of its platform.</p>\n<p>Much as your operating system provides an interface for the devices that comprise your computer, OpenDaylight provides an interface that allows you to connect network devices quickly and intelligently for optimal network performance.</p>\n<p>It&#x2019;s extremely helpful to understand that setting up your networking environment with OpenDaylight is not a single software installation. While your first chronological step is to install OpenDaylight, you also install additional functionality packaged as Karaf features to suit your specific needs.</p>\n<p>Before walking you through the initial OpenDaylight installation, this guide presents a fuller picture of OpenDaylight&#x2019;s framework and functionality so you understand how to set up your networking environment. This guide walks you through the necessary steps.</p>\n<h3>What&#x2019;s different about OpenDaylight</h3>\n<p>Major distinctions of OpenDaylight&#x2019;s SDN compared to traditional SDN options are the following:</p>\n<ul><li>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Microservices\">microservices</a>&#xA0;architecture, in which a &#x201C;microservice&#x201D; is a particular protocol or service that a user wants to enable within their installation of the OpenDaylight controller, for example:</p>\n<ul><li>\n<p>A plugin that provides connectivity to devices via the OpenFlow or BGP protocols</p>\n</li>\n<li>\n<p>An L2-Switch or a service such as Authentication, Authorization, and Accounting (AAA).</p>\n<p>\t\t\t\t\tNote: A thorough understanding of the microservices architecture is important for experienced network developers who want to create new solutions in OpenDaylight. If you are new to networking and OpenDaylight, you most likely won&#x2019;t design solutions, but you should comprehend the microservices concept to understand how OpenDaylight works and how it differs from other SDN programs.</p>\n</li>\n</ul></li>\n<li>\n<p>Support for a wide and growing range of network protocols beyond OpenFlow, including SNMP, NETCONF, OVSDB, BGP, PCEP, LISP, and more.</p>\n</li>\n<li>\n<p>Support for developing new functionality comprised of additional networking protocols and services.</p>\n</li>\n</ul><h3>What you&#x2019;ll find in this guide</h3>\n<p>To set up your environment, you first install OpenDaylight followed by the Apache Karaf features that offer the functionality you require. The OpenDaylight Getting Started Guide covers installation procedures, feature descriptions and their individual installation commands.</p>\n<p>The Getting Started Guide also includes other helpful information, with the following organization:</p>\n<ol><li>\n<p>An overview of OpenDaylight and common use models&#xA0;(current page)</p>\n</li>\n<li>\n<p>Who should use this guide?</p>\n</li>\n<li>\n<p>OpenDaylight concepts and tools</p>\n</li>\n<li>\n<p>Explanations of OpenDaylight Apache Karaf features that extend network functionality</p>\n</li>\n<li>\n<p>OpenDaylight Beryllium system requirements and Release Notes</p>\n</li>\n<li>\n<p>OpenDaylight installation instructions</p>\n</li>\n<li>\n<p>Feature table with installation names and compatibility notes</p>\n</li>\n</ol><h3><a id=\"who\">Who should use this guide?</a></h3>\n<p>OpenDaylight is for users considering open options in network programming. This guide provides information for the following types of users:</p>\n<ol><li>\n<p>Those new to OpenDaylight who want to install it and select the features they need to run their network environment using only the command line and GUI. Such users include:</p>\n<ol><li>\n<p>Students</p>\n</li>\n<li>\n<p>Network administrators and engineers.</p>\n</li>\n</ol></li>\n<li>\n<p>Network engineers and network application developers who want to use OpenDaylight&#x2019;s REST APIs to manage their network programmatically.</p>\n</li>\n<li>\n<p>Network engineers and network application developers who want to write their own OpenDaylight services and plugins for greater functionality. This group of users needs a significant level of expertise in the following areas, which is beyond the scope of this document:</p>\n<ol><li>\n<p>The YANG modeling language</p>\n</li>\n<li>\n<p>The Model-Driven Service Abstraction Layer (MD-SAL)</p>\n</li>\n<li>\n<p>Maven build tool</p>\n</li>\n<li>\n<p>Management of the shared data store</p>\n</li>\n<li>\n<p>How to handle notifications and/or Remote Procedure Calls (RPCs)</p>\n</li>\n</ol></li>\n</ol><p>Developers who would like to join the OpenDaylight community and contribute code upstream. People in this group design offerings such as applications/services, protocol implementations, and so on, to increase OpenDaylight functionality for the benefit of all end-users.</p>\n<p>\tNote: If you develop code to build new functionality for OpenDaylight and push it upstream (not required), it can become part of the OpenDaylight release. Users can then install the features to implement the solution you&#x2019;ve created.</p>\n<h4>NEXT:</h4>\n<p><a class=\"homepage button\" href=\"https://www.opendaylight.org/platform-overview-getting-started-guide\">II. Platform Overview</a></p>\n</div></div>"
    }, {
        "title": "Open source Slack-alternative adopts markdown",
        "url": "http://www.mattermost.org/open-source-slack-alternative-adopts-markdown/",
        "excerpt": "We&#x2019;re happy to announce that&#xA0;Mattermost, an open source, on-prem Slack-alternative in Golang and React, is adopting markdown for text rendering. This idea&#xA0;was&#xA0;brought to us by&hellip;",
        "date_saved": "Thu Jul 28 20:09:53 EDT 2016",
        "html_file": "open_source_slackalternative_adopts_markdown.html",
        "png_file": "open_source_slackalternative_adopts_markdown.png",
        "md_file": "open_source_slackalternative_adopts_markdown.md",
        "content": "<div><div class=\"entry-content\">\n\t\t<p>We&#x2019;re happy to announce that&#xA0;Mattermost, an open source, on-prem Slack-alternative in Golang and React, is adopting <a href=\"https://en.wikipedia.org/wiki/Markdown\">markdown </a>for text rendering.</p>\n<p>This idea&#xA0;was&#xA0;brought to us by the Mattermost community through dozens of requests. We&#x2019;re hugely grateful for the feedback. It&#x2019;s a fantastic feature!</p>\n<figure id=\"attachment_1161\" class=\"wp-caption aligncenter\"><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/albert3.png\"><img class=\"wp-image-1161 size-full\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/albert3.png\" alt=\"\" width=\"537\"></a><figcaption class=\"wp-caption-text\">Example of new markdown support in Mattermost for bold, italic, strikethrough, emoticons and headings</figcaption></figure>\n<p>To get into specifics, here&#x2019;s the formatting that messages, comments and channel headers and descriptions&#xA0;now support:</p>\n<p><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_all1.png\"><img class=\"wp-image-1136 size-full aligncenter\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_all1.png\" alt=\"\" width=\"537\"></a></p>\n<p>The above message was generated with the raw markdown&#xA0;text below:</p>\n<pre><code>Basic Formatting \n\n_italic_ \n**bold**\n**_bold-italic_**\n~~strikethrough~~\n`monospace`\n```code block```\n# Large heading\n## Smaller heading\n### Even smaller heading\n#### Even even smaller heading\n##### Even even even smaller heading\n\nCreate labeled links by putting the desired text in square brackets and the associated link in normal brackets. \n[Check out Mattermost!](www.mattermost.com)\n\nLists: \n\nCreate a list by using _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy or - as bullets. \n* list item one\n* list item two\n\nMake it an ordered list by using numbers instead. \n1. Item one\n2. Item two\n\nIndent your lists by adding two spaces before the indented bullets. \n\n1. Item one\n2. Item two\n - item two sup-point\n\nTables: \n\nCreate a table by placing a dashed line under the header row and separating the columns with a pipe |. (The columns don&#x2019;t need to line up exactly for it to work). \n\nFirst Header | Second Header\n------------- | -------------\nContent Cell | Content Cell\nContent Cell | Content Cell\n\nChoose how to align table columns by including colons : within the header row:\n\n| Left-Aligned | Center Aligned | Right Aligned |\n| :------------ |:---------------:| -----:|\n| Left column 1 | check out this | $1600 |\n| Left column 2 | centered | $12 |\n| Left column 3 | text | $1 |</code></pre>\n<p>Being able to embed markdown in channel headers is particularly useful.</p>\n<p>Before this feature, if you wanted to have shortcuts in channel headers you&#x2019;d&#xA0;need to use raw URLs&#x2013;and a pop-over to see all the links:</p>\n<p><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/regular_header.png\"><img class=\"wp-image-1127 size-full aligncenter\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/regular_header.png\" alt=\"\" width=\"537\"></a><br>\nNow we can turn long URLs into concise links using simple formatting:</p>\n<pre><code>[Repo](https://github.com/mattermost/platform) | [Forum](http://forum.mattermost.org/) | [Feature Requests](http://mattermost.uservoice.com/) | [Tickets](http://mattermost.atlassian.net)\n</code></pre>\n<p>Which renders neatly in your channel header:</p>\n<p><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_projectx_header2.png\"><img class=\"wp-image-1125 size-full aligncenter\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_projectx_header2.png\" alt=\"\" width=\"537\"></a></p>\n<p>You can also&#xA0;use image icons in place of words to create shortcut buttons&#x2013;and this works on dynamic images as well, like build status indicators from systems like Travis CI:</p>\n<pre><code>[![Repo](https://assets-cdn.github.com/favicon.ico)](https://github.com/mattermost/platform) | [![Forum](https://cdn1.slant.co/16474-full.ico)](http://forum.mattermost.org/) | [![Feature Requests](https://cdn1.slant.co/14685-full.ico)](http://forum.mattermost.org/) | [![Tickets](http://www.wsit.me.uk/images/jira.ico)](http://mattermost.atlassian.net) | [![Build Status](https://travis-ci.org/mattermost/platform.svg?branch=master)](https://travis-ci.org/mattermost/platform)\n</code></pre>\n<p>Here&#x2019;s how the above renders in your header:</p>\n<p><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_icons2.png\"><img class=\"wp-image-1131 size-full aligncenter\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/markdown_icons2.png\" alt=\"\" width=\"537\"></a></p>\n<p>As a fun bonus feature, use &#x201C;#&#x201D; to show emoji in different heading sizes:</p>\n<pre>##### :sheep: \n#### :sheep: \n### :sheep: \n## :sheep: \n# :sheep:</pre>\n<p>Which shows as:</p>\n<p><a href=\"http://www.mattermost.org/wp-content/uploads/2015/09/sheep.png\"><img class=\"size-full wp-image-1132 aligncenter\" src=\"http://www.mattermost.org/wp-content/uploads/2015/09/sheep.png\" alt=\"sheep\" width=\"357\"></a></p>\n<p>Like what you see?&#xA0;<a href=\"https://github.com/mattermost/platform\">Star us on GitHub!</a></p>\n<p>Markdown support is on <a href=\"https://github.com/mattermost/platform\">master</a> and ships with Mattermost v0.8.0 on October 2, please join our mailing list below to be notified.</p>\n<p>To get involved with the Mattermost community, please visit:&#xA0;<a href=\"http://mattermost.org\">http://mattermost.org</a>.</p>\n<p>Thank you for your interest in Mattermost, we look forward to your comments, questions and ideas.</p>\n\n\n<div id=\"mc_embed_signup\" class=\"mc_embed_signup--custom\">\n\n\n\n</div>\n\n\t</div>\n\t\n\t\n</div>"
    }, {
        "title": "Dask - Parallel Processing Through Blocked Algorithms\u00b6",
        "url": "http://dask.pydata.org/en/latest/",
        "excerpt": "Dask collections provide parallel computation on larger-than-memory data while mimicking existing libraries dask.array = numpy + threading dask.bag = map, filter, toolz + multiprocessing&hellip;",
        "date_saved": "Thu Jul 28 20:09:54 EDT 2016",
        "html_file": "dask__parallel_processing_through_blocked_algorithmsu00b6.html",
        "png_file": "dask__parallel_processing_through_blocked_algorithmsu00b6.png",
        "md_file": "dask__parallel_processing_through_blocked_algorithmsu00b6.md",
        "content": "<div><div class=\"wy-nav-content\">\n <div class=\"rst-content\">\n \n <div class=\"document\">\n \n <div class=\"section\" id=\"dask-parallel-processing-through-blocked-algorithms\">\n\n<p>Dask collections provide parallel computation on larger-than-memory data while\nmimicking existing libraries</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal\"><span class=\"pre\">dask.array</span></code> = <code class=\"docutils literal\"><span class=\"pre\">numpy</span></code> + <code class=\"docutils literal\"><span class=\"pre\">threading</span></code></li>\n<li><code class=\"docutils literal\"><span class=\"pre\">dask.bag</span></code> = <code class=\"docutils literal\"><span class=\"pre\">map,</span> <span class=\"pre\">filter,</span> <span class=\"pre\">toolz</span></code> + <code class=\"docutils literal\"><span class=\"pre\">multiprocessing</span></code></li>\n<li><code class=\"docutils literal\"><span class=\"pre\">dask.dataframe</span></code> = <code class=\"docutils literal\"><span class=\"pre\">pandas</span></code> + <code class=\"docutils literal\"><span class=\"pre\">multiprocessing</span></code> (experimental)</li>\n</ul>\n<p>This increases the scale of comfortable data from <em>fits-in-memory</em> to\n<em>fits-on-disk</em> by intelligently streaming data from disk and by leveraging all\nthe cores of a modern CPU.</p>\n<p>Dask primarily targets parallel computations that run on a single machine. It\nintegrates nicely with the existing PyData ecosystem and is trivial to setup\nand use:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre>conda install dask\nor\npip install dask\n</pre></div>\n</div>\n<p>Operations on dask collections (array, bag, dataframe) produce task graphs that\nencode blocked algorithms. Task schedulers execute these task graphs in\nparallel in a variety of contexts.</p>\n<a class=\"reference internal image-reference\" href=\"http://dask.pydata.org/en/latest/_images/collections-schedulers.png\"><img alt=\"Dask collections and schedulers\" class=\"align-center\" src=\"http://dask.pydata.org/en/latest/_images/collections-schedulers.png\"></a>\n<p><strong>Collections:</strong></p>\n<p>Dask collections are the main interaction point for users. They look like\nNumPy and Pandas but generate dask graphs internally. If you are a dask <em>user</em>\nthen you should start here.</p>\n\n<p><strong>Graphs:</strong></p>\n<p>Dask graphs encode algorithms in a simple format involving Python dicts,\ntuples, and functions. This graph format can be used in isolation from the\ndask collections. If you are a dask <em>developer</em> then you should start here.</p>\n<div class=\"toctree-wrapper compound\">\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/graphs.html\">Motivation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/spec.html\">Specification</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/custom-graphs.html\">Custom Graphs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/optimize.html\">Optimization</a></li>\n</ul>\n</div>\n<p><strong>Scheduling:</strong></p>\n<p>Schedulers execute task graphs. After a collection produces a graph we execute\nthis graph in parallel, either using all of the cores on a single workstation\nor using a distributed cluster.</p>\n<div class=\"toctree-wrapper compound\">\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/shared.html\">Shared Memory</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/distributed.html\">Distributed Scheduling</a></li>\n</ul>\n</div>\n<p><strong>Administrative:</strong></p>\n<div class=\"toctree-wrapper compound\">\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/install.html\">Install Dask</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/inspect.html\">How to inspect dask objects</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"http://dask.pydata.org/en/latest/faq.html\">Frequently Asked Questions</a></li>\n</ul>\n</div>\n<p>Dask is part of the <a class=\"reference external\" href=\"http://continuum.io/open-source/blaze/\">Blaze</a> project supported by <a class=\"reference external\" href=\"http://continuum.io\">Continuum Analytics</a></p>\n</div>\n\n\n </div>\n <footer>\n \n \n \n\n \n\n <div>\n <p>\n &#xA9; Copyright 2015, Continuum Analytics.\n </p>\n </div>\n Built with <a href=\"http://sphinx-doc.org/\">Sphinx</a> using a <a href=\"https://github.com/snide/sphinx_rtd_theme\">theme</a> provided by <a href=\"https://readthedocs.org\">Read the Docs</a>.\n\n</footer>\n\n </div>\n </div>\n\n </div>"
    }, {
        "title": "yoannmoinet/nipplejs",
        "url": "https://github.com/yoannmoinet/nipplejs",
        "excerpt": "A virtual joystick for touch capable interfaces Install npm install nipplejs --save // OR bower install nipplejs --save Demo Check out the demo here. Usage Import it the way",
        "date_saved": "Thu Jul 28 20:09:55 EDT 2016",
        "html_file": "yoannmoinetnipplejs.html",
        "png_file": "yoannmoinetnipplejs.png",
        "md_file": "yoannmoinetnipplejs.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://github.com/yoannmoinet/nipplejs/blob/master/test/nipplejs.png\" target=\"_blank\"><img src=\"https://github.com/yoannmoinet/nipplejs/raw/master/test/nipplejs.png\" alt=\"alt tag\"></a></p>\n\n<blockquote>\n<p>A virtual joystick for touch capable interfaces</p>\n</blockquote>\n\n<h2><a id=\"user-content-install\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#install\"></a>Install</h2>\n\n<div class=\"highlight highlight-node\"><pre>npm install nipplejs <span class=\"pl-k\">--</span>save\n\n<span class=\"pl-c\">// OR</span>\n\nbower install nipplejs <span class=\"pl-k\">--</span>save</pre></div>\n\n\n\n<h2><a id=\"user-content-demo\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#demo\"></a>Demo</h2>\n\n<p>Check out the <a href=\"http://yoannmoinet.github.io/nipplejs/#demo\">demo here</a>.</p>\n\n\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#usage\"></a>Usage</h2>\n\n<p>Import it the way you want into your project :</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-c\">// CommonJS</span>\n<span class=\"pl-k\">var</span> joystick <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nipplejs<span class=\"pl-pds\">'</span></span>).create(options);\n\n<span class=\"pl-c\">// AMD</span>\ndefine([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nipplejs<span class=\"pl-pds\">'</span></span>], <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">nipplejs</span>) {\n <span class=\"pl-k\">var</span> joystick <span class=\"pl-k\">=</span> nipplejs.create(options);\n});\n\n<span class=\"pl-c\">// Global</span>\n<span class=\"pl-k\">&lt;</span>script type<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/javascript<span class=\"pl-pds\">\"</span></span> src<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./dist/nipplejs.min.js<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>script<span class=\"pl-k\">&gt;</span>\n<span class=\"pl-k\">&lt;</span>script type<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/javascript<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;</span>\n <span class=\"pl-k\">var</span> joystick <span class=\"pl-k\">=</span> nipplejs.create(options);\n<span class=\"pl-k\">&lt;/</span>script<span class=\"pl-k\">&gt;</span></pre></div>\n\n\n\n<h2><a id=\"user-content-options\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#options\"></a>Options</h2>\n\n<p>You can configure your joystick in different ways :</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> {\n zone<span class=\"pl-k\">:</span> Element,\n color<span class=\"pl-k\">:</span> <span class=\"pl-c1\">String</span>,\n size<span class=\"pl-k\">:</span> Integer,\n threshold<span class=\"pl-k\">:</span> Float,\n fadeTime<span class=\"pl-k\">:</span> Integer\n};</pre></div>\n\n<p>All options are optional.</p>\n\n<h3><a id=\"user-content-zone-defaults-to-body\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#zone-defaults-to-body\"></a>[<code>zone</code>] defaults to 'body'</h3>\n\n<p>The dom element in which your joystick will be injected.</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-k\">&lt;</span>div id<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>zone_joystick<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>div<span class=\"pl-k\">&gt;</span>\n\n<span class=\"pl-k\">&lt;</span>script type<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/javascript<span class=\"pl-pds\">\"</span></span> src<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./nipplejs.min.js<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>script<span class=\"pl-k\">&gt;</span>\n<span class=\"pl-k\">&lt;</span>script type<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/javascript<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;</span>\n <span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> {\n zone<span class=\"pl-k\">:</span> <span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">getElementById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>zone_joystick<span class=\"pl-pds\">'</span></span>);\n };\n <span class=\"pl-k\">var</span> joystick <span class=\"pl-k\">=</span> nipplejs.create(options);\n<span class=\"pl-k\">&lt;/</span>script<span class=\"pl-k\">&gt;</span></pre></div>\n\n<p>This zone also serve as the mouse/touch events handler.</p>\n\n<p>It represents the zone where your joystick will be active.</p>\n\n<h3><a id=\"user-content-color-defaults-to-white\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#color-defaults-to-white\"></a>[<code>color</code>] defaults to 'white'</h3>\n\n<p>The background color of your joystick's elements.</p>\n\n<p>Can be any valid CSS color.</p>\n\n<h3><a id=\"user-content-size-defaults-to-100\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#size-defaults-to-100\"></a>[<code>size</code>] defaults to 100</h3>\n\n<p>The size in pixel of the outer circle.</p>\n\n<p>The inner circle is 50% of this size.</p>\n\n<h3><a id=\"user-content-threshold-defaults-to-01\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#threshold-defaults-to-01\"></a>[<code>threshold</code>] defaults to 0.1</h3>\n\n<p>This is the strength needed to trigger a directional event.</p>\n\n<p>Basically, the center is 0 and the outer is 1.</p>\n\n<p>You need to at least go to 0.1 to trigger a directional event.</p>\n\n<h3><a id=\"user-content-fadetime-defaults-to-250\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#fadetime-defaults-to-250\"></a>[<code>fadeTime</code>] defaults to 250</h3>\n\n<p>The time it takes for joystick to fade-out and fade-in when activated or de-activated.</p>\n\n\n\n<h2><a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#api\"></a>API</h2>\n\n<p>Your <code>nipplejs</code> instance will come back as :</p>\n\n<div class=\"highlight highlight-javascript\"><pre>{\n el<span class=\"pl-k\">:</span> Element,\n on<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Function</span>,\n off<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Function</span>,\n options<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Object</span>,\n ui<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Object</span>\n}</pre></div>\n\n<h3><a id=\"user-content-el\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#el\"></a><code>el</code></h3>\n\n<p>Dom element in which the joystick gets created.</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nipple<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>front<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>back<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">div</span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<h3><a id=\"user-content-on\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#on\"></a><code>on</code></h3>\n\n<p>If you whish to listen to internal events like :</p>\n\n<div class=\"highlight highlight-javascript\"><pre>joystick.on(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event<span class=\"pl-pds\">'</span></span>, <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">evt</span>, <span class=\"pl-smi\">data</span>) {\n <span class=\"pl-c\">// Do something.</span>\n});</pre></div>\n\n<h3><a id=\"user-content-off\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#off\"></a><code>off</code></h3>\n\n<p>To remove an event handler :</p>\n\n<div class=\"highlight highlight-javascript\"><pre>joystick.off(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event<span class=\"pl-pds\">'</span></span>, handler);</pre></div>\n\n<h3><a id=\"user-content-options-1\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#options-1\"></a><code>options</code></h3>\n\n<p>Simply the options you passed at its creation.</p>\n\n<h3><a id=\"user-content-ui\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#ui\"></a><code>ui</code></h3>\n\n<p>The object that store its ui elements</p>\n\n<div class=\"highlight highlight-javascript\"><pre>{\n el<span class=\"pl-k\">:</span> <span class=\"pl-k\">&lt;</span>div <span class=\"pl-k\">class</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nipple<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>div<span class=\"pl-k\">&gt;</span>\n back<span class=\"pl-k\">:</span> <span class=\"pl-k\">&lt;</span>div <span class=\"pl-k\">class</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>back<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>div<span class=\"pl-k\">&gt;</span>\n front<span class=\"pl-k\">:</span> <span class=\"pl-k\">&lt;</span>div <span class=\"pl-k\">class</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>front<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">&gt;&lt;/</span>div<span class=\"pl-k\">&gt;</span>\n}</pre></div>\n\n\n\n<h2><a id=\"user-content-events\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#events\"></a>Events</h2>\n\n<h4><a id=\"user-content-start\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#start\"></a><code>start</code></h4>\n\n<p>The joystick is activated. (the user pressed on the active zone)</p>\n\n<h4><a id=\"user-content-end\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#end\"></a><code>end</code></h4>\n\n<p>The joystick is de-activated. (the user released the active zone)</p>\n\n<h4><a id=\"user-content-move\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#move\"></a><code>move</code></h4>\n\n<p>The joystick is moved.\nComes with data :</p>\n\n<div class=\"highlight highlight-javascript\"><pre>{\n position<span class=\"pl-k\">:</span> { <span class=\"pl-c\">// absolute position of the center in pixels</span>\n x<span class=\"pl-k\">:</span> <span class=\"pl-c1\">125</span>,\n y<span class=\"pl-k\">:</span> <span class=\"pl-c1\">95</span>\n },\n force<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0.2</span>, <span class=\"pl-c\">// strength in %</span>\n distance<span class=\"pl-k\">:</span> <span class=\"pl-c1\">25.4</span>, <span class=\"pl-c\">// distance from center in pixels</span>\n angle<span class=\"pl-k\">:</span> {\n radian<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1.5707963268</span>, <span class=\"pl-c\">// angle in radian</span>\n degree<span class=\"pl-k\">:</span> <span class=\"pl-c1\">90</span>\n }\n}</pre></div>\n\n<h4><a id=\"user-content-dir\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#dir\"></a><code>dir</code></h4>\n\n<p>When a direction is reached after the threshold.</p>\n\n<p>Direction are split with a 45&#xB0; angle.</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-c\">// \\ UP /</span>\n<span class=\"pl-c\">// \\ /</span>\n<span class=\"pl-c\">// LEFT RIGHT</span>\n<span class=\"pl-c\">// / \\</span>\n<span class=\"pl-c\">// /DOWN \\</span></pre></div>\n\n<p>You can also listen to specific direction like :</p>\n\n<ul>\n<li><code>dir:up</code></li>\n<li><code>dir:down</code></li>\n<li><code>dir:right</code></li>\n<li><code>dir:left</code></li>\n</ul>\n\n<p>In this configuration only one direction is triggered at a time.</p>\n\n<h4><a id=\"user-content-plain\" class=\"anchor\" href=\"https://github.com/yoannmoinet/nipplejs#plain\"></a><code>plain</code></h4>\n\n<p>When a plain direction is reached after the threshold.</p>\n\n<p>Plain directions are split with a 90&#xB0; angle.</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-c\">// U|P</span>\n<span class=\"pl-c\">//LEFT____|___ RIGHT</span>\n<span class=\"pl-c\">// |</span>\n<span class=\"pl-c\">// DO|WN</span></pre></div>\n\n<p>You can also listen to specific plain direction like :</p>\n\n<ul>\n<li><code>plain:up</code></li>\n<li><code>plain:down</code></li>\n<li><code>plain:right</code></li>\n<li><code>plain:left</code></li>\n</ul>\n\n<p>In this configuration two directions can be triggered at a time,\nbecause the user could be both <code>up</code> and <code>left</code> for example.</p>\n</article>\n </div>"
    }, {
        "title": "tgriesser/bookshelf",
        "url": "https://github.com/tgriesser/bookshelf",
        "excerpt": "._. ._. | | ______ _ _ _ __ | | | | | ___ \\ | | | | | |/ _| | | | | | |_/ / ___ ___ | | _____| |__ ___| | |_ | | | | | ___ \\/ _ \\ / _ \\| |/ / __| '_ \\ / _ \\ | _| | | | | | |_/ / (_) | (_) | &lt;\\__ \\&hellip;",
        "date_saved": "Thu Jul 28 20:09:57 EDT 2016",
        "html_file": "tgriesserbookshelf.html",
        "png_file": "tgriesserbookshelf.png",
        "md_file": "tgriesserbookshelf.md",
        "content": "<div><article class=\"markdown-body entry-content\"><pre><code>._. ._.\n| | ______ _ _ _ __ | |\n| | | ___ \\ | | | | | |/ _| | |\n| | | |_/ / ___ ___ | | _____| |__ ___| | |_ | |\n| | | ___ \\/ _ \\ / _ \\| |/ / __| '_ \\ / _ \\ | _| | |\n| | | |_/ / (_) | (_) | &lt;\\__ \\ | | | __/ | | | |\n| | \\____/ \\___/ \\___/|_|\\_\\___/_| |_|\\___|_|_| | |\n|----------------------------------------------------------|\n\\--------\\ /----------------------------------\\ /--------/\n \\/ \\/\n</code></pre>\n\n<p>Bookshelf is a node.js ORM with support for postgreSQL, mySQL, and SQLite3.\nIt is built atop the <a href=\"http://knexjs.org\">Knex Query Builder</a>, \nand is strongly influenced by the Model and Collection foundations of Backbone.js.\nIt features transaction support, one-to-one, one-to-many, and many-to-many relations.</p>\n\n<p>For Docs, License, Tests, FAQ, and other information, see: <a href=\"http://bookshelfjs.org\">http://bookshelfjs.org</a>.</p>\n\n<p>To suggest a feature, report a bug, or general discussion: <a href=\"http://github.com/tgriesser/bookshelf/issues/\">http://github.com/tgriesser/bookshelf/issues/</a></p></article></div>"
    }, {
        "title": "The JavaScript library for modern browsers and touch devices. No\u00a0jQuery.",
        "url": "http://rubaxa.github.io/Sortable/",
        "excerpt": "// Simple list var list = document.getElementById(\"my-ui-list\"); new Sortable(list); // That's all. // Grouping var foo = document.getElementById(\"foo\"); new Sortable(foo, { group: \"omega\" }); var&hellip;",
        "date_saved": "Thu Jul 28 20:09:59 EDT 2016",
        "html_file": "the_javascript_library_for_modern_browsers_and_touch_devices_nou00a0jquery.html",
        "png_file": "the_javascript_library_for_modern_browsers_and_touch_devices_nou00a0jquery.png",
        "md_file": "the_javascript_library_for_modern_browsers_and_touch_devices_nou00a0jquery.md",
        "content": "<div><div>\n\t\t\t\n\t\t\t<pre class=\"layer javascript\"><code>// Simple list\nvar list = document.getElementById(\"my-ui-list\");\nnew Sortable(list); // That's all.\n\n\n// Grouping\nvar foo = document.getElementById(\"foo\");\nnew Sortable(foo, { group: \"omega\" });\n\nvar bar = document.getElementById(\"bar\");\nnew Sortable(bar, { group: \"omega\" });\n\n\n// Or\nvar container = document.getElementById(\"multi\");\nvar sort = new Sortable(container, {\n animation: 150, // ms, animation speed moving items when sorting, `0` &#x2014; without animation\n handle: \".tile__title\", // Restricts sort start click/touch to the specified element\n draggable: \".tile\", // Specifies which items inside the element should be sortable\n onUpdate: function (evt/**Event*/){\n var item = evt.item; // the current dragged HTMLElement\n }\n});\n\n// ..\nsort.destroy();\n\n\n// Editable list\nvar editableList = new Sortable(editable, {\n filter: '.js-remove',\n onFilter: function (evt) {\n var el = editableList.closest(evt.item); // get dragged item\n el &amp;&amp; el.parentNode.removeChild(el);\n }\n});\n</code></pre>\n\t\t</div>\n\n\t\t\n\n\t</div>"
    }, {
        "title": "Introduction | Building Web Apps with Go",
        "url": "https://codegangsta.gitbooks.io/building-web-apps-with-go/content/index.html",
        "excerpt": "Welcome to Building Web Apps with Go! If you are reading this then you have just started your journey from noob to pro. No seriously, web programming in Go is so fun and easy that you won't even&hellip;",
        "date_saved": "Thu Jul 28 20:10:01 EDT 2016",
        "html_file": "introduction__building_web_apps_with_go.html",
        "png_file": "introduction__building_web_apps_with_go.png",
        "md_file": "introduction__building_web_apps_with_go.md",
        "content": "<div><section class=\"normal\" id=\"section-\">\n \n \n<p>Welcome to <strong>Building Web Apps with Go</strong>! If you are reading this then you have just started your journey from noob to pro. No seriously, web programming in Go is so fun and easy that you won't even notice how much information you are learning along the way!</p>\n<p>Keep in mind that there are still portions of this book that are incomplete and need some love. The beauty of open source publishing is that I can give you an incomplete book and it is still of value to you.</p>\n<p>Before we get into all the nitty gritty details, let's start with some ground rules:</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<p>To keep this tutorial small and focused, I'm assuming that you are prepared in the following ways:</p>\n\n<h2 id=\"required-packages\">Required Packages</h2>\n<p>For the most part we will be using the built in packages from the standard library to build out our web apps. Certain lessons such as Databases, Middleware and URL Routing will require a third party package. Here is a list of all the go packages you will need to install before starting:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Import Path</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://github.com/julienschmidt/httprouter\" target=\"_blank\">httprouter</a></td>\n<td>github.com/julienschmidt/httprouter</td>\n<td>A high performance HTTP request router that scales well</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/codegangsta/negroni\" target=\"_blank\">Negroni</a></td>\n<td>github.com/codegangsta/negroni</td>\n<td>Idiomatic HTTP Middleware</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/russross/blackfriday\" target=\"_blank\">Black Friday</a></td>\n<td>github.com/russross/blackfriday</td>\n<td>a markdown processor</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/unrolled/render/tree/v1\" target=\"_blank\">Render</a></td>\n<td>gopkg.in/unrolled/render.v1</td>\n<td>Easy rendering for JSON, XML, and HTML</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/mattn/go-sqlite3\" target=\"_blank\">SQLite3</a></td>\n<td>github.com/mattn/go-sqlite3</td>\n<td>sqlite3 driver for go</td>\n</tr>\n</tbody>\n</table>\n<p>You can install (or update) these packages by running the following command in your console</p>\n<pre><code class=\"lang-bash\">go get -u &lt;import_path&gt;\n</code></pre>\n<p>For instance, if you wish to install Negroni, the following command would be:</p>\n<pre><code class=\"lang-bash\">go get -u github.com/codegangsta/negroni\n</code></pre>\n\n \n </section>\n \n \n </div>"
    }, {
        "title": "Prototype Interaction and Animation",
        "url": "http://framerjs.com/resources/",
        "excerpt": "Framer Learn Resources Docs Examples Blog Community More Teach Jobs Pricing Github",
        "date_saved": "Thu Jul 28 20:10:04 EDT 2016",
        "html_file": "prototype_interaction_and_animation.html",
        "png_file": "prototype_interaction_and_animation.png",
        "md_file": "prototype_interaction_and_animation.md",
        "content": "<div class=\"resources\">\n\t\n\t<nav class=\"primary sticky\">\n\t\t<ul>\n\t\t\t<li class=\" framer\"><a href=\"http://framerjs.com/\">Framer</a></li>\n\t\t\t<section>\n\t\t\t\t<li class=\"\"><a href=\"http://framerjs.com/learn/basics/\">Learn</a></li>\n\t\t\t\t<li class=\"active\"><a href=\"http://framerjs.com/resources/\">Resources</a></li>\n\t\t\t\t<li class=\"\"><a href=\"http://framerjs.com/docs/\">Docs</a></li>\n\t\t\t\t<li class=\"\"><a href=\"http://framerjs.com/examples/\">Examples</a></li>\n\t\t\t\t<li class=\"blog\"><a href=\"http://blog.framerjs.com\">Blog</a></li>\n\t\t\t\t<li class=\"community\"><a href=\"http://framergroup.com/?utm_source=framer-site&amp;utm_medium=link&amp;utm_campaign=community\" target=\"_blank\">Community</a></li>\n\t\t\t\t<li class=\"submenu\">\n\t\t\t\t\t<a class=\"focus\">More</a>\n\t\t\t\t\t<ul class=\"dropdown\">\n\t\t\t\t\t\t<a href=\"http://framerjs.com/teach/\">Teach</a>\n\t\t\t\t\t\t<a href=\"http://framerjs.com/jobs/\">Jobs</a>\n\t\t\t\t\t\t<a href=\"http://framerjs.com/pricing/\">Pricing</a>\n\t\t\t\t\t\t<a href=\"https://github.com/koenbok/Framer\" target=\"_blank\">Github</a>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<section class=\"cta\">\n\t\t\t\t\t<li class=\"download\"><a href=\"http://framerjs.com/download\">Free Trial</a></li>\n\t\t\t\t\t<li class=\"buy\"><a href=\"http://framerjs.com/buy\">Buy $99</a>\n\t\t\t\t\t</li>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t</ul>\n\t</nav>\n\t\n\n\t\n\t\n\n\t<section class=\"container\">\n\t\t\n\t<div class=\"wrapper\">\n\t\t\n<div class=\"sidebar\">\n\t<ul>\n\t\t<h6>Quick Links</h6>\n\t\t<a href=\"http://framerjs.com/resources/#beginnertutorials\"><li>Beginner Tutorials</li></a>\n <a href=\"http://framerjs.com/resources/#videocourses\"><li>Video Courses</li></a>\n <a href=\"http://framerjs.com/resources/#framerbook\"><li>Framer eBook</li></a>\n\t\t<a href=\"http://framerjs.com/resources/#websites\"><li>Websites</li></a>\n <a href=\"http://framerjs.com/resources/#presentations\"><li>Presentations</li></a>\n <a href=\"http://framerjs.com/resources/#framerarticles\"><li>Framer Articles</li></a>\n <a href=\"http://framerjs.com/resources/#learnscripting\"><li>Learn Scripting</li></a>\n\n\t</ul>\n</div> \n\n\t\t\t<div class=\"align-right clearfix\">\n\t\t\t\t\n<section>\n\t<a id=\"beginnertutorials\"></a>\n\t<h4>Beginner Tutorials </h4>\n\n <figure class=\"col-4\">\n <a href=\"https://medium.com/@designforhuman/new-to-framer-just-3-things-to-get-you-started-47397f27c71e\" target=\"_blank\">\n <img src=\"http://framerjs.com/static/images/resources/3-things.png\">\n </a>\n <h6>3 Things to Get Started</h6>\n <p class=\"author\">By David Lee</p>\n <p class=\"small\">New to Framer and don't know where to begin? David Lee's article gets you started quick.</p>\n <a class=\"button-line blue\" href=\"https://medium.com/@designforhuman/new-to-framer-just-3-things-to-get-you-started-47397f27c71e\" target=\"_blank\">Read Tutorial</a>\n </figure>\n\t<figure class=\"col-4\">\n <a href=\"https://medium.com/@sean_mateer/framer-js-for-people-who-think-things-like-framer-js-are-weird-and-hard-add2068c8114\" target=\"_blank\">\n <img src=\"http://framerjs.com/static/images/resources/framer-for-beginners.png\">\n </a>\n <h6>Framer for Beginners</h6>\n <p class=\"author\">By Sean Mateer</p>\n <p class=\"small\">Sean Mateer thought things like Framer were weird and hard. Until he started.</p>\n <a class=\"button-line blue\" href=\"https://medium.com/@sean_mateer/framer-js-for-people-who-think-things-like-framer-js-are-weird-and-hard-add2068c8114\" target=\"_blank\">Read Tutorial</a>\n </figure>\n <figure class=\"col-4\">\n <a href=\"http://humaan.com/prototyping-with-framer/\" target=\"_blank\">\n <img src=\"http://framerjs.com/static/images/resources/working-with-framer.png\">\n </a>\n <h6>Working with Framer</h6>\n <p class=\"author\">By Dan Moore</p>\n <p class=\"small\">A simple getting started guide for prototyping with Framer, from Dan Moore.</p>\n <a class=\"button-line blue\" href=\"http://humaan.com/prototyping-with-framer/\" target=\"_blank\">Read Tutorial</a>\n </figure>\n</section>\n\n<section class=\"more-tutorials\">\n\t<h5>More tutorials</h5>\n\t<section>\n\t <a class=\"col-4\" href=\"https://medium.com/@kennycheny/creating-your-first-prototype-with-framer-c39221da7668\" target=\"_blank\">\n\t <h6>Creating your first prototype <span class=\"author\">by Kenny Chen</span></h6>\n\t </a>\n\t <a class=\"col-4\" href=\"https://medium.com/road-to-infinity/designer-coder-and-not-the-other-way-around-4288098986e1\" target=\"_blank\">\n\t <h6>Designer / Coder, and not the other way around <span class=\"author\">by Paul Cotton</span></h6>\n\t </a>\n\t <a class=\"col-4\" href=\"http://www.stakelon.com/2015/03/40-examples-of-how-to-design-with-code-using-framer/\" target=\"_blank\">\n\t <h6>40+ Examples Of How To Design With Code <span class=\"author\">by Jay Stakelon</span></h6>\n\t </a>\n\t</section>\n\t<section>\n\t\t<a class=\"col-4\" href=\"https://medium.com/@drocarmo/why-framer-js-matters-93eb1206e606/\" target=\"_blank\">\n\t <h6>Why Framer Matters <span class=\"author\">by Pedro Carmo</span></h6>\n\t </a>\n\t <a class=\"col-4\" href=\"https://blog.grandcentrix.net/motion-is-emotion/\" target=\"_blank\">\n\t <h6>Motion is Emotion <span class=\"author\">by Brian Louis Ramirez</span></h6>\n\t </a>\n\t\t<a class=\"col-4\" href=\"http://blog.tackmobile.com/article/prototyping-framer-js/\" target=\"_blank\">\n\t <h6>Prototyping with Framer <span class=\"author\">by Juan Sanchez</span></h6>\n\t </a>\n\t</section>\n</section>\n\n<h4>Video Courses </h4>\n<a id=\"videocourses\"></a>\n\n<section>\n\t<figure class=\"col-4\">\n\t <a href=\"https://www.udemy.com/framerjs-prototyping-design-interaction-animation/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/udemy.png\">\n\t </a>\n\t <h6>Udemy Courses</h6>\n\t <p class=\"small\">1200 students, 50 lectures and 6 hours of video content make Udemy a great place to start.</p>\n\t <a class=\"button-line blue\" href=\"https://www.udemy.com/framerjs-prototyping-design-interaction-animation/\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://www.sketchcasts.net/episodes/prototyping-with-framer-part-1\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/sketchcasts.png\">\n\t </a>\n\t <h6>SketchCasts Tutorials</h6>\n\t <p class=\"small\">SketchCasts offer a mini-series about animation, import, mirror and more advanced tips.</p>\n\t <a class=\"button-line blue\" href=\"http://www.sketchcasts.net/episodes/prototyping-with-framer-part-1\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://player.oreilly.com/videos/9781771374620?toc_id=217534\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/oreilly.png\">\n\t </a>\n\t <h6>Rapid Prototyping</h6>\n\t <p class=\"small\">Rapid Prototyping with Framer is an O'Reilly training course with 5 hours of video content.</p>\n\t <a class=\"button-line blue\" href=\"http://player.oreilly.com/videos/9781771374620?toc_id=217534\" target=\"_blank\">Visit Site</a>\n\t</figure>\n</section>\n\n<h4>Framer eBook </h4>\n<a id=\"framerbook\"></a>\n\n<section class=\"coffeescript-book\">\n\t<figure class=\"col-2\">\n\t\t<a href=\"http://coffeescript-for-framerjs.com\" target=\"_blank\">\n\t\t\t<img id=\"coffeescript-book\" src=\"http://framerjs.com/static/images/resources/cs-for-framer.png\">\n\t\t</a>\n\t</figure>\n\t<figure class=\"col-4\">\n\t\t<h6>CoffeeScript for Framer</h6>\n\t\t<p class=\"author\">By Tessa Thornton</p>\n\t\t<p class=\"small\">Learn CoffeeScript and the programming principles you'll need to bring your ideas to life. Even if you've never written a line of code before.</p>\n\t\t<a class=\"button-line blue\" href=\"http://coffeescript-for-framerjs.com\" target=\"_blank\">Visit Site</a>\n\t</figure>\n</section>\n\n\n<h4>Websites</h4>\n<a id=\"websites\"></a>\n\n<section>\n\t<figure class=\"col-4\">\n\t <a href=\"http://www.prototypingwithframer.com\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/pwf-site.png\">\n\t </a>\n\t <h6>Prototyping With Framer</h6>\n\t <p class=\"author\">By Kenny Chen</p>\n\t <p class=\"small\">Weekly tips, tricks and tutorials to help you design amazing prototypes from Kenny Chen.</p>\n\t <a class=\"button-line blue\" href=\"http://www.prototypingwithframer.com\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\t<figure class=\"col-4\">\n\t <a href=\"http://framerco.de\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/framer-code.png\">\n\t </a>\n\t <h6>Framer.Code</h6>\n\t <p class=\"author\">By Jordan Robert Dobson</p>\n\t <p class=\"small\">Jordan Robert Dobson collects modules, code examples, snippets and tips.</p>\n\t <a class=\"button-line blue\" href=\"http://framerco.de\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://www.prototyp.in\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/prototypin.png\">\n\t </a>\n\t <h6>Prototyp.in</h6>\n\t <p class=\"author\">By Kushagra Gour</p>\n\t <p class=\"small\">Create Framer prototypes right in your browser, with this simple JavaScript tool.</p>\n\t <a class=\"button-line blue\" href=\"http://www.prototyp.in\" target=\"_blank\">Visit Site</a>\n\t</figure>\n</section>\n\n<h4>Presentations</h4>\n<a id=\"presentations\"></a>\n\n<section>\n\t<figure class=\"col-4\">\n\t <a href=\"https://soundcloud.com/soundcloudjobs/sets/sketch-and-framer-at\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/at-soundcloud.png\">\n\t </a>\n\t <h6>Framer at SoundCloud</h6>\n\t <p class=\"author\">By Koen Bok</p>\n\t <p class=\"small\">Koen Bok talks at SoundCloud about great design, prototyping and the basics of Framer.</p>\n\t <a class=\"button-line blue\" href=\"https://soundcloud.com/soundcloudjobs/sets/sketch-and-framer-at\" target=\"_blank\">Listen on SoundCloud</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"https://www.youtube.com/watch?v=mqk9Fw8FKLY\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/at-stripe.png\">\n\t </a>\n\t <h6>Design With Framer</h6>\n\t <p class=\"author\">By Koen Bok</p>\n\t <p class=\"small\">Koen Bok and Jorn van Dijk talk at Stripe about prototyping and design tools.</p>\n\t <a class=\"button-line blue\" href=\"https://www.youtube.com/watch?v=mqk9Fw8FKLY\" target=\"_blank\">Watch on YouTube</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://nlevin.com/whitespace/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/prototyping-with-framer.png\">\n\t </a>\n\t <h6>Prototyping with Framer</h6>\n\t <p class=\"author\">By Noah Levin</p>\n\t <p class=\"small\">Noah Levin has taught Framer and prototyping to Google designers for over a year.</p>\n\t <a class=\"button-line blue\" href=\"http://nlevin.com/whitespace/\" target=\"_blank\">See Slides</a>\n\t</figure>\n</section>\n\n<section class=\"second-row\">\n\t<figure class=\"col-4\">\n\t <a href=\"https://speakerdeck.com/stakes/prototyping-with-framer\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/pwf-jay.png\">\n\t </a>\n\t <h6>Prototyping with Framer</h6>\n\t <p class=\"author\">By Jay Stakelon</p>\n\t <p class=\"small\">Jay Stakelon has taught a Framer workshop at Fullscreen and General Assembly.</p>\n\t <a class=\"button-line blue\" href=\"https://speakerdeck.com/stakes/prototyping-with-framer\" target=\"_blank\">See Slides</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"https://speakerdeck.com/stakes/designing-with-code\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/designing-with-code.png\">\n\t </a>\n\t <h6>Designing With Code</h6>\n\t <p class=\"author\">By Jay Stakelon</p>\n\t <p class=\"small\">Jay Stakelon gave a quick talk about Framer at the LA Hacker News Meetup.</p>\n\t <a class=\"button-line blue\" href=\"https://speakerdeck.com/stakes/designing-with-code\" target=\"_blank\">See Slides</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"https://speakerdeck.com/chriscamargo/multi-screen-flows-in-framer\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/multi-screen-flows.png\">\n\t </a>\n\t <h6>Multi-Screen Flows</h6>\n\t <p class=\"author\">By Chris Camargo</p>\n\t <p class=\"small\">Multi-screen prototyping flows with Framer by Chris Camargo at Disney in Seattle.</p>\n\t <a class=\"button-line blue\" href=\"https://speakerdeck.com/chriscamargo/multi-screen-flows-in-framer\" target=\"_blank\">See Slides</a>\n\t</figure>\n</section>\n\n<h4>Framer Articles</h4>\n<a id=\"framerarticles\"></a>\n<section>\n\t<figure class=\"col-4\">\n\t <a href=\"http://paulstamatiou.com/twitter-video/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/designing-twitter-video.png\">\n\t </a>\n\t <h6>Designing Twitter Video</h6>\n\t <p class=\"author\">By Paul Stamatiou</p>\n\t <p class=\"small\">A sneak peek into the creative process of Paul Stamatiou, designer at Twitter.</p>\n\t <a class=\"button-line blue\" href=\"http://paulstamatiou.com/twitter-video/\" target=\"_blank\">Read More</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://blog.parse.com/learn/using-parse-to-power-up-your-framer-prototypes-part-i/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/parse-framer.png\">\n\t </a>\n\t <h6>Parse + Framer</h6>\n\t <p class=\"author\">By George Kedenburg III</p>\n\t <p class=\"small\">Integrate Parse with Framer and enhance your prototypes with real data.</p>\n\t <a class=\"button-line blue\" href=\"http://blog.parse.com/learn/using-parse-to-power-up-your-framer-prototypes-part-i/\" target=\"_blank\">Read More</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"https://medium.com/we-build-vend/framer-looping-carousel-module-part-1-5dd997cc1e9b\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/rotating-array-module.png\">\n\t </a>\n\t <h6>Rotating Array Module</h6>\n\t <p class=\"author\">By Jacky Lee</p>\n\t <p class=\"small\">Learn how to make a module that automatically rotates an array of images for you.</p>\n\t <a class=\"button-line blue\" href=\"https://medium.com/we-build-vend/framer-looping-carousel-module-part-1-5dd997cc1e9b\" target=\"_blank\">Read More</a>\n\t</figure>\n</section>\n<section class=\"second-row\">\n\t<figure class=\"col-4\">\n\t <a href=\"http://www.darrinhenein.com/rapid-prototyping-part-one/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/gulp.png\">\n\t </a>\n\t <h6>Prototyping with Gulp, Framer and Sketch</h6>\n\t <p class=\"author\">By Darrin Henein</p>\n\t <p class=\"small\">Darrin Henein automatically updates his prototypes with Gulp, Sketch and Framer.</p>\n\t <a class=\"button-line blue\" href=\"http://www.darrinhenein.com/rapid-prototyping-part-one/\" target=\"_blank\">Read More</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"https://medium.com/@72mena/unlocking-ideas-with-framer-studio-790b5e9c249f\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/unlocking-ideas.png\">\n\t </a>\n\t <h6>Unlocking Ideas with Framer</h6>\n\t <p class=\"author\">By Luis F. Mena</p>\n\t <p class=\"small\">Luis F. Mena walks you through his design process, including planning and prototyping.</p>\n\t <a class=\"button-line blue\" href=\"https://medium.com/@72mena/unlocking-ideas-with-framer-studio-790b5e9c249f\" target=\"_blank\">Read More</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://www.prototypingwithframer.com/framer-on-windows-with-atom/\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/using-framer-on-windows.png\">\n\t </a>\n\t <h6>Using Framer on Windows</h6>\n\t <p class=\"author\">By Kenny Chen</p>\n\t <p class=\"small\">Do you want to prototype on Windows? Kenny Chen explains how with Atom.</p>\n\t <a class=\"button-line blue\" href=\"http://www.prototypingwithframer.com/framer-on-windows-with-atom/\" target=\"_blank\">Read More</a>\n\t</figure>\n</section>\n\n\n<h4>Learn Scripting</h4>\n<a id=\"learnscripting\"></a>\n\n<section>\n\t<figure class=\"col-4\">\n\t <a href=\"http://js2.coffee\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/js2coffee.png\">\n\t </a>\n\t <h6>JS2Coffee</h6>\n\t <p class=\"author\">js2.coffee</p>\n\t <p class=\"small\">Instantly compile and convert JavaScript into CoffeeScript, or the other way round.</p>\n\t <a class=\"button-line blue\" href=\"http://js2.coffee\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://javascriptbook.com\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/js-book.png\">\n\t </a>\n\t <h6>JavaScript Book</h6>\n\t <p class=\"author\">javascriptbook.com</p>\n\t <p class=\"small\">Learn the basics of JavaScript and computer programming in a simple, visual way.</p>\n\t <a class=\"button-line blue\" href=\"http://javascriptbook.com\" target=\"_blank\">Visit Site</a>\n\t</figure>\n\n\t<figure class=\"col-4\">\n\t <a href=\"http://coffeescript.org\" target=\"_blank\">\n\t <img src=\"http://framerjs.com/static/images/resources/coffeescript-org.png\">\n\t </a>\n\t <h6>CoffeeSript Website</h6>\n\t <p class=\"author\">coffeescript.org</p>\n\t <p class=\"small\">The official CoffeeScript website, with documentation, examples and snippets.</p>\n\t <a class=\"button-line blue\" href=\"http://coffeescript.org\" target=\"_blank\">Visit Site</a>\n\t</figure>\n</section>\n\n\t\t\t</div>\n\t</div>\n\n\t</section>\n\n\t\n\t<footer class=\"footer\">\n\t\t<div class=\"wrapper\">\n\t\t\t<section class=\"pivots\">\n\t\t\t\t<section>\n\t\t\t\t\t<img src=\"http://framerjs.com/static/images/home/app-icon.png\">\n\t\t\t\t\t<h6>Framer Studio</h6>\n\t\t\t\t\t<h3>Start prototyping today</h3>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<a class=\"button-fill green\" href=\"http://framerjs.com/download\">Free Trial</a>\n\t\t\t\t\t<a class=\"button-fill blue\" href=\"http://framerjs.com/buy\">Buy $99</a>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t\n\t\t\t<section class=\"links-email\">\n\t\t\t\t<section>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<li><a href=\"http://framerjs.com/teach/\">Teach</a></li>\n\t\t\t\t\t\t<li><a href=\"http://framerjs.com/jobs/\">Jobs</a></li>\n\t\t\t\t\t\t<li><a href=\"http://framerjs.com/pricing/\">Pricing</a></li>\n\t\t\t\t\t\t<li class=\"github\"><a href=\"https://github.com/koenbok/Framer\" target=\"_blank\">Github</a></li>\n\t\t\t\t\t\t<li><a href=\"http://blog.framerjs.com\">Blog</a></li>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div class=\"small-links\">\n\t\t\t\t\t\t<li class=\"copyright\">Copyright \u00a9 2015 Motif Tools BV</li>\n\t\t\t\t\t\t<li><a href=\"http://framerjs.com/cdn-cgi/l/email-protection#d7a4a2a7a7b8a5a397b1a5b6bab2a5bda4f9b4b8ba\">Support</a></li>\n\t\t\t\t\t\t<li><a href=\"https://twitter.com/framerjs\" target=\"_blank\">Twitter</a></li>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t</div>\n\t</footer>\n\t\n\n\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\n\n\t\n\t\n\n\n\n</div>\n"
    }, {
        "title": "Quintus JavaScript HTML5 Game Engine",
        "url": "http://www.html5quintus.com/",
        "excerpt": "homedocscommunitygithub",
        "date_saved": "Thu Jul 28 20:10:06 EDT 2016",
        "html_file": "quintus_javascript_html5_game_engine.html",
        "png_file": "quintus_javascript_html5_game_engine.png",
        "md_file": "quintus_javascript_html5_game_engine.md",
        "content": "<div><header id=\"site-header\"><section id=\"site-top\"><nav id=\"site-nav\"><ul><li class=\"selected\"><a href=\"http://www.html5quintus.com/\">home</a></li><li class=\"\"><a href=\"http://www.html5quintus.com/documentation\">docs</a></li><li><a href=\"https://plus.google.com/communities/104292074755089084725\">community</a></li><li><a href=\"http://github.com/cykod/Quintus\">github</a></li></ul></nav></section><div id=\"social\"><div class=\"addthis_toolbox addthis_default_style\"><a class=\"addthis_button_facebook_like\"></a><a class=\"addthis_button_tweet\"> </a></div></div></header><section id=\"leader\"></section></div>\n"
    }, {
        "title": "Many JS Frameworks but Vue.js Is Different",
        "url": "http://taha-sh.com/blog/many-js-frameworks-but-vuejs-is-different",
        "excerpt": "Nowadays, we have countless Javascript libraries available for us to use. Every once in a while we get a new framework/library for Javascript. I&#x2019;ve used many Javascript frameworks, but&hellip;",
        "date_saved": "Thu Jul 28 20:10:08 EDT 2016",
        "html_file": "many_js_frameworks_but_vuejs_is_different.html",
        "png_file": "many_js_frameworks_but_vuejs_is_different.png",
        "md_file": "many_js_frameworks_but_vuejs_is_different.md",
        "content": "<div><div class=\"post-body\">\n \n<p>Nowadays, we have countless Javascript libraries available for us to use. Every once in a while we get a new framework/library for Javascript. I&#x2019;ve used many Javascript frameworks, but I&#x2019;ve never seen something as simple and flexible as <a href=\"http://vuejs.org/\">Vue.js</a>.</p>\n\n<p>You&#x2019;ll be amazed by how a few lines you need to write to accomplish common tasks in Javascript with Vue.js.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438789978many-js-frameworks-but-vue-js-is-different-1.png\" alt=\"Vue.js website\">\n\n<p>In this tutorial, I&#x2019;m going to show you all of that by building a simple tasks app. To see what we&#x2019;re going to build, check out the <a href=\"http://jsfiddle.net/dvvzhLh4/\">demo</a>. You can also get the source code on <a href=\"https://github.com/TahaSh/Tasks-App-With-VueJS\">github</a>.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790026many-js-frameworks-but-vue-js-is-different-2.png\" alt=\"Tasks App\">\n\n<p><strong>Note:</strong> If you feel that you don&#x2019;t understand everything here, don&#x2019;t worry, this tutorial is just intended to show you how awesome Vue.js is. Maybe, in the future, there&#x2019;ll be more tutorials that review the basics of Vue.js.</p>\n\n<h3>Setting Up The Project</h3>\n\n<p>For this app, we need three files: <code>index.html</code>, <code>app.js</code> and <code>app.css</code>.</p>\n\n<p>As a start, here&#x2019;s how <code>index.html</code> should look like:</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n &lt;meta charset=\"UTF-8\"&gt;\n &lt;title&gt;Tasks App&lt;/title&gt;\n &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css\"/&gt;\n &lt;link rel=\"stylesheet\" href=\"app.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/0.12.9/vue.min.js\"&gt;&lt;/script&gt;\n &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>All we have here is a basic HTML5 boilerplate. For this tutorial, I pulled in <code>vue.js</code> via CDN &#x2014; but feel free to use bower if you want. Also for better styling, I included bootstrap.</p>\n\n<h3>Define a Vue Instance</h3>\n\n<p>To start things off, we have to declare a Vue instance and tell it which DOM element it controls.</p>\n\n<p>In <code>index.html</code>, add <code>&lt;div id=\"app\"&gt;&lt;/div&gt;</code> which will be the view for our Vue instance.</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;!-- ... --&gt;\n\n&lt;body&gt;\n\n&lt;div id=\"app\"&gt;&lt;/div&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>Now to create the Vue instance, go to <code>app.js</code> and put this in.</p>\n\n<h4>app.js</h4>\n\n<pre><code>new Vue({\n el: '#app'\n});\n</code></pre>\n\n<p>With that, we have created a Vue instance and associated it with the <code>div#app</code> tag from <code>index.html</code>. This means the Vue instance will control the tag <code>div#app</code> and everything it houses.</p>\n\n<p>For this app we need a little bit of styling. So go to <code>app.css</code> and add this code.</p>\n\n<pre><code>#app {\n padding: 2em;\n}\n\n#app input[type=text] {\n margin-bottom: 1em\n}\n\n#app h1 {\n margin-bottom: 0.5em;\n}\n\n.task:hover .remove-btn {\n display: block;\n}\n\n.remove-btn {\n display: none;\n background: transparent;\n border: 0;\n color: darkred;\n}\n\n.completed {\n color: silver;\n text-decoration: line-through;\n}\n</code></pre>\n\n<h3>Show a List of Tasks</h3>\n\n<p>Since Vue uses two-way binding, like angular, we need a way to specify what data Vue will use (as a model). We can do that by declaring an object named <code>data</code> in the Vue instance. Like this:</p>\n\n<pre><code>new Vue({\n el: '#app',\n\n data: {\n\n }\n});\n</code></pre>\n\n<p>We need a list of tasks, so we have to declare an array of tasks in that <code>data</code> object.</p>\n\n<pre><code>new Vue({\n el: '#app',\n\n data: {\n tasks: []\n }\n});\n</code></pre>\n\n<p>Each task will have a <code>title</code> and <code>completed</code> property to specify if the task is completed. So each task object will look like this: <code>{ title: 'My task', completed: false }</code>.</p>\n\n<p>For now, let&#x2019;s just add a bunch of tasks in that array as hard-coded values.</p>\n\n<pre><code>new Vue({\n el: '#app',\n\n data: {\n tasks: [\n { title: 'Go to grocery store', completed: false },\n { title: 'Do the dishes', completed: false },\n { title: 'Call John', completed: false }\n ]\n }\n});\n</code></pre>\n\n<p>We have defined the tasks, but how would we display them? Well, we have two ways: <strong>directives</strong> or <strong>mustache binding</strong>.</p>\n\n<p>For now, I want you to think of directives as html attributes that are prefixed with <code>v-</code>. Examples: <code>v-model</code>, <code>v-text</code>, <code>v-on</code>, etc&#x2026;.</p>\n\n<p>Another way is to use mustache-like syntax. Like this: <code>{{ data }}</code>.</p>\n\n<p>Let&#x2019;s use the latter one. To see how it works, open <code>index.html</code>, and put this <code>{{ tasks[0].title }}</code> inside <code>div#app</code>. After that, if you view the browser, you should see the title of the first task: <strong>Go to grocery store</strong>.</p>\n\n<p>This is to show a single value. However, to show all tasks we have to use the <code>v-repeat</code> directive. Like this:</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;Tasks&lt;/h1&gt;\n &lt;ul class=\"list-group\"&gt;\n &lt;li class=\"list-group-item task\"\n v-repeat=\"task : tasks\"\n &gt;\n &lt;input type=\"checkbox\"&gt;\n {{ task.title }}\n &lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can think of the <code>v-repeat</code> directive as a for-in loop. So we access each element in the <code>tasks</code> array as <code>task</code>.</p>\n\n<p>Now if you get back to the browser, you should see all tasks displayed in a list group.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790055many-js-frameworks-but-vue-js-is-different-3.png\" alt=\"Showing a list of tasks\">\n\n<h3>Deleting Tasks</h3>\n\n<p>We need a button for each task, when it&#x2019;s clicked, the task should be deleted.</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;div id=\"app\"&gt;\n &lt;ul class=\"list-group\"&gt;\n &lt;li class=\"list-group-item task\"\n v-repeat=\"task : tasks\"\n &gt;\n &lt;input type=\"checkbox\"&gt;\n {{ task.title }}\n\n &lt;button class=\"remove-btn pull-right\" v-on=\"click: removeTask(task)\"&gt;&lt;span class=\"glyphicon glyphicon-remove\"&gt;&lt;/span&gt;&lt;/button&gt;\n\n &lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>That button has a <code>v-on</code> directive. This directive is used to bind event listeners to DOM events. So when the button is clicked, we should call <code>removeTask()</code> method passing in the task to be deleted.</p>\n\n<p>But where to define that method? The answer is in a <code>methods</code> object in the Vue instance.</p>\n\n<p>So add this in the Vue instance:</p>\n\n<h4>app.js</h4>\n\n<pre><code>new Vue({\n el: '#app',\n\n data: {\n tasks: [\n { title: 'Go to grocery store', completed: false },\n { title: 'Do the dishes', completed: false },\n { title: 'Call John', completed: false }\n ]\n },\n \n methods: {\n removeTask: function(task) {\n this.tasks.$remove(task);\n }\n }\n});\n</code></pre>\n\n<p>Now when you put the cursor on the task, a delete button should be displayed. When you click on it, the task should be deleted.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790078many-js-frameworks-but-vue-js-is-different-4.png\" alt=\"Showing delete button\">\n\n<h3>Completing Tasks</h3>\n\n<p>Now let&#x2019;s see how we can complete tasks. The idea is to toggle a class on each task item. So when the task is completed, we should add a <code>.completed</code> class to it. And when it&#x2019;s uncompleted, we should remove that class.</p>\n\n<p>That action should happen when the user click on the checkbox for each task. So we need to associate some data with each checkbox. For that we use the directive <code>v-model</code>. This directive is used to associate data with form input. The data we should associate is the <code>completed</code> property for each task (<code>task.completed</code>).</p>\n\n<p>So what we want do is to change <code>task.completed</code> to <strong>true</strong> when the checkbox is checked. And back to <strong>false</strong> when it&#x2019;s unchecked.</p>\n\n<p>All we have to do to accomplish this is to add <code>v-model=\"task.completed\"</code> for the checkbox.</p>\n\n<pre><code>&lt;input type=\"checkbox\" v-model=\"task.completed\"&gt;\n</code></pre>\n\n<p>With that, the <code>completed</code> property is changed with the checkbox. But how to determine if we should add or remove (i.e. toggle) the class <code>.completed</code>. This is done simply by using the directive <code>v-class</code>. This directive takes the class and the condition to show that class.</p>\n\n<p>So add <code>v-class=\"completed: task.completed\"</code> to the list item. In this case, the class <code>.completed</code> will be set only when <code>task.completed</code> is a truthy value.</p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n &lt;ul class=\"list-group\"&gt;\n &lt;li class=\"list-group-item task\"\n v-repeat=\"task : tasks\"\n v-class=\"completed: task.completed\"\n &gt;\n &lt;input type=\"checkbox\"&gt;\n {{ task.title }}\n\n &lt;button class=\"remove-btn pull-right\" v-on=\"click: removeTask(task)\"&gt;&lt;span class=\"glyphicon glyphicon-remove\"&gt;&lt;/span&gt;&lt;/button&gt;\n\n &lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now your tasks can be completed and uncompleted.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790097many-js-frameworks-but-vue-js-is-different-5.png\" alt=\"Completing tasks\">\n\n<h3>Adding New Tasks</h3>\n\n<p>For adding new tasks, we need a text input to write in the task&#x2019;s title. By default, each new task should be uncompleted.</p>\n\n<p>Add the input above <code>ul#list-group</code>.</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;input type=\"text\"\n class=\"form-control\"\n placeholder=\"New Task\"\n v-model=\"newTask.title\"\n v-on=\"keyup: addTask | key 'enter'\"\n&gt;\n</code></pre>\n\n<p>The new task&#x2019;s data will be represented by the property <code>newTask</code>. So we have to declare it in the Vue instance.</p>\n\n<h4>app.js</h4>\n\n<pre><code>data: {\n newTask:{ title: '', completed: false},\n //...\n}\n</code></pre>\n\n<p>Notice that I&#x2019;ve associated an event listener with the input which will be triggered when the user presses the enter key. I&#x2019;ve specified the key using filters &#x2014; which you probably know from angular.</p>\n\n<p>Now let&#x2019;s define the <code>addTask</code> handler in the methods object.</p>\n\n<h4>app.js</h4>\n\n<pre><code>methods: {\n addTask: function() {\n if ( ! this.newTask.title) {\n return;\n }\n\n this.tasks.push({\n title: this.newTask.title,\n completed: false\n });\n\n this.newTask = { title: '', completed: false};\n },\n\n // ...\n}\n</code></pre>\n\n<p>In the <code>addTask</code> method, we first make sure that the task to be added is not empty. If not, then we add the new task to the tasks array using the push method. After that, we clear out the text input by resetting the values of <code>this.newTask</code>.</p>\n\n<p>If you switch back to the browser, you should be able to add a new task by typing in its title and pressing enter.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790135many-js-frameworks-but-vue-js-is-different-6.png\" alt=\"Adding new task\">\n\n<h3>Editing Tasks</h3>\n\n<p>The last feature we&#x2019;re going to add is the ability to edit tasks. The way we want to edit tasks is by double-clicking a task from the list. Then that task&#x2019;s title will be editable in the same text input we use to add tasks. After we&#x2019;re done with our changes, we press enter to commit the changes and clear out the text input.</p>\n\n<p>It seems that it&#x2019;s a tough one, but really isn&#x2019;t. All you have to do in <code>index.html</code> is to add this event listener to the task item: <code>v-on=\"dblclick: startEditingTask(task)\"</code>.</p>\n\n<pre><code>&lt;li class=\"list-group-item task\"\n v-repeat=\"task : tasks\"\n v-class=\"completed: task.completed\"\n v-on=\"dblclick: startEditingTask(task)\"\n&gt;\n</code></pre>\n\n<p>Then define that handler in the Vue instance.</p>\n\n<pre><code>methods: {\n startEditingTask: function(task) {\n this.newTask = task;\n this.editingTask = true;\n },\n // ...\n}\n</code></pre>\n\n<p>In that handler we assign the task that we want to edit to the <code>newTask</code> property &#x2014; so we can use the same text input to update it. But what about the <code>editingTask</code> property?</p>\n\n<p>Well, this one is used to determine whether the task in the text input is a new one to be added or a task to be updated. But for that to work, we have to define it in the <code>data</code> object.</p>\n\n<pre><code>data: {\n newTask:{ title: '', completed: false},\n\n editingTask: false,\n\n tasks: [\n { title: 'Go to grocery store', completed: false },\n { title: 'Do the dishes', completed: false },\n { title: 'Call John', completed: false }\n ]\n}\n</code></pre>\n\n<p>The last change we&#x2019;ll do in <code>index.html</code> is to change the event handler of the text input (when the enter is pressed) to another method &#x2014; called <code>pressedEnter</code>.</p>\n\n<pre><code>&lt;input type=\"text\"\n class=\"form-control\"\n placeholder=\"New Task\"\n v-model=\"newTask.title\"\n v-on=\"keyup: pressedEnter | key 'enter'\"\n&gt;\n</code></pre>\n\n<p>Now in your Vue instance add this method.</p>\n\n<pre><code>pressedEnter: function() {\n if ( ! this.editingTask) {\n this.addTask();\n }\n \n this.newTask = { title: '', completed: false};\n this.editingTask = false;\n}\n</code></pre>\n\n<p>Notice that I moved <code>this.newTask = { title: '', completed: false};</code> from the <code>addTask</code> method to the <code>pressedEnter</code>. Also, in the last line, I changed <code>editingTask</code> back to false so users would be able to add more tasks in case they were editing a task before that.</p>\n\n<p>Now we&#x2019;re able to edit tasks.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790156many-js-frameworks-but-vue-js-is-different-7.png\" alt=\"Edit tasks\">\n\n<h3>Removing Tasks When They Are Empty</h3>\n\n<p>Now what if the user provided an empty string when editing the task. In this case we should just remove that task because empty tasks will help nobody.</p>\n\n<img src=\"http://taha-sh.com/images/blog/1438790195many-js-frameworks-but-vue-js-is-different-8.png\" alt=\"Update task with empty string\">\n\n<p>To tackle that, update <code>pressedEnter</code> accordingly:</p>\n\n<pre><code>pressedEnter: function() {\n if (this.editingTask) {\n this.removeIfEmpty();\n } else {\n this.addTask(); \n }\n \n this.newTask = { title: '', completed: false};\n this.editingTask = false;\n}\n</code></pre>\n\n<p>Then create that <code>removeIfEmpty</code> method and put this into it.</p>\n\n<pre><code>removeIfEmpty: function() {\n if ( ! this.newTask.title) {\n this.removeTask(this.newTask);\n }\n}\n</code></pre>\n\n<h3>All The Code</h3>\n\n<p>Here are the three files that we&#x2019;ve been working on.</p>\n\n<h4>index.html</h4>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n &lt;meta charset=\"UTF-8\"&gt;\n &lt;title&gt;Tasks App&lt;/title&gt;\n &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css\"/&gt;\n &lt;link rel=\"stylesheet\" href=\"app.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=\"app\"&gt;\n &lt;h1&gt;Tasks&lt;/h1&gt;\n\n &lt;input type=\"text\"\n class=\"form-control\"\n placeholder=\"New Task\"\n v-model=\"newTask.title\"\n v-on=\"keyup: pressedEnter | key 'enter'\"\n &gt;\n\n &lt;ul class=\"list-group\"&gt;\n &lt;li class=\"list-group-item task\"\n v-repeat=\"task : tasks\"\n v-class=\"completed: task.completed\"\n v-on=\"dblclick: startEditingTask(task)\"\n &gt;\n &lt;input type=\"checkbox\" v-model=\"task.completed\"&gt;\n {{ task.title }}\n\n &lt;button class=\"remove-btn pull-right\" v-on=\"click: removeTask(task)\"&gt;&lt;span class=\"glyphicon glyphicon-remove\"&gt;&lt;/span&gt;&lt;/button&gt;\n &lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/0.12.9/vue.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h4>app.js</h4>\n\n<pre><code>new Vue({\n el: '#app',\n\n data: {\n newTask:{ title: '', completed: false},\n\n tasks: [\n { title: 'Go to grocery store', completed: false },\n { title: 'Do the dishes', completed: false },\n { title: 'Call John', completed: false }\n ]\n },\n\n methods: {\n pressedEnter: function() {\n if (this.editingTask) {\n this.removeIfEmpty();\n } else {\n this.addTask(); \n }\n \n this.newTask = { title: '', completed: false};\n this.editingTask = false;\n },\n\n addTask: function() {\n if ( ! this.newTask.title) {\n return;\n }\n\n this.tasks.push({\n title: this.newTask.title,\n completed: false\n });\n },\n\n removeTask: function(task) {\n this.tasks.$remove(task);\n },\n\n startEditingTask: function(task) {\n this.newTask = task;\n this.editingTask = true;\n },\n removeIfEmpty: function() {\n if ( ! this.newTask.title) {\n this.removeTask(this.newTask);\n }\n }\n }\n});\n</code></pre>\n\n<h4>app.css</h4>\n\n<pre><code>#app {\n padding: 2em;\n}\n\n#app input[type=text] {\n margin-bottom: 1em\n}\n\n#app h1 {\n margin-bottom: 0.5em;\n}\n\n.task:hover .remove-btn {\n display: block;\n}\n\n.remove-btn {\n display: none;\n background: transparent;\n border: 0;\n color: darkred;\n}\n\n.completed {\n color: silver;\n text-decoration: line-through;\n}\n</code></pre>\n\n<h3>Wrap Up</h3>\n\n<p>With that, we&#x2019;re done with our little tasks app. I hope you can see how easy it is to accomplish things in Vue.js. </p>\n\n<p>Actually, we&#x2019;ve barely scratched the surface in this tutorial. Vue has many more things to learn. Anyway, the purpose of this tutorial was to show you the basic workflow of building apps in Vue.js.</p>\n\n<p>As I said at the beginning, don&#x2019;t worry if it doesn&#x2019;t all make sense to you. This tutorial was just to whet your appetite to learn more about Vue. So if you found this library very interesting to you, and you want to learn it from scratch, please let me know this in the comments.</p>\n </div>\n</div>"
    }, {
        "title": "delight-im/FreeGeoDB",
        "url": "https://github.com/delight-im/FreeGeoDB?hn=2015-09-25",
        "excerpt": "Free database of geographic place names and corresponding geospatial data Entities airports cities countries (admin-0) lakes ports railroads regions (admin-1) roads time zones Formats Contributing&hellip;",
        "date_saved": "Thu Jul 28 20:10:10 EDT 2016",
        "html_file": "delightimfreegeodb.html",
        "png_file": "delightimfreegeodb.png",
        "md_file": "delightimfreegeodb.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Free database of geographic place names and corresponding geospatial data</p>\n\n<h2><a id=\"user-content-entities\" class=\"anchor\" href=\"https://github.com/delight-im/FreeGeoDB?hn=2015-09-25#entities\"></a>Entities</h2>\n\n<ul>\n<li>airports</li>\n<li>cities</li>\n<li>countries (admin-0)</li>\n<li>lakes</li>\n<li>ports</li>\n<li>railroads</li>\n<li>regions (admin-1)</li>\n<li>roads</li>\n<li>time zones</li>\n</ul>\n\n<h2><a id=\"user-content-formats\" class=\"anchor\" href=\"https://github.com/delight-im/FreeGeoDB?hn=2015-09-25#formats\"></a>Formats</h2>\n\n\n\n<h2><a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/delight-im/FreeGeoDB?hn=2015-09-25#contributing\"></a>Contributing</h2>\n\n<p>All contributions are welcome! If you wish to contribute, please create an issue first so that your feature, problem or question can be discussed.</p>\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/delight-im/FreeGeoDB?hn=2015-09-25#license\"></a>License</h2>\n\n<pre><code>Copyright 2015 delight.im &lt;info@delight.im&gt;\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "A walk through the SA-IS algorithm - Screwtape's Notepad",
        "url": "http://zork.net/~st/jottings/sais.html",
        "excerpt": "Screwtape's Notepad A walk through the SA-IS Suffix Array Construction Algorithm Some time ago, while looking for solutions to some string-searching problem I was having, I stumbled across the Suffix&hellip;",
        "date_saved": "Thu Jul 28 20:10:12 EDT 2016",
        "html_file": "a_walk_through_the_sais_algorithm__screwtapes_notepad.html",
        "png_file": "a_walk_through_the_sais_algorithm__screwtapes_notepad.png",
        "md_file": "a_walk_through_the_sais_algorithm__screwtapes_notepad.md",
        "content": "<div><body>\n\t<header>\n\t <h2>Screwtape's Notepad</h2>\n\t <nav>\n\t\t\n\t </nav>\n\t</header>\n<h2>A walk through the SA-IS Suffix Array Construction Algorithm</h2>\n<p>Some time ago, while looking for solutions to some string-searching problem\nI was having, I stumbled across the <a href=\"http://en.wikipedia.org/wiki/Suffix_array\">Suffix Array</a> data-structure. It\nseemed promising, so I looked up the algorithm Wikipedia recommended (the\n\"SA-IS\" algorithm from the paper \"Linear Suffix Array Construction by Almost\nPure Induced-Sorting\" by G. Nong, S. Zhang and W. H. Chan). I downloaded the\npaper from <a href=\"https://code.google.com/p/ge-nong/\">the authors' site</a> and I read through it.</p>\n<p>Unfortunately, the paper was aimed at an audience of Computer Science\nresearchers well-versed in the literature of the field, rather than an industry\nprogrammer with some spare-time and curiosity, so it made almost no sense to\nme. I decided I would research this research, figure out how the SA-IS\nalgorithm worked, and write up the most accessible explanation I could muster.</p>\n<p>Before we begin, though, some caveats:</p>\n<ul>\n<li>I will explain the ideas behind the SA-IS algorithm, but I won't go into\n detail about <em>why</em> they work. For fully-worked proofs, see the original\n paper.</li>\n<li>At any point where I have to choose between an efficiently-implemented\n example and a simple-to-explain example, I'll pick simplicity. You can\n probably come up with practical optimisations yourself.</li>\n<li>Although SA-IS can be generally applied to strings with an alphabet of any\n size, the code shown here is specialised to strings of 8-bit bytes, because\n in practice that's what most people will want to do.</li>\n<li>The SA-IS algorithm itself is simple enough, but requires storage for\n intermediate values. To keep things simple I'll ignore storage costs, but G.\n Nong's follow-up paper, \"Practical Linear-Time O(1)-Workspace Suffix Sorting\n for Constant Alphabets\" discusses how to build a suffix-array in linear-time\n and constant (working) space (obviously you need O(n) space to store the\n resulting sorted array). It's basically the same as the SA-IS algorithm but\n it's smarter about storing intermediate values.</li>\n<li>All the code examples are written to work with Python 3, and specifically\n tested against Python 3.4.</li>\n</ul>\n<h2>What's a suffix array?</h2>\n<p>A suffix array is an index over a string that helps you find all the times\nsome smaller string occurs inside it, if at all. A suffix array for a string\nwith N characters will generally be an array of N integers, where each item of\nthe array stores an offset into the string, representing the suffix of the\nstring starting at that offset and continuing (as suffixes do) to the end.</p>\n<p>The important thing about a suffix-array is that it represents a <em>sorted</em>\nsequence of suffixes, so you can find some particular suffix&#x2014;or all the\nsuffixes beginning with some particular string&#x2014;by using an ordinary binary\nsearch.</p>\n<p>Here's a simple Python function that generates a suffix array:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... A naive, slow suffix-array construction algorithm.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Construct a list of suffixes of the source string.</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixes</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">offset</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixes</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"p\">[</span><span class=\"n\">offset</span><span class=\"p\">:])</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Sort the suffixes</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixes</span><span class=\"o\">.</span><span class=\"n\">sort</span><span class=\"p\">()</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Calculate the start offset of each suffix, storing them in</span>\n<span class=\"o\">...</span> <span class=\"c\"># sorted order into the suffix array.</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixArray</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">suffix</span> <span class=\"ow\">in</span> <span class=\"n\">suffixes</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">suffix</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixArray</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">offset</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">suffixArray</span>\n</pre></div>\n\n\n<p>If we feed a string like <code>cabbage</code> into this algorithm, we get the correct\nsuffix array in return:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>The string contains two instances of the character <code>a</code>, at indexes 1 and 4, and\ntherefore two suffixes starting with <code>a</code>. Sure enough, the indexes 1 and 4 are\ngrouped together in the suffix array. Index 1 comes first, because that suffix\nbegins with <code>ab</code>, which is alphabetically before index 4's <code>ag</code>.</p>\n<p>Note that although the indexes of the characters run 0 to 6, for a total of\nseven characters, the suffix array has <em>eight</em> offsets. The suffix beginning\njust after the last character and continuing to the end of the string is the\nempty suffix, containing no characters. Because it's the shortest possible\nsuffix, it always winds up sorted to the beginning of the suffix array. Most\npeople who want to use suffix arrays don't care about the empty suffix, but it\nturns out to be important for the SA-IS algorithm.</p>\n<p>The naive algorithm above just re-uses a standard O(n log n) sorting algorithm,\nplus it adds the overhead of building a list of suffixes and building a new\narray of offsets at the end. SA-IS manages to do the whole thing in O(n) time,\nfaster than just the standard sorting on its own, a massive improvement. To\nachieve this speed, SA-IS takes advantage of certain features of suffix arrays\nthat are not necessarily true of any old array of strings. </p>\n<h2>Concepts in SA-IS</h2>\n<p>Before we get into the details of the SA-IS algorithm, we need to cover the\nconcepts that SA-IS is built on.</p>\n<h2>S-type and L-type suffixes</h2>\n<p>When sorting an array of suffixes of some string, SA-IS divides them into two\ngroups: \"S-type\" suffixes and \"L-type\" suffixes. S-type suffixes are <em>smaller</em>\n(in the sorting sense) than the suffix to their right (and so must appear\ncloser to the start of the finished suffix array) and L-type suffixes are\n<em>larger</em> than the suffix to their right (and so appear closer to the end).</p>\n<p>Let's take the string <code>cabbage</code> again. The suffix starting at offset 1 is\n<code>abbage</code>; the suffix starting to the right of it is <code>bbage</code>, and <code>abbage</code> comes\nbefore <code>bbage</code> alphabetically, so <code>abbage</code> is an S-type suffix. Meanwhile, the\nsuffix starting at offset 5 is <code>ge</code>; the suffix starting to the right is <code>e</code>,\nand <code>ge</code> comes after <code>e</code>, so <code>ge</code> is an L-type suffix.</p>\n<p>We can figure out whether the suffix starting at some particular place is\nS-type or L-type by comparing the character at that place with the character\nto the right, but what if both characters are the same? For example, the suffix\nat offset 2 is <code>bbage</code>, and the suffix to the right is <code>bage</code>. You could just\nuse a normal string comparison, but imagine if one suffix was \"a million <code>b</code>s\nfollowed by <code>age</code>\" and the other suffix was \"a million and one <code>b</code>s followed by\n<code>age</code>\"&#x2014;that comparison would get expensive quickly! However, because both are\nsuffixes of the same string, it turns out that when a character is the same as\nthe character to its right, then its type is the same as the other character\ntoo. <code>bage</code> turns out to be L-type, and so <code>bbage</code> is also L-type.</p>\n<p>Therefore, if we know whether the suffix at some offset is L-type or S-type, we\ncan easily calculate the type of every suffix to the left of that offset by\nstarting at that point and walking left, comparing characters and storing\ntypes. But what about the right-most suffix? It doesn't have a right-hand\nsuffix to compare to, so we can't figure out whether it's larger or smaller!\nWell, in SA-IS the right-most suffix is always the empty suffix, and it's\ndefined to always be S-type.</p>\n<p>Now we have a complete set of rules for determining the type of each suffix of\na string:</p>\n<ol>\n<li>The empty suffix at the end of the string is S-type by definition, and\n therefore the penultimate suffix (containing just the last character) is\n always L-type (since it's alphabetically after the empty suffix).</li>\n<li>If the character at offset X is alphabetically larger than the character at\n offset X+1, the suffix starting at offset X is L-type.</li>\n<li>If the character at offset X is the same as the character at offset X+1, and\n the suffix starting at offset X+1 is L-type, then the suffix starting at\n offset X is also L-type.</li>\n<li>Otherwise, the suffix starting at offset X is S-type.</li>\n</ol>\n<p>If we define some values to represent \"S-type\" and \"L-type\":</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">S_TYPE</span> <span class=\"o\">=</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s\">\"S\"</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">L_TYPE</span> <span class=\"o\">=</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s\">\"L\"</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>...we can make a function that takes a string and maps out whether each\ncharacter of the source string as S-type or L-type, following the above rules.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Builds a map marking each suffix of the data as S_TYPE or L_TYPE.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"c\"># The map should contain one more entry than there are characters</span>\n<span class=\"o\">...</span> <span class=\"c\"># in the string, because we also need to store the type of the</span>\n<span class=\"o\">...</span> <span class=\"c\"># empty suffix between the last character and the end of the</span>\n<span class=\"o\">...</span> <span class=\"c\"># string.</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"nb\">bytearray</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># The empty suffix after the last character is S_TYPE</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">S_TYPE</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># If this is an empty string...</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...there are no more characters, so we're done.</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">res</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># The suffix containing only the last character must necessarily</span>\n<span class=\"o\">...</span> <span class=\"c\"># be larger than the empty suffix.</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">L_TYPE</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Step through the rest of the string from right to left.</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">&gt;</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">]:</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">L_TYPE</span>\n<span class=\"o\">...</span> <span class=\"k\">elif</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"ow\">and</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">L_TYPE</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">L_TYPE</span>\n<span class=\"o\">...</span> <span class=\"k\">else</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">S_TYPE</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<p>The <code>buildTypeMap()</code> function stores its map as a <code>bytearray</code>, so if we want to\nprint out a type-map we'll need to decode it into text first:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s\">'ascii'</span><span class=\"p\">))</span>\n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s\">'ascii'</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p>If we look at the type map of <code>cabbage</code>, we can see the S-type and L-type\nsuffixes are just as we expected:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"n\">cabbage</span>\n<span class=\"n\">LSLLSLLS</span>\n</pre></div>\n\n\n<p>Note again that the type-map is longer than the input text, because it's\nstoring an entry for the empty suffix.</p>\n<h2>LMS characters</h2>\n<p>Let's say that some particular character in our input string is an\n\"S character\" if an S-type suffix starts at that location (and likewise for\nan \"L character\"). A \"left-most S character\" (or \"LMS character\" for short), is\njust an S character that has an L character to its immediate left. The first\ncharacter in the string can never be an LMS character (because there's no\ncharacter to the immediate left, let alone an L character), but apart from that\nthe definition is straightforward. Therefore, we can very easily write\na function to implement this test:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">offset</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Returns true if the character at offset is a left-most S-type.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">offset</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">False</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">typemap</span><span class=\"p\">[</span><span class=\"n\">offset</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">S_TYPE</span> <span class=\"ow\">and</span> <span class=\"n\">typemap</span><span class=\"p\">[</span><span class=\"n\">offset</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">L_TYPE</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">True</span>\n<span class=\"o\">...</span> \n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">False</span>\n</pre></div>\n\n\n<p>...and we can also extend our <code>showTypeMap()</code> function to point out which\ncharacters in the string are LMS characters:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">typemap</span> <span class=\"o\">=</span> <span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> \n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s\">'ascii'</span><span class=\"p\">))</span>\n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">typemap</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s\">'ascii'</span><span class=\"p\">))</span>\n<span class=\"o\">...</span> \n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"s\">\"^\"</span> <span class=\"k\">if</span> <span class=\"n\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"s\">\" \"</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">typemap</span><span class=\"p\">))</span>\n<span class=\"o\">...</span> <span class=\"p\">))</span>\n</pre></div>\n\n\n<p>Now we can see where the LMS characters are in <code>cabbage</code>:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"n\">cabbage</span>\n<span class=\"n\">LSLLSLLS</span>\n <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span>\n</pre></div>\n\n\n<p>Note that as a side-effect of our definition, the empty suffix is regarded as\nan LMS character, even though it's not a character as such.</p>\n<p>If we try a word that has consecutive S characters, we can see that only the\nleft-most S character is marked as an LMS character:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'caabage'</span><span class=\"p\">)</span>\n<span class=\"n\">caabage</span>\n<span class=\"n\">LSSLSLLS</span>\n <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span>\n</pre></div>\n\n\n<h2>LMS substrings</h2>\n<p>Looking at the examples above, you can see that LMS characters are somewhat\nsparse throughout the input string. An \"LMS substring\" is a portion of the\ninput string starting at one LMS character and continuing up to (but not\nincluding) the next LMS character. In the string <code>cabbage</code> examined above,\nthere are two LMS substrings: <code>abb</code> and <code>age</code>. The SA-IS algorithm does its\nmagic by sorting LMS substrings, but we can't use an ordinary string comparison\nfunction because we don't necessarily know how long each LMS string is. We'd\nneed to walk along the string to find the beginning of the next LMS character,\nand if we're walking the string anyway, we might as well do the comparison at\nthe same time.</p>\n<p>The rules for comparing LMS substrings are straightforward: they must have the\nsame length and the same characters in the same order. Here's a function that,\ngiven an input string, its typemap and two offsets into that string, determines\nwhether the LMS substrings starting at those offsets are equal:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">lmsSubstringsAreEqual</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">,</span> <span class=\"n\">offsetA</span><span class=\"p\">,</span> <span class=\"n\">offsetB</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Return True if LMS substrings at offsetA and offsetB are equal.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"c\"># No other substring is equal to the empty suffix.</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">offsetA</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"n\">offsetB</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">False</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"o\">...</span> <span class=\"k\">while</span> <span class=\"bp\">True</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">aIsLMS</span> <span class=\"o\">=</span> <span class=\"n\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">offsetA</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">bIsLMS</span> <span class=\"o\">=</span> <span class=\"n\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">offsetB</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># If we've found the start of the next LMS substrings...</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span> <span class=\"ow\">and</span> <span class=\"n\">aIsLMS</span> <span class=\"ow\">and</span> <span class=\"n\">bIsLMS</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...then we made it all the way through our original LMS</span>\n<span class=\"o\">...</span> <span class=\"c\"># substrings without finding a difference, so we can go</span>\n<span class=\"o\">...</span> <span class=\"c\"># home now.</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">True</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">aIsLMS</span> <span class=\"o\">!=</span> <span class=\"n\">bIsLMS</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># We found the end of one LMS substring before we reached</span>\n<span class=\"o\">...</span> <span class=\"c\"># the end of the other.</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">False</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">offsetA</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">offsetB</span><span class=\"p\">]:</span>\n<span class=\"o\">...</span> <span class=\"c\"># We found a character difference, we're done.</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"bp\">False</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">i</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<p>This function doesn't explicitly test for reaching the end of the string, but\nremember that the empty suffix at the end of the string is always regarded as\nan LMS character&#x2014;if <code>i + offsetA</code> reaches the end of the string, then\n<code>aIsLMS</code> must be true, and the code will always take one of the first two <code>if</code>\nstatements in the body of the <code>while</code> loop.</p>\n<p>Let's take a string with some repeated content:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'rikki-tikki-tikka'</span><span class=\"p\">)</span>\n<span class=\"n\">rikki</span><span class=\"o\">-</span><span class=\"n\">tikki</span><span class=\"o\">-</span><span class=\"n\">tikka</span>\n<span class=\"n\">LSLLLSLSLLLSLSLLLS</span>\n <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span>\n</pre></div>\n\n\n<p>You can see the LMS substrings at offset 1 and offset 7 both have the same\ncontent (<code>ikki</code>) and the same types (<code>SLLL</code>). Therefore, those two LMS\nsubstrings should be equal:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"s\">'rikki-tikki-tikka'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">tm</span> <span class=\"o\">=</span> <span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">lmsSubstringsAreEqual</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">tm</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"bp\">True</span>\n</pre></div>\n\n\n<p>On the other hand, the LMS substring at offset 13 has the same length and the\nsame types, but different content (<code>ikka</code>), so it should be reported as\nunequal:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">lmsSubstringsAreEqual</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">tm</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">)</span>\n<span class=\"bp\">False</span>\n</pre></div>\n\n\n<h2>Bucket sorting</h2>\n<p>Bucket sorting is a common operation even outside the world of suffix arrays,\nbut since it's important to SA-IS here's a brief description. Since we're\nmaking a sorted suffix array, we know that all the suffixes beginning with the\nsame character will wind up grouped together. The string <code>cabbage</code> has two\n<code>a</code>s, two <code>b</code>s, one <code>c</code>, and no <code>d</code>s, so we can already predict that the first\ntwo indexes in the suffix array will point at suffixes beginning with <code>a</code>, the\n<code>b</code>s will take the next two slots, then one for <code>c</code> and none for <code>d</code>.</p>\n<p>Given a string (and the size of its alphabet), the following function will\nfigure out how many suffixes of the string begin with each character of the\nalphabet; colloquially, how many suffixes are in the \"bucket\" for each\ncharacter:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">alphabetSize</span><span class=\"o\">=</span><span class=\"mi\">256</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"n\">alphabetSize</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">char</span> <span class=\"ow\">in</span> <span class=\"n\">string</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"n\">char</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<p>We could find the bucket sizes for <code>cabbage</code> using the traditional ASCII\nencoding for each letter, but ASCII is a 128-character alphabet, and that would\nmake for an awkwardly-long list. Instead, let's make up our own encoding where\n<code>a</code> = 0, <code>b</code> = 1, <code>c</code> = 2, etc.:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">encoded_cabbage</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Because <code>g</code> is the alphabetically largest letter in our string, we only need\n7 characters in our alphabet to spell it. And so, our bucket sizes are:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">encoded_cabbage</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>As predicted, the <code>a</code> bucket has two suffixes, <code>b</code> has two, <code>c</code> has one, <code>d</code>\nhas none, and so on.</p>\n<p>Now that we know how big each bucket is, it's simple to derive an array where\neach character's index points at the beginning of the corresponding bucket in\nthe suffix array:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">findBucketHeads</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">size</span> <span class=\"ow\">in</span> <span class=\"n\">bucketSizes</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">offset</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">offset</span> <span class=\"o\">+=</span> <span class=\"n\">size</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">res</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_buckets</span> <span class=\"o\">=</span> <span class=\"n\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">encoded_cabbage</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">findBucketHeads</span><span class=\"p\">(</span><span class=\"n\">cabbage_buckets</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>The empty suffix always winds up at the beginning of the suffix array in index\n0, so the <code>a</code> bucket begins at index 1. There's two <code>a</code>s so the <code>b</code> bucket\nbegins at 3, and so on. Note that the buckets for <code>d</code> and <code>e</code> both begin at\nindex 6, but there's no <code>d</code> suffixes so that won't cause a problem.</p>\n<p>We can easily find the indexes of the end of each bucket in a similar fashion:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">findBucketTails</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">size</span> <span class=\"ow\">in</span> <span class=\"n\">bucketSizes</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"n\">offset</span> <span class=\"o\">+=</span> <span class=\"n\">size</span>\n<span class=\"o\">...</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">offset</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">res</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">findBucketTails</span><span class=\"p\">(</span><span class=\"n\">cabbage_buckets</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>And now, having covered all the background material, let's talk about the\nalgorithm itself.</p>\n<h2>The SA-IS Algorithm</h2>\n<p>The SA-IS algorithm's name comes from the fact that it produces a Suffix Array\nby Induced Sorting. What is \"Induced Sorting\"? Well, the tricky part of\nbuilding a suffix array turns out to be the LMS suffixes. If you imagine\na simple string like \"AAAAA\", it's very easy to create a sorted suffix list\nbecause all the suffixes are L-type, so you can just list them out. LMS\nsuffixes are the knots in the string that make the problem hard, so if you have\nthem properly sorted it's easy to slot all the L-type and other S-type suffixes\ninto place.</p>\n<p>At a very high level, the SA-IS algorithm looks like this (don't worry about\nthe functions we haven't defined yet, we'll get to them in the following\nsections):</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">makeSuffixArrayByInducedSorting</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">alphabetSize</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Compute the suffix array of 'string' with the SA-IS algorithm.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Classify each character of the string as S_TYPE or L_TYPE</span>\n<span class=\"o\">...</span> <span class=\"n\">typemap</span> <span class=\"o\">=</span> <span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># We'll be slotting suffixes into buckets according to what</span>\n<span class=\"o\">...</span> <span class=\"c\"># character they start with, so let's precompute that info now.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketSizes</span> <span class=\"o\">=</span> <span class=\"n\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">alphabetSize</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Use a simple bucket-sort to insert all the LMS suffixes into</span>\n<span class=\"o\">...</span> <span class=\"c\"># approximately the right place the suffix array.</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span> <span class=\"o\">=</span> <span class=\"n\">guessLMSSort</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Slot all the other suffixes into guessedSuffixArray, by using</span>\n<span class=\"o\">...</span> <span class=\"c\"># induced sorting. This may move the LMS suffixes around.</span>\n<span class=\"o\">...</span> <span class=\"n\">induceSortL</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">induceSortS</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Create a new string that summarises the relative order of LMS</span>\n<span class=\"o\">...</span> <span class=\"c\"># suffixes in the guessed suffix array.</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryString</span><span class=\"p\">,</span> <span class=\"n\">summaryAlphabetSize</span><span class=\"p\">,</span> <span class=\"n\">summarySuffixOffsets</span> <span class=\"o\">=</span> \\\n<span class=\"o\">...</span> <span class=\"n\">summariseSuffixArray</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Make a sorted suffix array of the summary string.</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span> <span class=\"o\">=</span> <span class=\"n\">makeSummarySuffixArray</span><span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryString</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryAlphabetSize</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Using the suffix array of the summary string, determine exactly</span>\n<span class=\"o\">...</span> <span class=\"c\"># where the LMS suffixes should go in our final array.</span>\n<span class=\"o\">...</span> <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">accurateLMSSort</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span><span class=\"p\">,</span> <span class=\"n\">summarySuffixOffsets</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...and once again, slot all the other suffixes into place with</span>\n<span class=\"o\">...</span> <span class=\"c\"># induced sorting.</span>\n<span class=\"o\">...</span> <span class=\"n\">induceSortL</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">induceSortS</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">result</span>\n</pre></div>\n\n\n<p>As an aid to illustrating the algorithm in action, we'll use the following\nfunction to show the state of a suffix array in progress. We'll store -1 in\nsuffix array elements that are uninitialised, and since we'll be demonstrating\nthis algorithm on short strings, we can get away with assuming each offset will\nbe one or two digits long (the same length as \"-1\") and render intermediate\nstates of a suffix array like this:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"n\">pos</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\" \"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"s\">\"</span><span class=\"si\">%02d</span><span class=\"s\">\"</span> <span class=\"o\">%</span> <span class=\"n\">each</span> <span class=\"k\">for</span> <span class=\"n\">each</span> <span class=\"ow\">in</span> <span class=\"n\">arr</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">pos</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\" \"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"s\">\"^^\"</span> <span class=\"k\">if</span> <span class=\"n\">each</span> <span class=\"o\">==</span> <span class=\"n\">pos</span> <span class=\"k\">else</span> <span class=\"s\">\" \"</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">each</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">))</span>\n<span class=\"o\">...</span> <span class=\"p\">))</span>\n</pre></div>\n\n\n<p>This shows all the offsets in a suffix array:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span>\n<span class=\"mo\">02</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">04</span>\n</pre></div>\n\n\n<p>...and it also allows an individual cell in the array to be highlighted, to\nshow the progress of whatever part of the algorithm we're looking at:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"mo\">02</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">04</span>\n <span class=\"o\">^^</span>\n</pre></div>\n\n\n<h2>The first guess</h2>\n<p>We don't yet know exactly where our LMS suffixes should go in our sufffix\narray, so we start by putting them in approximately the right place with\na bucket sort. All else being equal, a longer suffix (one occurring earlier in\nthe string) sorts after a shorter suffix (one occurring later), so we'll go\nthrough the string from left-to-right and stack each LMS suffix we find at the\ntail-end of its bucket.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">guessLMSSort</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Make a suffix array with LMS-substrings approximately right.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"c\"># Create a suffix array with room for a pointer to every suffix of</span>\n<span class=\"o\">...</span> <span class=\"c\"># the string, including the empty suffix at the end.</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span> <span class=\"o\">=</span> <span class=\"n\">findBucketTails</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Bucket-sort all the LMS suffixes into their appropriate bucket.</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)):</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"c\"># Not the start of an LMS suffix</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Which bucket does this suffix go into?</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketIndex</span> <span class=\"o\">=</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span>\n<span class=\"o\">...</span> <span class=\"c\"># Add the start position at the tail of the bucket...</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">i</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...and move the tail pointer down.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]</span> <span class=\"o\">-=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Show the current state of the array</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># The empty suffix is defined to be an LMS-substring, and we know</span>\n<span class=\"o\">...</span> <span class=\"c\"># it goes at the front.</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">guessedSuffixArray</span>\n</pre></div>\n\n\n<p>So now we can guess the positions of the LMS substrings in our string, leaving\nall the other positions set to -1:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_buckets</span> <span class=\"o\">=</span> <span class=\"n\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_types</span> <span class=\"o\">=</span> <span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_guess</span> <span class=\"o\">=</span> <span class=\"n\">guessLMSSort</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"n\">cabbage_buckets</span><span class=\"p\">,</span> <span class=\"n\">cabbage_types</span><span class=\"p\">)</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n</pre></div>\n\n\n<p>Because <code>guessLMSSort()</code> calls <code>showSuffixArray()</code> at various points of the\nprocess, we can trace its operation:</p>\n<ul>\n<li>the first LMS suffix it finds is <code>abbage</code> at index 1 in the string, so it\n puts that at the end of the <code>a</code> bucket</li>\n<li>the next LMS suffix it finds is <code>age</code> at index 4, so it puts that immediately\n before <code>abbage</code></li>\n<li>we hit the end of the source string, so we add the empty suffix at position\n 0 in the suffix array</li>\n</ul>\n<p>To fill in the rest of the positions, we're going to use \"induced sorting\";\nthat is, determining where to put the other suffixes based on what's already in\nthe array.</p>\n<h2>Induced sorting: L-type suffixes</h2>\n<p>Now that we have the LMS suffixes in our suffix array, we can extrapolate where\nall the other suffixes go. We start by scanning through our temporary suffix\narray and for each listed suffix, we check the suffix to the <em>left</em> of it in\nthe original string - if that's L-type, we'll bucket-sort that one too.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">induceSortL</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Slot L-type suffixes into place.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketHeads</span> <span class=\"o\">=</span> <span class=\"n\">findBucketHeads</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># For each cell in the suffix array....</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">)):</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># No offset is recorded here.</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># We're interested in the suffix that begins to the left of</span>\n<span class=\"o\">...</span> <span class=\"c\"># the suffix this entry points at.</span>\n<span class=\"o\">...</span> <span class=\"n\">j</span> <span class=\"o\">=</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">j</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># There is no useful information in the typemap at this</span>\n<span class=\"o\">...</span> <span class=\"c\"># location; skip it.</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">typemap</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">L_TYPE</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># We're only interested in L-type suffixes right now.</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Which bucket does this suffix go into?</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketIndex</span> <span class=\"o\">=</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">]</span>\n<span class=\"o\">...</span> <span class=\"c\"># Add the start position at the head of the bucket...</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">bucketHeads</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">j</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...and move the head pointer up.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketHeads</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>If we feed this function our guess from before, we can watch it propagate\nL-type suffixes into the array:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">induceSortL</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"n\">cabbage_guess</span><span class=\"p\">,</span> <span class=\"n\">cabbage_buckets</span><span class=\"p\">,</span> <span class=\"n\">cabbage_types</span><span class=\"p\">)</span>\n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">06</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">^^</span> \n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">03</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">06</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n <span class=\"o\">^^</span> \n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">03</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n <span class=\"o\">^^</span> \n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n <span class=\"o\">^^</span> \n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n <span class=\"o\">^^</span>\n</pre></div>\n\n\n<p>Tracing through the output above, we can see what it's done:</p>\n<ul>\n<li>we start at the first cell in the suffix array, which represents the empty\n suffix at the end of the string</li>\n<li>the character before the empty suffix is <code>e</code> at offset 6, so we slot 6 into\n the <code>e</code> bucket</li>\n<li>the next cell has the suffix <code>age</code> at offset 4, and the suffix to the left of\n it is the L-type suffix <code>bage</code> at offset 3, so we slot 3 into the <code>b</code> bucket</li>\n<li>next is <code>abbage</code> at offset 1, offset 0 has the L-type suffix <code>cabbage</code>, so we\n slot 0 into the <code>c</code> bucket</li>\n<li>we find <code>bage</code> at offset 3, which we stored two steps ago - but the\n suffix at offset 2 (<code>bbage</code>) is still L-type, so we slot it into the <code>b</code>\n bucket</li>\n<li>we find <code>bbage</code> at offset 2, but the suffix to its left is not L-type so\n we move on</li>\n<li>we find <code>cabbage</code> at offset 0, but there's nothing to its left, so we\n move on</li>\n<li>we find <code>e</code> at offset 6, and the suffix at offset 5 (<code>ge</code>) is L-type, so\n we slot it into the <code>g</code> bucket</li>\n<li>we find <code>ge</code> at offest 5, but the suffix to its left is not L-type, so we're\n done</li>\n</ul>\n<p>If we compare the above output to the result of the naive algorithm...</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">))</span>\n<span class=\"mo\">07</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n</pre></div>\n\n\n<p>...we can see that we already have something fairly close to the correct\nanswer. That's partially because of the power of induced sorting, but also\nbecause <code>cabbage</code> is a pretty easy string to begin with: it only has two S-type\nsuffixes, and they're both LMS suffixes. Let's investigate a more complex\nstring:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"s\">'baabaabac'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showTypeMap</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">)</span>\n<span class=\"n\">baabaabac</span>\n<span class=\"n\">LSSLSSLSLS</span>\n <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span> <span class=\"o\">^</span>\n</pre></div>\n\n\n<p>This string has six S-type suffixes, only four of which are LMS-suffixes. If\nwe duplicate what we did with <code>cabbage</code> on this new string...</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_buckets</span> <span class=\"o\">=</span> <span class=\"n\">findBucketSizes</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_types</span> <span class=\"o\">=</span> <span class=\"n\">buildTypeMap</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_guess</span> <span class=\"o\">=</span> <span class=\"n\">guessLMSSort</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">,</span> <span class=\"n\">baa_buckets</span><span class=\"p\">,</span> <span class=\"n\">baa_types</span><span class=\"p\">)</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">induceSortL</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">,</span> <span class=\"n\">baa_guess</span><span class=\"p\">,</span> <span class=\"n\">baa_buckets</span><span class=\"p\">,</span> <span class=\"n\">baa_types</span><span class=\"p\">)</span>\n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mi\">08</span>\n<span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">06</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span>\n</pre></div>\n\n\n<p>Here, we can see that at this point, there's still some uninitialised cells in\nthe suffix array. That's not suprising, we haven't touched the S-type suffixes\nyet.</p>\n<h2>Induced sorting: S-type suffixes</h2>\n<p>Having scanned through the suffix array from left-to-right slotting in L-type\nsuffixes, we now scan from right-to-left slotting in S-type suffixes. This is\nbasically a mirror-image of the previous function:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">induceSortS</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Slot S-type suffixes into place.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span> <span class=\"o\">=</span> <span class=\"n\">findBucketTails</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">)</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">j</span> <span class=\"o\">=</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">j</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># There is no useful information in the typemap at this</span>\n<span class=\"o\">...</span> <span class=\"c\"># location; skip it.</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">typemap</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">S_TYPE</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># We're only interested in S-type suffixes right now.</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Which bucket does this suffix go into?</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketIndex</span> <span class=\"o\">=</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">]</span>\n<span class=\"o\">...</span> <span class=\"c\"># Add the start position at the tail of the bucket...</span>\n<span class=\"o\">...</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">j</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...and move the tail pointer down.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]</span> <span class=\"o\">-=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>When we apply this next step to our old friend <code>cabbage</code>:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">induceSortS</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"n\">cabbage_guess</span><span class=\"p\">,</span> <span class=\"n\">cabbage_buckets</span><span class=\"p\">,</span> <span class=\"n\">cabbage_types</span><span class=\"p\">)</span>\n<span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">04</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n <span class=\"o\">^^</span>\n<span class=\"mo\">07</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n <span class=\"o\">^^</span>\n</pre></div>\n\n\n<p><code>cabbage</code> only has two S-type suffixes, so we only get two rows of output. As\nthe function sweeps through the suffix array, it winds up swapping the order of\nthe LMS suffixes from \"04 01\" to \"01 04\", and this is enough to transform our\nguessed suffix array into the correct suffix array. That's just a happy\ncoincidence, though. If we process our other example:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">induceSortS</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">,</span> <span class=\"n\">baa_guess</span><span class=\"p\">,</span> <span class=\"n\">baa_buckets</span><span class=\"p\">,</span> <span class=\"n\">baa_types</span><span class=\"p\">)</span>\n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">04</span> <span class=\"mo\">07</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span>\n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">07</span> <span class=\"mo\">02</span> <span class=\"mo\">07</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">05</span> <span class=\"mo\">02</span> <span class=\"mo\">07</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"mo\">05</span> <span class=\"mo\">02</span> <span class=\"mo\">07</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span> \n<span class=\"mi\">09</span> <span class=\"mo\">04</span> <span class=\"mo\">01</span> <span class=\"mo\">05</span> <span class=\"mo\">02</span> <span class=\"mo\">07</span> <span class=\"mo\">06</span> <span class=\"mo\">03</span> <span class=\"mo\">00</span> <span class=\"mi\">08</span>\n <span class=\"o\">^^</span>\n</pre></div>\n\n\n<p>...it's shuffled around the LMS suffixes, but compare the result to the output\nof the naive algorithm:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">))</span>\n<span class=\"mi\">09</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">02</span> <span class=\"mo\">05</span> <span class=\"mo\">07</span> <span class=\"mo\">00</span> <span class=\"mo\">03</span> <span class=\"mo\">06</span> <span class=\"mi\">08</span>\n</pre></div>\n\n\n<p>There's still a few cells that need to be swapped around.</p>\n<h2>Summarise the guessed suffix array</h2>\n<p>We started with a string of characters in some alphabet, we made an approximate\nsuffix array for that string, and now we will summarise that approximate suffix\narray with a <em>new</em> string, in a <em>new</em> alphabet, that represents just the most\nimportant bits of information: where the LMS suffixes ended up, after\n<code>induceSortL()</code> and <code>induceSortS()</code> did their thing.</p>\n<p>The summarising works like this: Each LMS suffix of the original string gets\na name, based on the order in which those suffixes appear in the guessed suffix\narray. Or rather, the LMS substring at the <em>beginning</em> of each LMS suffix gets\na name: if two LMS suffixes begin with the same LMS substring, they get the\nsame name. These names are combined in the same order as the corresponding\nsuffixes in the original string to form the summary string.</p>\n<p>Here's the corresponding implementation:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">summariseSuffixArray</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Construct a 'summary string' of the positions of LMS-substrings.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"c\"># We will use this array to store the names of LMS substrings in</span>\n<span class=\"o\">...</span> <span class=\"c\"># the positions they appear in the original string.</span>\n<span class=\"o\">...</span> <span class=\"n\">lmsNames</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Keep track of what names we've allocated.</span>\n<span class=\"o\">...</span> <span class=\"n\">currentName</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Where in the original string was the last LMS suffix we checked?</span>\n<span class=\"o\">...</span> <span class=\"n\">lastLMSSuffixOffset</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># We know that the first LMS-substring we'll see will always be</span>\n<span class=\"o\">...</span> <span class=\"c\"># the one representing the empty suffix, and it will always be at</span>\n<span class=\"o\">...</span> <span class=\"c\"># position 0 of suffixOffset.</span>\n<span class=\"o\">...</span> <span class=\"n\">lmsNames</span><span class=\"p\">[</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">currentName</span>\n<span class=\"o\">...</span> <span class=\"n\">lastLMSSuffixOffset</span> <span class=\"o\">=</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">lmsNames</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># For each suffix in the suffix array...</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">guessedSuffixArray</span><span class=\"p\">)):</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...where does this suffix appear in the original string?</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixOffset</span> <span class=\"o\">=</span> <span class=\"n\">guessedSuffixArray</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># We only care about LMS suffixes.</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">isLMSChar</span><span class=\"p\">(</span><span class=\"n\">suffixOffset</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># If this LMS suffix starts with a different LMS substring</span>\n<span class=\"o\">...</span> <span class=\"c\"># from the last suffix we looked at....</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">lmsSubstringsAreEqual</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">lastLMSSuffixOffset</span><span class=\"p\">,</span> <span class=\"n\">suffixOffset</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...then it gets a new name</span>\n<span class=\"o\">...</span> <span class=\"n\">currentName</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Record the last LMS suffix we looked at.</span>\n<span class=\"o\">...</span> <span class=\"n\">lastLMSSuffixOffset</span> <span class=\"o\">=</span> <span class=\"n\">suffixOffset</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Store the name of this LMS suffix in lmsNames, in the same</span>\n<span class=\"o\">...</span> <span class=\"c\"># place this suffix occurs in the original string.</span>\n<span class=\"o\">...</span> <span class=\"n\">lmsNames</span><span class=\"p\">[</span><span class=\"n\">suffixOffset</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">currentName</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">lmsNames</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Now lmsNames contains all the characters of the suffix string in</span>\n<span class=\"o\">...</span> <span class=\"c\"># the correct order, but it also contains a lot of unused indexes</span>\n<span class=\"o\">...</span> <span class=\"c\"># we don't care about and which we want to remove. We also take</span>\n<span class=\"o\">...</span> <span class=\"c\"># this opportunity to build summarySuffixOffsets, which tells</span>\n<span class=\"o\">...</span> <span class=\"c\"># us which LMS-suffix each item in the summary string represents.</span>\n<span class=\"o\">...</span> <span class=\"c\"># This will be important later.</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixOffsets</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryString</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">name</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">lmsNames</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"k\">continue</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixOffsets</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryString</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># The alphabetically smallest character in the summary string</span>\n<span class=\"o\">...</span> <span class=\"c\"># is numbered zero, so the total number of characters in our</span>\n<span class=\"o\">...</span> <span class=\"c\"># alphabet is one larger than the largest numbered character.</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryAlphabetSize</span> <span class=\"o\">=</span> <span class=\"n\">currentName</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">summaryString</span><span class=\"p\">,</span> <span class=\"n\">summaryAlphabetSize</span><span class=\"p\">,</span> <span class=\"n\">summarySuffixOffsets</span>\n</pre></div>\n\n\n<p>That's a lot of code, and it's a little bit intricate, but let's look at some\nexamples.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_summary</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_summary_alpha_size</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_summary_suffix_offsets</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">summariseSuffixArray</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"n\">cabbage_guess</span><span class=\"p\">,</span> <span class=\"n\">cabbage_types</span><span class=\"p\">)</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">02</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n</pre></div>\n\n\n<p>As we saw above, the guessed suffix array of <code>cabbage</code> looks like this:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_guess</span><span class=\"p\">)</span>\n<span class=\"mo\">07</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n</pre></div>\n\n\n<p>Of those suffixes, we know the first three are the LMS suffixes; in order,\nthe empty suffix, <code>abbage</code> and <code>age</code>. Because all three LMS suffixes begin with\ndifferent LMS substrings, they get three distinct names (0, 1 and 2). Those\nnames are stored in <code>lmsNames</code> at the positions where the corresponding suffix\noccurs in the original string: at offsets 7, 1 and 4 respectively.</p>\n<p>After <code>lmsNames</code> is calculated, we throw away the unused indices of <code>lmsNames</code>\nto produce the summary string:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_summary</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>But that's not the only output from our function. We also know that the summary\nstring is written in an alphabet with three distinct characters:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_summary_alpha_size</span>\n<span class=\"mi\">3</span>\n</pre></div>\n\n\n<p>...and we have a list that stores the suffix offset associated with each item\nin the summary string.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_summary_suffix_offsets</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>But as noted previously, <code>cabbage</code> is a pretty simple string. Let's try our\nmore complex example, <code>baabaabac</code>:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"n\">baa_summary</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">baa_summary_alpha_size</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">baa_summary_suffix_offsets</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">summariseSuffixArray</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">,</span> <span class=\"n\">baa_guess</span><span class=\"p\">,</span> <span class=\"n\">baa_types</span><span class=\"p\">)</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">02</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">00</span>\n</pre></div>\n\n\n<p>For this string, two of the LMS suffixes start with the same LMS substring:\n<code>aabaabac</code> and <code>aabac</code> both start with <code>aab</code> and the types of those characters\nare <code>SSL</code> in both cases. Consequently, both suffixes get the same name (1) and\nour summary string contains two identical characters:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_summary</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Although this summary string contains four characters, it still only contains\nthree distinct characters, so the alphabet size is still 3:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_summary_alpha_size</span>\n<span class=\"mi\">3</span>\n</pre></div>\n\n\n<p>And we get the suffix offset map for the summary string again:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_summary_suffix_offsets</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<h2>Make a suffix array of the summary</h2>\n<p>We started with one string and wanted to build a suffix array, and in the\nprocess we've build a second string and now we have to make a suffix array of\nthat one too? Isn't that circular reasoning?</p>\n<p>Well, almost: it's <em>recursive</em> reasoning.</p>\n<p>If we're going to do recursion, there needs to be a base case that's not\nrecursive. If we look at our <code>cabbage</code> example above, we got a pretty simple\nsummary string:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_summary</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Yes, that particular example happens to be small enough that you could build\nthe suffix array in your head, but there's another interesting feature: we've\nsaid it's a string in an alphabet of three characters, and every character in\nthe alphabet appears exactly once, somewhere in that string. Which means we can\ncreate a suffix array with our trusty old bucket sort.</p>\n<p>If we look at our <code>baabaabac</code> example on the other hand, the outlook isn't\nnearly as rosy:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">baa_summary</span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>This string is still in an alphabet of three characters, but it's more than\nthree characters long, which means at least one character must be repeated and\nwe can't be sure a bucket sort will do the right thing - so in that situation\nwe'll have to recurse.</p>\n<p>It's worth pointing out that while you could in theory have a three-character\nstring in an alphabet of three characters that included repetition (say, <code>[1,\n1, 0]</code>), our <code>summariseSuffixArray()</code> function will never generate such\na thing, since it always uses consecutive characters in the alphabet, and it\nalways sets the alphabet size to the number of distinct characters it's used.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">makeSummarySuffixArray</span><span class=\"p\">(</span><span class=\"n\">summaryString</span><span class=\"p\">,</span> <span class=\"n\">summaryAlphabetSize</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Construct a sorted suffix array of the summary string.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"k\">if</span> <span class=\"n\">summaryAlphabetSize</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">summaryString</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"c\"># Every character of this summary string appears once and only</span>\n<span class=\"o\">...</span> <span class=\"c\"># once, so we can make the suffix array with a bucket sort.</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">summaryString</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Always include the empty suffix at the beginning.</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">summaryString</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">summaryString</span><span class=\"p\">)):</span>\n<span class=\"o\">...</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">summaryString</span><span class=\"p\">[</span><span class=\"n\">x</span><span class=\"p\">]</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span><span class=\"p\">[</span><span class=\"n\">y</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">x</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">else</span><span class=\"p\">:</span>\n<span class=\"o\">...</span> <span class=\"c\"># This summary string is a little more complex, so we'll have</span>\n<span class=\"o\">...</span> <span class=\"c\"># to use recursion.</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span> <span class=\"o\">=</span> <span class=\"n\">makeSuffixArrayByInducedSorting</span><span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryString</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">summaryAlphabetSize</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">summarySuffixArray</span>\n</pre></div>\n\n\n<p>We can't test this function on the <code>baabaabac</code> summary yet because we haven't\nfinished the recursive implementation, but we can test it on the <code>cabbage</code>\nsummary:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_summary_suffix_array</span> <span class=\"o\">=</span> <span class=\"n\">makeSummarySuffixArray</span><span class=\"p\">(</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_summary</span><span class=\"p\">,</span> <span class=\"n\">cabbage_summary_alpha_size</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_summary_suffix_array</span><span class=\"p\">)</span>\n<span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">01</span>\n</pre></div>\n\n\n<p>...and compare that with our naive implementation:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_summary</span><span class=\"p\">))</span>\n<span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">01</span>\n</pre></div>\n\n\n<h2>Build the real suffix array</h2>\n<p>At last we begin building the real, final suffix array, based on the suffix\narray of the summary string. As before, we start by placing the LMS suffixes\ninto the suffix array, and then we can fill in all the others by induced\nsorting. Unlike before, we don't just bucket-sort them into place in whatever\norder we find them, we insert them in an order determined by the summary\nstring's suffix array.</p>\n<p>Remember, when we built the summary string (where each character was\na generated name for an LMS substring), we also built a corresponding\n<code>summarySuffixOffsets</code> array that maps characters from the summary string back\nto LMS substrings (and hence, LMS suffixes) from the original string, so that's\nwhat we're going to use.</p>\n<p>The process goes something like this: Each entry in the suffix array of the\nsummary string points at a position in <code>summary</code>. We look at the same position\nin <code>summarySuffixOffsets</code> to find the offset of the corresponding LMS suffix of\nour original string. Then we put that LMS suffix into the correct bucket,\ntrusting in the summary suffix array to put them in the correct order within\nthe bucket.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">accurateLMSSort</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">bucketSizes</span><span class=\"p\">,</span> <span class=\"n\">typemap</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">summarySuffixArray</span><span class=\"p\">,</span> <span class=\"n\">summarySuffixOffsets</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">... Make a suffix array with LMS suffixes exactly right.</span>\n<span class=\"s\">... \"\"\"</span>\n<span class=\"o\">...</span> <span class=\"c\"># A suffix for every character, plus the empty suffix.</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixOffsets</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># As before, we'll be adding suffixes to the ends of their</span>\n<span class=\"o\">...</span> <span class=\"c\"># respective buckets, so to keep them in the right order we'll</span>\n<span class=\"o\">...</span> <span class=\"c\"># have to iterate through summarySuffixArray in reverse order.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span> <span class=\"o\">=</span> <span class=\"n\">findBucketTails</span><span class=\"p\">(</span><span class=\"n\">bucketSizes</span><span class=\"p\">)</span>\n<span class=\"o\">...</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">summarySuffixArray</span><span class=\"p\">)</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"n\">stringIndex</span> <span class=\"o\">=</span> <span class=\"n\">summarySuffixOffsets</span><span class=\"p\">[</span><span class=\"n\">summarySuffixArray</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]]</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Which bucket does this suffix go into?</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketIndex</span> <span class=\"o\">=</span> <span class=\"n\">string</span><span class=\"p\">[</span><span class=\"n\">stringIndex</span><span class=\"p\">]</span>\n<span class=\"o\">...</span> <span class=\"c\"># Add the suffix at the tail of the bucket...</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixOffsets</span><span class=\"p\">[</span><span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">stringIndex</span>\n<span class=\"o\">...</span> <span class=\"c\"># ...and move the tail pointer down.</span>\n<span class=\"o\">...</span> <span class=\"n\">bucketTails</span><span class=\"p\">[</span><span class=\"n\">bucketIndex</span><span class=\"p\">]</span> <span class=\"o\">-=</span> <span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">suffixOffsets</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"c\"># Always include the empty suffix at the beginning.</span>\n<span class=\"o\">...</span> <span class=\"n\">suffixOffsets</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">suffixOffsets</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">suffixOffsets</span>\n</pre></div>\n\n\n<p>Note: to make sure our LMS suffixes survive the induced sorting later, we need\nto insert them at the <em>end</em> of their buckets, so we need to walk backward\nthrough <code>summarySuffixArray</code> as we insert the suffixes backwards, to maintain\ntheir relative order.</p>\n<p>Also, we don't process <em>every</em> entry in <code>summarySuffixArray</code>: the first entry\ncorresponds to the empty suffix of the summary string, which does not\ncorrespond to any suffix of the original string. The second entry corresponds\nto the empty suffix of the original string, which we can't bucket-sort into\nplace because it's empty. We already know it winds up at the beginning, though,\nso it's not a problem.</p>\n<p>Let's walk through the algorithm as it applies to our old friend <code>cabbage</code>. As\na reminder, here's the inputs to <code>accurateLMSSort()</code>:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_summary_suffix_array</span><span class=\"p\">)</span>\n<span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">01</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_summary</span><span class=\"p\">)</span>\n<span class=\"mo\">01</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">cabbage_summary_suffix_offsets</span><span class=\"p\">)</span>\n<span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">07</span>\n</pre></div>\n\n\n<p>And now, we can walk through the algorithm.</p>\n<ul>\n<li>The first entry we find in the summary's suffix array (the last entry, since\n we're walking backwards) is <code>01</code>. If we look at offset 1 of\n <code>summarySuffixOffsets</code>, we see this corresponds to the LMS suffix at position\n 4 of the original string (<code>age</code>) so we can slot in that suffix at the end of\n the <code>a</code> bucket.</li>\n<li>The next entry in the summary's suffix array is <code>00</code>, offset 0 of\n <code>summarySuffixOffsets</code> corresponds to the LMS suffix at position 1 of the\n original string (<code>abbage</code>), so we slot that suffix into the <code>a</code> bucket just\n before <code>age</code>.</li>\n<li>The second-last entry is skipped because it points at the empty suffix of the\n original string and we can't bucket-sort that into place.</li>\n<li>The last entry is skipped because it represents the empty suffix at the end\n of the summary string, it doesn't have a corresponding LMS suffix in the\n original string.</li>\n<li>Finally, we know that the empty suffix (at position 7) will wind up at the\n beginning of our final suffix array.</li>\n</ul>\n<p>When we run our function, we can see the same steps occurring:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">cabbage_real</span> <span class=\"o\">=</span> <span class=\"n\">accurateLMSSort</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"n\">cabbage_buckets</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_types</span><span class=\"p\">,</span> <span class=\"n\">cabbage_summary_suffix_array</span><span class=\"p\">,</span>\n<span class=\"o\">...</span> <span class=\"n\">cabbage_summary_suffix_offsets</span><span class=\"p\">)</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">04</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"mo\">07</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n</pre></div>\n\n\n<p><code>04</code> is slotted in at the at the end of the <code>a</code> bucket, then <code>01</code> immediately\nbefore that, then finally the empty suffix gets its special place at the\nbeginning.</p>\n<h2>Putting it all together</h2>\n<p>After putting the LMS suffixes into their correct places, all the other\nsuffixes fall into place with a second round of induced sorting, just as\nbefore. We've now described all the functions that\n<code>makeSuffixArrayByInducedSorting()</code> calls, so we can invoke it to efficiently\nbuild a suffix array of any string we like... along with a detailed log of its\ninner calculations (omitted here for brevity):</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">makeSuffixArrayByInducedSorting</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">,</span> <span class=\"mi\">256</span><span class=\"p\">))</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"mo\">07</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">03</span> <span class=\"mo\">02</span> <span class=\"mo\">00</span> <span class=\"mo\">06</span> <span class=\"mo\">05</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">showSuffixArray</span><span class=\"p\">(</span><span class=\"n\">makeSuffixArrayByInducedSorting</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">,</span> <span class=\"mi\">256</span><span class=\"p\">))</span>\n<span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"mo\">01</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"o\">...</span>\n<span class=\"mi\">09</span> <span class=\"mo\">01</span> <span class=\"mo\">04</span> <span class=\"mo\">02</span> <span class=\"mo\">05</span> <span class=\"mo\">07</span> <span class=\"mo\">00</span> <span class=\"mo\">03</span> <span class=\"mo\">06</span> <span class=\"mi\">08</span>\n</pre></div>\n\n\n<p>But since most people who want to build a sorted suffix array will have\na string of bytes, rather than strings of an arbitrary-sized alphabet, let's\nmake a wrapper function with a sensible default:</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">def</span> <span class=\"nf\">makeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">bytestring</span><span class=\"p\">):</span>\n<span class=\"o\">...</span> <span class=\"k\">return</span> <span class=\"n\">makeSuffixArrayByInducedSorting</span><span class=\"p\">(</span><span class=\"n\">bytestring</span><span class=\"p\">,</span> <span class=\"mi\">256</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>And now we're done.</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">makeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"s\">'cabbage'</span><span class=\"p\">)</span>\n<span class=\"bp\">True</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">naivelyMakeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">makeSuffixArray</span><span class=\"p\">(</span><span class=\"n\">baa</span><span class=\"p\">)</span>\n<span class=\"bp\">True</span>\n</pre></div> </body>\n</div>"
    }, {
        "title": "Install Sandstorm",
        "url": "https://sandstorm.io/install",
        "excerpt": "Run this in a terminal: curl https://install.sandstorm.io | bash The installer will offer you free dynamic DNS and valid HTTPS via sandcats.io, a service maintained by the Sandstorm development team.&hellip;",
        "date_saved": "Thu Jul 28 20:10:14 EDT 2016",
        "html_file": "install_sandstorm.html",
        "png_file": "install_sandstorm.png",
        "md_file": "install_sandstorm.md",
        "content": "<div><div class=\"https-verified section-content\">\n\n<p>Run this in a terminal:</p>\n<pre>curl https://install.sandstorm.io | bash</pre>\n<p>The installer will offer you free dynamic DNS and valid HTTPS via <a href=\"https://sandcats.io\">sandcats.io</a>,\na service maintained by the Sandstorm development team.\n</p><p>Wondering what this script will do? <a href=\"https://asciinema.org/a/bw9mgfk8m55rfa3ntrfvhvjat?autoplay=1\">Watch this 30 second screencast</a> or <a href=\"https://docs.sandstorm.io/en/latest/install/#option-1-https-verified-install\">read the install documentation</a>.\n</p><p>If you prefer more validation, you can\n<a href=\"https://docs.sandstorm.io/en/latest/install/#option-2-github-verified-install\">download the install script from GitHub</a> or\n<a href=\"https://docs.sandstorm.io/en/latest/install/#option-4-installing-from-source\">build from source</a>.\n</p></div>\n<div class=\"pgp-verified section-content\">\n<h3>PGP-verified install</h3>\n<p>For people as paranoid as we are...</p>\n<a href=\"https://docs.sandstorm.io/en/latest/install/#option-3-pgp-verified-install\">See the docs &#xBB;</a>\n</div>\n</div>"
    }, {
        "title": "whose xterm is it anyway?",
        "url": "http://www.tedunangst.com/flak/post/whose-xterm-is-it-anyway",
        "excerpt": "As part of the effort to find idle hogs, I noticed some xterms were heavier than others. 9960 tedu 2 0 7056K 12M sleep select 0:08 0.00% xterm 15257 tedu 2 0 6808K 12M sleep select 0:01 0.00% xterm&hellip;",
        "date_saved": "Thu Jul 28 20:10:16 EDT 2016",
        "html_file": "whose_xterm_is_it_anyway.html",
        "png_file": "whose_xterm_is_it_anyway.png",
        "md_file": "whose_xterm_is_it_anyway.md",
        "content": "<div><div>\n<p>\nAs part of the effort to <a href=\"http://www.tedunangst.com/flak/post/rough-idling\">find idle hogs</a>, I noticed some xterms were heavier than others.</p><p class=\"code\"> 9960 tedu 2 0 7056K 12M sleep select 0:08 0.00% xterm\n15257 tedu 2 0 6808K 12M sleep select 0:01 0.00% xterm\n10960 tedu 2 0 6924K 12M idle select 0:01 0.00% xterm\n25365 tedu 2 0 6796K 12M sleep select 0:01 0.00% xterm\n</p><p>\nHow did inmate 9960 come to acquire 8 whole seconds of CPU time? For that matter, which xterm is it? The answer to the second will likely reveal the first.</p><p>\nLooking around, all my xterms are currently idle. Just as indicated by top. How do we turn a pid into a window?</p><h4>brute force</h4><p>\nThe brute, or even brutal, force technique is to quit each xterm one by one until 9960 goes away. A nicer approach is to send SIGSTOP to each xterm and see which one stops responding. (Alas, if xterm is setgid, you may not be able to SIGCONT it afterwards. Less nice.) Or run <span class=\"code\">find /</span> in each xterm while watching top to see who lights up. All a bit intrusive, but wasn&#x2019;t it Heisenberg who proved there can be no observation without modification? Actually no, though observer effect is a real thing. Nevertheless, we can do a better job of observing xterms without pummeling them to see which one bruises.</p><p>\nLet&#x2019;s start with ps.</p><p class=\"code\"> 2157 p9 Ss 0:00.02 -ksh (ksh)\n17271 p9 R+ 0:00.00 ps\n30407 pa Ss 0:00.05 -ksh (ksh)\n 79 pa S+ 0:00.16 vim kern_sig.c\n20564 pb Is+ 0:00.01 -ksh (ksh)\n21379 pc Is+ 0:00.03 -ksh (ksh)\n 236 pd Is 0:00.02 -ksh (ksh)\n 3583 pd S+ 0:00.38 top\n</p><p>\nThe second column is controlling terminal. So we have some hints. I now know which terminal is running ps, and which is running top, and which is finding out why SIGCONT doesn&#x2019;t work. But no xterms, unless we run ps x.</p><p class=\"code\"> 9960 md Is 0:07.80 xterm\n24106 md Is 0:00.66 xterm\n24358 md Is 0:00.25 xterm\n</p><p>\nxterms don&#x2019;t have controlling terminals; instead they control the terminal. But this is still useful info to have.</p><p class=\"code\">&gt; fstat -p 9960\nUSER CMD PID FD MOUNT INUM MODE R/W SZ|DV\ntedu xterm 9960 text /usr 702660 -rwxr-sr-x r 596224\ntedu xterm 9960 wd /home 1611008 drwxr-xr-x r 2560\ntedu xterm 9960 0 / 182659 crw------- rw ttyC0\ntedu xterm 9960 1 / 183026 crw-rw-rw- w null\ntedu xterm 9960 2 / 183026 crw-rw-rw- w null\ntedu xterm 9960 3* unix stream 0x0\ntedu xterm 9960 4 / 182379 crw-rw-rw- rw ptyp1\n</p><p>\nThere it is. We&#x2019;re looking at p1.</p><p class=\"code\">&gt; pgrep -lf -t p1\n6988 -ksh\n</p><p>\nAnother approach is would be to run <span class=\"code\">ps -O ppid</span> (or <span class=\"code\">pgrep -lf -P 9960</span>) and look for the shell with a parent of 9960, and walk back up. Either way, it&#x2019;s one of the dozen xterms sitting there with an idle shell, which is a hint not an answer. Running around and pasting <span class=\"code\">echo $$</span> in each shell would find the suspect. Or I could run <span class=\"code\">write tedu ttyp1</span> and look for the graffiti.</p><p>\nWe can also continue further on this path, inspecting the working directory for each shell, and then narrowing our search to those xterms, but maybe it&#x2019;s time to switch techniques.</p><h4>just ask</h4><p>\nA smarter approach would be to just ask. In theory, every xterm has a <em>_NET_WM_PID</em> property that is equal to its pid. This can be retrieved by running <em>xprop</em> and clicking the window. Or using the -id argument. Then we need all the xterm window IDs, which can be obtained via xwininfo.</p><p class=\"code\">&gt; xwininfo -root -children | grep XTerm | awk '{print $1}' | \\\n xargs -n1 -I % sh -c \"echo %; xprop -id % _NET_WM_PID\"\n0xe0000d\n_NET_WM_PID(CARDINAL) = 24106\n0xc0000d\n_NET_WM_PID(CARDINAL) = 9960\n0xa0000d\n_NET_WM_PID(CARDINAL) = 25365\n</p><p>\nArmed with the window ID, we can feed it back to xwininfo.</p><p class=\"code\">&gt; xwininfo -id 0xc0000d\nxwininfo: Window id: 0xc0000d \"Thanks for flying Vim\"\n Corners: +-2542+15 -3831+15 -3831-12 +-2542-12\n -geometry 115x67+-2542-12\n</p><p>\nAlight, so this xterm is off screen somewhere, but the geometry maybe gives us another hint as to which it is based on size. And it once upon a time ran vim, which fiddles with the title. Interesting, but we&#x2019;d like something a little more obvious.</p><p class=\"code\">&gt; xwd -id 0xc0000d | xwud \nX Error of failed request: BadMatch (invalid parameter attributes)\n Major opcode of failed request: 73 (X_GetImage)\n Serial number of failed request: 95\n Current serial number in output stream: 95\nxwud: Error =&gt; Unable to read dump file header.\nxwud: Resource temporarily unavailable\n</p><p>\nDamn. I was hoping for <em>Woah! A new exact duplicate of 9960 has appeared. So that&#x2019;s which one it is.</em> but no dice. Depends on the suspect window being on screen. But if we can get all the windows on screen (dwm &#x201D;0&#x201D; screen) either this or the above approach can work.</p><p>\nFor funsies, there&#x2019;s a Stack Overflow answer dedicated to <a href=\"http://unix.stackexchange.com/questions/5478/what-process-created-this-x11-window\">finding the pid for an X11 window</a>, which is the reverse process.</p><h4>inferno</h4><p>\nWe&#x2019;re moving well past the point of no return now. Instead of using X to spy on our xterm, we can do so ourselves. This can be done using gdb, for instance. Unfortunately, other people would do it that way. How hard can it be to write a one off single purpose debugger?</p><p>\nStep one of our journey is gazing into the xterm source code. Eventually one will discover that there is a <em>LineData</em> structure with a pointer to what appears to be character data. There&#x2019;s an array of these, one for each line. But there is not an obvious pointer to this array. Instead it&#x2019;s accessed using a variety of casts, offsets, and pointer arithmetic, but the base pointer is <em>visbuf</em> in something called <em>TScreen</em>, a giant structure that takes over 500 lines of code to declare. That is embedded in an <em>XTermWidget</em>, and (thank the heavens!) there is a global pointer to one of these called <em>term</em>, bringing our trek to an end.</p><p>\nAll we need to do now is write a debugger that iteratively reads each:</p><p>\n<span class=\"code\">((LineData *)(term-&gt;screen.visbuf + offset))-&gt;chardata</span>.</p><p>\nOpenBSD includes a useful <em>sysctl</em> for examining the address space of another process. Through arcane magic not explained here (procmap), I know the xterm I&#x2019;m looking at has a text segment of 540672 bytes. We can find it programmatically thusly:</p><p class=\"code\"><span>local</span> <span>function</span> <span>findexecbase</span>(pid, execsize)\n <span>local</span> mib <span>=</span> ffi.new(<span>\"int[3]\"</span>)\n mib[<span>0</span>] <span>=</span> CTL_KERN\n mib[<span>1</span>] <span>=</span> KERN_PROC_VMMAP\n mib[<span>2</span>] <span>=</span> pid\n <span>local</span> numents <span>=</span> <span>200</span>\n <span>local</span> ents <span>=</span> ffi.new(<span>\"struct vmentry[?]\"</span>, numents)\n <span>local</span> entsize <span>=</span> ffi.sizeof(<span>\"struct vmentry\"</span>)\n <span>local</span> oldsize <span>=</span> ffi.new(<span>\"size_t[1]\"</span>)\n oldsize[<span>0</span>] <span>=</span> entsize <span>*</span> numents\n <span>local</span> rv <span>=</span> C.sysctl(mib, <span>3</span>, ents, oldsize, <span>nil</span>, <span>0</span>)\n <span>if</span> rv <span>==</span> <span>-1</span> <span>then</span>\n <span>return</span> <span>nil</span>\n <span>end</span>\n <span>for</span> i <span>=</span> <span>0</span>, <span>tonumber</span>(oldsize[<span>0</span>]) <span>/</span> numents <span>-</span> <span>1</span> <span>do</span>\n <span>local</span> ent <span>=</span> ents[i]\n <span>if</span> (<span>tonumber</span>(ent.kve_end) <span>-</span> <span>tonumber</span>(ent.kve_start)) <span>==</span> execsize <span>and</span>\n ent.kve_prot <span>==</span> PROT_RW <span>then</span>\n <span>return</span> ent.kve_start\n <span>end</span>\n <span>end</span>\n<span>end</span>\n<span>local</span> addr <span>=</span> findexecbase(pid, <span>540672</span>)</p><p>\nUsing further magic (I&#x2019;m cheating a bit, but basically <span class=\"code\">nm xterm | grep term$</span>), we know the offset from there to <em>term</em>, and then we can start chasing pointers with <em>ptrace</em>. Offsets calculated by compiling an xterm with a <em>printf</em> of interesting values.</p><p class=\"code\"><span>local</span> <span>function</span> <span>pread</span>(addr)\n <span>local</span> v <span>=</span> C.ptrace(PT_READ_D, pid, addr, <span>0</span>)\n v <span>=</span> <span>tonumber</span>(v)\n <span>if</span> v <span>&lt;</span> <span>0</span> <span>then</span>\n v <span>=</span> v <span>+</span> <span>4294967296</span>\n <span>end</span>\n <span>return</span> v\n<span>end</span>\n\n<span>local</span> <span>function</span> <span>preadptr</span>(addr)\n <span>local</span> p1 <span>=</span> pread(addr)\n <span>local</span> p2 <span>=</span> pread(addr <span>+</span> <span>4</span>)\n <span>return</span> p1 <span>+</span> p2 <span>*</span> <span>4294967296</span>\n<span>end</span>\n\nrv <span>=</span> C.ptrace(PT_ATTACH, pid, <span>0</span>, <span>0</span>)\nrv <span>=</span> C.waitpid(pid, <span>nil</span>, <span>0</span>)\naddr <span>=</span> addr <span>+</span> <span>4912632</span> <span>-- offset of term</span>\naddr <span>=</span> preadptr(addr) <span>--read term</span>\naddr <span>=</span> addr <span>+</span> <span>392</span> <span>-- offset of term-&gt;screen</span>\naddr <span>=</span> addr <span>+</span> <span>15496</span> <span>-- offset of screen.visbuf</span>\naddr <span>=</span> preadptr(addr)\n<span>print</span>(<span>\"SCREEN DUMP\"</span>)\n<span>for</span> row <span>=</span> <span>0</span>, <span>10</span> <span>do</span>\n <span>local</span> datadr <span>=</span> preadptr(addr <span>+</span> row <span>*</span> <span>48</span> <span>+</span> <span>24</span>)\n <span>local</span> s <span>=</span> { }\n <span>for</span> i <span>=</span> <span>0</span>, <span>80</span> <span>do</span>\n <span>local</span> v <span>=</span> pread(datadr <span>+</span> i <span>*</span> <span>4</span>)\n <span>table.insert</span>(s, <span>string.char</span>(v))\n <span>end</span>\n <span>print</span>(<span>table.concat</span>(s))\n<span>end</span>\nrv <span>=</span> C.ptrace(PT_DETACH, pid, <span>0</span>, <span>0</span>)</p><p>\nLet it rip and...</p><p class=\"code\">SCREEN DUMP\n if (row &gt;= 0 &amp;&amp; row &lt;= max_row) { \n result = (LineData *) scrnHeadAddr(screen, buffer, (unsigned) row); \n if (result != 0) { \n#if 1 /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol FIXME - these should be done in setupLineData,\n result-&gt;lineSize = (Dimension) MaxCols(screen); \n#if OPT_WIDE_CHARS \n if (screen-&gt;wide_chars) { \n result-&gt;combSize = (Char) screen-&gt;max_combining; \n } else { \n result-&gt;combSize = 0; \n } \n</p><p>\nHey! Now that does look familiar. It&#x2019;s the source code to the line getting function in xterm. Now I know exactly which window it is.</p><h4>epilogue</h4><p>\nThis was a pretty big waste of time. As soon as I saw that one xterm was busier than the rest, I knew exactly which one it was: the one I read mail in, which has to redraw the screen for every email. This was trivially confirmed using any of the brute force techniques which work well enough with some educated guesswork guiding them. Learning to script gdb may have been faster, but a lot less fun.\n</p></div>\n</div>"
    }, {
        "title": "WSO2 Machine Learner: Why would You\u00a0care?",
        "url": "https://iwringer.wordpress.com/2015/09/25/wso2-machine-learner-why-would-you-care/",
        "excerpt": "After about a year worth of work, WSO2 Machine Learner (WSO2 ML) is officially out. You can find the pack from&#xA0;http://wso2.com/products/machine-learner/&#xA0;( also Code&#xA0;and User Guide). It&hellip;",
        "date_saved": "Thu Jul 28 20:10:18 EDT 2016",
        "html_file": "wso2_machine_learner_why_would_youu00a0care.html",
        "png_file": "wso2_machine_learner_why_would_youu00a0care.png",
        "md_file": "wso2_machine_learner_why_would_youu00a0care.md",
        "content": "<div><div class=\"entry-content\">\n\t\t<p>After about a year worth of work, WSO2 Machine Learner (WSO2 ML) is officially out. You can find the pack from&#xA0;http://wso2.com/products/machine-learner/&#xA0;( also <a href=\"https://github.com/wso2/product-ml\">Code</a>&#xA0;and <a href=\"https://docs.wso2.com/display/ML100/Introducing+Machine+Learner\">User Guide</a>). It is free and Opensource under Apache Licence ( which pretty much means you can do whatever with the code as long as you keep the same Licence).</p>\n<p>Let me try to answer &#x201C;the question&#x201D;. How is it different and why would you care?</p>\n<h2>What is it?</h2>\n<p>The short answer is it is a Wizard and a system on top of Apache Spark MLLib. The long answer is the following picture.</p>\n<p><img class=\"aligncenter wp-image-488\" src=\"https://iwringer.files.wordpress.com/2015/09/ml-overview.png?w=561&amp;h=302\" alt=\"ML-overview\" width=\"561\"></p>\n<p>You can use it to do the following</p>\n<ol>\n<li>User can start with data ( in his disk, in HDFS, or in WSO2 DAS)</li>\n<li>Explore the data ( more about that later)</li>\n<li>Create a Project and build machine learning models going through a Wizard</li>\n<li>Compare those models and find the best model</li>\n<li>Export that model and use it with WSO2 CEP, WSO2 ESB, or from Java Code.</li>\n</ol>\n<h2>For someone from Enterprise World?</h2>\n<p>WSO2 Machine Learner is designed for the Enterprise world. It comes as an integrated solution with the rest of the Big Data processing technologies: batch, realtime, and interactive analytics. Also, it includes support from data collection, analysis, &#xA0;to communication (e.g. visualizations, APIs, and alerts). Please see the earlier post &#x201C;<a href=\"https://iwringer.wordpress.com/2015/03/18/introducing-wso2-analytics-platform-note-for-architects/\">Introducing WSO2 Analytics Platform: Note for Architects</a>&#x201D; for more details. &#xA0;Hence, it is part of a complete analytics solution.</p>\n<p>WSO2 ML handles the full predictive analytics lifecycle, including model deployment and management.</p>\n<p><a href=\"https://iwringer.files.wordpress.com/2015/09/mldeployment.png\"><img class=\"wp-image-498 aligncenter\" src=\"https://iwringer.files.wordpress.com/2015/09/mldeployment.png?w=368&amp;h=280\" alt=\"MLDeployment\" width=\"368\"></a></p>\n<p>If you are already collecting data, we can pull that data, process&#xA0;them, and build models. Models you built are immediately available to use from your main transaction flow ( via WSO2 ESB) or &#xA0;data analysis flow ( via WSO2 CEP). Basically, you copy the model ID&#xA0;and add it to WSO2 ESB mediation scripts or WSO2 CEP queries, and now you have a Machine Learning integrated into your business. (Please see in <a href=\"https://docs.wso2.com/display/ML100/Using+Models\">Using Models</a> for more information.) This handles details like keeping a central store of Models while deploying models in production and also let you quickly switch between models.</p>\n<p>If you are not collecting data, you can start with WSO2 DAS and go from there. The same story holds.</p>\n<p>Furthermore, it gives you the concept of a project where you can try out and keep track of multiple machine learning models. Also, it handles details like sending you an email when a long running machine learning algorithm execution has completed.</p>\n<p>Finally, as we discuss in the next section, the ML Wizard is built such a way that you can use it with minimal understanding about Machine Learning. Sure, you will not get the same accuracy as the experts who will know how to tune the thing, but it can get you started and give you OK accuracy.</p>\n<h2>For a Machine Learning Newbie?</h2>\n<p>First of all, you need to understand what Machine Learning can do for you. Most problems, we know the exact steps to be followed to solve the problem. With those kinds of problems, all we have to do is to write a code that does those steps. This is what&#xA0;we call programming and lot of us do this day in day out.</p>\n<p>However, there are other problems that you will learn by example. Driving a car, cycling, and drawing a picture are problems that we learn by looking at examples. If you want a computer to solve those problems, you cannot write a program to solve them because you do not know the algorithm. Machine Learning&#xA0;is used to solve specifically those problems. Instead of the algorithm, you give it lots of examples, and Machine Learning will learn a model (a function) from those examples. You can use the model to solve your initial problem. Google&#x2019;s driverless car does exactly this.</p>\n<p>If you are new to Machine Learning, I highly recommend looking at&#xA0;<a href=\"http://www.r2d3.us/visual-intro-to-machine-learning-part-1/\">A Visual Introduction to Machine Learning</a>&#xA0;and the following talk by Ron Beckerman.</p>\n<p class=\"jetpack-video-wrapper\"><span class=\"embed-youtube\"><iframe class=\"youtube-player\" type=\"text/html\" width=\"656\" height=\"399\" src=\"https://www.youtube.com/embed/wjTJVhmu1JM?version=3&amp;rel=1&amp;fs=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent\"></iframe></span></p>\n<p>The Machine Learner wizard tries to model the experience around what you want to do as oppose to showing you lot of ML algorithms. For example, you can choose to predict the next value, classify something to a one of the categories, or detect an anomaly. You can click through, use defaults, and get a model. You can try several algorithms and compare them with each other.</p>\n<p>We support several standard techniques to compare ML models such as ROC curve, confusion Matrix, etc. CD&#x2019;s blog post&#xA0;&#x201C;<a href=\"https://cdathuraliya.wordpress.com/2015/09/17/wso2-ml-machine-learning-for-everone/\">Machine Learning for Everyone</a>&#x201D; talks about this in detail.</p>\n<p>For example, following confusion matrix shows how much of true positives, false negatives etc resulted from the model.</p>\n<p><img class=\"wp-image-494 aligncenter\" src=\"https://iwringer.files.wordpress.com/2015/09/confusion-matrix_r.png?w=510&amp;h=167\" alt=\"confusion-matrix_r\" width=\"510\"></p>\n<p>The figure on the left chart shows a scatter plot of data points that are predicted correctly and incorrectly while the right-hand side shows the RoC curve.</p>\n<p><img class=\"wp-image-493 alignleft\" src=\"https://iwringer.files.wordpress.com/2015/09/predicted-vs-actual.png?w=285&amp;h=197\" alt=\"predicted-vs-actual\" width=\"285\"></p>\n<p><img class=\"wp-image-495 alignleft\" src=\"https://iwringer.files.wordpress.com/2015/09/roc-graph.png?w=288&amp;h=193\" alt=\"roc-graph\" width=\"288\"></p>\n<p>However, at this point I suggest that you read&#xA0;<a href=\"http://blog.dato.com/how-to-evaluate-machine-learning-models-part-2a-classification-metrics\" target=\"_blank\">How to Evaluate Machine Learning Models: Classification Metrics</a>&#xA0;by&#xA0;<a class=\"author-link\" href=\"http://blog.dato.com/author/alice-zheng\">Alice Zheng</a>. It is ok to not to know how ML algorithms work, but you must know what models are better and why.</p>\n<p>However, there is a catch. If you try well known Machine Learning datasets, they would work well ( You can find few of such data sets from the sample directory of the pack). However, sometimes with real datasets, getting good results need transforming features into different features, and that might be beyond you if you have just started. If you want to go pro and learn to transform features ( a.k.a. Feature Engineering) and other fascinating stuff, then Andrew Ng&#x2019;s famous course&#xA0;<a href=\"https://www.coursera.org/learn/machine-learning\">https://www.coursera.org/learn/machine-learning</a>&#xA0;is the best place to start.</p>\n<h2>For a Machine Learning Expert?</h2>\n<p>If you are an ML expert, still WSO2 Machine Learner can help in several ways.</p>\n<p>First, it provides pretty sophisticated support for exploring the dataset based on a random sample. This includes scatter plots for looking at any two numerical features, parallel sets for looking at categorical data, Trellis sets for looking at 4-5 numerical dimensions at the same time, and cluster diagrams ( see below for some examples).</p>\n<p><a href=\"https://iwringer.files.wordpress.com/2015/09/cluster-diagram.png\"><img class=\"wp-image-500 alignleft\" src=\"https://iwringer.files.wordpress.com/2015/09/cluster-diagram.png?w=302&amp;h=200\" alt=\"cluster-diagram\" width=\"302\"></a> <a href=\"https://iwringer.files.wordpress.com/2015/09/trellis-chart.png\"><img class=\"wp-image-501 alignleft\" src=\"https://iwringer.files.wordpress.com/2015/09/trellis-chart.png?w=282&amp;h=223\" alt=\"trellis-chart\" width=\"282\"></a> <a href=\"https://iwringer.files.wordpress.com/2015/09/parallel-set.png\"><img class=\"aligncenter wp-image-502\" src=\"https://iwringer.files.wordpress.com/2015/09/parallel-set.png?w=330&amp;h=224\" alt=\"parallel-set\" width=\"330\"></a></p>\n<p>Second, it gives you access to a large collection of scalable machine learning algorithms pretty easily. For a single node setup, you just download and unzip it. ( see below for how to do it).</p>\n<p>Third, it provides an extensive set of model comparison&#xA0;measures as visualizations and also let you compare models side by side.</p>\n<p>Fourth, in addition to predictive analytics, you have access to batch analytics though SparkSQL, interactive analytics&#xA0;with Lucence, and relatime analytics through WSO2 CEP. This will make understanding dataset as well as preprocessing data much easier. One limitation of this release is that those other types of analytics must be done before using data within WSO2 ML. However, the next release will enable you to run queries within the WSO2 ML pipeline as well.</p>\n<p>Finally, you will also have all advantages listed under enterprise user such as seamless deployment of models and ability to switch the model easily.</p>\n<p>Furthermore, many interesting features are coming shortly in the next release.</p>\n<ul>\n<li>Support for Deep Learning and Neural Networks</li>\n<li>Support for out of the Box Anomaly detection using Markov Chains and Clustering</li>\n<li>Support to data cleanup and preprocessing using Data Wrangler and SparkSQL</li>\n<li>Support for out of the box ensembles that let you combine models</li>\n<li>Improvements to pipeline to warn the user on cases like class imbalances in classifications</li>\n</ul>\n<h2>Trying it Out</h2>\n<p>Carry out following steps</p>\n<ol>\n<li>Download WSO2 ML from&#xA0;<a href=\"http://wso2.com/products/machine-learner/\">http://wso2.com/products/machine-learner/</a></li>\n<li>Make sure you have Java 7 installed in your machine and set JAVA_HOME.</li>\n<li>Unzip the pack and run bin/wso2server.sh from the unpacked directory. Wait for WSO2 ML to start.</li>\n<li>Go to <a href=\"https://hostname:9443/ml\">https://hostname:9443/ml</a>&#xA0;and Login using username admin and password admin.</li>\n<li>Now you can upload your own dataset and follow along with the wizard. You can find more info from the <a href=\"https://docs.wso2.com/display/ML100/Introducing+Machine+Learner\">User Guide</a>. However, Wizard should be self-explanatory.</li>\n</ol>\n<p>Remember, it is all free under apache Licence. Give it a try, and we will love to hear your thoughts. If you find any problems or have suggestions, report them via&#xA0;<a href=\"https://wso2.org/jira/browse/ML\">https://wso2.org/jira/browse/ML</a>.</p>\n<div id=\"jp-post-flair\" class=\"sharedaddy sd-like-enabled sd-sharing-enabled\"><div class=\"sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded\" id=\"like-post-wrapper-96103698-487-56054b63715b6\"><h3 class=\"sd-title\">Like this:</h3><p class=\"likes-widget-placeholder post-likes-widget-placeholder\"><span class=\"button\"><span>Like</span></span> <span class=\"loading\">Loading...</span></p><a class=\"sd-link-color\"></a></div>\n<p id=\"jp-relatedposts\" class=\"jp-relatedposts\">\n\t<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</p></div>\t\t\t</div>\n\n\t\n</div>"
    }, {
        "title": "keen/dashboards",
        "url": "https://github.com/keen/dashboards",
        "excerpt": "Building an analytics dashboard? Don&#x2019;t start from scratch. Grab one of our Bootstrap-based templates and admire your data in minutes. Begin with a layout: Add charts to each chart-stage HTML&hellip;",
        "date_saved": "Thu Jul 28 20:10:20 EDT 2016",
        "html_file": "keendashboards.html",
        "png_file": "keendashboards.png",
        "md_file": "keendashboards.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Building an analytics dashboard? Don&#x2019;t start from scratch. Grab one of our Bootstrap-based templates and admire your data in minutes.</p>\n\n<p>Begin with a layout:</p>\n\n<p><a href=\"https://camo.githubusercontent.com/2a58c8a8796e09dbdd2bce6204f4d79373de0651/687474703a2f2f636c2e6c792f696d6167652f3376324831383055306b30512f53637265656e25323053686f74253230323031342d31302d32392532306174253230332e31322e3234253230414d2e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/2a58c8a8796e09dbdd2bce6204f4d79373de0651/687474703a2f2f636c2e6c792f696d6167652f3376324831383055306b30512f53637265656e25323053686f74253230323031342d31302d32392532306174253230332e31322e3234253230414d2e706e67\" alt=\"Hero Thirds Example\"></a></p>\n\n<p>Add charts to each <code>chart-stage</code> HTML element:</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>col-sm-6 col-md-3<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-wrapper<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-title<span class=\"pl-pds\">\"</span></span>&gt;\n Chart Title\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-stage<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>grid-1-1<span class=\"pl-pds\">\"</span></span>&gt;\n <span class=\"pl-c\">&lt;!-- chart goes here! --&gt;</span>\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-notes<span class=\"pl-pds\">\"</span></span>&gt;\n Notes about this chart (optional)\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<p>And voil&#xE0;!</p>\n\n<p><a href=\"https://camo.githubusercontent.com/a294bbeb78340c703f12a7eb1f8cebe1da1fe3dc/687474703a2f2f636c2e6c792f696d6167652f3154336130583430327230572f53637265656e25323053686f74253230323031342d31302d32392532306174253230332e33352e3034253230414d2e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/a294bbeb78340c703f12a7eb1f8cebe1da1fe3dc/687474703a2f2f636c2e6c792f696d6167652f3154336130583430327230572f53637265656e25323053686f74253230323031342d31302d32392532306174253230332e33352e3034253230414d2e706e67\" alt=\"Sample Dashboard\"></a></p>\n\n<p>An attractive, custom analytics dashboard that's ready to be shown to your team or your customers. No hours lost tweaking CSS or testing responsiveness on eight different mobile devices.</p>\n\n<h2>\n<a id=\"user-content-the-templates\" class=\"anchor\" href=\"https://github.com/keen/dashboards#the-templates\"></a>The Templates</h2>\n\n<p>These layout templates are composed of a minimal set of <a href=\"http://getbootstrap.com/\">Bootstrap v3.2</a> custom styles. They cover the most common use cases and layout configurations we've encountered so far.</p>\n\n<ul class=\"task-list\">\n<li>\n<a href=\"http://keen.github.io/dashboards/layouts/\">Layouts</a> for pre-built, responsive dashboard views</li>\n<li>\n<a href=\"http://keen.github.io/dashboards/examples/\">Examples</a> for specific domains, data models and popular integrations</li>\n</ul>\n\n<h2>\n<a id=\"user-content-integrations\" class=\"anchor\" href=\"https://github.com/keen/dashboards#integrations\"></a>Integrations</h2>\n\n<p>These templates can work with any data source or charting library, but they're particularly streamlined to work with Keen IO's <a href=\"https://github.com/keenlabs/keen-js\">visualization toolkit</a>. To see the Keen integration in action, create a <a href=\"http://keen.io/signup?s=gh-dashboards\">free project</a> and send some data to it. Then add some charts to your dashboard with just a few lines of code.</p>\n\n<p>You can also use this pre-populated set of <a href=\"https://github.com/keen/dashboards/tree/gh-pages/demo-data\">demo data</a>. </p>\n\n<h2>\n<a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/keen/dashboards#usage\"></a>Usage</h2>\n\n<p>Ready to use one of these awesome layouts? Here's how to get started.</p>\n\n<ol class=\"task-list\">\n<li><p>In the sidebar, is a <em>Download Zip</em> link. Click it to download a copy of the code.</p></li>\n<li><p>Check out the various <a href=\"http://keen.github.io/dashboards/layouts/\">layouts</a> and pick the one that best suits your needs. Find the template in the repository you downloaded at <code>folder/layouts/(name-of-template)</code>.</p></li>\n<li>\n<p>Start editing! In the destination folder will exist an <code>.html</code> file. Open it in your favorite text editor. There are three things you need to do to edit your dashboard:</p>\n\n<ol class=\"task-list\">\n<li>Setup: If you're a registered Keen IO user, navigate to <a href=\"http://keen.io/login?s=gh-dashboards\">your keen project</a> or if you don't have a user at first, you can simply use some demo data that we've prepared for you. You can access those by going to the repository and navigating to demo-data. There, you will see some javascript files with some code in them. We will simply paste those in the .html file.</li>\n<li>Some copypasta. When you navigate to the bottom of the .html file, you can see that there are a bunch of script tags. Just before the end of the body tag, we're going to add in the code from sample.html. Simply copy and paste the code just before you see <code>&lt;/body&gt;</code>.</li>\n<li>Once you've done that we need to hook up the specific items within the template to the code that we've just pasted in to our file. In line 21 of sample.html, you will see a line of code: <code>document.getElementById('chart-01')</code>. That means that this <em>query</em> will try to find inside the html file a node with an id of 'chart-01'. In these templates, you will see lines of that resemble something like:</li>\n</ol>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-stage<span class=\"pl-pds\">\"</span></span>&gt; <span class=\"pl-c\">&lt;!-- This is where you need to put the id property in! --&gt;</span>\n &lt;<span class=\"pl-ent\">img</span> <span class=\"pl-e\">data-src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>holder.js/100%x650/white<span class=\"pl-pds\">\"</span></span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<p>Now we're going to change those lines so that it looks like this:</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-stage<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>chart-01<span class=\"pl-pds\">\"</span></span>&gt; <span class=\"pl-c\">&lt;!-- This is where you need to put the id property in! --&gt;</span>\n <span class=\"pl-c\">&lt;!-- Get rid of that img tag! --&gt;</span>\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n</li>\n</ol>\n\n<p>You're finished! Congratulations on setting up your first chart! Repeat step three with the rest of the items in the template to complete your dashboard!</p>\n\n<h2>\n<a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/keen/dashboards#contributing\"></a>Contributing</h2>\n\n<p>Contributions are 11,000,000% welcome! That's a lot!</p>\n\n<p>Please file issues for any bugs you find or features you'd like to see. And if you're up for it, send in a pull request.</p>\n\n<p>To develop, you'll need to first install dependencies using <a href=\"http://bower.io/\">Bower</a>:</p>\n\n<pre><code>$ npm install -g bower\n$ bower install\n</code></pre>\n\n<p>Note: Updates to the site backed by the <strong>gh-pages</strong> branch go live immediately once pull requests are reviewed and approved.</p>\n\n<p>Note #2: This project is moving fast, so make sure and stay up to date. Here's what we suggest. Fork this repo, clone the fork, and add the original repo as a remote called <code>upstream</code>:</p>\n\n<pre><code>$ git clone https://github.com/username/dashboards.git\n$ cd dashboards\n$ git remote add upstream https://github.com/keen/dashboards.git\n</code></pre>\n\n<p>Pull from <code>upstream</code> frequently to keep your local copy up to date:</p>\n\n<pre><code>$ git pull upstream gh-pages\n</code></pre>\n\n<h2>\n<a id=\"user-content-support\" class=\"anchor\" href=\"https://github.com/keen/dashboards#support\"></a>Support</h2>\n\n<p>Need a hand with something? Send us an email to <a href=\"mailto:contact@keen.io\">contact@keen.io</a> and we'll get back to you right away!\nFor technical questions, use the <a href=\"https://stackoverflow.com/questions/tagged/keen-io\"><code>keen-io</code></a> tag on Stack Overflow.</p>\n</article>\n </div>"
    }, {
        "title": "yahoo/gryffin",
        "url": "https://github.com/yahoo/gryffin",
        "excerpt": "Gryffin is a large scale web security scanning platform. It is not a yet another scanner. It was written to solve two specific problems with existing scanners, that of, coverage and scale. Better&hellip;",
        "date_saved": "Thu Jul 28 20:10:22 EDT 2016",
        "html_file": "yahoogryffin.html",
        "png_file": "yahoogryffin.png",
        "md_file": "yahoogryffin.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Gryffin is a large scale web security scanning platform. It is not a yet another scanner. It was written to solve two specific problems with existing scanners, that of, coverage and scale. </p>\n\n<p>Better coverage translates to fewer false negatives. Inherent scalability translates to, capaility of scanning and supporting a large elastic application infrastructure. Or simply put, the ability to scan 1000 applications today to 100,000 applications tomorrow by straightforward horizontal scaling. </p>\n\n<h2><a id=\"user-content-coverage\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#coverage\"></a>Coverage</h2>\n\n<p>Coverage has two dimensions - one during crawl and the other during fuzzing. In crawl phase, coverage implies, being able to find as much of the application footprint. In scan phase or while fuzzing, it implies, being able to test each part of the application for applied set of vulnerabilities in a deep.</p>\n\n<h4><a id=\"user-content-crawl-coverage\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#crawl-coverage\"></a>Crawl Coverage</h4>\n\n<p>Today a large number of web applications are template driven, that means, same code or path generates millions of URLs. For a security scanner, it just needs one of the million URLs that are generated by the same code or path. Gryffin's crawler does just that. </p>\n\n<h5><a id=\"user-content-page-deduplication\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#page-deduplication\"></a>Page Deduplication</h5>\n\n<p>Gryffin has a deduplication engine at its heart that compares the new page with the already seen pages. If the HTML structure of the new page is similar to the ones seen, it is classified as duplicate and not crawled further.</p>\n\n<h5><a id=\"user-content-dom-rendering-and-navigation\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#dom-rendering-and-navigation\"></a>DOM Rendering and Navigation</h5>\n\n<p>A large number of applications today are rich applications. They are heavily driven by client-side JavaScript. In order to discover links and code paths in such applications, Gryffin's crawler, uses PhantomJS for DOM rendering and navigation.</p>\n\n<h4><a id=\"user-content-scan-coverage\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#scan-coverage\"></a>Scan Coverage</h4>\n\n<p>As Gryffin is a scanning platform and not a scanner, it does not have its own fuzzer modules, even for fuzzing common web vulnerabilities like XSS and SQL Injection.</p>\n\n<p>It's not wise to reinvent the wheel where you do not have to. Gryffin at production scale at Yahoo uses open source and custom fuzzers. Some of these custom fuzzers might be open sourced in future and might or might not be part of Gryffin repository.</p>\n\n<p>For demonstration purpose, Gryffin comes integrated with sqlmap and arachni. It does not endorse them or any other scanner in particular. </p>\n\n<p>Philosophy is to improve scan coverage by being able to fuzz for just what you need.</p>\n\n<h2><a id=\"user-content-scale\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#scale\"></a>Scale</h2>\n\n<p>While Gryffin is available as a standalone package, it's primarily built for scale. </p>\n\n<p>Gryffin is built on the publisher-subscriber model. Each component is either a publisher or a subscriber or both. This allows Gryffin to scale horizontally by simply adding more subscriber or publisher nodes.</p>\n\n<h2><a id=\"user-content-operating-gryffin\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#operating-gryffin\"></a>Operating Gryffin</h2>\n\n<h3><a id=\"user-content-pre-requisite\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#pre-requisite\"></a>Pre-requisite</h3>\n\n<ol>\n<li>Go </li>\n<li>PhantomJS, v2</li>\n<li>Sqlmap (for fuzzing SQLi)</li>\n<li>Arachni (for fuzzing XSS and web vulnerabilities)</li>\n<li>NSQ , \n\n<ul>\n<li>running lookupd at port 4160,4161</li>\n<li>running nsqd at port 4150,4151</li>\n<li>with <code>--max-msg-size=5000000</code></li>\n</ul></li>\n<li>Kibana and Elastic search, for dashboarding\n\n</li>\n</ol>\n\n<h3><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#installation\"></a>Installation</h3>\n\n<pre><code>go get github.com/yahoo/gryffin/...\n</code></pre>\n\n<h3><a id=\"user-content-run\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#run\"></a>Run</h3>\n\n<h4><a id=\"user-content-example-1-a-site-with-1m-urls\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#example-1-a-site-with-1m-urls\"></a>Example 1: A site with 1M+ URLs</h4>\n\n<p>A typical site with millions of URLs like news.yahoo.com is scanned below to show the importance of \nTBD: Link to news/finance scan video</p>\n\n<h4><a id=\"user-content-example-2-a-rich-app\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#example-2-a-rich-app\"></a>Example 2: A rich app</h4>\n\n<p>TBD: Link to Flickr scan video</p>\n\n<h2><a id=\"user-content-todo\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#todo\"></a>TODO</h2>\n\n<ol>\n<li>Mobile browser user agent</li>\n<li>Preconfigured docker images </li>\n<li>Redis for sharing states across machines</li>\n<li>Instruction to run gryffin (distributed or standalone)</li>\n<li>Documentation for html-distance</li>\n<li>Implement a JSON serializable cookiejar. </li>\n<li>Identify duplicate url patterns based on simhash result.</li>\n</ol>\n\n<h2><a id=\"user-content-credits\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#credits\"></a>Credits</h2>\n\n\n\n<h2><a id=\"user-content-licence\" class=\"anchor\" href=\"https://github.com/yahoo/gryffin#licence\"></a>Licence</h2>\n\n<p>Code licensed under the BSD-style license. See LICENSE file for terms.</p>\n</article>\n </div>"
    }, {
        "title": "JSON Lines",
        "url": "http://jsonlines.org/examples/",
        "excerpt": "[\"Name\", \"Session\", \"Score\", \"Completed\"] [\"Gilbert\", \"2013\", 24, true] [\"Alexa\", \"2013\", 29, true] [\"May\", \"2012B\", 14,",
        "date_saved": "Thu Jul 28 20:10:23 EDT 2016",
        "html_file": "json_lines.html",
        "png_file": "json_lines.png",
        "md_file": "json_lines.md",
        "content": "<div><section id=\"main_content\">\n \n\n<div class=\"highlight\"><pre><span class=\"p\">[</span><span class=\"s2\">\"Name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Session\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Score\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Completed\"</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"s2\">\"Gilbert\"</span><span class=\"p\">,</span> <span class=\"s2\">\"2013\"</span><span class=\"p\">,</span> <span class=\"mi\">24</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"s2\">\"Alexa\"</span><span class=\"p\">,</span> <span class=\"s2\">\"2013\"</span><span class=\"p\">,</span> <span class=\"mi\">29</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"s2\">\"May\"</span><span class=\"p\">,</span> <span class=\"s2\">\"2012B\"</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"s2\">\"Deloise\"</span><span class=\"p\">,</span> <span class=\"s2\">\"2012A\"</span><span class=\"p\">,</span> <span class=\"mi\">19</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">]</span> \n</pre></div>\n\n <p>CSV seems so easy that many programmers have written code to generate it themselves, and almost every implementation is different. Handling broken CSV files is a common and frustrating task. CSV has no standard encoding, no standard column separator and multiple character escaping standards. String is the only type supported for cell values, so some programs attempt to guess the correct types.</p>\n\n <p>JSON Lines handles tabular data cleanly and without ambiguity. Cells may use the standard JSON types.</p>\n\n <p>The biggest missing piece is an import/export filter for popular spreadsheet programs so that non-programmers can use this format.</p>\n\n <h3>\n<a name=\"easy-nested-data\" class=\"anchor\" href=\"http://jsonlines.org/examples/#easy-nested-data\"></a>Easy Nested Data</h3>\n\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Gilbert\"</span><span class=\"p\">,</span> <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[[</span><span class=\"s2\">\"straight\"</span><span class=\"p\">,</span> <span class=\"s2\">\"7&#x2663;\"</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s2\">\"one pair\"</span><span class=\"p\">,</span> <span class=\"s2\">\"10&#x2665;\"</span><span class=\"p\">]]}</span>\n<span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Alexa\"</span><span class=\"p\">,</span> <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[[</span><span class=\"s2\">\"two pair\"</span><span class=\"p\">,</span> <span class=\"s2\">\"4&#x2660;\"</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s2\">\"two pair\"</span><span class=\"p\">,</span> <span class=\"s2\">\"9&#x2660;\"</span><span class=\"p\">]]}</span>\n<span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"May\"</span><span class=\"p\">,</span> <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[]}</span>\n<span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Deloise\"</span><span class=\"p\">,</span> <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[[</span><span class=\"s2\">\"three of a kind\"</span><span class=\"p\">,</span> <span class=\"s2\">\"5&#x2663;\"</span><span class=\"p\">]]}</span>\n</pre></div>\n\n </section>\n\n <p>JSON Lines' biggest strength is in handling lots of similar nested data structures. One <code>.jsonl</code> file is easier to work with than a directory full of XML files.</p>\n\n <p>If you have large nested structures then reading the JSON Lines text directly isn't recommended. Use the \"jq\" tool to make viewing large structures easier:</p>\n\n<div class=\"highlight\"><pre>cat winning_hands.jsonl | grep pair | jq .\n</pre></div>\n\n<div class=\"highlight\"><pre><span class=\"p\">{</span>\n <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Gilbert\"</span><span class=\"p\">,</span> \n <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n <span class=\"p\">[</span>\n <span class=\"s2\">\"straight\"</span><span class=\"p\">,</span> \n <span class=\"s2\">\"7&#x2663;\"</span>\n <span class=\"p\">],</span> \n <span class=\"p\">[</span>\n <span class=\"s2\">\"one pair\"</span><span class=\"p\">,</span> \n <span class=\"s2\">\"10&#x2665;\"</span>\n <span class=\"p\">]</span>\n <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n<span class=\"p\">{</span>\n <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Alexa\"</span><span class=\"p\">,</span> \n <span class=\"nt\">\"wins\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n <span class=\"p\">[</span>\n <span class=\"s2\">\"two pair\"</span><span class=\"p\">,</span> \n <span class=\"s2\">\"4&#x2660;\"</span>\n <span class=\"p\">],</span> \n <span class=\"p\">[</span>\n <span class=\"s2\">\"two pair\"</span><span class=\"p\">,</span> \n <span class=\"s2\">\"9&#x2660;\"</span>\n <span class=\"p\">]</span>\n <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>"
    }, {
        "title": "headroom.js",
        "url": "https://github.com/WickyNilliams/headroom.js",
        "excerpt": "Give your pages some headroom. Hide your header until you need it. What's it all about? Headroom.js is a lightweight, high-performance JS widget (with no dependencies!) that allows you to react to&hellip;",
        "date_saved": "Thu Jul 28 20:10:25 EDT 2016",
        "html_file": "headroomjs.html",
        "png_file": "headroomjs.png",
        "md_file": "headroomjs.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><strong>Give your pages some headroom. Hide your header until you need it.</strong></p>\n\n<h2>\n<a name=\"whats-it-all-about\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#whats-it-all-about\"></a>What's it all about?</h2>\n\n<p>Headroom.js is a lightweight, high-performance JS widget (with no dependencies!) that allows you to react to the user's scroll. The header on this site is a living example, it slides out of view when scrolling down and slides back in when scrolling up.</p>\n\n<h3>\n<a name=\"why-use-it\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#why-use-it\"></a>Why use it?</h3>\n\n<p>Headroom.js allows you to bring elements into view when appropriate, and give focus to your content the rest of the time.</p>\n\n<h3>\n<a name=\"how-does-it-work\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#how-does-it-work\"></a>How does it work?</h3>\n\n<p>At it's most basic headroom.js simply adds and removes CSS classes from an element in response to a scroll event:</p>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"c\">&lt;!-- initially --&gt;</span>\n<span class=\"nt\">&lt;header</span> <span class=\"na\">class=</span><span class=\"s\">\"headroom\"</span><span class=\"nt\">&gt;</span>\n\n<span class=\"c\">&lt;!-- scrolling down --&gt;</span>\n<span class=\"nt\">&lt;header</span> <span class=\"na\">class=</span><span class=\"s\">\"headroom headroom--unpinned\"</span><span class=\"nt\">&gt;</span>\n\n<span class=\"c\">&lt;!-- scrolling up --&gt;</span>\n<span class=\"nt\">&lt;header</span> <span class=\"na\">class=</span><span class=\"s\">\"headroom headroom--pinned\"</span><span class=\"nt\">&gt;</span>\n</pre></div>\n\n<h2>\n<a name=\"usage\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#usage\"></a>Usage</h2>\n\n<p>Using headroom.js is really simple. It has a pure JS API, and an optional jQuery/Zepto-compatible plugin.</p>\n\n<h3>\n<a name=\"with-pure-js\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#with-pure-js\"></a>With pure JS</h3>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"c1\">// grab an element</span>\n<span class=\"kd\">var</span> <span class=\"nx\">myElement</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelector</span><span class=\"p\">(</span><span class=\"s2\">\"header\"</span><span class=\"p\">);</span>\n<span class=\"c1\">// construct an instance of Headroom, passing the element</span>\n<span class=\"kd\">var</span> <span class=\"nx\">headroom</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Headroom</span><span class=\"p\">(</span><span class=\"nx\">myElement</span><span class=\"p\">);</span>\n<span class=\"c1\">// initialise</span>\n<span class=\"nx\">headroom</span><span class=\"p\">.</span><span class=\"nx\">init</span><span class=\"p\">();</span> \n</pre></div>\n\n<h3>\n<a name=\"with-jqueryzepto\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#with-jqueryzepto\"></a>With jQuery/Zepto</h3>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"c1\">// simple as this!</span>\n<span class=\"c1\">// NOTE: init() is implicitly called with the plugin</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"header\"</span><span class=\"p\">).</span><span class=\"nx\">headroom</span><span class=\"p\">();</span>\n</pre></div>\n\n<p>The plugin also offers a data-* API if you prefer a declarative approach.</p>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"c\">&lt;!-- selects $(\"[data-headroom]\") --&gt;</span>\n<span class=\"nt\">&lt;header</span> <span class=\"na\">data-headroom</span><span class=\"nt\">&gt;</span>\n</pre></div>\n\n<p>Note: Zepto's additional <a href=\"https://github.com/madrobby/zepto#zepto-modules\">data module</a> is required for compatibility.</p>\n\n<h2>\n<a name=\"options\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#options\"></a>Options</h2>\n\n<p>Headroom.js can also accept an options object to alter the way it behaves. You can see the default options by inspecting <code>Headroom.options</code>. The structure of an options object is as follows:</p>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"p\">{</span>\n <span class=\"c1\">// vertical offset in px before element is first unpinned</span>\n <span class=\"nx\">offset</span> <span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n <span class=\"c1\">// scroll tolerance in px before state changes</span>\n <span class=\"nx\">tolerance</span> <span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n <span class=\"c1\">// css classes to apply</span>\n <span class=\"nx\">classes</span> <span class=\"o\">:</span> <span class=\"p\">{</span>\n <span class=\"c1\">// when element is initialised</span>\n <span class=\"nx\">initial</span> <span class=\"o\">:</span> <span class=\"s2\">\"headroom\"</span><span class=\"p\">,</span>\n <span class=\"c1\">// when scrolling up</span>\n <span class=\"nx\">pinned</span> <span class=\"o\">:</span> <span class=\"s2\">\"headroom--pinned\"</span><span class=\"p\">,</span>\n <span class=\"c1\">// when scrolling down</span>\n <span class=\"nx\">unpinned</span> <span class=\"o\">:</span> <span class=\"s2\">\"headroom--unpinned\"</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n<h2>\n<a name=\"examples\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#examples\"></a>Examples</h2>\n\n<p>Head over to the <a href=\"http://wicky.nillia.ms/headroom.js/playroom/\">headroom.js playroom</a> if you want see some example usages. There you can tweak all of headroom's options and apply different CSS effects in an interactive demo.</p>\n\n<h2>\n<a name=\"contributions--issues\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#contributions--issues\"></a>Contributions &amp; Issues</h2>\n\n<p>Contributions are welcome. Please clearly explain the purpose of the PR and follow the current style. </p>\n\n<p>Issues can be resolved quickest if they are descriptive and include both a reduced test case and a set of steps to reproduce.</p>\n\n<h2>\n<a name=\"license\" class=\"anchor\" href=\"https://github.com/WickyNilliams/headroom.js#license\"></a>License</h2>\n\n<p>Licensed under the <a href=\"http://www.opensource.org/licenses/mit-license.php\">MIT License</a>.</p></article></div>"
    }, {
        "title": "Snapcraft Tutorial",
        "url": "https://developer.ubuntu.com/en/snappy/snapcraft/your-first-snap/",
        "excerpt": "Let's make a snap from scratch using Snapcraft! We'll pick something a little interesting: a webcam server. Preparation You'll want a webcam and a Snappy device. We'll assume you have those, but if&hellip;",
        "date_saved": "Thu Jul 28 20:10:27 EDT 2016",
        "html_file": "snapcraft_tutorial.html",
        "png_file": "snapcraft_tutorial.png",
        "md_file": "snapcraft_tutorial.md",
        "content": "<div><div class=\"row no-border\">\n<div class=\"eight-col\">\n\n\n<p>Let's make a snap from scratch using Snapcraft! We'll pick something a little interesting: a webcam server.</p>\n\n<h2>Preparation</h2>\n\n<p>You'll want a webcam and a Snappy device. We'll assume you have those, but if you need help setting up a Snappy install, there is help <a href=\"https://developer.ubuntu.com/en/snappy/start/\">online</a>.</p>\n\n<p>(Even if you don't have either of those, you can still follow along. You just won't be able to use the final snap package you create. But you'll get to see how Snapcraft works, which is still super rewarding.)</p>\n\n<p>You should also install Snapcraft:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>$ sudo add-apt-repository ppa:snappy-dev/snapcraft-daily\n$ sudo apt-get update\n$ sudo apt-get install snapcraft\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<h2>Approach</h2>\n\n<p>This example is easy because we won't be doing much of the heavy lifting ourselves. We're going to integrate a couple pieces of code together to make an interesting app.</p>\n\n<p>Namely, we'll combine a web server with a webcam program and combine them to serve a new frame every ten seconds.</p>\n\n<h3>The Web Server</h3>\n\n<p>Go has a simple web server in its standard libraries. So let's just use that.</p>\n\n<p>It's trivial to write a complete (but basic) web server in a few lines:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>package main\nimport \"net/http\"\nfunc main() {\n panic(http.ListenAndServe(\":8080\", http.FileServer(http.Dir(\".\"))))\n}\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>This will serve the current directory on port <code>:8080</code>. If there is an <code>index.html</code> in the current directory, it will be served. Otherwise a directory listing will be shown.</p>\n\n<p>I've provided the above code in a simple GitHub <a href=\"https://github.com/mikix/golang-static-http\">repository</a>.</p>\n\n<h3>The Webcam Program</h3>\n\n<p>There is a webcam program provided in the Ubuntu archives called <code>fswebcam</code>. It has a lot of neat features. But all we'll be needing for now is its ability to take a webcam freeze frame and drop it to a file by calling it like so:</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<h2>Snapcraft Recipe</h2>\n\n<p>OK, let's create a Snapcraft recipe that combines the above programs into a useful snap.</p>\n\n<p>Snapcraft reads a single file, <code>snapcraft.yaml</code>, which tells it how to combine code. It contains a list of <code>parts</code>, or pieces of code, and some metadata for the final snap it will create. But let's not worry about the metadata yet.</p>\n\n<h3>Web Server Part</h3>\n\n<p>Let's start with the web server.</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>parts:\n golang-static-http:\n plugin: go1.4-project\n source: git://github.com/mikix/golang-static-http\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>You've got a <code>parts</code> list with one item, named <code>golang-static-http</code>, but we could call it anything. That part has a few options. A <code>plugin</code> option that tells Snapcraft how to interpret the part. In this case, it's a Go project using Go 1.4. And finally, a <code>source</code> option telling Snapcraft where to download the code.</p>\n\n<p>Go ahead and create <code>snapcraft.yaml</code> with the above contents in an empty directory.</p>\n\n<p>Now we can build and \"stage\" this recipe. Staging just means putting the output of the parts in a common folder that has the same layout as the snap we'll eventually create. It lets you look at how the snap is constructed and make sure everything is in place.</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<p>You'll see a bunch of output, including Snapcraft downloading the Go compiler. It will use this to compile the code found on GitHub. Eventually when it is done, you'll be able to inspect the <code>./stage</code> folder and see the web server executable sitting in <code>./stage/bin</code>:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>$ ls stage/bin\ngolang-static-http\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<h3>Webcam Part</h3>\n\n<p>Now let's add the webcam program <code>fswebcam</code> to our snap. Edit <code>snapcraft.yaml</code> to look like:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>parts:\n golang-static-http:\n plugin: go1.4-project\n source: git://github.com/mikix/golang-static-http\n fswebcam:\n plugin: ubuntu\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>We've added a new part called <code>fswebcam</code> handled by the <code>ubuntu</code> plugin. That plugin will include an Ubuntu package and its dependencies into your snap. It will use the name of the part as the package name to include.</p>\n\n<p>Now let's stage our recipe again.</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<p>You'll note that Snapcraft skipped downloading and building <code>golang-static-htpp</code> again because it knew it had already done so.</p>\n\n<p>You'll also see Snapcraft downloading and unpacking all the Ubuntu packages into your snap. If you look at <code>./stage</code>, you'll see a lot more files now:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>$ ls stage\nbin etc lib usr var\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<h3>Gluing the Parts Together</h3>\n\n<p>OK, so we have the two programs in our staging area. But how do we make them work together?</p>\n\n<p>We'll write a tiny little script that runs the server and <code>fswebcam</code> together:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>#!/bin/sh\nset -e\n\ncd \"$SNAPP_APP_DATA_PATH\"\n\ngolang-static-http &amp;\n\nwhile :; do\n fswebcam shot.jpeg\n sleep 10\ndone\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>Save the above as <code>webcam-webui</code> and make it executable:</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<p>Alright, let's put this script in our snap too:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>parts:\n golang-static-http:\n plugin: go1.4-project\n source: git://github.com/mikix/golang-static-http\n fswebcam:\n plugin: ubuntu\n glue:\n plugin: copy\n files:\n webcam-webui: bin/webcam-webui\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>The <code>copy</code> plugin takes a list of files to just directly copy without building or downloading anything. In this case, we just want to put our glue script in the <code>bin/</code> directory.</p>\n\n<p>If we run Snapcraft again, we won't be surprised:</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<p>We should now see both the web server and our script in stage/bin (the webcam program is in stage/usr/bin since it came from Ubuntu):</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>$ ls stage/bin\ngolang-static-http webcam-webui\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<h3>Package Metadata</h3>\n\n<p>\"But how do we actually make a snap?\", you may be wondering. To do that, we need some metadata files required by Snappy that describe how our code should be installed and run.</p>\n\n<p>You can read all about the <a href=\"https://developer.ubuntu.com/en/snappy/guides/packaging-format-apps/\">format of this metadata</a>, but we'll assume here that you're already familiar.</p>\n\n<p>Let's make a new subdirectory called <code>meta</code> and put our Snappy package files there. Here's the contents of <code>meta/package.yaml</code>:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>name: webcam-webui\nversion: 1\nvendor: You &lt;you@example.com&gt;\nservices:\n- name: webcam-webui\n start: bin/webcam-webui\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>And a very simple <code>meta/readme.md</code>:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code># Webcam web UI\n\nExposes your webcam over a web UI\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>Now that we have that sorted, we can tell Snapcraft where to find our metadata:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>parts:\n golang-static-http:\n plugin: go1.4-project\n source: git://github.com/mikix/golang-static-http\n fswebcam:\n plugin: ubuntu\n glue:\n plugin: copy\n files:\n webcam-webui: bin/webcam-webui\nsnappy-metadata: meta\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>And tell Snapcraft to actually make the snap package:</p>\n</div>\n\n\n\n<div class=\"eight-col\">\n<p>You should now have a <code>webcam-webui_1_amd64.snap</code> file sitting in your directory (assuming you are running on amd64). Congratulations!</p>\n\n<h2>Next steps</h2>\n\n<p>Well done, your first snap using snapcraft is ready. If you want to check out a few examples for reference or to get inspired, have a look at the <code>examples</code> directory in the source directory of snapcraft:</p>\n</div>\n\n<div class=\"twelve-col\">\n<pre><code>bzr branch lp:snapcraft\ncd snapcraft/examples\n</code></pre>\n</div>\n\n<div class=\"eight-col\">\n<p>In <code>examples/</code> you can find a diverse set of examples which should help you get started on your own projects.</p>\n\n<p>If you should have any more questions, ask us on</p>\n\n<ul>\n\t<li><code>#snappy</code> on <code>irc.freenode.net</code> or</li>\n\t<li>the <a href=\"https://lists.ubuntu.com/mailman/listinfo/snappy-app-devel\">snappy-app-devel</a> mailing list</li>\n</ul>\n</div>\n</div>\n\n\n\n\n </div>"
    }, {
        "title": "store.js",
        "url": "https://github.com/marcuswestin/store.js",
        "excerpt": "store.js exposes a simple API for cross browser local storage // Store 'marcus' at 'username' store.set('username', 'marcus') // Get 'username' store.get('username') // Remove 'username'&hellip;",
        "date_saved": "Thu Jul 28 20:10:30 EDT 2016",
        "html_file": "storejs.html",
        "png_file": "storejs.png",
        "md_file": "storejs.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>store.js exposes a simple API for cross browser local storage</p>\n\n<pre><code>// Store 'marcus' at 'username'\nstore.set('username', 'marcus')\n\n// Get 'username'\nstore.get('username')\n\n// Remove 'username'\nstore.remove('username')\n\n// Clear all keys\nstore.clear()\n\n// Store an object literal - store.js uses JSON.stringify under the hood\nstore.set('user', { name: 'marcus', likes: 'javascript' })\n\n// Get the stored object - store.js uses JSON.parse under the hood\nvar user = store.get('user')\nalert(user.name + ' likes ' + user.likes)\n</code></pre>\n\n<p>store.js depends on JSON for serialization.</p>\n\n<h2>\n<a name=\"how-does-it-work\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#how-does-it-work\"></a>How does it work?</h2>\n\n<p>store.js uses localStorage when available, and falls back on globalStorage for earlier versions of Firefox and the userData behavior in IE6 and IE7. No flash to slow down your page load. No cookies to fatten your network requests.</p>\n\n<h2>\n<a name=\"screencast\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#screencast\"></a>Screencast</h2>\n\n<p><a href=\"http://javascriptplayground.com/blog/2012/06/javascript-local-storage-store-js-tutorial\">Introductory Screencast to Store.js</a> by Jack Franklin.</p>\n\n<h2>\n<a name=\"storeenabled---check-that-localstorage-is-available\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#storeenabled---check-that-localstorage-is-available\"></a><code>store.enabled</code> - check that localStorage is available</h2>\n\n<p>To check that persistance is available, you can use the <code>store.enabled</code> flag:</p>\n\n<pre><code>if( store.enabled ) {\n console.log(\"localStorage is available\");\n} else {\n //time to fallback\n}\n</code></pre>\n\n<p>Please note that <code>store.disabled</code> does exist but is deprecated in favour of <code>store.enabled</code>.</p>\n\n<p>There are conditions where localStorage may appear to be available but will throw an error when used. For example, Safari's private browsing mode does this, and some browser allow the user to temporarily disable localStorage. Store.js detects these conditions and sets the <code>store.enabled</code> flag accordingly.</p>\n\n<h2>\n<a name=\"serialization\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#serialization\"></a>Serialization</h2>\n\n<p>localStorage, when used without store.js, calls toString on all stored values. This means that you can't conveniently store and retrieve numbers, objects or arrays:</p>\n\n<pre><code>localStorage.myage = 24\nlocalStorage.myage !== 24\nlocalStorage.myage === '24'\n\nlocalStorage.user = { name: 'marcus', likes: 'javascript' }\nlocalStorage.user === \"[object Object]\"\n\nlocalStorage.tags = ['javascript', 'localStorage', 'store.js']\nlocalStorage.tags.length === 32\nlocalStorage.tags === \"javascript,localStorage,store.js\"\n</code></pre>\n\n<p>What we want (and get with store.js) is</p>\n\n<pre><code>store.set('myage', 24)\nstore.get('myage') === 24\n\nstore.set('user', { name: 'marcus', likes: 'javascript' })\nalert(\"Hi my name is \" + store.get('user').name + \"!\")\n\nstore.set('tags', ['javascript', 'localStorage', 'store.js'])\nalert(\"We've got \" + store.get('tags').length + \" tags here\")\n</code></pre>\n\n<p>The native serialization engine of javascript is JSON. Rather than leaving it up to you to serialize and deserialize your values, store.js uses JSON.stringify() and JSON.parse() on each call to store.set() and store.get(), respectively.</p>\n\n<p>Some browsers do not have native support for JSON. For those browsers you should include <a href=\"https://github.com/marcuswestin/non-minified%20copy%20is%20included%20in%20this%20repo\">JSON.js</a>.</p>\n\n<h2>\n<a name=\"tests\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#tests\"></a>Tests</h2>\n\n<p>Go to test.html in your browser.</p>\n\n<p>(Note that test.html must be served over http:// or https://. This is because localStore does not work in some browsers when using the file:// protocol)</p>\n\n<h2>\n<a name=\"supported-browsers\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#supported-browsers\"></a>Supported browsers</h2>\n\n<ul><li>Tested in Firefox 2.0</li>\n<li>Tested in Firefox 3.0</li>\n<li>Tested in Firefox 3.5</li>\n<li>Tested in Firefox 3.6</li>\n<li>Tested in Firefox 4.0</li>\n<li>Tested in Chrome 5</li>\n<li>Tested in Chrome 6</li>\n<li>Tested in Chrome 7</li>\n<li>Tested in Chrome 8</li>\n<li>Tested in Chrome 10</li>\n<li>Tested in Chrome 11</li>\n<li>Tested in Safari 4</li>\n<li>Tested in Safari 5</li>\n<li>Tested in IE6</li>\n<li>Tested in IE7</li>\n<li>Tested in IE8</li>\n<li>Tested in Opera 10\n\n</li>\n</ul><h2>\n<a name=\"storage-limits\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#storage-limits\"></a>Storage limits</h2>\n\n<h2>\n<a name=\"supported-but-broken-please-help-fix\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#supported-but-broken-please-help-fix\"></a>Supported but broken (please help fix)</h2>\n\n<h2>\n<a name=\"unsupported-browsers\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#unsupported-browsers\"></a>Unsupported browsers</h2>\n\n<ul><li>Firefox 1.0: no means (beside cookies and flash)</li>\n<li>Safari 2: no means (beside cookies and flash)</li>\n<li>Safari 3: no synchronous api (has asynch sqlite api, but store.js is synch)</li>\n<li>Opera 9: don't know if there is synchronous api for storing data locally</li>\n<li>Firefox 1.5: don't know if there is synchronous api for storing data locally</li>\n</ul><h2>\n<a name=\"forks\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#forks\"></a>Forks</h2>\n\n<h2>\n<a name=\"todo\" class=\"anchor\" href=\"https://github.com/marcuswestin/store.js#todo\"></a>TODO</h2>\n\n<ul><li>What are the storage capacities/restrictions per browser?</li>\n<li>I believe underlying APIs can throw under certain conditions. Where do we need try/catch?</li>\n<li>Test different versions of Opera 10.X explicitly</li>\n</ul></article></div>"
    }, {
        "title": "gernest/utron",
        "url": "https://github.com/gernest/utron",
        "excerpt": "utron",
        "date_saved": "Thu Jul 28 20:10:34 EDT 2016",
        "html_file": "gernestutron.html",
        "png_file": "gernestutron.png",
        "md_file": "gernestutron.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-utron---\" class=\"anchor\" href=\"https://github.com/gernest/utron#utron---\"></a>utron <a href=\"https://godoc.org/github.com/gernest/utron\"><img src=\"https://camo.githubusercontent.com/9c6a9b96aaba7959296a14d5b58d002e3b703571/68747470733a2f2f676f646f632e6f72672f6769746875622e636f6d2f6765726e6573742f7574726f6e3f7374617475732e737667\" alt=\"GoDoc\"></a> <a href=\"https://coveralls.io/github/gernest/utron?branch=master\"><img src=\"https://camo.githubusercontent.com/b4813fb384cdb06f11d790b0b41e4c097fae7b08/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6765726e6573742f7574726f6e2f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562\" alt=\"Coverage Status\"></a> <a href=\"https://travis-ci.org/gernest/utron\"><img src=\"https://camo.githubusercontent.com/68e8ea3728ce8498271acbbc1bc1b5e93aec1b0a/68747470733a2f2f7472617669732d63692e6f72672f6765726e6573742f7574726f6e2e737667\" alt=\"Build Status\"></a></h2>\n\n<p><code>utron</code> is a lightweight MVC framework in Go(Golang) for building fast, scallable and robust database driven web applications.</p>\n\n<h2><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/gernest/utron#features\"></a>Features</h2>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"> postgesql ,mysql and foundation database support</li>\n<li class=\"task-list-item\"> modular (you can choose which component to use)</li>\n<li class=\"task-list-item\"> middlewares support. All alice compatible Middlewares works out of the box</li>\n<li class=\"task-list-item\"> gopher spirit (write golang, use all the golang libraries you like)</li>\n<li class=\"task-list-item\"> lightweight. only MVC nothing more</li>\n<li class=\"task-list-item\"> multiple configuration files support( currently json,yaml and toml)</li>\n</ul>\n\n<h2><a id=\"user-content-overview\" class=\"anchor\" href=\"https://github.com/gernest/utron#overview\"></a>Overview</h2>\n\n<p><code>utron</code> is a lightweight MVC framework. It is based on the premise of simplisity, relevance and elegancy.</p>\n\n<ul>\n<li><p>simplisity. The design is simple, easy to understand and less layers from the standard library. It is in the spirit of the project that, users should understand the whole framework in a single day.</p></li>\n<li><p>relevance. <code>utron</code> doesn;t assume anything. We focus on things that matter, this way, we are able to achieve good maintanance and keeping the system well organized, well planned and sweet like.</p></li>\n<li><p>elegancy. <code>utron</code> uses the best practises used in golang. We are not afraid of heights, its just we need a parachute in our backpack. The source code is heavily documented, any trick should be well explained and well tested.</p></li>\n</ul>\n\n<h2><a id=\"user-content-motivation\" class=\"anchor\" href=\"https://github.com/gernest/utron#motivation\"></a>Motivation</h2>\n\n<p>After ywo years of playing with golang. I have looked on some of my projects and asked myself, how golang is that?</p>\n\n<p>So, <code>utron</code> is my reimagination of lightweight MVC, that maintains the golang spirit. and works seamlessly with the current libraries.</p>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/gernest/utron#installation\"></a>Installation</h2>\n\n<pre><code>$ go get github.com/gernest/utron\n</code></pre>\n\n<h2><a id=\"user-content-the-mvc\" class=\"anchor\" href=\"https://github.com/gernest/utron#the-mvc\"></a>The MVC</h2>\n\n<p>There is nothing revolutionary about MVC that <code>utron</code> brings on the table.</p>\n\n<ul>\n<li><p>M is for models, it is the data structures that helps in data persistance, utron uses an already established Object Relational Mapper for golang <a href=\"https://github.com/jinzhu/gorm\">gorm</a>. So if you are familiar with gorm then you good on the M part.</p></li>\n<li><p>V is for Views. Views are templates, that renders the final output. <code>utron</code> uses golang standard templates. so you don't have to learn anything new, just the text/template package to master views.</p></li>\n<li><p>C is for controllers.This is where the aplication logic stands, in order to achieve modularity, there are some facts that utron enforces to controllers. This subject is explained in more details below.</p></li>\n</ul>\n\n<p>With the power of composition and inheriance, <code>utron</code> achieves a beautiful MVC workflow. I recomend you read the source code, it is well documented so as to demistify any magical unicorns.</p>\n\n<p>We will create a TODO List application in <code>utron</code> to explore all components that makes <code>utron</code> MVC tick the source code of the final application is included in this repository and can be found here <a href=\"https://github.com/gernest/utron/blob/master/fixtures/todo\">utron todoMVC</a></p>\n\n<h2><a id=\"user-content-todo-list-application-with-utron\" class=\"anchor\" href=\"https://github.com/gernest/utron#todo-list-application-with-utron\"></a>TODO list application with <code>utron</code></h2>\n\n<h2><a id=\"user-content-project-structure\" class=\"anchor\" href=\"https://github.com/gernest/utron#project-structure\"></a>Project structure</h2>\n\n<p>This is the structure of the <code>todo</code> list application that will showcase how you can build web apps with <code>utron</code>.</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>todo\n&#x251C;&#x2500;&#x2500; config\n&#x2502; &#x251C;&#x2500;&#x2500; app.json\n&#x2502; &#x251C;&#x2500;&#x2500; app.toml\n&#x2502; &#x2514;&#x2500;&#x2500; app.yml\n&#x251C;&#x2500;&#x2500; controllers\n&#x2502; &#x2514;&#x2500;&#x2500; todo.go\n&#x251C;&#x2500;&#x2500; models\n&#x2502; &#x2514;&#x2500;&#x2500; todo.go\n&#x251C;&#x2500;&#x2500; static\n&#x2502; &#x2514;&#x2500;&#x2500; todo.css\n&#x251C;&#x2500;&#x2500; views\n&#x2502; &#x251C;&#x2500;&#x2500; error.html\n&#x2502; &#x2514;&#x2500;&#x2500; index.html\n&#x2514;&#x2500;&#x2500; main.go\n\n5 directories, 9 files</pre></div>\n\n<p>I have included three configuration files for clarity, but you are better off with just one.</p>\n\n<h2><a id=\"user-content-configurations\" class=\"anchor\" href=\"https://github.com/gernest/utron#configurations\"></a>Configurations</h2>\n\n<p>utron support yaml,json and toml configurations. In our todo app, we put the configuration files in the config directory. I have included all three formats for clarity, you can be just fine with either one of them.</p>\n\n<p><code>utron</code> searches for a file named <code>app.json</code>, or <code>app.yml</code> or <code>app.toml</code> in the config directory. The first to be found is the one to be used.</p>\n\n<p>This is the content of <code>config/app.json</code> file</p>\n\n<div class=\"highlight highlight-source-json\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>app_name<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>utron web app<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>base_url<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://localhost:8090<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>port<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">8090</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>verbose<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">false</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>static_dir<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>static<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>view_dir<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>views<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>database<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>postgres<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>database_conn<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>postgres://postgres:postgres@localhost/todo<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<table><thead>\n<tr>\n<th>setting</th>\n<th>details</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>app_name</td>\n<td>application name</td>\n</tr>\n<tr>\n<td>base_url</td>\n<td>the base url to use in your views</td>\n</tr>\n<tr>\n<td>port</td>\n<td>port number where the server will be listening to</td>\n</tr>\n<tr>\n<td>verbose</td>\n<td>true value will make every state information logged to stdout</td>\n</tr>\n<tr>\n<td>static_dir</td>\n<td>directory to serve static files e.g images,js or css</td>\n</tr>\n<tr>\n<td>view_dir</td>\n<td>directory to look for views</td>\n</tr>\n<tr>\n<td>database</td>\n<td>the name of the database you use, e.g postgres,mysql,foundation</td>\n</tr>\n<tr>\n<td>database_conn</td>\n<td>connection string to your database</td>\n</tr>\n</tbody></table>\n\n<p>If you havent specified explicity the location of the configuration directory, then it defaults to the directory named <code>config</code> in the current working directory.</p>\n\n<h2><a id=\"user-content-models\" class=\"anchor\" href=\"https://github.com/gernest/utron#models\"></a>Models</h2>\n\n<p><code>utron</code> uses <a href=\"https://github.com/jinzhu/gorm\">gorm</a> library as its Object Relational Mapper. So, you wont need to learn anything fancy. In our todo app, we need to define <code>Todo</code> model that will be used to store our todo details.</p>\n\n<p>In the file <code>models/todo.go</code> we define our todo model like this</p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">package</span> models\n\n<span class=\"pl-k\">import</span> (\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>time<span class=\"pl-pds\">\"</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron<span class=\"pl-pds\">\"</span></span>\n)\n\n<span class=\"pl-k\">type</span> <span class=\"pl-v\">Todo</span> <span class=\"pl-k\">struct</span> {\n <span class=\"pl-v\">ID</span> <span class=\"pl-k\">int</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>schema: \"-\"<span class=\"pl-pds\">`</span></span>\n <span class=\"pl-v\">Body</span> <span class=\"pl-k\">string</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>schema:\"body\"<span class=\"pl-pds\">`</span></span>\n <span class=\"pl-v\">CreatedAt</span> time.<span class=\"pl-smi\">Time</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>schema:\"-\"<span class=\"pl-pds\">`</span></span>\n <span class=\"pl-v\">UpdatedAt</span> time.<span class=\"pl-smi\">Time</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>schema:\"-\"<span class=\"pl-pds\">`</span></span>\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">init</span>() {\n utron.<span class=\"pl-c1\">RegisterModels</span>(&amp;Todo{})\n}</pre></div>\n\n<p>Notice that, we need to register our model, by calling <code>utron.RegisterModels(&amp;Todo{})</code> in the <code>init</code> function otherwise <code>utron</code> wont be aware of the model.</p>\n\n<p><code>utron</code> will automatically create the table <code>todos</code> if it doesnt exist yet.</p>\n\n<p>Dont be confused by the <code>schema</code> tag, I just added them since we will use <a href=\"https://github.com/gorilla/schema\">schema</a> package to decode form values(this has nothing to do with <code>utron</code>, you can use whatever form library you fancy)</p>\n\n<h2><a id=\"user-content-controllers\" class=\"anchor\" href=\"https://github.com/gernest/utron#controllers\"></a>Controllers</h2>\n\n<p><code>utron</code> controllers are structs that implement <code>Controller</code> interface. To help make <code>utron</code> usable, <code>utron</code> provides <code>BaseController</code> which implements <code>Cntroller</code> interface and offers additional conveniences to help in composing reusable code.</p>\n\n<p>You get all the benefits of <code>BaseController</code> by embeding it in your struct. our <code>TODO</code> Controller is in the <code>controller/todo.go</code></p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">package</span> controllers\n\n<span class=\"pl-k\">import</span> (\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>net/http<span class=\"pl-pds\">\"</span></span>\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>strconv<span class=\"pl-pds\">\"</span></span>\n\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron<span class=\"pl-pds\">\"</span></span>\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron/fixtures/todo/models<span class=\"pl-pds\">\"</span></span>\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gorilla/schema<span class=\"pl-pds\">\"</span></span>\n)\n\n<span class=\"pl-k\">var</span> <span class=\"pl-smi\">decoder</span> = schema.<span class=\"pl-c1\">NewDecoder</span>()\n\n<span class=\"pl-k\">type</span> <span class=\"pl-v\">TODO</span> <span class=\"pl-k\">struct</span> {\n *utron.<span class=\"pl-smi\">BaseController</span>\n <span class=\"pl-v\">Routes</span> []<span class=\"pl-k\">string</span>\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">(<span class=\"pl-v\">t</span> *<span class=\"pl-v\">TODO</span>) <span class=\"pl-en\">Home</span></span>() {\n <span class=\"pl-smi\">todos</span> <span class=\"pl-k\">:=</span> []*models.<span class=\"pl-smi\">Todo</span>{}\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">DB</span>.<span class=\"pl-c1\">Order</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>created_at desc<span class=\"pl-pds\">\"</span></span>).<span class=\"pl-c1\">Find</span>(&amp;todos)\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Data</span>[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>List<span class=\"pl-pds\">\"</span></span>] = todos\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Template</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>index<span class=\"pl-pds\">\"</span></span>\n t.<span class=\"pl-c1\">HTML</span>(http.<span class=\"pl-smi\">StatusOK</span>)\n}\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">(<span class=\"pl-v\">t</span> *<span class=\"pl-v\">TODO</span>) <span class=\"pl-en\">Create</span></span>() {\n <span class=\"pl-smi\">todo</span> <span class=\"pl-k\">:=</span> &amp;models.<span class=\"pl-smi\">Todo</span>{}\n <span class=\"pl-smi\">req</span> <span class=\"pl-k\">:=</span> t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-c1\">Request</span>()\n req.<span class=\"pl-c1\">ParseForm</span>()\n <span class=\"pl-k\">if</span> <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> decoder.<span class=\"pl-c1\">Decode</span>(todo, req.<span class=\"pl-smi\">PostForm</span>); err != <span class=\"pl-c1\">nil</span> {\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Data</span>[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Message<span class=\"pl-pds\">\"</span></span>] = err.<span class=\"pl-c1\">Error</span>()\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Template</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>\n t.<span class=\"pl-c1\">HTML</span>(http.<span class=\"pl-smi\">StatusInternalServerError</span>)\n <span class=\"pl-k\">return</span>\n }\n\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">DB</span>.<span class=\"pl-c1\">Create</span>(todo)\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-c1\">Redirect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/<span class=\"pl-pds\">\"</span></span>, http.<span class=\"pl-smi\">StatusFound</span>)\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">(<span class=\"pl-v\">t</span> *<span class=\"pl-v\">TODO</span>) <span class=\"pl-en\">Delete</span></span>() {\n <span class=\"pl-smi\">todoID</span> <span class=\"pl-k\">:=</span> t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Params</span>[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>]\n <span class=\"pl-smi\">ID</span>, <span class=\"pl-smi\">err</span> <span class=\"pl-k\">:=</span> strconv.<span class=\"pl-c1\">Atoi</span>(todoID)\n <span class=\"pl-k\">if</span> err != <span class=\"pl-c1\">nil</span> {\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Data</span>[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Message<span class=\"pl-pds\">\"</span></span>] = err.<span class=\"pl-c1\">Error</span>()\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">Template</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>\n t.<span class=\"pl-c1\">HTML</span>(http.<span class=\"pl-smi\">StatusInternalServerError</span>)\n <span class=\"pl-k\">return</span>\n }\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-smi\">DB</span>.<span class=\"pl-c1\">Delete</span>(&amp;models.<span class=\"pl-smi\">Todo</span>{ID: ID})\n t.<span class=\"pl-smi\">Ctx</span>.<span class=\"pl-c1\">Redirect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/<span class=\"pl-pds\">\"</span></span>, http.<span class=\"pl-smi\">StatusFound</span>)\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">NewTDDO</span>() *<span class=\"pl-v\">TODO</span> {\n <span class=\"pl-k\">return</span> &amp;TODO{\n Routes: []<span class=\"pl-k\">string</span>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>get;/;Home<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>post;/create;Create<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>get;/delete/{id};Delete<span class=\"pl-pds\">\"</span></span>,\n },\n }\n}\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">init</span>() {\n utron.<span class=\"pl-c1\">RegisterController</span>(<span class=\"pl-c1\">NewTDDO</span>())\n}</pre></div>\n\n<p>Note we regisster our controller by calling <code>utron.RegisterController(NewTDDO())</code> in the <code>init</code> function\nso as to make <code>utron</code> aware of our controller. See Routing section below for more explanation of what the controller is doing.</p>\n\n<h2><a id=\"user-content-routing\" class=\"anchor\" href=\"https://github.com/gernest/utron#routing\"></a>Routing</h2>\n\n<p>By regisstering a controller, there are two ways of assigning routes.</p>\n\n<h3><a id=\"user-content-case-1--vanilla-routing\" class=\"anchor\" href=\"https://github.com/gernest/utron#case-1--vanilla-routing\"></a>case 1- vanilla routing</h3>\n\n<p>By registering a Controller, routes are autogenerated for the controller methods. The format is <code>/:controler/:method</code> where <code>:controller</code> is the lowercase name of the Controller, and <code>:method</code> is its method in lowercase</p>\n\n<p>so <code>(*TODO)Hello()</code> will map to <code>/todo/hello</code></p>\n\n<h3><a id=\"user-content-case-2--specifying-routes-field\" class=\"anchor\" href=\"https://github.com/gernest/utron#case-2--specifying-routes-field\"></a>case 2- Specifying Routes field</h3>\n\n<p>The user controller can define a field named <code>Routes</code> it should be of type <code>[]string</code>, then you can assign routes by appending route string to the Routes field.</p>\n\n<p>This is a better explation from comments on the <code>router.go</code> file.</p>\n\n<div class=\"highlight highlight-source-go\"><pre> <span class=\"pl-c\">// if there is any field named Routes, and it is of signature []string</span>\n <span class=\"pl-c\">// then the field's value is used to overide the patterns defined earlier.</span>\n <span class=\"pl-c\">//</span>\n <span class=\"pl-c\">// It is not necessary for every user implementation to define method named Routes</span>\n <span class=\"pl-c\">// If we cant find it then we just ignore its use( fallback to defaults).</span>\n <span class=\"pl-c\">//</span>\n <span class=\"pl-c\">// Route strings, are of the form \"httpMethods;path;method\"</span>\n <span class=\"pl-c\">// where httMethod: is a coma separated http method strings</span>\n <span class=\"pl-c\">// e.g GET,POST,PUT.</span>\n <span class=\"pl-c\">// The case does not matter, you can use lower case or upper case charaters</span>\n <span class=\"pl-c\">// or even mixed case, that is get,GET,gET and GeT will all be treated as GET</span>\n <span class=\"pl-c\">//</span>\n <span class=\"pl-c\">// path: Is a url path or pattern, utron uses gorilla mux package. So, everything you can do</span>\n <span class=\"pl-c\">// with gorilla mux url path then you can do here.</span>\n <span class=\"pl-c\">// e.g /hello/{world}</span>\n <span class=\"pl-c\">// Don't worry about the params, they will be accessibe via .Ctx.Params field in your</span>\n <span class=\"pl-c\">// controller.</span>\n <span class=\"pl-c\">//</span>\n <span class=\"pl-c\">// method: The name of the user Controller method to execute for this route.</span></pre></div>\n\n<p>So, that explains much the following lines in our <code>todo</code> app in <code>controllers/todo.go</code></p>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">func</span> <span class=\"pl-en\">NewTDDO</span>() *<span class=\"pl-v\">TODO</span> {\n <span class=\"pl-k\">return</span> &amp;TODO{\n Routes: []<span class=\"pl-k\">string</span>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>get;/;Home<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>post;/create;Create<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>get;/delete/{id};Delete<span class=\"pl-pds\">\"</span></span>,\n },\n }\n}</pre></div>\n\n<h2><a id=\"user-content-views\" class=\"anchor\" href=\"https://github.com/gernest/utron#views\"></a>Views</h2>\n\n<p><code>utron</code> views are golang templates. This is the content of <code>views/index.html</code>`</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;!DOCTYPE html&gt;\n&lt;<span class=\"pl-ent\">html</span>&gt;\n&lt;<span class=\"pl-ent\">head</span> <span class=\"pl-e\">lang</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>en<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">charset</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>UTF-8<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">title</span>&gt;Utron Todo MVC&lt;/<span class=\"pl-ent\">title</span>&gt;\n &lt;<span class=\"pl-ent\">link</span> <span class=\"pl-e\">href</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/static/todo.css<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">rel</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stylesheet<span class=\"pl-pds\">\"</span></span>&gt;\n&lt;/<span class=\"pl-ent\">head</span>&gt;\n&lt;<span class=\"pl-ent\">body</span>&gt;\n&lt;<span class=\"pl-ent\">form</span> <span class=\"pl-e\">method</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>post<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">action</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/create<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">table</span>&gt;\n &lt;<span class=\"pl-ent\">tr</span>&gt;\n &lt;<span class=\"pl-ent\">th</span>&gt;\n Create A TODO\n &lt;/<span class=\"pl-ent\">th</span>&gt;\n &lt;/<span class=\"pl-ent\">tr</span>&gt;\n &lt;<span class=\"pl-ent\">tr</span>&gt;\n &lt;<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>body<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;/<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">button</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>submit<span class=\"pl-pds\">\"</span></span>&gt;create&lt;/<span class=\"pl-ent\">button</span>&gt;\n &lt;/<span class=\"pl-ent\">td</span>&gt;\n &lt;/<span class=\"pl-ent\">tr</span>&gt;\n &lt;/<span class=\"pl-ent\">table</span>&gt;\n&lt;/<span class=\"pl-ent\">form</span>&gt;\n&lt;<span class=\"pl-ent\">table</span>&gt;\n &lt;<span class=\"pl-ent\">tr</span>&gt;\n &lt;<span class=\"pl-ent\">th</span>&gt;\n My TODO LIST\n &lt;/<span class=\"pl-ent\">th</span>&gt;\n &lt;/<span class=\"pl-ent\">tr</span>&gt;\n {{range $k,$v:=.List}}\n &lt;<span class=\"pl-ent\">tr</span>&gt;\n &lt;<span class=\"pl-ent\">td</span>&gt;\n {{$v.ID}}\n &lt;/<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">td</span>&gt;\n {{$v.Body}}\n &lt;/<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">td</span>&gt;\n &lt;<span class=\"pl-ent\">a</span> <span class=\"pl-e\">href</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/delete/{{$v.ID}}<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">button</span>&gt;Delete&lt;/<span class=\"pl-ent\">button</span>&gt;\n &lt;/<span class=\"pl-ent\">a</span>&gt;\n &lt;/<span class=\"pl-ent\">td</span>&gt;\n &lt;/<span class=\"pl-ent\">tr</span>&gt;\n {{end}}\n&lt;/<span class=\"pl-ent\">table</span>&gt;\n&lt;/<span class=\"pl-ent\">body</span>&gt;\n&lt;/<span class=\"pl-ent\">html</span>&gt;</pre></div>\n\n<p>Note that we have access to <code>.List</code> in our view. This is set in the controller, additionally you can access the application configuration via <code>.Config</code> context.</p>\n\n<p>Above is a simple golang template to render our <code>todo</code> list application.</p>\n\n<h2><a id=\"user-content-the-maingo-file\" class=\"anchor\" href=\"https://github.com/gernest/utron#the-maingo-file\"></a>The main.go file</h2>\n\n<div class=\"highlight highlight-source-go\"><pre><span class=\"pl-k\">package</span> main\n\n<span class=\"pl-k\">import</span> (\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron<span class=\"pl-pds\">\"</span></span>\n _ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron/fixtures/todo/controllers<span class=\"pl-pds\">\"</span></span>\n _ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github.com/gernest/utron/fixtures/todo/models<span class=\"pl-pds\">\"</span></span>\n)\n\n<span class=\"pl-k\">func</span> <span class=\"pl-en\">main</span>() {\n utron.<span class=\"pl-c1\">Run</span>()\n}</pre></div>\n\n<h2><a id=\"user-content-running-the-todo-app\" class=\"anchor\" href=\"https://github.com/gernest/utron#running-the-todo-app\"></a>Running the TODO app</h2>\n\n<p>In case you want to run the app we just created, it is included in this repository in <a href=\"https://github.com/gernest/utron/blob/master/fixtures/todo\">fixtures/todo</a></p>\n\n<ul>\n<li>Prerequistite\n\n<ul>\n<li>a working database connection(postresql,mysql or foundation)</li>\n<li>golang toolchain installed( and the <code>go</code> command is in your system PATH)</li>\n</ul></li>\n</ul>\n\n<p>step 1 Install utron which will also include the todo app</p>\n\n<pre><code>$ go get github.com/gernest/utron\n</code></pre>\n\n<p>step 2 cd into the todo app directory</p>\n\n<pre><code>$ cd $GOPATH/src/github.com/gernest/utron/fixtures/todo\n</code></pre>\n\n<p>step 3 install dependency</p>\n\n<pre><code>$ go get github.com/gorilla/schema\n</code></pre>\n\n<p>step 4 edit <code>config/app.json</code> by setting database and database_conn to your values</p>\n\n<p>step 5 run the app</p>\n\n<pre><code>go run main.go\n</code></pre>\n\n<p>If you see something like this</p>\n\n<pre><code>$ 2015/09/15 18:27:24 &gt;&gt;INFO&gt;&gt; staring server at http://localhost:8090\n</code></pre>\n\n<p>Then everything is okay, open <code>http://localhost:8090</code> on your browser to start writing your todos.\nIf you experience anything different better open an issue.</p>\n\n<h2><a id=\"user-content-screenshot\" class=\"anchor\" href=\"https://github.com/gernest/utron#screenshot\"></a>screenshot</h2>\n\n<p><a href=\"https://github.com/gernest/utron/blob/master/fixtures/todo.png\" target=\"_blank\"><img src=\"https://github.com/gernest/utron/raw/master/fixtures/todo.png\" alt=\"todo app with utron\"></a></p>\n\n<h2><a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/gernest/utron#contributing\"></a>Contributing</h2>\n\n<p>Start with clicking the star button to make the author and his neighbors happy. Then fork it and submit a pull request for whatever change you want to be added to this project.</p>\n\n<p>Or Open an issue for any questions.</p>\n\n<h2><a id=\"user-content-author\" class=\"anchor\" href=\"https://github.com/gernest/utron#author\"></a>Author</h2>\n\n<p>Geofrey Ernest <a href=\"mailto:geofreyernest@live.com\">geofreyernest@live.com</a></p>\n\n<p>twitter : <a href=\"https://twitter.com/gernesti\">@gernesti</a></p>\n\n<p>Facebook : <a href=\"https://www.facebook.com/geofrey.ernest.35\">Geofrey Ernest</a></p>\n\n<h2><a id=\"user-content-are-you-hiring\" class=\"anchor\" href=\"https://github.com/gernest/utron#are-you-hiring\"></a>Are you hiring?</h2>\n\n<p>I have 2 years experience working with golang and 5 years doing web developement. I don't have any juicy CV because I'm in Tanzania, and almost everyone i graduated with has no job, never had one and in doubts if he/she will ever land one(unless of course you are lucky which I'm not)</p>\n\n<p>And if you are a recruiter, any tips on where I'm doing it wrong will be highly appreciated, because I have my full trust that code will get me out of this abysmal poverty.</p>\n\n<h2><a id=\"user-content-aknowledgement\" class=\"anchor\" href=\"https://github.com/gernest/utron#aknowledgement\"></a>Aknowledgement</h2>\n\n<p>These are amzaing projects that made <code>utron</code> possible</p>\n\n<ul>\n<li><a href=\"https://github.com/gorilla/mux\">goriila mux</a></li>\n<li><a href=\"https://github.com/gernest/ita\">ita</a></li>\n<li><a href=\"https://github.com/jinzhu/gorm\">gorm</a></li>\n<li><a href=\"https://github.com/justinas/alice\">alice</a></li>\n<li><a href=\"http://golang.org\">golang</a></li>\n</ul>\n\n<h2><a id=\"user-content-roadmap\" class=\"anchor\" href=\"https://github.com/gernest/utron#roadmap\"></a>Roadmap</h2>\n\n<ul>\n<li> Fix a lot of typos( didnt tell you thet English is my third language).</li>\n</ul>\n\n<h2><a id=\"user-content-licence\" class=\"anchor\" href=\"https://github.com/gernest/utron#licence\"></a>Licence</h2>\n\n<p>This project is released under MIT licence see <a href=\"https://github.com/gernest/utron/blob/master/LICENCE\">LICENCE</a> for more details.</p>\n</article>\n </div>"
    }, {
        "title": "Flask-Potion",
        "url": "http://potion.readthedocs.io/en/latest/",
        "excerpt": "Flask-Potion is a powerful Flask extension for building RESTful JSON APIs. Potion features include validation, model resources and routes, relations, object permissions, filtering, sorting,&hellip;",
        "date_saved": "Thu Jul 28 20:10:37 EDT 2016",
        "html_file": "flaskpotion.html",
        "png_file": "flaskpotion.png",
        "md_file": "flaskpotion.md",
        "content": "<div><div class=\"body\">\n \n <img alt=\"Flask-Potion\" class=\"align-center\" src=\"http://potion.readthedocs.io/en/latest/_images/Logo.png\">\n<div class=\"section\" id=\"flask-potion\">\n\n<p><strong>Flask-Potion</strong> is a powerful Flask extension for building RESTful JSON APIs.\nPotion features include validation, model resources and routes, relations, object permissions, filtering, sorting,\npagination, signals, and automatic API schema generation.</p>\n<p>Potion is ships with backends for SQLAlchemy, peewee and MongoEngine models.\nIt is possible to add backends for other data stores, or even to use a subset of Potion without any data store at all.</p>\n\n</div>\n\n\n </div>\n </div>"
    }, {
        "title": "Containers 101",
        "url": "http://www.developer.com/design/containers-101.html",
        "excerpt": "About six months ago, I started to notice that there is a lot of hubbub going around in the tech-o-sphere about containers as a new way to approach virtual computing. I like exploring new technology,&hellip;",
        "date_saved": "Thu Jul 28 20:10:39 EDT 2016",
        "html_file": "containers_101.html",
        "png_file": "containers_101.png",
        "md_file": "containers_101.md",
        "content": "<div><div class=\"article\">\n\t\t\t\t\t\n\t\t\t\t\t \n\t\t\t\t\t\n\t\t\t\t\t<p>About six months ago, I started to notice that there is a lot of hubbub going around in the tech-o-sphere about containers as a new way to approach virtual computing. I like exploring new technology, so I've spent the last few months getting the ins and outs of them. Here's what I can tell you: Containers are an important technology that is not going away anytime soon. There are a lot of players in the space, and new ones enter all the time. If you are a developer in the modern world, understanding and using containers are necessary skills to have in your professional life.</p>\n<p>So, in the spirit of moving a good idea along, I am going to share with you the basics of container technology by answering the following questions:</p>\n<ul>\n<li>What are containers?</li>\n<li>What's so special about containers?</li>\n<li>How do I use them?</li>\n</ul>\n<p>My desire in answering these question is to give you the basic knowledge and understanding that you need to start using containers when making and deploying code.</p>\n\n\n\n\n<p>Let's get started.</p>\n<h2>What Are Containers?</h2>\n\n<div class=\"toolbox noBullets colRight\">\n\t<ul>\n\t\t\n\t\t\t\t<li class=\"email\"><a rel=\"nofollow\" href=\"http://www.developer.com/e-mail/design/containers-101.html\">Email Article</a></li>\n\t\t\t\t\t\t<li class=\"print\"><a rel=\"nofollow\" href=\"http://www.developer.com/print/design/containers-101.html\">Print Article</a></li>\n\t\t\t\t\n\t</ul>\n</div>\n\t\t\n<p>Container technology is a way to create a virtual environment by using an isolated process on a host computer. The isolated process, the container, has its own set of file system resources and subordinate processes. And, the container does not intrude on the host system, nor does the host system intrude on the container.</p>\n<p>A container runs on the kernel of the host computer (see Figure 1). A component called, a <em>container manager</em>, makes it so that the container can run on the host. (You'll learn more about container managers later in this article.)</p>\n<p><img alt=\"Contain1\" src=\"http://www.developer.com/imagesvr_ce/2432/Contain1.jpg\" width=\"296\"><br> <strong>Figure 1:</strong> A container provides the ability to run an isolated process that has its own resources in a shared environment</p>\n<h2>What's So Special About Containers?</h2>\n<p>To understand what makes containers so special, we need to review the concept of the virtual machine. A <em>virtual machine</em> is a piece of software that emulates a computer. The benefit of a virtual machine is that you get a lot more efficiency out of your hardware usage. You can have a lot of virtual machines running on a single piece of hardware (see Figure 2).</p>\n\n<p><img alt=\"Contain2\" src=\"http://www.developer.com/imagesvr_ce/9209/Contain2.gif\" width=\"600\"><br> <strong>Figure 2:</strong> When you use virtual machines, resource allocation is fixed for each machine.</p>\n<p>However, there is a drawback to virtual machine technology. Take a look at Figure 2. You'll notice that in the illustration there are three virtual machines running on a computer that has 48 GB of RAM, a 12 core CPU, and 3 terabytes of disk storage. Each virtual machine is allocated 16 GB of RAM, 4 cores, and a terabyte of storage. So far, so good. But, here is the drawback. Regardless of whether any one machine is using all of it resources or a fraction of its resources, the hardware allocation is static. In other words, if one of the virtual machines never uses more than 1 GB of RAM, and stores only 100 MB of the file system, that machine still has dibs on 4 GB of RAM and a full terabyte of storage, <strong><em>despite the fact that the virtual machine is using only 25% of its RAM and 1% of it storage</em></strong>. This is not so good.</p>\n<p>A container, on the other hand, does not tie up resources. When you make a container, you do not assign it RAM, processors, or storage. Rather, the container uses the RAM, CPU, and storage on the host in a shared manner. You can load as many containers on a physical machine as the machine can handle. A container will take only what it needs at the the time of need. Again, there is no fixed allocation of resources.</p>\n<p>And, there's more. Typically, hardware that runs containers uses a light-weight version of Linux as the operating system. This light-weight host OS provides kernel level service. <a href=\"https://coreos.com/\" target=\"new\">CoreOS</a> is one of the popular host operating systems. There are others, such as Ubuntu <a href=\"https://developer.ubuntu.com/en/snappy/start/\" target=\"new\">Snappy</a> and Red Hat <a href=\"https://www.redhat.com/en/about/blog/os-behind-curtain\" target=\"new\">Atomic</a>.</p>\n<p>When you create a container, you can add in an operating system of your choosing; say, you want to use Ubuntu. The Ubuntu operating system that's in the container will leverage the host kernel, but have packages that are part of Ubuntu. For example, whereas the kernel knows nothing about package management, Ubuntu will provide <a href=\"https://help.ubuntu.com/12.04/serverguide/apt-get.html\" target=\"new\">apt-get</a>. And, you can configure the container to use a special Web server, script interpreter, and so forth.... The result is that you get the environment configuration that a virtual machine provides without tying up the resources on the host system with static allocation. Also, the container will have an IP address that is visible within the host. Thus, the host has direct access to the container via its IP address (see Figure 3).</p>\n<p><img alt=\"Contain3\" src=\"http://www.developer.com/imagesvr_ce/775/Contain3.jpg\" width=\"473\"><br> <strong>Figure 3:</strong> A container shares host resources and leverage the host's operating system for kernel level services.</p>\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" class=\"a\" width=\"720\">\n<tbody>\n<tr>\n<td valign=\"top\" width=\"720\">\n<p><strong>What About Windows?</strong></p>\n<p>A constraint of containers is that you cannot mix and match operating systems. In the world of virtual machines, it is quite usual to have a Windows host support a virtual machine running Linux, or an OSX system running a Windows VM. Not so with containers because, by definition, a container uses the host kernel. Thus, you need to match up operating systems. Linux containers run on Linux hosts. You can run Windows containers on Windows Server as of <a href=\"https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview\" target=\"new\">Windows Server 2016</a>. Also, there is a <a href=\"https://docs.docker.com/installation/windows/\" target=\"new\">Windows version</a> of the container manager, Docker.</p>\n<p>If you do find yourself in a place where you need to run Linux containers on Windows, you can always start up a Linux virtual machine under Windows and use the Linux VM as your host system.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<h2>How Do I Use Them?</h2>\n<p>There are three concepts that you need to understand in order to work with containers. The first is the notion of the container manager. The second is understanding container layer architecture. The third is container registries.</p>\n<h3>Enter the Container Manager</h3>\n<p>A container manager is a tool that you use to create a container, deploy it, and get a container running on a host. The most popular container managers in play as of this writing are <a href=\"https://www.docker.com/\" target=\"new\">Docker</a> and <a href=\"https://coreos.com/blog/rocket/\" target=\"new\">Rocket</a>.</p>\n<p>A container manager works this way: Say you've written a small Hello World Web application in PHP. You'll create a container configuration file in which you'll describe the PHP files you application requires. Also in the configuration file, you'll define the layers that your application requires. In this case, let's say your application needs the PHP 5.6 interpreter and you want to run under the Apache web server. You'll issue a command via the container manager to run your application. Behind the scenes, the container manager will (1) read the configuration file to determine the layers it needs to get from a registry, (2) create your container image, (3) including your apps source file, and (4) fire it up on the host machine (see Figure 4).</p>\n<p><img alt=\"Contain4\" src=\"http://www.developer.com/imagesvr_ce/9879/Contain4.jpg\" width=\"424\"><br> <strong>Figure 4:</strong> Configuration files, images, and registries are all part of the container ecosystem.</p>\n<p>Simple, huh? Yet, you are probably asking, \"hey, what's a layer, what's an image, what's registry, what's going on?\" These are good questions that deserve to be answered. So, let's answer them.</p>\n<h3>Understanding Layers and Images</h3>\n<p>A container is made up of layers. A layer is a container image. (Yes, the notion of a container made up of other container might be a bit confusing at first.) You can start with an operating system base layer. Then, you declare other other layers, say a Web server and a script runtime. Once you have your container defined, you'll create an image based on your defined container. An image is a template of your container that you can reuse on one or many hosts.</p>\n<p>Figure 5 illustrates a scenario in which the host computer is running CoreOs and using Docker as the container manager. There are three containers running on the host. One container uses Debian as the base OS layer, Apache as the web server, PHP 5.5 as the script run time, and a custom PHP application for which the container has been created. Another container is for an additional customer PHP app that uses <a href=\"http://wiki.nginx.org/Main\" target=\"new\">nginx</a> as the Web server, and PHP 5.6 as the script interpreter, all running on a RHEL base image. Finally, a third container has a JSP app running over Tomcat and Apache, on an Ubuntu base image.</p>\n<p><img alt=\"Contain5\" src=\"http://www.developer.com/imagesvr_ce/9379/Contain5.jpg\" width=\"600\"><br> <strong>Figure 5:</strong> A container image can define a special host as the base image, and then add layers for your web server, script run time, and your script files.</p>\n<p>As you can see, each container is distinct. Yet, they live side by side as isolated processes leveraging the CoreOS kernel. No hardware allocation is in place. All environment resources are shared.</p>\n<h3>Understanding Registries</h3>\n<p>Container images are stored in a registry. The concept of a registry is similar to that of a <a href=\"https://maven.apache.org/\" target=\"new\">Maven</a> repository, for those of you familiar with the Java framework. The analogous technology in the .NET world is a <a href=\"https://www.nuget.org/\" target=\"new\">NuGet</a> server.</p>\n<p>There are a number of public repositories where you can store container images. Docker has <a href=\"https://hub.docker.com/\" target=\"new\">Docker Hub</a>. There are others. Also, there is a growing number of private registry providers emerging.</p>\n<p>Using a registry is almost automagical. When you tell your container manager to run a container, it will check the configuration file to determine the layers the container requires and then check for the required layer images out on a registry, either the default registry or ones you define. The container manager will assemble the layers that your container needs from the registry and then load your container onto the host.</p>\n<p>Using a registry allows you to have a high degree reusability with your container images. Also, using container images means that you can scale your application, as you'll see in the next section.</p>\n<h2>Scaling Containers</h2>\n<p>Containers work really well in dynamic environments that need to scale up or down on demand. Unlike a virtual machine, which can take a long time to load into the host environment, a container loads quickly. Quick loading, coupled with the ubiquitous nature of a container registry, means that you can create highly available, load balanced environments fast.</p>\n<p>Please take a look at Figure 6. The diagram illustrates an application cluster environment based on containers. These days, it's quite common to have a load balancer negotiating load among many containers made from the same image. In fact, the load balancer itself can be a container. In other words, you can use a <a href=\"http://nginx.org/en/docs/http/load_balancing.html\" target=\"new\">nxginx container as the load balancer</a> that coordinates traffic among a cluster of identical application nodes.</p>\n<p><img alt=\"Contain6\" src=\"http://www.developer.com/imagesvr_ce/1115/Contain6.jpg\" width=\"574\"><br> <strong>Figure 6:</strong> You can use a load balancer container to management clusters of application containers.</p>\n<h2>Now What?</h2>\n<p>The ecosystem for containers is growing quickly. For example, there is Google's open source project, <a href=\"http://kubernetes.io/v1.0/docs/whatisk8s.html\" target=\"new\">Kubernetes</a> that provides a platform for deploying and scaling applications containers at the enterprise level, across clusters of hosts. <a href=\"https://coreos.com/etcd/docs/latest/getting-started-with-etcd.html\" target=\"new\">etcd</a>, another open source project, allows you to share key-value information between containers. Sharing key-value information is important when you need to have containers use a common data store or cache. There's <a href=\"https://coreos.com/using-coreos/clustering/\" target=\"new\">fleet</a>, which makes sure that if you are running a lot of homogenous containers over a variety of machines and one of a machine goes down, your container will be moved to another machine. This is a very power technology in large scale, computing environments where it is very important that your containers run all the time. The list of projects and products is getting very large, very fast.</p>\n<p>As I said at the beginning of this article, containers are not going away anytime soon. In fact, Microsoft, Google, IBM, Redhat, Amazon, and a lot of other major technology companies have teamed up to form the <a href=\"https://www.opencontainers.org/\" target=\"new\">Open Container Initiative</a>, which is formed under the <a href=\"http://www.linuxfoundation.org/\" target=\"new\">Linux Foundation</a>. Imagine that: Microsoft working with Linux heads. So, if the folks in Redmond are jumping on the container bandwagon full blast, it's only a matter of time before containers will be part of your world. So, if you haven't started working with containers, now is the time to start.</p>\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"article\">\n\t\t\t\t\t\t\t\t\t\t\t\tTags: \n\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Linux-1870.htm\">Linux,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Windows-2470.htm\">Windows,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Ubuntu-5320.htm\">Ubuntu,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/virtual-machine-10490.htm\">virtual machine,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/kernel-12850.htm\">kernel,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/virtual-environment-90180.htm\">virtual environment,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/containers-138200.htm\">containers,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/CoreOS-13544910.htm\">CoreOS,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Red-Hat-Atomic-Host-15263410.htm\">Red Hat Atomic Host,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Snappy-15997410.htm\">Snappy,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/Windows-Server-2016-18189710.htm\">Windows Server 2016,</a> \n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"http://www.developer.com/tags/container-manager-18812310.htm\">container manager</a> \n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t \n <br>\n <br>\n \n\t\t\t\t\t\t\t\t\t\t\n\n<a name=\"commentresponse\">\n\t\n</a>\n\n\n\n\n\n\t\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\n\t\t\t</div>"
    }, {
        "title": "A Developer\u2019s Journey into Linux Containers",
        "url": "https://deis.com/blog/2015/developer-journey-linux-containers",
        "excerpt": "I&#x2019;ll let you in on a secret: all that DevOps cloud stuff that goes into getting my applications into the world is still a bit of a mystery to me. But, over time I&#x2019;ve come to realize&hellip;",
        "date_saved": "Thu Jul 28 20:10:41 EDT 2016",
        "html_file": "a_developeru2019s_journey_into_linux_containers.html",
        "png_file": "a_developeru2019s_journey_into_linux_containers.png",
        "md_file": "a_developeru2019s_journey_into_linux_containers.md",
        "content": "<div><article>\n <p><img src=\"https://deis.com/images/blog-images/dev_journey_0.jpg\" alt=\"\" title=\"Cartoon graphic provided courtesy of TheWorldInWhichWeLive.com\"></p>\n\n<p>I&#x2019;ll let you in on a secret: all that DevOps cloud stuff that goes into getting my applications into the world is still a bit of a mystery to me. But, over time I&#x2019;ve come to realize that understanding the ins and outs of large scale machine provisioning and application deployment is important knowledge for a developer to have. It&#x2019;s akin to being a professional musician. Of course you need know how to play your instrument. But, if you don&#x2019;t understand how a recording studio works or how you fit into a symphony orchestra, you&#x2019;re going to have a hard time working in such environments. </p>\n\n<p>In the world of software development getting your code into our very big world is just as important as making it. DevOps counts and it counts a lot.</p>\n\n<p>So, in the spirit of bridging the gap between Dev and Ops I am going to present container technology to you from the ground up. Why containers? Because there is strong evidence to suggest that containers are the next step in machine abstraction: making a computer a place and no longer a thing. Understanding containers is a journey that we&#x2019;ll take together.</p>\n\n<p>In this article I am going to cover the concepts behind containerization. I am going to cover how a container differs from a virtual machine. I am going to go into the logic behind containers construction as well as how containers fit into application architecture. I&#x2019;ll discussion how lightweight versions of the Linux operating system fits into the container ecosystem. I&#x2019;ll discuss using images to create reusable containers. Lastly I&#x2019;ll cover how clusters of containers allow your applications to scale quickly.</p>\n\n<p>In later articles I&#x2019;ll show you the step by step process to containerize a sample application and how to create a host cluster for your application&#x2019;s containers. Also, I&#x2019;ll show you how to use a Deis to deploy the sample application to a VM on your local system as well as a variety of cloud providers.</p>\n\n<p>So let&#x2019;s get started.</p>\n\n<a name=\"read-more\" class=\"read-more-anchor\"></a>\n\n<h2>The Benefit of Virtual Machines</h2>\n\n<p>In order to understand how containers fit into the scheme of things you need to understand the predecessor to containers: virtual machines. </p>\n\n<p>A <a href=\"https://en.wikipedia.org/wiki/Virtual_machine\"><em>virtual machine</em></a> (VM) is a software abstraction of a computer that runs on a physical host computer. Configuring a virtual machine is akin to buying a typical computer: you define the number of CPUs you want along with desired RAM and disk storage capacity. Once the machine is configured, you load in the operating system and then any servers and applications you want the VM to support.</p>\n\n<p>Virtual machines allow you to run many simulations of a computer on a single hardware host. Here&#x2019;s what that looks like with a handy diagram:</p>\n\n<p><img src=\"https://deis.com/images/blog-images/dev_journey_1.png\" alt=\"\"></p>\n\n<p>Virtual machines bring efficiency to your hardware investment. You can buy a big, honking machine and run a lots of VMs on it. You can have a database VM sitting with a bunch of VMs with identical versions of your custom app running as a cluster. You can get a lot of scalability out of a finite hardware resources. If you find that you need more VMs and your host hardware has the capacity, you add what you need. Or, if you don&#x2019;t need a VM, you simply bring the VM off line and delete the VM image.</p>\n\n<h2>The Limitations of Virtual Machines</h2>\n\n<p>But, virtual machines <em>do</em> have limits. </p>\n\n<p>Say you create three VMs on a host as shown above. The host has 12 CPUs, 48 GB of RAM, and 3 TB of storage. Each VM is configured to have 4 CPUs, 16 GB of RAM and 1 TB of storage. So far, so good. The host has the capacity. </p>\n\n<p>But there is a drawback. All the resources allocated to a particular machine are dedicated, no matter what. Each machine has been allocated 16 GB of RAM. However, if the first VM never uses more than 1 GB of its RAM allocation, the remaining 15 GB just sit there unused. If the third VM uses only 100 GB of its 1 TB storage allocation, the remaining 900 GB is wasted space. </p>\n\n<p>There is no leveling of resources. Each VM owns what it is given. So, in a way we&#x2019;re back to that time before virtual machines when we were paying a lot of good money for unused resources.</p>\n\n<p>There is <em>another</em> drawback to VMs too. They can take a long time to spin up. So, if you are in a situation where your infrastructure needs to grow quickly, even in a situation when VM provisioning is automated, you can still find yourself twiddling your thumbs waiting for machines to come online.</p>\n\n<h2>Enter: Containers</h2>\n\n<p>Conceptually, a container is a Linux process that thinks it is the only process running. The process knows only about things it is told to know about. Also, in terms of containerization, the container process is assigned its own IP address. This is important, so I will say it again. <em>In terms of containerization, the container process is assigned its own IP address</em>. Once given an IP address, the process is an identifiable resource within the host network. Then, you can issue a command to the container manager to map the container&#x2019;s IP address to a IP address on the host that is accessible to the public. Once this mapping takes place, for all intents and purposes, a container is a distinct machine accessible on the network, similar in concept to a virtual machine. </p>\n\n<p>Again, a container is an isolated Linux process that has a distinct IP address thus making it identifiable on a network. Here&#x2019;s what that looks like as diagram:</p>\n\n<p><img src=\"https://deis.com/images/blog-images/dev_journey_2.png\" alt=\"\"></p>\n\n<p>A container/process shares resources on the host computer in a dynamic, cooperative manner. If the container needs only 1 GB of RAM, it uses only 1 GB. If it needs 4 GB, it uses 4 GB. It&#x2019;s the same with CPU utilization and storage. The allocation of CPU, memory and storage resources is dynamic, not static as is usual on a typical virtual machine. All of this resource sharing is managed by the container manager.</p>\n\n<p>Lastly, containers boot very quickly. </p>\n\n<p>So, the benefit of containers is: <em>you get the isolation and encapsulation of a virtual machine without the drawback of dedicated static resources</em>. Also, because containers load into memory fast, you get better performance when it comes to scaling many containers up.</p>\n\n<h2>Container Hosting, Configuration, and Management</h2>\n\n<p>Computers that host containers run a version of Linux that is stripped down to the essentials. These days, the more popular underlying operating system for a host computer is <a href=\"https://coreos.com/using-coreos/\">CoreOS,</a> <a href=\"https://coreos.com/using-coreos/\">mentioned above</a>. There are others, however, such as <a href=\"http://www.projectatomic.io/\">Red Hat Atomic Host</a> and <a href=\"https://developer.ubuntu.com/en/snappy/\">Ubuntu Snappy</a>.</p>\n\n<p>The Linux operating system is shared between all containers, minimising duplication and reducing the container footprint. Each container contains only what is unique to <em>that specific container</em>. Here&#x2019;s what that looks like in diagram form:</p>\n\n<p><img src=\"https://deis.com/images/blog-images/dev_journey_3.png\" alt=\"\"></p>\n\n<p>You configure your container with the components it requires. A container component is called a <em>layer</em>. A layer is a container image. (You&#x2019;ll read more about container images in the following section.). You start with a base layer which typically the type of operating system you want in your container. (The container manager will provides only the parts of your desired operating system that is not in the host OS) As you construct the configuration of your container, you&#x2019;ll add layers, say Apache if you want a web server, PHP or Python runtimes, if your container is running scripts. </p>\n\n<p>Layering is very versatile. If you application or service container requires PHP 5.2, you configure that container accordingly. If you have another application or service that requires PHP 5.6, no problem. You configure that container to use PHP.5.6. Unlike VMs, where you need to go through a lot of provisioning and installation hocus pocus to change a version of a runtime dependency; with containers you just redefine the layer in the container configuration file.</p>\n\n<p>All of the container versatility described previously is controlled by the a piece of software called a <em>container manager</em>. Presently, the most popular container managers are <a href=\"https://www.docker.com/\">Docker</a> and <a href=\"https://coreos.com/blog/rocket/\">Rocket</a>. The figure above shows a host scenario is which Docker is the container manager and CoreOS is the host operating system.</p>\n\n<h2>Containers are Built with Images</h2>\n\n<p>When it comes time for you to build our application into a container, you are going to assemble images. An image represents a template of a container that your container needs to do its work. (I know, containers within containers. Go figure.) Images are stored in a registry. Registries live on the network. </p>\n\n<p>Conceptually, a registry is similar to a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\">Maven</a> repository, for those of you from the Java world, or a <a href=\"https://www.nuget.org/\">NuGet</a> server, for you .NET heads. You&#x2019;ll create a container configuration file that lists the images your application needs. The you&#x2019;ll use the container manager to make a container that includes your application&#x2019;s code as well as constituent resources downloaded from a container registry. For example, if your application is made up of some PHP files, your container configuration file will declare that you get the PHP runtime from a registry. Also, you&#x2019;ll use the container configuration file to declare the <code>.php</code> files to copy into the container&#x2019;s file system. The container manager encapsulates all your application stuff into a distinct container that you&#x2019;ll run on a host computer, under a container manager. </p>\n\n<p>Here&#x2019;s a diagram that illustrates the concepts behind container creation:</p>\n\n<p><img src=\"https://deis.com/images/blog-images/dev_journey_4.png\" alt=\"\"></p>\n\n<p>Let&#x2019;s take a detailed look at this diagram. </p>\n\n<p>Here, (1) indicates there is a container configuration file that defines the stuff your container needs, as well as how your container is to be constructed. When you run your container on the host, the container manager will read the configuration file to get the container images you need from a registry on the cloud (2) and add the images as layers in your container. </p>\n\n<p>Also, if that constituent image requires other images, the container manager will get those images too and layer them in. At (3) the container manager will copy in files to your container as is required. </p>\n\n<p>If you use a provisioning service, such as <a href=\"http://deis.com/learn\">Deis</a>, the application container you just created exists as an image (4) which the provisioning service will deploy to a cloud provider of your choice. Examples of cloud providers are AWS and Rackspace. </p>\n\n<h2>Containers in a Cluster</h2>\n\n<p>Okay. So we can say there is a good case to be made that containers provide a greater degree of configuration flexibility and resource utilization than virtual machines. Still, this is not the all of it. </p>\n\n<p>Where containers get really flexible is when they&#x2019;re clustered. Remember, a container has a distinct IP address. Thus, it can be put behind a load balancer. Once a container goes behind a load balancer, the game goes up a level. </p>\n\n<p>You can run a cluster of containers behind a load balancer container to achieve high performance, high availability computing. Here&#x2019;s one example setup:</p>\n\n<p><img src=\"https://deis.com/images/blog-images/dev_journey_5.png\" alt=\"\"></p>\n\n<p>Let&#x2019;s say you&#x2019;ve made an application that does some resource intensive work. Photograph processing, for example. Using a container provisioning technology such as <a href=\"http://deis.com/learn\">Deis</a>, you can create a container image that has your photo processing application configured with all the resources upon which your photo processing application depends. Then, you can deploy one or many instances of your container image to under a load balancer that reside on the host. Once the container image is made, you can keep it on the sidelines for introduction later on when the system becomes maxed out and more instances of your container are required in the cluster to meet the workload at hand.</p>\n\n<p>There is more good news. You don&#x2019;t have manually configure the load balancer to accept your container image every time you add more instances into the environment. You can use service discovery technology to make it so that your container announces its availability to the balancer. Then, once informed, the balancer can start to route traffic to the new node.</p>\n\n<h2>Putting It All Together</h2>\n\n<p>Container technology picks up where the virtual machine has left off. Host operating systems such as CoreOS, RHEL Atomic, and Ubuntu&#x2019;s Snappy, in conjunction with container management technologies such as Docker and Rocket, are making containers more popular everyday. </p>\n\n<p>While containers are becoming more prevalent, they do take a while to master. However, once you get the hang of them, you can use provisioning technologies such as <a href=\"http://deis.com/learn\">Deis</a> to make container creation and deployment easier.</p>\n\n<p>Getting a conceptual understanding of containers is important as we move forward to actually doing some work with them. But, I imagine the concepts are hard to grasp without the actual hands-on experience to accompany the ideas in play. So, this is what we&#x2019;ll do in the next segment of this series: make some containers.</p>\n\n<p><em>Cartoon graphic provided courtesy of <a href=\"http://TheWorldInWhichWeLive.com/\">TheWorldInWhichWeLive.com</a></em></p>\n\n </article>\n </div>"
    }, {
        "title": "Selz/plyr",
        "url": "https://github.com/Selz/plyr",
        "excerpt": "A simple, accessible HTML5 media player. Checkout the demo Why? We wanted a lightweight, accessible and customisable media player that just supports modern browsers. Sure, there are many other&hellip;",
        "date_saved": "Thu Jul 28 20:10:43 EDT 2016",
        "html_file": "selzplyr.html",
        "png_file": "selzplyr.png",
        "md_file": "selzplyr.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>A simple, accessible HTML5 media player. </p>\n\n<p><a href=\"http://plyr.io\">Checkout the demo</a></p>\n\n<h2>\n<a id=\"user-content-why\" class=\"anchor\" href=\"https://github.com/Selz/plyr#why\"></a>Why?</h2>\n\n<p>We wanted a lightweight, accessible and customisable media player that just supports <em>modern</em> browsers. Sure, there are many other players out there but we wanted to keep things simple, using the right elements for the job. </p>\n\n<h2>\n<a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/Selz/plyr#features\"></a>Features</h2>\n\n<ul class=\"task-list\">\n<li>\n<strong>Accessible</strong> - full support for captions and screen readers.</li>\n<li>\n<strong>Lightweight</strong> - just 4KB minified and gzipped.</li>\n<li>\n<strong>Customisable</strong> - make the player look how you want with the markup you want.</li>\n<li>\n<strong>Semantic</strong> - uses HTML5 form inputs for volume (range) and progress element for playback progress.</li>\n<li>\n<strong>No dependencies</strong> - written in native JS.</li>\n<li>\n<strong>API</strong> - easy to use API.</li>\n<li>\n<strong>Fallback</strong> - if there's no support, the native players are used.</li>\n<li>\n<strong>Fullscreen</strong> - options to run the player full browser or the user can toggle fullscreen.</li>\n</ul>\n\n<h2>\n<a id=\"user-content-planned-development\" class=\"anchor\" href=\"https://github.com/Selz/plyr#planned-development\"></a>Planned development</h2>\n\n<ul class=\"task-list\">\n<li>Accept a string selector, a node, or a nodelist for the <code>container</code> property of <code>selectors</code>.</li>\n<li>Accept a selector for the <code>html</code> template property.</li>\n</ul>\n\n<h2>\n<a id=\"user-content-implementation\" class=\"anchor\" href=\"https://github.com/Selz/plyr#implementation\"></a>Implementation</h2>\n\n<h3>\n<a id=\"user-content-bower\" class=\"anchor\" href=\"https://github.com/Selz/plyr#bower\"></a>Bower</h3>\n\n<p>If bower is your thang, you can grab Plyr using:</p>\n\n<pre><code>bower install plyr\n</code></pre>\n\n<p>More info on setting up dependencies can be found in the <a href=\"http://bower.io/docs/creating-packages/#maintaining-dependencies\">Bower Docs</a></p>\n\n<h3>\n<a id=\"user-content-css\" class=\"anchor\" href=\"https://github.com/Selz/plyr#css\"></a>CSS</h3>\n\n<p>If you want to use the default css, add the css file from /dist into your head, or even better use the less file included in /assets in your build to save a request. </p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">link</span> <span class=\"pl-e\">rel</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>stylesheet<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">href</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>/css/plyr.css<span class=\"pl-pds\">\"</span></span> /&gt;</pre></div>\n\n<h3>\n<a id=\"user-content-svg\" class=\"anchor\" href=\"https://github.com/Selz/plyr#svg\"></a>SVG</h3>\n\n<p>The SVG sprite for the controls icons is loaded in by AJAX to help with performance. This is best added before the closing <code>&lt;/body&gt;</code></p>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"pl-s2\">&lt;<span class=\"pl-ent\">script</span>&gt;</span>\n<span class=\"pl-s2\">(<span class=\"pl-st\">function</span>(<span class=\"pl-vpf\">d</span>,<span class=\"pl-vpf\">p</span>){</span>\n<span class=\"pl-s2\"> <span class=\"pl-s\">var</span> a<span class=\"pl-k\">=</span><span class=\"pl-k\">new</span> <span class=\"pl-en\">XMLHttpRequest</span>(),</span>\n<span class=\"pl-s2\"> b<span class=\"pl-k\">=</span>d.<span class=\"pl-sc\">body</span>;</span>\n<span class=\"pl-s2\"> a.<span class=\"pl-s3\">open</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>GET<span class=\"pl-pds\">\"</span></span>,p,<span class=\"pl-k\">!</span><span class=\"pl-c1\">0</span>);</span>\n<span class=\"pl-s2\"> a.<span class=\"pl-s3\">send</span>();</span>\n<span class=\"pl-s2\"> <span class=\"pl-s3\">a</span>.<span class=\"pl-en\">onload</span><span class=\"pl-k\">=</span><span class=\"pl-st\">function</span>(){</span>\n<span class=\"pl-s2\"> <span class=\"pl-s\">var</span> c<span class=\"pl-k\">=</span>d.<span class=\"pl-s3\">createElement</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>div<span class=\"pl-pds\">\"</span></span>);</span>\n<span class=\"pl-s2\"> c.<span class=\"pl-sc\">style</span>.<span class=\"pl-sc\">display</span><span class=\"pl-k\">=</span><span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>none<span class=\"pl-pds\">\"</span></span>;</span>\n<span class=\"pl-s2\"> c.innerHTML<span class=\"pl-k\">=</span>a.<span class=\"pl-sc\">responseText</span>;</span>\n<span class=\"pl-s2\"> b.<span class=\"pl-s3\">insertBefore</span>(c,b.<span class=\"pl-sc\">childNodes</span>[<span class=\"pl-c1\">0</span>])</span>\n<span class=\"pl-s2\"> }</span>\n<span class=\"pl-s2\">})(<span class=\"pl-s3\">document</span>,<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>/svg/sprite.svg<span class=\"pl-pds\">\"</span></span>);</span>\n<span class=\"pl-s2\">&lt;/<span class=\"pl-ent\">script</span>&gt;</span></pre></div>\n\n<p>More info on SVG sprites here:\n<a href=\"http://css-tricks.com/svg-sprites-use-better-icon-fonts/\">http://css-tricks.com/svg-sprites-use-better-icon-fonts/</a> \nand the AJAX technique here: \n<a href=\"http://css-tricks.com/ajaxing-svg-sprite/\">http://css-tricks.com/ajaxing-svg-sprite/</a></p>\n\n<h3>\n<a id=\"user-content-html\" class=\"anchor\" href=\"https://github.com/Selz/plyr#html\"></a>HTML</h3>\n\n<p>The only extra markup that's needed to use plyr is a <code>&lt;div&gt;</code> wrapper. Replace the source, poster and captions with urls for your media.</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>player<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">video</span> <span class=\"pl-e\">poster</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/poster.jpg<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">controls</span> <span class=\"pl-e\">crossorigin</span>&gt;\n <span class=\"pl-c\">&lt;!-- Video files --&gt;</span>\n &lt;<span class=\"pl-ent\">source</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/movie.mp4<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>video/mp4<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">source</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/movie.webm<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>video/webm<span class=\"pl-pds\">\"</span></span>&gt;\n\n <span class=\"pl-c\">&lt;!-- Text track file --&gt;</span>\n &lt;<span class=\"pl-ent\">track</span> <span class=\"pl-e\">kind</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>captions<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">label</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>English captions<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/movie_captions_en.vtt<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">srclang</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>en<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">default</span>&gt;\n\n <span class=\"pl-c\">&lt;!-- Fallback for browsers that don't support the &lt;video&gt; element --&gt;</span>\n &lt;<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">a</span> <span class=\"pl-e\">href</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/movie.mp4<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">img</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/poster.jpg<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">alt</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>Download<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;/<span class=\"pl-ent\">a</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;/<span class=\"pl-ent\">video</span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<p>And the same for <code>&lt;audio&gt;</code></p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>player<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">audio</span> <span class=\"pl-e\">controls</span>&gt;\n <span class=\"pl-c\">&lt;!-- Audio files --&gt;</span>\n &lt;<span class=\"pl-ent\">source</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/logistics-96-sample.mp3<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>audio/mp3<span class=\"pl-pds\">\"</span></span>&gt;\n\n <span class=\"pl-c\">&lt;!-- Fallback for browsers that don't support the &lt;audio&gt; element --&gt;</span>\n &lt;<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">a</span> <span class=\"pl-e\">href</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>//cdn.sampotts.me/plyr/logistics-96-sample.mp3<span class=\"pl-pds\">\"</span></span>&gt;Download&lt;/<span class=\"pl-ent\">a</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;/<span class=\"pl-ent\">audio</span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<h4>\n<a id=\"user-content-cross-origin-cors\" class=\"anchor\" href=\"https://github.com/Selz/plyr#cross-origin-cors\"></a>Cross Origin (CORS)</h4>\n\n<p>You'll notice the <code>crossorigin</code> attribute on the example <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code> elements. This is because the media is loaded from another domain. If your media is hosted on another domain, you may need to add this attribute. </p>\n\n<p>More info on CORS here:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS</a></p>\n\n<h3>\n<a id=\"user-content-javascript\" class=\"anchor\" href=\"https://github.com/Selz/plyr#javascript\"></a>JavaScript</h3>\n\n<p>Much of the behaviour of the player is configurable when initialising the library. Below is an example of a default instance.</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">script</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>js/plyr.js<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">script</span>&gt;\n<span class=\"pl-s2\">&lt;<span class=\"pl-ent\">script</span>&gt;</span>\n<span class=\"pl-s2\">plyr.setup({</span>\n<span class=\"pl-s2\"> html<span class=\"pl-k\">:</span> <span class=\"pl-k\">**</span>your controls html<span class=\"pl-k\">**</span></span>\n<span class=\"pl-s2\">});</span>\n<span class=\"pl-s2\">&lt;/<span class=\"pl-ent\">script</span>&gt;</span></pre></div>\n\n<p>You can pass the following settings:</p>\n\n<table width=\"100%\">\n<thead>\n <tr>\n <th width=\"20%\">Option</th>\n <th width=\"15%\">Type</th>\n <th width=\"15%\">Default</th>\n <th width=\"50%\">Description</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><code>enabled</code></td>\n <td>Boolean</td>\n <td><code>true</code></td>\n <td>Completely disable Plyr. This would allow you to do a User Agent check or similar to programatically enable or disable Plyr for a certain UA. Example below.</td>\n </tr>\n <tr>\n <td><code>html</code></td>\n <td>String</td>\n <td><code>&#x2014;</code></td>\n <td>This is **required**. It is the markup used for the controls. In the demo, we use Hogan templates as we are already using them. You can of course, just specify vanilla html. The only requirement is your selectors should match the `selectors` option below. If you check `controls.html` in `/assets/templates` to get an idea of how the default html works. \n\n You need to add two placeholders to your html template:\n - {id} for the dynamically generated ID for the player (for form controls)\n - {aria_label} for the dynamically generated play button label for screen readers</td>\n </tr>\n <tr>\n <td><code>debug</code></td>\n <td>Boolean</td>\n <td><code>false</code></td>\n <td>Display debugging information on what Plyr is doing.</td>\n </tr>\n <tr>\n <td><code>seekInterval</code></td>\n <td>Number</td>\n <td><code>10</code></td>\n <td>The time, in seconds, to seek when a user hits fast forward or rewind.</td>\n </tr>\n <tr>\n <td><code>volume</code></td>\n <td>Number</td>\n <td><code>5</code></td>\n <td>A number, between 1 and 10, representing the inital volume of the player.</td>\n </tr>\n <tr>\n <td><code>click</code></td>\n <td>Boolean</td>\n <td><code>true</code></td>\n <td>Click (or tap) will toggle pause/play of a ``.</td>\n </tr>\n <tr>\n <td><code>selectors</code></td>\n <td>Object</td>\n <td>&#x2014;</td>\n <td>See `plyr.js` in `/assets` for more info. The only option you might want to change is `player` which is the hook used for Plyr, the default is `.player`.</td>\n </tr>\n <tr>\n <td><code>classes</code></td>\n <td>Object</td>\n <td>&#x2014;</td>\n <td>Similar to above, these are the classes added to the player when state changes occur.</td>\n </tr>\n <tr>\n <td><code>captions</code></td>\n <td>Object</td>\n <td>&#x2014;</td>\n <td>This currently contains one property `defaultActive` which toggles if captions should be on by default. The default value is `false`.</td>\n </tr>\n <tr>\n <td><code>fullscreen</code></td>\n <td>Object</td>\n <td>&#x2014;</td>\n <td>This currently contains one property `enabled` which toggles if fullscreen should be enabled (if the browser supports it). The default value is `true`.</td>\n </tr>\n </tbody>\n</table>\n\n<h2>\n<a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/Selz/plyr#api\"></a>API</h2>\n\n<p>A <code>plyr</code> object is added to any element that Plyr is initialised on. You can then control the player by accessing methods in the <code>plyr</code> object. For example if you wanted to pause Plyr:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-s3\">document</span>.querySelectorAll(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>.player<span class=\"pl-pds\">\"</span></span>)[<span class=\"pl-c1\">0</span>].plyr.pause();</pre></div>\n\n<p>Here's a list of the methods supported:</p>\n\n<table width=\"100%\">\n<thead>\n <tr>\n <th width=\"20%\">Method</th>\n <th width=\"15%\">Parameters</th>\n <th width=\"65%\">Description</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><code>play</code></td>\n <td>&#x2014;</td>\n <td>Plays the media</td>\n </tr>\n <tr>\n <td><code>pause</code></td>\n <td>&#x2014;</td>\n <td>Pauses the media</td>\n </tr>\n <tr>\n <td><code>restart</code></td>\n <td>&#x2014;</td>\n <td>Restarts playback</td>\n </tr>\n <tr>\n <td><code>rewind</code></td>\n <td>Number</td>\n <td>Rewinds by the provided parameter, in seconds. If no parameter is provided, the default seekInterval is used (10 seconds).</td>\n </tr>\n <tr>\n <td><code>forward</code></td>\n <td>Number</td>\n <td>Fast forwards by the provided parameter, in seconds. If no parameter is provided, the default seekInterval is used (10 seconds).</td>\n </tr>\n <tr>\n <td><code>setVolume</code></td>\n <td>Number</td>\n <td>Sets the player voume to the provided parameter. The value should be between 0 (muted) and 10 (loudest). If no parameter is provided, the default volume is used (5). Values over 10 are ignored.</td>\n </tr>\n <tr>\n <td><code>toggleMute</code></td>\n <td>&#x2014;</td>\n <td>Toggles mute for the player.</td>\n </tr>\n <tr>\n <td><code>toggleCaptions</code></td>\n <td>&#x2014;</td>\n <td>Toggles whether captions are enabled.</td>\n </tr>\n </tbody>\n</table>\n\n<h2>\n<a id=\"user-content-eventscallbacks\" class=\"anchor\" href=\"https://github.com/Selz/plyr#eventscallbacks\"></a>Events/Callbacks</h2>\n\n<p>The <code>plyr</code> object on the player element also contains a <code>media</code> property which is a reference to the <code>&lt;audio&gt;</code> or <code>&lt;video&gt;</code> element within the player which you can use to listen for events. Here's an example:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"pl-s\">var</span> media <span class=\"pl-k\">=</span> <span class=\"pl-s3\">document</span>.querySelectorAll(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>.player<span class=\"pl-pds\">\"</span></span>)[<span class=\"pl-c1\">0</span>].plyr.<span class=\"pl-sc\">media</span>;\n\nmedia.addEventListener(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>playing<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-st\">function</span>() { \n <span class=\"pl-en\">console</span><span class=\"pl-s3\">.log</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>playing<span class=\"pl-pds\">\"</span></span>);\n});</pre></div>\n\n<p>A complete list of events can be found here:\n<a href=\"http://www.w3.org/2010/05/video/mediaevents.html\">Media Events - W3.org</a></p>\n\n<h2>\n<a id=\"user-content-fullscreen\" class=\"anchor\" href=\"https://github.com/Selz/plyr#fullscreen\"></a>Fullscreen</h2>\n\n<p>Fullscreen in Plyr is supported for all browsers that <a href=\"http://caniuse.com/#feat=fullscreen\">currently support it</a>. If you're using the default CSS, you can also use a \"full browser\" mode which will use the full browser window by adding the <code>player-fullscreen</code> class to your container.</p>\n\n<h2>\n<a id=\"user-content-support\" class=\"anchor\" href=\"https://github.com/Selz/plyr#support\"></a>Support</h2>\n\n<ul class=\"task-list\">\n<li>Chrome: full support</li>\n<li>Safari: full support</li>\n<li>Firefox: full support</li>\n<li>Internet Explorer 10, 11: full support</li>\n<li>Internet Explorer 9: native player used (no support for <code>&lt;progress&gt;</code> or <code>&lt;input type=\"range\"&gt;</code>) </li>\n</ul>\n\n<p>The <code>enabled</code> option can be used to disable certain User Agents. For example, if you don't want to use Plyr for smartphones, you could use: </p>\n\n<div class=\"highlight highlight-javascript\"><pre>enabled<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span>Android<span class=\"pl-k\">|</span>webOS<span class=\"pl-k\">|</span>iPhone<span class=\"pl-k\">|</span>iPad<span class=\"pl-k\">|</span>iPod<span class=\"pl-k\">|</span>BlackBerry<span class=\"pl-pds\">/</span>i</span>.<span class=\"pl-s3\">test</span>(<span class=\"pl-s3\">navigator</span>.<span class=\"pl-sc\">userAgent</span>)</pre></div>\n\n<p>If a User Agent is disabled but supports <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code> natively, it will use the native player.</p>\n\n<p>Any unsupported browsers will display links to download the media if the correct html is used.</p>\n\n<h2>\n<a id=\"user-content-issues\" class=\"anchor\" href=\"https://github.com/Selz/plyr#issues\"></a>Issues</h2>\n\n<p>If you find anything weird with the library, please let us know using the Github issues tracker.</p>\n\n<h2>\n<a id=\"user-content-author\" class=\"anchor\" href=\"https://github.com/Selz/plyr#author\"></a>Author</h2>\n\n<p>This was created by Sam Potts (<a href=\"https://twitter.com/sam_potts\">@sam_potts</a>)</p>\n\n<h2>\n<a id=\"user-content-useful-links-and-credits\" class=\"anchor\" href=\"https://github.com/Selz/plyr#useful-links-and-credits\"></a>Useful links and credits</h2>\n\n<p>Credit to the PayPal HTML5 Video player from which Plyr's caption functionality is ported from:</p>\n\n<ul class=\"task-list\">\n<li><a href=\"https://github.com/paypal/accessible-html5-video-player\">PayPal's Accessible HTML5 Video Player</a></li>\n</ul>\n\n<p>Also these links helped created Plyr:</p>\n\n<ul class=\"task-list\">\n<li><a href=\"http://www.w3.org/2010/05/video/mediaevents.html\">Media Events - W3.org</a></li>\n<li><a href=\"http://www.hongkiat.com/blog/html5-progress-bar/\">Styling the <code>&lt;progress&gt;</code> element - hongkiat.com</a></li>\n</ul>\n\n<h2>\n<a id=\"user-content-copyright-and-license\" class=\"anchor\" href=\"https://github.com/Selz/plyr#copyright-and-license\"></a>Copyright and License</h2>\n\n<p>Copyright 2014, Selz.com under <a href=\"https://github.com/Selz/plyr/blob/master/license.md\">the BSD license</a>.</p>\n</article>\n </div>"
    }, {
        "title": "Mango/slideout",
        "url": "https://github.com/Mango/slideout",
        "excerpt": "A touch slideout navigation menu for your mobile web apps. Features Dependecy-free. Simple markup. Native scrolling. Easy customization. CSS transforms &amp; transitions. Just 4 Kb! Demo Check out&hellip;",
        "date_saved": "Thu Jul 28 20:10:44 EDT 2016",
        "html_file": "mangoslideout.html",
        "png_file": "mangoslideout.png",
        "md_file": "mangoslideout.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<blockquote>\n<p>A touch slideout navigation menu for your mobile web apps.</p>\n</blockquote>\n\n<h2>\n<a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/Mango/slideout#features\"></a>Features</h2>\n\n<ul class=\"task-list\">\n<li>Dependecy-free.</li>\n<li>Simple markup.</li>\n<li>Native scrolling.</li>\n<li>Easy customization.</li>\n<li>CSS transforms &amp; transitions.</li>\n<li>Just 4 Kb!</li>\n</ul>\n\n<h2>\n<a id=\"user-content-demo\" class=\"anchor\" href=\"https://github.com/Mango/slideout#demo\"></a>Demo</h2>\n\n<p><a href=\"https://mango.github.io/slideout/\">Check out the demo</a> to see it in action (on your mobile or emulate touches on your browser).</p>\n\n<p><a href=\"https://camo.githubusercontent.com/9975d7a2331494043067998480ace0f1d2157e86/68747470733a2f2f692e696d6775722e636f6d2f415767776c56572e676966\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/9975d7a2331494043067998480ace0f1d2157e86/68747470733a2f2f692e696d6775722e636f6d2f415767776c56572e676966\" alt=\"Slideout.js demo\"></a></p>\n\n<h2>\n<a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/Mango/slideout#installation\"></a>Installation</h2>\n\n<pre><code>$ npm install slideout\n\n$ bower install https://github.com/Mango/slideout.git\n\n$ component install mango/slideout\n</code></pre>\n\n<h2>\n<a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/Mango/slideout#usage\"></a>Usage</h2>\n\n<p>Implementing Slideout.js into your project is easy.</p>\n\n<p>First of all, you'll need to create your markup. You should have a menu (<code>#menu</code>) and a main content (<code>#panel</code>) into your body.</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">nav</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>menu<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">header</span>&gt;\n &lt;<span class=\"pl-ent\">h2</span>&gt;Menu&lt;/<span class=\"pl-ent\">h2</span>&gt;\n &lt;/<span class=\"pl-ent\">header</span>&gt;\n&lt;/<span class=\"pl-ent\">nav</span>&gt;\n\n&lt;<span class=\"pl-ent\">main</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>panel<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">header</span>&gt;\n &lt;<span class=\"pl-ent\">h2</span>&gt;Panel&lt;/<span class=\"pl-ent\">h2</span>&gt;\n &lt;/<span class=\"pl-ent\">header</span>&gt;\n&lt;/<span class=\"pl-ent\">main</span>&gt;</pre></div>\n\n<p>Add the Slideout.js styles (index.css) in your web application.</p>\n\n<div class=\"highlight highlight-css\"><pre><span class=\"pl-ent\">html</span>,\n<span class=\"pl-ent\">body</span> {\n <span class=\"pl-mp\"><span class=\"pl-s3\">width</span></span>: <span class=\"pl-c1\">100<span class=\"pl-k\">%</span></span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">height</span></span>: <span class=\"pl-c1\">100<span class=\"pl-k\">%</span></span>;\n}\n\n<span class=\"pl-e\">.slideout-menu</span> {\n <span class=\"pl-mp\"><span class=\"pl-s3\">position</span></span>: <span class=\"pl-sc\">fixed</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">left</span></span>: <span class=\"pl-c1\">0</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">top</span></span>: <span class=\"pl-c1\">0</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">bottom</span></span>: <span class=\"pl-c1\">0</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">right</span></span>: <span class=\"pl-c1\">0</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">z-index</span></span>: <span class=\"pl-c1\">0</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">width</span></span>: <span class=\"pl-c1\">256<span class=\"pl-k\">px</span></span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">overflow-y</span></span>: <span class=\"pl-sc\">scroll</span>;\n <span class=\"pl-mp\">-webkit-<span class=\"pl-s3\">overflow</span>-scrolling</span>: touch;\n <span class=\"pl-mp\"><span class=\"pl-s3\">display</span></span>: <span class=\"pl-sc\">none</span>;\n}\n\n<span class=\"pl-e\">.slideout-panel</span> {\n <span class=\"pl-mp\"><span class=\"pl-s3\">position</span></span>:<span class=\"pl-sc\">relative</span>;\n <span class=\"pl-mp\"><span class=\"pl-s3\">z-index</span></span>: <span class=\"pl-c1\">1</span>;\n}\n\n<span class=\"pl-e\">.slideout-open</span>,\n<span class=\"pl-e\">.slideout-open</span> <span class=\"pl-ent\">body</span> {\n <span class=\"pl-mp\"><span class=\"pl-s3\">overflow</span></span>: <span class=\"pl-sc\">hidden</span>;\n}\n\n<span class=\"pl-e\">.slideout-open</span> <span class=\"pl-e\">.slideout-menu</span> {\n <span class=\"pl-mp\"><span class=\"pl-s3\">display</span></span>: <span class=\"pl-sc\">block</span>;\n}</pre></div>\n\n<p>Then you just include Slideout.js and create a new instace with some options:</p>\n\n<div class=\"highlight highlight-html\"><pre>&lt;<span class=\"pl-ent\">script</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>dist/slideout.min.js<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">script</span>&gt;\n<span class=\"pl-s2\">&lt;<span class=\"pl-ent\">script</span>&gt;</span>\n<span class=\"pl-s2\"> <span class=\"pl-s\">var</span> slideout <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Slideout</span>({</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>panel<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>panel<span class=\"pl-pds\">'</span></span>),</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span>),</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>padding<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>tolerance<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">70</span></span>\n<span class=\"pl-s2\"> });</span>\n<span class=\"pl-s2\">&lt;/<span class=\"pl-ent\">script</span>&gt;</span></pre></div>\n\n<h4>\n<a id=\"user-content-full-example\" class=\"anchor\" href=\"https://github.com/Mango/slideout#full-example\"></a>Full example</h4>\n\n<div class=\"highlight highlight-html\"><pre>&lt;!doctype html&gt;\n&lt;<span class=\"pl-ent\">html</span> <span class=\"pl-e\">lang</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>en<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">head</span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">charset</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>utf-8<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">title</span>&gt;Slideout Demo&lt;/<span class=\"pl-ent\">title</span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">http-equiv</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>cleartype<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">content</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>on<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>MobileOptimized<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">content</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>320<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>HandheldFriendly<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">content</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>True<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>apple-mobile-web-app-capable<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">content</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>yes<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">meta</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>viewport<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">content</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>width=device-width, initial-scale=1.0, user-scalable=no<span class=\"pl-pds\">\"</span></span>&gt;\n<span class=\"pl-s2\"> &lt;<span class=\"pl-ent\">style</span>&gt;</span>\n<span class=\"pl-s2\"> <span class=\"pl-ent\">html</span>,</span>\n<span class=\"pl-s2\"> <span class=\"pl-ent\">body</span> {</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">width</span></span>: <span class=\"pl-c1\">100<span class=\"pl-k\">%</span></span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">height</span></span>: <span class=\"pl-c1\">100<span class=\"pl-k\">%</span></span>;</span>\n<span class=\"pl-s2\"> }</span>\n\n<span class=\"pl-s2\"> <span class=\"pl-e\">.slideout-menu</span> {</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">position</span></span>: <span class=\"pl-sc\">fixed</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">left</span></span>: <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">top</span></span>: <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">bottom</span></span>: <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">right</span></span>: <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">z-index</span></span>: <span class=\"pl-c1\">0</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">width</span></span>: <span class=\"pl-c1\">256<span class=\"pl-k\">px</span></span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">overflow-y</span></span>: <span class=\"pl-sc\">scroll</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\">-webkit-<span class=\"pl-s3\">overflow</span>-scrolling</span>: touch;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">display</span></span>: <span class=\"pl-sc\">none</span>;</span>\n<span class=\"pl-s2\"> }</span>\n\n<span class=\"pl-s2\"> <span class=\"pl-e\">.slideout-panel</span> {</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">position</span></span>:<span class=\"pl-sc\">relative</span>;</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">z-index</span></span>: <span class=\"pl-c1\">1</span>;</span>\n<span class=\"pl-s2\"> }</span>\n\n<span class=\"pl-s2\"> <span class=\"pl-e\">.slideout-open</span>,</span>\n<span class=\"pl-s2\"> <span class=\"pl-e\">.slideout-open</span> <span class=\"pl-ent\">body</span> {</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">overflow</span></span>: <span class=\"pl-sc\">hidden</span>;</span>\n<span class=\"pl-s2\"> }</span>\n\n<span class=\"pl-s2\"> <span class=\"pl-e\">.slideout-open</span> <span class=\"pl-e\">.slideout-menu</span> {</span>\n<span class=\"pl-s2\"> <span class=\"pl-mp\"><span class=\"pl-s3\">display</span></span>: <span class=\"pl-sc\">block</span>;</span>\n<span class=\"pl-s2\"> }</span>\n<span class=\"pl-s2\"> &lt;/<span class=\"pl-ent\">style</span>&gt;</span>\n &lt;/<span class=\"pl-ent\">head</span>&gt;\n &lt;<span class=\"pl-ent\">body</span>&gt;\n\n &lt;<span class=\"pl-ent\">nav</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>menu<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">h2</span>&gt;Menu&lt;/<span class=\"pl-ent\">h2</span>&gt;\n &lt;/<span class=\"pl-ent\">nav</span>&gt;\n\n &lt;<span class=\"pl-ent\">main</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>main<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">header</span>&gt;\n &lt;<span class=\"pl-ent\">button</span>&gt;&#x2630;&lt;/<span class=\"pl-ent\">button</span>&gt;\n &lt;<span class=\"pl-ent\">h2</span>&gt;Panel&lt;/<span class=\"pl-ent\">h2</span>&gt;\n &lt;/<span class=\"pl-ent\">header</span>&gt;\n &lt;/<span class=\"pl-ent\">main</span>&gt;\n\n<span class=\"pl-s2\"> &lt;<span class=\"pl-ent\">script</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s1\"><span class=\"pl-pds\">\"</span>dist/slideout.min.js<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">script</span>&gt;</span>\n<span class=\"pl-s2\"> &lt;<span class=\"pl-ent\">script</span>&gt;</span>\n<span class=\"pl-s2\"> <span class=\"pl-s\">var</span> slideout <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Slideout</span>({</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>panel<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>panel<span class=\"pl-pds\">'</span></span>),</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span>),</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>padding<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,</span>\n<span class=\"pl-s2\"> <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>tolerance<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">70</span></span>\n<span class=\"pl-s2\"> });</span>\n<span class=\"pl-s2\"> &lt;/<span class=\"pl-ent\">script</span>&gt;</span>\n\n &lt;/<span class=\"pl-ent\">body</span>&gt;\n&lt;/<span class=\"pl-ent\">html</span>&gt;</pre></div>\n\n<h2>\n<a id=\"user-content-browser-support\" class=\"anchor\" href=\"https://github.com/Mango/slideout#browser-support\"></a>Browser Support</h2>\n\n<ul class=\"task-list\">\n<li>Chrome (IOS, Android, desktop)</li>\n<li>Firefox (Android, desktop)</li>\n<li>Safari (IOS, Android, desktop)</li>\n<li>Opera (desktop)</li>\n<li>IE 10+ (desktop)</li>\n</ul>\n\n<h2>\n<a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/Mango/slideout#api\"></a>API</h2>\n\n<h3>\n<a id=\"user-content-slideoutoptions\" class=\"anchor\" href=\"https://github.com/Mango/slideout#slideoutoptions\"></a>Slideout(options)</h3>\n\n<p>Create a new instance of <code>Slideout</code>.</p>\n\n<ul class=\"task-list\">\n<li>\n<code>options</code> (Object) - Options to customize a new instance of Slideout.</li>\n<li>\n<code>options.panel</code> (HTMLElement) - The DOM element that contains all your application content (<code>.slideout-panel</code>).</li>\n<li>\n<code>options.menu</code> (HTMLElement) - The DOM element that contains your menu application (<code>.slideout-menu</code>).</li>\n<li>\n<code>[options.duration]</code> (Number) - The time (milliseconds) to open/close the slideout. Default: <code>300</code>.</li>\n<li>\n<code>[options.fx]</code> (String) - The CSS effect to use when animating the opening and closing of the slideout. Default: <code>ease</code>.</li>\n<li>\n<code>[options.padding]</code> (Number) - Default: <code>256</code>.</li>\n<li>\n<code>[options.tolerance]</code> (Number) - Default: <code>70</code>.</li>\n</ul>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"pl-s\">var</span> slideout <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Slideout</span>({\n <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>panel<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>main<span class=\"pl-pds\">'</span></span>),\n <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s3\">document</span>.<span class=\"pl-s3\">getElementById</span>(<span class=\"pl-s1\"><span class=\"pl-pds\">'</span>menu<span class=\"pl-pds\">'</span></span>),\n <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>padding<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,\n <span class=\"pl-s1\"><span class=\"pl-pds\">'</span>tolerance<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">70</span>\n});</pre></div>\n\n<h3>\n<a id=\"user-content-slideoutopen\" class=\"anchor\" href=\"https://github.com/Mango/slideout#slideoutopen\"></a>Slideout.open();</h3>\n\n<p>Opens the slideout menu.</p>\n\n\n\n<h3>\n<a id=\"user-content-slideoutclose\" class=\"anchor\" href=\"https://github.com/Mango/slideout#slideoutclose\"></a>Slideout.close();</h3>\n\n<p>Closes the slideout menu.</p>\n\n\n\n<h3>\n<a id=\"user-content-slideouttoggle\" class=\"anchor\" href=\"https://github.com/Mango/slideout#slideouttoggle\"></a>Slideout.toggle();</h3>\n\n<p>Toggles (open/close) the slideout menu.</p>\n\n\n\n<h3>\n<a id=\"user-content-slideoutisopen\" class=\"anchor\" href=\"https://github.com/Mango/slideout#slideoutisopen\"></a>Slideout.isOpen();</h3>\n\n<p>Returns <code>true</code> if the slideout is currently open, and <code>false</code> if it is closed.</p>\n\n<div class=\"highlight highlight-js\"><pre>slideout.isOpen(); <span class=\"pl-c\">// true or false</span></pre></div>\n\n<h2>\n<a id=\"user-content-npm-scripts\" class=\"anchor\" href=\"https://github.com/Mango/slideout#npm-scripts\"></a>npm-scripts</h2>\n\n<pre><code>$ npm run build\n</code></pre>\n\n<pre><code>$ npm run dist\n</code></pre>\n\n<pre><code>$ npm test\n</code></pre>\n\n<h2>\n<a id=\"user-content-with--by\" class=\"anchor\" href=\"https://github.com/Mango/slideout#with--by\"></a>With &#x2764; by</h2>\n\n\n\n<h2>\n<a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/Mango/slideout#license\"></a>License</h2>\n\n<p>MIT license. Copyright &#xA9; 2015 <a href=\"http://getmango.com\">Mango</a>.</p>\n</article>\n </div>"
    }, {
        "title": "Natural Language Basics with TextBlob",
        "url": "http://rwet.decontextualize.com/book/textblob/",
        "excerpt": "by Allison Parrish In this chapter, we&#x2019;ll use a Python library called TextBlob to perform simple natural language processing tasks. &#x201C;Natural Language Processing&#x201D; is a field at&hellip;",
        "date_saved": "Thu Jul 28 20:10:46 EDT 2016",
        "html_file": "natural_language_basics_with_textblob.html",
        "png_file": "natural_language_basics_with_textblob.png",
        "md_file": "natural_language_basics_with_textblob.md",
        "content": "<div><article class=\"page\">\n \n <p>by <a href=\"http://www.decontextualize.com\">Allison Parrish</a></p>\n\n<p>In this chapter, we&#x2019;ll use a Python library called <a href=\"http://textblob.readthedocs.org/en/dev/\">TextBlob</a> to perform simple natural language processing tasks.</p>\n\n<p>&#x201C;Natural Language Processing&#x201D; is a field at the intersection of computer\nscience, linguistics and artificial intelligence which aims to make the\nunderlying structure of language available to computer programs for analysis\nand manipulation. It&#x2019;s a vast and vibrant field with a long history! New\nresearch and techniques are being developed constantly.</p>\n\n<p>The aim of this chapter is to introduce a few simple concepts and techniques\nfrom NLP&#x2014;just the stuff that&#x2019;ll help you do creative things quickly, and\nmaybe open the door for you to understand more sophisticated NLP concepts that\nyou might encounter elsewhere.</p>\n\n<p>The most commonly known library for doing NLP in Python is <a href=\"http://www.nltk.org/\">NLTK</a>. NLTK is a fantastic library, but it&#x2019;s also a writhing behemoth: large\nand slippery and difficult to understand. TextBlob is a simpler, more humane\ninterface to much of NLTK&#x2019;s functionality: perfect for NLP beginners or poets\nthat just want to get work done.</p>\n\n<h2 id=\"natural-language\">Natural language</h2>\n\n<p>&#x201C;Natural language&#x201D; is a loaded phrase: what makes one stretch of language\n&#x201C;natural&#x201D; while another stretch is not? NLP techniques are opinionated about\nwhat language is and how it works; as a consequence, you&#x2019;ll sometimes find\nyourself having to conceptualize your text with uncomfortable abstractions in\norder to make it work with NLP. (This is especially true of poetry, which\nalmost by definition breaks most &#x201C;conventional&#x201D; definitions of how language\nbehaves and how it&#x2019;s structured.)</p>\n\n<p>Of course, a computer can never really fully &#x201C;understand&#x201D; human language.<br>\nEven when the text you&#x2019;re using fits the abstractions of NLP perfectly, the\nresults of NLP analysis are always going to be at least a little bit\ninaccurate. But often even inaccurate results can be &#x201C;good enough&#x201D;&#x2014;and in any\ncase, inaccurate output from NLP procedures can be an excellent source of the\nsublime and absurd juxtapositions that we (as poets) are constantly in search\nof.</p>\n\n<h3 id=\"the-english-speakers-only-club\">The English Speakers Only Club</h3>\n\n<p>The main assumption that most NLP libraries and techniques make is that the\ntext you want to process will be in English. Historically, most NLP research\nhas been on English specifically; it&#x2019;s only more recently that serious work\nhas gone into applying these techniques to other languages. The examples in\nthis chapter are all based on English texts, and the tools we&#x2019;ll use are\ngeared toward English. If you&#x2019;re interested in working on NLP in other\nlanguages, here are a few starting points:</p>\n\n<ul>\n <li><a href=\"https://github.com/konlpy/konlpy\">Konlpy</a>, natural language processing in\nPython for Korean</li>\n <li><a href=\"https://github.com/fxsjy/jieba\">Jieba</a>, text segmentation and POS tagging in\nPython for Chinese</li>\n <li>The <a href=\"http://www.clips.ua.ac.be/pattern\">Pattern</a> library (like TextBlob, a\nsimplified/augmented interface to NLTK) includes POS-tagging and some\nmorphology for Spanish in its\n<a href=\"http://www.clips.ua.ac.be/pages/pattern-es\">pattern.es</a> package.</li>\n</ul>\n\n<h2 id=\"english-grammar-a-crash-course\">English grammar: a crash course</h2>\n\n<p>The only thing I believe about English grammar is <a href=\"http://www.writing.upenn.edu/~afilreis/88v/creeley-on-sentence.html\">this</a>:</p>\n\n<blockquote>\n <p>&#x201C;Oh yes, the sentence,&#x201D; Creeley once told the critic Burton Hatlen, &#x201C;that&#x2019;s\nwhat we call it when we put someone in jail.&#x201D;</p>\n</blockquote>\n\n<p>There is no such thing as a sentence, or a phrase, or a part of speech, or even\na &#x201C;word&#x201D;&#x2014;these are all pareidolic fantasies occasioned by glints of sunlight\nwe see on reflected on the surface of the ocean of language; fantasies that we\ncomfort ourselves with when faced with language&#x2019;s infinite and unknowable\nvariability.</p>\n\n<p>Regardless, we may find it occasionally helpful to think about language using\nthese abstractions. The following is a gross oversimplification of both how\nEnglish grammar works, and how theories of English grammar work in the context\nof NLP. But it should be enough to get us going!</p>\n\n<h3 id=\"sentences-and-parts-of-speech\">Sentences and parts of speech</h3>\n\n<p>English texts can roughly be divided into &#x201C;sentences.&#x201D; Sentences are themselves\ncomposed of individual words, each of which has a function in expressing the\nmeaning of the sentence. The function of a word in a sentence is called its\n&#x201C;part of speech&#x201D;&#x2014;i.e., a word functions as a noun, a verb, an adjective, etc.\nHere&#x2019;s a sentence, with words marked for their part of speech:</p>\n\n<table>\n <tbody>\n <tr>\n <td>I</td>\n <td>really</td>\n <td>love</td>\n <td>entrees</td>\n <td>from</td>\n <td>the</td>\n <td>new</td>\n <td>cafeteria.</td>\n </tr>\n <tr>\n <td>pronoun</td>\n <td>adverb</td>\n <td>verb</td>\n <td>noun (plural)</td>\n <td>preposition</td>\n <td>determiner</td>\n <td>adjective</td>\n <td>noun</td>\n </tr>\n </tbody>\n</table>\n\n<p>Of course, the &#x201C;part of speech&#x201D; of a word isn&#x2019;t a property of the word itself.\nWe know this because a single &#x201C;word&#x201D; can function as two different parts of speech:</p>\n\n<blockquote>\n <p>I love cheese.</p>\n</blockquote>\n\n<p>The word &#x201C;love&#x201D; here is a verb. But here:</p>\n\n<blockquote>\n <p>Love is a battlefield.</p>\n</blockquote>\n\n<p>&#x2026; it&#x2019;s a noun. For this reason (and others), it&#x2019;s difficult for computers to\naccurately determine the part of speech for a word in a sentence. (It&#x2019;s\ndifficult sometimes even for humans to do this.) But NLP procedures do their\nbest!</p>\n\n<h3 id=\"phrases\">Phrases</h3>\n\n<p>A sentence can be divided into groups of words that work as units, or &#x201C;phrases.&#x201D; Phrases themselves might have smaller phrases within them, forming a tree structure. Linguists traditionally draw the structure of a sentence out in an actual tree:</p>\n\n<p><img src=\"http://rwet.decontextualize.com/book/public/cafeteriatree.png\" alt=\"Cafeteria tree\"></p>\n\n<p>A declarative sentence consists of a noun phrase (the subject) and a verb\nphrase (the predicate). The verb phrase has a verb, followed (optionally, if\nthe verb is transitive) by a noun phrase. A &#x201C;noun phrase&#x201D; is basically the\nnoun, plus all of the stuff that surrounds and modifies the noun, like\nadjectives, relative clauses, prepositional phrases, etc. Noun phrases are\nhandy things to be able to detect and extract, since they give us an idea of\nwhat a text might be &#x201C;about.&#x201D;</p>\n\n<p>NLP libraries give us tools to parse sentences into trees like this, and\nextract phrases from the sentence according to what kind of phrase it is.\nNotably, TextBlob makes extracting noun phrases super easy.</p>\n\n<p>But note: if computers are bad at identifying parts of speech, they&#x2019;re even\n<em>worse</em> at parsing grammar in sentences. You will get some wonky results, so be\nprepared.</p>\n\n<h3 id=\"morphology\">Morphology</h3>\n\n<p>&#x201C;Morphology&#x201D; is the word that linguists use to describe all of the weird ways\nthat individual words get modified to change their meaning, usually with\nprefixes and suffixes. e.g.</p>\n\n<pre><code>do -&gt; redo\nsing -&gt; singing\nmonarch -&gt; monarchy\nteach -&gt; taught\n</code></pre>\n\n<p>A word&#x2019;s &#x201C;lemma&#x201D; is its most &#x201C;basic&#x201D; form, the form without any morphology\napplied to it. &#x201C;Sing,&#x201D; &#x201C;sang,&#x201D; &#x201C;singing,&#x201D; are all different &#x201C;forms&#x201D; of the\nlemma <em>sing</em>. Likewise, &#x201C;octopi&#x201D; is the plural of &#x201C;octopus&#x201D;; the &#x201C;lemma&#x201D; of\n&#x201C;octopi&#x201D; is <em>octopus</em>.</p>\n\n<p>&#x201C;Lemmatizing&#x201D; a text is the process of going through the text and replacing\neach word with its lemma. This is often done in an attempt to reduce a text\nto its most &#x201C;essential&#x201D; meaning, by eliminating pesky things like verb tense\nand noun number.</p>\n\n<h3 id=\"pluralization\">Pluralization</h3>\n\n<p>There&#x2019;s one super important kind of morphology, and that&#x2019;s the rules for taking\na singular noun and turning it into a plural noun, like:</p>\n\n<pre><code>cat -&gt; cats (easy)\ncheese -&gt; cheeses (also easy...)\nknife -&gt; knives (complicated)\nchild -&gt; children (huh?)\n</code></pre>\n\n<p>Even though we as humans employ plural morphology in pretty much every\nsentence, without a second thought, the rules for how to do it are actually\nreally weird and complicated (as with all elements of human language). A\ncomputer is never going to be able to 100% accurately make this transformation.\nBut, again, some NLP libraries try. </p>\n\n<h2 id=\"using-textblob\">Using TextBlob</h2>\n\n<p>At this point, let&#x2019;s actually start using TextBlob so we can put this boring\ntheory into practice.</p>\n\n<h3 id=\"installation\">Installation</h3>\n\n<p>To use textblob, we of course need to install it! And to install it, we need to\ncreate or activate a virtualenv.</p>\n\n<pre><code>$ virtualenv venv\n$ source venv/bin/activate\n</code></pre>\n\n<p>Then, install TextBlob with <code>pip</code>:</p>\n\n<pre><code>$ pip install textblob\n</code></pre>\n\n<p>Wait as things happen. When it&#x2019;s all done, you might need to download the\nTextBlob corpora; to do so, type the following on the command line:</p>\n\n<pre><code>$ python -m textblob.download_corpora\n</code></pre>\n\n<h2 id=\"sentences-words-and-noun-phrases\">Sentences, words and noun phrases</h2>\n\n<p>Let&#x2019;s play with TextBlob in the interactive interpreter. The basic steps for\nusing TextBlob are:</p>\n\n<ul>\n <li>Create a TextBlob object, passing a string with the text we want to work with.</li>\n <li>Use various methods and attributes of the resulting object to get at various parts of the text.</li>\n</ul>\n\n<p>For example, here&#x2019;s how to get a list of sentences from a string:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import TextBlob\n&gt;&gt;&gt; blob = TextBlob(\"ITP is a two-year graduate program located in the Tisch School of the Arts. Perhaps the best way to describe us is as a Center for the Recently Possible.\")\n&gt;&gt;&gt; for sentence in blob.sentences:\n... print sentence\nITP is a two-year graduate program located in the Tisch School of the Arts.\nPerhaps the best way to describe us is as a Center for the Recently Possible.\n</pre>\n\n<p>The <code>.sentences</code> attribute of the resulting object is a list of sentences in the text. (Much easier than trying to split on punctuation, right?)</p>\n\n<p>Each sentence object also has an attribute <code>.words</code> that has a list of words in\nthat sentence.</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import TextBlob\n&gt;&gt;&gt; blob = TextBlob(\"ITP is a two-year graduate program located in the Tisch School of the Arts. Perhaps the best way to describe us is as a Center for the Recently Possible.\")\n&gt;&gt;&gt; for word in blob.sentences[1].words:\n... print word\nPerhaps\nthe\nbest\nway\nto\ndescribe\nus\nis\nas\na\nCenter\nfor\nthe\nRecently\nPossible\n</pre>\n\n<p>The TextBlob object also has a &#x201C;.noun_phrases&#x201D; attribute that simply returns the text of all noun phrases found in the original text:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import TextBlob\n&gt;&gt;&gt; blob = TextBlob(\"ITP is a two-year graduate program located in the Tisch School of the Arts. Perhaps the best way to describe us is as a Center for the Recently Possible.\")\n&gt;&gt;&gt; for np in blob.noun_phrases:\n... print np\nitp\ntwo-year graduate program\ntisch\nrecently\n</pre>\n\n<p>(As you can see, this isn&#x2019;t terribly accurate, but we&#x2019;re working with computers\nhere. What are you going to do.)</p>\n\n<h3 id=\"tagging-parts-of-speech\">&#x201C;Tagging&#x201D; parts of speech</h3>\n\n<p>TextBlob can also tell us what part of speech each word in a text corresponds\nto. It can tell us if a word in a sentence is functioning as a noun, an\nadjective, a verb, etc. In NLP, associating a word with a part of speech is\ncalled &#x201C;tagging.&#x201D; Correspondingly, the attribute of the <code>TextBlob</code> object\nwe&#x2019;ll use to access this information is <code>.tags</code>.</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import TextBlob\n&gt;&gt;&gt; blob = TextBlob(\"I have a lovely bunch of coconuts.\")\n&gt;&gt;&gt; for word, pos in blob.tags:\n... print word, pos\nI PRP\nhave VBP\na DT\nlovely JJ\nbunch NN\nof IN\ncoconuts NNS\n</pre>\n\n<p>This <code>for</code> loop is a little weird, because it has <em>two</em> temporary loop\nvariables instead of one. (The underlying reason for this is that <code>.tags</code>\nevaluates to a list of two-item tuples, which we can automatically unpack\nby specifying two items in the for loop. Don&#x2019;t worry about this if it doesn&#x2019;t\nmake sense. Just know that when we&#x2019;re using the <code>.tags</code> attribute, you need\ntwo loop variables instead of one.) The first variable, which we&#x2019;ve called\n<code>word</code> here, contains the word; the second variable, called <code>pos</code> here,\ncontains the part of speech.</p>\n\n<p>Here&#x2019;s a brief list of what the tags mean. You can see a more complete list of POS tag meanings <a href=\"http://www.clips.ua.ac.be/pages/mbsp-tags\">here</a>.</p>\n\n<ul>\n <li>NN: noun</li>\n <li>JJ: adjective</li>\n <li>IN: preposition</li>\n <li>VB_: verb (the <code>_</code> gets replaced with various letters depending on the form of the verb)</li>\n</ul>\n\n<h3 id=\"pluralization-1\">Pluralization</h3>\n\n<p>The TextBlob library comes with a built-in kind of object called <code>Word</code>. If\nyou create a <code>Word</code> object, you can use its <code>.pluralize()</code> method to get the\nplural form of that word:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; w = Word(\"university\")\n&gt;&gt;&gt; print w.pluralize()\nuniversities\n</pre>\n\n<p><code>Word</code> objects also have a <code>.lemmatize()</code> method, which returns the word, but with all morphology (suffixes, etc.) removed.</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; w = Word(\"running\")\n&gt;&gt;&gt; print w.lemmatize()\nrunning\n</pre>\n\n<p>All items in the <code>.words</code> and <code>.tags</code> attribute of a sentence are also secretly\n<code>Word</code> objects, so you can call the <code>.pluralize()</code> method on those items when\n(e.g.) looping through a list:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import TextBlob\n&gt;&gt;&gt; blob = TextBlob(\"I spy a lion, a tiger, and a bear.\")\n&gt;&gt;&gt; sentence = blob.sentences[0]\n&gt;&gt;&gt; for word, pos in sentence.tags:\n... if pos == 'NN':\n... print word.pluralize()\nspies\nlions\ntigers\n</pre>\n\n<h2 id=\"some-examples\">Some examples</h2>\n\n<h3 id=\"print-only-short-sentences\">Print only short sentences</h3>\n\n<p>This example takes an arbitrary input text and parses it into sentences. It\nthen prints out ten random sentences from the text that have five or fewer\nwords.</p>\n\n<pre>\nfrom textblob import TextBlob\nimport random\nimport sys\n\n# stdin's read() method just reads in all of standard input as a string;\n# use the decode method to convert to ascii (textblob prefers ascii)\ntext = sys.stdin.read().decode('ascii', errors=\"replace\")\nblob = TextBlob(text)\n\nshort_sentences = list()\nfor sentence in blob.sentences:\n if len(sentence.words) &lt;= 5:\n short_sentences.append(sentence.replace(\"\\n\", \" \"))\n\nfor item in random.sample(short_sentences, 10):\n\tprint item\n</pre>\n<p>Program: hemingwayize.py</p>\n\n<p>Here&#x2019;s what it looks like when using <em>Pride and Prejudice</em> as input:</p>\n\n<pre>$ python hemingwayize.py &lt; austen.txt\n\"No, not at all.\"\n\"Oh!\n\"Ten thousand pounds!\n.\nsaid Frank Churchill.\nimpossible!\"\n'Lord!'\nBut the effort was painful.\nBut what shall I say?\nLet Wickham be _your_ man.\n</pre>\n\n<h4 id=\"dealing-with-unicode-errors\">Dealing with Unicode errors</h4>\n\n<p>Wait, what&#x2019;s all that <code>decode('ascii', errors=\"replace\")</code> business there?\nIt turns out that TextBlob is really finicky about text: if it gets anything\nexcept plain ASCII text, it has a propensity to return strange errors. The\n<code>decode</code> method can be called on any string; you can use it to remove any\nnon-ASCII characters from a string, making it safe for TextBlob. Use <code>replace</code>\nto replace non-ASCII characters with a placeholder, or <code>ignore</code> to remove them\nentirely. For example:</p>\n\n<pre>\n&gt;&gt;&gt; string_with_stuff = \"weird \\xe1ccents\"\n&gt;&gt;&gt; print string_with_stuff.decode('ascii', errors=\"ignore\")\nweird ccents\n</pre>\n\n<h3 id=\"turn-any-text-into-a-list-of-instructions\">Turn any text into a list of instructions</h3>\n\n<p>This program extracts all noun phrases from a text, and all verbs; it then\nrandomly selects from these lists to generate dada instructions from the text.</p>\n\n<pre>\nfrom textblob import TextBlob\nimport sys\nimport random\n\ntext = sys.stdin.read().decode('ascii', errors=\"replace\")\nblob = TextBlob(text)\n\nnoun_phrases = blob.noun_phrases\n\nverbs = list()\nfor word, tag in blob.tags:\n if tag == 'VB':\n verbs.append(word.lemmatize())\n\nfor i in range(1, 11):\n print \"Step \" + str(i) + \". \" + random.choice(verbs).title() + \" \" + \\\n random.choice(noun_phrases)\n</pre>\n<p>Program: instructify.py</p>\n\n<p>Using some H. P. Lovecraft as input:</p>\n\n<pre>$ python instructify.py &lt; lovecraft.txt\nStep 1. Sail thick forests\nStep 2. Come new yearnings\nStep 3. Lessen long grass\nStep 4. Buy books men\nStep 5. Come kuranes\nStep 6. Prove new name\nStep 7. Exist ship\nStep 8. Sail celephais\nStep 9. Remember white summit\nStep 10. Be old world\n</pre>\n\n<h3 id=\"create-a-summary-of-a-text\">Create a &#x201C;summary&#x201D; of a text</h3>\n\n<p>This program &#x201C;summarizes&#x201D; a text in a very basic way. It does so by examining\nthe part of speech of each word, and appending the word to a list if the word\nis a noun; it then prints out five random nouns from the text in plural form.</p>\n\n<pre>\nfrom textblob import TextBlob, Word\nimport sys\nimport random\n\ntext = sys.stdin.read().decode('ascii', errors=\"ignore\")\nblob = TextBlob(text)\n\nnouns = list()\nfor word, tag in blob.tags:\n\tif tag == 'NN':\n\t\tnouns.append(word.lemmatize())\n\nprint \"This text is about...\"\nfor item in random.sample(nouns, 5):\n\tword = Word(item)\n\tprint word.pluralize()\n</pre>\n<p>Program: summarize_nouns.py</p>\n\n<p>Using Lovecraft as input, once again:</p>\n\n<pre>$ python summarize_nouns.py &lt; lovecraft.txt\nThis text is about...\nmen\nworlds\nseas\nflows\nautumns\n</pre>\n\n<h2 id=\"wordnet\">Wordnet</h2>\n\n<p>TextBlob also provides an interface to WordNet data. <a href=\"http://wordnet.princeton.edu/\">WordNet</a> is basically a computer-readable thesaurus. <a href=\"http://wordnetweb.princeton.edu/perl/webwn\">You can use it online\nhere</a>.</p>\n\n<p>Wordnet&#x2019;s most basic unit is the <em>synset</em>. A synset is essentially a &#x201C;group&#x201D; of\ndifferent words that all mean the &#x201C;same&#x201D; thing. For example, wordnet might\ngroup &#x201C;kitty,&#x201D; &#x201C;cat,&#x201D; &#x201C;feline,&#x201D; etc. into a synset, categorized under the\nabstract concept of <em>CAT</em>.</p>\n\n<p>You can get a list of synsets that wordnet thinks a word belongs to like so:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; bank = Word(\"bank\")\n&gt;&gt;&gt; synsets = bank.synsets\n&gt;&gt;&gt; print synsets\n[Synset('bank.n.01'), Synset('depository_financial_institution.n.01'), Synset('bank.n.03'), Synset('bank.n.04'), Synset('bank.n.05'), Synset('bank.n.06'), Synset('bank.n.07'), Synset('savings_bank.n.02'), Synset('bank.n.09'), Synset('bank.n.10'), Synset('bank.v.01'), Synset('bank.v.02'), Synset('bank.v.03'), Synset('bank.v.04'), Synset('bank.v.05'), Synset('deposit.v.02'), Synset('bank.v.07'), Synset('trust.v.01')]\n</pre>\n\n<p>As you can see, the word &#x201C;bank&#x201D; belongs to many different synsets! We can print\nout WordNet&#x2019;s definition for a synset like so:</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; synsets = Word(\"bank\").synsets\n&gt;&gt;&gt; for synset in synsets:\n... print synset.definition()\nsloping land (especially the slope beside a body of water)\na financial institution that accepts deposits and channels the money into lending activities\na long ridge or pile\nan arrangement of similar objects in a row or in tiers\na supply or stock held in reserve for future use (especially in emergencies)\nthe funds held by a gambling house or the dealer in some gambling games\na slope in the turn of a road or track; the outside is higher than the inside in order to reduce the effects of centrifugal force\na container (usually with a slot in the top) for keeping money at home\na building in which the business of banking transacted\na flight maneuver; aircraft tips laterally about its longitudinal axis (especially in turning)\ntip laterally\nenclose with a bank\ndo business with a bank or keep an account at a bank\nact as the banker in a game or in gambling\nbe in the banking business\nput into a bank account\ncover with ashes so to control the rate of burning\nhave confidence or faith in\n</pre>\n\n<p>You can restrict which synsets to retrieve for a word for that word only when\nused as a particular part of speech (say noun or verb).</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; from textblob.wordnet import NOUN\n&gt;&gt;&gt; synsets = Word(\"bank\").get_synsets(pos=NOUN)\n&gt;&gt;&gt; for synset in synsets:\n... print synset.definition()\nsloping land (especially the slope beside a body of water)\na financial institution that accepts deposits and channels the money into lending activities\na long ridge or pile\nan arrangement of similar objects in a row or in tiers\na supply or stock held in reserve for future use (especially in emergencies)\nthe funds held by a gambling house or the dealer in some gambling games\na slope in the turn of a road or track; the outside is higher than the inside in order to reduce the effects of centrifugal force\na container (usually with a slot in the top) for keeping money at home\na building in which the business of banking transacted\na flight maneuver; aircraft tips laterally about its longitudinal axis (especially in turning)\n</pre>\n\n<p>We can also take any synset and use its <code>.lemma_names()</code> method to get all of\nthe words belonging to the synset, essentially giving us a list of synonyms\n(words that mean the same thing). Let&#x2019;s find synonyms for &#x201C;bank&#x201D; in the sense\nof &#x201C;financial institutions&#x201D; (element 1 from the list above):</p>\n\n<pre>\n&gt;&gt;&gt; from textblob import Word\n&gt;&gt;&gt; from textblob.wordnet import NOUN\n&gt;&gt;&gt; synsets = Word(\"bank\").get_synsets(pos=NOUN)\n&gt;&gt;&gt; print synsets[1].lemma_names()\n[u'depository_financial_institution', u'bank', u'banking_concern', u'banking_company']\n</pre>\n\n<p>Thanks, WordNet!</p>\n\n<h3 id=\"example-synonymize\">Example: Synonymize</h3>\n\n<p>This program reads in a ext, parses it into words, and then replaces each \nword with a random synonym (according to WordNet). Only words with three\nor more letters that have synonyms in WordNet are replaced.</p>\n\n<pre>\nfrom textblob import Word\nimport sys\nimport random\n\nfor line in sys.stdin:\n line = line.strip()\n line = line.decode('ascii', errors=\"replace\")\n words = line.split(\" \")\n output = list()\n for word_str in words:\n word_obj = Word(word_str)\n if len(word_str) &gt; 3 and len(word_obj.synsets) &gt; 0:\n random_synset = random.choice(word_obj.synsets)\n random_lemma = random.choice(random_synset.lemma_names)\n output.append(random_lemma.replace('_', ' '))\n else:\n output.append(word_str)\n print \" \".join(output)\n</pre>\n<p>Program: synonymize.py</p>\n\n<pre>$ python synonymize.py &lt; sea_rose.txt\nRose, harsh rose,\nscarred and with stretch of petals,\nmeager flower, thin,\nspare of leaf,\n\nmore wanted\nthan a wet climb up\nsingle on a stem --\nyou are catch in the drift.\n\nStunted, with minuscule leaf,\nyou are fling on the sand,\nyou are lift\nin the sharp sand\nthat drive in the wind.\n\nCan the spice-rose\ndrop such acid fragrancy\nharden in a leaf?\n</pre>\n\n<h2 id=\"further-reading\">Further reading</h2>\n\n\n\n\n</article>\n\n\n </div>"
    }, {
        "title": "Meteor React tutorial updated - match made in heaven.",
        "url": "http://sergiotapia.me/2015/09/18/react-and-meteor-match-made-in-heaven/",
        "excerpt": "Meteor is still kind of in that wild west style point in time where things move fast, and today's good advice is tomorrow's bad practice. (RIP IronRouter) In this article, I'm going to teach you how&hellip;",
        "date_saved": "Thu Jul 28 20:10:47 EDT 2016",
        "html_file": "meteor_react_tutorial_updated__match_made_in_heaven.html",
        "png_file": "meteor_react_tutorial_updated__match_made_in_heaven.png",
        "md_file": "meteor_react_tutorial_updated__match_made_in_heaven.md",
        "content": "<div><section class=\"post-content\">\n <p>Meteor is still kind of in that wild west style point in time where things move fast, and today's good advice is tomorrow's bad practice.</p>\n\n<p><em>(RIP IronRouter)</em></p>\n\n<p>In this article, I'm going to teach you how to integrate React into a Meteor application in a clear, concise no bullshit way. It's going to use current best practices, proven packages, and easy to understand folder/file structure.</p>\n\n<p>Why should you use React? <a href=\"http://reactfordesigners.com/labs/reactjs-introduction-for-people-who-know-just-enough-jquery-to-get-by/\">Read this article</a> if you want to see what the hype is about. If this article doesn't convince then you maybe React isn't for you.</p>\n\n<p>Let's get started.</p>\n\n\n\n<p>First create the project.</p>\n\n<pre><code>meteor create reactexample \ncd reactexample \n</code></pre>\n\n<p>Add the package we're going to need.</p>\n\n<pre><code>meteor add react \nmeteor add kadira:react-layout \nmeteor add kadira:flow-router \n</code></pre>\n\n<p>The <code>react</code> package is the official MDG Meteor package for React integration.</p>\n\n<p>The <code>kadira:react-layout</code> package is going to allow us to natively invoke React components in our routes.</p>\n\n<p>And finally <code>kadira:flow-router</code> is going to allow us to route urls to render specific components.</p>\n\n\n\n<p>Erase the original three files generated for your brand new project, and create a folder called <code>client</code>.</p>\n\n<p>In there create a <code>main.html</code> and a <code>main.jsx</code>.</p>\n\n<pre><code>&lt;!-- This is inside main.html --&gt; \n&lt;head&gt; \n &lt;title&gt;Example React App&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt; \n &lt;div id=\"react-root\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n// This is inside main.jsx\nMainLayout = React.createClass({ \n render() {\n return (\n &lt;div&gt;\n &lt;Header /&gt;\n &lt;div class=\"container\"&gt;\n {this.props.content}\n &lt;/div&gt;\n &lt;Footer /&gt;\n &lt;/div&gt;\n )\n }\n});\n</code></pre>\n\n<p>Notice how the .html file has a <code>#react-root</code> div. That's where the MainLayout is going to be rendered, let's wire that up.</p>\n\n<p>Create a folder called <code>lib</code> at your root and a file called <code>router.jsx</code> inside.</p>\n\n<pre><code>FlowRouter.route('/', { \n action() {\n ReactLayout.render(MainLayout, { content: &lt;Wall /&gt; });\n }\n});\n</code></pre>\n\n<p>Whenever someone visits the root path, we're going to render the <code>MainLayout</code> component to the <code>#react-root</code> div. Notice we're also passing along a parameter, a simple dummy React component. Let's create these components next.</p>\n\n<p>Make your folders looks something like:</p>\n\n<pre><code>/client\n /components\n wall.jsx\n /layout\n footer.jsx\n header.jsx\n/lib\n router.jsx\n</code></pre>\n\n<p>Cool stuff! So we have a folder for our components and another for our layout components such as <code>Header</code> and <code>Footer</code>.</p>\n\n<pre><code>// This is inside header.jsx\nHeader = React.createClass({ \n render() {\n return (\n &lt;div class=\"header\"&gt;\n &lt;p&gt;This is the header.&lt;/p&gt;\n &lt;/div&gt;\n )\n }\n})\n\n// This is inside footer.jsx\nFooter = React.createClass({ \n render() {\n return (\n &lt;div class=\"footer\"&gt;\n &lt;p&gt;This is the footer.&lt;/p&gt;\n &lt;/div&gt;\n )\n }\n});\n\n// This is inside wall.jsx\nWall = React.createClass({ \n render() {\n return (\n &lt;div class=\"footer\"&gt;\n &lt;h1&gt;Welcome to the Wall!&lt;/h1&gt;\n &lt;/div&gt;\n )\n }\n});\n</code></pre>\n\n\n\n<p>Now run your server and you should see your React components rendered nicely.</p>\n\n<p>In the next article, I'm going to be creating some Components that use Mongo data - again super simple stuff, and you'll see that by using React you've made publishing and subscribing even easier to reason about.</p>\n </section>\n\n </div>"
    }, {
        "title": "Document Clustering with Python",
        "url": "http://brandonrose.org/clustering",
        "excerpt": "In this guide, I will explain how to cluster a set of documents using Python. My motivating example is to identify the latent structures within the synopses of the top 100 films of all time (per an&hellip;",
        "date_saved": "Thu Jul 28 20:10:50 EDT 2016",
        "html_file": "document_clustering_with_python.html",
        "png_file": "document_clustering_with_python.png",
        "md_file": "document_clustering_with_python.md",
        "content": "<div><div class=\"container\" id=\"notebook-container\">\n\n\n\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p><img src=\"http://brandonrose.org/header_short.jpg\"></p>\n<p>In this guide, I will explain how to cluster a set of documents using Python. My motivating example is to identify the latent structures within the synopses of the top 100 films of all time (per an IMDB list). See <a href=\"http://www.brandonrose.org/top100\">the original post</a> for a more detailed discussion on the example. This guide covers:</p>\n\n<p>Note that my <a href=\"https://github.com/brandomr/document_cluster\">github repo</a> for the whole project is available. The 'cluster_analysis' workbook is fully functional; the 'cluster_analysis_web' workbook has been trimmed down for the purpose of creating this walkthrough. Feel free to download the repo and use 'cluster_analysis' to step through the guide yourself.</p>\n<p>If you have any questions for me, feel free to reach out on Twitter to <a href=\"https://twitter.com/brandonmrose\">@brandonmrose</a></p>\n</div>\n</div>\n</div>\n\n\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>But first, I import everything I am going to need up front</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[4]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">nltk</span>\n<span class=\"kn\">import</span> <span class=\"nn\">re</span>\n<span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">codecs</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sklearn</span> <span class=\"kn\">import</span> <span class=\"n\">feature_extraction</span>\n<span class=\"kn\">import</span> <span class=\"nn\">mpld3</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\nFor the purposes of this walkthrough, imagine that I have 2 primary lists:\n<ul>\n<li>\n<em>'titles'</em>: the titles of the films in their rank order\n</li><li>\n<em>'synopses'</em>: the synopses of the films matched to the 'titles' order\n</li></ul>\n<p>In the full workbook that I posted to github you can walk through the import of these lists, but for brevity just keep in mind that for the rest of this walk-through I will focus on using these two lists. Of primary importance is the <em><strong>'synopses'</strong></em> list; <em>'titles'</em> is mostly used for labeling purposes.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[17]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"k\">print</span> <span class=\"n\">titles</span><span class=\"p\">[:</span><span class=\"mi\">10</span><span class=\"p\">]</span> <span class=\"c\">#first 10 titles</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\n['The Godfather', 'The Shawshank Redemption', \"Schindler's List\", 'Raging Bull', 'Casablanca', \"One Flew Over the Cuckoo's Nest\", 'Gone with the Wind', 'Citizen Kane', 'The Wizard of Oz', 'Titanic']\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[21]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"k\">print</span> <span class=\"n\">synopses</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][:</span><span class=\"mi\">200</span><span class=\"p\">]</span> <span class=\"c\">#first 200 characters in first synopses (for 'The Godfather')</span>\n<span class=\"k\">print</span>\n<span class=\"k\">print</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nPlot [edit] [ [ edit edit ] ] \n On the day of his only daughter's wedding, Vito Corleone hears requests in his role as the Godfather, the Don of a New York crime family. Vito's youngest son, Michael, \n\n\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Stopwords,-stemming,-and-tokenizing\">Stopwords, stemming, and tokenizing<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Stopwords,-stemming,-and-tokenizing\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>This section is focused on defining some functions to manipulate the synopses. First, I load <a href=\"http://www.nltk.org/\">NLTK's</a> list of English stop words. <a href=\"http://en.wikipedia.org/wiki/Stop_words\">Stop words</a> are words like \"a\", \"the\", or \"in\" which don't convey significant meaning. I'm sure there are much better explanations of this out there.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[23]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\"># load nltk's English stopwords as variable called 'stopwords'</span>\n<span class=\"n\">stopwords</span> <span class=\"o\">=</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">corpus</span><span class=\"o\">.</span><span class=\"n\">stopwords</span><span class=\"o\">.</span><span class=\"n\">words</span><span class=\"p\">(</span><span class=\"s\">'english'</span><span class=\"p\">)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[51]:\n</p>\n\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\n['i', 'me', 'my', 'myself', 'we', 'our', 'ours', 'ourselves', 'you', 'your']\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Next I import the <a href=\"http://snowball.tartarus.org/\">Snowball Stemmer</a> which is actually part of NLTK. <a href=\"http://en.wikipedia.org/wiki/Stemming\">Stemming</a> is just the process of breaking a word down into its root.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[32]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\"># load nltk's SnowballStemmer as variabled 'stemmer'</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nltk.stem.snowball</span> <span class=\"kn\">import</span> <span class=\"n\">SnowballStemmer</span>\n<span class=\"n\">stemmer</span> <span class=\"o\">=</span> <span class=\"n\">SnowballStemmer</span><span class=\"p\">(</span><span class=\"s\">\"english\"</span><span class=\"p\">)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Below I define two functions:</p>\n<ul>\n<li>\n<em>tokenize_and_stem</em>: tokenizes (splits the synopsis into a list of its respective words (or tokens) and also stems each token\n</li><li>\n<em>tokenize_only</em>: tokenizes the synopsis only\n</li></ul>\n<p>I use both these functions to create a dictionary which becomes important in case I want to use stems for an algorithm, but later convert stems back to their full words for presentation purposes. Guess what, I do want to do that!</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[33]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\"># here I define a tokenizer and stemmer which returns the set of stems in the text that it is passed</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">tokenize_and_stem</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">):</span>\n <span class=\"c\"># first tokenize by sentence, then by word to ensure that punctuation is caught as it's own token</span>\n <span class=\"n\">tokens</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">word</span> <span class=\"k\">for</span> <span class=\"n\">sent</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">sent_tokenize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">word_tokenize</span><span class=\"p\">(</span><span class=\"n\">sent</span><span class=\"p\">)]</span>\n <span class=\"n\">filtered_tokens</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n <span class=\"c\"># filter out any tokens not containing letters (e.g., numeric tokens, raw punctuation)</span>\n <span class=\"k\">for</span> <span class=\"n\">token</span> <span class=\"ow\">in</span> <span class=\"n\">tokens</span><span class=\"p\">:</span>\n <span class=\"k\">if</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"s\">'[a-zA-Z]'</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"p\">):</span>\n <span class=\"n\">filtered_tokens</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n <span class=\"n\">stems</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">stemmer</span><span class=\"o\">.</span><span class=\"n\">stem</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">filtered_tokens</span><span class=\"p\">]</span>\n <span class=\"k\">return</span> <span class=\"n\">stems</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">tokenize_only</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">):</span>\n <span class=\"c\"># first tokenize by sentence, then by word to ensure that punctuation is caught as it's own token</span>\n <span class=\"n\">tokens</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">word</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">sent</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">sent_tokenize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">word_tokenize</span><span class=\"p\">(</span><span class=\"n\">sent</span><span class=\"p\">)]</span>\n <span class=\"n\">filtered_tokens</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n <span class=\"c\"># filter out any tokens not containing letters (e.g., numeric tokens, raw punctuation)</span>\n <span class=\"k\">for</span> <span class=\"n\">token</span> <span class=\"ow\">in</span> <span class=\"n\">tokens</span><span class=\"p\">:</span>\n <span class=\"k\">if</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"s\">'[a-zA-Z]'</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"p\">):</span>\n <span class=\"n\">filtered_tokens</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n <span class=\"k\">return</span> <span class=\"n\">filtered_tokens</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Below I use my stemming/tokenizing and tokenizing functions to iterate over the list of synopses to create two vocabularies: one stemmed and one only tokenized.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[49]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#not super pythonic, no, not at all.</span>\n<span class=\"c\">#use extend so it's a big flat list of vocab</span>\n<span class=\"n\">totalvocab_stemmed</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">totalvocab_tokenized</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">synopses</span><span class=\"p\">:</span>\n <span class=\"n\">allwords_stemmed</span> <span class=\"o\">=</span> <span class=\"n\">tokenize_and_stem</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span> <span class=\"c\">#for each item in 'synopses', tokenize/stem</span>\n <span class=\"n\">totalvocab_stemmed</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"n\">allwords_stemmed</span><span class=\"p\">)</span> <span class=\"c\">#extend the 'totalvocab_stemmed' list</span>\n \n <span class=\"n\">allwords_tokenized</span> <span class=\"o\">=</span> <span class=\"n\">tokenize_only</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n <span class=\"n\">totalvocab_tokenized</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"n\">allwords_tokenized</span><span class=\"p\">)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Using these two lists, I create a pandas DataFrame with the stemmed vocabulary as the index and the tokenized words as the column. The benefit of this is it provides an efficient way to look up a stem and return a full token. The downside here is that stems to tokens are one to many: the stem 'run' could be associated with 'ran', 'runs', 'running', etc. For my purposes this is fine--I'm perfectly happy returning the first token associated with the stem I need to look up.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[48]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">vocab_frame</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">({</span><span class=\"s\">'words'</span><span class=\"p\">:</span> <span class=\"n\">totalvocab_tokenized</span><span class=\"p\">},</span> <span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"n\">totalvocab_stemmed</span><span class=\"p\">)</span>\n<span class=\"k\">print</span> <span class=\"s\">'there are '</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">vocab_frame</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"o\">+</span> <span class=\"s\">' items in vocab_frame'</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nthere are 312209 items in vocab_frame\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>You'll notice there is clearly some repetition here. I could clean it up, but there are only 312209 items in the DataFrame which isn't huge overhead in looking up a stemmed word based on the stem-index.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[50]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"k\">print</span> <span class=\"n\">vocab_frame</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">()</span>\n<span class=\"k\">print</span>\n<span class=\"k\">print</span>\n<span class=\"k\">print</span>\n<span class=\"k\">print</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\n words\nplot plot\nedit edit\nedit edit\nedit edit\non on\n\n\n\n\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Tf-idf-and-document-similarity\">Tf-idf and document similarity<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Tf-idf-and-document-similarity\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p><img src=\"http://www.jiem.org/index.php/jiem/article/viewFile/293/252/2402\"></p>\n<p>Here, I define term frequency-inverse document frequency (tf-idf) vectorizer parameters and then convert the <em>synopses</em> list into a tf-idf matrix.</p>\n<p>To get a Tf-idf matrix, first count word occurrences by document. This is transformed into a document-term matrix (dtm). This is also just called a term frequency matrix. An example of a dtm is here at right.</p>\n<p>Then apply the term frequency-inverse document frequency weighting: words that occur frequently within a document but not frequently within the corpus receive a higher weighting as these words are assumed to contain more meaning in relation to the document.</p>\n<p>A couple things to note about the parameters I define below:</p>\n<ul>\n<li>\nmax_df: this is the maximum frequency within the documents a given feature can have to be used in the tfi-idf matrix. If the term is in greater than 80% of the documents it probably cares little meanining (in the context of film synopses)\n</li><li>\nmin_idf: this could be an integer (e.g. 5) and the term would have to be in at least 5 of the documents to be considered. Here I pass 0.2; the term must be in at least 20% of the document. I found that if I allowed a lower min_df I ended up basing clustering on names--for example \"Michael\" or \"Tom\" are names found in several of the movies and the synopses use these names frequently, but the names carry no real meaning.\n</li><li>\nngram_range: this just means I'll look at unigrams, bigrams and trigrams. See <a href=\"http://en.wikipedia.org/wiki/N-gram\">n-grams</a>\n</li></ul>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[54]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">sklearn.feature_extraction.text</span> <span class=\"kn\">import</span> <span class=\"n\">TfidfVectorizer</span>\n\n<span class=\"c\">#define vectorizer parameters</span>\n<span class=\"n\">tfidf_vectorizer</span> <span class=\"o\">=</span> <span class=\"n\">TfidfVectorizer</span><span class=\"p\">(</span><span class=\"n\">max_df</span><span class=\"o\">=</span><span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"n\">max_features</span><span class=\"o\">=</span><span class=\"mi\">200000</span><span class=\"p\">,</span>\n <span class=\"n\">min_df</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">,</span> <span class=\"n\">stop_words</span><span class=\"o\">=</span><span class=\"s\">'english'</span><span class=\"p\">,</span>\n <span class=\"n\">use_idf</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">,</span> <span class=\"n\">tokenizer</span><span class=\"o\">=</span><span class=\"n\">tokenize_and_stem</span><span class=\"p\">,</span> <span class=\"n\">ngram_range</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n\n<span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">tfidf_matrix</span> <span class=\"o\">=</span> <span class=\"n\">tfidf_vectorizer</span><span class=\"o\">.</span><span class=\"n\">fit_transform</span><span class=\"p\">(</span><span class=\"n\">synopses</span><span class=\"p\">)</span> <span class=\"c\">#fit the vectorizer to synopses</span>\n\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">tfidf_matrix</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nCPU times: user 29.1 s, sys: 468 ms, total: 29.6 s\nWall time: 37.8 s\n(100, 563)\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p><em>terms</em> is just a list of the features used in the tf-idf matrix. This is a vocabulary</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[55]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">terms</span> <span class=\"o\">=</span> <span class=\"n\">tfidf_vectorizer</span><span class=\"o\">.</span><span class=\"n\">get_feature_names</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p><em>dist</em> is defined as 1 - the cosine similarity of each document. Cosine similarity is measured against the tf-idf matrix and can be used to generate a measure of similarity between each document and the other documents in the corpus (each synopsis among the synopses). Subtracting it from 1 provides cosine distance which I will use for plotting on a euclidean (2-dimensional) plane.</p>\n<p>Note that with <em>dist</em> it is possible to evaluate the similarity of any two or more synopses.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[57]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">sklearn.metrics.pairwise</span> <span class=\"kn\">import</span> <span class=\"n\">cosine_similarity</span>\n<span class=\"n\">dist</span> <span class=\"o\">=</span> <span class=\"mi\">1</span> <span class=\"o\">-</span> <span class=\"n\">cosine_similarity</span><span class=\"p\">(</span><span class=\"n\">tfidf_matrix</span><span class=\"p\">)</span>\n<span class=\"k\">print</span>\n<span class=\"k\">print</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n\n\n</div>\n\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Now onto the fun part. Using the tf-idf matrix, you can run a slew of clustering algorithms to better understand the hidden structure within the synopses. I first chose <a href=\"http://en.wikipedia.org/wiki/K-means_clustering\">k-means</a>. K-means initializes with a pre-determined number of clusters (I chose 5). Each observation is assigned to a cluster (cluster assignment) so as to minimize the within cluster sum of squares. Next, the mean of the clustered observations is calculated and used as the new cluster centroid. Then, observations are reassigned to clusters and centroids recalculated in an iterative process until the algorithm reaches convergence.</p>\n<p>I found it took several runs for the algorithm to converge a global optimum as k-means is susceptible to reaching local optima.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[66]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">sklearn.cluster</span> <span class=\"kn\">import</span> <span class=\"n\">KMeans</span>\n\n<span class=\"n\">num_clusters</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>\n\n<span class=\"n\">km</span> <span class=\"o\">=</span> <span class=\"n\">KMeans</span><span class=\"p\">(</span><span class=\"n\">n_clusters</span><span class=\"o\">=</span><span class=\"n\">num_clusters</span><span class=\"p\">)</span>\n\n<span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">km</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">tfidf_matrix</span><span class=\"p\">)</span>\n\n<span class=\"n\">clusters</span> <span class=\"o\">=</span> <span class=\"n\">km</span><span class=\"o\">.</span><span class=\"n\">labels_</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nCPU times: user 232 ms, sys: 6.64 ms, total: 239 ms\nWall time: 305 ms\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>I use joblib.dump to pickle the model, once it has converged and to reload the model/reassign the labels as the clusters.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[67]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">sklearn.externals</span> <span class=\"kn\">import</span> <span class=\"n\">joblib</span>\n\n<span class=\"c\">#uncomment the below to save your model </span>\n<span class=\"c\">#since I've already run my model I am loading from the pickle</span>\n\n<span class=\"c\">#joblib.dump(km, 'doc_cluster.pkl')</span>\n\n<span class=\"n\">km</span> <span class=\"o\">=</span> <span class=\"n\">joblib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s\">'doc_cluster.pkl'</span><span class=\"p\">)</span>\n<span class=\"n\">clusters</span> <span class=\"o\">=</span> <span class=\"n\">km</span><span class=\"o\">.</span><span class=\"n\">labels_</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Here, I create a dictionary of titles, ranks, the synopsis, the cluster assignment, and the genre [rank and genre were scraped from IMDB].</p>\n<p>I convert this dictionary to a Pandas DataFrame for easy access. I'm a huge fan of <a href=\"http://pandas.pydata.org/\">Pandas</a> and recommend taking a look at some of its awesome functionality which I'll use below, but not describe in a ton of detail.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[62]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">films</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"s\">'title'</span><span class=\"p\">:</span> <span class=\"n\">titles</span><span class=\"p\">,</span> <span class=\"s\">'rank'</span><span class=\"p\">:</span> <span class=\"n\">ranks</span><span class=\"p\">,</span> <span class=\"s\">'synopsis'</span><span class=\"p\">:</span> <span class=\"n\">synopses</span><span class=\"p\">,</span> <span class=\"s\">'cluster'</span><span class=\"p\">:</span> <span class=\"n\">clusters</span><span class=\"p\">,</span> <span class=\"s\">'genre'</span><span class=\"p\">:</span> <span class=\"n\">genres</span> <span class=\"p\">}</span>\n\n<span class=\"n\">frame</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">films</span><span class=\"p\">,</span> <span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">clusters</span><span class=\"p\">]</span> <span class=\"p\">,</span> <span class=\"n\">columns</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s\">'rank'</span><span class=\"p\">,</span> <span class=\"s\">'title'</span><span class=\"p\">,</span> <span class=\"s\">'cluster'</span><span class=\"p\">,</span> <span class=\"s\">'genre'</span><span class=\"p\">])</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[63]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">frame</span><span class=\"p\">[</span><span class=\"s\">'cluster'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">value_counts</span><span class=\"p\">()</span> <span class=\"c\">#number of films per cluster (clusters from 0 to 4)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\"><p class=\"prompt output_prompt\">\n Out[63]:</p>\n\n\n<div class=\"output_text output_subarea output_pyout\">\n<pre>\n4 26\n0 25\n2 21\n1 16\n3 12\ndtype: int64\n</pre>\n</div>\n\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[64]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">grouped</span> <span class=\"o\">=</span> <span class=\"n\">frame</span><span class=\"p\">[</span><span class=\"s\">'rank'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">groupby</span><span class=\"p\">(</span><span class=\"n\">frame</span><span class=\"p\">[</span><span class=\"s\">'cluster'</span><span class=\"p\">])</span> <span class=\"c\">#groupby cluster for aggregation purposes</span>\n\n<span class=\"n\">grouped</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">()</span> <span class=\"c\">#average rank (1 to 100) per cluster</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\"><p class=\"prompt output_prompt\">\n Out[64]:</p>\n\n\n<div class=\"output_text output_subarea output_pyout\">\n<pre>\ncluster\n0 47.200000\n1 58.875000\n2 49.380952\n3 54.500000\n4 43.730769\ndtype: float64\n</pre>\n</div>\n\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Note that <strong>clusters 4 and 0</strong> have the lowest rank, which indicates that they, on average, contain films that were ranked as \"better\" on the top 100 list.</p>\n<p>Here is some fancy indexing and sorting on each cluster to identify which are the top <em>n</em> (I chose <em>n</em>=6) words that are nearest to the cluster centroid. This gives a good sense of the main topic of the cluster.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[69]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">print_function</span>\n\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\"Top terms per cluster:\"</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">()</span>\n<span class=\"c\">#sort cluster centers by proximity to centroid</span>\n<span class=\"n\">order_centroids</span> <span class=\"o\">=</span> <span class=\"n\">km</span><span class=\"o\">.</span><span class=\"n\">cluster_centers_</span><span class=\"o\">.</span><span class=\"n\">argsort</span><span class=\"p\">()[:,</span> <span class=\"p\">::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> \n\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">num_clusters</span><span class=\"p\">):</span>\n <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\"Cluster </span><span class=\"si\">%d</span><span class=\"s\"> words:\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s\">''</span><span class=\"p\">)</span>\n \n <span class=\"k\">for</span> <span class=\"n\">ind</span> <span class=\"ow\">in</span> <span class=\"n\">order_centroids</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"mi\">6</span><span class=\"p\">]:</span> <span class=\"c\">#replace 6 with n words per cluster</span>\n <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">' </span><span class=\"si\">%s</span><span class=\"s\">'</span> <span class=\"o\">%</span> <span class=\"n\">vocab_frame</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">terms</span><span class=\"p\">[</span><span class=\"n\">ind</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s\">' '</span><span class=\"p\">)]</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s\">'utf-8'</span><span class=\"p\">,</span> <span class=\"s\">'ignore'</span><span class=\"p\">),</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s\">','</span><span class=\"p\">)</span>\n <span class=\"k\">print</span><span class=\"p\">()</span> <span class=\"c\">#add whitespace</span>\n <span class=\"k\">print</span><span class=\"p\">()</span> <span class=\"c\">#add whitespace</span>\n \n <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">\"Cluster </span><span class=\"si\">%d</span><span class=\"s\"> titles:\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s\">''</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">title</span> <span class=\"ow\">in</span> <span class=\"n\">frame</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">][</span><span class=\"s\">'title'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">():</span>\n <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"s\">' </span><span class=\"si\">%s</span><span class=\"s\">,'</span> <span class=\"o\">%</span> <span class=\"n\">title</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">=</span><span class=\"s\">''</span><span class=\"p\">)</span>\n <span class=\"k\">print</span><span class=\"p\">()</span> <span class=\"c\">#add whitespace</span>\n <span class=\"k\">print</span><span class=\"p\">()</span> <span class=\"c\">#add whitespace</span>\n \n<span class=\"k\">print</span><span class=\"p\">()</span>\n<span class=\"k\">print</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nTop terms per cluster:\n\nCluster 0 words: family, home, mother, war, house, dies,\n\nCluster 0 titles: Schindler's List, One Flew Over the Cuckoo's Nest, Gone with the Wind, The Wizard of Oz, Titanic, Forrest Gump, E.T. the Extra-Terrestrial, The Silence of the Lambs, Gandhi, A Streetcar Named Desire, The Best Years of Our Lives, My Fair Lady, Ben-Hur, Doctor Zhivago, The Pianist, The Exorcist, Out of Africa, Good Will Hunting, Terms of Endearment, Giant, The Grapes of Wrath, Close Encounters of the Third Kind, The Graduate, Stagecoach, Wuthering Heights,\n\nCluster 1 words: police, car, killed, murders, driving, house,\n\nCluster 1 titles: Casablanca, Psycho, Sunset Blvd., Vertigo, Chinatown, Amadeus, High Noon, The French Connection, Fargo, Pulp Fiction, The Maltese Falcon, A Clockwork Orange, Double Indemnity, Rebel Without a Cause, The Third Man, North by Northwest,\n\nCluster 2 words: father, new, york, new, brothers, apartments,\n\nCluster 2 titles: The Godfather, Raging Bull, Citizen Kane, The Godfather: Part II, On the Waterfront, 12 Angry Men, Rocky, To Kill a Mockingbird, Braveheart, The Good, the Bad and the Ugly, The Apartment, Goodfellas, City Lights, It Happened One Night, Midnight Cowboy, Mr. Smith Goes to Washington, Rain Man, Annie Hall, Network, Taxi Driver, Rear Window,\n\nCluster 3 words: george, dance, singing, john, love, perform,\n\nCluster 3 titles: West Side Story, Singin' in the Rain, It's a Wonderful Life, Some Like It Hot, The Philadelphia Story, An American in Paris, The King's Speech, A Place in the Sun, Tootsie, Nashville, American Graffiti, Yankee Doodle Dandy,\n\nCluster 4 words: killed, soldiers, captain, men, army, command,\n\nCluster 4 titles: The Shawshank Redemption, Lawrence of Arabia, The Sound of Music, Star Wars, 2001: A Space Odyssey, The Bridge on the River Kwai, Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb, Apocalypse Now, The Lord of the Rings: The Return of the King, Gladiator, From Here to Eternity, Saving Private Ryan, Unforgiven, Raiders of the Lost Ark, Patton, Jaws, Butch Cassidy and the Sundance Kid, The Treasure of the Sierra Madre, Platoon, Dances with Wolves, The Deer Hunter, All Quiet on the Western Front, Shane, The Green Mile, The African Queen, Mutiny on the Bounty,\n\n\n\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Multidimensional-scaling\">Multidimensional scaling<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Multidimensional-scaling\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[74]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">import</span> <span class=\"nn\">os</span> <span class=\"c\"># for os.path.basename</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"kn\">as</span> <span class=\"nn\">plt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">matplotlib</span> <span class=\"kn\">as</span> <span class=\"nn\">mpl</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">sklearn.manifold</span> <span class=\"kn\">import</span> <span class=\"n\">MDS</span>\n\n<span class=\"n\">MDS</span><span class=\"p\">()</span>\n\n<span class=\"c\"># convert two components as we're plotting points in a two-dimensional plane</span>\n<span class=\"c\"># \"precomputed\" because we provide a distance matrix</span>\n<span class=\"c\"># we will also specify `random_state` so the plot is reproducible.</span>\n<span class=\"n\">mds</span> <span class=\"o\">=</span> <span class=\"n\">MDS</span><span class=\"p\">(</span><span class=\"n\">n_components</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">dissimilarity</span><span class=\"o\">=</span><span class=\"s\">\"precomputed\"</span><span class=\"p\">,</span> <span class=\"n\">random_state</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"n\">pos</span> <span class=\"o\">=</span> <span class=\"n\">mds</span><span class=\"o\">.</span><span class=\"n\">fit_transform</span><span class=\"p\">(</span><span class=\"n\">dist</span><span class=\"p\">)</span> <span class=\"c\"># shape (n_components, n_samples)</span>\n\n<span class=\"n\">xs</span><span class=\"p\">,</span> <span class=\"n\">ys</span> <span class=\"o\">=</span> <span class=\"n\">pos</span><span class=\"p\">[:,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">pos</span><span class=\"p\">[:,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"k\">print</span><span class=\"p\">()</span>\n<span class=\"k\">print</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Visualizing-document-clusters\">Visualizing document clusters<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Visualizing-document-clusters\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>In this section, I demonstrate how you can visualize the document clustering output using matplotlib and mpld3 (a matplotlib wrapper for D3.js).</p>\n<p>First I define some dictionaries for going from cluster number to color and to cluster name. I based the cluster names off the words that were closest to each cluster centroid.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[75]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#set up colors per clusters using a dict</span>\n<span class=\"n\">cluster_colors</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">:</span> <span class=\"s\">'#1b9e77'</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">:</span> <span class=\"s\">'#d95f02'</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">:</span> <span class=\"s\">'#7570b3'</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">:</span> <span class=\"s\">'#e7298a'</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">:</span> <span class=\"s\">'#66a61e'</span><span class=\"p\">}</span>\n\n<span class=\"c\">#set up cluster names using a dict</span>\n<span class=\"n\">cluster_names</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">:</span> <span class=\"s\">'Family, home, war'</span><span class=\"p\">,</span> \n <span class=\"mi\">1</span><span class=\"p\">:</span> <span class=\"s\">'Police, killed, murders'</span><span class=\"p\">,</span> \n <span class=\"mi\">2</span><span class=\"p\">:</span> <span class=\"s\">'Father, New York, brothers'</span><span class=\"p\">,</span> \n <span class=\"mi\">3</span><span class=\"p\">:</span> <span class=\"s\">'Dance, singing, love'</span><span class=\"p\">,</span> \n <span class=\"mi\">4</span><span class=\"p\">:</span> <span class=\"s\">'Killed, soldiers, captain'</span><span class=\"p\">}</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Next, I plot the labeled observations (films, film titles) colored by cluster using matplotlib. I won't get into too much detail about the matplotlib plot, but I tried to provide some helpful commenting.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[51]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#some ipython magic to show the matplotlib plots inline</span>\n<span class=\"o\">%</span><span class=\"k\">matplotlib</span> <span class=\"n\">inline</span> \n\n<span class=\"c\">#create data frame that has the result of the MDS plus the cluster numbers and titles</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">xs</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">ys</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"n\">clusters</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"n\">titles</span><span class=\"p\">))</span> \n\n<span class=\"c\">#group by cluster</span>\n<span class=\"n\">groups</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">groupby</span><span class=\"p\">(</span><span class=\"s\">'label'</span><span class=\"p\">)</span>\n\n\n<span class=\"c\"># set up plot</span>\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">17</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">))</span> <span class=\"c\"># set size</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">margins</span><span class=\"p\">(</span><span class=\"mf\">0.05</span><span class=\"p\">)</span> <span class=\"c\"># Optional, just adds 5% padding to the autoscaling</span>\n\n<span class=\"c\">#iterate through groups to layer the plot</span>\n<span class=\"c\">#note that I use the cluster_name and cluster_color dicts with the 'name' lookup to return the appropriate color/label</span>\n<span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">group</span> <span class=\"ow\">in</span> <span class=\"n\">groups</span><span class=\"p\">:</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">marker</span><span class=\"o\">=</span><span class=\"s\">'o'</span><span class=\"p\">,</span> <span class=\"n\">linestyle</span><span class=\"o\">=</span><span class=\"s\">''</span><span class=\"p\">,</span> <span class=\"n\">ms</span><span class=\"o\">=</span><span class=\"mi\">12</span><span class=\"p\">,</span> \n <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"n\">cluster_names</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">],</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">cluster_colors</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">],</span> \n <span class=\"n\">mec</span><span class=\"o\">=</span><span class=\"s\">'none'</span><span class=\"p\">)</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_aspect</span><span class=\"p\">(</span><span class=\"s\">'auto'</span><span class=\"p\">)</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">tick_params</span><span class=\"p\">(</span>\\\n <span class=\"n\">axis</span><span class=\"o\">=</span> <span class=\"s\">'x'</span><span class=\"p\">,</span> <span class=\"c\"># changes apply to the x-axis</span>\n <span class=\"n\">which</span><span class=\"o\">=</span><span class=\"s\">'both'</span><span class=\"p\">,</span> <span class=\"c\"># both major and minor ticks are affected</span>\n <span class=\"n\">bottom</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the bottom edge are off</span>\n <span class=\"n\">top</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the top edge are off</span>\n <span class=\"n\">labelbottom</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">)</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">tick_params</span><span class=\"p\">(</span>\\\n <span class=\"n\">axis</span><span class=\"o\">=</span> <span class=\"s\">'y'</span><span class=\"p\">,</span> <span class=\"c\"># changes apply to the y-axis</span>\n <span class=\"n\">which</span><span class=\"o\">=</span><span class=\"s\">'both'</span><span class=\"p\">,</span> <span class=\"c\"># both major and minor ticks are affected</span>\n <span class=\"n\">left</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the bottom edge are off</span>\n <span class=\"n\">top</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the top edge are off</span>\n <span class=\"n\">labelleft</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">)</span>\n \n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">(</span><span class=\"n\">numpoints</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"c\">#show legend with only 1 point</span>\n\n<span class=\"c\">#add label in x,y position with the label as the film title</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)):</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">][</span><span class=\"s\">'x'</span><span class=\"p\">],</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">][</span><span class=\"s\">'y'</span><span class=\"p\">],</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">][</span><span class=\"s\">'title'</span><span class=\"p\">],</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">)</span> \n\n \n \n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span> <span class=\"c\">#show the plot</span>\n\n<span class=\"c\">#uncomment the below to save the plot if need be</span>\n<span class=\"c\">#plt.savefig('clusters_small_noaxes.png', dpi=200)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n\n\n\n\n</div>\n\n</div>\n</div>\n\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>The clustering plot looks great, but it pains my eyes to see overlapping labels. Having some experience with <a href=\"http://d3js.org/\">D3.js</a> I knew one solution would be to use a browser based/javascript interactive. Fortunately, I recently stumbled upon <a href=\"https://mpld3.github.io/\">mpld3</a> a matplotlib wrapper for D3. Mpld3 basically let's you use matplotlib syntax to create web interactives. It has a really easy, high-level API for adding tooltips on mouse hover, which is what I am interested in.</p>\n<p>It also has some nice functionality for zooming and panning. The below javascript snippet basicaly defines a custom location for where the zoom/pan toggle resides. Don't worry about it too much and you actually don't need to use it, but it helped for formatting purposes when exporting to the web later. The only thing you might want to change is the x and y attr for the position of the toolbar.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[77]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#define custom toolbar location</span>\n<span class=\"k\">class</span> <span class=\"nc\">TopToolbar</span><span class=\"p\">(</span><span class=\"n\">mpld3</span><span class=\"o\">.</span><span class=\"n\">plugins</span><span class=\"o\">.</span><span class=\"n\">PluginBase</span><span class=\"p\">):</span>\n <span class=\"sd\">\"\"\"Plugin for moving toolbar to top of figure\"\"\"</span>\n\n <span class=\"n\">JAVASCRIPT</span> <span class=\"o\">=</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\"> mpld3.register_plugin(\"toptoolbar\", TopToolbar);</span>\n<span class=\"s\"> TopToolbar.prototype = Object.create(mpld3.Plugin.prototype);</span>\n<span class=\"s\"> TopToolbar.prototype.constructor = TopToolbar;</span>\n<span class=\"s\"> function TopToolbar(fig, props){</span>\n<span class=\"s\"> mpld3.Plugin.call(this, fig, props);</span>\n<span class=\"s\"> };</span>\n\n<span class=\"s\"> TopToolbar.prototype.draw = function(){</span>\n<span class=\"s\"> // the toolbar svg doesn't exist</span>\n<span class=\"s\"> // yet, so first draw it</span>\n<span class=\"s\"> this.fig.toolbar.draw();</span>\n\n<span class=\"s\"> // then change the y position to be</span>\n<span class=\"s\"> // at the top of the figure</span>\n<span class=\"s\"> this.fig.toolbar.toolbar.attr(\"x\", 150);</span>\n<span class=\"s\"> this.fig.toolbar.toolbar.attr(\"y\", 400);</span>\n\n<span class=\"s\"> // then remove the draw function,</span>\n<span class=\"s\"> // so that it is not called again</span>\n<span class=\"s\"> this.fig.toolbar.draw = function() {}</span>\n<span class=\"s\"> }</span>\n<span class=\"s\"> \"\"\"</span>\n <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dict_</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s\">\"type\"</span><span class=\"p\">:</span> <span class=\"s\">\"toptoolbar\"</span><span class=\"p\">}</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Here is the actual creation of the interactive scatterplot. I won't go into much more detail about it since it's pretty much a straightforward copy of one of the mpld3 examples, though I use a pandas groupby to group by cluster, then iterate through the groups as I layer the scatterplot. Note that relative to doing this with raw D3, mpld3 is much simpler to integrate into your Python workflow. If you click around the rest of my website you'll see that I do love D3, but for basic interactives I will probably use mpld3 a lot going forward.</p>\n<p>Note that mpld3 lets you define some custom CSS, which I use to style the font, the axes, and the left margin on the figure.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[78]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#create data frame that has the result of the MDS plus the cluster numbers and titles</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">xs</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">ys</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"n\">clusters</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"n\">titles</span><span class=\"p\">))</span> \n\n<span class=\"c\">#group by cluster</span>\n<span class=\"n\">groups</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">groupby</span><span class=\"p\">(</span><span class=\"s\">'label'</span><span class=\"p\">)</span>\n\n<span class=\"c\">#define custom css to format the font and to remove the axis labeling</span>\n<span class=\"n\">css</span> <span class=\"o\">=</span> <span class=\"s\">\"\"\"</span>\n<span class=\"s\">text.mpld3-text, div.mpld3-tooltip {</span>\n<span class=\"s\"> font-family:Arial, Helvetica, sans-serif;</span>\n<span class=\"s\">}</span>\n\n<span class=\"s\">g.mpld3-xaxis, g.mpld3-yaxis {</span>\n<span class=\"s\">display: none; }</span>\n\n<span class=\"s\">svg.mpld3-figure {</span>\n<span class=\"s\">margin-left: -200px;}</span>\n<span class=\"s\">\"\"\"</span>\n\n<span class=\"c\"># Plot </span>\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">14</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">))</span> <span class=\"c\">#set plot size</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">margins</span><span class=\"p\">(</span><span class=\"mf\">0.03</span><span class=\"p\">)</span> <span class=\"c\"># Optional, just adds 5% padding to the autoscaling</span>\n\n<span class=\"c\">#iterate through groups to layer the plot</span>\n<span class=\"c\">#note that I use the cluster_name and cluster_color dicts with the 'name' lookup to return the appropriate color/label</span>\n<span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">group</span> <span class=\"ow\">in</span> <span class=\"n\">groups</span><span class=\"p\">:</span>\n <span class=\"n\">points</span> <span class=\"o\">=</span> <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">marker</span><span class=\"o\">=</span><span class=\"s\">'o'</span><span class=\"p\">,</span> <span class=\"n\">linestyle</span><span class=\"o\">=</span><span class=\"s\">''</span><span class=\"p\">,</span> <span class=\"n\">ms</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">,</span> \n <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"n\">cluster_names</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">],</span> <span class=\"n\">mec</span><span class=\"o\">=</span><span class=\"s\">'none'</span><span class=\"p\">,</span> \n <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">cluster_colors</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">])</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_aspect</span><span class=\"p\">(</span><span class=\"s\">'auto'</span><span class=\"p\">)</span>\n <span class=\"n\">labels</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">]</span>\n \n <span class=\"c\">#set tooltip using points, labels and the already defined 'css'</span>\n <span class=\"n\">tooltip</span> <span class=\"o\">=</span> <span class=\"n\">mpld3</span><span class=\"o\">.</span><span class=\"n\">plugins</span><span class=\"o\">.</span><span class=\"n\">PointHTMLTooltip</span><span class=\"p\">(</span><span class=\"n\">points</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">labels</span><span class=\"p\">,</span>\n <span class=\"n\">voffset</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">hoffset</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">css</span><span class=\"o\">=</span><span class=\"n\">css</span><span class=\"p\">)</span>\n <span class=\"c\">#connect tooltip to fig</span>\n <span class=\"n\">mpld3</span><span class=\"o\">.</span><span class=\"n\">plugins</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">tooltip</span><span class=\"p\">,</span> <span class=\"n\">TopToolbar</span><span class=\"p\">())</span> \n \n <span class=\"c\">#set tick marks as blank</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">axes</span><span class=\"o\">.</span><span class=\"n\">get_xaxis</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">set_ticks</span><span class=\"p\">([])</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">axes</span><span class=\"o\">.</span><span class=\"n\">get_yaxis</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">set_ticks</span><span class=\"p\">([])</span>\n \n <span class=\"c\">#set axis as blank</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">axes</span><span class=\"o\">.</span><span class=\"n\">get_xaxis</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">set_visible</span><span class=\"p\">(</span><span class=\"bp\">False</span><span class=\"p\">)</span>\n <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">axes</span><span class=\"o\">.</span><span class=\"n\">get_yaxis</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">set_visible</span><span class=\"p\">(</span><span class=\"bp\">False</span><span class=\"p\">)</span>\n\n \n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">(</span><span class=\"n\">numpoints</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"c\">#show legend with only one dot</span>\n\n<span class=\"n\">mpld3</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span> <span class=\"c\">#show the plot</span>\n\n<span class=\"c\">#uncomment the below to export to html</span>\n<span class=\"c\">#html = mpld3.fig_to_html(fig)</span>\n<span class=\"c\">#print(html)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Hierarchical-document-clustering\">Hierarchical document clustering<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Hierarchical-document-clustering\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Now that I was successfuly able to cluster and plot the documents using k-means, I wanted to try another clustering algorithm. I chose the <a href=\"http://en.wikipedia.org/wiki/Ward%27s_method\">Ward clustering algorithm</a> because it offers hierarchical clustering. Ward clustering is an agglomerative clustering method, meaning that at each stage, the pair of clusters with minimum between-cluster distance are merged. I used the precomputed cosine distance matrix (<em>dist</em>) to calclate a linkage_matrix, which I then plot as a dendrogram.</p>\n<p>Note that this method returned 3 primary clusters, with the largest cluster being split into about 4 major subclusters. Note that the cluster in red contains many of the \"Killed, soldiers, captain\" films. <em>Braveheart</em> and <em>Gladiator</em> are within the same low-level cluster which is interesting as these are probably my two favorite movies.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[83]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">scipy.cluster.hierarchy</span> <span class=\"kn\">import</span> <span class=\"n\">ward</span><span class=\"p\">,</span> <span class=\"n\">dendrogram</span>\n\n<span class=\"n\">linkage_matrix</span> <span class=\"o\">=</span> <span class=\"n\">ward</span><span class=\"p\">(</span><span class=\"n\">dist</span><span class=\"p\">)</span> <span class=\"c\">#define the linkage_matrix using ward clustering pre-computed distances</span>\n\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">))</span> <span class=\"c\"># set size</span>\n<span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">dendrogram</span><span class=\"p\">(</span><span class=\"n\">linkage_matrix</span><span class=\"p\">,</span> <span class=\"n\">orientation</span><span class=\"o\">=</span><span class=\"s\">\"right\"</span><span class=\"p\">,</span> <span class=\"n\">labels</span><span class=\"o\">=</span><span class=\"n\">titles</span><span class=\"p\">);</span>\n\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">tick_params</span><span class=\"p\">(</span>\\\n <span class=\"n\">axis</span><span class=\"o\">=</span> <span class=\"s\">'x'</span><span class=\"p\">,</span> <span class=\"c\"># changes apply to the x-axis</span>\n <span class=\"n\">which</span><span class=\"o\">=</span><span class=\"s\">'both'</span><span class=\"p\">,</span> <span class=\"c\"># both major and minor ticks are affected</span>\n <span class=\"n\">bottom</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the bottom edge are off</span>\n <span class=\"n\">top</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">,</span> <span class=\"c\"># ticks along the top edge are off</span>\n <span class=\"n\">labelbottom</span><span class=\"o\">=</span><span class=\"s\">'off'</span><span class=\"p\">)</span>\n\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">tight_layout</span><span class=\"p\">()</span> <span class=\"c\">#show plot with tight layout</span>\n\n<span class=\"c\">#uncomment below to save figure</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">savefig</span><span class=\"p\">(</span><span class=\"s\">'ward_clusters.png'</span><span class=\"p\">,</span> <span class=\"n\">dpi</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">)</span> <span class=\"c\">#save figure as ward_clusters</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n\n\n\n\n</div>\n\n</div>\n</div>\n\n</div>\n\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<h2 id=\"Latent-Dirichlet-Allocation\">Latent Dirichlet Allocation<a class=\"anchor-link\" href=\"http://brandonrose.org/clustering#Latent-Dirichlet-Allocation\">&#xB6;</a></h2>\n</div>\n</div>\n</div>\n\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>This section focuses on using <a href=\"http://en.wikipedia.org/wiki/Latent_Dirichlet_allocation\">Latent Dirichlet Allocation (LDA)</a> to learn yet more about the hidden structure within the top 100 film synopses. LDA is a probabilistic topic model that assumes documents are a mixture of topics and that each word in the document is attributable to the document's topics. There is quite a good high-level overview of probabilistic topic models by one of the big names in the field, David Blei, available in the <a href=\"http://delivery.acm.org/10.1145/2140000/2133826/p77-blei.pdf?ip=68.48.185.120&amp;id=2133826&amp;acc=OPEN&amp;key=4D4702B0C3E38B35%2E4D4702B0C3E38B35%2E4D4702B0C3E38B35%2E6D218144511F3437&amp;CFID=612398453&amp;CFTOKEN=48760790&amp;__acm__=1419436704_2d47aefe0700e44f81eb822df659a341\">Communications of the ACM here</a>. Incidentally, Blei was one of the authors of the seminal paper on LDA.</p>\n<p>For my implementaiton of LDA, I use the <a href=\"https://radimrehurek.com/gensim/\">Gensim pacakage</a>. I'm going to preprocess the synopses a bit differently here, and first I define a function to remove any proper noun.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[82]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#strip any proper names from a text...unfortunately right now this is yanking the first word from a sentence too.</span>\n<span class=\"kn\">import</span> <span class=\"nn\">string</span>\n<span class=\"k\">def</span> <span class=\"nf\">strip_proppers</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">):</span>\n <span class=\"c\"># first tokenize by sentence, then by word to ensure that punctuation is caught as it's own token</span>\n <span class=\"n\">tokens</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">word</span> <span class=\"k\">for</span> <span class=\"n\">sent</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">sent_tokenize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">nltk</span><span class=\"o\">.</span><span class=\"n\">word_tokenize</span><span class=\"p\">(</span><span class=\"n\">sent</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">word</span><span class=\"o\">.</span><span class=\"n\">islower</span><span class=\"p\">()]</span>\n <span class=\"k\">return</span> <span class=\"s\">\"\"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"s\">\" \"</span><span class=\"o\">+</span><span class=\"n\">i</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s\">\"'\"</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"n\">i</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">string</span><span class=\"o\">.</span><span class=\"n\">punctuation</span> <span class=\"k\">else</span> <span class=\"n\">i</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">tokens</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Since the above function is just based on capitalization, it is prone to remove words at the beginning of sentences. So, I wrote the below function using NLTK's part of speech tagger. However, it took way too long to run across all synopses, so I stuck with the above.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[80]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#strip any proper nouns (NNP) or plural proper nouns (NNPS) from a text</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nltk.tag</span> <span class=\"kn\">import</span> <span class=\"n\">pos_tag</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">strip_proppers_POS</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">):</span>\n <span class=\"n\">tagged</span> <span class=\"o\">=</span> <span class=\"n\">pos_tag</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">())</span> <span class=\"c\">#use NLTK's part of speech tagger</span>\n <span class=\"n\">non_propernouns</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">word</span> <span class=\"k\">for</span> <span class=\"n\">word</span><span class=\"p\">,</span><span class=\"n\">pos</span> <span class=\"ow\">in</span> <span class=\"n\">tagged</span> <span class=\"k\">if</span> <span class=\"n\">pos</span> <span class=\"o\">!=</span> <span class=\"s\">'NNP'</span> <span class=\"ow\">and</span> <span class=\"n\">pos</span> <span class=\"o\">!=</span> <span class=\"s\">'NNPS'</span><span class=\"p\">]</span>\n <span class=\"k\">return</span> <span class=\"n\">non_propernouns</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Here I run the actual text processing (removing of proper nouns, tokenization, removal of stop words)</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[83]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">gensim</span> <span class=\"kn\">import</span> <span class=\"n\">corpora</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"p\">,</span> <span class=\"n\">similarities</span> \n\n<span class=\"c\">#remove proper names</span>\n<span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">preprocess</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">strip_proppers</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">synopses</span><span class=\"p\">]</span>\n\n<span class=\"c\">#tokenize</span>\n<span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">tokenized_text</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">tokenize_and_stem</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">text</span> <span class=\"ow\">in</span> <span class=\"n\">preprocess</span><span class=\"p\">]</span>\n\n<span class=\"c\">#remove stop words</span>\n<span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">texts</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"n\">word</span> <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">text</span> <span class=\"k\">if</span> <span class=\"n\">word</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">stopwords</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">text</span> <span class=\"ow\">in</span> <span class=\"n\">tokenized_text</span><span class=\"p\">]</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nCPU times: user 12.9 s, sys: 148 ms, total: 13 s\nWall time: 15.9 s\nCPU times: user 15.1 s, sys: 172 ms, total: 15.3 s\nWall time: 19.3 s\nCPU times: user 4.56 s, sys: 39.2 ms, total: 4.6 s\nWall time: 5.95 s\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Below are some Gensim specific conversions; I also filter out extreme words (see inline comment)</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[84]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"c\">#create a Gensim dictionary from the texts</span>\n<span class=\"n\">dictionary</span> <span class=\"o\">=</span> <span class=\"n\">corpora</span><span class=\"o\">.</span><span class=\"n\">Dictionary</span><span class=\"p\">(</span><span class=\"n\">texts</span><span class=\"p\">)</span>\n\n<span class=\"c\">#remove extremes (similar to the min/max df step used when creating the tf-idf matrix)</span>\n<span class=\"n\">dictionary</span><span class=\"o\">.</span><span class=\"n\">filter_extremes</span><span class=\"p\">(</span><span class=\"n\">no_below</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">no_above</span><span class=\"o\">=</span><span class=\"mf\">0.8</span><span class=\"p\">)</span>\n\n<span class=\"c\">#convert the dictionary to a bag of words corpus for reference</span>\n<span class=\"n\">corpus</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">dictionary</span><span class=\"o\">.</span><span class=\"n\">doc2bow</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">text</span> <span class=\"ow\">in</span> <span class=\"n\">texts</span><span class=\"p\">]</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>The actual model runs below. I took 100 passes to ensure convergence, but you can see that it took my machine 13 minutes to run. My chunksize is larger than the corpus so basically all synopses are used per pass. I should optimize this, and Gensim has the capacity to run in parallel. I'll likely explore this further as I use the implementation on larger corpora.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[85]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"o\">%</span><span class=\"k\">time</span> <span class=\"n\">lda</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">LdaModel</span><span class=\"p\">(</span><span class=\"n\">corpus</span><span class=\"p\">,</span> <span class=\"n\">num_topics</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> \n <span class=\"n\">id2word</span><span class=\"o\">=</span><span class=\"n\">dictionary</span><span class=\"p\">,</span> \n <span class=\"n\">update_every</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> \n <span class=\"n\">chunksize</span><span class=\"o\">=</span><span class=\"mi\">10000</span><span class=\"p\">,</span> \n <span class=\"n\">passes</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\nCPU times: user 9min 53s, sys: 5.87 s, total: 9min 59s\nWall time: 13min 1s\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Each topic has a set of words that defines it, along with a certain probability.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[87]:\n</p>\n\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\"><p class=\"prompt output_prompt\">\n Out[87]:</p>\n\n\n<div class=\"output_text output_subarea output_pyout\">\n<pre>\n[u'0.006*men + 0.005*kill + 0.004*soldier + 0.004*order + 0.004*patient + 0.004*night + 0.003*priest + 0.003*becom + 0.003*new + 0.003*speech',\n u\"0.006*n't + 0.005*go + 0.005*fight + 0.004*doe + 0.004*home + 0.004*famili + 0.004*car + 0.004*night + 0.004*say + 0.004*next\",\n u\"0.005*ask + 0.005*meet + 0.005*kill + 0.004*say + 0.004*friend + 0.004*car + 0.004*love + 0.004*famili + 0.004*arriv + 0.004*n't\",\n u'0.009*kill + 0.006*soldier + 0.005*order + 0.005*men + 0.005*shark + 0.004*attempt + 0.004*offic + 0.004*son + 0.004*command + 0.004*attack',\n u'0.004*kill + 0.004*water + 0.004*two + 0.003*plan + 0.003*away + 0.003*set + 0.003*boat + 0.003*vote + 0.003*way + 0.003*home']\n</pre>\n</div>\n\n</div>\n\n</div>\n</div>\n\n</div>\n<div class=\"cell border-box-sizing text_cell rendered\">\n\n<div class=\"inner_cell\">\n<div class=\"text_cell_render border-box-sizing rendered_html\">\n<p>Here, I convert the topics into just a list of the top 20 words in each topic. You can see a similar breakdown of topics as I identified using k-means including a war/family topic and a more clearly war/epic topic.</p>\n</div>\n</div>\n</div>\n<div class=\"cell border-box-sizing code_cell rendered\">\n<div class=\"input\">\n<p class=\"prompt input_prompt\">\nIn&#xA0;[86]:\n</p>\n<div class=\"inner_cell\">\n <div class=\"input_area\">\n<div class=\"highlight\"><pre><span class=\"n\">topics_matrix</span> <span class=\"o\">=</span> <span class=\"n\">lda</span><span class=\"o\">.</span><span class=\"n\">show_topics</span><span class=\"p\">(</span><span class=\"n\">formatted</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">,</span> <span class=\"n\">num_words</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"n\">topics_matrix</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">topics_matrix</span><span class=\"p\">)</span>\n\n<span class=\"n\">topic_words</span> <span class=\"o\">=</span> <span class=\"n\">topics_matrix</span><span class=\"p\">[:,:,</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">topic_words</span><span class=\"p\">:</span>\n <span class=\"k\">print</span><span class=\"p\">([</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">word</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">i</span><span class=\"p\">])</span>\n <span class=\"k\">print</span><span class=\"p\">()</span>\n</pre></div>\n\n</div>\n</div>\n</div>\n\n<div class=\"output_wrapper\">\n<div class=\"output\">\n\n\n<div class=\"output_area\">\n<div class=\"output_subarea output_stream output_stdout output_text\">\n<pre>\n['men', 'kill', 'soldier', 'order', 'patient', 'night', 'priest', 'becom', 'new', 'speech', 'friend', 'decid', 'young', 'ward', 'state', 'front', 'would', 'home', 'two', 'father']\n\n[\"n't\", 'go', 'fight', 'doe', 'home', 'famili', 'car', 'night', 'say', 'next', 'ask', 'day', 'want', 'show', 'goe', 'friend', 'two', 'polic', 'name', 'meet']\n\n['ask', 'meet', 'kill', 'say', 'friend', 'car', 'love', 'famili', 'arriv', \"n't\", 'home', 'two', 'go', 'father', 'money', 'call', 'polic', 'apart', 'night', 'hous']\n\n['kill', 'soldier', 'order', 'men', 'shark', 'attempt', 'offic', 'son', 'command', 'attack', 'water', 'friend', 'ask', 'fire', 'arriv', 'wound', 'die', 'battl', 'death', 'fight']\n\n['kill', 'water', 'two', 'plan', 'away', 'set', 'boat', 'vote', 'way', 'home', 'run', 'ship', 'would', 'destroy', 'guilti', 'first', 'attack', 'go', 'use', 'forc']\n\n\n</pre>\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n </div>\n </div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:10:51 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "Intro to WebGL with Three.js",
        "url": "http://davidscottlyons.com/threejs/presentations/frontporch14/#slide-0",
        "excerpt": "Intro to WebGLwith Three.js WebGL JavaScript API for rendering interactive 2D and 3D graphics inside an HTML &lt;canvas&gt; element. Browser Support three.js 3D Javascript Library Renderers: WebGL,&hellip;",
        "date_saved": "Thu Jul 28 20:10:53 EDT 2016",
        "html_file": "intro_to_webgl_with_threejs.html",
        "png_file": "intro_to_webgl_with_threejs.png",
        "md_file": "intro_to_webgl_with_threejs.md",
        "content": "<div><section class=\"slide\">\n \n <p class=\"page-cover\">\n <h2 class=\"cover-title\">Intro to WebGL<small>with Three.js</small></h2>\n </p>\n </section>\n\n <section class=\"slide\">\n <h2>WebGL</h2>\n\n <p>JavaScript API for rendering interactive 2D and 3D graphics<br>\n inside an HTML <code class=\"language-markup\">&lt;canvas&gt;</code> element.</p>\n <div class=\"slide\">\n <h3>Browser Support</h3>\n <img src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/webgl-browser-support.png\" alt=\"\">\n </div>\n </section>\n\n <section class=\"slide\">\n <h2>three.js</h2>\n <p class=\"slide\">3D Javascript Library</p>\n <p class=\"slide\">Renderers: WebGL, &lt;canvas&gt;, &lt;svg&gt;, CSS3D / DOM, and more</p>\n <p class=\"slide\">Scenes, Cameras, Geometry, 3D Model Loaders, Lights, Materials, Shaders, Particles, Animation, Math Utilities</p>\n </section>\n\n <section class=\"slide\">\n<pre class=\"overlay-full language-markup\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n &lt;head&gt;\n &lt;title&gt;Basic Three.js App&lt;/title&gt;\n &lt;style&gt;\n html, body { margin: 0; padding: 0; overflow: hidden; }\n &lt;/style&gt;\n &lt;/head&gt;\n &lt;body&gt;\n &lt;script src=\"js/three.min.js\"&gt;&lt;/script&gt;\n &lt;script&gt;\n // Javascript will go here.\n &lt;/script&gt;\n &lt;/body&gt;\n&lt;/html&gt;</code></pre>\n </section>\n\n\n\n\n\n <section class=\"slide\" id=\"scene-required\">\n <pre class=\"overlay-full language-none\">\n<code><span class=\"scene-required\"><span class=\"token keyword\">var</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">var</span> aspect <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span>\n<span class=\"scene-required\"><span class=\"token keyword\">var</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>PerspectiveCamera</span><span class=\"token punctuation\">(</span> <span class=\"token number\">75</span><span class=\"token punctuation\">,</span> aspect<span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize<span class=\"token punctuation\">(</span> </span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild<span class=\"token punctuation\">(</span> </span>renderer<span class=\"token punctuation\">.</span>domElement <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<p class=\"slide\" id=\"scene-object\"><span class=\"scene-object\"><span class=\"token keyword\">var</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BoxGeometry</span><span class=\"token punctuation\">(</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>MeshNormalMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> cube <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Mesh</span><span class=\"token punctuation\">(</span> geometry<span class=\"token punctuation\">,</span> material <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add<span class=\"token punctuation\">(</span></span> cube <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></p>\n<p class=\"slide\" id=\"render-loop\"><span class=\"render-loop\"><span class=\"token keyword\">var</span> render <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token function\">requestAnimationFrame<span class=\"token punctuation\">(</span></span> render <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render<span class=\"token punctuation\">(</span></span> scene<span class=\"token punctuation\">,</span> camera <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n\n<span class=\"token function\">render<span class=\"token punctuation\">(</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></p></code></pre>\n </section>\n\n\n\n\n\n <section class=\"slide\">\n <h2>Object3D</h2>\n<pre><code>var group = new THREE.Object3D();\nscene.add( group );\n\ngroup.add( mesh1 );\ngroup.add( mesh2 );\n\nmesh2.visible = false;\ngroup.remove( mesh2 );\n\ngroup.children // mesh1\ngroup.parent // scene</code></pre>\n \n </section>\n\n\n <section class=\"slide instant\">\n \n <h2>Object3D Transforms</h2>\n \n \n \n <div class=\"slide temp abs-bc\"><pre><code>mesh.rotation.y = Math.PI / 4</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>mesh.rotation.y = Math.PI _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 5 / 4</code></pre></div>\n </section>\n\n <section class=\"slide\">\n <h2>Unit Circle</h2>\n <p class=\"temp\"><img src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/unit-circle.png\" alt=\"\"></p>\n <p class=\"slide\"><img src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/unit-circle-radians.png\" alt=\"\"></p>\n <div class=\"slide temp abs-bc\"><pre><code>mesh.rotation.y = THREE.Math.degToRad(45);</code></pre></div>\n \n \n </section>\n\n <section class=\"slide\">\n \n <h2>Unit Circle</h2>\n <p><img src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/unit-circle-trig.png\" alt=\"\"></p>\n <div class=\"slide temp abs-bc\">\n<pre><code>mesh.position.x = Math.cos( time );\nmesh.position.y = Math.sin( time );</code></pre></div>\n \n </section>\n\n <section class=\"slide instant\">\n \n <h2>Cameras</h2>\n <div class=\"temp abs-bc\"><pre><code>cam = new THREE.PerspectiveCamera( fov, aspect, near, far )</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>cam = new THREE.PerspectiveCamera( fov, aspect, near, far )</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>cam = new THREE.PerspectiveCamera( fov, aspect, near, far )</code></pre></div>\n \n \n \n \n <div class=\"slide temp abs-bc\"><pre><code>camera = new THREE.OrthographicCamera( left, right, top, bottom, near, far );</code></pre></div>\n \n </section>\n\n <section class=\"slide\">\n <h2>Camera Controls</h2>\n <p>/three.js/examples/js/controls/OrbitControls.js</p>\n<div class=\"slide temp\"><pre><code class=\"language-markup\">&lt;script src=\"path/to/OrbitControls.js\"&gt;&lt;/script&gt;</code>\n\n<code class=\"language-javascript\">controls = new THREE.OrbitControls( camera );\n\nfunction render() {\n requestAnimationFrame( render );\n controls.update();\n renderer.render( scene, camera );\n}</code></pre></div>\n\n<div class=\"slide temp\"><pre><code>controls.noPan = true;\ncontrols.noZoom = true;\ncontrols.noRotate = true;\n\ncontrols.minDistance\ncontrols.maxDistance\n\ncontrols.minPolarAngle\ncontrols.maxPolarAngle</code></pre></div>\n </section>\n\n <section class=\"slide\">\n <img class=\"spotlight\" src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/geometry.png\" alt=\"\">\n <p class=\"page-cover\">\n <h2 class=\"cover-title\">Geometry</h2>\n </p>\n </section>\n\n \n\n <section class=\"slide\">\n <h2>Geometry</h2>\n \n <div class=\"slide temp abs-bc\"><pre><code>var geo = new THREE.BoxGeometry( width, height, depth );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var geo = new THREE.SphereGeometry( 60, 24, 16 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var geo = new THREE.CylinderGeometry( ... );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var geo = new THREE.TorusGeometry( ... );</code></pre></div>\n </section>\n\n <section class=\"slide\">\n <img class=\"spotlight\" src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/marble.jpg\" alt=\"\">\n <p class=\"page-cover\">\n <h2 class=\"cover-title cover-inverted\">Materials</h2>\n </p>\n </section>\n\n <section class=\"slide\">\n <h2>Materials</h2>\n \n <div class=\"slide temp abs-bc\"><pre><code>var material = new THREE.MeshBasicMaterial({ ... });</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var material = new THREE.MeshLambertMaterial({ ... });</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var material = new THREE.MeshPhongMaterial({ ... });</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var material = new THREE.MeshNormalMaterial({ ... });</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>var material = new THREE.MeshNormalMaterial({ ... });</code></pre></div>\n </section>\n\n \n\n <section class=\"slide\">\n <h2>Material Properties</h2>\n \n <div class=\"temp abs-bc\"><pre><code>shading: THREE.SmoothShading</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>shading: THREE.FlatShading</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>shading: THREE.FlatShading // face normals</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>shading: THREE.FlatShading // face normals</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>shading: THREE.SmoothShading // vertex normals</code></pre></div>\n \n \n \n \n \n \n <div class=\"slide temp abs-bc\"><pre><code>transparent: true, opacity: 0.5</code></pre></div>\n </section>\n\n \n\n <section class=\"slide\">\n <h2>Texture Mapping</h2>\n \n <div class=\"temp abs-bc\"><pre><code>texture = THREE.ImageUtils.loadTexture(\"color-map.jpg\");</code></pre></div>\n \n \n \n <div class=\"temp slide abs-bc\"><pre><code>map: colorMap, specularMap: specMap, normalMap: normalMap</code></pre></div>\n <div class=\"temp slide abs-bc\"><pre><code>var material = new THREE.MeshPhongMaterial({\n color: 0xaaaaaa,\n ambient: 0xaaaaaa,\n specular: 0x333333,\n shininess: 15,\n map: colorMap,\n specularMap: specMap,\n normalMap: normalMap\n});</code></pre></div>\n </section>\n\n <section class=\"slide\">\n <img class=\"spotlight\" src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/sunny-sky.jpg\" alt=\"\">\n <p class=\"page-cover\">\n <h2 class=\"cover-title cover-inverted\">Lights</h2>\n </p>\n </section>\n\n <section class=\"slide\">\n <h2>Lights</h2>\n \n <div class=\"temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xdddddd, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light.position.set( -80, 80, 80 );</code></pre></div>\n \n <div class=\"slide temp abs-bc\"><pre><code>light.target.position = 160;</code></pre></div>\n \n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xdddddd, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xb4e7f2, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xb4e7f2, 0.2 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xb4e7f2, 1.5 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.DirectionalLight( 0xb4e7f2, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.PointLight( 0xb4e7f2, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.PointLight( 0xb4e7f2, 0.8 );</code></pre></div>\n \n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.SpotLight( 0xb4e7f2, 0.8 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light.angle = Math.PI / 9;</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light.angle = Math.PI / 5;</code></pre></div>\n \n \n \n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.AmbientLight( 0x444444 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.AmbientLight( 0x000000 );</code></pre></div>\n <div class=\"slide temp abs-bc\"><pre><code>light = new THREE.AmbientLight( 0x444444 );</code></pre></div>\n </section>\n\n <section class=\"slide\">\n \n <h2>Three Point Lighting</h2>\n <p class=\"temp abs-bc bc-text outline\">Key, Fill, Rim</p>\n <p class=\"slide temp abs-bc bc-text outline\">Key, Fill, Rim</p>\n \n </section>\n\n <section class=\"slide\">\n <h2>Model Converter</h2>\n <p>OBJ to JSON converter python tool<br>\n /three.js/utils/converters/obj/convert_obj_three.py</p>\n <p><img src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/obj-json.png\" alt=\"\"></p>\n <div class=\"temp abs-bc\"><pre><code class=\"language-python\">python convert_obj_three.py -i teapot.obj -o teapot.js</code></pre></div>\n </section>\n\n <section class=\"slide\">\n \n <h2>Model Loader</h2>\n<div class=\"slide temp abs-bc\"><pre><code>var loader = new THREE.JSONLoader();\n\nloader.load(\"teapot.js\", function( geometry, materials ) {\n material = new THREE.MeshFaceMaterial( materials );\n mesh = new THREE.Mesh( geometry, material );\n scene.add( mesh );\n});</code></pre></div>\n </section>\n\n <section class=\"slide\">\n <img class=\"spotlight\" src=\"http://davidscottlyons.com/threejs/presentations/frontporch14/images/interaction.png\" alt=\"\">\n <p class=\"page-cover\">\n <h2 class=\"cover-title\">Interaction</h2>\n </p>\n </section>\n\n <section class=\"slide\">\n<pre class=\"overlay-full language-none\"><code><span class=\"interaction1\">mouse<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> event<span class=\"token punctuation\">.</span>clientX <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nmouse<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span> event<span class=\"token punctuation\">.</span>clientY <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight <span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></span>\n\nprojector <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Projector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nraycaster <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Raycaster</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"interaction2\"><span class=\"token keyword\">var</span> vector <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Vector3</span><span class=\"token punctuation\">(</span> mouse<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> mouse<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nprojector<span class=\"token punctuation\">.</span><span class=\"token function\">unprojectVector<span class=\"token punctuation\">(</span></span> vector<span class=\"token punctuation\">,</span> camera <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n\n<span class=\"interaction3\">raycaster<span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span> camera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">,</span> vector<span class=\"token punctuation\">.</span><span class=\"token function\">sub<span class=\"token punctuation\">(</span></span> camera<span class=\"token punctuation\">.</span>position <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">normalize<span class=\"token punctuation\">(</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n\n<span class=\"interaction4\"><span class=\"token keyword\">var</span> intersects <span class=\"token operator\">=</span> raycaster<span class=\"token punctuation\">.</span><span class=\"token function\">intersectObjects<span class=\"token punctuation\">(</span></span> scene<span class=\"token punctuation\">.</span>children <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nINTERSECTED <span class=\"token operator\">=</span> intersects<span class=\"token punctuation\">[</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">;</span></span></code></pre>\n \n \n \n \n </section>\n \n \n\n \n\n \n\n \n\n </div>"
    }, {
        "title": "The JavaScript Tutorial",
        "url": "http://javascript.info/",
        "excerpt": "HTML5 is great. jQuery is cool. Node.JS is awesome. Base them on the solid, powerful basement of pure JavaScript and you can rock the web! ;) DISCLAIMER: There's a 10 times better version of this&hellip;",
        "date_saved": "Thu Jul 28 20:10:55 EDT 2016",
        "html_file": "the_javascript_tutorial.html",
        "png_file": "the_javascript_tutorial.png",
        "md_file": "the_javascript_tutorial.md",
        "content": "<div><div class=\"content clear-block node-page\" id=\"content-container\"><p>Frameworks are great. jQuery is cool. Node.JS is awesome.</p>\n\n<p>Base it on a solid, powerful basement of pure JavaScript, and become invincible!</p>\n\n<p>... Well, really. The Core JavaScript and DOM (if you're in browser) is essential, learn it. Hope the book helps.</p>\n\n\n\n\n<ul class=\"book-folder\" id=\"article-tree\"><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">JavaScript: from the Ground to Closures</span><ul class=\"book-folder\"><li id=\"book-toc-246\" class=\"book-level-2 book-open book-has-children\"><span class=\"book-title\">Javascript and related technologies</span><ul class=\"book-folder\"><li id=\"book-toc-246\" class=\"book-level-3 book-open\"><a href=\"http://javascript.info/tutorial/overview\" rel=\"nofollow\">Overview: JavaScript, Flash, Java, Silverlight and ActiveX</a></li><li id=\"book-toc-246\" class=\"book-level-3 book-open\"><a href=\"http://javascript.info/tutorial/pre-coding\" rel=\"nofollow\">Pre-coding tips </a></li></ul></li><li id=\"book-toc-246\" class=\"book-level-2 book-open book-has-children\"><span class=\"book-title\">First Steps</span></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/functions-declarations-and-expressions\" rel=\"nofollow\">Functions: declarations and expressions</a></li><li id=\"book-toc-246\" class=\"book-level-2 book-open book-has-children\"><span class=\"book-title\">Mastering data types</span></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/this\" rel=\"nofollow\">Four scents of \"this\"</a><ul class=\"tutorial-tasks\"><li>Task: <a href=\"http://javascript.info/tutorial/this#learning-task-nid-272\" rel=\"nofollow\">Object syntax check</a></li></ul></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/type-detection\" rel=\"nofollow\">Type detection </a></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/arguments\" rel=\"nofollow\">Function arguments</a></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/static-variables-methods-decorators\" rel=\"nofollow\">Static variables and methods</a></li><li id=\"book-toc-246\" class=\"book-level-2 book-open book-has-children\"><span class=\"book-title\">Scopes and Closures</span></li><li id=\"book-toc-246\" class=\"book-level-2 book-open\"><a href=\"http://javascript.info/tutorial/decorators\" rel=\"nofollow\">Decorators</a><ul class=\"tutorial-tasks\"><li>Task: <a href=\"http://javascript.info/tutorial/decorators#learning-task-nid-56\" rel=\"nofollow\">Make logging decorator </a></li><li>Task: <a href=\"http://javascript.info/tutorial/decorators#learning-task-nid-238\" rel=\"nofollow\">Make caching decorator </a></li></ul></li></ul></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Document and Events</span></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Object Oriented Programming</span></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Timing</span></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Frames and windows</span></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Regular expressions in JavaScript</span></li><li id=\"book-toc-246\" class=\"book-level-1 book-closed book-has-children\"><span class=\"book-title\">Advanced and Extra stuff</span></li></ul></div>\n\n \n\n \n \n</div>"
    }, {
        "title": "Building Front-End Web Apps with Plain JavaScript",
        "url": "https://oxygen.informatik.tu-cottbus.de/webeng/JsFrontendApp/book/",
        "excerpt": "Warning: This tutorial book is a draft version, so it may still contain errors and may still be incomplete in certain respects. Please report any issue to G.Wagner@b-tu.de.This tutorial book is&hellip;",
        "date_saved": "Thu Jul 28 20:10:57 EDT 2016",
        "html_file": "building_frontend_web_apps_with_plain_javascript.html",
        "png_file": "building_frontend_web_apps_with_plain_javascript.png",
        "md_file": "building_frontend_web_apps_with_plain_javascript.md",
        "content": "<div><div class=\"titlepage\"><div><div><p class=\"releaseinfo\">Warning: This tutorial book is a draft version, so it may still contain errors and\n may still be incomplete in certain respects. Please report any issue to \n G.Wagner@b-tu.de.</p></div><div><p class=\"releaseinfo\">This tutorial book is available as an open access online book (HTML) and as an\n e-book (PDF) via its <a class=\"link\" href=\"http://web-engineering.info/JsFrontendApp-Book\" target=\"_top\">book webpage</a>. </p></div><div><p class=\"copyright\">Copyright &#xA9; 2014-2015 Gerd Wagner</p></div><div><div class=\"legalnotice\"><a name=\"d5e26\"></a><p>This book, along with any associated source code, is licensed under <a class=\"link\" href=\"http://www.codeproject.com/info/cpol10.aspx\" target=\"_top\">The Code Project Open License\n (CPOL)</a>, implying that the associated code is provided \"as-is\", can be modified to create\n derivative works, can be redistributed, and can be used in commercial applications, but the book\n must not be distributed or republished without the author's consent.</p></div></div><div><div class=\"revhistory\"><table summary=\"Revision History\"><tr><th valign=\"top\" colspan=\"3\"><b>Revision History</b></th></tr><tr><td></td><td>20151112</td><td>gw</td></tr><tr><td colspan=\"3\">Replace the &lt;&lt;stdid&gt;&gt; property stereotype by {id} property modifiers in class diagrams. \n Add sample data tables to each tutorial chapter. \n Add more practice projects with design models and sample data tables. Add quiz questions.</td></tr><tr><td></td><td>20150701</td><td>gw</td></tr><tr><td colspan=\"3\">Add section about CSS to the \"Foundations\" chapter, detach the \"More on JavaScript\" chapter from the \"Foundations\" chapter.</td></tr><tr><td></td><td>20150520</td><td>gw</td></tr><tr><td colspan=\"3\">Add chapter about enumerations.</td></tr><tr><td></td><td>20140924</td><td>gw</td></tr><tr><td colspan=\"3\">Incorporate feedback by Felix Lehmann.</td></tr><tr><td></td><td>20140221</td><td>gw</td></tr><tr><td colspan=\"3\">Incorporate feedback by Sorin Carbunaru.</td></tr><tr><td></td><td>20140212</td><td>gw</td></tr><tr><td colspan=\"3\">Create first version.</td></tr></table></div></div></div></div><div class=\"acknowledgements\">\n <p>Thanks to Sorin Carbunaru and Felix Lehmann for proof-reading early versions of parts of\n this tutorial book.</p>\n </div></div><hr class=\"rdb-page-break\" /><div><div class=\"preface\"><p>This tutorial book shows how to build front-end web applications with plain JavaScript,\n\t\t\tnot using any (third-party) framework or library. It follows a \"learning by doing\" approach, \n\t\t\twhich means that you don't have to read lots of text about the intricacies of JavaScript \n\t\t\t(like in many JavaScript programming books), but rather you just focus on the essential parts \n\t\t\tof JavaScript and only read the minimum needed for starting to code your first app. By\n\t\t\tlearning from the examples provided in the book, you can quickly improve your \n\t\t\tunderstanding of basic concepts and techniques, and by downloading the complete\n\t\t\tcode of these example apps and using it as a starting point for your own projects, \n\t\t\tyou learn best practices and experience the joy of building something that really works.</p><div class=\"section\"><div class=\"titlepage\"><div><div><h2 class=\"title\"><a name=\"d5e65\"></a>1.\u00a0Why is JavaScript a Good Choice for Building Web Apps?</h2></div></div></div><p>Today, JavaScript is not just a programming language, but rather a platform, which offers \n\t many advantages over other platforms:\n\t </p><div class=\"orderedlist\"><ol class=\"orderedlist\" type=\"1\"><li class=\"listitem\"><p>It's the only language that enjoys native support in web browsers.</p></li><li class=\"listitem\"><p>It's the only language that allows building web apps with just one programming languge. \n\t All other languages (like Java and C#) can only be used on the back-end and need to be combined with \n\t front-end JavaScript, so developers need to master at least two programming languages.</p></li><li class=\"listitem\"><p>It's the only language that allows executing the same code (e.g., for constraint validation) \n\t on the back-end and the front-end.</p></li><li class=\"listitem\"><p>It's the only language that allows dynamic distribution, that is, executing the same code (e.g., for business computations) either in the back-end or the front-end, depending on run-time conditions such as the available front-end resources.</p></li><li class=\"listitem\"><p>It combines object-oriented with functional programming.</p></li><li class=\"listitem\"><p>Its dynamism allows various forms of meta-programming, which means it gives you the \n\t liberty to program your own programming concepts like classes and enumerations.</p></li></ol></div></div></div></div><hr class=\"rdb-page-break\" /><div><div class=\"section\"><p>For running any of the six example apps from our web server, and for getting their code, please visit\n\t <a class=\"link\" href=\"http://web-engineering.info/JsFrontendApp-CodeLinks\" target=\"_top\">\n\t http://web-engineering.info/JsFrontendApp-CodeLinks</a>.\n\t </p></div></div>"
    }, {
        "title": "Exploring the relationship between JavaScript and the modern HTML DOM",
        "url": "http://domenlightenment.com/",
        "excerpt": "You might also like: JavaScript Enlightenment or jQuery Enlightenment An O'Reilly edited version (printed, epub, mobi, pdf) of this book is now avaliable from O'Reilly or Amazon Warning! This is the&hellip;",
        "date_saved": "Thu Jul 28 20:11:00 EDT 2016",
        "html_file": "exploring_the_relationship_between_javascript_and_the_modern_html_dom.html",
        "png_file": "exploring_the_relationship_between_javascript_and_the_modern_html_dom.png",
        "md_file": "exploring_the_relationship_between_javascript_and_the_modern_html_dom.md",
        "content": "<div><body>\n\n<div id=\"otherBooks\">\n<span>You might also like: <a href=\"http://www.javascriptenlightenment.com/\">JavaScript Enlightenment</a> or <a href=\"http://jqueryenlightenment.com/\">jQuery Enlightenment</a></span>\n</div>\n\n<div class=\"alert\">An O'Reilly edited version (printed, epub, mobi, pdf) of this book is now avaliable from <a href=\"http://shop.oreilly.com/product/0636920027690.do\" target=\"_blank\">O'Reilly</a> or <a href=\"http://www.amazon.com/DOM-Enlightenment-Cody-Lindley/dp/1449342841/\" target=\"_blank\">Amazon</a></div>\n\n<p class=\"warning\"><strong>Warning!</strong> This is the free online version of the DOM Enlightenment book in its pre-edited/draft form.</p>\n\n\n<p id=\"title\">DOM Enlightenment</p>\n<p id=\"subTitle\">Exploring the relationship between JavaScript and the modern HTML DOM</p>\n<p>By <a href=\"http://twitter.com/codylindley\">Cody Lindley</a> Version: 0.6.0</p>\n\n\n\n<h2>Foreword</h2>\n\n<p>I make websites. Sometimes I make music. Over the years, I&#x2019;ve noticed an interesting\npattern of behavior from some musicians&#x2014;often self-taught&#x2014;who think of themselves\nas creative types: they display an aversion to learning any music theory. The logic, they\nsay, is that knowing the theory behind music will somehow constrain their creative\nabilities. I&#x2019;ve never understood that logic (and I secretly believe that it&#x2019;s a retroactive\nexcuse for a lack of discipline). To my mind, I just don&#x2019;t see how any kind of knowledge\nor enlightenment could be a bad thing.</p>\n<p>Alas, I have seen the same kind of logic at work in the world of web design. There are\ndesigners who not only don&#x2019;t know how to write markup and CSS, they actively refuse\nto learn. Again, they cite the fear of somehow being constrained by this knowledge (and\nagain, I believe that&#x2019;s a self-justifying excuse).</p>\n<p>In the world of front-end development, that attitude is fortunately far less prevalent.\nMost web devs understand that there&#x2019;s always more to learn. But even amongst developers\nwho have an encyclopediac knowledge of HTML and CSS, there is often a knowledge\ngap when it comes to the Document Object Model. That&#x2019;s understandable. You\ndon&#x2019;t need to understand the inner workings of the DOM if you&#x2019;re using a library like\njQuery. The whole point of JavaScript libraries is to abstract away the browser&#x2019;s internal\nAPI and provide a different, better API instead.</p>\n<p>Nonetheless, I think that many front-end devs have a feeling that they should know\nwhat&#x2019;s going on under the hood. That&#x2019;s the natural reaction of a good geek when presented\nwith a system they&#x2019;re expected to work with. Now, thanks to DOM Enlightenment,\nthey can scratch that natural itch.</p>\n<p>Douglas Crockford gave us a map to understand the inner workings of the JavaScript\nlanguage in his book JavaScript: The Good Parts. Now Cody Lindley has given us the\ncorresponding map for the Document Object Model. Armed with this map, you&#x2019;ll gain\nthe knowledge required to navigate the passageways and tunnels of the DOM.\nix</p>\n<p>You might not end up using this knowledge in every project. You might decide to use a\nlibrary like jQuery instead. But now it will be your decision. Instead of having to use a\nlibrary because that&#x2019;s all that you know, you can choose if and when to use a library.\nThat&#x2019;s a very empowering feeling. That&#x2019;s what knowledge provides. That is true enlightenment.</p>\n\n<p><small>&#x2014;Jeremy Keith, founder and technical director of clearleft.com, and author of\nDOM Scripting: Web Design with JavaScript and the Document Object Model</small></p>\n\n<h2>Introduction</h2>\n<p>This book is not an exhaustive reference on DOM scripting or <a href=\"http://javascriptenlightenment.com/\">JavaScript</a>. It may, however, be the most exhaustive book written about DOM scripting without the use of a library/framework. The lack of authorship around this topic is not without good reason. Most technical authors are not willing to wrangle this topic because of the differences that exist among legacy browsers and their implementations of the DOM specifications (or lack thereof).</p>\n<p>For the purpose of this book (i.e. grokking the concepts), I'm going to sidestep the browser API mess and dying browser discrepancies in an effort to expose the modern DOM. That's right, I'm going to sidestep the ugliness in an effort to focus on the here and now. After all, we have solutions like jQuery to deal with all that browser ugliness, and you should definitely be leveraging something like jQuery when dealing with deprecated browsers. </p>\n<p> While I am not promoting the idea of only going native when it comes to DOM scripting, I did write this book in part so that developers may realize that DOM libraries are not always required when scripting the DOM. I also wrote for the lucky few who get to write JavaScript code for a single environment (i.e. one browser, mobile browsers, or HTML+CSS+JavaScript-to-native via something like PhoneGap). What you learn in this book may just make a DOM library unnecessary in ideal situations, say for example, some light DOM scripting for deployment on a Webkit mobile browser only.</p>\n\n<h2>Who should read this book</h2>\n<p> As I authored this book, I specifically had two types of developers in mind. I assume both types already have an intermediate to advanced knowledge of JavaScript, HTML, and CSS. The first developer is someone who has a good handle on JavaScript or jQuery, but has really never taken the time to understand the purpose and value of a library like jQuery (the reason for its rhyme, if you will). Equipped with the knowledge from this book, that developer should fully be able to understand the value provided by jQuery for scripting the DOM. And not just the value, but how jQuery abstracts the DOM and where and why jQuery is filling the gaps. The second type of developer is an engineer who is tasked with scripting HTML documents that will only run in modern browsers or that will get ported to native code for multiple OS's and device distributions (e.g. PhoneGap) and needs to avoid the overhead (i.e. size or size v.s. use) of a library.</p>\n\n<h2>Technical intentions, allowances, &amp; limitations</h2>\n<ul>\n\t<li>The content and code contained in this book was written with modern (IE9+, Firefox latest, Chrome latest, Safari latest, Opera latest) browsers in mind. It was my goal to only include concepts and code that are native to modern browsers. If I venture outside of this goal I will bring this fact to the readers attention. I've generally steered away from including anything in this book that is browser specific or implemented in a minority of the modern browsers.</li>\n\t<li>I'm not attempting in this book to dogmatically focus on a specific DOM, CSS, or HTML specification. Its not my goal here to dogmatically represent a specific specification. This would be too large of an undertaking (with little value IMO) given the number of specifications at work and the history/status of browsers correctly implementing the specifications. I have leverage and balanced in a very subjective manner the content from several specifications (<a href=\"http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/core.html\">Document Object Model (DOM) Level 3 Core Specification</a>, <a href=\"http://www.w3.org/TR/dom/\">DOM4</a>, <a href=\"http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/html.html\">Document Object Model HTML </a>, <a href=\"http://www.w3.org/TR/ElementTraversal/\">Element Traversal Specification</a>, <a href=\"http://www.w3.org/TR/selectors-api2/\">Selectors API Level 2</a>, <a href=\"http://html5.org/specs/dom-parsing.html\">DOM Parsing and Serialization</a>, <a href=\"http://dev.w3.org/html5/html-author/\">HTML 5 Reference</a>, <a href=\"http://www.w3.org/TR/html5/\">HTML 5 - A vocabulary and associated APIs for HTML and XHTML</a>, <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/\">HTML Living Standard</a>, <a href=\"http://developers.whatwg.org/\">HTML 5 - A technical specification for Web Developers</a>, <a href=\"http://dom.spec.whatwg.org/\">DOM\nLiving Standard</a>). The content for this book is based more on where the community is and less on dogmatically attempting to express a specific spec.</li>\n\t<li>I'm covering several hand picked topics that are not DOM specific. I've included these topics in this book to help the reader build a proper understanding of the DOM in relationship to CSS and JavaScript.</li>\n\t<li>I've purposely left out any details as it pertains to XML or XHTML.</li>\n\t<li>I've purposely excluded the form and table api's to keep the book small. But I can see these sections being added in the future.</li>\n</ul>\n<h2>License</h2>\n\n<p>The DOM Enlightenment HTML version is released under a <a href=\"http://creativecommons.org/licenses/by-nc-nd/3.0/\">Creative Commons Attribution-Noncommercial-No Derivative Works 3.0</a> unported license.</p>\n\n<h2>Hard Copy &amp; eBook</h2>\n<p><a href=\"http://oreilly.com/\">O'Reilly</a> will release and sell a hard copy &amp; eBook in the near future.</p>\n\n<h2>Preface</h2>\n<p>Before you begin, it is important to understand various styles employed in this book. Please do not skip this section, because it contains important information that will aid you in the unique styles of this book.</p>\n\n<h2>This book is not like other programming books</h2>\n<p>The enlightenment series (<a href=\"http://jqueryenlightenment.com/\">jQuery Enlightenment</a> &amp; <a href=\"http://javascriptenlightenment.com/\">JavaScript Enlightenment</a>) is written in a style that favors small, isolated, immediately executable code over wordy explanations and monolithic programs. One of my favorite authors, C.S Lewis, asserts that words are the lowest form of communication that humans traffic in. I totally agree with this assertion and use it as the basis for the style of these books. I feel that technical information is best covered with as few words as possible, in conjunction with just the right amount of executable code and commenting required to express an idea. The style of this book attempts to present a clearly defined idea with as few words as possible, backed with real code. Because of this, when you first start grokking these concepts, you should execute and examine the code, thereby forming the foundation of a mental model for the words used to describe the concepts. Additionally, the format of these books attempts to systematically break ideas down into their smallest possible form and examine each one in an isolated context. All this to say that this is not a book with lengthy explanations or in-depth coverage on broad topics. Consider yourself warned. If it helps, think of it as a cookbook, but even more terse and to the point than usual.</p>\n\n<h2>Color-coding conventions</h2>\n<p>In the code examples (example shown below), orange is used to highlight code directly relevant to the concept being discussed. Any additional code used to support the orange colored code will be green. The color gray in the code examples is reserved for comments.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\n<em>// this is a comment about a specific part of the code</em><br>var foo = <strong>'calling out this part of the code'</strong>;\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>jsFiddle</h2>\n<p>The majority of code examples in this book are linked to a corresponding <a href=\"http://jsfiddle.net/\">jsFiddle</a> page, where the code can be tweaked and executed online. The jsFiddle examples have been configured to use the <a href=\"https://getfirebug.com/firebug-lite-debug.js\">Firebug lite-dev plugin</a> to ensure the reader views the console.log prevalent in this book. Before reading this book, make sure you are comfortable with the usage and purpose of <em>console.log</em>.</p>\n<p>In situations where jsFiddle caused complications with the code example, I simply chose not to link to a live example.</p>\n\n<h2>About the Author</h2>\n<p><a href=\"http://www.codylindley.com\">Cody Lindley</a> is a client-side engineer (aka front-end developer) and recovering Flash developer. He has an extensive background working professionally (11+ years) with HTML, CSS, JavaScript, Flash, and client-side performance techniques as it pertains to web development. If he is not wielding client-side code he is likely toying with interface/interaction design or authoring material and speaking at various conferences. When not sitting in front of a computer, it is a sure bet he is hanging out with his wife and kids in Boise, Idaho &#x2013; training for triathlons, skiing, mountain biking, road biking, alpine climbing, reading, watching movies, or debating the rational evidence for a Christian worldview.</p>\n\n<h2>Table of Contents</h2>\n\n\n\n\n\n\n\n<div id=\"chapter1\" class=\"chapter\">\n\n\n<h2>Chapter 1 - Node Overview</h2>\n<h2>1.1 The Document Object Model (aka the DOM) is a hierarchy/tree of JavaScript node\n objects</h2>\n<p>When you write an HTML document you encapsulate HTML content inside of\n\tother HTML content. By doing this you setup a hierarchy that can be\n\texpressed as a <a href=\"http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#trees\">tree</a>.\n\tOften this hierarchy or encapsulation system is indicated visually by indenting\n\tmarkup in an HTML document. The browser when loading the HTML document\n\tinterrupts and <a href=\"http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Parsing_general\">parses\n\tthis hierarchy to create a tree of node objects</a> that simulates how\n\tthe markup is encapsulated. </p>\n<pre class=\"noCodeLink\">&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;HTML&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n<em>&lt;!-- Add your content here--&gt;</em>\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The above HTML code when parsed by a browser creates a document that contains nodes structrured in a tree format (i.e. DOM). Below\n\tI reveal the tree struture from the above HTML document using Opera's Dragonfly DOM inspector. </p>\n<p><img src=\"http://domenlightenment.com/images/c1sec1.png\" alt=\"\" width=\"730\"> </p>\n<p> On the left you see the HTML document in its tree form. And on the right you see the corresponding JavaScript object that represents the selected element on the left. For example, the selected <em>&lt;body&gt;</em> element highlighted in blue,\nis an element node and an instance of the <em>HTMLBodyElement</em> interface.</p>\n<p>What you should take away here is that html documents get parsed by a browser and converted into a tree structure of node objects representing a live document. The purpose of the DOM is to provide a programatic interface for scripting (removing, adding, replacing, eventing, modifiying) this live document using JavaScript. </p>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>The DOM originally was an application programming interface for XML documents that has been extended for use in HTML documents.</p>\n</div>\n<h2>1.2 Node object types</h2>\n<p>The most common (I'm not highlighting all of them in the list below) types of nodes (i.e. <em>nodeType</em>/node classifications) one encounters when working with HTML documents are listed below.</p>\n<ul>\n\t<li><em>DOCUMENT_NODE</em> (e.g. <em>window.document</em>)</li>\n\t<li><em>ELEMENT_NODE</em> (e.g. <em>&lt;body&gt;</em>, <em>&lt;a&gt;</em>, <em>&lt;p&gt;</em>, <em>&lt;script&gt;</em>, <em>&lt;style&gt;</em>, <em>&lt;html&gt;</em>, <em>&lt;h1&gt;</em> etc...)</li>\n\t<li><em>ATTRIBUTE_NODE</em> (e.g.<em> class=\"funEdges\"</em>)</li>\n\t<li><em>TEXT_NODE</em> (e.g. text characters in an html document including carriage returns and white space)</li>\n\t<li><em>DOCUMENT_FRAGMENT_NODE</em> (e.g. <em>document.createDocumentFragment()</em>)</li>\n\t<li><em>DOCUMENT_TYPE_NODE</em> (e.g. <em>&lt;!DOCTYPE html&gt;</em>)</li>\n</ul>\n<p> I've listed the node types above formatted (all uppercase with _ separating words)\n\texactly as the constant property is written in the JavaScript browser environment as a property of the <em>Node</em> object. These <em>Node</em> properties are constant values\n\tand are used to store numeric code values which map to a specific type of\n\tnode object. For example in the following code example, <em>Node.ELEMENT_NODE</em> is equal to <em>1</em>.\n\tAnd <em>1</em> is the code value used to identify element nodes.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nconsole.log(<strong>Node.ELEMENT_NODE</strong>) <em>//logs 1, one is the numeric code value for element nodes</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>In the code below\n\tI log all of the node types and there values.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nfor(var key in Node){\n&#xA0; &#xA0;&#xA0;console.log(key,' = '+Node[key]); \n};\n\n<em><strong>/* the above code logs to the console the following\nELEMENT_NODE = 1\nATTRIBUTE_NODE = 2\nTEXT_NODE = 3\nCDATA_SECTION_NODE = 4\nENTITY_REFERENCE_NODE = 5\nENTITY_NODE = 6\nPROCESSING_INSTRUCTION_NODE = 7\nCOMMENT_NODE = 8\nDOCUMENT_NODE = 9\nDOCUMENT_TYPE_NODE = 10\nDOCUMENT_FRAGMENT_NODE = 11\nNOTATION_NODE = 12\nDOCUMENT_POSITION_DISCONNECTED = 1\nDOCUMENT_POSITION_PRECEDING = 2\nDOCUMENT_POSITION_FOLLOWING = 4\nDOCUMENT_POSITION_CONTAINS = 8\nDOCUMENT_POSITION_CONTAINED_BY = 16\nDOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 32 */</strong></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The previous code example gives an exhaustive list of all node types. For the purpose of this book I'll be discussing the shorter list of node types listed at the start of this section. These nodes will\n\tmost likely be the ones you come in contact with when scripting an HTML page.</p>\n<p> In the table below I list the name given to the interface/constructor that\n\tinstantiates the most common node types and their corresponding <em>nodeType</em> classification by number and name. What I hope you take away from the table below is the <em>nodeType</em> value (i.e. <em>1</em>) is just a numeric classificaiton used to describe a certain type of node constructed from a certain JavaScript interface/constructor. For example, the <em>HTMLBodyElement</em> interface reprsents a node object that has a node type of <em>1</em>, which is a classification for <em>ELEMENT_NODE</em>'s.</p>\n\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The DOM specification semantically labels nodes like <em>Node</em>, <em>Element</em>, <em>Text</em>, <em>Attr</em>, and <em>HTMLAnchorElement</em> as an\n\t\tinterface, which it is, but keep in mind its also the name given to the JavaScript\n\t\tconstructor function that constructs the nodes. As you read this book I\n\t\twill be referring to these interfaces (i.e. <em>Element</em>, <em>Text</em>, <em>Attr</em>, <em>HTMLAnchorElement</em>) as objects or constructor\n\t\tfunctions while the specification refers to them as interfaces.</p>\n\t<p>The <em>ATTRIBUTE_NODE</em> is not actually part of a tree but listed for historical reasons. In this book I do not provide a chapter on attribute nodes and instead discuss them in the <em>Element</em> node chapter given that attributes nodes are sub-like nodes of element nodes with no particiipation in the actual DOM tree structure. Be aware the ATTRIBUTE_NODE is being depreciated in DOM 4.</p>\n\t<p>I've not included detail in this book on the <em>COMMENT_NODE</em> but you should be aware that comments in an HTML document are <em>Comment</em> nodes and similar in nature to <em>Text</em> nodes.</p>\n\t<p> As I discuss nodes throughout the book I will rarely refer to a\n\tspecific node using its <em>nodeType</em> name (e.g. <em>ELEMENT_NODE</em>). This is done to be consistent with\n\tverbiage used in the specifications provided by the W3C &amp; WHATWG. </p>\n</div>\n<h2>1.3 Sub-node objects inherit from the <em>Node</em> object</h2>\n<p>Each node object in a typical DOM tree inherits properties and methods from <em>Node</em>. Depending upon the type of node in the document there are also\n\tadditional sub node object/interfaces that extend the <em>Node</em> object.\n\tBelow I detail the inheritance model implemented by browsers for the most\n\tcommon node interfaces (&lt; indicates inherited from).</p>\n<ul>\n\t<li><em>Object </em>&lt;<em> Node</em> &lt;&#xA0; <em>Element</em> &lt; <em>HTMLElement</em> &lt;&#xA0; (e.g. <em>HTML*Element</em>)</li>\n\t<li><em>Object </em>&lt;<em> </em><em>Node</em> &lt;&#xA0; <em>Attr</em> (This is deprecated in DOM 4)</li>\n\t<li><em>Object </em>&lt;<em> </em><em>Node</em> &lt;&#xA0; <em>CharacterData</em> &lt;&#xA0; <em>Text</em></li>\n\t<li><em>Object </em>&lt;<em> </em><em>Node</em> &lt;&#xA0; <em>Document</em> &lt;&#xA0; <em>HTMLDocument</em></li>\n\t<li><em>Object </em>&lt;<em> </em><em>Node</em> &lt;&#xA0; <em>DocumentFragment</em></li>\n</ul>\n<p>Its important not only to remember that all nodes types inherit from <em>Node</em> but that the chain of inheritance can be long. For example, all <em>HTMLAnchorElement</em> nodes inherit properties and methods from <em>HTMLElement</em>, <em>Element</em>, <em>Node</em>, and <em>Object</em> objects.</p>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p><em>Node</em> is just a JavaScript constructor\n\t\tfunction. And so logically <em>Node</em> inherits from <em>Object.prototype</em> just like all objects in JavaScript</p>\n</div>\n<p>To verify that all node types inherit properties &amp; methods from the <em>Node</em> object lets loop over an <em>Element</em> node object and examine its\n\tproperties and methods (including inherited).</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<strong>&lt;a href=\"#\"&gt;Hi&lt;/a&gt;</strong><em> &lt;!-- this is a HTMLAnchorElement which inherits from... --&gt;</em>\n\n&lt;script&gt;\n\n<em>//get reference to element node object</em>\nvar nodeAnchor = document.querySelector('a');\n<em>\n//create props array to store property keys for element node object</em>\nvar props = [];\n\n<em>//loop over element node object getting all properties &amp; methods (inherited too)</em>\nfor(var key in nodeAnchor){\n&#xA0; &#xA0; props.push(key); &#xA0; \n}\n\n<em>//log alphabetical list of properties &amp; methods </em>\nconsole.log(props.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>If you run the above code in a web browser you will see a long list of\n\tproperties that are available to the element node object. The properties\n\t&amp; methods inherited from the <em>Node</em> object are in this list as\n\twell as a great deal of other inherited properties and methods from the <em>Element</em>, <em>HTMLElement</em>, <em>HTMLAnchorElement</em>, <em>Node</em>, and <em>Object</em> object. Its not my point to examine all of these properties and methods\n\tnow but simply to point out that all nodes inherit a set of baseline\n\tproperties and methods from its constructor as well as properties from the prototype chain.</p>\n<p>If you are more of visual learner consider the inheritance chain denoted\n\tfrom examining the above HTML document with Opera's DOM inspector. </p>\n<img src=\"http://domenlightenment.com/images/c1sec3.png\" alt=\"\" width=\"714\">\n<p>Notice that the anchor node inherits from <em>HTMLAnchorElement</em>, <em>HTMLElement</em>, <em>Element</em>, <em>Node</em>, and <em>Object</em> all shown in the\n\tlist of properties highlighted with a gray background. This inheritance chain provides a great deal of shared methods and properties to all node types.</p>\n\n<h2>1.4 Properties and methods for working nodes</h2>\n<p>Like we have been discussing all node objects (e.g <em>Element</em>, <em>Attr</em>, <em>Text</em> etc...) inherit properties and methods from a primary <em>Node</em> object. These properties and methods are the baseline values and functions\n\tfor manipulating, inspecting, and traversing the DOM. In addtion to the properties and methods provided by the node interface there are a great deal of other relevant properties and methods that are provided by sub node interfaces such as the <em>document</em>, <em>HTMLElement</em>, or <em>HTML*Element</em> interface.</p>\n<p>Below I\n\tlist out the most common <em>Node</em> properties and methods inherited by all node objects including the relevant inherited properties for working with nodes from sub-node interfaces.</p>\n\nNode Properties:\n<ul>\n\t<li><em>childNodes</em></li>\n\t<li><em>firstChild</em></li>\n\t<li><em>lastChild</em></li>\n\t<li><em>nextSibling</em></li>\n\t<li><em>nodeName</em></li>\n\t<li><em>nodeType</em></li>\n\t<li><em>nodeValue</em></li>\n\t<li><em>parentNode</em></li>\n\t<li><em>previousSibling</em></li>\n</ul>\n Node Methods:\n\t<ul>\n\t<li><em>appendChild()</em></li>\n\t<li><em>cloneNode()</em></li>\n\t<li><em>compareDocumentPosition()</em></li>\n\t<li><em>contains()</em></li>\n\t<li><em>hasChildNodes()</em></li>\n\t<li><em>insertBefore()</em></li>\n\t<li><em>isEqualNode()</em></li>\n\t<li><em>removeChild()</em></li>\n\t<li><em>replaceChild()</em></li>\n</ul>\n\t<p>Document Methods:</p>\n\t<ul>\n\t\t<li><em>document.createElement()</em></li>\n\t\t<li><em>document.createTextNode()</em></li>\n\t</ul>\n\t<p>HTML _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy Element Properties:</p>\n\t<ul>\n\t\t<li><em>innerHTML</em></li>\n\t\t<li><em>outerHTML</em></li>\n\t\t<li><em>textContent</em></li>\n\t\t<li><em>innerText</em></li>\n\t\t<li><em>outerText</em></li>\n\t\t\n\t\t<li><em>firstElementChild</em></li>\n\t\t<li><em>lastElementChild</em></li>\n\t\t<li><em>nextElementChild</em></li>\n\t\t<li><em>previousElementChild</em></li>\n\t\t<li><em>children</em></li>\n\t</ul>\n\t<p>HTML element Methods:</p>\n\t\n<h2>1.5 Identifying the type and name of a node</h2>\n<p>Every node has a <em>nodeType</em> and <em>nodeName</em> property that\n\tis inherited from <em>Node</em>. For example <em>Text</em> nodes have a <em>nodeType</em> code of <em>3</em> and <em>nodeName</em> value of <em>'#text'</em>. As\n\tpreviously mentioned the numeric value <em>3</em> is a numeric code representing the type\n\tof underlying object the node represents (i.e. <em>Node.TEXT_NODE === 3</em>).&#xA0;</p>\n<p>\n\tBelow I detail the values returned for <em>nodeType</em> and <em>nodeName</em> for the node objects discussed in this book. It makes sense to simply memorize these numeric code's for the more common nodes given that we are only dealing with 5 numeric codes.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;Hi&lt;/a&gt;\n\n&lt;script&gt;\n\n<em>//This is DOCUMENT_TYPE_NODE or nodeType 10 because Node.DOCUMENT_TYPE_NODE === 10</em>\nconsole.log(\n\t<strong>document.doctype.nodeName</strong>, <em>//logs 'html' also try document.doctype to get &lt;!DOCTYPE html&gt;</em>\n\t<strong>document.doctype.nodeType</strong> <em>//logs 10 which maps to DOCUMENT_TYPE_NODE</em>\n);<em></em>\n<em>\n//This is DOCUMENT_NODE or nodeType 9 because Node.DOCUMENT_NODE === 9</em>\nconsole.log(\n\t<strong>document.nodeName</strong>, <em>//logs '#document'</em>\n\t<strong>document.nodeType</strong><em> //logs 9 which maps to DOCUMENT_NODE</em>\n);\n\n<em>//This is DOCUMENT_FRAGMENT_NODE or nodeType 11 because Node.DOCUMENT_FRAGMENT_NODE === 11</em>\nconsole.log(\n\t<strong>document.createDocumentFragment().nodeName</strong>, <em>//logs '#document-fragment'</em>\n\t<strong>document.createDocumentFragment().nodeType</strong> <em>//logs 11 which maps to DOCUMENT_FRAGMENT_NODE</em>\n);\n\n<em>//This is ELEMENT_NODE or nodeType 1 because Node. ELEMENT_NODE === 1</em>\nconsole.log(\n\t<strong>document.querySelector('a').nodeName</strong>, <em>//logs 'A'</em>\n\t<strong>document.querySelector('a').nodeType</strong> <em>//logs 1 which maps to ELEMENT_NODE</em>\n);<em></em>\n\n<em>//This is TEXT_NODE or nodeType 3 because Node.TEXT_NODE === 3</em>\nconsole.log(\n\t<strong>document.querySelector('a').firstChild.nodeName</strong>, <em>//logs '#text'</em>\n\t<strong>document.querySelector('a').firstChild.nodeType</strong> <em>//logs 3 which maps to TEXT_NODE</em>\n);<em></em><em></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>If its not obvious the fastest way to determine if a node is of a\n\tcertain type is too simply check its <em>nodeType</em> property. Below we\n\tcheck to see if the anchor element has a node number of 1. If it does than\n\twe can conclude that its an <em>Element</em> node because <em>Node.ELEMENT_NODE\n\t=== 1</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;Hi&lt;/a&gt;\n\n&lt;script&gt;\n\n<em>//is &lt;a&gt; a ELEMENT_NODE?</em>\nconsole.log(document.querySelector('a').<strong>nodeType</strong> === 1); <em>//logs true, &lt;a&gt; is an Element node</em>\n\n<em>//or use Node.ELEMENT_NODE which is a property containg the numerice value of 1</em>\nconsole.log(document.querySelector('a').<strong>nodeType</strong> === Node.ELEMENT_NODE); <em>//logs true, &lt;a&gt; is an Element node</em>\n\n&lt;/script&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</pre>\n<p>Determining the type of node that you might be scripting becomes very\n\thandy so that you might know which properties and methods are available to\n\tscript the node.</p>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The values returned by the <em>nodeName</em> property vary according\n\t\tto the node type. Have a look at the <a href=\"http://www.w3.org/TR/dom/#dom-node-nodename\">DOM 4 specification</a> provided for the details.</p>\n</div>\n<h2>1.6 Getting a nodes value</h2>\n<p>The <em>nodeValue</em> property returns <em>null</em> for most of the node types (except <em>Text</em>, and <em>Comment</em>). It's use is centered around extracting actual text strings from <em>Text</em> and <em>Comment</em> nodes. In the code below I demonstrate its use on all the nodes discussed in this book</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;Hi&lt;/a&gt;\n\n&lt;script&gt;\n\n<em>//logs null for DOCUMENT_TYPE_NODE, DOCUMENT_NODE, DOCUMENT_FRAGMENT_NODE, ELEMENT_NODE</em> <em>below</em>\nconsole.log(<strong>document.doctype.nodeValue</strong>);<em></em>\nconsole.log(<strong>document.nodeValue</strong><em></em>);\nconsole.log(<strong>document.createDocumentFragment().nodeValue</strong><em></em>);<em></em>\nconsole.log(<strong>document.querySelector('a').nodeVale</strong><em></em>);\n\n<em>//logs string of text</em>\nconsole.log(<strong>document.querySelector('a').firstChild.nodeValue</strong>);<em></em><em></em> <em>//logs 'Hi'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p><em>Text</em> or <em>Comment</em> node values can be set by providing new strings values for the <em>nodeValue</em> property(i.e. <em>document.body.firstElementChild.nodeValue = 'hi'</em>).</p>\n</div>\n<h2>1.7 Creating element and text nodes using JavaScript methods</h2>\n<p>When a browser parses an HTML document it constructs the nodes and tree\n\tbased on the contents of the HTML file. The browser deals with the creation of nodes for the intial loading of the HTML document. However its possible to create your own nodes using JavaScript. The following two methods allow us to programatically create <em>Element</em> and <em>Text</em> nodes using JavaScript. </p>\n<ul>\n\t<li><em>createElement()</em></li>\n\t<li><em>createTextNode()</em></li>\n</ul>\n<p>Other methods are avaliable but are not commonly used (e.g. <em>createAttribute()</em> and <em>createComment()</em>) . In the code below I show how simple it is to create element and text nodes. </p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nvar elementNode&#xA0;= <strong>document.createElement('div')</strong>;\nconsole.log(elementNode, elementNode.nodeType); <em>//log &lt;div&gt; 1, and 1 indicates an element node</em>\n\nvar textNode&#xA0;= <strong>document.createTextNode('Hi')</strong>;\nconsole.log(textNode, textNode.nodeType); <em>//logs Text {} 3, and 3 indicates a text node</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The <em>createElement()</em> method accepts one parameter which is a\n\t\tstring specifying the element to be created. The string is the same\n\t\tstring that is returned from the <em>tagName</em> property of an <em>Element</em> object. </p>\n\t<p>The <em>createAttribute()</em> method is depricated and should not be used for creating\n\t\tattribute nodes. Instead developers typically use <em>getAttribute()</em>, <em>setAttribute()</em>, and <em>removeAttribute()</em> methods. I will\n\t\tdiscus this in more detail in the <em>Element</em> node chapter.</p>\n\t<p> The <em>createDocumentFragment()</em> will be discussed in the chapter\n\t\tcovering this method.</p>\n\t<p> You should be aware that a <em>createComment()</em> method is\n\t\tavailable for creating comment nodes. Its not discussed in this book but\n\t\tis very much available to a developer who finds its usage valuable. </p>\n</div>\n<h2>1.8 Creating and adding element and text nodes to the DOM using JavaScript strings</h2>\n<p>The <em>innerHTML</em>, <em>outerHTML</em>, <em>textContent</em> and <em>insertAdjacentHTML()</em> properties and methods provide the\n\tfunctionality to create and add nodes to the DOM using JavaScript strings. </p>\n<p> In the code below we are using the <em>innerHTML</em>, <em>outerHTML</em>,\n\tand <em>textContent</em> properties to create nodes from JavaScript\n\tstrings that are then immediately added to the DOM.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div id=\"A\"&gt;&lt;/div&gt;\n&lt;span id=\"B\"&gt;&lt;/span&gt;\n&lt;div id=\"C\"&gt;&lt;/div&gt;\n&lt;div id=\"D\"&gt;&lt;/div&gt;\n&lt;div id=\"E\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//create a strong element and text node and add it to the DOM</em>\ndocument.getElementById('A').<strong>innerHTML</strong> = '&lt;strong&gt;Hi&lt;/strong&gt;'; \n\n<em>//create a div element and text node to replace &lt;span id=\"B\"&gt;&lt;/div&gt; (notice span#B is replaced)</em>\ndocument.getElementById('B').<strong>outerHTML</strong> = '&lt;div id=\"B\" class=\"new\"&gt;Whats Shaking&lt;/div&gt;'\n\n<em>//create a text node and update the div#C with the text node</em>\ndocument.getElementById('C').<strong>textContent</strong> = 'dude';\n\n\n<em>//NON standard extensions below i.e. innerText &amp; outerText</em>\n\n<em>//create a text node and update the div#D with the text node</em>\ndocument.getElementById('D').<strong>innerText</strong> = 'Keep it';\n\n<em>//create a text node and replace the div#E with the text node (notice div#E is gone)</em><br>document.getElementById('E').<strong>outerText</strong>&#xA0;=&#xA0;'real!';\n\nconsole.log(document.body.innerHTML);\n<em>/* logs\n&lt;div id=\"A\"&gt;&lt;strong&gt;Hi&lt;/strong&gt;&lt;/div&gt;\n&lt;div id=\"B\" class=\"new\"&gt;Whats Shaking&lt;/div&gt;\n&lt;span id=\"C\"&gt;dude&lt;/span&gt;\n&lt;div id=\"D\"&gt;Keep it&lt;/div&gt;\nreal!\n*/</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The <em>insertAdjacentHTML()</em> method which only works on <em>Element</em> nodes is a good deal more precise than the previously mentioned methods<em></em>.\n\tUsing this method its possible to insert nodes before the beginning tag,\n\tafter the beginning tag, before the end tag, and after the end tag. Below\n\tI construct a sentence using the <em>insertAdjacentHTML()</em> method. </p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;&lt;i id=\"elm\"&gt;how&lt;/i&gt;\n\n&lt;script&gt;\n\nvar elm = document.getElementById('elm');\n\nelm.insertAdjacentHTML('beforebegin',&#xA0;'&lt;span&gt;Hey-&lt;/span&gt;');\nelm.insertAdjacentHTML('afterbegin',&#xA0;'&lt;span&gt;dude-&lt;/span&gt;');&#xA0;\nelm.insertAdjacentHTML('beforeend',&#xA0;'&lt;span&gt;-are&lt;/span&gt;');&#xA0;\nelm.insertAdjacentHTML('afterend',&#xA0;'&lt;span&gt;-you?&lt;/span&gt;');&#xA0;&#xA0;\n\nconsole.log(document.body.innerHTML);\n<em>/* logs\n&lt;span&gt;Hey-&lt;/span&gt;&lt;i id=\"A\"&gt;&lt;span&gt;dude-&lt;/span&gt;how&lt;span&gt;-are&lt;/span&gt;&lt;/i&gt;&lt;span&gt;-you?&lt;/span&gt;\n*/</em><meta charset=\"utf-8\">\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The <em>innerHTML</em> property will convert html elements found in\n\t\tthe string to actual DOM nodes while the <em>textContent</em> can only be used to construct text nodes. If you\n\t\tpass <em>textContent</em> a string containing html elements it will\n\t\tsimply spit it out as text.</p>\n\t<p> <em>document.write()</em> can also be used to simultaneously create\n\t\tand add nodes to the DOM. However its typically not used anymore unless\n\t\tits usage is required to accomplish 3rd party scripting tasks. Basically\n\t\tthe <em>write()</em> method will output the values passed to it into\n\t\tthe page during page loading/parsing. You should be aware that using the <em>write()</em> method will stall/block the parsing of the html\n\t\tdocument being loaded.</p>\n\t<p><em>innerHTML</em> invokes a heavy &amp; expensive HTML parser where as text node generation is trivial thus use the innerHTML &amp; friends sparingly</p>\n\t<p> The <em>insertAdjacentHTML</em> options \"beforebegin\" and \"afterend\"\n\t\twill only work if the node is in the DOM tree and has a parent\n\t\telement.&#xA0;</p>\n\t<p> Support for <em>outerHTML</em> was not available natively in\n\t\tFirefox until version 11. A <a href=\"https://gist.github.com/1044128\">polyfill</a> is avaliable.</p>\n\t<p><em>textContent</em>&#xA0;gets the content of all elements, including&#xA0;<em>&lt;script&gt;</em>&#xA0;and&#xA0;<em>&lt;style&gt;</em>&#xA0;elements,&#xA0;<em>innerText</em> does not</p>\n\t<p><em>innerText</em>&#xA0;is aware of style and will not return the text of hidden elements, whereas <em>textContent</em> will</p>\n\t<p>Avaliable to all modern browser except Firefox is <em>insertAdjacentElement()</em> and <em>insertAdjacentText()</em></p>\n</div>\n<h2>1.9 Extracting parts of the DOM tree as JavaScript strings </h2>\n<p>The same exact properties (<em>innerHTML</em>, <em>outerHTML</em>, <em>textContent</em>)\n\tthat we use to create and add nodes to the DOM can also be used to extract\n\tparts of the DOM (or really the entire DOM) as a JavaScript string. In the code example below I use these properties to return a string value containing text and html values from the HTML document.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div id=\"A\"&gt;&lt;i&gt;Hi&lt;/i&gt;&lt;/div&gt;\n&lt;div id=\"B\"&gt;Dude&lt;strong&gt; !&lt;/strong&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nconsole.log(document.getElementById('A').<strong>innerHTML</strong>); <em>//logs '&lt;i&gt;Hi&lt;/i&gt;'</em><p>console.log(document.getElementById('A').<strong>outerHTML</strong>);&#xA0;<em>//logs &lt;div id=\"A\"&gt;Hi&lt;/div&gt;</em>\n\n<em>//notice that all text is returned even if its in child element nodes (i.e. &lt;strong&gt; !&lt;/strong&gt;) </em>\nconsole.log(document.getElementById('B').<strong>textContent</strong>); <em>//logs 'Dude !'</em>\n\n<em>//NON standard extensions below i.e. innerText &amp; outerText</em>\n\nconsole.log(document.getElementById('B').<strong>innerText</strong>);<em>&#xA0;//logs 'Dude !'</em></p><p>console.log(document.getElementById('B').<strong>outerText</strong>);&#xA0;<em>//logs 'Dude !'&#x200B;</em>&#x200B;\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The <em>textContent</em>, <em>innerText</em>, <em>outerText</em> property when being read will return all of\n\t\tthe text nodes contained within the selected node. So for example (not a good idea in practice), <em>document.body.textContent</em> will get all the text nodes contained in the body element not just the\n\t\tfirst text node.</p>\n</div>\n<h2>1.10 Adding node objects to the DOM using <em>appendChild()</em>&amp; <em>insertBefore() </em></h2>\n<p>The <em>appendChild()</em> and <em>insertBefore()</em> <em>Node</em> methods allow us to insert JavaScript node objects into the DOM tree. The <em>appendChild()</em> method will append a node(s) to the end of the\n\tchild node(s) of the node the method is called on. If there are no\n\tchild node(s) then the node being appended is appended as the first\n\tchild.&#xA0; For example in the code below we are creating a element node\n\t(<em>&lt;strong&gt;</em>) and text node (<em>Dude</em>). Then the <em>&lt;p&gt;</em> is selected from the DOM and our <em>&lt;strong&gt;</em> element is appended using <em>appendChild()</em>.\n\tNotice that the <em>&lt;strong&gt;</em> element is encapsulated inside of\n\tthe <em>&lt;p&gt;</em> element and added as the last child node. Next the <em>&lt;strong&gt;</em> element is selected and the text <em>'Dude'</em> is appended\n\tto the <em>&lt;strong&gt;</em> element.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hi&lt;/p&gt;\n\n&lt;script&gt;\n\n<em>//create a blink element node and text node</em>\nvar elementNode = document.createElement('strong');\nvar textNode = document.createTextNode(' Dude');\n\n<em>//append these nodes to the DOM</em>\ndocument.querySelector('p').<strong>appendChild</strong>(elementNode);\ndocument.querySelector('strong').<strong>appendChild</strong>(textNode);\n\n<em>//log's &lt;p&gt;Hi&lt;strong&gt; Dude&lt;/strong&gt;&lt;/p&gt;</em><meta charset=\"utf-8\">\nconsole.log(document.body.innerHTML);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>When it becomes necessary to control the location of insertion beyond\n\tappending nodes to the end of a child list of nodes we can use <em>insertBefore()</em>.\n\tIn the code below I am inserting the <em>&lt;li&gt;</em> element before\n\tthe first child node of the <em>&lt;ul&gt;</em> element. </p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&#xA0; &#xA0; &lt;li&gt;2&lt;/li&gt;\n&#xA0; &#xA0; &lt;li&gt;3&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//create a text node and li element node and append the text to the li</em>\nvar text1&#xA0;= document.createTextNode('1');\nvar li&#xA0;= document.createElement('li');\nli.appendChild(text1);\n\n<em>//select the ul in the document</em>\nvar ul&#xA0;= document.querySelector('ul');\n\n<em>/* \nadd the li element we created above to the DOM, notice I call on &lt;ul&gt; and pass reference to &lt;li&gt;2&lt;/li&gt; using ul.firstChild \n*/</em>\nul.<strong>insertBefore</strong>(li,ul.firstChild);\n\nconsole.log(document.body.innerHTML);\n<em>/*logs\n&lt;ul&gt;\n&lt;li&gt;1&lt;/li&gt;\n&lt;li&gt;2&lt;/li&gt;\n&lt;li&gt;3&lt;/li&gt;\n&lt;/ul&gt;\n*/</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The <em>insertBefore()</em> requires two parameters, the node to be inserted and the reference node in the document you would like the node inserted before.</p>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>If you do not pass the <em>insertBefore()</em> method a second\n\t\tparameter then it functions just like <em>appendChild()</em>. </p>\n\t<p>We have <a href=\"http://www.w3.org/TR/dom/#mutation-methods\">more methods</a> (e.g. <em>prepend()</em>, <em>append()</em>, <em>before()</em>, <em>after()</em>) to look forward too in DOM 4.</p>\n</div>\n<h2>1.11 Removing and replacing nodes using <em>removeChild()</em> and <em>replaceChild()</em></h2>\n<p>Removing a node from the DOM is a bit of a multi-step process. First you\n\thave to select the node you want to remove. Then you need to gain access\n\tto its parent element typically using the <em>parentNode</em> property. Its on the\n\tparent node that you invoke the <em>removeChild()</em> method passing it\n\tthe reference to the node to be removed. Below I demonstrate its use on an\n\telement node and text node. </p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div id=\"A\"&gt;Hi&lt;/div&gt;\n&lt;div id=\"B\"&gt;Dude&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//remove element node</em>\nvar divA = document.getElementById('A');\ndivA.parentNode.<strong>removeChild</strong>(divA);\n\n<em>//remove text node</em>\nvar divB = document.getElementById('B').firstChild;\ndivB.parentNode.<strong>removeChild</strong>(divB);\n\n<em>//log the new DOM updates, which should only show the remaining empty div#B</em>\nconsole.log(document.body.innerHTML);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Replacing an element or text node is not unlike removing one. In the code\n\tbelow I use the same html structure used in the previous code example\n\texcept this time I use <em>replaceChild()</em> to update the nodes\n\tinstead of removing them.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div id=\"A\"&gt;Hi&lt;/div&gt;\n&lt;div id=\"B\"&gt;Dude&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//replace element node</em>\nvar divA = document.getElementById('A');\nvar newSpan = document.createElement('span');\nnewSpan.textContent = 'Howdy';\ndivA.parentNode.<strong>replaceChild</strong>(newSpan,divA);\n\n<em>//replace text node</em>\nvar divB = document.getElementById('B').firstChild;\nvar newText = document.createTextNode('buddy');\ndivB.parentNode.<strong>replaceChild</strong>(newText, divB);\n\n<em>//log the new DOM updates,</em> \nconsole.log(document.body.innerHTML);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>Depending upon what you are removing or replacing simply providing the <em> innerHTML</em>, <em>outerHTML</em>, and <em>textContent</em> properties with an empty string might be easier and faster. <a href=\"http://javascript.crockford.com/memory/leak.html\">Careful memory leaks in brwoser might get you however</a>.</p>\n\t<p> Both <em>replaceChild()</em> and <em>removeChild()</em> return the\n\t\treplaced or remove node. Basically its not gone just because you\n\t\treplace it or remove. All this does is takes it out of the current live document. You still have a reference to it in memory.</p>\n\t<p>We have <a href=\"http://www.w3.org/TR/dom/#mutation-methods\">more methods</a> (e.g.<em>replace()</em>, <em>remove()</em>) to look forward too in DOM 4.</p>\n</div>\n<h2>1.12 Cloning nodes using <em>cloneNode()</em></h2>\n<p>Using the <em>cloneNode()</em> method its possible to duplicate a single\n\tnode or a node and all its children nodes. </p>\n<p> In the code below I clone only the <em>&lt;ul&gt;</em> (i.e. <em>HTMLUListElement)</em> which once\n\tcloned can be treated like any node reference.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n &lt;li&gt;Hi&lt;/li&gt;\n &lt;li&gt;there&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\nvar cloneUL = document.querySelector('ul').<strong>cloneNode</strong>();\n\nconsole.log(cloneUL.constructor); <em>//logs HTMLUListElement()</em>\nconsole.log(cloneUL.innerHTML); <em>//logs (an empty string) as only the ul was cloned</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>To clone a node and all of its children nodes you pass the <em>cloneNode()</em> method a parameter of of <em>true</em>. Below I use the <em>cloneNode()</em> method again but this time we clone all of the child nodes as well.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n &lt;li&gt;Hi&lt;/li&gt;\n &lt;li&gt;there&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\nvar cloneUL = document.querySelector('ul').cloneNode(<strong>true</strong>);\n\nconsole.log(cloneUL.constructor); <em>//logs HTMLUListElement()</em>\nconsole.log(cloneUL.innerHTML); <em>//logs &lt;li&gt;Hi&lt;/li&gt;&lt;li&gt;there&lt;/li&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>When cloning an <em>Element</em> node all attributes and values are\n\t\talso cloned. In fact, only attributes are copied! Everything else you\n\t\tcan add (e.g. event handlers) to a DOM node is lost when cloning.</p>\n\t<p> You might think that cloning a node and its children using <em> cloneNode(true)</em> would return a <em>NodeList</em> but it in fact\n\t\tdoes not.</p>\n\t<p><em>cloneNode()</em>&#xA0;may lead to duplicate element IDs in a document</p>\n</div>\n<h2>1.13 Grokking node collections (i.e. <em>Nodelist</em> &amp; <em>HTMLcollection</em>)</h2>\n<p>When selecting groups of nodes from a tree (cover in chaper 3) or accessing pre-defined sets of nodes, the nodes are either placed in a <a href=\"http://www.w3.org/TR/dom/#nodelist\"><em>NodeList</em></a> (e.g. <em>document.querySelectorAll('*')</em>) or <a href=\"http://www.w3.org/TR/dom/#htmlcollection\"><em>HTMLCollection</em></a> (e.g. <em>document.scripts</em>). These array like (i.e. not a real <em>Array</em>) object collections that have the following characteristics.</p>\n<ul>\n\t<li>A collection can either be live or static. Meaning that the nodes contained in the collection are either literally part of the live document or a snapshot of the live document.</li>\n\t<li>By default nodes are sorted inside of the collection by tree order. Meaning the order matches the liner path from tree trunk to branches.</li>\n\t<li>The collections have a <em>length</em> property that reflects the number of elements in the list</li>\n</ul>\n\n<h2>1.14 Gettting a list/collection of all immediate child nodes</h2>\n<p>Using the <em>childNodes</em> property produces an array like list (i.e. <a href=\"https://developer.mozilla.org/En/DOM/NodeList\">NodeList</a>) of the immediate child nodes. Below I select the <em>&lt;ul&gt;</em> element which I then use to\n\tcreate a list of all of the immediate child nodes contained inside of the <em>&lt;ul&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n &lt;li&gt;Hi&lt;/li&gt;\n &lt;li&gt;there&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\nvar ulElementChildNodes = document.querySelector('ul').<strong>childNodes</strong>;\n\nconsole.log(ulElementChildNodes); <em>//logs an array like list of all nodes inside of the ul</em>\n\n<em>/*Call forEach as if its a method of NodeLists so we can loop over the NodeList. Done because NodeLists are array like, but do not directly inherit from Array*/</em>\nArray.prototype.forEach.call(ulElementChildNodes,function(item){ \n&#xA0; &#xA0;console.log(item); //logs each item in the array\n});&#xA0;\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p> The <em>NodeList</em> returned by <em>childNodes</em> only contains\n\t\timmediate child nodes</p>\n\t<p> Be aware <em>childNodes</em> contains not only <em>Element</em> nodes but also all other node types (e.g. <em>Text</em> and <em> Comment</em> nodes)</p>\n\t<p><em>[].forEach</em> was implemented in ECMAScript 5th edtion</p>\n</div>\n\n<h2>1.15 Convert a <em>NodeList</em> or <em>HTMLCollection</em> to JavaScript <em>Array</em></h2>\n<p>Node lists and html collections are array like but not a true JavaScript array which inherits array methods. In the code below we programtically confirm this using <em>isArray()</em>.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;&lt;/a&gt;\n\n&lt;script&gt;\n\nconsole.log(Array.<strong>isArray(document.links)</strong>); <em>//returns false, its an HTMLCollection not an Array</em>\nconsole.log(Array.<strong>isArray(document.querySelectorAll('a'))</strong>); <em>//returns false, its an NodeList not an Array</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p><em>Array.isArray</em> was implemented in ECMAScript 5th edtion or ES5</p>\n</div>\n<p>Converting a node list and html collection list to a true JavaScript array can provide a good deal of advantages. For one it gives us the ability to create a snapshot of the list that is not tied to the live DOM considering that <em>NodeList</em> and <em>HTMLCollection</em> are <a href=\"http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/core.html#td-live\">live</a> lists. Secondly, converting a list to a JavaScript array gives access to the methods provided by the <em>Array</em> object (e.g. <em>forEach</em>, <em>pop</em>, <em>map</em>, <em>reduce</em> etc...). </p>\n<p>To convert an array like list to a true JavaScript array pass the array-like list to <em>call()</em> or <em>apply()</em>, in which the <em>call()</em> or <em>apply()</em> is calling a method that returns an un-altered true JavaScript array. In the code below I use the <em>.slice()</em> method, which doesn't really slice anything I am just using it to convert the list to a JavaScript <em>Array</em> due to the fact the <em>slice()</em> returns an array.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;&lt;/a&gt;\n\n&lt;script&gt;\n\nconsole.log(Array.isArray(<strong>Array.prototype.slice.call(document.links)</strong>)); <em>//returns true</em>\nconsole.log(Array.isArray(<strong>Array.prototype.slice.call(document.querySelectorAll('a'))</strong>)); <em>//returns true</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>In ECMAScript 6th edtion we have<em> Array.from</em> to look forward to which converts a single argument that is an array-like object or list (eg. <em>arguments</em>, <em>NodeList</em>, <em>DOMTokenList</em> (used by <em>classList</em>), <em>NamedNodeMap</em> (used by <em>attributes</em> property)) into a <em>new Array()</em> and returns it</p>\n</div>\n\n<h2>1.16 Traversing nodes in the DOM</h2>\n<p> From a node reference (i.e. <em>document.querySelector('ul')</em>) its possible to get a different node reference by traversing the DOM using the following properties:</p>\n<ul>\n\t<li><em>parentNode</em></li>\n\t<li><em>firstChild</em></li>\n\t<li><em>lastChild</em></li>\n\t<li><em>nextSibling</em></li>\n\t<li><em>previousSibling</em></li>\n</ul>\n<p>In the code example below we examine the <em>Node</em> properties\n\tproviding DOM traversal functionality.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;&lt;ul&gt;&lt;!-- comment --&gt;\n&lt;li id=\"A\"&gt;&lt;/li&gt;\n&lt;li id=\"B\"&gt;&lt;/li&gt;\n&lt;!-- comment --&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//cache selection of the ul</em>\nvar ul = document.querySelector('ul');\n\n<em>//What is the parentNode of the ul?</em>\nconsole.log(ul.<strong>parentNode</strong>.nodeName); <em>//logs body</em><em></em>\n\n<em>//What is the first child of the ul?</em>\nconsole.log(ul.<strong>firstChild</strong>.nodeName); <em>//logs comment</em>\n\n<em>//What is the last child of the ul?</em>\nconsole.log(ul.<strong>lastChild</strong>.nodeName); <em>//logs text not comment, because there is a line break</em>\n\n<em>//What is the nextSibling of the first li?</em>\nconsole.log(ul.querySelector('#A').<strong>nextSibling</strong>.nodeName); <em>//logs text</em>\n\n<em>//What is the previousSibling of the last li?</em>\nconsole.log(ul.querySelector('#B').<strong>previousSibling</strong>.nodeName); <em>//logs text</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>If you have been around the DOM much then it should be no surprise that\n\ttraversing the DOM includes not just traversing element nodes but also\n\ttext and comment nodes. I believe the last code example makes this clear, and this is not exactly ideal. Using the\n\tfollowing properties we can traverse the DOM ignoring text and comment\n\tnodes. </p>\n<ul>\n\t<li><em>firstElementChild</em></li>\n\t<li><em>lastElementChild</em></li>\n\t<li><em>nextElementChild</em></li>\n\t<li><em>previousElementChild</em></li>\n\t<li><em>children</em></li>\n</ul>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The <em>childElementCount</em> is not mentioned but you should be aware of its avaliablity for calculating the number of child elements a node contains. </p>\n</div>\n<p>Examine our code example again using only element traversing methods.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;&lt;ul&gt;&lt;!-- comment --&gt;\n&lt;li id=\"A\"&gt;&lt;/li&gt;\n&lt;li id=\"B\"&gt;&lt;/li&gt;\n&lt;!-- comment --&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//cache selection of the ul</em>\nvar ul = document.querySelector('ul');\n\n<em>//What is the first child of the ul?</em>\nconsole.log(ul.<strong>firstElementChild</strong>.nodeName); <em>//logs li</em>\n\n<em>//What is the last child of the ul?</em>\nconsole.log(ul.<strong>lastElementChild</strong>.nodeName); <em>//logs li</em>\n\n<em>//What is the nextSibling of the first li?</em>\nconsole.log(ul.querySelector('#A').<strong>nextElementSibling</strong>.nodeName); <em>//logs li</em>\n\n<em>//What is the previousSibling of the last li?</em>\nconsole.log(ul.querySelector('#B').<strong>previousElementSibling</strong>.nodeName); <em>//logs li</em>\n\n<em>//What are the element only child nodes of the ul? </em>\nconsole.log(ul.<strong>children</strong>); <em></em><em>//HTMLCollection, all child nodes including text nodes</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>1.17 Verify a node position in the DOM tree with <em>contains()</em> &amp; <em>compareDocumentPosition()</em></h2>\n<p>Its possible to know if a node is contained inside of another node by\n\tusing the <em>contains()</em> <em>Node</em> method. In the code below I\n\task if <em>&lt;body&gt;</em> is contained inside of <em>&lt;html lang=\"en\"&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>// is &lt;body&gt; inside &lt;html lang=\"en\"&gt; ?</em>\nvar inside = document.querySelector('html').<strong>contains</strong>(document.querySelector('body'));\n\nconsole.log(inside); <em>//logs true</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>If you need more robust information about the position of a node in the\n\tDOM tree in regards to the nodes around it you can use the <em>compareDocumentPosition()</em> <em>Node</em> method. Basically this method gives you the ability to\n\trequest information about a selected node relative to the node \n\tpassed in. The information that you get back is a number that corresponds\n\tto the following information.</p>\n<table class=\"table table-bordered\" border=\"0\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>number code returned from <em>compareDocumentPosition()</em>: </th>\n\t\t\t<th>number code info: </th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>0</td>\n\t\t\t<td> Elements are identical.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>1</td>\n\t\t\t<td> DOCUMENT_POSITION_DISCONNECTED<br>\n\t\t\t\tSet when selected node and passed in node are not in the same\n\t\t\t\tdocument.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td> 2</td>\n\t\t\t<td>DOCUMENT_POSITION_PRECEDING<br>\n\t\t\t\tSet when passed in node is preceding selected node.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>3</td>\n\t\t\t<td>DOCUMENT_POSITION_FOLLOWING<br>\n\t\t\t\tSet when passed in node is following selected node.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>8</td>\n\t\t\t<td> DOCUMENT_POSITION_CONTAINS<br>\n\t\t\t\tSet when passed in node is an ancestor of selected node.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td> 16, 10</td>\n\t\t\t<td>DOCUMENT_POSITION_CONTAINED_BY (16, 10 in hexadecimal)<br>\n\t\t\t\tSet when passed in node is a descendant of selected node.</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p><em>contains()</em> will return <em>true</em> if the node selected and\n\t\tnode passed in are identical.</p>\n\t<p> <em>compareDocumentPosition()</em> can be rather confusing because\n\t\tits possible for a node to have more than one type of relationship with\n\t\tanother node. For example when a node both contains (16) and precedes\n\t\t(4) the returned value from <em>compareDocumentPosition()</em> will be\n\t\t20.</p>\n</div>\n<h2>1.18 How to determine if two nodes are identical</h2>\n<p><a href=\"http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-isEqualNode\">According\n\tto the DOM 3 specification</a> two nodes are equal if and only if the\n\tfollowing conditions are satisfied:</p>\n<meta charset=\"utf-8\">\n<ul>\n\t<li>The two nodes are of the same type.</li>\n\t<li>The following string attributes are equal:&#xA0;<em>nodeName</em>,&#xA0;<em>localName</em>,&#xA0;<em>namespaceURI</em>,&#xA0;<em>prefix</em>,&#xA0;<em>nodeValue</em>.\n\t\tThat is: they are both&#xA0;null, or they have the same length and are\n\t\tcharacter for character identical.</li>\n\t<li>The&#xA0;<em>attributes</em>&#xA0;<em>NamedNodeMaps</em>&#xA0;are\n\t\tequal. That is: they are both&#xA0;<em>null</em>, or they have the same\n\t\tlength and for each node that exists in one map there is a node that\n\t\texists in the other map and is equal, although not necessarily at the\n\t\tsame index.</li>\n\t<li>The&#xA0;<em>childNodes</em>&#xA0;<em>NodeLists</em>&#xA0;are equal.\n\t\tThat is: they are both&#xA0;<em>null</em>, or they have the same length\n\t\tand contain equal nodes at the same index. Note that normalization can\n\t\taffect equality; to avoid this, nodes should be normalized before being\n\t\tcompared.</li>\n</ul>\n<p>Calling the <em>.isEqualNode()</em> method on a node in the DOM will ask\n\tif that node is equal to the node that you pass it as a parameter.\n\tBelow I exhibt a case of an two equal nodes and two non-identical\n\tnodes.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<meta charset=\"utf-8\">&lt;input type=\"text\"&gt;\n&lt;input type=\"text\"&gt;\n\n&lt;textarea&gt;foo&lt;/textarea&gt;\n&lt;textarea&gt;bar&lt;/textarea&gt;\n\n&lt;script&gt;\n\n<em>//logs true, because they are exactly idential</em>\nvar input = document.querySelectorAll('input');\nconsole.log(input[0].<strong>isEqualNode</strong>(input[1]));\n\n<em>//logs false, because the child text node is not the same</em>\nvar textarea = document.querySelectorAll('textarea');\nconsole.log(textarea[0].<strong>isEqualNode</strong>(textarea[1]));\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>If you don't care about two nodes being exactly equal but instead\n\t\twant to know if two node references refer to the same node you can\n\t\tsimply check it using the <em>===</em> opertor (i.e. <em>document.body === document.body</em>). This will tell us if they are identical but no equal.</p>\n</div>\n\n\n</div>\n\n\n\n\n<div id=\"chapter2\" class=\"chapter\">\n\n <h2>Chapter 2 - Document Nodes</h2>\n <h2>2.1<em>document</em>node overview</h2>\n <p>The <em>HTMLDocument</em>\n constructor (which inherits from <em>document</em>) when instantiated \n represents specifically a <em>DOCUMENT_NODE</em> (i.e. <em>window.document</em>)\n in the DOM. To verify this we can simply ask which constructor was used in\n the creation of the <em>document</em> node object.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nconsole.log(window.<strong>document.constructor</strong>); <em>//logs function HTMLDocument() { [native code] }</em>\nconsole.log(window.<strong>document.nodeType</strong>); <strong><em>//logs 9, which is a numeric key mapping to DOCUMENT_NODE</em></strong>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The code above concludes that the <em>HTMLDocument</em> constructor\n function constructs the <em>window.document</em> node object and that this node is a <em>DOCUMENT_NODE</em> object.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Both <em>Document</em> and <em>HTMLDocument</em> constructors are\n typically instantiated by the browser when you load an HTML document. However, using <em>document.implementation.createHTMLDocument()</em> its possible to create your own HTML document outside of the one currently loaded into the browser. In addtion to <em>createHTMLDocument()</em> its also possible to create a document object which has yet to be setup as an HTML document using <em>createDocument()</em>. Typically the use of theses methods are associated with programatically providing an HTML document to an iframe.</p>\n </div>\n <h2>2.2 <em>HTMLDocument</em> properties and methods (including\n inherited) </h2>\n <p>To get accurate information pertaining to the available properties and\n methods on an <em>HTMLDocument</em> node its best to ignore the\n specification and to ask the browser what is available. Examine the arrays\n created in the code below detailing the properties and methods available\n from an <em>HTMLDocument</em> node (a.k.a. <em>window.document</em>)\n object.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\n<em>//document own properties</em>\nconsole.log(Object.keys(document).sort());\n\n<em>//document own properties &amp; inherited properties</em>\nvar documentPropertiesIncludeInherited = [];\nfor(var p in document){\n\tdocumentPropertiesIncludeInherited.push(p);\n}\nconsole.log(documentPropertiesIncludeInherited.sort());\n\n<em>//documment inherited properties only</em>\nvar documentPropertiesOnlyInherited = [];\nfor(var p in document){\n\tif(\n\t\t!document.hasOwnProperty(p)){documentPropertiesOnlyInherited.push(p);\n\t}\n}\nconsole.log(documentPropertiesOnlyInherited.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The available properties are many even if the inherited properties were not\n considered. Below I've hand pick a list of noteworthy properties and\n methods for the context of this chapter. \n </p>\n <ul>\n <li><em>doctype</em></li>\n <li><em>documentElement</em></li>\n <li><em>implementation</em>.*</li>\n <li><em>activeElement</em></li>\n <li><em>body</em></li>\n <li><em>head </em></li>\n <li><em>title</em></li>\n <li><em>lastModified</em></li>\n <li><em>referrer</em></li>\n <li><em>URL</em></li>\n <li><em>defaultview</em> </li>\n <li><em>compatMode</em></li>\n <li><em>ownerDocument</em></li>\n <li><em>hasFocus()</em></li>\n </ul>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The <em>HTMLDocument</em> node object is used to access (typically inherit) a great deal\n of the methods and properties available for working with the DOM (i.e. <em>document.querySelectorAll()</em>). You\n will be seeing many of these properties not discussed in this chapter\n discussed in the appropriate chapter's following this chapter.</p>\n </div>\n <h2>2.3 Getting general HTML document information (title, url, referrer, lastModified, compatMode)</h2>\n <p>The <em>document</em> object provides access to some general information\n about the HTML document/DOM being loaded. In the code below I use the <em>document.title</em>,\n <em>document.URL</em>, <em>document.referrer</em>, <em>document.lastModified</em>, and <em>document.compatMode</em> properties to gain some general information about the <em>document</em>.\n Based on the property name the returned values should be obvious.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nvar d = document;\nconsole.log('title = ' +d.<strong>title</strong>);\nconsole.log('url = ' +d.<strong>URL</strong>);\nconsole.log('referrer = ' +d.<strong>referrer</strong>);\nconsole.log('lastModified = ' +d.<strong>lastModified</strong>);\n\n<em>//logs either BackCompat (Quirks Mode) or CSS1Compat (Strict Mode)</em>\nconsole.log('compatibility mode = ' +d.<strong>compatMode</strong>);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>2.4 <em>document</em> child nodes</h2>\n <p><em>Document</em> nodes can contain one <em>DocumentType</em> node\n object and one <em>Element</em> node object. This should not be a\n surprise since HTML documents typically contain only one doctype (e.g. <em>&lt;!DOCTYPE html&gt;</em>) and one element (e.g. <em>&lt;html lang=\"en\"&gt;</em>). Thus if you ask for the children (e.g. <em>document.childNodes</em>)\n of the <em>Document</em> object you will get an array containing at the\n very least the documents doctype/DTD and <em>&lt;html lang=\"en\"&gt;</em> element.\n The code below showcases that <em>window.document</em> is a type of node\n object (i.e<em> Document</em>) with child nodes.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n<em>\n//This is the doctype/DTD</em>\nconsole.log(document.childNodes[0].nodeType); <strong><em>//logs 10, which is a numeric key mapping to DOCUMENT_TYPE_NODE</em></strong>\n\n<em>//This is the &lt;html&gt; element</em>\nconsole.log(document.childNodes[1].nodeType); <em>//logs 1, which is a numeric key <strong><em>mapping to</em></strong> ELEMENT_TYPE_NODE</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Don't confuse the <em>window.document</em> object created from <em>HTMLDocument</em>\n constructor with the <em>Document</em> object. Just remember <em>window.document</em>\n is the starting point for the DOM interface. That is why <em>document.childNodes</em>\n contains child nodes.</p>\n <p> If a comment node (not discussed in this book) is made outside of the\n <em> &lt;html lang=\"en\"&gt;</em> element then it will become a child node of the <em>window.document</em>. However having comment nodes outside of the &lt;html&gt; element can cause some buggy results in IE and also is a violation of the DOM specification.</p>\n </div>\n <h2>2.5 <em>document</em> provides shortcuts to <em>&lt;!DOCTYPE&gt;</em>,\n <em>&lt;html lang=\"en\"&gt;</em>, <em>&lt;head&gt;</em>, and <em>&lt;body&gt;</em></h2>\n <p>Using the properties listed below we can get a shortcut reference to the\n following nodes:</p>\n <ul>\n <li><em>document.doctype</em> refers to <em>&lt;!DOCTYPE&gt;&#xA0;</em></li>\n <li><em>document.documentElement </em>refers to <em>&lt;html lang=\"en\"&gt;</em></li>\n <li><em>document.head</em> refers to <em>&lt;head&gt; </em></li>\n <li><em>document.body </em>refers to<em> &lt;body&gt;</em></li>\n </ul>\n <p>This is demonstrated in the code below. </p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n<em></em>\nconsole.log(document.<strong>doctype</strong>); <em>// logs DocumentType {nodeType=10, ownerDocument=document, ...}</em>\n\nconsole.log(document.<strong>documentElement</strong>); <em>// logs &lt;html&#xA0;lang=\"en\"&gt;</em>\n\nconsole.log(document.<strong>head</strong>); <em>// logs &lt;head&gt;</em>\n\nconsole.log(document.<strong>body</strong>); <em>// logs &lt;body&gt;</em>\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The doctype or DTD is a <em>nodeType</em> of 10 or <em>DOCUMENT_TYPE_NODE</em>\n and should not be confused with the <em>DOCUMENT_NODE</em> (aka <em>window.document</em>\n constructed from <em>HTMLDocument()</em>). The doctype is constructed\n from the <em>DocumentType()</em> constructor.<br>\n </p>\n <p>In Safari, Chrome, and Opera the <em>document.doctype</em> does not\n appear in the <em>document.childNodes</em> list.</p>\n </div>\n <h2>2.6 Detecting DOM specifications/features using <em>document.implementation.hasFeature()</em>\n </h2>\n <p>Its possible using <em>document.implementation.hasFeature()</em> to ask\n (boolean) the current document what feature and level the browser\n has implemented/supports. For example we can ask if the browser has\n implemented the core DOM level 3 specification by passing the name of the\n feature and the version to the <em>hasFeature()</em> method. In the code\n below I ask if the browser has implemented the Core 2.0 &amp; 3.0 specification. </p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nconsole.log(document.<strong>implementation.hasFeature</strong>('Core','2.0'));<em></em>\nconsole.log(document.<strong>implementation.hasFeature</strong>('Core','3.0')); <em></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The following table defines the features (<a href=\"http://www.w3.org/TR/DOM-Level-2-Core/introduction.html#ID-Conformance\">spec\n calls these modules</a>) and versions that you can pass the <em>hasFeature()</em>\n method.</p>\n <table class=\"table table-bordered\" border=\"0\">\n <thead>\n <tr>\n <th>Feature </th>\n <th>Supported Versions </th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td>Core\n </td>\n <td> 1.0, 2.0, 3.0</td>\n </tr>\n <tr>\n <td>XML\n </td>\n <td>1.0, 2.0, 3.0</td>\n </tr>\n <tr>\n <td>\n HTML\n </td>\n <td>1.0, 2.0</td>\n </tr>\n <tr>\n <td>Views\n </td>\n <td>2.0\n </td>\n </tr>\n <tr>\n <td>StyleSheets\n </td>\n <td> 2.0</td>\n </tr>\n <tr>\n <td>\n CSS\n </td>\n <td>2.0</td>\n </tr>\n <tr>\n <td>CSS2\n </td>\n <td>2.0\n </td>\n </tr>\n <tr>\n <td>Events\n </td>\n <td>2.0, 3.0</td>\n </tr>\n <tr>\n <td>UIEvents\n </td>\n <td>2.0, 3.0\n </td>\n </tr>\n <tr>\n <td>MouseEvents\n </td>\n <td>2.0, 3.0</td>\n </tr>\n <tr>\n <td>MutationEvents\n </td>\n <td>2.0, 3.0\n </td>\n </tr>\n <tr>\n <td>HTMLEvents\n </td>\n <td>2.0\n </td>\n </tr>\n <tr>\n <td>Range\n </td>\n <td>2.0\n </td>\n </tr>\n <tr>\n <td>Traversal\n </td>\n <td>2.0\n </td>\n </tr>\n <tr>\n <td>LS (Loading and saving between files and DOM trees synchronously)\n </td>\n <td>3.0\n </td>\n </tr>\n <tr>\n <td>LS-Asnc (Loading and saving between files and DOM trees\n asynchronously)\n </td>\n <td>3.0\n </td>\n </tr>\n <tr>\n <td>Validation\n </td>\n <td>3.0\n </td>\n </tr>\n </tbody>\n </table>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Don't trust <em>hasFeature()</em> alone you should also use <a href=\"http://dev.opera.com/articles/view/using-capability-detection/\">capability\n detection</a> in addition to <em>hasFeature()</em>. </p>\n <p>Using the <em>isSupported</em> method implementation information can\n be gathered for a specific/selected node only (i.e. <em>element.isSupported(feature,version</em>).</p>\n <p>You can determince online what a user agent supports by visiting <a href=\"http://www.w3.org/2003/02/06-dom-support.html\">http://www.w3.org/2003/02/06-dom-support.html</a>. Here you will find a table indicating what the browser loading the url claims to implement.</p>\n </div>\n <h2>2.7 Get a reference to the focus/active node in the <em>document</em> </h2>\n <p>Using the <em>document.activeElement</em> we can quickly get a reference\n to the node in the document that is focused/active. In the code below, on\n page load, I am setting the focus of the document to the <em>&lt;textarea&gt;</em>\n node and then gaining a reference to that node using the <em>activeElement</em>\n property.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;textarea&gt;&lt;/textarea&gt;\n\n&lt;script&gt;\n\n<em>//set focus to &lt;textarea&gt;</em>\ndocument.querySelector('textarea').focus();\n\n<em>&#x200B;//get reference to element that is focused/active in the document</em>\nconsole.log(document.<strong>activeElement</strong>); <em>//logs &lt;textarea&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The focused/active element returns elements that have the ability to be\n focused. If you visit a web page in a browser and start hitting the tab\n key you will see focus shifting from element to element in that page that can\n get focused. Don't confuse the selection of nodes (highlight sections of\n the HTML page with mouse) with elements that get focus for the purpose\n of inputting something with keystrokes, spacebar, or mouse. </p>\n </div>\n <h2>2.8 Determing if the <em>document </em> or any node inside of the <em>document</em> has focus</h2>\n <p>Using the document.hasFocus() method its possible to know if the user currently is focused on the window that has the HTML document loaded. In the code below you see that if we execute the code and then focus another window, tabe, or application all together the <em>getFocus()</em> will return false.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;<em></em>\n\n<em>//If you keep focus on the window/tab that has the document loaded its true. If not it's false.</em>\nsetTimeout(function(){console.log(<strong>document.hasFocus(</strong>))},5000);<strong></strong>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>2.9 <em>document.defaultview</em> is a shortcut to the head/global object</h2>\n <p>You should be aware that the <em>defaultView</em> property is a shortcut to \n the JavaScript head object or what some refer to as the global object. The head object in a web browser is the <em>window</em> object and <em>defaultView</em> will point to this object in a JavaScript browser enviroment. The code below demonstrates the value of <em>defaultView</em> in a browser.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nconsole.log(document.<strong>defaultView</strong>) <em>//reference, head JS object. Would be window object in a browser.</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>If you are dealing with a DOM that is headless or an JavaScript enviroment that is not running in a web browser (i.e. <a href=\"http://nodejs.org/\">node.js</a>)\n this property can get you access to the head object scope. </p>\n<h2>2.9 Getting a reference to the <em>Document</em> from an <em>element</em> using <em>ownerDocument</em></h2>\n<p>The <em>ownerDocument</em> property when called on a node returns a reference to the <em>Document</em> the node is contained within. In the code below I get a reference to the <em>Document</em> of the <em>&lt;body&gt;</em> in the HTML document and the <em>Document</em> node for the <em>&lt;body&gt;</em> element contained inside of the iframe.</p>\n\n<p class=\"codeLink\">live code: N/A</p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;iframe src=\"http://someFileServedFromServerOnSameDomain.html\"&gt;&lt;/iframe&gt;\n\n&lt;script&gt;\n\n<em>//get the window.document that the &lt;body&gt; is contained within</em>\nconsole.log(document.body.<strong>ownerElement</strong>);\n\n<em>//get the window.document the &lt;body&gt; inside of the iframe is contained within</em>\nconsole.log(window.frames[0].document.body.<strong>ownerElement</strong>);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n<p>If <em>ownerDocument</em> is called on the <em>Document</em> node the value returned is <em>null</em>.</p>\n \n</div>\n\n\n\n\n<div id=\"chapter3\" class=\"chapter\">\n\n <h2>Chapter 3 - Element Nodes </h2>\n <h2>3.1 <em>HTML*Element</em> object overview</h2>\n <p>Elements in an html document all have a unique nature and as such they\n all have a unique <a href=\"http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/html.html\">JavaScript\n constructor</a> that instantiates the element as a node object in a DOM\n tree. For example an <em>&lt;a&gt;</em> element is created as a DOM node\n from the <em>HTMLAnchorElement()</em> constructor. Below we verify that an\n anchor element is created from <em>HTMLAnchorElement()</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a&gt;&lt;/a&gt;\n\n&lt;script&gt;\n<em>\n// grab &lt;a&gt; element node from DOM and ask for the name of the constructor that constructed it</em>\nconsole.log(document.querySelector('a').<strong>constructor</strong>);\n<em>//logs function HTMLAnchorElement() { [native code] }</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The point I am trying to express in the previous code example is that each element in the DOM is constructed from a unique JavaScript intefaces/constructor. The list below (not a <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/section-index.html#elements-1\">complete list</a>) should give you a good sense of the interfaces/constructors used to create HTML elements.</p>\n <ul>\n \t<li><em>HTMLHtmlElement</em></li>\n \t<li><em>HTMLHeadElement</em></li>\n \t<li><em>HTMLLinkElement</em></li>\n \t<li><em>HTMLTitleElement</em></li>\n \t<li><em>HTMLMetaElement</em></li>\n \t<li><em>HTMLBaseElement</em></li>\n \t<li><em>HTMLIsIndexElement</em></li>\n \t<li><em>HTMLStyleElement</em></li>\n \t<li><em>HTMLBodyElement</em></li>\n \t<li><em>HTMLFormElement</em></li>\n \t<li><em>HTMLSelectElement</em></li>\n \t<li><em>HTMLOptGroupElement</em></li>\n \t<li><em>HTMLOptionElement</em></li>\n \t<li><em>HTMLInputElement</em></li>\n \t<li><em>HTMLTextAreaElement</em></li>\n \t<li><em>HTMLButtonElement</em></li>\n \t<li><em>HTMLLabelElement</em></li>\n \t<li><em>HTMLFieldSetElement</em></li>\n \t<li><em>HTMLLegendElement</em></li>\n \t<li><em>HTMLUListElement</em></li>\n \t<li><em>HTMLOListElement</em></li>\n \t<li><em>HTMLDListElement</em></li>\n \t<li><em>HTMLDirectoryElement</em></li>\n \t<li><em>HTMLMenuElement</em></li>\n \t<li><em>HTMLLIElement</em></li>\n \t<li><em>HTMLDivElement</em></li>\n \t<li><em>HTMLParagraphElement</em></li>\n \t<li><em>HTMLHeadingElement</em></li>\n \t<li><em>HTMLQuoteElement</em></li>\n \t<li><em>HTMLPreElement</em></li>\n \t<li><em>HTMLBRElement</em></li>\n \t<li><em>HTMLBaseFontElement</em></li>\n \t<li><em>HTMLFontElement</em></li>\n \t<li><em>HTMLHRElement</em></li>\n \t<li><em>HTMLModElement</em></li>\n \t<li><em>HTMLAnchorElement</em></li>\n \t<li><em>HTMLImageElement</em></li>\n \t<li><em>HTMLObjectElement</em></li>\n \t<li><em>HTMLParamElement</em></li>\n \t<li><em>HTMLAppletElement</em></li>\n \t<li><em>HTMLMapElement</em></li>\n \t<li><em>HTMLAreaElement</em></li>\n \t<li><em>HTMLScriptElement</em></li>\n \t<li><em>HTMLTableElement</em></li>\n \t<li><em>HTMLTableCaptionElement</em></li>\n \t<li><em>HTMLTableColElement</em></li>\n \t<li><em>HTMLTableSectionElement</em></li>\n \t<li><em>HTMLTableRowElement</em></li>\n \t<li><em>HTMLTableCellElement</em></li>\n \t<li><em>HTMLFrameSetElement</em></li>\n \t<li><em>HTMLFrameElement</em></li>\n \t<li><em>HTMLIFrameElement </em></li>\n </ul>\n <p>Keep in mind each <em>HTML*Element </em>above inherits properties and methods from <em>HTMLElement</em>, <em>Element</em>, <em>Node</em>,\n and <em>Object</em>.</p>\n\t \n <h2>3.2 <em>HTML*Element</em> object properties and methods\n (including inherited)</h2>\n <p>To get accurate information pertaining to the available properties and\n methods on an <em>HTML*Element</em> node\n its best to ignore the specification and to ask the browser what is\n available. Examine the arrays created in the code below detailing the\n properties and methods available from\n HTMLelement nodes. </p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;Hi&lt;/a&gt;\n\n&lt;script&gt;\n\nvar anchor = document.querySelector('a');\n\n<em>//element own properties</em>\nconsole.log(Object.keys(anchor).sort());\n\n<em>//element own properties &amp; inherited properties</em>\nvar documentPropertiesIncludeInherited = [];\nfor(var p in document){\n\tdocumentPropertiesIncludeInherited.push(p);\n}\nconsole.log(documentPropertiesIncludeInherited.sort());\n\n<em>//element inherited properties only</em>\nvar documentPropertiesOnlyInherited = [];\nfor(var p in document){\n\tif(!document.hasOwnProperty(p)){\n\t\tdocumentPropertiesOnlyInherited.push(p);\n\t}\n}\nconsole.log(documentPropertiesOnlyInherited.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The available properties are many even if the inherited properties were\n not considered. Below I've hand pick a list of note worthy properties and\n methods (inherited as well) for the context of this chapter. </p>\n <ul>\n <li><em>createElement()</em></li>\n <li><em>tagName</em></li>\n <li><em>children</em> </li>\n <li><em>getAttribute()</em></li>\n <li><em>setAttribute()</em></li>\n <li><em>hasAttribute()</em></li>\n <li><em>removeAttribute()</em></li>\n <li><em>classList()</em></li>\n <li><em>dataset</em></li>\n <li><em>attributes</em></li>\n </ul>\n <p>For a complete list check out the\n MDN documentation which covers the <a href=\"https://developer.mozilla.org/en/DOM/element\">general\n properties and methods</a> available to most HTML elements. </p>\n<h2>3.3 Creating Elements</h2>\n<p><em>Element</em> nodes are instantiated for us when a browser interputs an HTML document and a corresponding DOM is built based on the contents of the document. After this fact, its also possible to programaticlly create <em>Element</em> nodes using <em>createElement()</em>. In the code below I create a <em>&lt;textarea&gt;</em> element node and then inject that node into the live DOM tree.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script&gt;\n\nvar elementNode = document.<strong>createElement('textarea')</strong>; <em>//HTMLTextAreaElement() constructs &lt;textarea&gt;</em>\ndocument.body.appendChild(elementNode);\n\nconsole.log(document.querySelector('textarea')); <em>//verify it's now in the DOM</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<p>The value passed to the <em>createElement()</em> method is a string that specifices the type of element (aka <em><a href=\"http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-104682815\">tagName</a></em>) to be created.</p>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n \n <p>This value passed to createElement is changed to a lower-case string before the element is created.</p></div>\n<h2>3.4 Get the tag name of an element</h2>\n <p>Using the\n <em>tagName</em> property we can access the name of an element. The <em>tagName</em>\n property returns the same value that using <em>nodeName</em> would\n return. Both return the value in uppercase regardless of the case in the source HTML document.</p>\n <p>Below we get the name of an <em>&lt;a&gt;</em> element in the DOM.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"#\"&gt;Hi&lt;/a&gt;\n\n&lt;script&gt;\n\nconsole.log(document.querySelector('a').<strong>tagName</strong>); <em>//logs A</em>\n\n<em>//the nodeName property returns the same value</em>\nconsole.log(document.querySelector('a').<strong>nodeName</strong>); <em>//logs A</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n <h2>3.5 Getting a list/collection of element attributes and values </h2>\n <p>Using the <em>attributes</em> property (inherited by element nodes from\n <em>Node</em>) we can get a collection of the <em><a href=\"http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-637646024\">Attr</a>\n </em>nodes that an element currently has defined. The list returned is a <em><a href=\"https://developer.mozilla.org/en/DOM/NamedNodeMap\">NameNodeMap</a></em>.\n Below I loop over the attributes collection exposing each <em>Attr</em>\n node object contained in the collection. </p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href='#' title=\"title\" data-foo=\"dataFoo\" class=\"yes\" style=\"margin:0;\" foo=\"boo\"&gt;&lt;/a&gt;\n\n&lt;script&gt;\n\nvar atts =&#xA0;document.querySelector('a').<strong>attributes</strong>;\n\nfor(var&#xA0;i=0;&#xA0;i&lt;&#xA0;atts.length;&#xA0;i++){\n\tconsole.log(atts[i].nodeName&#xA0;+'='+&#xA0;atts[i].nodeValue);\n}\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The array returned from accessing the attributes property should be\n consider live. Meaning that its contents can be changed at anytime.</p>\n <p>The array that is returned inherits from the <em>NameNodeMap</em>\n which provides methods to operate on the array such as <em>getNamtedItem()</em>,\n <em>setNamedItem()</em>, and <em>removeNamedItem()</em>. Operating on <em>attributes</em>\n with these methods should be secondary to using <em>getAttribute()</em>,\n <em>setAttribute()</em>, <em>hasAttribute()</em>, <em>removeAttribute()</em>.\n Its this authors opinion that dealing with <a href=\"http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-637646024\">Attr</a>\n nodes is messy. The only merit in using the <em>attributes</em> is found only in its \n funcitonaly for returning a list of live attributes.</p>\n <p>The <em>attributes</em> property is an array like collection and has a\n read only <em>length</em> property.</p>\n <p>Boolean attributres (e.g. <em>&lt;option selected&gt;foo&lt;/option&gt;</em>) show up in the <em>attributes</em> list but of course have no value unless you provide one (e.g. <em>&lt;option selected=\"selected\"&gt;foo&lt;/option&gt;</em>).</p>\n </div>\n <h2>3.6 Getting, Setting, &amp; Removing an element's attribute value</h2>\n <p>The most consistent way to get, set, or remove an elements <a href=\"http://www.whatwg.org/specs/web-apps/current-work/#attributes-1\">attribute</a> value is to use the <em>getAttribute(), setAttribute(),</em> and <em>removeAttribute()</em>\n method. In the code below I demonstrate each of these methods for managing element attributes.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href='#' title=\"title\" data-foo=\"dataFoo\" style=\"margin:0;\" class=\"yes\" foo=\"boo\" hidden=\"hidden\"&gt;#link&lt;/a&gt;\n\n&lt;script&gt;\n\nvar atts =&#xA0;document.querySelector('a');\n\n<em>//remove attributes</em>\natts.<strong>removeAttribute</strong>('href');\natts.<strong>removeAttribute</strong>('title');\natts.<strong>removeAttribute</strong>('style');\natts.<strong>removeAttribute</strong>('data-foo');\natts.<strong>removeAttribute</strong>('class');\natts.removeAttribute('foo');&#xA0;<em>//custom attribute</em><br>atts.removeAttribute('hidden');&#xA0;<em>//boolean attribute</em>\n\n<em>//set (really re-set) attributes</em>\natts.<strong>setAttribute</strong>('href','#');\natts.<strong>setAttribute</strong>('title','title');\natts.<strong>setAttribute</strong>('style','margin:0;');\natts.<strong>setAttribute</strong>('data-foo','dataFoo');\natts.<strong>setAttribute</strong>('class','yes');\natts.<strong>setAttribute</strong>('foo','boo');\natts.<strong>setAttribute</strong>('hidden','hidden');<em>&#xA0;//boolean attribute requires sending the attribute as the value too</em>\n\n<em>//get attributes</em>\nconsole.log(atts.<strong>getAttribute</strong>('href'));\nconsole.log(atts.<strong>getAttribute</strong>('title'));\nconsole.log(atts.<strong>getAttribute</strong>('style'));\nconsole.log(atts.<strong>getAttribute</strong>('data-foo'));\nconsole.log(atts.<strong>getAttribute</strong>('class'));\nconsole.log(atts.<strong>getAttribute</strong>('foo'));\nconsole.log(atts.<strong>getAttribute</strong>('hidden'));\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Use <em>removeAttribute()</em> instead of setting the attribute value to <em>null</em> or <em>''</em> using <em>setAttribute()</em> </p>\n <p>Some element attributes are available from element nodes as object properties (i.e. <em>document.body.id</em> or <em>document.body.className</em>). This author recommends avoiding these properties and using the remove, set, and get attribute methods.</p>\n </div>\n <h2>3.7 Verifying an element has a specific attribute</h2>\n <p>The best way to determine (i.e. boolean) if an element has an\n attribute is to use the <em>hasAttribute()</em>&#xA0; method. Below I\n verify if the <em>&lt;a&gt;</em> has a <em>href</em>, <em>title</em>, <em>style</em>,\n <em>data-foo</em>, <em> class</em>, and <em>foo</em> attribute.</p>\n \n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href='#' title=\"title\" data-foo=\"dataFoo\" style=\"margin:0;\" class=\"yes\" goo&gt;&lt;/a&gt;\n\n&lt;script&gt;\n\nvar atts =&#xA0;document.querySelector('a');\n\nconsole.log(\n\tatts.<strong>hasAttribute</strong>('href'),\n\tatts.<strong>hasAttribute</strong>('title'),\n\tatts.<strong>hasAttribute</strong>('style'),\n\tatts.<strong>hasAttribute</strong>('data-foo'),\n\tatts.<strong>hasAttribute</strong>('class'),\n\tatts.<strong>hasAttribute</strong>('goo') <em>//Notice this is true regardless if a value is defined </em>\n)\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>This method will return <em>true</em> if the element contains the attribute even\n if the attribute has no value. For example using <em>hasAttribute()</em> we can get a boolean response for <a href=\"http://www.w3.org/TR/html4/intro/sgmltut.html#h-3.3.4.2\">boolean attributes</a>. In the code example below we check to see if a checkbox is checked.</p>\n\t \n\t \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;input type=\"checkbox\" checked&gt;&lt;/input&gt;\n\n&lt;script&gt;\n\nvar atts =&#xA0;document.querySelector('input');\n\nconsole.log(atts.<strong>hasAttribute</strong>('checked'));<em> //logs true</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\t \n <h2>3.8 Getting a list of class attribute values</h2>\n <p>Using the <em>classList</em> property available on element nodes we can\n access a list (i.e. <em><a href=\"http://www.w3.org/TR/dom/#interface-domtokenlist\">DOMTokenList</a></em>) of class attribute values that is much easier to work with\n than a space-delimited string value returned from the <em>className</em>\n property. In the code below I contrast the use of <em>classList</em> with <em>className</em>.</p>\n \n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&#xA0;class=\"big brown bear\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar elm = document.querySelector('div');\n\nconsole.log(elm.<strong>classList</strong>); <em>//big brown bear {0=\"big\", 1=\"brown\", 2=\"bear\", length=3, ...}</em>\nconsole.log(elm.className); <em>//logs 'big brown bear'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Given the <em>classList</em> is an array like collection it has a read\n only <em>length</em> property.</p>\n <p><em>classList</em> is read-only but can be modifyied using the <em>add()</em>,<em> remove()</em>, <em>contains()</em>, and <em>toggle()</em> methods</p>\n <p>IE9 does not support <em>classList</em>. Support will land in <a href=\"http://blogs.msdn.com/b/ie/archive/2012/05/31/windows-release-preview-the-sixth-ie10-platform-preview.aspx\">IE10</a>. <a href=\"https://github.com/eligrey/classList.js\">Several</a> <a href=\"https://gist.github.com/1381839\">polyfills</a> are avaliable.</p>\n </div>\n<h2>3.9 Adding &amp; removing sub-values to a class attribute</h2>\n <p>Using the <em>classList.add()</em> and <em>classList.remove()</em>\n methods its extremely simple to edit the value of a class attribute. In\n the code below I demonstrated adding and removing class values.</p>\n \n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;div class=\"dog\"&gt;&lt;/div&gt;&#x200B;\n\n&lt;script&gt;\n\nvar elm = document.querySelector('div');\n\nelm.classList.<strong>add</strong>('cat');\nelm.classList.<strong>remove</strong>('dog');\nconsole.log(elm.className); <em>//'cat'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>3.10 Toggling a class attribute value</h2>\n <p>Using the <em>classList.toggle()</em> method we can toggle a sub-value\n of the class attribute. This allows us to add a value if its missing or\n remove a value if its already added. In the code below I toggle the <em>'visible'</em>\n value and the <em>'grow'</em> value. Which essentially means I remove <em>'visible'</em>\n and add <em>'grow'</em> to the class attribute value. </p>\n\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;div class=\"visible\"&gt;&lt;/div&gt;&#x200B;\n\n&lt;script&gt;\n\nvar elm = document.querySelector('div');\n\nelm.classList.<strong>toggle</strong>('visible');\nelm.classList.<strong>toggle</strong>('grow');\nconsole.log(elm.className);<em> //'grow'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>3.11 Determining if a class attribute value contains a specific value<br>\n </h2>\n<p>Using the <em>classList.contains()</em> method its possible to determine\n (boolean) if a class attribute value contains a specific sub-value.\n In the code below we test weather the <em>&lt;div&gt;</em> class\n attribute contains a sub-value of <em>brown</em>. </p>\n\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;div class=\"big brown bear\"&gt;&lt;/div&gt;&#x200B;\n\n&lt;script&gt;\n\nvar elm = document.querySelector('div');\n\nconsole.log(elm.classList.<strong>contains</strong>('brown'));<em> //<span>logs true</span></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>3.12 Getting &amp; Setting data-* attributes</h2>\n<p>The <em>dataset</em> property of a element node provides an object\n containing all of the attributes of an element that starts with data-*.\n Because its a simply a JavaScript object we can manipulate <em>dataset</em>\n and have the element in the DOM reflect those changes </p>\n\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div data-foo-foo=\"foo\" data-bar-bar=\"bar\"&gt;&lt;/div&gt;&#x200B;\n\n&lt;script&gt;\n\nvar elm = document.querySelector('div');\n\n<em>//get</em><em></em>\nconsole.log(elm.<strong>dataset.fooFoo</strong>); <em>//logs 'foo'</em>\nconsole.log(elm.<strong>dataset.barBar</strong>); <em>//logs 'bar'</em>\n\n<em>//set</em>\n<strong>elm.dataset.gooGoo = 'goo';</strong>\nconsole.log(elm.dataset); <em>//logs DOMStringMap {fooFoo=\"foo\", barBar=\"bar\", gooGoo=\"goo\"}</em>\n\n<em>//what the element looks like in the DOM </em>\nconsole.log(elm); <em>//logs &lt;div data-foo-foo=\"foo\" data-bar-bar=\"bar\" data-goo-goo=\"goo\"&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>dataset</em> contains camel case versions of data attributes.\n Meaning <em>data-foo-foo</em> will be listed as the property <em>fooFoo</em>\n in the dataset <em>DOMStringMap</em> object. The<em>-</em> is replaced by camel casing.</p>\n <p>Removing a data-* attribute from the DOM is as simple\n using the <em>delete</em> operator on a property of the <em>datset</em>\n (e.g. <em>delete dataset.fooFoo</em>) </p>\n <p><em>dataset</em> is not supported in IE9. A <a href=\"https://github.com/remy/polyfills/blob/master/dataset.js\">polyfill</a> is avaliable. However, you can always just use getAttribute('data-foo'), removeAttribute('data-foo'), setAttribute('data-foo'), hasAttribute('data-foo').</p>\n </div>\n \n</div>\n\n\n\n\n<div id=\"chapter4\" class=\"chapter\">\n\n <h2>Chapter 4 - Element Node Selecting</h2>\n <h2>4.1 Selecting a specific element node</h2>\n <p>The most common methods for getting a reference to a single element node\n are: </p>\n <ul>\n <li><em>querySelector() </em></li>\n <li><em>getElementById()</em> </li>\n </ul>\n <p>In the code below I leverage both of these methods to select an element\n node from the HTML document. </p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Hello&lt;/li&gt;\n&lt;li&gt;big&lt;/li&gt;\n&lt;li&gt;bad&lt;/li&gt;\n&lt;li id=\"last\"&gt;world&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\nconsole.log(document.<strong>querySelector</strong>('li').textContent); <em>//logs Hello</em>\nconsole.log(document.<strong>getElementById</strong>('last').textContent); <em>//logs world</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>The <em>getElementById()</em> method is pretty simple compared to the\n more robust <em>querySelector()</em> method. The <em>querySelector()</em>\n method permits a parameter in the form of a <a href=\"http://www.w3.org/TR/css3-selectors/#selectors\">CSS\n selector syntax</a>. Basically you can pass this method a CSS 3\n selector (e.g. <em>'#score&gt;tbody&gt;tr&gt;td:nth-of-type(2)'</em>) which it will use to select a single element in the DOM.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>querySelector()</em> will return the first node element found in\n the document based on the selector. For example, in the code example\n above we pass a selector that would select all the li's in CSS, but only the first one is returned.</p>\n <p> <em>querySelector()</em> is also defined on element nodes. This\n allows for the method to limit (allows for context querying) its results to a specific vein of the DOM\n tree</p>\n </div>\n <h2>4.2 Selecting/creating a list (aka <em>NodeList</em>) of element nodes</h2>\n <p>The most common methods for selecting/creating a list of nodes in an HTML\n document are:</p>\n <ul>\n <li><em>querySelectorAll()</em></li>\n <li><em>getElementsByTagName()</em></li>\n <li><em>getElementsByClassName()</em></li>\n </ul>\n <p>Below we use all three of these methods to create a list of the <em>&lt;li&gt;</em>\n elements in the document.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;li class=\"liClass\"&gt;Hello&lt;/li&gt;\n&lt;li class=\"liClass\"&gt;big&lt;/li&gt;\n&lt;li class=\"liClass\"&gt;bad&lt;/li&gt;\n&lt;li class=\"liClass\"&gt;world&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//all of the methods below create/select the same list of &lt;li&gt; elements from the DOM</em>\nconsole.log(document.<strong>querySelectorAll</strong>('li'));\nconsole.log(document.<strong>getElementsByTagName</strong>('li'));\nconsole.log(document.<strong>getElementsByClassName</strong>('liClass'));\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>If its not clear the methods used in the code example above do not select\n a specific element, but instead creates a list (aka <a href=\"https://developer.mozilla.org/En/DOM/NodeList\"><em>NodeLists</em></a>)\n of elements that you can select from.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>NodeLists</em> created from <em>getElementsByTagName()</em> and <em>getElementsByClassName()</em>\n are considered live are will always reflect the state of the document\n even if the document is updated after the list is created/selected.</p>\n <p> The <em>querySelectorAll()</em> method does not return a live list of\n elements. Meaning that the list created from <em>querySelectorAll()</em>\n is a snap shot of the document at the time it was created and is not\n reflective of the document as it changes. The list is static not live.</p>\n <p> <em>querySelectorAll()</em>, <em>getElementsByTagName()</em>, and <em>getElementsByClassName</em>\n are also defined on element nodes. This allows for the method to limit\n its results to specific vein(s) of the DOM tree (e.g. <em>document.getElementById('header').getElementsByClassName('a')</em>).</p>\n <p> I did not mention the <em>getElementsByName()</em> method as it not\n commonly leverage over other solutions but you should be aware of its\n existence for selecting form, img, frame, embed, and object elements\n from a document that all have the same name attribute value.</p>\n <p> Passing either <em>querySelectorAll()</em> or <em>getElementsByTagName()</em>\n the string <em>'*'</em>, which generally means all, will return a list\n of all elements in the document.</p>\n <p>Keep in mind that <em>childNodes</em> will also return a <em>NodeList</em> just like <em>querySelectorAll()</em>, <em>getElementsByTagName()</em>, and <em>getElementsByClassName</em></p>\n <p>The <em>NodeLists</em> are array like (but does not inherit array methods) lists/collections and have a\n read only <em>length</em> property</p>\n </div>\n\t<h2>4.3 Selecting all immediate child element nodes</h2>\n <p>Using the <em>children</em> property from an element node we can get a\n list (aka <a href=\"https://developer.mozilla.org/en/DOM/HTMLCollection\"><em>HTMLCollection</em></a>)\n of all the immediate children nodes that are element nodes. In the code below I use <em>children</em> to create a selection/list of all of the <em>&lt;li&gt;</em>'s contained wiithin the <em>&lt;ul&gt;</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Hi&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;there&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\nvar ulElement = document.querySelector('ul').<strong>children</strong>;\n\n<em>//logs a list/array of all immediate child element nodes</em>\nconsole.log(ulElement); <em>//logs [&lt;li&gt;, &lt;li&gt;]</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Notice that using <em>children</em> only gives us the immediate element\n nodes excluding any nodes (e.g. text nodes) that are not elements. If the element has no children then <em>children</em>\n will return an empty array-like-list.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>HTMLCollection</em>'s contain elements in document order, that is they are placed in the array in the order the elements appear in the DOM</p>\n <p><em>HTMLCollection</em>'s are live, which means any change to the document will be reflected dynamically in the collection</p>\n </div>\n <h2>4.4 Contextual element selecting</h2>\n <p>The methods <em>querySelector()</em>, <em>querySelectorAll()</em>, <em>getElementsByTagName()</em>, and <em>getElementsByClassName</em> typically accessed from the <em>document</em> object are also defined on element nodes. This allows for these methods to limit\n its results to specific vein(s) of the DOM tree. Or said another, you can select a specific context in which you would like the methods to search for element nodes by invoking these methods on element node objects.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;<br>&lt;ul&gt;<br>&lt;li&#xA0;class=\"liClass\"&gt;Hello&lt;/li&gt;<br>&lt;li&#xA0;class=\"liClass\"&gt;big&lt;/li&gt;<br>&lt;li&#xA0;class=\"liClass\"&gt;bad&lt;/li&gt;<br>&lt;li&#xA0;class=\"liClass\"&gt;world&lt;/li&gt;<br>&lt;/ul&gt;<br>&lt;/div&gt;\n\n&lt;ul&gt;<br>&lt;li&#xA0;class=\"liClass\"&gt;Hello&lt;/li&gt;<br>&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//select a div as the context to run the selecting methods only on the contents of the div</em>\n<strong>var&#xA0;div&#xA0;=&#xA0;document.querySelector('div');</strong>\n\nconsole.log(<strong>div</strong>.querySelector('ul'));\nconsole.log(<strong>div</strong>.querySelectorAll('li'));\nconsole.log(<strong>div</strong>.getElementsByTagName('li'));\nconsole.log(<strong>div</strong>.getElementsByClassName('liClass'));\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>These methods not only operate on the live dom but programatic DOM structures that are created in code as well.</p>\n\t\n\t\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n<em>\n//create DOM structure</em>\nvar divElm = document.createElement('div');\nvar ulElm = document.createElement('ul');\nvar liElm = document.createElement('li');\nliElm.setAttribute('class','liClass');\nulElm.appendChild(liElm);\ndivElm.appendChild(ulElm);\n\n<em>//use selecting methods on DOM structure</em>\nconsole.log(<strong>divElm</strong>.querySelector('ul'));\nconsole.log(<strong>divElm</strong>.querySelectorAll('li'));\nconsole.log(<strong>divElm</strong>.getElementsByTagName('li'));\nconsole.log(<strong>divElm</strong>.getElementsByClassName('liClass'));\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>4.5 Pre-configured selections/lists of element nodes</h2>\n <p>You should be aware that there are some legacy, pre-configured\n arrays-like-lists, containing element nodes from an HTML document. Below I\n list a couple of these (not the complete list) that might be handy to be\n aware of.</p>\n <ul>\n <li><em>document.all</em> - all elements in HTML document</li>\n <li><em>document.forms</em> - all <em>&lt;form&gt;</em> elements in HTML\n document</li>\n <li><em>document.images</em> - all <em>&lt;img&gt;</em> elements in HTML\n document</li>\n <li><em>document.links</em> - all <em>&lt;a&gt;</em> elements in HTML\n document </li>\n <li><em>document.scripts</em> - all <em>&lt;script&gt;</em> elements in HTML\n document </li>\n <li><em>document.styleSheets</em> - all <em>&lt;link&gt;</em> or <em>&lt;style&gt;</em> objects in HTML document</li>\n </ul>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>These pre-configured arrays are constucted from the <a href=\"https://developer.mozilla.org/en/DOM/HTMLCollection\">HTMLCollection</a>\n interface/object, except <em>document.styleSheets</em> it uses <em>StyleSheetList</em></p>\n <p><em><a href=\"https://developer.mozilla.org/en-US/docs/DOM/HTMLCollection\">HTMLCollection</a></em>'s are live just like <em><a href=\"https://developer.mozilla.org/En/DOM/NodeList\">NodeList</a></em>'s.\n </p>\n <p>Oddly <em>document.all</em> is constucted from a<em> HTMLAllCollection</em> not an <em>HTMLCollection</em> and is not supported in Firefox</p>\n </div>\n <h2>4.6 Verify an element will be selected using <em>matchesSelector()</em></h2>\n <p>Using the <em>matchesSelector()</em> method we can determine if an\n element will match a selector string. For example say we want to determine if\n an <em>&lt;li&gt;</em> is the first child element of a <em>&lt;ul&gt;</em>.\n In the code example below I select the first <em>&lt;li&gt;</em> inside of the <em>&lt;ul&gt;</em> and then ask if that element matches the selector, <em>li:first-child</em>. Because it in fact does, the <em>matchesSelector()</em> method returns <em>true</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Hello&lt;/li&gt;\n&lt;li&gt;world&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script&gt;\n\n<em>//fails in modern browser must use browser prefix moz, webkit, o, and ms</em>\nconsole.log(document.querySelector('li').<strong>matchesSelector</strong>('li:first-child')); <em>//logs false\n\n//prefix moz\n//console.log(document.querySelector('li').<strong>mozMatchesSelector</strong>('li:first-child'));\n\n//prefix webkit\n//console.log(document.querySelector('li').<strong>webkitMatchesSelector</strong>('li:first-child'));\n\n//prefix o\n//console.log(document.querySelector('li').<strong>oMatchesSelector</strong>('li:first-child'));\n\n//prefix ms\n//console.log(document.querySelector('li').<strong>msMatchesSelector</strong>('li:first-child'));</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>matchesSelector has not seen much love from the browsers as its usage\n is behind browser prefixes <em>mozMatchesSelector()</em>, <em>webkitMatchesSelector()</em>,\n <em>oMatchesSelector()</em>, <em>msMatchesSelector()</em> </p>\n <p>In the future <em>matchesSelector()</em> will be renamed to <em>matches()</em></p>\n </div>\n \n\n</div>\n\n\n\n\n<div id=\"chapter5\" class=\"chapter\">\n\n <h2>Chapter 5 - Element Node Geometry &amp; Scrolling Geometry</h2>\n \n\t<h2>5.1 Element node size, offsets, and scrolling overview</h2>\n\t<p>DOM nodes are parsed and <a href=\"http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Painting\">painted</a> into visual shapes when viewing html documents in a web browser. Nodes, mostly element nodes, have a corresponding visual representation made viewable/visual by browsers. To inspect and in some cases manipulate the visual representation and gemometry of nodes programatically a set of API's exists and are specified in the <a href=\"http://www.w3.org/TR/cssom-view/\">CSSOM View Module</a>. A subset of methods and properties found in this specification provide an API to determine the geometry (i.e. size &amp; position using offset) of element nodes as well as hooks for manipulating scrollable nodes and getting values of scrolled nodes. This chapter breaks down these methods and properties.</p>\n\t<div class=\"notes\">\n <h3>Notes</h3>\n <p>Most of the properties (excluding <em>scrollLeft</em> &amp; <em>scrollTop</em>) from the CSSOM View Module specification are read only and calculated each time they are accessed. In other words, the values are live</p>\n </div>\n\t<h2>5.2 Getting an elements <em>offsetTop</em> and <em>offsetLeft</em> values relative to the <em>offsetParent</em></h2>\n <p>Using the properties <em>offsetTop</em> and <em>offsetLeft</em> we can get the offset pixel value of an element node from the <em>offsetParent</em>. These element node properties give us the distance in pixels from an elements outside top and left border to the inside top and left border of the <em>offsetParent</em>. The value of the <em>offsetParent</em> is determined by searching the nearest ancestor elements for an element that has a CSS position value not equal to static. If none are found then the <em>&lt;body&gt;</em> element or what some refer to as the \"document\" (as opposed to the browser viewport) is the <em>offsetParent</em> value. If during the ancestral search a <em>&lt;td&gt;</em>, <em>&lt;th&gt;</em>, or <em>&lt;table&gt;</em> element with a CSS position value of static is found then this becomes the value of <em>offsetParent</em>.</p>\n <p>Lets verify that <em>offsetTop</em> and <em>offsetLeft</em> provide the values one might expect. The properties <em>offsetLeft</em> and <em>offsetTop</em> in the code below tell us that the <em>&lt;div&gt;</em> with an <em>id</em> of <em>red</em> is 60px's from the top and left of the <em>offsetParent</em> (i.e. the <em>&lt;body&gt;</em> element in this example).</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;\nbody{margin:0;}\n#blue{height:100px;width:100px;background-color:blue;border:10px&#xA0;solid&#xA0;gray;&#xA0;padding:25px;margin:25px;}<br>#red{height:50px;width:50px;background-color:red;border:10px&#xA0;solid&#xA0;gray;}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div&#xA0;id=\"blue\"&gt;&lt;div&#xA0;id=\"red\"&gt;&lt;/div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar div = document.querySelector('#red');&#xA0;<p>console.log(div.<strong>offsetLeft</strong>); <em>//logs 60</em><br>console.log(div.<strong>offsetTop</strong>);<em>&#xA0;//logs 60</em>\nconsole.log(div.<strong>offsetParent</strong>);<em>&#xA0;//logs &lt;body&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n <p>Examine the following image showing what the code visually show in browser to help aid your understanding of how the <em>offsetLeft</em> and <em>offsetTop</em> values are deteremined. The red <em>&lt;div&gt;</em> shown in the image is exactly 60 pixels from the <em>offsetParent</em>.</p>\n <p><img src=\"http://domenlightenment.com/images/c4sec2.png\"></p>\n <p>Notice I am measuring from the outside border of the red <em>&lt;div&gt;</em> element to the inside border of the <em>offsetParent</em> (i.e. <em>&lt;body&gt;</em>). </p>\n <p>As previously mentioned If I was to change the blue <em>&lt;div&gt;</em> in the above code to have a position of absolute this would alter the value of the <em>offsetParent</em>. In the code below, absolutely positioning the blue <em>&lt;div&gt;</em> will cause the values returned from <em>offsetLeft</em> and <em>offsetTop</em> to report an offset (i.e. 25px's). This is because the offset parent is now the blue <em>&lt;div&gt;</em> and not the <em>&lt;body&gt;</em> .</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;\n#blue{height:100px;width:100px;background-color:blue;border:10px&#xA0;solid&#xA0;gray;&#xA0;padding:25px;margin:25px;<strong>position:absolute;</strong>}\n#red{height:50px;width:50px;background-color:red;border:10px&#xA0;solid&#xA0;gray;}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div&#xA0;id=\"blue\"&gt;&lt;div&#xA0;id=\"red\"&gt;&lt;/div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar div = document.querySelector('#red');&#xA0;<p>console.log(div.<strong>offsetLeft</strong>); <em>//logs 25</em><br>console.log(div.<strong>offsetTop</strong>);<em>&#xA0;//logs 25</em>\nconsole.log(div.<strong>offsetParent</strong>);<em>&#xA0;//logs &lt;div id=\"blue\"&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\t<p>The image of the browser view shown below clarifies the new measurements returned from <em>offsetLeft</em> and <em>offsetTop</em> when the <em>offsetParent</em> is the blue <em>&lt;div&gt;</em>.</p>\n <p><img src=\"http://domenlightenment.com/images/c4sec2b.png\"></p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Many of the browsers break the outside border to inside border measurement when the <em>offsetParent</em> is the <em>&lt;body&gt;</em> and the <em>&lt;body&gt;</em> or <em>&lt;html&gt;</em> element has a visible margin, padding, or border value.</p>\n <p>The <em>offsetParent</em>, <em>offsetTop</em>, and <em>offsetLeft</em> are extensions to the <em>HTMLelement</em> object.</p>\n </div>\n <h2>5.3 Getting an elements top, right, bottom and left border edge offset relative to the viewport\tusing <em>getBoundingClientRect()</em></h2>\n <p>Using the <em>getBoundingClientRect()</em> method we can get the position of an elements outside border edges as its painted in the browser viewport relative to the top and left edge of the viewport. This means the left and right edge are measured from the outside border edge of an element to the left edge of the viewport. And the top and bottom edges are measured from the outside border edge of an element to the top edge of the viewport.</p>\n <p>In the code below I create a 50px X 50px <em>&lt;div&gt;</em> with a 10px border and 100px margin. To get the distance in pixels from each border edge of the <em>&lt;div&gt;</em> I call the<em> getBoundingClientRect()</em> method on the <em>&lt;div&gt;</em> which returns an object containing a <em>top</em>, <em>right</em>, <em>bottom</em>, and <em>left</em> property.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;\nbody{margin:0;}<br>div{height:50px;width:50px;background-color:red;border:10px solid gray;margin:100px;}<br>&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar divEdges = document.querySelector('div').<strong>getBoundingClientRect()</strong>;&#xA0;<p>console.log(divEdges.top, divEdges.right, divEdges.bottom, divEdges.left); <em>//logs '100 170 170 100'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\n\t<p>The image below shows the browser rendered view of the above code with some added measurement indicators to show exactly how <em>getBoudingClientRect()</em> is calculated.</p>\n\t<p><img src=\"http://domenlightenment.com/images/c4sec3.png\">\n\t</p>\n <p>The <em>top</em> outside border edge of the <em>&lt;div&gt;</em> element is 100px from the top edge of the viewport. The <em>right</em> outside border edge of the element <em>&lt;div&gt;</em> is 170px from the left edge of the viewport. The <em>bottom</em> outside border edge of the element <em>&lt;div&gt;</em> is 170px from the top edge of the viewport. And the <em>left</em> outside border edge of the element <em>&lt;div&gt;</em> is 100px from the left edge of the viewport.</p>\n <h2>5.4 Getting an elements size (border + padding + content) in the viewport</h2>\n <p>The <em>getBoundingClientRect()</em> returns an object with a top, right, bottom, and left property/value but also with a height and width property/value. The <em>height</em> and <em>width</em> properties indicate the size of the element where the total size is derived by adding the content of the div, its padding, and borders together.</p>\n <p>In the code below I get the size of the <em>&lt;div&gt;</em> element in the DOM using <em>getBoundingClientRect()</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:25px;width:25px;background-color:red;border:25px solid gray;padding:25px;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>var div = document.querySelector('div').<strong>getBoundingClientRect()</strong>;&#xA0;\n<br>console.log(div.<strong>height</strong>, div.<strong>width</strong>); <em>//logs '125 125'</em>\n<em>//because 25px border + 25px padding + 25 content + 25 padding + 25 border = 125</em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n <p>The exact same size values can also be found using from the <em>offsetHeight</em> and <em>offsetWidth </em>properties. In the code below I leverage these properties to get the same exact height and width values provided by <em>getBoundingClientRect()</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:25px;width:25px;background-color:red;border:25px solid gray;padding:25px;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>var div = document.querySelector('div')<strong></strong>;&#xA0;\n<br>console.log(div.<strong>offsetHeight</strong>, div.<strong>offsetWidth</strong>); <em>//logs '125 125'</em>\n<em>//because 25px border + 25px padding + 25 content + 25 padding + 25 border = 125</em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n <h2>5.5 Getting an elements size (padding + content) in the viewport excluding borders</h2>\n <p>The <em>clientWidth</em> and <em>clientHeight</em> properties return a total size of an element by adding together the content of the element and its padding excluding the border sizes. In the code below I use these two properties to get the height and width of an element including padding but excluding borders.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:25px;width:25px;background-color:red;border:25px solid gray;padding:25px;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>var div = document.querySelector('div')<strong></strong>;&#xA0;\n<br>console.log(div.<strong>clientHeight</strong>, div.<strong>clientWidth</strong>); <em>//logs '75 75' because 25px padding + 25 content + 25 padding = 75</em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\t<h2>5.6 Getting topmost element in viewport at a specific point using <em>elementFromPoint()</em></h2>\n\t<p>Using <em>elementFromPoint()</em> it's possible to get a reference to the topmost element in an html document at a specific point in the document. In the code example below I simply ask what is the topmost element 50 pixels from the top and left of the viewport. Since we have two <em>&lt;div</em>&gt;'s at that location the topmost (or if there is no z-index set the last one in document order) div is selected and returned.</p>\n \n\t<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:50px;width:50px;background-color:red;position:absolute;top:50px;left:50px;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&#xA0;id=\"bottom\"&gt;&lt;/div&gt;&lt;div&#xA0;id=\"top\"&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>console.log(document.<strong>elementFromPoint(50,50)</strong>);<em> //logs <a title=\"//*[@id='me']\">&lt;div&#xA0;id=\"top\"&gt;</a><a title=\"/html/body/div\"></a></em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\t\n\t<h2>5.7 Getting the size of the element being scrolled using <em>scrollHeight</em> and <em>scrollWidth</em></h2>\n\t<p>The <em>scrollHeight</em> and <em>scrollWidth</em> properties simply give you the height and width of the node being scrolled. For example, open any HTML document that scrolls in a web browser and access these properties on the <em>&lt;html&gt;</em> (e.g.<em> document.documentElement.scrollWidth</em>) or <em>&lt;body&gt;</em> (e.g.<em> document.body.scrollWidth</em>) and you will get the total size of the HTML document being scrolled.\tSince we can apply, using CSS (i.e overflow:scroll), to elements lets look at a simpler code example. In the code below I make a <em>&lt;div&gt;</em> scroll a <em>&lt;p&gt;</em> element that is 1000px's x 1000px's. Accessing the <em>scrollHeight</em> and <em>scrollWidth</em> properties on the <em>&lt;div&gt;</em> will tell us that the element being scroll is 1000px's x 1000px's.</p>\n\t\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;\n*{margin:0;padding:0;}<br>div{height:100px;width:100px; overflow:auto;}<br>p{height:1000px;width:1000px;background-color:red;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>var div = document.querySelector('div');&#xA0;</p><p>console.log(div.<strong>scrollHeight</strong>, div.<strong>scrollWidth</strong>)<em>; //logs '1000 1000'</em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>If you need to know the height and width of the node inside a scrollable area when the node is smaller than the viewport of the scrollable area don't use <em>scrollHeight</em> and <em>scrollWidth</em> as this will give you the size of the viewport. If the node being scrolled is smaller than the scroll area then use <em>clientHeight</em> and <em>clientWidth</em> to determine the size of the node contained in the scrollable area.</p>\n </div>\n\n\t<h2>5.8 Getting &amp; Setting pixels scrolled from the top and left using <em>scrollTop</em> and <em>scrollLeft</em></h2>\n\t<p>The <em>scrollTop</em> and <em>scrollLeft</em> properties are read-write properties that return the pixels to the left or top that are not currently viewable in the scrollable viewport due to scrolling. In the code below I setup a <em>&lt;div&gt;</em> that scrolls a <em>&lt;p&gt;</em> element.</p>\n\t\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:100px;width:100px;overflow:auto;}<br>p{height:1000px;width:1000px;background-color:red;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;</p><p>&lt;script&gt;</p><p>var div = document.querySelector('div');&#xA0;</p><p>div.scrollTop = 750;<br>div.scrollLeft = 750;</p><p>console.log(div.<strong>scrollTop</strong>,div.<strong>scrollLeft</strong>); <em>//logs '750 750'&#xA0;</em></p><p>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\t<p>I programatically scroll the <em>&lt;div&gt;</em> by setting the <em>scrollTop</em> and <em>scrollLeft</em> to 750. Then I get the current value of <em>scrollTop</em> and <em>scrollLeft</em>, which of course since we just set the value to 750 will return a value of 750. The 750 reports the number of pixels scroll and indicates 750 px's to the left and top are not viewable in the viewport. If it helps just think of these properties as the pixel measurements of the content that is not shown in the viewport to the left or top.</p>\n\t<h2>5.9 Scrolling an element into view using <em>scrollIntoView()</em></h2>\n\t<p>By selecting a node contained inside a node that is scrollable we can tell the selected node to scroll into view using the <em>scrollIntoView()</em> method. In the code below I select the fifth <em>&lt;p&gt;</em> element contained in the scrolling <em>&lt;div&gt;</em> and call <em>scrollIntoView()</em> on it. </p>\n\t\n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<br>&lt;style&gt;<br>div{height:30px;width:30px; overflow:auto;}<br>p{background-color:red;}<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<p>&lt;div&gt;<br>&lt;content&gt;<br>&lt;p&gt;1&lt;/p&gt;<br>&lt;p&gt;2&lt;/p&gt;<br>&lt;p&gt;3&lt;/p&gt;<br>&lt;p&gt;4&lt;/p&gt;<br>&lt;p&gt;5&lt;/p&gt;<br>&lt;p&gt;6&lt;/p&gt;<br>&lt;p&gt;7&lt;/p&gt;<br>&lt;p&gt;8&lt;/p&gt;<br>&lt;p&gt;9&lt;/p&gt;<br>&lt;p&gt;10&lt;/p&gt;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0;<br>&lt;/content&gt;&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;<br>&lt;/div&gt;</p><p>&lt;script&gt;<br>\n<em>//select &lt;p&gt;5&lt;/p&gt; and scroll that element into view, I pass children '4' because its a zero index array-like structure</em><br>document.querySelector('content').children[4].<strong>scrollIntoView(true)</strong>;<br>&#xA0; &#xA0;&#xA0;<br>&lt;/script&gt;<br>&lt;/body&gt;\n&lt;/html&gt;</p></pre>\n\t<p>By passing the <em>scrollIntoView()</em> method a parameter of <em>true</em> I am telling the method to scroll to the top of the element being scrolled too. The <em>true</em> parameter is however not needed as this is the default action performed by the method. If you want to scroll align to the bottom of the element pass a parameter of <em>false </em>to the <em>scrollIntoView()</em> method.</p>\n\t\n\n\n</div>\n\n\n\n\n<div id=\"chapter6\" class=\"chapter\">\n\n <h2>Chapter 6 - Element Node Inline Styles </h2>\n <h2>6.1 Style Attribute (aka element inline CSS properties) Overview</h2>\n <p>Every HTML element has a style attribute that can be used to inline CSS properties specific to the element. In the code below I am accessing the <em>style</em>\n attribute of a <em>&lt;div&gt;</em> that contains several inline CSS properties.</p>\n \n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div style=\"background-color:red;border:1px solid black;height:100px;width:100px;\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar divStyle = document.querySelector('div').<strong>style</strong>; \n\n<em>//logs CSSStyleDeclaration {0=\"background-color\", ...}</em>\nconsole.log(divStyle);\n\n&#xA0;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n <p>Notice in the code above that what is returned from the <em>style</em> property is a <em>CSSStyleDeclaration</em>\n object and not a string. Additionally note that only the elements inline\n styles (i.e. excluding the computed styles, computed styles being any styles that have cascaded\n from style sheets) are included in the <em>CSSStyleDeclartion</em>\n object.</p>\n <h2>6.2 Getting, setting, &amp; removing individual inline CSS properties</h2>\n <p>Inline CSS styles are individually\n represented as a property (i.e. object property) of the <em>style</em> object avaliabe on element node objects. This provides the\n interface for us to get, set, or remove individual CSS properties on an element by simply setting an objects property value. In the\n code below we set, get, and remove styles on a <em>&lt;div&gt;</em> by manipulating the properties of the <em>style</em> object.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar divStyle = document.querySelector('div').<strong>style</strong>;\n\n<em>//set</em>\ndivStyle.<strong>backgroundColor</strong> = 'red';\ndivStyle.<strong>border</strong> = '1px solid black';\ndivStyle.<strong>width</strong> = '100px';\ndivStyle.<strong>height</strong> = '100px';\n\n<em>//get</em>\nconsole.log(divStyle.<strong>backgroundColor</strong>);\nconsole.log(divStyle.<strong>border</strong>);\nconsole.log(divStyle.<strong>width</strong>);\nconsole.log(divStyle.<strong>height</strong>);\n\n<strong><em>/*remove\ndivStyle.backgroundColor = '';\ndivStyle.border = '';\ndivStyle.width = '';\ndivStyle.height = '';\n*/</em></strong>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The property names contained in the style object do not contain the\n normal hyphen that is used in CSS property names. The translation is\n pretty simple. Remove the hyphen and use camel case. (e.g. font-size = <em>fontSize</em>\n or background-image = <em>backgroundImage</em>). In the case where a\n css property name is a JavaScript keyword the javascript css property\n name is prefixed with \"css\" (e.g. float = <em>cssFloat</em>). </p>\n <p>Short hand properties are available as properties as well. So you can\n not only set <em>margin</em>, but also <em>marginTop</em>.</p>\n <p>Remember to include for any css property value that requires a unit of\n measure the appropriate unit&#xA0; (e.g. <em>style.width = '300px';</em>\n <em>not style.width = '300';</em>). When a document is rendered in\n standards mode the unit of measure is require or it will be ignored. In\n quirksmode assumptions are made if not unit of measure is included. </p>\n </div>\n\t \n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>CSS Property</th>\n\t\t\t<th>JavaScript Property</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>background</td>\n\t\t\t<td>background</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>background-attachment</td>\n\t\t\t<td>backgroundAttachment</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>background-color</td>\n\t\t\t<td>backgroundColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>background-image</td>\n\t\t\t<td>backgroundImage</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>background-position</td>\n\t\t\t<td>backgroundPosition</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>background-repeat</td>\n\t\t\t<td>backgroundRepeat</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border</td>\n\t\t\t<td>border</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-bottom</td>\n\t\t\t<td>borderBottom</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-bottom-color</td>\n\t\t\t<td>borderBottomColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-bottom-style</td>\n\t\t\t<td>borderBottomStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-bottom-width</td>\n\t\t\t<td>borderBottomWidth</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-color</td>\n\t\t\t<td>borderColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-left</td>\n\t\t\t<td>borderLeft</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-left-color</td>\n\t\t\t<td>borderLeftColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-left-style</td>\n\t\t\t<td>borderLeftStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-left-width</td>\n\t\t\t<td>borderLeftWidth</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-right</td>\n\t\t\t<td>borderRight</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-right-color</td>\n\t\t\t<td>borderRightColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-right-style</td>\n\t\t\t<td>borderRightStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-right-width</td>\n\t\t\t<td>borderRightWidth</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-style</td>\n\t\t\t<td>borderStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-top</td>\n\t\t\t<td>borderTop</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-top-color</td>\n\t\t\t<td>borderTopColor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-top-style</td>\n\t\t\t<td>borderTopStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-top-width</td>\n\t\t\t<td>borderTopWidth</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>border-width</td>\n\t\t\t<td>borderWidth</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>clear</td>\n\t\t\t<td>clear</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>clip</td>\n\t\t\t<td>clip</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>color</td>\n\t\t\t<td>color</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>cursor</td>\n\t\t\t<td>cursor</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>display</td>\n\t\t\t<td>display</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>filter</td>\n\t\t\t<td>filter</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>font</td>\n\t\t\t<td>font</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>font-family</td>\n\t\t\t<td>fontFamily</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>font-size</td>\n\t\t\t<td>fontSize</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>font-variant</td>\n\t\t\t<td>fontVariant</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>font-weight</td>\n\t\t\t<td>fontWeight</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>height</td>\n\t\t\t<td>height</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>left</td>\n\t\t\t<td>left</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>letter-spacing</td>\n\t\t\t<td>letterSpacing</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>line-height</td>\n\t\t\t<td>lineHeight</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>list-style</td>\n\t\t\t<td>listStyle</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>list-style-image</td>\n\t\t\t<td>listStyleImage</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>list-style-position</td>\n\t\t\t<td>listStylePosition</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>list-style-type</td>\n\t\t\t<td>listStyleType</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>margin</td>\n\t\t\t<td>margin</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>margin-bottom</td>\n\t\t\t<td>marginBottom</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>margin-left</td>\n\t\t\t<td>marginLeft</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>margin-right</td>\n\t\t\t<td>marginRight</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>margin-top</td>\n\t\t\t<td>marginTop</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>overflow</td>\n\t\t\t<td>overflow</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>padding</td>\n\t\t\t<td>padding</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>padding-bottom</td>\n\t\t\t<td>paddingBottom</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>padding-left</td>\n\t\t\t<td>paddingLeft</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>padding-right</td>\n\t\t\t<td>paddingRight</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>padding-top</td>\n\t\t\t<td>paddingTop</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>page-break-after</td>\n\t\t\t<td>pageBreakAfter</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>page-break-before</td>\n\t\t\t<td>pageBreakBefore</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>position</td>\n\t\t\t<td>position</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>float</td>\n\t\t\t<td>styleFloat</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-align</td>\n\t\t\t<td>textAlign</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration</td>\n\t\t\t<td>textDecoration</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration: blink</td>\n\t\t\t<td>textDecorationBlink</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration: line-through</td>\n\t\t\t<td>textDecorationLineThrough</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration: none</td>\n\t\t\t<td>textDecorationNone</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration: overline</td>\n\t\t\t<td>textDecorationOverline</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-decoration: underline</td>\n\t\t\t<td>textDecorationUnderline</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-indent</td>\n\t\t\t<td>textIndent</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>text-transform</td>\n\t\t\t<td>textTransform</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>top</td>\n\t\t\t<td>top</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>vertical-align</td>\n\t\t\t<td>verticalAlign</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>visibility</td>\n\t\t\t<td>visibility</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>width</td>\n\t\t\t<td>width</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>z-index</td>\n\t\t\t<td>zIndex</td>\n\t\t</tr>\n\t</tbody>\n</table>\n <p>The style object is a <em>CSSStyleDeclaration</em> object and it provides not only access to inidividual CSS properties, but also the <em>setPropertyValue(propertyName)</em>, <em>getPropertyValue(propertyName,value)</em>,\n and <em>removeProperty()</em> methods used to manipulate individual CSS properties on a element node. In\n the code below we set, get, and remove individual CSS properties on a <em>&lt;div&gt;</em>\n using these methods.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;<meta charset=\"utf-8\">\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div style=\"background-color:green;border:1px solid purple;\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar divStyle = document.querySelector('div').style;\n\n<em>//set</em>\ndivStyle.<strong>setProperty</strong>('background-color','red');\ndivStyle.<strong>setProperty</strong>('border','1px solid black');\ndivStyle.<strong>setProperty</strong>('width','100px');\ndivStyle.<strong>setProperty</strong>('height','100px');\n\n<em>//get</em>\nconsole.log(divStyle.<strong>getPropertyValue</strong>('background-color'));\nconsole.log(divStyle.<strong>getPropertyValue</strong>('border','1px solid black'));\nconsole.log(divStyle.<strong>getPropertyValue</strong>('width','100px'));\nconsole.log(divStyle.<strong>getPropertyValue</strong>('height','100px'));\n\n<em>/*remove\ndivStyle.removeProperty('background-color');\ndivStyle.removeProperty('border');\ndivStyle.removeProperty('width');\ndivStyle.removeProperty('height');\n*/</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Take notice that the property name is passed to the <em>setProperty()</em>\n and <em>getPropertyValue()</em> method using the css property name\n including a hyphen (e.g. <em>background-color</em> not <em>backgroundColor</em>).</p>\n <p>For more detailed information about the <em>setProperty()</em>, <em>getPropertyValue()</em>,\n and <em>removeProperty()</em> as well as additional properties and\n methods have a look the <a href=\"https://developer.mozilla.org/en/DOM/CSSStyleDeclaration\">documentation</a>\n provided by Mozilla. </p>\n </div>\n <h2>6.3 Getting, setting, &amp; removing all inline CSS properties</h2>\n <p>Its possible using the <em>cssText</em> property of the <em>CSSStyleDeclaration</em> object as\n well as the <em>getAttribute()</em> and <em>setAttribute()</em> method\n to get, set, and remove the entire (i.e. all inline CSS properties) value of the style attribute using a\n JavaScript string. In the code below we get, set, and remove all \n inline CSS (as opposed to individually changing CSS proeprties) on a <em>&lt;div&gt;</em>.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar div = document.querySelector('div');\nvar divStyle = div.style;\n\n<em>//set using cssText</em>\ndivStyle.<strong>cssText</strong> = 'background-color:red;border:1px solid black;height:100px;width:100px;';\n<em>//get using cssText</em>\nconsole.log(divStyle.<strong>cssText</strong>);\n<em>//remove</em>\ndivStyle.<strong>cssText</strong> = '';\n\n<em>//exactly that same outcome using setAttribute() and getAttribute()</em>\n\n<em>//set using setAttribute</em>\ndiv.<strong>setAttribute</strong>('style','background-color:red;border:1px solid black;height:100px;width:100px;');\n<em>//get using getAttribute</em>\nconsole.log(div.<strong>getAttribute</strong>('style'));\n<em>//remove</em>\ndiv.<strong>removeAttribute</strong>('style');\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>If its not obvious you should note that replacing the <em>style</em>\n attribute value with a new string is the fastest way to make multiple\n changes to an elements style. </p>\n </div>\n\n<h2>6.4 Getting an elements computed styles (i.e. actual styles including any from the cascade) using <em>getComputedStyle()</em></h2>\n <p>The <em>style</em> property only contains the css that is defined\n via the style attribute. To get an elements css from the cascade\n (i.e. cascading from inline style sheets, external style sheets, browser style sheets) as\n well as its inline styles you can use <em>getComputedStyle()</em>. This\n method provides a read-only <em>CSSStyleDeclaration</em> object similar to \n <em>style</em>. In the code example below I demonstrate the\n reading of cascading styles, not just element inline styles.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;\n&#x200B;div{\n background-color:red;\n border:1px solid black;\n height:100px;\n width:100px;\n}\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div style=\"background-color:green;border:1px solid purple;\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar div = document.querySelector('div');\n\n<em>//logs rgb(0, 128, 0) or green, this is an inline element style</em>\nconsole.log(window.<strong>getComputedStyle</strong>(div).backgroundColor);\n\n<em>//logs 1px solid rgb(128, 0, 128) or 1px solid purple, this is an inline element style</em>\nconsole.log(window.<strong>getComputedStyle</strong>(div).border);\n\n<em>//logs 100px, note this is not an inline element style</em>\nconsole.log(window.<strong>getComputedStyle</strong>(div).height);\n\n<em>//logs 100px, note this is not an inline element style</em>\nconsole.log(window.<strong>getComputedStyle</strong>(div).width);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n <p>Make sure you note that <em>getComputedStyle()</em> method honors the <a href=\"http://css-tricks.com/specifics-on-css-specificity/\">CSS specificity hierarchy</a>. For example in the code just shown the <em>backgroundColor</em> of the <em>&lt;div&gt;</em> is reported as green not red because inline styles are at the top of the specificity hierarchy thus its the inline <em>backgroundColor</em> value that is applied to the element by the browser and consider its final computed style.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>No values can by set on a <em>CSSStyleDeclaration</em> object returned\n from <em>getComputedStyles()</em> its read only.</p>\n <p>The <em>getComputedStyles()</em> method returns color values in the <em>rgb(#,#,#)</em>\n format regardless of how they were originally authored.</p>\n <p><a href=\"http://www.w3.org/TR/CSS21/about.html#shorthand\">Shorthand</a> properties are not computed for the <em>CSSStyleDeclaration</em>\n object you will have to use\n non-shorthand property names for property access (e.g. marginTop not margin)<em>.\n </em></p>\n </div>\n <h2>6.5 Apply &amp; remove css properties on an element using <em>class</em> &amp; <em>id</em> attributes</h2>\n <p> Style rules defined in a inline style sheet or external style sheet can be\n added or removed from an element using the <em>class</em> and <em>id</em>\n attribute. This is a the most common pattern for manipulating element styles.\n In the code below, leveraging <em>setAttribute()</em> and <em>classList.add(),</em> inline style rules are applied to a <em>&lt;div&gt;</em> by setting\n the <em>class</em> and <em>id</em> attribute value. Using <em>removeAttribute()</em> and <em>classList.remove()</em> these CSS rules can be removed as well.</p>\n \n <pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;style&gt;\n.foo{<br>&#xA0;&#xA0;background-color:red;<br>&#xA0;&#xA0;padding:10px;<br>}<br>#bar{<br>&#xA0;&#xA0;border:10px&#xA0;solid&#xA0;#000;<br>&#xA0;&#xA0;margin:10px;<br>}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar div = document.querySelector('div');\n\n<em>//set</em>\ndiv.<strong>setAttribute</strong>('id','bar');\ndiv.<strong>classList</strong>.add('foo');\n\n<em>/*remove\ndiv.removeAttribute('id');\ndiv.classList.remove('foo');\n*/</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre>\n\n\n</div>\n\n\n\n\n<div id=\"chapter7\" class=\"chapter\">\n\n\n<h2>Chapter 7 - Text Nodes </h2>\n<h2>7.1 <em>Text</em> object overview</h2>\n<p>Text in an HTML document is represented by instances of the <em>Text()</em> constructor function, which produces text nodes. When an HTML document is\n\tparsed the text mixed in among the elements of an HTML page are converted\n\tto text nodes.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;hi&lt;/p&gt;\n\n&lt;script&gt;\n<em>\n//select 'hi' text node</em>\nvar textHi = document.querySelector('p').firstChild\n\nconsole.log(textHi.constructor); <em>//logs Text()</em>\n\n<em>//logs Text {textContent=\"hi\", length=2, wholeText=\"hi\", ...}</em>\nconsole.log(textHi);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The code above concludes that the <em>Text()</em> constructor function\n\tconstructs the text node but keep in mind that <em><span>Text</span></em> inherits from <em>CharacterData</em>,<em> Node</em>,\nand <em>Object</em>.</p>\n<h2>7.2 <em>Text</em> object &amp; properties</h2>\n<p>To get accurate information pertaining to the available properties and\n\tmethods on an <em>Text</em> node its best to ignore the\n\tspecification and to ask the browser what is available. Examine the arrays\n\tcreated in the code below detailing the properties and methods available\n\tfrom a text node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;hi&lt;/p&gt;\n\n&lt;script&gt;\nvar text = document.querySelector('p').firstChild;\n\n<em>//text own properties</em>\nconsole.log(Object.keys(text).sort());\n\n<em>//text own properties &amp; inherited properties</em>\nvar textPropertiesIncludeInherited = [];\nfor(var p in text){\n\ttextPropertiesIncludeInherited.push(p);\n}\nconsole.log(textPropertiesIncludeInherited.sort());\n\n<em>//text inherited properties only</em>\nvar textPropertiesOnlyInherited = [];\nfor(var p in text){\n\tif(!text.hasOwnProperty(p)){\n\t\ttextPropertiesOnlyInherited.push(p);\n\t}\n}\nconsole.log(textPropertiesOnlyInherited.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The available properties are many even if the inherited properties were not\n\tconsidered. Below I've hand pick a list of note worthy properties and\n\tmethods for the context of this chapter.&#xA0;</p>\n<ul>\n\t<li><em>textContent</em></li>\n\t<li><em>splitText()</em></li>\n\t<li><em>appendData()</em></li>\n\t<li><em>deleteData()</em></li>\n\t<li><em>insertData()</em></li>\n\t<li><em>replaceData()</em></li>\n\t<li><em>subStringData()</em></li>\n\t<li><em>normalize()</em></li>\n\t<li><em>data</em></li>\n\t\n\t<li><em>document.createTextNode()</em> (not a property or inherited property of text nodes but discussed in this chapter)</li>\n</ul>\n<h2>7.3 White space creates <em>Text</em> nodes</h2>\n<p>When a DOM is contstructed either by the browser or by programmatic means text nodes are created from white space as well as from text characters. After all, whitespace is a character. In the code below the second paragraph, conaining an empty space, has a child <em>Text</em> node while the first paragraph does not.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p id=\"p1\"&gt;&lt;/p&gt;\n<strong>&lt;p id=\"p2\"&gt; &lt;/p&gt;</strong>\n\n&lt;script&gt;\n\nconsole.log(document.querySelector('#p1').firstChild) <em>//logs null</em>\nconsole.log(document.querySelector('#p2').firstChild.nodeName) <em>//logs #text</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Don't forget that white space and text characters in the DOM are typically represented by a text node. This of course means that carriage returns are considered text nodes. In the code below we log a carriage return highlighting the fact that this type of character is in fact a text node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<strong>&lt;p id=\"p1\"&gt;&lt;/p&gt;</strong> <em>//yes there is a carriage return text node before this comment, even this comment is a node</em>\n&lt;p id=\"p2\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\n\nconsole.log(document.querySelector('#p1').nextSibling) <em>//logs Text</em><em></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The reality is if you can input the character or whitespace into an html document using a keyboard then it can potentially be interputed as a text node. If you think about it, unless you minimze/compress the html document the average html page contains a great deal of whitespace and carriage return text nodes.</p>\n\n<h2>7.4 Creating &amp; Injecting <em>Text</em> Nodes</h2>\n<p><em>Text</em> nodes are created automatically for us when a browser interputs an HTML document and a corresponding DOM is built based on the contents of the document. After this fact, its also possible to programatically create <em>Text</em> nodes using <em>createTextNode()</em>. In the code below I create a text node and then inject that node into the live DOM tree.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\nvar textNode = document.<strong>createTextNode('Hi')</strong>;\ndocument.querySelector('div').appendChild(textNode);\n\nconsole.log(document.querySelector('div').innerText); <em>// logs Hi</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Keep in mind that we can also inject text nodes into programmatically created DOM structures as well. In the code below I place a text node inside of an <em>&lt;p&gt;</em> element before I inject it into the live DOM.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar elementNode = document.createElement('p');\nvar textNode = document.createTextNode('Hi');\n<strong>elementNode.appendChild(textNode);</strong>\ndocument.querySelector('div').appendChild(elementNode);\n\nconsole.log(document.querySelector('div').innerHTML); <em>//logs &lt;div&gt;Hi&lt;/div&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<h2>7.5 Getting a <em>Text</em> node value with <em>.data</em> or <em>nodeValue</em></h2>\n<p>The text value/data represented by a <em>Text</em> node can be extracted from the node by using the <em>.data</em> or <em>nodeValue</em> property. Both of these return the text contained in a <em>Text</em> node. Below I demostrate both of these to retrive the value contained in the <em>&lt;div&gt;</em>.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;p&gt;Hi, &lt;strong&gt;cody&lt;/strong&gt;&lt;/p&gt;&lt;body&gt;\n\n&lt;script&gt;\n\nconsole.log(document.querySelector('p').firstChild<strong>.data</strong>); <em>//logs 'Hi,'</em>\nconsole.log(document.querySelector('p').firstChild<strong>.nodeValue</strong>); <em>//logs 'Hi,</em>'\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<p>Notice that the <em>&lt;p&gt;</em> contains two <em>Text</em> node and <em>Element</em> (i.e. <em>&lt;strong&gt;</em>)node. And that we are only getting the value of the first child node contained in the <em>&lt;p&gt;</em>.</p>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Getting the length of the characters contained in a text node is as simple as accessing the length proerty of the node itself or the actual text value/data of the node (i.e. <em>document.querySelector('p').firstChild.length</em> or <em>document.querySelector('p').firstChild.data.length</em> or <em>document.querySelector('p').firstChild.nodeValue.length</em>)</p>\n</div>\n\n<h2>7.6 Maniputlating <em>Text</em> nodes with <em>appendData()</em>, <em>deleteData()</em>, <em>insertData()</em>, <em>replaceData()</em>, <em>subStringData()</em></h2>\n<p>The <em>CharacterData</em> object that <em>Text</em> nodes inherits methods from provides the following methods for manipulating and extracting sub values from <em>Text</em> node values.</p>\n<ul>\n\t<li><em>appendData()</em></li>\n\t<li><em>deleteData()</em></li>\n\t<li><em>insertData()</em></li>\n\t<li><em>replaceData()</em></li>\n\t<li><em>subStringData()</em></li>\n</ul>\n<p>Each of these are leverage in the code example below.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;p&gt;Go big Blue Blue&lt;body&gt;\n\n&lt;script&gt;\n\nvar pElementText = document.querySelector('p').firstChild;<p><em>//add !</em><br>pElementText.<strong>appendData('!')</strong>;<br>console.log(pElementText.data);</p><p><em>//remove first 'Blue'</em><br>pElementText.<strong>deleteData(7,5)</strong>;<br>console.log(pElementText.data);</p><p><em>//insert it back 'Blue'</em><br>pElementText.<strong>insertData(7,'Blue ')</strong>;<br>console.log(pElementText.data);</p><p><em>//replace first 'Blue' with 'Bunny'</em><br>pElementText.<strong>replaceData(7,5,'Bunny ')</strong>;<br>console.log(pElementText.data);</p><p><em>//extract substring 'Blue Bunny'</em><br>console.log(pElementText.<strong>substringData(7,10)</strong>);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>These same manipulation and sub extraction methods can be leverage by <em>Comment</em> nodes</p>\n</div>\n<h2>7.7 When mulitple sibling <em>Text</em> nodes occur</h2>\n<p>Typically, immediate sibling <em>Text</em> nodes do not occur because DOM trees created by browsers intelligently combines text nodes, however two cases exist that make sibling text nodes possible. The first case is rather obvious. If a text node contains an <em>Element</em> node (e.g. <em>&lt;p&gt;Hi, &lt;strong&gt;cody&lt;/strong&gt; welcome!&lt;/p&gt;</em>) than the text will be split into the proper node groupings. Its best to look at a code example as this might sound more complicted than it really is. In the code below the contents of the <em>&lt;p&gt;</em> element is not a single <em>Text</em> node it is in fact 3 nodes, a <em>Text</em> node, <em>Element</em> node, and another <em>Text</em> node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hi, &lt;strong&gt;cody&lt;/strong&gt; welcome!&lt;/p&gt;\n\n&lt;script&gt;\n\nvar pElement = document.querySelector('p');\n\nconsole.log(pElement.childNodes.length); <em>//logs 3</em>\n\nconsole.log(pElement.firstChild.data); <em>// is text node or 'Hi, '</em>\nconsole.log(pElement.firstChild.nextSibling); <em>// is Element node or &lt;strong&gt;</em>\nconsole.log(pElement.lastChild.data);&#xA0;&#x200B;<em>// is text node or ' welcome!'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>The next case occurs when we are programatically add <em>Text</em> nodes to an element we created in our code. In the code below I create a <em>&lt;p&gt;</em> element and then append two <em>Text</em> nodes to this element. Which results in sibling <em>Text</em> nodes.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar&#xA0;pElementNode&#xA0;=&#xA0;document.createElement('p');<br>var&#xA0;textNodeHi&#xA0;=&#xA0;document.createTextNode('Hi ');<br>var&#xA0;textNodeCody&#xA0;=&#xA0;document.createTextNode('Cody');<p>pElementNode.appendChild(textNodeHi);<br>pElementNode.appendChild(textNodeCody);</p><p>document.querySelector('div').appendChild(pElementNode);</p><p>console.log(document.querySelector('div p').childNodes.length);&#xA0;<em>//logs 2&#x200B;</em>&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<h2>7.8 Remove markup and return all child <em>Text</em> nodes using <em>textContent</em></h2>\n<p>The <em>textContent</em> property can be used to get all child text nodes, as well as to set the contents of a node to a specific <em>Text</em> node. When its used on a node to get the textual content of the node it will returned a concatenataed string of all text nodes contained with the node you call the method on. This functionality would make it very easy to extract all text nodes from an HTML document. Below I extract all of the text contained withing the <em>&lt;body&gt;</em> element. Notice that <em>textContent</em> gathers not just immediate child text nodes but all child text nodes no matter the depth of encapsulation inside of the node the method is called.</p>\n<p class=\"codeLink\">live code: N/A</p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;h1&gt; Dude&lt;/h2&gt;\n&lt;p&gt;you &lt;strong&gt;rock!&lt;/strong&gt;&lt;/p&gt;\n&lt;script&gt;\n\nconsole.log(document.body.<strong>textContent</strong>);&#xA0;<em>//logs 'Dude you rock!' with some added white space\n\n</em>&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>When <em>textContent</em> is used to set the text contained within a node it will remove all child nodes first, replacing them with a single <em>Text</em> node. In the code below I replace all the nodes inside of the <em>&lt;div&gt;</em> element with a single <em>Text</em> node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;h1&gt; Dude&lt;/h2&gt;\n&lt;p&gt;you &lt;strong&gt;rock!&lt;/strong&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;script&gt;\n\ndocument.body.<strong>textContent = 'You don\\'t rock!'</strong>\nconsole.log(document.querySelector('div').textContent<strong><em></em></strong>);&#xA0;<em>//logs 'You don't rock!'\n\n</em>&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p><em>textContent</em> returns <em>null</em> if used on the a document or doctype node.</p>\n <p><em>textContent</em> returns the contents from <em>&lt;script&gt;</em> and <em>&lt;style&gt;</em> elements</p>\n</div>\n<h2>7.9 The difference between <em>textContent</em> &amp; <em>innerText</em></h2>\n<p>Most of the modern bowser, except Firefox, support a seeminly similiar property to <em>textContent</em> named <em>innerText</em>. However these properties are not the same. You should be aware of the following differences between <em>textContent</em> &amp; <em>innerText</em>.</p>\n<ul>\n\t<li><em>innerText</em> is aware of CSS. So if you have hidden text <em>innerText</em> ignores this text, whereas <em>textContent</em> will not</li>\n\t<li>Because <em>innerText</em> cares about CSS it will trigger a reflow, whereas <em>textContent</em> will not</li>\n\t<li><em>innerText</em> ignores the <em>Text</em> nodes contained in <em>&lt;script&gt;</em> and <em>&lt;style&gt;</em> elements</li>\n\t<li><em>innerText</em>, unlike <em>textContent</em> will normalize the text that is returned. Just think of <em>textContent</em> as returning exactly what is in the document with the markup removed. This will include white space, line breaks, and carriage returns</li>\n\t<li><em>innerText</em> is considered to be non-standard and browser specific while <em>textContent</em> is implemented from the DOM specifications</li>\n</ul>\n<p>If you you intend to use <em>innerText</em> you'll have to create a work around for Firefox.</p>\n<h2>7.10 Combine sibling <em>Text</em> nodes into one text node using <em>normalize()</em></h2>\n<p>Sibling <em>Text</em> nodes are typically only encountered when text is programaticly added to the DOM. To eliminate sibling <em>Text</em> nodes that contain no <em>Element</em> nodes we can use <em>normalize()</em>. This will concatenate sibling text nodes in the DOM into a single <em>Text</em> node. In the code below I create sibling text, append it to the DOM, then normalize it.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;div&gt;&lt;/div&gt;\n&lt;script&gt;\n\nvar&#xA0;pElementNode&#xA0;=&#xA0;document.createElement('p');\nvar&#xA0;textNodeHi&#xA0;=&#xA0;document.createTextNode('Hi');\nvar&#xA0;textNodeCody&#xA0;=&#xA0;document.createTextNode('Cody');\n\npElementNode.appendChild(textNodeHi);\npElementNode.appendChild(textNodeCody);\n\ndocument.querySelector('div').appendChild(pElementNode);\n\nconsole.log(document.querySelector('p').childNodes.length);&#xA0;<em>//logs 2</em>\n\ndocument.querySelector('div').<strong>normalize()</strong>; <em>//combine our sibling text nodes</em>\n\nconsole.log(document.querySelector('p').childNodes.length);&#xA0;<em>//logs 1</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>7.11 Splitting a text node using <em>splitText()</em></h2>\n<p> When <em>splitText()</em> is called on a <em>Text</em> node it will alter the text node its being called on (leaving the text up to the offset) and return a new <em>Text</em> node that contains the text split off from the orginal text based on the offset. In the code below the text node <em>Hey Yo!</em> is split after <em>Hey</em> and <em>Hey</em> is left in the DOM while <em>Yo!</em> is turned into a new text node are returned by the <em>splitText()</em> method.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hey Yo!&lt;/p&gt;\n\n&lt;script&gt;\n\n<em>//returns a new text node, taken from the DOM</em>\nconsole.log(document.querySelector('p').firstChild.<strong>splitText(4)</strong>.data); <em>//logs Yo!</em>\n\n<em>//What remains in the DOM...</em><br>console.log(document.querySelector('p').firstChild.textContent); <em>//logs Hey</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n</div>\n\n\n\n\n<div id=\"chapter8\" class=\"chapter\">\n\n\n<h2>Chapter 8 - DocumentFragment Nodes</h2>\n<h2>8.1 <em>DocumentFragment</em> object overview</h2>\n<p>The creation and use of a <em>DocumentFragment</em> node provides a light weight document DOM that is external to the live DOM tree. Think of a <em>DocumentFragment</em> as an empty document template that acts just like the live DOM tree, but only lives in memory, and its child nodes can easily be manipulated in memory and then appended to the live DOM.</p>\n\n<h2>8.2 Creating <em>DocumentFragment</em>'s using <em>createDocumentFragment()</em></h2>\n<p> In the code below a <em>DocumentFragment</em> is created using <em>createDocumentFragment()</em> and <em>&lt;li&gt;</em>'s are appended to the fragment.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n<br>var&#xA0;docFrag&#xA0;=&#xA0;document.<strong>createDocumentFragment()</strong>;<p>[\"blue\",&#xA0;\"green\",&#xA0;\"red\",&#xA0;\"blue\",&#xA0;\"pink\"].forEach(function(e)&#xA0;{<br>&#xA0; &#xA0;&#xA0;var&#xA0;li&#xA0;=&#xA0;document.createElement(\"li\");<br>&#xA0; &#xA0;&#xA0;li.textContent&#xA0;=&#xA0;e;<br>&#xA0; &#xA0;&#xA0;docFrag.appendChild(li);<br>});</p><p>console.log(docFrag.textContent); <em>//logs bluegreenredbluepink</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<p>Using a <em>documentFragment</em> to create node structures in memory is extrememly efficent when it comes time to inject the <em>documentFragment</em> into live node structures.</p>\n<p>You might wonder what is the advantage to using a <em>documentFragment</em> over simply creating (via <em>createElement()</em>) a <em>&lt;div&gt;</em> in memory and working within this <em>&lt;div&gt;</em> to create a DOM structure. The follow are the differences.</p>\n<ul>\n\t<li>A document fragment may contain any kind of node (except <em>&lt;body</em>&gt; or <em>&lt;html&gt;</em>) where as an element may not</li>\n\t<li>The document fragment itself, is not added to the DOM when you append a fragment. The contents of the node are. As opposed to appending an element node in which the element itself is part of the appending.</li>\n\t<li>When a document fragment is appended to the DOM it transfers from the document fragment to the place its appended. Its no longer in memory in the place you created it. This is not true for element nodes that are temperately used to contained nodes briefly and then are moved to the live DOM.</li>\n</ul>\n\n<h2>8.3 Adding a <em>DocumentFragment</em> to the live DOM</h2>\n<p>By passing the <em>appendChild()</em> and <em>insertBefore()</em> node methods a <em>documentFragment</em> argument the child nodes of the <em>documentFragment</em> are transported as children nodes to the DOM node the methods are called on. Below we create a <em>documentfragment</em>, add some <em>&lt;li&gt;</em>'s to it, then append these new element nodes to the live DOM tree using <em>appendChild()</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;&lt;/ul&gt;\n\n&lt;script&gt;\n\nvar ulElm = document.queryselector('ul');<br>var&#xA0;docFrag&#xA0;=&#xA0;document.createDocumentFragment();<p>[\"blue\",&#xA0;\"green\",&#xA0;\"red\",&#xA0;\"blue\",&#xA0;\"pink\"].forEach(function(e)&#xA0;{<br>&#xA0; &#xA0;&#xA0;var&#xA0;li&#xA0;=&#xA0;document.createElement(\"li\");<br>&#xA0; &#xA0;&#xA0;li.textContent&#xA0;=&#xA0;e;<br>&#xA0; &#xA0;&#xA0;docFrag.appendChild(li);<br>});<br>\nulElm.<strong>appendChild(docFrag)</strong>;\n\n<em>//logs &lt;ul&gt;&lt;li&gt;blue&lt;/li&gt;&lt;li&gt;green&lt;/li&gt;&lt;li&gt;red&lt;/li&gt;&lt;li&gt;blue&lt;/li&gt;&lt;li&gt;pink&lt;/li&gt;&lt;/ul&gt;</em><br>console.log(document.body.innerHTML);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Document fragments passed as arguments to inserting node methods will insert the entire child node structure ignoring the documentFragment node itself. </p>\n</div>\n\n<h2>8.4 Using <em>innerHTML</em> on a <em>documentFragment</em></h2>\n<p>Creating a DOM structure in memory using node methods can be verbose and laboring. One way around this would be to created a <em>documentFragment</em>, append a <em>&lt;div&gt;</em> to this fragment because <em>innerHTML</em> does not work on document fragments, and then use the <em>innerHTML</em> property to update the fragment with a string of HTML. By doing this a DOM structure is crafted from the HTML string. In the code below I construct a DOM structure that I can then treat as a tree of nodes and not just a JavaScript string.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//create a &lt;div&gt; and document fragment</em>\nvar divElm = document.createElement('div');<br>var&#xA0;docFrag&#xA0;=&#xA0;document.createDocumentFragment();<br>\n<em>//append div to document fragment</em><br>docFrag.appendChild(divElm);\n\n<em>//create a DOM structure from a string</em>\ndocFrag.querySelector('div').<strong>innerHTML</strong> = '&lt;ul&gt;&lt;li&gt;foo&lt;/li&gt;&lt;li&gt;bar&lt;/li&gt;&lt;/ul&gt;';<br>\n<em>//the string becomes a DOM structure I can call methods on like querySelectorAll()</em>\n<em>//Just don't forget the DOM structure is wrapped in a &lt;div&gt;</em>\nconsole.log(docFrag.querySelectorAll('li').length); <em>//logs 2</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>When it comes time to append a DOM structure created using a <em>documentFragment</em> and <em>&lt;div&gt;</em> you'll want to append the structure skipping the injection of the <em>&lt;div&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//create a &lt;div&gt; and document fragment</em>\nvar divElm = document.createElement('div');<br>var&#xA0;docFrag&#xA0;=&#xA0;document.createDocumentFragment();<br>\n<em>//append div to document fragment</em><br>docFrag.appendChild(divElm);\n\n<em>//create a DOM structure from a string</em>\ndocFrag.querySelector('div').innerHTML = '&lt;ul&gt;&lt;li&gt;foo&lt;/li&gt;&lt;li&gt;bar&lt;/li&gt;&lt;/ul&gt;';<br>\n<em>//append, starting with the first child node contained inside of the &lt;div&gt;</em>\ndocument.querySelector('div').appendChild(<strong>docFrag.querySelector('div').firstChild</strong>);\n\n<em>//logs &lt;ul&gt;&lt;li&gt;foo&lt;/li&gt;&lt;li&gt;bar&lt;/li&gt;&lt;/ul&gt;</em>\nconsole.log(document.querySelector('div').innerHTML);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>In addtion to <em>DocumentFragment</em> we also have <em><a href=\"http://html5.org/specs/dom-parsing.html#domparser\">DOMParser</a></em> to look forward too. <em>DOMParser</em>&#xA0;can parse HTML stored in a string into a DOM&#xA0;<a href=\"https://developer.mozilla.org/en/DOM/document\" title=\"document\">Document</a>. It's only supported in Opera &amp; Firefox as of today, but a <a href=\"https://gist.github.com/1129031\">polyfill</a> is avaliable. Of course, if you need a stand alone HTML to DOM script try <a href=\"https://github.com/component/domify\">domify</a>.</p>\n</div>\n\n<h2>8.5 Leaving a fragments containing nodes in memory by cloning</h2>\n<p>When appending a <em>documentFragment</em> the nodes contained in the Fragment are moved from the Fragment to the structure you are appending too. To leave the contents of a fragment in memory, so the nodes remain after appending, simply clone using <em>cloneNode()</em> the <em>documentFragment</em> when appending. In the code below instead of tranporting the <em>&lt;li&gt;</em>'s from the document fragment I clone the <br>\n<em>&lt;li&gt;</em>'s, which keeps the <em>&lt;li&gt;</em>'s being clonded in memory inside of the <em>documentFragment</em> node.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;ul&gt;&lt;/ul&gt;\n\n&lt;script&gt;\n<em>\n//create ul element and document fragment</em>\nvar ulElm = document.querySelector('ul');<br>var&#xA0;docFrag&#xA0;=&#xA0;document.createDocumentFragment();<br>\n<em>//append li's to document fragment</em><br>[\"blue\",&#xA0;\"green\",&#xA0;\"red\",&#xA0;\"blue\",&#xA0;\"pink\"].forEach(function(e)&#xA0;{<br>&#xA0; &#xA0;&#xA0;var&#xA0;li&#xA0;=&#xA0;document.createElement(\"li\");<br>&#xA0; &#xA0;&#xA0;li.textContent&#xA0;=&#xA0;e;<br>&#xA0; &#xA0;&#xA0;docFrag.appendChild(li);<br>});<br>\n<em>//append cloned document fragment to ul in live DOM</em>\nulElm.appendChild(docFrag<strong>.cloneNode(true)</strong>);\n\n<em>//logs &lt;li&gt;blue&lt;/li&gt;&lt;li&gt;green&lt;/li&gt;&lt;li&gt;red&lt;/li&gt;&lt;li&gt;blue&lt;/li&gt;&lt;li&gt;pink&lt;/li&gt;</em><br>console.log(document.querySelector('ul').innerHTML);\n\n<em>//logs <span>[</span><a title=\"/li\">li</a><span>,</span><a title=\"/li[2]\">li</a><span>,</span><a title=\"/li[3]\">li</a><span>,</span><a title=\"/li[4]\">li</a><span>,</span><a title=\"/li[5]\">li</a><span>]</span></em> \nconsole.log(<strong>docFrag.childNodes</strong>);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n</div>\n\n\n\n\n<div id=\"chapter9\" class=\"chapter\">\n\n\n <h2>Chapter 9 - CSS Style Sheets &amp; CSS rules</h2>\n <h2>9.1 CSS Style sheet overview</h2>\n <p>A style sheet is added to an HTML document by either using the <em>HTMLLinkElement</em> node (i.e. <em>&lt;link href=\"stylesheet.css\" rel=\"stylesheet\" type=\"text/css\"&gt;</em>) to include an external style sheet or the <em>HTMLStyleElement</em> node (i.e. <em>&lt;style&gt;&lt;/style&gt;</em>) to define a style sheet inline. In the HTML document below both of these <em>Element</em> node's are in the DOM and I verify which constructor, constructs these nodes.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;link id=\"linkElement\" href=\"http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{background-color:#fff;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//logs function HTMLLinkElement() { [native code] }</em>\nconsole.log(<strong>document.querySelector('#linkElement').constructor</strong>);\n\n<em>//logs function HTMLStyleElement() { [native code] }</em>\nconsole.log(<strong>document.querySelector('#styleElement').constructor</strong>);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Once a style sheet is added to an HTML document its represented by the <em>CSSStylesheet</em> object. Each CSS rule (e.g. <em>body{background-color:red;}</em>) inside of a style sheet is represent by a <em>CSSStyleRule</em> object. In the code below I verify which constructor constructed the style sheet and each CSS rule (selector &amp; its css properties and values) in the style sheet.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{background-color:#fff;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//logs function CSSStyleSheet() { [native code] } because this object is the stylesheet itself</em>\nconsole.log(<strong>document.querySelector('#styleElement').sheet.constructor</strong>);\n\n<em>//logs function CSSStyleRule() { [native code] } because this object is the rule inside of the style sheet</em>\nconsole.log(<strong>document.querySelector('#styleElement').sheet.cssRules[0].constructor</strong>);<em></em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Keep in mind that selecting the element that includes the style sheet (i.e. <em>&lt;link&gt;</em> or <em>&lt;style</em>&gt;) is not the same as accessing the actual object (<em>CSSStyleSheet</em>) that represents the style sheet itself.</p>\n <h2>9.2 Accessing all style sheets (i.e. <em>CSSStylesheet</em> objects) in the DOM</h2>\n\t<p><em>document.styleSheets</em> gives access to a list of all style sheet objects (aka <em>CSSStylesheet</em>) explicitly linked (i.e. <em>&lt;link&gt;</em>) or embedded (i.e. <em>&lt;style&gt;</em>) in an HTML document. In the code below <em>styleSheets</em> is leverage to gain access to all of the style sheets contained in the document.</p>\n <p class=\"codeLink\">live code: N/A</p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;link href=\"http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n\n&lt;style&gt;\nbody{background-color:red;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nconsole.log(<strong>document.styleSheets</strong>.length); <em>//logs 2</em>\nconsole.log(<strong>document.styleSheets[0]</strong>); <em>// the &lt;link&gt;</em>\nconsole.log(<strong>document.styleSheets[1]</strong>); <em>// the &lt;style&gt;</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p><em>styleSheet</em> is live just like other node lists</p>\n <p>The <em>length</em> property returns the number of stylesheets contained in the list starting at 0 index (i.e.<em> document.styleSheets.length</em>)</p>\n <p>The style sheets included in a <em>styleSheets</em> list typically includes any style sheets created using the <em>&lt;style&gt;</em> element or using a <em>&lt;link&gt;</em> element where <em>rel</em> is set to <em>\"stylesheet\"</em></p>\n</div>\n<p> In addtion to using <em>styleSheets</em> to access a documents styles sheets its also possible to access a style sheet in an HTML document by first selecting the element in the DOM (<em>&lt;style&gt;</em> or <em>&lt;link&gt;</em>) and using the <em>.sheet</em> property to gain access to the <em>CSSStyleSheet</em> object. In the code below I access the style sheets in the HTML docment by first selecting the element used to include the style sheet and then leveraging the <em>sheet</em> property.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;link id=\"linkElement\" href=\"http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{background-color:#fff;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//get CSSStylesheeet object for &lt;link&gt;</em>\nconsole.log(document.querySelector('#linkElement').<strong>sheet</strong>); <strong><em>//same as document.styleSheets[0]</em></strong><em><strong></strong></em> <em></em>\n\n<em>//get CSSSstylesheet object for &lt;style&gt;</em>\nconsole.log(document.querySelector('#styleElement').<strong>sheet</strong>);<em> //same as document.styleSheets[1]</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<h2>9.3<em> CSSStyleSheet</em> properties and methods</h2>\n<p>To get accurate information pertaining to the available properties and\n\tmethods on an <em>CSSStyleSheet</em> node its best to ignore the\n\tspecification and to ask the browser what is available. Examine the arrays\n\tcreated in the code below detailing the properties and methods available\n\tfrom a <em>CSSStyleSheet</em> node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<p>&lt;style&#xA0;id=\"styleElement\"&gt;<br>body{background-color:#fff;}<br>&lt;/style&gt;</p><p>&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar styleSheet = document.querySelector('#styleElement').sheet;\n\n<em>//text own properties</em>\nconsole.log(Object.keys(styleSheet).sort());\n\n<em>//text own properties &amp; inherited properties</em>\nvar styleSheetPropertiesIncludeInherited = [];\nfor(var p in styleSheet){\n\tstyleSheetPropertiesIncludeInherited.push(p);\n}\nconsole.log(styleSheetPropertiesIncludeInherited.sort());\n\n<em>//text inherited properties only</em>\nvar styleSheetPropertiesOnlyInherited = [];\nfor(var p in styleSheet){\n\tif(!styleSheet.hasOwnProperty(p)){\n\t\tstyleSheetPropertiesOnlyInherited.push(p);\n\t}\n}\nconsole.log(styleSheetPropertiesOnlyInherited.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<p>A <em>CSSStyleSheet</em> object accessed from a <em>styleSheets</em> list or via the <em>.sheet</em> property has the following properties and methods:</p>\n<ul>\n\t<li><em> disabled</em></li>\n\t\t<li><em>href</em></li>\n\t\t<li><em>media</em></li>\n\t\t<li><em>ownerNode</em></li>\n\t\t<li><em>parentStylesheet</em></li>\n\t\t<li><em>title</em></li>\n\t\t<li><em>type</em></li>\n\t\t<li><em>cssRules</em></li>\n\t\t<li><em>ownerRule</em></li>\n\t\t<li><em>deleteRule</em></li>\n\t\t<li><em>inserRule</em> </li>\n\t</ul>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>href</em>, <em>media</em>, <em>ownerNode</em>, <em>parentStylesheet</em>, <em>title</em>, and <em>type</em> are read only properties, you can't set its value using these properteis</p>\n </div>\n <h2>9.4<em> CSSStyleRule </em>overview</h2>\n\t<p>A <em>CSSStyleRule</em> object represents each CSS rule contained in a style sheet. Basicly a <em>CSSStyleRule</em> is the interface to the CSS properties and values attached to a selector. In the code below we programaticlly access the details of each rule contained in the inline style sheet by accessing the <em>CSSStyleRule</em> object that represents the CSS rule in the style sheet.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{background-color:#fff;margin:20px;} <em>/*this is a css rule*/</em>\np{line-height:1.4em; color:blue;} <em>/*this is a css rule*/</em>\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar sSheet = document.querySelector('#styleElement');\n\nconsole.log(sSheet.cssRules[0].cssText); <em>//logs \"body { background-color: red; margin: 20px; }\"</em>\nconsole.log(sSheet.cssRules[1].cssText); <em>//logs \"p { line-height: 1.4em; color: blue; }\"</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\t<h2>9.5 <em>CSSStyleRule</em> properties and methods</h2>\n\t<p>To get accurate information pertaining to the available properties and\n\tmethods on an <em>CSSStyleRule</em> node its best to ignore the\n\tspecification and to ask the browser what is available. Examine the arrays\n\tcreated in the code below detailing the properties and methods available\n\tfrom a <em>CSSStyleRule</em>node.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;<p>&lt;style&#xA0;id=\"styleElement\"&gt;<br>body{background-color:#fff;}<br>&lt;/style&gt;</p><p>&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar styleSheetRule = document.querySelector('#styleElement').sheet.cssRule;\n\n<em>//text own properties</em>\nconsole.log(Object.keys(styleSheetRule).sort());\n\n<em>//text own properties &amp; inherited properties</em>\nvar styleSheetPropertiesIncludeInherited = [];\nfor(var p in styleSheetRule){\n\tstyleSheetRulePropertiesIncludeInherited.push(p);\n}\nconsole.log(styleSheetRulePropertiesIncludeInherited.sort());\n\n<em>//text inherited properties only</em>\nvar styleSheetRulePropertiesOnlyInherited = [];\nfor(var p in styleSheetRule){\n\tif(!styleSheetRule.hasOwnProperty(p)){\n\t\tstyleSheetRulePropertiesOnlyInherited.push(p);\n\t}\n}\nconsole.log(styleSheetRulePropertiesOnlyInherited.sort());\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<p>Scripting the rules (e.g. <em>body{background-color:red;}</em>) contained inside of a style sheet is made possible by the <em>CSSrule</em> object. This object provides the following properties:</p>\n\t<ul>\n\t\t<li><em>cssText</em></li>\n\t\t<li><em>parentRule</em></li>\n\t\t<li><em>parentStylesSheet</em></li>\n\t\t<li><em>selectorText</em></li>\n\t\t<li><em>style</em></li>\n\t\t<li><em>type</em>\t</li>\n\t</ul>\n\t<h2>9.6 Getting a list of CSS Rules in a style sheet using <em>CSSRules</em></h2>\n\t<p>As previously discussed the <em>styleSheets</em> list provides a list of style sheets contained in a document. The <em>CSSRules</em> list provides a list (aka <em>CSSRulesList</em>) of all the CSS rules (i.e. <em>CSSStyleRule</em> objects) in a specific style sheet. The code below logs a <em>CSSRules</em> list to the console.</p>\n\t \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{background-color:#fff;margin:20px;}\np{line-height:1.4em; color:blue;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\nvar sSheet = document.querySelector('#styleElement').sheet;\n\n<em>//array like list containing all of the CSSrule objects repreesenting each CSS rule in the style sheet</em>\nconsole.log(sSheet.<strong>cssRules</strong>);\n\nconsole.log(sSheet.cssRules.length); <em>//logs 2</em>\n\n<em>//rules are index in a CSSRules list starting at a 0 index</em>\nconsole.log(sSheet.cssRules[0]); <em>//logs first rule</em>\nconsole.log(sSheet.cssRules[1]); <em>//logs second rule</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>9.7 Inserting &amp; deleting CSS rules in a style sheet using <em>.insertRule()</em> and <em>.deleteRule()</em></h2>\n <p>The <em>insertRule()</em> and <em>deleteRule()</em> methods provided the ability to programatically manipulate the CSS rules in a style sheet. In the code below I use <em>insertRule()</em> to add the css rule <em>p{color:red}</em> to the inline style sheet at index 1. Remeber the css rules in a style sheet are numerical index starting at 0. So by inserting a new rule at index 1 the current rule at index 1 (i.e. <em>p{font-size:50px;}</em>) is push to index 2. </p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;style id=\"styleElement\"&gt;\np{line-height:1.4em; color:blue;} <em>/*index 0*/</em>\np{font-size:50px;} <em>/*index 1*/</em>\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hi&lt;/p&gt;\n\n&lt;script&gt;\n\n<em>//add a new CSS rule at index 1 in the inline style sheet</em>\ndocument.querySelector('#styleElement').sheet.<strong>insertRule('p{color:red}',1)</strong>;\n\n<em>//verify it was added</em><br>console.log(document.querySelector('#styleElement').sheet.cssRules[1].cssText);\n\n<em>//Delete what we just added\n</em>document.querySelector('#styleElement').sheet.deleteRule(1);\n\n<em>//verify it was removed</em><br>console.log(document.querySelector('#styleElement').sheet.cssRules[1].cssText);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Deleting or removing a rule is as simple as calling <em>deleteRule()</em> method on a style sheet and passing it the index of the rule in the style sheet to be deleted.</p>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Inserting and deleting rules is not a common practice given the difficulty around managing the cascaade and using a numeric indexing system to update a style sheet (i.e. determining at what index a style is located without previewing the contents of the style sheet itself.). Its much simpler working with CSS rules in CSS and HTML files before they are served to a client than programaticlly altering them in the client after the fact.</p>\n</div>\n<h2>9.8 Editing the value of a <em>CSSStyleRule</em> using the <em>.style</em> property</h2>\n\t<p>Just like the <em>.style</em> property that facilitates the manipulation of inline styles on element nodes there is a also <em>.style</em> property for <em>CSSStyleRule</em> objects that orchestrates the same manipulation of styles in style sheets. In the code below I levereage the <em>.style</em> property to set and get the value of css rules contained in the inline style sheet.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;style id=\"styleElement\"&gt;\np{color:blue;}\nstrong{color:green;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hey &lt;strong&gt;Dude!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;script&gt;\n\nvar styleSheet = document.querySelector('#styleElement').sheet;\n\n<em>//Set css rules in stylesheet</em>\nstyleSheet.cssRules[0]<strong>.style.color = 'red';</strong>\nstyleSheet.cssRules[1]<strong>.style.color = 'purple'</strong>;\n\n<em>//Get css rules</em>\nconsole.log(styleSheet.cssRules[0]<strong>.style.color)</strong>; <em>//logs 'red'</em>\nconsole.log(styleSheet.cssRules[1]<strong>.style.color</strong>); <em>//logs 'purple'</em>\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\t<h2>9.9 Creating a new inline CSS style sheets</h2>\n\t<p>To craft a new style sheet on the fly after an html page is loaded one only has to create a new <em>&lt;style&gt;</em> node, add CSS rules using <em>innerHTML</em> to this node, then append the<em> &lt;style&gt;</em> node to the HTML document. In the code below I programatily craft a style sheet and add the <em>body{color:red}</em> CSS rule to the style sheet, then append the stylesheet to the DOM.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;Hey &lt;strong&gt;Dude!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;script&gt;\n\n<strong>var styleElm = document.createElement('style');\nstyleElm.innerHTML = 'body{color:red}';</strong>\n\n<em>//notice markup in the document changed to red from our new inline stylesheet</em>\ndocument.querySelector('head').appendChild(styleElm);\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\t<h2>9.10 Programatically adding external style sheets to an HTML document</h2>\n\t<p>To add a CSS file to an HTML document programatically a <em>&lt;link&gt;</em> element node is created with the appropriate attributes and then the <em>&lt;link&gt;</em> element node is appended to the DOM. In the code below I programatically include an external style sheet by crafting a new <em>&lt;link&gt;</em> element and appending it to the DOM.</p>\n\t\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//create &amp; add attributes to &lt;link&gt;</em>\n<strong>var linkElm = document.createElement('link');<br>linkElm.setAttribute('rel', 'stylesheet');<br>linkElm.setAttribute('type', 'text/css');\nlinkElm.setAttribute('id', 'linkElement');<br>linkElm.setAttribute('href', 'http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css');</strong>\n\n<em>//Append to the DOM</em>\ndocument.head.appendChild(linkElm);\n\n<em>//confrim its addition to the DOM</em>\nconsole.log(document.querySelector('#linkElement'));\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n\t<h2>9.11 Disabling/Enabling style sheets using <em>disabled</em> property</h2>\n\t<p>Using the <em>.disabled</em> property of a <em>CSSStyleSheet</em> object its possible to enable or disabled a style sheet. In the code below we access the current disabled value of each style sheet in the document then proceed to disabled each style sheet leveraging the <em>.disabled</em> property.</p>\n\t\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;link id=\"linkElement\" href=\"http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n\n&lt;style id=\"styleElement\"&gt;\nbody{color:red;}\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script&gt;\n\n<em>//Get current boolean disabled value</em>\nconsole.log(document.querySelector('#linkElement').<strong>disabled</strong>); <em>//log 'false'</em>\nconsole.log(document.querySelector('#styleElement').<strong>disabled</strong>); <em>//log 'false'</em>\n\n<em>//Set disabled value, which of courese disabled all styles for this document</em>\ndocument.document.querySelector('#linkElement').<strong>disabled</strong> = true;\ndocument.document.querySelector('#styleElement').<strong>disabled</strong> = true;\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Disabled is not an avaliable attributre of a &lt;link&gt; or &lt;style&gt; element according to the specification. Trying to add this as an attribute in the HTML document itself will fail (and likley cause parsing errors where styles are ignored) in the majority of modern browsers in use today.</p>\n</div>\n\n</div>\n\n\n\n\n<div id=\"chapter10\" class=\"chapter\">\n\n\n <h2>Chapter 10 - JavaScript in the DOM</h2>\n\t\n\t<h2>10.1 Inserting &amp; executing JavaScript overview</h2>\n\t<p>JavaScript can be inserted in to an HTML document in a modern way by including external JavaScript files or writing page level inline JavaScript, which is basically the contents of an external JavaScript file literally embed in the HTML page as a text node. Don't confuse element inline JavaScript contained in attribute event handlers (i.e. <em>&lt;div onclick=\"alert('yo')\"&gt;&lt;/div&gt;</em>) with page inline JavaScript (i.e. <em>&lt;script&gt;alert('hi')&lt;/script&gt;</em>).</p>\n\t<p>Both methods of inserting JavaScript into an HTML document require the use of a <em><a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element\">&lt;script&gt;</a></em><a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#the-script-element\"> element node</a>. The <em>&lt;script&gt;</em> element can contain JavaScript code or can be used to link to external JavaScript files using the <em>src</em> attribute. Both methods are explored in the code example below.</p>\n\t\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em>&lt;!-- external, cross domain JavaScript include</em><em> --&gt;</em>\n<strong>&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"&gt;&lt;/script&gt;</strong>\n\n<em>&lt;!-- page inline JavaScript</em><em> --&gt;</em>\n<strong>&lt;script&gt;\nconsole.log('hi');\n&lt;/script&gt;</strong>\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Its possible to insert and execute JavaScript in the DOM by placing JavaScript in an element attribute event handler (i.e. <em>&lt;div onclick=\"alert('yo')\"&gt;&lt;/div&gt;</em>) and using the <em>javascript:</em> protocal (e.g. <em>&lt;a href=\"javascript:alert('yo')\"&gt;&lt;/a&gt;</em>) but this is no longer considered a modern practice.</p>\n <p>Trying to include an external JavaScript file and writing page inline JavaScript using the same <em>&lt;script&gt;</em> element will result in the page inline JavaScript being ignored and the exterenal JavaScript file being downloaded and exectued </p>\n <p>Self-closing scripts tags (i.e. <em>&lt;script src=\"\" /&gt;</em> ) should be avoid unless you are rocking some old school XHTML</p>\n <p>The <em>&lt;script&gt;</em> element does not have any required attributes but offers the follow optional attribures: <em>async</em>, <em>charset</em>, <em>defer</em>, <em>src</em>, and <em>type</em></p>\n <p>Page inline JavaScript produces a text node. Which permits the usage of <em>innerHTML</em> and <em>textContent</em> to retrieve the contents of a line <em>&lt;script&gt;</em>. However, appending a new text node made up of JavaScript code to the DOM after the browser has already parsed the DOM will not execute the new JavaScript code. It simply replaces the text.</p>\n <p>If JavaScript code contains the string <em>'&lt;/script&gt;'</em> you will have to escape the closing <em>'/'</em> with <em>'&lt;\\/script&gt;'</em> so that the parser does not think this is the real closing <em>&lt;/script&gt;</em> element</p>\n</div>\n\t<h2>10.2 JavaScript is parsed synchronously by default</h2>\n\t<p>By default when the DOM is being parsed and it encounters a <em>&lt;script&gt;</em> element it will stop parsing the document, block any further rendering &amp; downloading, and exectue the JavaScript. Because this behavior is blocking and does not permit parallel parsing of the DOM or exection of JavaScriopt its consider to be synchronous. If the JavaScript is external to the html document the blocking is exacerbated because the JavaScript must first be downloaed before it can be parsed. In the code example below I comment what is occuring during browser rendering when the browser encoutners several <em>&lt;script&gt;</em> elements in the DOM.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em></em><em>&lt;!-- stop document parsing, block document parsing, load js, exectue js, then resume document parsing...</em><em> --&gt;</em><em></em>\n<strong>&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"&gt;&lt;/script&gt;</strong><em>\n</em><em>\n</em><em>&lt;!-- stop document parsing, block document parsing, exectue js, then resume document parsing...</em><em> --&gt;</em><em>\n</em><strong>&lt;script&gt;console.log('hi');&lt;/script&gt;</strong><em></em><strong></strong>\n<em></em>\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>You should make note of the differences between an inline script's and external scripts as it pertains to the loading phase.</p>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>The default blocking nature of a <em>&lt;script&gt;</em> element can have a significant effect on the perfomrance &amp; percived performance of the visual rendering of a HTML web page. If you have a couple of script elements at the start of an html page nothing else is happening (e.g. DOM parsing &amp; resource loading) until each one is downloaed and executed sequentially. </p>\n</div>\n\t<h2>10.3 Defering the downloading &amp; exectuion of external JavaScript using <em>defer</em></h2>\n\t<p>The <em>&lt;script&gt;</em> element has an attribute called <em>defer</em> that will defer the blocking, downloading, and executing of an external JavaScript file until the browser has parsed the closing <em>&lt;html&gt;</em> node. Using this attribute simply defers what normally occurs when a web browser encoutners a <em>&lt;script&gt;</em> node. In the code below I defer each external JavaScript file until the final <em>&lt;html&gt;</em> is encountered.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em>&lt;!-- defer, don't block just ignore this until the &lt;html&gt; element node is parsed --&gt;</em>\n&lt;script <strong>defer</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"&gt;&lt;/script&gt;<strong>\n\n</strong><em>&lt;!-- defer, don't block just ignore this until the &lt;html&gt; element node is parsed</em><em> --&gt;</em>\n&lt;script <strong>defer</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n\n<em>&lt;!-- defer, don't block just ignore this until the &lt;html&gt; element node is parsed</em><em> --&gt;</em>\n&lt;script <strong>defer</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n<em>//We know that jQuery is not avaliable because this occurs before the closing &lt;html&gt; element</em>\nconsole.log(window['jQuery'] === undefined); <em>//logs true</em>\n\n<em>//Only after everything is loaded can we safley conclude that jQuery was loaded and parsed</em>\ndocument.body.onload = function(){console.log(jQuery().jquery)}; <em>//logs function</em>\n&lt;/script&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>According to the specification defered scripts are suppose to be exectued in document order and before the <em>DOMContentLoaded</em> event. However, adherence to this specification among modern browsers is inconsistent.</p>\n <p><em>defer</em> is a boolan attribute it does not have a value</p>\n <p>Some browers support defered inline scripts but this is not common among modern browsers</p>\n <p>By using <em>defer</em> the assummption is that <em>document.write()</em> is not being used in the JavaScript that will be defered</p>\n</div>\n\t<h2>10.4 Asynchronously downloading &amp; executing external JavaScript files using <em>async</em></h2>\n\t<p>The <em>&lt;script&gt;</em> element has an attribute called <em>async</em> that will override the sequential blocking nature of <em>&lt;script&gt;</em> elements when the DOM is being constructed by a web browser. By using this attribute, we are telling the browser not to block the construction (i.e. DOM parsing, including downloading other assets e.g. images, style sheets, etc...) of the html page and forgo the the sequential loading as well. </p>\n\t<p>What happens by using the <em>async</em> attribute is the files are loaded in parallel and parsed in order of download once they are fully downloaded. In the code below I comment what is happening when the HTML document is being parsed and render by the web browser.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em></em><strong><em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em></strong>\n&lt;script <strong>async</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"&gt;&lt;/script&gt;<strong>\n<em></em>\n</strong><em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;\n</em>&lt;script <strong>async</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;<em>\n\n&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;\n</em>&lt;script <strong>async</strong> src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js\"&gt;&lt;/script&gt;\n<em></em>\n\n&lt;script&gt;\n<em>// we have no idea if jQuery has been loaded yet likley not yet...</em>\nconsole.log(window['jQuery'] === undefined);<em>//logs true</em>\n\n<em>//Only after everything is loaded can we safley conclude that jQuery was loaded and parsed</em>\ndocument.body.onload = function(){console.log(jQuery().jquery)}<em></em>;\n&lt;/script&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>IE 10 has support for <em>async</em>, but IE 9 does not</p>\n <p>A major drawback to using the <em>async</em> attribute is JavaScript files potentially get parsed out of the order they are included in the DOM. This raises a dependency management issue.</p>\n <p><em>async</em> is a boolan attribute it does not have a value</p>\n <p>By using <em>async</em> the assummption is that <em>document.write()</em> is not being used in the JavaScript that will be defered</p>\n <p>The <em>async</em> attribute will trump the <em>defer</em> if both are used on a <em>&lt;script&gt;</em> element</p>\n</div>\n\n\t<h2>10.5 Forcing asynchronous downloading &amp; parsing of external JavaScript using dynamic <em>&lt;script&gt;</em></h2>\n <p>A known hack for forcing a web browser into asynchronous JavaScript downloading and parsing without using the <em>async</em> attribure is to programatically create <em>&lt;script&gt;</em> elements that include external JavaScript files and insert them in the DOM. In the code below I programatically create the <em>&lt;script&gt;</em> element node and then append it to the <em>&lt;body&gt;</em> element which forces the browser to treat the <em>&lt;script&gt;</em> element asynchronously.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em>\n&lt;script&gt;\n<strong>var underscoreScript = document.createElement(\"script\"); \nunderscoreScript.src = \"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"; \ndocument.body.appendChild(underscoreScript);</strong>\n&lt;/script&gt;\n\n<em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em>\n&lt;script&gt;\n<strong>var jqueryScript = document.createElement(\"script\");\njqueryScript.src = \"http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\"; \ndocument.body.appendChild(jqueryScript);</strong>\n&lt;/script&gt;\n\n<em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em>\n&lt;script&gt;\n<strong>var mouseWheelScript = document.createElement(\"script\");\nmouseWheelScript.src = \"http://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js\"; \ndocument.body.appendChild(mouseWheelScript);</strong>\n&lt;/script&gt;\n\n&lt;script&gt;\n<em>//Only after everything is loaded can we safley conclude that jQuery was loaded and parsed</em>\ndocument.body.onload = function(){console.log(jQuery().jquery)}<em></em>;\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>A major drawback to using dynamic <em>&lt;script&gt;</em> elements is JavaScript files potentially get parsed out of the order they are included in the DOM. This raises a dependency management issue.</p>\n </div>\n\t<h2>10.6 Using the <em>onload</em> call back for asynchronous <em>&lt;script&gt;</em>'s so we know when its loaded</h2>\n\t<p>The <em>&lt;script&gt;</em> element <a href=\"http://pieisgood.org/test/script-link-events/\">supports a load event</a> handler (ie. <em>onload</em>) that will execute once an external JavaScript file has been loaded and executed. In the code below I leverage the <em>onload</em> event to create a callback programatically notifying us when the JavaScript file has been downloaded and exectued.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n<em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em>\n&lt;script&gt;\nvar underscoreScript = document.createElement(\"script\"); \nunderscoreScript.src = \"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\";\nunderscoreScript.<strong>onload = function(){console.log('underscsore is loaded and exectuted');};</strong>\ndocument.body.appendChild(underscoreScript);\n&lt;/script&gt;\n\n<em>&lt;!-- Don't block, just start downloading and then parse the file when it's done downloading --&gt;</em>\n&lt;script async src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\" <strong>onload=\"console.log('jQuery is loaded and exectuted');\"</strong>&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n\t<h2>10.7 Be mindful of <em>&lt;script&gt;</em> 's placement in HTML for DOM manipulation</h2>\n\t<p>Given a <em>&lt;script&gt;</em> elements synchronous nature, placing one in the <em>&lt;head&gt;</em> element of an HTML document presents a timing problem if the JavaScript execution is dependant upon any of the DOM that proceeds the <em>&lt;script&gt;</em>. In a nut shell, if JavaScript is executed at the begining of a document that manipulates the DOM, that proceeds it, you are going to get a JavaScript error. Proven by the following code example:</p>\n\t<p class=\"codeLink\">live code: N/A</p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n<em>&lt;!-- stop parsing, block parsing, exectue js then resume... --&gt;</em>\n&lt;script&gt;\n<em>//we can't script the body element yet, its null, not even been parsed by the browser, its not in the DOM yet </em>\n<strong>console.log(document.body.innerHTML);</strong> <em>//logs Uncaught TypeError: Cannot read property 'innerHTML' of null</em> \n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;strong&gt;Hi&lt;/strong&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\t<p>Many developers, myself being one of them, for this reason will attempt to place all <em>&lt;script&gt;</em> elements before the closing <em>&lt;/body&gt;</em> element. By doing this you can rest assured the DOM in front of the <em>&lt;script&gt;</em>'s has been parsed and is ready for scripting. As well, this strategy will remove a dependancy on DOM ready events that can liter a code base.\t</p>\n\t<h2>10.8 Getting a list of <em>&lt;script&gt;</em>'s in the DOM</h2>\n\t<p>The <em>document.scripts</em> property avaliable from the document object provides a list (i.e. an <em>HTMLCollection</em>) of all of the scripts currently in the DOM. In the code below I leverage this property to gain access to each of the <em>&lt;script&gt;</em> elements <em>src</em> attributes.</p>\n\t<p class=\"codeLink\">live code: N/A</p>\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;&#x200B;\nArray.prototype.slice.call(document.<strong>scripts</strong>).forEach(function(elm){<br>\tconsole.log(elm); <br>});<em>//will log each script element in the document</em>\n&lt;/script&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n \n\n</div>\n\n\n\n\n<div id=\"chapter11\" class=\"chapter\">\n\n\n <h2>Chapter 11 - DOM Events</h2>\n <h2>11.1 DOM events overview</h2>\n <p>An event, in terms of the DOM, is either a pre-defined or custom moment in time that occurs in relationship with an element in the DOM, the <em>document</em> object, or the <em>window</em> object. These moments are typically predetermined and programaticlly accounted for by associating functionality (i.e. handlers/callbacks) to occur when these moments in time come to pass. These moments can be initiated by that state of the UI (e.g. input is focused or something has been dragged), the state of the enviroment that is running the JavaScript program (e.g. page is loaded or XHR request has finished), or the state of the program itself (e.g. start monitor users ui interaction for 30 seconds after the page has loaded).</p>\n <p>Setting up events can be accomplished using inline attribute event handlers, property event handlers, or the <em>addEventListener()</em> method. In the code below I'm demonstrating these three patterns for setting up an event. All three patterns add a <em>click</em> event that is invoked whenever the <em>&lt;div&gt;</em> in the html document is clicked by the mouse. </p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n<em>&lt;!-- inline attribure event handler pattern --&gt;</em>\n&lt;body <strong>onclick</strong>=\"console.log('fire/trigger attribure event handler')\"&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\nvar elementDiv = document.querySelector('div');\n\n<em>// property event handler pattern</em>\nelementDiv.<strong>onclick</strong> = function(){console.log('fire/trigger property event handler')};\n\n<em>//addEventListener method pattern</em>\nelementDiv.<strong>addEventListener</strong>('click',function(){console.log('fire/trigger addEventListener')}, false);\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Notice that one of the events is attached to the <em>&lt;body&gt;</em> element. If you find it odd that the attribute event handler on the <em>&lt;body&gt;</em> fires by clicking the <em>&lt;div&gt;</em> element consider that when the <em>&lt;div&gt;</em> is clicked, are you not also clicking on the <em>&lt;body&gt;</em> element. Click anywhere but on the <em>&lt;div&gt;</em> and you still see the attribute handler fire on the <em>&lt;body&gt;</em> element alone. </p>\n <p>While all three of these patterns for attaching an event to the DOM programatically schedule the event, only the <em>addEventListener()</em> provides a robust and organized solution. The inline attribute event handler mixes together JavaScript and HTML and best practices advise keeping these things seperate. </p>\n <p>The downside to using a property event handler is that only one value can be assigned to the event property at a time. Meaning, you can't add more than one propety event handler to a DOM node when assigning events as property values. The code below shows an example of this by assigning a value to the <em>onclick</em> property twice, the last value set is used when the event is invoked.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\nvar elementDiv = document.querySelector('div');\n\n<em>// property event handler </em>\nelementDiv.<strong>onclick = function(){console.log('I\\'m first, but I get overidden/replace')};\n</strong>\n<em>//overrides/replaces the prior value\n</em>elementDiv.<strong>onclick = function(){console.log('I win')};\n</strong>\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Additionaly, using event handlers inline or property event handlers can suffer from scoping nuances as one attempts to leverage the scope chain from the function that is invoked by the event. The <em>addEventListener()</em> smooths out all of these issues, and will be used throughout this chapter.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p><em>Element</em> nodes typically support inline event handlers (e.g. <em>&lt;div onclick=\"\"&gt;&lt;/div&gt;</em>), property event handlers (e.g. <em>document.querySelector('div').onclick = function(){}</em>), and the use of the <em>addEventListener()</em> method. </p>\n <p> The <em>Document</em> node supports property event handlers (e.g.<em> document.onclick = funciton()</em>) and the use of the <em>addEventListener()</em> method.</p>\n <p>The <em>window</em> object supports inline event handler's via the <em>&lt;body&gt;</em> or <em>&lt;frameset&gt;</em> element (e.g. <em>&lt;body onload=\"\"&gt;&lt;/body&gt;</em>), property event handlers (e.g. <em>window.load = function(){}</em>), and the use of the <em>addEventListener()</em> method.</p>\n <p>A property event handler historically has been refered to as a \"DOM level 0 event\". And the <em>addEventListener()</em> is often refered to as a \"DOM level 2 event\". Which is rather confusing considering there is no level 0 event or level 1 event. Addintioanlly, inline event handlers are known to be called, \"HTML event handlers\".</p>\n </div>\n <h2>11.2 DOM event types</h2>\n <p> In the tables below I detail the most common pre-defined events that can be attached to <em>Element</em> nodes, the <em>document</em> object, and the <em>window</em> object. Of course not all events are directly applicable to the node or object it can be attached too. That is, just because you can attach the event without error, and most likley invoke the event (i.e. bubbling events like <em>onchange</em> to <em>window</em>), does not mean that adding something like <em>window.onchange </em> is logical given that this event, by design was not meant for the <em>window</em> object.</p>\n \n <p><strong>User interface events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>load</em></td>\n\t\t\t<td><em>Event</em>,<em> UIEvent</em></td>\n\t\t\t<td>fires when an asset (HTML page, image, CSS, frameset, <em>&lt;object&gt;</em>, or JS file) is loaded.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em>, <em>XMLHttpRequest</em>, <em>XMLHttpRequestUpload</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>unload</em></td>\n\t\t\t<td><em> UIEvent</em></td>\n\t\t\t<td>fires when user agent removes the resource (document, element, defaultView) or any depending resources (images, CSS file, etc.)</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>abort</em></td>\n\t\t\t<td><em>Event</em>,<em> UIEvent</em></td>\n\t\t\t<td>Fires when an resource (object/image) is stopped from loading before completely loaded</td>\n\t\t\t<td><em>Element</em>,<em> XMLHttpRequest</em>, <em>XMLHttpRequestUpload</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>error</em></td>\n\t\t\t<td><em>Event</em>,<em> UIEvent</em></td>\n\t\t\t<td>Fires when a resource failed to load, or has been loaded but cannot be interpreted according to its semantics, such as an invalid image, a script execution error, or non-well-formed XML</td>\n\t\t\t<td><em>Element</em>,<em> XMLHttpRequest</em>, <em>XMLHttpRequestUpload</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>resize</em></td>\n\t\t\t<td><em>UIEvent</em></td>\n\t\t\t<td>Fires when a document view has been resized. This event type is dispatched after all effects for that occurrence of resizing of that particular&#xA0;event target&#xA0;have been executed by the&#xA0;user agent</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>scroll</em></td>\n\t\t\t<td><em>UIEvent</em></td>\n\t\t\t<td>Fires when a user scrolls a document or an element.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>contextmenu</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>fires by right clicking an element</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n<p><strong>Focus events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Events Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>blur</em></td>\n\t\t\t<td><em>FocusEvent</em></td>\n\t\t\t<td>Fires when an element loses focus either via the mouse or tabbing</td>\n\t\t\t<td><em>Element</em>&#xA0;(except <em>&lt;body&gt;</em>&#xA0;and <em>&lt;frameseet&gt;</em> ), <em>Document</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>focus</em></td>\n\t\t\t<td><em>FocusEvent</em></td>\n\t\t\t<td>Fires when an element receives focus</td>\n\t\t\t<td><em>Element</em>&#xA0;(except <em>&lt;body&gt;</em>&#xA0;and <em>&lt;frameseet&gt;</em> ), <em>Document</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>focusin</em></td>\n\t\t\t<td><em>FocusEvent</em></td>\n\t\t\t<td>Fires when an event target is about to receive focus but before the focus is shifted. This event occurs right before the focus event</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>focusout</em></td>\n\t\t\t<td><em>FocusEvent</em></td>\n\t\t\t<td>Fires when an event target is about to lose focus but before the focus is shifted. This event occurs right before the blur event</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n<p><strong>Form events </strong></p>\n<table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>change</em></td>\n\t\t\t<td>specific to HTML forms</td>\n\t\t\t<td>Fires when a control loses the input&#xA0;focus&#xA0;and its value has been modified since gaining focus</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>reset</em></td>\n\t\t\t<td>specific to HTML forms</td>\n\t\t\t<td>Fires when a form is reset</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>submit</em></td>\n\t\t\t<td>specific to HTML forms</td>\n\t\t\t<td>Fires when a form is submitted</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>select</em></td>\n\t\t\t<td>specific to HTML forms</td>\n\t\t\t<td>Fires when a user selects some text in a&#xA0;text field, including input and textarea</td>\n\t\t\t<td><em>Element</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<p><strong>Mouse events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>click</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is clicked (or user presses enter key) over an element. A click is defined as a mousedown and mouseup over the same screen location. The sequence of these events is <em>mousedown</em>&gt;<em>mouseup</em>&gt;<em>click</em>. Depending upon the environment configuration, the&#xA0;click&#xA0;event&#xA0;may&#xA0;be dispatched if one or more of the event types&#xA0;mouseover,&#xA0;mousemove, and mouseout&#xA0;occur between the press and release of the pointing device button. The&#xA0;click&#xA0;event&#xA0;may&#xA0;also be followed by the&#xA0;dblclick&#xA0;event</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>dblclick</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when a mouse pointer is clicked twice over an element. The definition of a double click depends on the environment configuration, except that the event target&#xA0;must&#xA0;be the same between&#xA0;<em>mousedown</em>,&#xA0;<em>mouseup</em>, and&#xA0;<em>dblclick</em>. This event type&#xA0;must&#xA0;be dispatched after the event typeclick&#xA0;if a click and double click occur simultaneously, and after the event type&#xA0;<em>mouseup</em>&#xA0;otherwise</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mousedown</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is pressed over an element</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mouseenter</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is moved onto the boundaries of an element or one of its descendent elements. This event type is similar to&#xA0;mouseover, but differs in that it does not bubble, and&#xA0;must not&#xA0;be dispatched when the pointer device moves from an element onto the boundaries of one of its descendent elements</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mouseleave</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is moved off of the boundaries of an element and all of its descendent elements. This event type is similar to mouseout, but differs in that does not bubble, and that it must not be dispatched until the pointing device has left the boundaries of the element and the boundaries of all of its children</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mousemove</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is moved while it is over an element. The frequency rate of events while the pointing device is moved is implementation-, device-, and platform-specific, but multiple consecutive mousemove events should be fired for sustained pointer-device movement, rather than a single event for each instance of mouse movement. Implementations are encouraged to determine the optimal frequency rate to balance responsiveness with performance</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mouseout</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is moved off of the boundaries of an element. This event type is similar to <em>mouseleave</em>, but differs in that does bubble, and that it must be dispatched when the pointer device moves from an element onto the boundaries of one of its descendent elements</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mouseup</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer button is released over an element</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>mouseover</em></td>\n\t\t\t<td><em>MouseEvent</em></td>\n\t\t\t<td>Fires when mouse pointer is moved over an element</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n\n<p><strong>Wheel events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>wheel</em> (browsers use <em>mousewheel</em> but the specification uses <em>wheel</em>)</td>\n\t\t\t<td><em>WheelEvent</em></td>\n\t\t\t<td>Fires when a mouse wheel has been rotated around any axis, or when an equivalent input device (such as a mouse-ball, certain tablets or touchpads, etc.) has emulated such an action. Depending on the platform and input device, diagonal wheel deltas&#xA0;may&#xA0;be delivered either as a singlewheel&#xA0;event with multiple non-zero axes or as separate&#xA0;wheel&#xA0;events for each non-zero axis. Some helpful details about browser support can be found <a href=\"http://www.quirksmode.org/dom/events/scroll.html\">here</a>.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>Window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n\n<p><strong>Keyboard events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>keydown</em></td>\n\t\t\t<td><em>KeyboardEvent</em></td>\n\t\t\t<td>Fires when a key is initially pressed. This is sent after any key mapping is performed, but before any input method editors receive the keypress. This is sent for any key, even if it doesn't generate a character code.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>keypress</em></td>\n\t\t\t<td><em>KeyboardEvent</em></td>\n\t\t\t<td>Fires when a key is initially pressed, but only if that key normally produces a character value. This is sent after any key mapping is performed, but before any input method editors receive the keypress.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>keyup</em></td>\n\t\t\t<td><em>KeyboardEvent</em></td>\n\t\t\t<td>Fires when a key is released. This is sent after any key mapping is performed, and always follows thecorresponding <em>keydown</em>&#xA0;and&#xA0;<em>keypress</em>&#xA0;events.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n <p><strong>Touch events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>touchstart</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when the user places a&#xA0;touch point&#xA0;on the touch surface</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>touchend</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when the user removes a&#xA0;touch poin<a href=\"http://www.w3.org/TR/2011/WD-touch-events-20110505/#dfn-touch-point\">t</a>&#xA0;from the touch surface, also including cases where the touch point physically leaves the touch surface, such as being dragged off of the screen</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>touchmove</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when the user moves a&#xA0;touch point&#xA0;along the touch surface</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>touchenter</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when a&#xA0;touch point&#xA0;moves onto the interactive area defined by a DOM element</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>?</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>toucheleave</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when a&#xA0;touch point&#xA0;moves off the interactive area defined by a DOM element</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>?</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>touchcancel</em></td>\n\t\t\t<td><em>TouchEvent</em></td>\n\t\t\t<td>Fires event to indicate when a touch point has been disrupted in an implementation-specific manner, such as a synchronous event or action originating from the UA canceling the touch, or the touch point leaving the document window into a non-document area which is capable of handling user interactions.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t\n\t</tbody>\n</table>\n\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Touch events are typically only supported iOS, Andorid, and Blackberry browsers or browsers (e.g. chrome) that can switch on touch modes</p>\n </div>\n\n<p><strong>Window, <em>&lt;body&gt;</em>, and frame specific events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>afterprint</em></td>\n\t\t\t<td>?</td>\n\t\t\t<td>Fires on the object immediately after its associated document prints or previews for printing</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>beforeprint</em></td>\n\t\t\t<td>?</td>\n\t\t\t<td>Fires on the object before its associated document prints or previews for printing</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>beforeunload</em></td>\n\t\t\t<td>?</td>\n\t\t\t<td>Fires prior to a document being unloaded</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>hashchange</em></td>\n\t\t\t<td><em>HashChangeEvent</em></td>\n\t\t\t<td>Fires when there are changes to the portion of a URL that follows the number sign (#)</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>messsage</em></td>\n\t\t\t<td>?</td>\n\t\t\t<td>Fires when the user sends a cross-document message or a message is sent from a&#xA0;<em>Worker</em>&#xA0;with&#xA0;<em>postMessage</em></td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>offline</em></td>\n\t\t\t<td><em>NavigatorOnLine</em></td>\n\t\t\t<td>Fires when browser is working offline</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>online</em></td>\n\t\t\t<td><em>NavigatorOnLine</em></td>\n\t\t\t<td>Fires when browser is working online</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>pagehide</em></td>\n\t\t\t<td><em>PageTransitionEvent</em></td>\n\t\t\t<td>Fires when traversing&#xA0;from&#xA0;a&#xA0;session history entry</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>pageshow</em></td>\n\t\t\t<td><em>PageTransitionEvent</em></td>\n\t\t\t<td>The&#xA0;pagehide&#xA0;event is fired when traversing&#xA0;from&#xA0;a&#xA0;session history entry</td>\n\t\t\t<td><em>window</em>, <em>&lt;body&gt;</em>, <em>&lt;frameset&gt;</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\t\n\t</tbody>\n</table>\n\n<p><strong>Document specific events</strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>readystatechange</em></td>\n\t\t\t<td><em>Event</em></td>\n\t\t\t<td>Fires&#xA0;event when <em>readyState</em>&#xA0;is changed</td>\n\t\t\t<td><em>Document</em>, <em>XMLHttpRequest</em></td>\n\t\t\t<td>No</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>DOMContentLoaded</em></td>\n\t\t\t<td><em>Event</em></td>\n\t\t\t<td>Fires when a webpage has been parsed, but before all resources have been fully downloaded</td>\n\t\t\t<td><em>Document</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Drag events </strong></p>\n <table border=\"0\" class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Event Type</th>\n\t\t\t<th>Event Interface</th>\n\t\t\t<th>Description</th>\n\t\t\t<th>Event Targets</th>\n\t\t\t<th>Bubbles</th>\n\t\t\t<th>Cancelable</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><em>drag</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the source object continuously during a drag operation. </td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>dragstart</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the source object when the user starts to drag a text selection or selected object. The&#xA0;ondragstart&#xA0;event is the first to fire when the user starts to drag the mouse.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><em>dragend</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the source object when the user releases the mouse at the close of a drag operation. The ondragend event is the final drag event to fire, following the ondragleave event, which fires on the target object.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\t\n\t\t<tr>\n\t\t\t<td><em>dragenter</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the target element when the user drags the object to a valid drop target.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\t\n\t\t<tr>\n\t\t\t<td><em>dragleave</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the target object when the user moves the mouse out of a valid drop target during a drag operation.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>No</td>\n\t\t</tr>\t\n\t\t<tr>\n\t\t\t<td><em>dragover</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the target element continuously while the user drags the object over a valid drop target. The&#xA0;ondragover&#xA0;event fires on the target object after the&#xA0;ondragenter&#xA0;event has fired.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\t\n\t\t<tr>\n\t\t\t<td><em>drop</em></td>\n\t\t\t<td><em>DragEvent</em></td>\n\t\t\t<td>Fires on the target object when the mouse button is released during a drag-and-drop operation. The ondrop event fires before the ondragleave and ondragend events.</td>\n\t\t\t<td><em>Element</em>, <em>Document</em>, <em>window</em></td>\n\t\t\t<td>Yes</td>\n\t\t\t<td>Yes</td>\n\t\t</tr>\t\n\t</tbody>\n</table>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>The tables below were crafted from the following three resources <a href=\"http://www.w3.org/TR/DOM-Level-3-Events/#events-module\">Document Object Model (DOM) Level 3 Events Specification 5 User Event Module</a>, <a href=\"https://developer.mozilla.org/en/DOM/DOM_event_reference\">DOM event reference</a>, <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#events\">HTML Living Standard 7.1.6 Event handlers on elements, Document objects, and Window objects,</a>, and <a href=\"http://www.quirksmode.org/dom/events/\">Event compatibility tables</a>.</p>\n <p>I've only mentioned here in this section the most common event types. Keep in mind there are numerous HTML5 api's that I've excluded from the this section (e.g. <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#event-definitions\">media events</a> for <em>&lt;video&gt;</em> and <em>&lt;audio&gt;</em> elements or all state change events for the <a href=\"http://www.w3.org/TR/XMLHttpRequest/#event-handlers\">XMLHttpRequest Level 2</a>).</p>\n <p>The <em>copy</em>, <em>cut</em>, and <em>textinput</em> event are not defined by DOM 3 events or HTML5</p>\n <p>Use mouseenter and mouseleave instead of mouseover and mouseout. Unfortunately Firefox, Chrome, and Safari still haven&#x2019;t added these events!</p>\n </div>\n <h2>11.3 The event flow</h2>\n <p>When an event is invoked the <a href=\"http://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture\">event flows or propagates through the DOM</a>, firing the same event on other nodes and JavaScript objects. The event flow can be programmed to occur as a capture phase (i.e. DOM tree trunk to branch) or bubbling phase (i.e. DOM tree branches to trunk), or both.</p>\n <p>In the code below I set up 10 event listeners that can all be invoked, due to the event flow, by clicking once on the <em>&lt;div&gt;</em> element in the HTML document. When the <em>&lt;div&gt;</em> is clicked the capture phase begins at the <em>window</em> object and propagates down the DOM tree firing the <em>click</em> event for each object (i.e. <em>window</em> <strong>&gt;</strong> <em>document</em> <strong>&gt;</strong> <em>&lt;html&gt;</em><strong> &gt; </strong><em>&lt;body&gt;</em><strong> &gt;</strong> event target) until it hits the event target. Once the capture phase ends the target phase starts, firing the <em>click</em> event on the target element itself. Next the propagation phase propagates up from the event target firing the <em>click</em> event until it reaches the <em>window</em> object (i.e. event target <strong>&gt;</strong> <em>&lt;body&gt;</em> <strong>&gt;</strong> <em>&lt;html&gt;</em> <strong>&gt;</strong> <em>document</em> <strong>&gt;</strong> <em>window</em>). With this knowledge it should be obvious why clicking the <em>&lt;div&gt;</em> in the code example logs to the console 1,2,3,4,5,6,7,8,9,11.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me to start event flow&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>/*notice that I am passing the addEventListener() a boolean parameter of true so capture events fire, not just bubbling events*/</em>\n\n<em>//1 capture phase</em>\nwindow.addEventListener('click',function(){console.log(<strong>1</strong>);},true);\n\n<em>//2 capture phase</em>\ndocument.addEventListener('click',function(){console.log(<strong>2</strong>);},true);\n\n<em>//3</em><em> capture phase</em>\ndocument.documentElement.addEventListener('click',function(){console.log(<strong>3</strong>);},true);\n\n<em>//4</em><em> capture phase</em>\ndocument.body.addEventListener('click',function(){console.log(<strong>4</strong>);},true);\n\n<em>//5 target phase occurs during capture phase</em>\ndocument.querySelector('div').addEventListener('click',function(){console.log(<strong>5</strong>);},true);\n\n<em>//6 target phase occurs during bubbling phase</em>\ndocument.querySelector('div').addEventListener('click',function(){console.log(<strong>6</strong>);},false);\n\n<em>//7 bubbling phase</em>\ndocument.body.addEventListener('click',function(){console.log(<strong>7</strong>);},false);\n\n<em>//8</em> <em>bubbling phase</em>\ndocument.documentElement.addEventListener('click',function(){console.log(<strong>8</strong>);},false);\n\n<em>//9</em> <em>bubbling phase</em>\ndocument.addEventListener('click',function(){console.log(<strong>9</strong>);},false);\n\n<em>//10</em> <em>bubbling phase</em>\nwindow.addEventListener('click',function(){console.log(<strong>10</strong>)},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>After the <em>&lt;div&gt;</em> is clicked, the event flow proceeds in this order: </p>\n <ol>\n \t<li>capture phase invokes click events on window that are set to fire on capture</li>\n \t<li>capture phase invokes click events on document that are set to fire on capture</li>\n \t<li>capture phase invokes click events on html element that are set to fire on capture</li>\n \t<li>capture phase invokes click events on body element that are set to fire on capture</li>\n \t<li>target phase invokes click events on div element that are set to fire on capture</li>\n \t<li>target phase invokes click events on div element that are set to fire on bubble</li>\n \t<li>bubbling phase invokes click events on body element are set to fire on bubble</li>\n \t<li>bubbling phase invokes click events on html element are set to fire on bubble</li>\n \t<li>bubbling phase invokes click events on document are set to fire on bubble</li>\n \t<li>bubbling phase invokes click events on window are set to fire on bubble</li>\n </ol>\n <p>The use of the capture phase is not all that common due to a lack of browser support for this phase. Typically events are assumed to be inovked during the bubbling phase. In the code below I remove the capture phase from the previous code example and demostrate typically what is occuring during an event invocation.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me to start event flow&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//1 target phase occurs during bubbling phase</em>\ndocument.querySelector('div').addEventListener('click',function(){console.log(<strong>1</strong>);},false);\n\n<em>//2</em> <em>bubbling phase</em>\ndocument.body.addEventListener('click',function(){console.log(<strong>2</strong>);},false);\n\n<em>//3</em> <em>bubbling phase</em>\ndocument.documentElement.addEventListener('click',function(){console.log(<strong>3</strong>);},false);\n\n<em>//4</em> <em>bubbling phase</em>\ndocument.addEventListener('click',function(){console.log(<strong>4</strong>);},false);\n\n<em>//5</em> <em>bubbling phase</em>\nwindow.addEventListener('click',function(){console.log(<strong>5</strong>)},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <p>Notice in the last code example that if the click event is initiated (click anywhere except on the <em>&lt;div&gt;</em>) on the <em>&lt;body&gt;</em> element the click event attached to the <em>&lt;div&gt;</em> is not invoked and bubbling invocation starts on the <em>&lt;body&gt;</em>. This is due to the fact the the event target is no longer the <em>&lt;div&gt;</em> but instead the <em>&lt;body&gt;</em> element.</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>Modern browsers do support the use of the capture phase so what was once considered unreliable might just server some value today. For example, one could intercept an event before it occurs on the event target.</p>\n <p>Keep this knowledge of event capturing and bubbling at the forefront of your thoughts when you read the event delegation section of this chapter.</p>\n <p>The event object passed to event listener functions contains a <em>eventPhase</em> property containing a number which indicates which phase an event is inoked in. A value of 1 indicates the capture phase. A value of 2 indicates the target phase. And a value of 3 indicates bubbling phase.</p>\n </div>\n<h2>11.4 Adding event listeners to <em>Element</em> nodes, <em>window</em> object, and <em>Document</em> object</h2>\n<p>The <em>addEventListener()</em> method is avaliabe on all <em>Element</em> nodes, the <em>window</em> object, and the <em>document</em> object providing the ability to added event listeners to parts of an HTML document as well as JavaScript objects relating to the DOM and <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window\">BOM</a> (browser object model). In the code below I leverage this method to add a <em>mousemove</em> event to a <em>&lt;div&gt;</em> element, the <em>document</em> object, and the <em>window</em> object. Notice, due to the event flow, that mouse movement specifically over the <em>&lt;div&gt;</em> will invoke all three listeners each to time a movement occurs.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;body&gt;\n\n&lt;div&gt;mouse over me&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//add a mousemove event to the window object, invoking the event during the bubbling phase</em>\nwindow.<strong>addEventListener</strong>('mousemove',function(){console.log('moving over window');},false);\n\n<em>//add a mousemove event to the document object, invoking the event during the bubbling phase</em>\ndocument.<strong>addEventListener</strong>('mousemove',function(){console.log('moving over document');},false);\n\n<em>//add a mousemove event to a &lt;div&gt; element object, invoking the event during the bubbling phase</em>\ndocument.querySelector('div').<strong>addEventListener</strong>('mousemove',function(){console.log('moving over div');},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<p>The <em>addEventListener()</em> method used in the above code example takes three arguments. The first argument is the type of event to listen for. Notice that the event type string does not contain the \"on\" prefix (i.e. <em>onmousemove</em>) that event handlers require. The second argument is the function to be invoked when the event occurs. The third parameter is a boolean indicating if the event should be fired during the capture phase or bubbling phase of the event flow.</p>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>I've purposfully avoided dicussing inline event handlers &amp; property event handlers in favor of promoting the use of <em>addEventListener()</em></p>\n <p>Typically a developer wants events to fire during the bubbling phase so that object eventing handles the event before bubbling the event up the DOM. Because of this you almost always provide a <em>false</em> value as the last argument to the <em>addEventListener()</em>. In modern browsers if the 3rd parameter is not specified it will default to false.</p>\n <p>You should be aware that the <em>addEventListener()</em> method can be used on the <em>XMLHttpRequest</em> object</p>\n </div>\n<h2>11.5 Removing event listeners</h2>\n<p>The <em>removeEventListener()</em> method can be used to remove events listeners, if the orginal listener was not added using an anonymous function. In the code below I add two events listeners to the HTML document and attempt to remove both of them. However, only the listener that was attached using a function reference is removed.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click to say hi&lt;/div&gt;\n\n&lt;script&gt;\n\nvar sayHi = function(){console.log('hi')};\n\n<em>//adding event listener using anonymous function</em>\ndocument.body.addEventListener('click',function(){console.log('dude');},false);\n\n<em>//adding event listener using function reference</em>\ndocument.querySelector('div').addEventListener('click',sayHi,false);\n\n<em>//attempt to remove both event listeners, but only the listener added with a funtions reference is removed</em>\ndocument.querySelector('div').<strong>removeEventListener</strong>('click',sayHi,false);\n\n<em>//this of course does not work as the function passed to removeEventListener is a new and different function</em>\ndocument.body.<strong>removeEventListener</strong>('click',function(){console.log('dude');},false);\n\n<em>//clicking the div will still invoke the click event attached to the body element, this event was not removed</em>\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Anonymous functions added using <em>addEventListener()</em> method simply cannot be removed.</p>\n\n<h2>11.6 Getting event properties from the event object</h2>\n<p>The handler or callback function invoked for events is sent by default a parameter that contains all relevant information about an event itself. In the code below I demostrate access to this event object and log all of its properties and values for a load event as well as a click event. Make sure you click the <em>&lt;div</em>&gt; to see the properties assocaited with a click event.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\ndocument.querySelector('div').addEventListener('click',function(<strong>event</strong>){<br>Object.keys(<strong>event</strong>).sort().forEach(function(item){<br>&#xA0; &#xA0; &#xA0;console.log(item+' = '+<strong>event</strong>[item]); <em>//logs event propeties and values</em><br>});&#xA0; &#xA0;&#xA0;&#xA0;<br>},false);\n\n<em>//assumes 'this' is window</em>\nthis.addEventListener('load',function(<strong>event</strong>){<br>Object.keys(<strong>event</strong>).sort().forEach(function(item){<br>&#xA0; &#xA0; &#xA0;console.log(item+' = '+<strong>event</strong>[item]); <em>//logs event propeties and values</em><br>});&#xA0; &#xA0;&#xA0;&#xA0;<br>},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Keep in mind that each event will contain slightly different properties based on the event type (e.g. <a href=\"https://developer.mozilla.org/en/DOM/MouseEvent\">MouseEvent</a>, <a href=\"https://developer.mozilla.org/en/DOM/KeyboardEvent\">KeyboardEvent</a>, <a href=\"https://developer.mozilla.org/en/DOM/WheelEvent\">WheelEvent</a>).</p>\n <div class=\"notes\">\n <h3>Notes</h3>\n <p>The event object also provides the<em> stopPropagation()</em>, <em>stopImediatePropagation()</em>, and <em>preventDefault()</em> methods.</p>\n <p>In this book I use the argument name <em>event</em> to reference the event object. In truth you can use any name you like and its not uncommon to see <em>e</em> or <em>evt</em>. </p>\n </div>\n <h2>11.7 The value of <em>this</em> when using <em>addEventListener()</em></h2>\n<p>The value of <em>this</em> inside of the event listener function passed to the <em>addEventListener()</em> method will be a reference to the node or object the event is attached too. In the code below I attach an event to a <em>&lt;div&gt;</em> and then using <em>this</em> inside of the event listener gain access to the <em>&lt;div&gt;</em> element the event is attached too.</p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\ndocument.querySelector('div').addEventListener('click',function(){\n<em>// 'this' will be the element or node the event listener is attached too</em>\nconsole.log(<strong>this</strong>); <em>//logs '&lt;div&gt;' </em>\n},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>When events are invoked as part of the event flow the <em>this</em> value will remain the value of the node or object that the event listener is attached too. In the code below we add a <em>click</em> event listener to the <em>&lt;body&gt;</em> and regardless of if you click on the <em>&lt;div&gt;</em> or the <em>&lt;body&gt;</em> the value of <em>this</em> always points to <em>&lt;body&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//click on the &lt;div&gt; or the &lt;body&gt; the value of this remains the &lt;body&gt; element node</em>\ndocument.body.addEventListener('click',function(){\nconsole.log(<strong>this</strong>); <em>//log &lt;body&gt;...&lt;/body&gt;</em>\n},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Additionally its possible using the <em>event.currentTarget</em> property to get the same reference, to the node or object invoking the event listener, that the <em>this</em> property provides. In the code below I leverage the<em> event.currentTarget</em> event object property showcasing that it returns the same value as <em>this</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\ndocument.addEventListener('click',function(event){\nconsole.log(<strong>event.currentTarget</strong>); <em>//logs '#document'\n//same as...\n</em>console.log(this);\n},false);\n\ndocument.body.addEventListener('click',function(event){\nconsole.log(<strong>event.currentTarget</strong>); <em>//logs '&lt;body&gt;'\n//same as...\n</em>console.log(this);\n},false);\n\ndocument.querySelector('div').addEventListener('click',function(event){\nconsole.log(<strong>event.currentTarget</strong>); <em>//logs '&lt;div&gt;'</em>\n<em>//same as...</em>\nconsole.log(this);\n},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<h2>11.8 Referencing the <em>target</em> of an event and not the node or object the event is invoked on</h2>\n<p>Because of the event flow its possible to click a <em>&lt;div&gt;</em>, contained inside of a <em>&lt;body&gt;</em> element and have a <em>click</em> event listener attached to the <em>&lt;body&gt;</em> element get invoked. When this happens, the event object passed to the event listener function attached to the <em>&lt;body&gt;</em> provides a reference (i.e. <em>event.target</em>) to the node or object that the event originated on (i.e. the target). In the code below when the <em>&lt;div&gt;</em> is clicked, the <em>&lt;body&gt;</em> element's <em>click</em> event listener is invoked and the <em>event.target</em> property references the orginal <em>&lt;div&gt;</em> that was the target of the click event. The <em>event.target</em> can be extremely useful when an event that fires because of the event flow needs knowledge about the origin of the event.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\ndocument.body.addEventListener('click',function(event){\n<em>//when the &lt;div&gt; is clicked logs '&lt;div&gt;' because the &lt;div&gt; was the target in the event flow</em>\nconsole.log(<strong>event.target</strong>); \n},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Consider that in our code example if the <em>&lt;body&gt;</em> element is clicked instead of the <em>&lt;div&gt;</em> then the event <em>target</em> and the element node that the event listener is invoked on are the same. Therefore <em>event.target</em>, <em>this</em>, and <em>event.currentTarget</em> will all contain a reference to the <em>&lt;body&gt;</em> element.</p>\n\n<h2>11.9 Cancelling default browser events using <em>preventDefault()</em></h2>\n<p>Browsers provide several events already wired up when an HTML page is presented to a user. For example, clicking a link has a corresponding event (i.e. you navigate to a url). So does clicking a checkbox (i.e. box is checked) or typing text into a text field (i.e. text is inputed and appears on screen). These browser events can be prevented by calling the <em>preventDefault()</em> method inside of the event handler function associated with a node or object that invokes a browser default event. In the code below I prevent the default event that occurs on a <em>&lt;a&gt;</em>, <em>&lt;input&gt;</em>, and <em>&lt;textarea&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;a href=\"google.com\"&gt;no go&lt;/div&gt;\n\n&lt;input type=\"checkbox\" /&gt;\n\n&lt;textarea&gt;&lt;/textarea&gt;\n\n&lt;script&gt;\n\ndocument.querySelector('a').addEventListener('click',function(event){\nevent.<strong>preventDefault()</strong>; <em>//stop the default event for &lt;a&gt; which would be to load a url</em>\n},false);\n\ndocument.querySelector('input').addEventListener('click',function(event){\nevent.<strong>preventDefault</strong>(); <em>//stop default event for checkbox, which would be to toggle checkbox state</em>\n},false);\n\ndocument.querySelector('textarea').addEventListener('keypress',function(event){\nevent.<strong>preventDefault</strong>(); <em>//stop default event for textarea, which would be to add characters typed</em>\n},false);\n\n<em>/*keep in mind that events still propagate, clicking the link in this html document will stop the default event but not event bubbling*/</em>\ndocument.body.addEventListener('click',function(){<br>console.log('the event flow still flows!');<br>},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n\n<p>All attempts to click the link, check the box, or type in the text input in the previous code example will fail because I am preventing the default events for these elements from occuring.</p>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>The <em>preventDefault()</em> methods does not stop events from propagating (i.e. bubbling or capture phases)</p>\n <p>Providing a <em>return false</em> at the end of the body of the event listener has the same result as call the <em>preventDefault()</em> method</p>\n <p>The event object passed to event listener functions contains a boolean <em>cancelable</em> property which indicates if the event will respond to preveentDefault() method and canceling default behavior</p>\n <p>The event object passed to event listener functions contains a <em>defaultPrevented</em> property which indicates true if <em>preventDefault()</em> has been invoked for a bubbling event.</p>\n </div>\n\n<h2>11.10 Stoping the event flow using <em>stopPropagation()</em></h2>\n<p>Calling <em>stopProgagation()</em> from within an event handler/listener will stop the capture and bubble event flow phases, but any events directly attached to the node or object will still be invoked. In the code below the <em>onclick</em> event attached to the <em>&lt;body&gt;</em> is never gets invoked because we are stopping the event from bubbling up the DOM when clicking on the <em>&lt;div&gt;</em>. </p>\n\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\ndocument.querySelector('div').addEventListener('click',function(){\nconsole.log('me too, but nothing from the event flow!');\n},false);\n\ndocument.querySelector('div').addEventListener('click',function(event){\nconsole.log('invoked all click events attached, but cancel capture and bubble event phases');\nevent.<strong>stopPropagation()</strong>;\n},false);\n\ndocument.querySelector('div').addEventListener('click',function(){\nconsole.log('me too, but nothing from the event flow!');\n},false);\n\n<em>/*when the &lt;div&gt; is clicked this event is not invoked because one of the events attached to the &lt;div&gt; stops the capture and bubble flow.*/</em>\ndocument.body.addEventListener('click',function(){<br>console.log('What, denied from being invoked!');<br>},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>Notice that other click events attached to the the <em>&lt;div&gt;</em> still get invoked! Additionally using <em>stopPropagation()</em> does not prevent default events. Had the <em> &lt;div&gt;</em> in our code example been a <em>&lt;a&gt;</em> with an href value calling stopPropagation would not have stopped the browser default events from getting invoked.</p>\n\n<h2>11.11 Stoping the event flow as well as other like events on the same target using <em>stopImmediatePropagation()</em></h2>\n<p>Calling the <em>stopImmediatePropagation()</em> from within an event handler/listener will stop the event flow phases (i.e. <em>stopPropagation()</em>), as well as any other like events attached to the event target that are attached after the event listener that invokes the <em>stopImmediatePropagation()</em> method. In the code example below If we call <em>stopImmediatePropagation()</em>from the second event listener attached to the <em>&lt;div&gt;</em> the click event that follows will not get invoked.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;\n\n&lt;script&gt;\n\n<em>//first event attached</em>\ndocument.querySelector('div').addEventListener('click',function(){\nconsole.log('I get invoked because I was attached first');\n},false);\n\n<em>//seond event attached</em>\ndocument.querySelector('div').addEventListener('click',function(event){\nconsole.log('I get invoked, but stop any other click events on this target');\nevent.<strong>stopImmediatePropagation()</strong>;\n},false);\n<em>\n//third event attached, but because stopImmediatePropagation() was called above this event does not get invoked</em>\ndocument.querySelector('div').addEventListener('click',function(){\nconsole.log('I get stopped from the previous click event listener');\n},false);\n\n<em>//notice that the event flow is also cancelled as if stopPropagation was called too</em>\ndocument.body.addEventListener('click',function(){<br>console.log('What, denied from being invoked!');<br>},false);\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Using the <em>stopImmediatePropagation()</em> does not prevent default events. Browser default events still get invoked and only calling <em>preventDefault()</em> will stop these events.</p>\n </div>\n<h2>11.12 Custom events</h2>\n<p>A developer is not limited to the predefined event types. Its possible to attach and invoke a custom event, using the <em>addEventListener()</em> method like normal in combiniation with <em>document.createEvent()</em>, <em>initCustomEvent()</em>, and <em>dispatchEvent()</em>. In the code below I create a custom event called <em>goBigBlue</em> and invoke that event<em>.</em></p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;click me&lt;/div&gt;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;\n\n&lt;script&gt;\n\nvar&#xA0;divElement&#xA0;=&#xA0;document.querySelector('div');<p><em>//create the custom event</em><br>var&#xA0;cheer&#xA0;=&#xA0;document.<strong>createEvent('CustomEvent')</strong>; <em>//the 'CustomEvent' parameter is required</em></p><p><em>//create an event listener for the custom event</em><br>divElement.addEventListener('goBigBlue',function(event){<br>&#xA0; &#xA0;&#xA0;console.log(event.detail.goBigBlueIs)<br>},false);</p><p><em>/*Use the initCustomEvent method to setup the details of the custom event.\nParameters for initCustomEvent are: (event, bubble?, cancelable?, pass values to event.detail)*/</em><br>cheer.<strong>initCustomEvent('goBigBlue',true,false,{goBigBlueIs:'its gone!'})</strong>;<br>&#xA0; &#xA0;&#xA0;<em><br>//invoke the custom event using dispatchEvent</em><br>divElement.<strong>dispatchEvent(cheer)</strong>;&#x200B;<br>\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n\n<h2>11.13 Simulating/Triggering mouse events</h2>\n<p>Simiulating an event is not unlike creating a custom event. In the case of simulating a mouse event we create a <em>'MouseEvent'</em> using <em>document.createEvent()</em>. Then, using <em>initMouseEvent()</em> we setup the mouse event that is going to occur. Next the mouse event is dispatched on the element that we'd like to simulate an event on (i.e the <em>&lt;div&gt;</em> in the html document). In the code below a click event is attached to the <em>&lt;div&gt;</em> in the page. Instead of clicking the <em>&lt;div&gt;</em> to invoke the click event the event is triggered or simulated by programatically setting up a mouse event and dispatching the event to the <em>&lt;div&gt;</em>.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;div&gt;no need to click, we programatically trigger it&lt;/div&gt;&#x200B;&#x200B;&#x200B;&#x200B;\n\n&lt;script&gt;\n\nvar&#xA0;divElement&#xA0;=&#xA0;document.querySelector('div');\n\n<em>//setup click event that will be simulated</em><br>divElement.addEventListener('click',function(event){<br>&#xA0; &#xA0;&#xA0;console.log(Object.keys(event));<br>},false);<p><em>//create simulated mouse event 'click'</em><br>var&#xA0;simulateDivClick&#xA0;=&#xA0;document.<strong>createEvent('MouseEvents')</strong>;\n<br><em>/*setup simulated mouse 'click'\ninitMouseEvent(type,bubbles,cancelable,view,detail,screenx,screeny,clientx,clienty,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget)*</em>\nsimulateDivClick.<strong>initMouseEvent('click',true,true,document.defaultView,0,0,0,0,0,false,false,false,0,null,null)</strong>;\n<br><em>//invoke simulated clicked event</em><br>divElement.<strong>dispatchEvent(simulateDivClick)</strong>;</p><p>&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</p></pre>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Simulating/triggering mouse events as of this writing works in all modern browsers. Simulating other event types quickly becomes more complicated and leveraging <a href=\"https://github.com/airportyh/simulate.js\">simulate.js</a> or jQuery (e.g. jQuery <em>trigger()</em> method) becomes neccsary.</p>\n</div>\n<h2>11.14 Event delegation</h2>\n<p>Event delegation, stated simply, is the programmatic act of leveraging the event flow and a single event listener to deal with multiple event targets. A side effect of event delegation is that the event targets don't have to be in the DOM when the event is created in order for the targets to respond to the event. This is of course rather handy when dealing with XHR responses that update the DOM. By implementing event delegation new content that is added to the DOM post JavaScript load parsing can immediately start responding to events. Imagine you have a table with an unlimited number of rows and columns. Using event delegation we can add a single event listener to the <em>&lt;table&gt;</em> node which acts as a delegate for the node or object that is the initial target of the event. In the code example below, clicking any of the <em>&lt;td&gt;</em>'s (i.e. the target of the event) will delegate its event to the <em>click</em> listener on the <em>&lt;table&gt;</em>. Don't forget this is all made possible because of the event flow and in this specific case the bubbling phase.</p>\n\n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n&lt;p&gt;Click a table cell&lt;/p&gt;\n\n&lt;table&#xA0;border=\"1\"&gt;<br>&#xA0; &#xA0;&#xA0;&lt;tbody&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 1 column 1&lt;/td&gt;&lt;td&gt;row 1 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 2 column 1&lt;/td&gt;&lt;td&gt;row 2 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 3 column 1&lt;/td&gt;&lt;td&gt;row 3 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 4 column 1&lt;/td&gt;&lt;td&gt;row 4 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 5 column 1&lt;/td&gt;&lt;td&gt;row 5 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0;&lt;tr&gt;&lt;td&gt;row 6 column 1&lt;/td&gt;&lt;td&gt;row 6 column 2&lt;/td&gt;&lt;/tr&gt;<br>&#xA0; &#xA0;&#xA0;&lt;/tbody&gt;<br>&lt;/table&gt;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;\n\n&lt;script&gt;\n\n<strong>document.querySelector('table').addEventListener('click',function(event){</strong>\n\tif(event.target.tagName.toLowerCase() === 'td'){ <em>//make sure we only run code if a td is the target</em><br>\t\tconsole.log(event.target.textContent); <em>//use event.target to gain access to target of the event which is the td</em>&#xA0;\n\t} &#xA0; &#xA0; &#xA0;<br><strong>},false);</strong><br>\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>If we were to update the table in the code example with new rows, the new rows would responded to the <em>click</em> event as soon as they were render to the screen because the click event is delegated to the <em>&lt;table&gt;</em> element node.</p>\n<div class=\"notes\">\n <h3>Notes</h3>\n <p>Event delegation is ideally leverage when you are dealing with a <em>click</em>, <em>mousedown</em>, <em>mouseup</em>, <em>keydown</em>, <em>keyup</em>, and <em>keypress</em> event type. </p>\n</div>\n \n</div>\n\n\n\n\n<div id=\"chapter12\" class=\"chapter\">\n\n\n <h2>Chapter 12 - Creating dom.js - a wishful jQuery inspired DOM Library for modern browers</h2>\n <h2>12.1 dom.js overview</h2>\n <p>I want you to take the information and knowledge from this book and leverage it as I walk you through a foundation for a wishful, modern, jQuery like DOM library called dom.js. Think of dom.js as the foundation to a modern library for selecting DOM nodes and doing something with them. Not unlike jQuery the dom.js code will provide a function for selecting something from the DOM (or creating) and then doing something with it. I show some examples of the <em>dom()</em> function below which shouldn't look all that foreign if you are familiar with jQuery or really any DOM utility for selecting elements.</p>\n <pre>\n<em>//select in a document all li's in the first ul and get the innerHTML for the first li</em>\ndom('li','ul').html();\n\n<em>//create html structure using a document fragment and get the innerHTML of ul</em>\ndom('&lt;ul&gt;&lt;li&gt;hi&lt;/li&gt;&lt;/ul&gt;').html()</pre>\n <p>For most readers this chapter is simply an exercise in taking the information in this book and applying it to a JavaScript DOM library. For others, this might just shed some light on jQuery itself and any DOM manipulation logic used in JavaScript frameworks today. Ideally, in the end, I hope this exercise inspires readers to craft their own micro DOM abstractions on an as needed bases when the situation is right. With that said, lets begin.</p>\n <h2>12.2 Create a unique scope</h2>\n\t<p>To protect our dom.js code from the global scope, I will first create a unique scope to which it can live and operate within without fear of collisions in the global scope. In the code below I setup a pretty standard <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\">Immediately-Invoked Function Expression</a> to create this private scope. When the IIFE is invoked the value of <em>global</em> will be set to the current global scope (i.e. <em>window</em>).</p>\n \n<pre>\n<strong>(function(win){ \n\nvar global = win;<br>var doc = this.document;\n\n}}(window);</strong><em></em>\n</pre>\n<p>Inside of the IIFE we setup a reference to the <em>window </em> and <em>document</em> object (i.e. <em>doc</em>) to speed up the access to these objects inside of the IIFE.</p>\n<h2>12.3 Create the <em>dom()</em> and <em>GetOrMakeDom()</em> functions exposing <em>dom()</em> and <em>GetOrMakeDom.prototype</em> to the global scope</h2>\n\t<p>Just like jQuery we are going to create a function that will return a chain-able, wrapped set (i.e. custom array like object) of DOM nodes (e.g. <em>{0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em>) based on the parameters sent into the function. In the code below I setup the <em> dom()</em> function and parameters which get passed on to the <em>GetOrMakeDOM</em> constructor function that when invoked will return the object containing the DOM nodes, that is then returned by from <em>dom()</em>.</p>\n \n<pre>\n(function(win){ \n\nvar global = win;<br>var doc = global.document;\n\n<strong>var dom = function(params,context){\n\treturn new GetOrMakeDom(params,context);\n};\n\nvar GetOrMakeDom = function(params,context){\n\n};</strong><em></em>\n\n})(window);<em></em></pre>\n<p>In order for the <em>dom()</em> function to be accessed/called from outside of the private scope setup by the IIFE we have to expose the dom function (i.e. create a reference) to the global scope. This is done by creating a property in the global scope called <em>dom</em> and pointing that property to the local <em>dom()</em> function. When <em>dom</em> is accessed from the global scope it will point to my locally scoped <em>dom()</em> function. In the code below doing, <em>global.dom = dom; </em>does the trick.</p>\n\n<pre>\n(function(win){\n\nvar global = win;<br>var doc = global.document;\n<strong>\n</strong>var dom = function(params,context){\n\treturn new GetOrMakeDom(params,context);\n};\n\nvar GetOrMakeDom = function(params,context){\n\n};\n\n<em>//expose dom to global scope</em><br><strong>global.dom = dom;</strong>\n\n})(window);</pre>\n<p>The last thing we need to do is expose the <em>GetOrMakeDom.prototype</em> property to the global scope. Not unlike jQuery (e.g. <em>jQuery.fn</em>) we are simply going to provide a shortcut reference from <em>dom.fn</em> to <em>GetOrMakeDOM.prototype</em>. This is shown in the code below.</p>\n\n<pre>\n(function(win){\n\nvar global = win;<br>var doc = global.document;\n<strong>\n</strong>var dom = function(params,context){\n\treturn new GetOrMakeDom(params,context);\n};\n\nvar GetOrMakeDom = function(params,context){\n\n};\n\n<em>//expose dom to global scope</em><br>global.dom = dom;\n\n<em>//short cut to prototype</em><br><strong>dom.fn = GetOrMakeDom.prototype;</strong>\n\n})(window);<em></em></pre>\n<p>Now anything attached to the <em>dom.fn</em> is actually a property of the <em>GetOrMakeDOM.prototype</em> object and is inherited during property lookup for any object instance created from the <em>GetOrMakeDOM</em> constructor function.</p>\n<div class=\"notes\">\n\t<h3>Notes</h3>\n\t<p>The <em>getOrMakeDom</em> function is invoked with the <em>new</em> operator. Make sure you <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/new\">understand</a> what happens when a function is invoked using the <em>new</em> operator.</p>\n</div>\n\n<h2>12.4 Create optional context paramater passed to <em>dom()</em></h2>\n<p>When <em>dom()</em> is invoked, it also invokes the <em>GetOrMakeDom</em> function passing it the parameters that are sent to <em>dom()</em>. When the <em>GetOrMakeDOM</em> constructor is invoked the first thing we need to do is determine context. The context for working with the DOM can be set by passing a selector string used to select a node or a node reference itself. If its not obvious the purpose of passing a context to the <em>dom()</em> function provides the ability to limit the search for element nodes to a specific branch of the DOM tree. This is very similar, almost identical, to the second parameter passed to the <em>jQuery</em> or <em>$</em> function. In the code below I default the context to the current document found in the global scope. If a context parameter is available, I determine what it is (i.e. string or node) and either make the node passed in the context or select a node via <em>querySelectorAll()</em>.</p>\n\n<pre>\n(function(win){\n\nvar global = win;<br>var doc = global.document;\n<strong>\n</strong>var dom = function(params,context){\n\treturn new GetOrMakeDom(params,context);\n};\n\nvar GetOrMakeDom = function(params,context){\n\n<strong>\tvar currentContext = doc;\n\t\tif(context){\n\t\t\tif(context.nodeType){<em>//its either a document node or element node</em>\n\t\t\t\tcurrentContext = context;\n\t\t\t}else{ <em>//else its a string selector, use it to selector a node</em>\n\t\t\t\tcurrentContext = doc.querySelector(context);\n\t\t}\n\t}</strong>\n\n};\n\n<em>//expose dom to global scope</em><br>global.dom = dom;\n\n<em>//short cut to prototype</em><br>dom.fn = GetOrMakeDom.prototype;\n\n})(window);</pre>\n<p>With the <em>context</em> parameter logic setup we can next add the logic required to deal with the <em>params</em> parameter used to actually select or created nodes.</p>\n<h2>12.5 Populate object with DOM node references based on <em>params</em> and return object</h2>\n<p>The <em>params</em> parameter passed to <em>dom()</em>, then on to the <em>getOrMakeDom()</em> varies in the type of parameter that can be passed. Similar to jQuery the type's of value's passed can be any one of the following:</p>\n<ul>\n\t<li>css selector string (e.g. <em>dom('body')</em>)</li>\n\t<li>html string (e.g. <em>dom('&lt;p&gt;Hellow&lt;/p&gt;&lt;p&gt; World!&lt;/p&gt;')</em>)</li>\n\t<li><em>Element</em> node (e.g. <em>dom(document.body)</em>)</li>\n\t<li>array of element nodes (e.g. <em>dom([document.body])</em>)</li>\n\t<li>a <em>NodeList</em> (e.g. <em>dom(document.body.children)</em>)</li>\n\t<li>a <em>HTMLcollection</em> (e.g.<em> dom(document.all)</em>)</li>\n\t<li>a <em>dom()</em> object itself. (e.g. <em>dom(dom())</em>)</li>\n </ul>\n<p>The result of passing <em>params</em> is the construction of a chain-able object containing references to nodes (e.g. <em>{0:ELEMENT_NODE,1:ELEMENT_NODE,length:2})</em> either in the DOM or in a document fragment. Lets examine how each of the above parameters can be used to produce an object containing node references.</p>\n<p>The logic to permit such a wide variety of parameter types is shown below in the code and starts with a simple check to verify that <em>params</em> is not <em>undefined</em>, an empty string, or a string with empty spaces. If this is the case we add a <em>length</em> property with a value of <em>0</em> to the object constructed from calling <em>GetOrMakeDOM</em> and return the object so the execution of the function ends. If <em>params</em> is not a false (<a href=\"http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/\">or false like</a>) value the execution of the function continues.</p>\n<p>Next the <em>params</em> value, if a string, is checked to see if contains HTML. If the string contains HTML then a <a href=\"https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment\">document fragmen</a>t is created and the string is used as the <em>innerHTML</em> value for a <em>&lt;div&gt;</em> contained in the document fragment so that the string is converted to a DOM structure. With the html string converted to a node tree, the structure is looped over accessing top level nodes, and references to these nodes are passed to the object being created by <em>GetOrMakeDom</em>. If the string does not contain HTML execution of the function continues.</p>\n<p>The next check simply verifies if <em>params</em> is a reference to a single node and if it is we wrap a reference to it up in an object and return it other wise at we are pretty sure the <em>params</em> value is a <a href=\"https://developer.mozilla.org/en-US/docs/DOM/HTMLCollection\">html collection</a>, <a href=\"https://developer.mozilla.org/en-US/docs/DOM/NodeList\">node list</a>, array, string <a href=\"http://www.quirksmode.org/css/contents.html\">selector</a>, or an object created from <em>dom()</em>. If its a string selector, a node list is created by calling the <em>queryselectorAll()</em> method on the <em>currentContext</em>. If its not a string selector we loop over the html collection, node list, array, or object extracting the node references and using the references as values contained in the object sent back from calling the <em>GetOrMakeDom</em>.</p>\n<p>All of this logic inside of <em>GetOrMakeDom()</em> function can be a bit overwhelming just realize that the point of the constructor function is to construct an object containing references to nodes (e.g. <em>{0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em>) and returns this object to <em>dom()</em>.</p>\n\n<pre>\n(function(win){\n\nvar global = win;<br>var doc = global.document;\n<strong>\n</strong>var dom = function(params,context){\n\treturn new GetOrMakeDom(params,context);\n};\n\n<strong>var regXContainsTag = /^\\s*&lt;(\\w+|!)[^&gt;]*&gt;/;</strong>\n\nvar GetOrMakeDom = function(params,context){\n\n\tvar currentContext = doc;\n\tif(context){\n\t\tif(context.nodeType){\n\t\t\tcurrentContext = context;\n\t\t}else{\n\t\t\tcurrentContext = doc.querySelector(context);\n\t\t}\n\t}\n\n<strong>\t<em>//if no params, return empty dom() object</em>\n\tif(!params || params === '' || typeof params === 'string' &amp;&amp; params.trim() === ''){\n\t\tthis.length = 0;\n\t\treturn this;\n\t}\n\n\t<em>//if HTML string, construct domfragment, fill object, then return object</em>\n\tif(typeof params === 'string' &amp;&amp; regXContainsTag.test(params)){//yup its forsure html string\n\t\t<em>//create div &amp; docfrag, append div to docfrag, then set its div's innerHTML to the string, then get first child</em>\n\t\tvar divElm = currentContext.createElement('div');\n\t\tdivElm.className = 'hippo-doc-frag-wrapper';\n\t\tvar docFrag = currentContext.createDocumentFragment();\n\t\tdocFrag.appendChild(divElm);\n\t\tvar queryDiv = docFrag.querySelector('div');\n\t\tqueryDiv.innerHTML = params;\n\t\tvar numberOfChildren = queryDiv.children.length;\n\t\t<em>//loop over nodelist and fill object, needs to be done because a string of html can be passed with siblings</em>\n\t\tfor (var z = 0; z //give the object a length value\n\t\tthis.length = numberOfChildren;\n\t<em>\t//return object</em>\n\t\treturn this; <em>//return e.g. {0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em>\n\t}\n\n\t<em>//if a single node reference is passed, fill object, return object</em>\n\tif(typeof params === 'object' &amp;&amp; params.nodeName){\n\t\tthis.length = 1;\n\t\tthis[0] = params;\n\t\treturn this;\n\t}\n\n\t<em>//if its an object but not a node assume nodelist or array, else its a string selector, so create nodelist</em>\n\tvar nodes;\n\tif(typeof params !== 'string'){<em>//nodelist or array</em>\n\t\tnodes = params;\n\t}else{<em>//ok string</em>\n\t\tnodes = currentContext.querySelectorAll(params.trim());\n\t}\n\t<em>//loop over array or nodelist created above and fill object</em>\n\tvar nodeLength = nodes.length;\n\tfor (var i = 0; i //give the object a length value\n\tthis.length = nodeLength;\n\t<em>//return object</em>\n\treturn this; <em>//return e.g. {0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em></strong>\n\t\n};\n\n<em>//expose dom to global scope</em><br>global.dom = dom;\n\n<em>//short cut to prototype</em><br>dom.fn = GetOrMakeDom.prototype;\n\n})(window);\n&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;</pre>\n\n\n<h2>12.6 Create <em>each()</em> method and make it a chainable method</h2>\n<p>When we invoke <em>dom()</em> we can access anything attached to <em>dom.fn</em> by way of prototypical inheritance. (e.g. <em>dom().each())</em>. Not unlike jQuery methods attached to <em>dom.fn</em> operate on the object created from the <em>GetOrMakeDom</em> constructor function. The code below setups the <em>each()</em> method.</p>\n\n<pre>\n<strong>dom.fn.each = function (callback) {<br>\tvar len = this.length; <em>//the specific instance create from getOrMakeDom() and returned by calling dom()</em><br>\tfor(var i = 0; i &lt; len; i++){\n\t\t<em>//invoke the callback function setting the value of this to element node and passing it parameters</em><br>\t\tcallback.call(this[i], i, this[i]);<br>\t}<br>};&#x200B;&#x200B;&#x200B;</strong>&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;\n</pre>\n<p>As you might expect the <em>each()</em> method takes a callback function as a parameter and invokes the function (setting the <em>this</em> value to the element node object with <em>call()</em>) for each node element in the <em>getOrMakeDom</em> object instance. The <em>this</em> value inside of the <em>each()</em> function is a reference to the <em>getOrMakeDom</em> object instance (e.g. <em>{0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em>).</p>\n<p>When a method does not return a value (e.g. <em>dom().length</em> returns a length) its possible to allow method chaning by simply returning the object the method belongs too instead of a specific value. Basically, we are returning the <em>GetOrMakeDom</em> object so another method can be called on this instance of the object. In the code below I would like the <em>each()</em> method to be chainable, meaning more methods can be called after calling <em>each()</em>, so I simply return <em>this</em>. The <em>this</em> in the code below is the object instance created from calling the <em>getOrMakeDom</em> function.</p>\n\n<pre>\ndom.fn.each = function (callback) {<br>\tvar len = this.length;<br>\tfor(var i = 0; i &lt; len; i++){<br>\t\tcallback.call(this[i], i, this[i]);<br>\t}<strong>\n\treturn this; <em>//make it chainable by returning e.g. {0:ELEMENT_NODE,1:ELEMENT_NODE,length:2}</em><em></em><br></strong>};&#x200B;<strong>&#x200B;&#x200B;</strong>&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;&#x200B;\n</pre>\n<h2>12.7 Create <em>html()</em>, <em>append()</em>, &amp; <em>text()</em> methods</h2>\n<p>With the core <em>each()</em> method created and implicit iteration avaliable we can now build out a few <em>dom()</em> methods that act on the nodes we select from an HTML document or create using document fragments. The three methods we are going to create are:</p>\n<ul>\n\t<li><em>html()</em> / <em>html('html string')</em></li>\n\t<li><em>text()</em> / <em>text('text string')</em></li>\n\t<li><em>append('html | text | dom() | nodelist/HTML collection | node | array')</em></li>\n </ul>\n<p>The <em>html()</em> and <em>text()</em> methods follow a very similar pattern. If the method is called with a parameter value we loop (using <em>dom.fn.each()</em> for implicit iteration ) over each element node in the <em>getOrMakeDom</em> object instance setting either the <em>innerHTML</em> value or <em>textContent</em> value. If no parameter is sent we simply return the <em>innerHTML</em> or <em>textContent</em> value for the first element node in the <em>getOrMakeDom</em> object instance. Below you will see this logic coded.</p>\n\n\n <pre>\ndom.fn.html = function(htmlString){\n\t<strong>if(htmlString){\n\t\treturn this.each(function(){ <em>//notice I return this so its chainable if called with param</em>\n\t\t\tthis.innerHTML = htmlString;\n\t\t});\n\t}else{\n\t\treturn this[0].innerHTML;\n\t}</strong>\n};\n\ndom.fn.text = function(textString){\n\t<strong>if(textString){\n\t\treturn this.each(function(){ <em>//notice I return this so its chainable if called with param</em>\n\t\t\tthis.textContent = textString;\n\t\t});\n\t}else{\n\t\treturn this[0].textContent.trim();\n\t}</strong>\n};</pre>\n\n\n\t<p>The <em>append()</em> method leveraging <em>insertAdjacentHTML</em> will take a an html string, text string, <em>dom()</em> object, nodelist/HTML collection a single node or array of nodes and appends it to the nodes selected.</p>\n\t\n\n <pre>dom.fn.append = function(stringOrObject){<br>\t<strong>return this.each(function(){<br>\t\tif(typeof stringOrObject === 'string'){<br>\t\t\tthis.insertAdjacentHTML('beforeend',stringOrObject);<br>\t\t}else{<br>\t\t\tvar that = this;<br>\t\t\tdom(stringOrObject).each(function(name,value){<br>\t\t\t\tthat.insertAdjacentHTML('beforeend',value.outerHTML);<br>\t\t\t});<br>\t\t}<br>\t});</strong><br>};</pre>\n\n <h2>12.8 Taking dom.js for a spin</h2>\n <p>During the creation of <a href=\"https://github.com/codylindley/domjs/tree/master/test\">dom.js I created some very simple qunit tests</a> that we are now going to run outside of the testing framework. However, you can also <a href=\"https://github.com/codylindley/domjs/blob/master/test/index.html\">run the testing framework</a> to see dom.js in action. The follow code demostrates the code create in this chapter.</p>\n \n<pre>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n<br>&lt;ul&gt;<br>&lt;li&gt;1&lt;/li&gt;<br>&lt;li&gt;2&lt;/li&gt;<br>&lt;li&gt;3&lt;/li&gt;<br>&lt;/ul&gt;<br>\n&lt;script src=\"https://raw.github.com/codylindley/domjs/master/builds/dom.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\n<em>//dom()</em><br>console.log(<strong>dom()</strong>);<br>console.log(<strong>dom('')</strong>);<br>console.log(<strong>dom('body')</strong>);<br>console.log(<strong>dom('&lt;p&gt;Hellow&lt;/p&gt;&lt;p&gt; World!&lt;/p&gt;')</strong>);<br>console.log(<strong>dom(document.body)</strong>);<br>console.log(<strong>dom([document.body,&#xA0;document.body])</strong>);<br>console.log(<strong>dom(document.body.children)</strong>);<br>console.log(<strong>dom(dom('body'))</strong>);\n<br><em>//dom().html()</em><br>console.log(<strong>dom('ul li:first-child').html('one')</strong>);<br>console.log(<strong>dom('ul li:first-child').html()&#xA0;===&#xA0;'one'</strong>);\n<br><em>//dom().text()</em><br>console.log(<strong>dom('ul li:last-child').text('three')</strong>);<br>console.log(<strong>dom('ul li:last-child').text()&#xA0;===&#xA0;'three'</strong>);\n<br><em>//dom().append()</em><br><strong>dom('ul').append('&lt;li&gt;4&lt;/li&gt;');<br>dom('ul').append(document.createElement('li'));<br>dom('ul').append(dom('li:first-child'));</strong>\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n <h2>12.9 Summary &amp; continuing on with dom.js</h2>\n<p>This chapter has been about creating a foundation to a jQuery like DOM library. If you'd like to continue studying the building blocks to a jQuery-like DOM library I would suggest checking out <a href=\"https://github.com/codylindley/hippojs\">hippo.js</a>, which is an exercise in re-creating the jQuery DOM methods for modern browsers. Both <a href=\"https://github.com/codylindley/domjs\">dom.js</a> and <a href=\"https://github.com/codylindley/hippojs\">hippo.js</a> make use of <a href=\"http://gruntjs.com/\">grunt</a>, <a href=\"http://qunitjs.com/\">QUnit</a>, and <a href=\"http://jshint.com/\">JS Hint</a> which I highly recommend looking into if building your own JavaScript libraries is of interest. In addition to the fore mentioned developer tools I highly recommending reading, \"<a href=\"http://coding.smashingmagazine.com/2012/10/09/designing-javascript-apis-usability/\">Designing Better JavaScript APIs</a>\". Now go build something for the DOM.</p>\n\n\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n</body>\n</div>"
    }, {
        "title": "Single page apps in depth",
        "url": "http://singlepageappbook.com/",
        "excerpt": "This free book is what I wanted when I started working with single page apps. It's not an API reference on a particular framework, rather, the focus is on discussing patterns, implementation choices&hellip;",
        "date_saved": "Thu Jul 28 20:11:02 EDT 2016",
        "html_file": "single_page_apps_in_depth.html",
        "png_file": "single_page_apps_in_depth.png",
        "md_file": "single_page_apps_in_depth.md",
        "content": "<div><div id=\"content\" class=\"post\">\n<p>This free book is what I wanted when I started working with single page apps. It's not an API reference on a particular framework, rather, the focus is on discussing patterns, implementation choices and decent practices.</p>\n\n<p>I'm taking a \"code and concepts\" approach to the topic - the best way to learn how to use something is to understand how it is implemented. My ambition here is to decompose the problem of writing a web app, take a fresh look at it and hopefully make better decisions the next time you make one.</p>\n\n<p>Update: the book is now also on <a href=\"https://github.com/mixu/singlepageappbook\">Github</a>. I'll be doing a second set of updates to the book later on. Right now, I'm working a new lightweight open source <a href=\"http://mixu.net/view.json/\">view layer implementation</a>, which has changed and clarified my thinking about the view layer.</p>\n\n<h3>Introduction</h3>\n\n<ul>\n <li><a href=\"http://singlepageappbook.com/goal.html\">Modern single page apps - an overview</a></li>\n</ul>\n\n<h3>Writing maintainable code</h3>\n\n\n\n<h3>Implementation alternatives: a look at the options</h3>\n\n<ul>\n <li><a href=\"http://singlepageappbook.com/detail1.html\">The view layer</a></li>\n <li><a href=\"http://singlepageappbook.com/detail2.html\">The model layer</a></li>\n</ul>\n\n<h3>Meditations on Models &amp; Collections</h3>\n\n\n\n<h3>Views - templating, behavior and event consumption</h3>\n\n\n\n\n\n\n \n \n \n <a href=\"http://disqus.com\" class=\"dsq-brlink\">comments powered by </a>\n\n </div>\n </div>"
    }, {
        "title": "Be: With 130+ Pre-Made Layouts the Hard Work was Already Done for You",
        "url": "http://davidwalsh.name/130-premade-layouts-hard-work",
        "excerpt": "Select a fully-customizable pre-made layout to serve as the foundation for your web page, and let Be Theme, do the heavy lifting. Imagine if you could choose among 130+ pre-made layouts like those&hellip;",
        "date_saved": "Thu Jul 28 20:11:04 EDT 2016",
        "html_file": "be_with_130_premade_layouts_the_hard_work_was_already_done_for_you.html",
        "png_file": "be_with_130_premade_layouts_the_hard_work_was_already_done_for_you.png",
        "md_file": "be_with_130_premade_layouts_the_hard_work_was_already_done_for_you.md",
        "content": "<div><article><p>Select a fully-customizable pre-made layout to serve as the foundation for your web page, and let <a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/splash/\">Be Theme</a>, do the heavy lifting. </p>\n<p>Imagine if you could choose among <i>130+ pre-made layouts</i> like those shown below, with <i>8 new ones being added each month</i>. It will be easy to find a layout that matches the web design project you have in mind, and these layouts are true productivity hacks. </p>\n<p>The can be installed with 1 click, no coding is necessary, and most of the design detail and the often time-consuming repetitive actions are taken care of by tools embedded in the theme. Better yet, Be&#x2019;s world-class support team is there to help you along the way.</p>\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/digital/\">DIGITAL</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1FBiIk0\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/1.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/surfing/\">SURFING</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1hThISG\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/2.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/webdesign/\">WEB DESIGN</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1Oak0tl\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/3.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/software/\">SOFTWARE</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1Oi8Anr\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/4.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/asg/\">ASG</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1QbfcCV\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/5.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/club/\">CLUB</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/1WPFezz\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/6.jpg\" alt=\"\"></a></p>\n\n\n<h3><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/space/\">SPACE</a></h3>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/7.jpg\" alt=\"\"></a></p>\n\n\n\n<h2>How to Edit a Pre-made Layout Quickly (1 click installation)</h2>\n<p>Watch the <a rel=\"nofollow\" href=\"https://www.youtube.com/watch?v=dw0boQYXhn8\">video</a>, which takes about a minute of your time, and discover how you can install a pre-made layout and initiate the editing process <i>in about the same amount of time it took to watch the video</i>. It is really that easy!</p>\n\n<iframe width=\"854\" height=\"480\" src=\"https://www.youtube.com/embed/dw0boQYXhn8\"></iframe>\n\n<p>The installation and editing processes seem to be happening at lightning speed, but you will find yourself creating pages at the very same pace in no time at all. Perform a design function once or twice, and you are well on your way to becoming an expert.</p>\n<p>Furthermore, the tools you have to work with, like the <b>Admin Panel</b> and the <b>Layout Configurator</b>, keep track of your design efforts, so you never have to go back because you&#x2019;ve lost track of where you are or what you did. Be Theme does that for you, as you move along a click at a time. The video offers just a small sampling of how easy this WordPress theme is to use.</p>\n\n\n<h2>Be Theme has more than 20 powerful core features</h2>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/8.jpg\" alt=\"\"></a></p>\n\n<p>Since every Be Theme layout is totally customizable, you could pick any one and get off to a good start. When you select one that closely matches your objective however, you will get off to an even faster start, and thanks to Be&#x2019;s more than 20 powerful core features, you can maintain your momentum until you are ready to present the end product to your client.</p>\n<p>The <b>Muffin Builder</b> is one of the easiest to use page builders you will find anywhere. It handles even the most complex pages with ease. You will be amazed at how quickly you can put a high-quality page together thanks to the <b>Shortcode Generator</b>, and the <b>Layout Configurator</b> makes the whole website building activity a nearly seamless operation.</p>\n<p>There are more than a dozen <b>header styles</b> and a set of <b>base grid configurations</b> to choose from, as well as a useful selection of <b>blog and portfolio configurations</b>. Virtually any element or configuration you select can be edited, so your design options are for all intents and purposes unlimited.</p>\n<p>Installing and editing a premade layout is a snap -- as you will see.</p>\n<h2>Show the Results to Your Client and Send Him an Invoice&#xA0;</h2>\n<p>It is worth mentioning at this point that one of Be&#x2019;s core features is that it is optimized for speed. It will do what you want it to do as fast as you can click, which means your client is in for a pleasant surprise. Instead of receiving a quality product within the scheduled time, he will be getting an outstanding product in much less time than anticipated.</p>\n<p><i>You can build a page in minutes</i>. Spend an extra minute or so for adjusting and polishing, and you can impress and delight your client with a web page that once took an hour or more to put together, and with less impressive results.</p>\n<p>Your client will be happy, and you will be pleased; just as is the case with these, and the vast majority of the other Be Theme users:</p>\n\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/9.png\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/10.png\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/11.png\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/12.png\" alt=\"\"></a></p>\n\n<h2>Customer Support: Always There When You Need It</h2>\n<p>If a problem should crop up, and you do need assistance, you will never have to put up with having to navigate a menu in order to speak to a real, live person, and you will not have to settle for a stock answer that isn&#x2019;t all much of a help. </p>\n<p>The first place to go should be Be&#x2019;s well-organized forum, where most of the commonplace questions have already been answered, as demonstrated in these examples:</p>\n\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/13.jpg\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/wpmay8be\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/14.jpg\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/wpmay8be\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/15.jpg\" alt=\"\"></a></p>\n<p><a rel=\"nofollow\" href=\"http://bawm.co/bvndlqer\"><img src=\"http://davidwalsh.name/demo/sponsored-be-images/16.jpg\" alt=\"\"></a></p>\n\n<p><a rel=\"nofollow\" href=\"http://themes.muffingroup.com/be/splash/\">Be Theme</a> is without a doubt the biggest WordPress theme ever; not only in terms of premade layouts, but in terms of the number of core features, the many design options open to you, and the number of totally-satisfied users. </p>\n<p>You will discover from the very start how much your <i>productivity will improve</i> because of what the premade layouts offer and the rapidity in which you can create a quality product. There is a <i>layout to fit virtually any web design product</i>, and new ones are being introduced each month. Watch the video, try a demo, and hop on board!</p></article><div class=\"article-block\"><div class=\"x x-long x-terciary\"><a href=\"http://dwf.tw/trackjs\"><img alt=\"Track.js Error Reporting\"></a></div></div><div class=\"article-block post-more\"><h2><a href=\"http://davidwalsh.name/tutorials/events\">Upcoming Events<i class=\"fa fa-arrow-circle-o-right\"></i></a></h2><ul class=\"post-list small-list\"><li><img class=\"post-image\" alt=\"Velocity Conference in New York\"></li></ul></div></div>"
    }, {
        "title": "clipboard.js",
        "url": "http://zenorocha.github.io/clipboard.js/",
        "excerpt": "Why Copy text to the clipboard shouldn't be hard. It shouldn't require dozens of steps to configure or hundreds of KBs to load. But most of all, it shouldn't depend on Flash or any bloated framework.&hellip;",
        "date_saved": "Thu Jul 28 20:11:05 EDT 2016",
        "html_file": "clipboardjs.html",
        "png_file": "clipboardjs.png",
        "md_file": "clipboardjs.md",
        "content": "<div><main class=\"wrap\">\n <h2 id=\"why\">Why</h2>\n\n <p>Copy text to the clipboard shouldn't be hard. It shouldn't require dozens of steps to configure or hundreds of KBs to load. But most of all, it shouldn't depend on Flash or any bloated framework.</p>\n\n <p>That's why clipboard.js exists.</p>\n\n <h2 id=\"install\">Install</h2>\n\n <p>You can get it on npm.</p>\n\n <pre><code class=\"js\">npm install clipboard --save</code></pre>\n\n <p>Or bower, too.</p>\n\n <pre><code class=\"js\">bower install clipboard --save</code></pre>\n\n <p>If you're not into package management, just <a href=\"https://github.com/zenorocha/clipboard.js/archive/master.zip\">download a ZIP</a> file.</p>\n\n <h2 id=\"setup\">Setup</h2>\n\n <p>First, include the script located on the <code>dist</code> folder.</p>\n\n <pre><code class=\"html\">&lt;script src=\"dist/clipboard.min.js\"&gt;&lt;/script&gt;</code></pre>\n\n <p>Now, you need to instantiate it using a DOM selector. This selector corresponds to the trigger element(s), for example <code>&lt;button class=\"btn\"&gt;</code>.</p>\n\n <pre><code class=\"js\">new Clipboard('.btn');</code></pre>\n\n <p>Internally, we need to fetch all elements that matches with your selector and attach event listeners for each one. But guess what? If you have hundreds of matches, this operation can consume a lot of memory.</p>\n\n <p>For this reason we use <a href=\"http://stackoverflow.com/questions/1687296/what-is-dom-event-delegation\">event delegation</a> which replaces multiple event listeners with just a single listener. After all, <a href=\"https://twitter.com/hashtag/perfmatters\">#perfmatters</a>.</p>\n\n <h2 id=\"usage\">Usage</h2>\n\n <p>We're living a <em>declarative renaissance</em>, that's why we decided to take advantage of <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_data_attributes\">HTML5 data attributes</a> for better usability.</p>\n\n <h3>Copy text from another element</h3>\n\n <p>A pretty common use case is to copy content from another element. You can do that by adding a <code>data-clipboard-target</code> attribute in your trigger element.</p>\n <p>The value you include on this attribute needs to match another's element selector.</p>\n\n \n\n <pre><code class=\"html\">&lt;!-- Target --&gt;\n&lt;input id=\"foo\" value=\"https://github.com/zenorocha/clipboard.js.git\"&gt;\n\n&lt;!-- Trigger --&gt;\n&lt;button class=\"btn\" data-clipboard-target=\"#foo\"&gt;\n &lt;img src=\"assets/clippy.svg\" alt=\"Copy to clipboard\"&gt;\n&lt;/button&gt;</code></pre>\n\n <h3>Cut text from another element</h3>\n\n <p>Additionally, you can define a <code>data-clipboard-action</code> attribute to specify if you want to either <code>copy</code> or <code>cut</code> content.</p>\n <p>If you omit this attribute, <code>copy</code> will be used by default.</p>\n\n \n\n <pre><code class=\"html\">&lt;!-- Target --&gt;\n&lt;textarea id=\"bar\"&gt;Mussum ipsum cacilds...&lt;/textarea&gt;\n\n&lt;!-- Trigger --&gt;\n&lt;button class=\"btn\" data-clipboard-action=\"cut\" data-clipboard-target=\"#bar\"&gt;\n Cut to clipboard\n&lt;/button&gt;</code></pre>\n\n <p>As you may expect, the <code>cut</code> action only works on <code>&lt;input&gt;</code> or <code>&lt;textarea&gt;</code> elements.</p>\n\n <h3>Copy text from attribute</h3>\n\n <p>Truth is, you don't even need another element to copy its content from. You can just include a <code>data-clipboard-text</code> attribute in your trigger element.</p>\n\n \n\n <pre><code class=\"html\">&lt;!-- Trigger --&gt;\n&lt;button class=\"btn\" data-clipboard-text=\"Just because you can doesn't mean you should &#x2014; clipboard.js\"&gt;\n Copy to clipboard\n&lt;/button&gt;</code></pre>\n\n <h2 id=\"advanced-usage\">Advanced Usage</h2>\n\n <p>If you don't want to modify your HTML, there's a pretty handy imperative API for you to use. All you need to do is declare a function, do your thing, and return a value.</p>\n\n <p>For instance, if you want to dynamically set a <code>target</code>, you'll need to return a Node.</p>\n\n <pre><code class=\"js\">new Clipboard('.btn', {\n target: function(trigger) {\n return trigger.nextElementSibling;\n }\n});</code></pre>\n\n <p>If you want to dynamically set a <code>text</code>, you'll return a String.</p>\n\n <pre><code class=\"js\">new Clipboard('.btn', {\n text: function(trigger) {\n return trigger.getAttribute('aria-label');\n }\n});</code></pre>\n\n <h2 id=\"events\">Events</h2>\n\n <p>There are cases where you'd like to show some user feedback or capture what has been selected after a copy/cut operation.</p>\n\n <p>That's why we fire custom events such as <code>success</code> and <code>error</code> for you to listen and implement your custom logic.</p>\n\n <pre><code class=\"js\">var clipboard = new Clipboard('.btn');\n\nclipboard.on('success', function(e) {\n console.info('Action:', e.action);\n console.info('Text:', e.text);\n console.info('Trigger:', e.trigger);\n\n e.clearSelection();\n});\n\nclipboard.on('error', function(e) {\n console.error('Action:', e.action);\n console.error('Trigger:', e.trigger);\n});</code></pre>\n\n <p>For a live demonstration, just open your console :)</p>\n\n <h2 id=\"browser-support\">Browser Support</h2>\n\n <p>This library relies on both <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Selection\">Selection</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\">execCommand</a> APIs. The second one is supported in the following browsers.</p>\n\n <ul class=\"support\">\n <li>\n <img src=\"http://zenorocha.github.io/clipboard.js/assets/images/chrome.png\" width=\"64\" alt=\"Chrome logo\">\n <p>Chrome 42+</p>\n </li><li>\n <img src=\"http://zenorocha.github.io/clipboard.js/assets/images/firefox.png\" width=\"64\" alt=\"Firefox logo\">\n <p>Firefox 41+</p>\n </li>\n <li>\n <img src=\"http://zenorocha.github.io/clipboard.js/assets/images/ie.png\" width=\"64\" alt=\"Internet Explorer logo\">\n <p>IE 9+</p>\n </li>\n <li>\n <img src=\"http://zenorocha.github.io/clipboard.js/assets/images/opera.png\" width=\"64\" alt=\"Opera logo\">\n <p>Opera 29+</p>\n </li>\n <li>\n <img src=\"http://zenorocha.github.io/clipboard.js/assets/images/safari.png\" width=\"64\" alt=\"Safari logo\">\n <p>Safari &#x2718;</p>\n </li>\n </ul>\n\n <p>Although copy/cut operations with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\">execCommand</a> aren't supported on Safari yet (including mobile), it gracefully degrades because <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Selection\">Selection</a> is supported.</p>\n\n <p>That means you can show a tooltip saying <code>Copied!</code> when <code>success</code> event is called and <code>Press Ctrl+C to copy</code> when <code>error</code> event is called because the text is already selected.</p>\n\n <p>For a live demonstration, open this site on Safari.</p>\n </main>\n\n \n\n \n \n\n \n \n\n \n \n</div>"
    }, {
        "title": "JavaScript animation, physics and input tracking",
        "url": "http://popmotion.io/",
        "excerpt": "Download API Guides Animation Tap it Physics Keep it up Input tracking",
        "date_saved": "Thu Jul 28 20:11:07 EDT 2016",
        "html_file": "javascript_animation_physics_and_input_tracking.html",
        "png_file": "javascript_animation_physics_and_input_tracking.png",
        "md_file": "javascript_animation_physics_and_input_tracking.md",
        "content": "<div>\n\n<header>\n <div class=\"container\">\n \n <nav class=\"site-nav\">\n\t<ul>\n\t\t<li>\n\t\t\t<a href=\"http://popmotion.io/download\">Download</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href=\"http://popmotion.io/api\">API</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href=\"http://popmotion.io/guides/get-started\">Guides</a>\n\t\t</li>\n\t</ul>\n</nav>\n </div>\n</header>\n\n\n<div id=\"main\" class=\"home\">\n\t\n\n\n <div class=\"container splash-examples\">\n \n <div class=\"container\">\n <div class=\"third animation\">\n <h3>Animation</h3>\n <div class=\"ball-area\">\n \n <p class=\"caption\">Tap it</p>\n </div>\n </div>\n <div class=\"third physics\">\n <h3>Physics</h3>\n <div class=\"ball-area\">\n \n <p class=\"caption\">Keep it up</p>\n </div>\n </div>\n <div class=\"third tracking\">\n <h3>Input tracking</h3>\n <div class=\"ball-area\">\n \n <p class=\"caption\">Throw it</p>\n </div>\n </div>\n </div>\n <a href=\"http://popmotion.io/guides/get-started\" class=\"get-started button cta clearfix\">Get started</a>\n </div>\n\n\n</div>\n\n<footer>\n <div class=\"container\">\n <span class=\"copyright\">\u00a9 2015 Popmotion Ltd</span>\n <ul class=\"social-media-links\">\n <li>\n <a href=\"http://github.com/Popmotion/popmotion\">GitHub</a>\n </li>\n <li>\n <a href=\"http://twitter.com/popmotionjs\">Twitter</a>\n </li>\n </ul>\n </div>\n</footer>\n\n</div>\n\n"
    }, {
        "title": "Learning jQuery",
        "url": "http://www.learningjquery.com/2015/10/use-jquery-to-create-a-simple-slider",
        "excerpt": "Oct 14 2015 All it takes are a few lines of code to make your own simple, lightweight content slider using jQuery -- no plugins necessary. First, use divs to separate your content and create each&hellip;",
        "date_saved": "Thu Jul 28 20:11:10 EDT 2016",
        "html_file": "learning_jquery.html",
        "png_file": "learning_jquery.png",
        "md_file": "learning_jquery.md",
        "content": "<div>\n \n\n\n\n\n\n\n<div id=\"content\">\n\n\n<div class=\"contents\">\n\n <div class=\"hentry\">\n\t\t\t<abbr class=\"postdate published\" title=\"2015-10-14T11:07:29+00:00\">\n\t\t\t <span class=\"month m-10\">Oct</span>\n\t\t\t <span class=\"day d-14\">14</span>\n <span class=\"year y-2015\">2015</span>\n </abbr>\n\n \t\t<div class=\"post\" id=\"post-1949\">\n \t\t\t\n\n \t\t \n \t\t \n \t \n \t\t\t<div class=\"p402_premium\"><div class=\"entrytext\">\n \t\t\t All it takes are a few lines of code to make your own simple, lightweight content slider using jQuery -- no plugins necessary.\n\nFirst, use divs to separate your content and create each slide. Make sure each of these divs has its own unique ID. Each div should also contain text or an image/icon with its own class that will be used to trigger the jQuery code.\n\n&#xA0;\n\n<div class=\"syntax_hilite\"><span class=\"langName\">HTML:</span><br><div id=\"html-1\">\n<div class=\"html\"><ol><li><p><span>&lt;</span>div id=\"slide-1\"<span>&gt;</span></p></li>\n<li><p>&#xA0; &#xA0; &#xA0;<span>&lt;</span>p<span>&gt;</span>First Slide<span>&lt;</span>/p<span>&gt;</span></p></li>\n<li><p><span>&lt;</span>/div<span>&gt;</span></p></li>\n<li><p><span>&lt;</span>div id=\"slide-2\" class=\"dormant-class\"<span>&gt;</span></p></li>\n<li><p>&#xA0; &#xA0; &#xA0;<span>&lt;</span>p<span>&gt;</span>Second Slide<span>&lt;</span>/p<span>&gt;</span></p></li>\n<li><p><span>&lt;</span>/div<span>&gt;</span></p></li>\n</ol></div>\n</div></div><br>\n\n&#xA0;\n\nAdd these lines to your CSS, and make sure that every slide except the first one is given the class \"dormant-class\", like in the example above, so that they are initially hidden.\n\n&#xA0;\n\n<div class=\"syntax_hilite\"><span class=\"langName\">CSS:</span><br><div id=\"css-2\">\n<div class=\"css\"><ol><li><p>.dormant-class<span>{</span></p></li>\n<li><p>&#xA0; &#xA0; &#xA0;<span>display</span><span>:</span> <span>none</span><span>;</span></p></li>\n<li>\n\n<li><p>.active-class<span>{</span></p></li>\n<li><p>&#xA0; &#xA0; &#xA0;<span>display</span><span>:</span> <span>block</span><span>;</span></p></li>\n<li>\n</ol></div>\n</div></div><br>\n\n&#xA0;\n\nHere's where the jQuery comes in. When the trigger (#arrow) is clicked, we're going to use jQuery to add the class \"dormant class\" to the first slide, and remove the class \"dormant-class\" while adding the class\"active-class\" to the second slide.\n\n&#xA0;\n\n<br>\n\n&#xA0;\n\nThe first slide will disappear as the second slide is displayed. To switch back to the first slide, the #slide-2 will have its own trigger (#arrow2), which will remove \"active-class\" and add \"dormant-class\" to the second slide, and remove \"dormant class\" from the first slide, making it active and visible once again.\n\n&#xA0;\n\n<br>\n\n&#xA0;\n\n\n<br>\n\n\n \t\t\t <div id=\"scripts\" class=\"scripts\"><a href=\"http://www.learningjquery.com/scripts-used-on-this-site\">Scripts Used on This Site</a></div> \t\t\t\t \t\t\t</div></div>\n\n </div>\n\t\t</div>\n\n\t\n\n\n\n\t\n</div>\n\n\n\n </div> \n </div>"
    }, {
        "title": "jwagner/smartcrop.js",
        "url": "https://github.com/jwagner/smartcrop.js/",
        "excerpt": "Smartcrop.js implements an algorithm to find good crops for images. Image: https://www.flickr.com/photos/endogamia/5682480447/ by N. Feans Demos Algorithm Overview Smartcrop.js works using fairly&hellip;",
        "date_saved": "Thu Jul 28 20:11:11 EDT 2016",
        "html_file": "jwagnersmartcropjs.html",
        "png_file": "jwagnersmartcropjs.png",
        "md_file": "jwagnersmartcropjs.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Smartcrop.js implements an algorithm to find good crops for images.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/1086f55f4396e6c34f076b8f4a43c083fc5253d1/687474703a2f2f3239612e63682f73616e64626f782f323031342f736d61727463726f702f6578616d706c652e6a7067\" target=\"_blank\"><img src=\"http://29a.ch/sandbox/2014/smartcrop/example.jpg\" alt=\"Example\"></a>\nImage: <a href=\"https://www.flickr.com/photos/endogamia/5682480447\">https://www.flickr.com/photos/endogamia/5682480447/</a> by N. Feans</p>\n\n<h2><a id=\"user-content-demos\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#demos\"></a>Demos</h2>\n\n\n\n<h2><a id=\"user-content-algorithm-overview\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#algorithm-overview\"></a>Algorithm Overview</h2>\n\n<p>Smartcrop.js works using fairly dumb image processing. In short:</p>\n\n<ol>\n<li>Find edges using laplace</li>\n<li>Find regions with a color like skin</li>\n<li>Find regions high in saturation</li>\n<li>Generate a set of candidate crops using a sliding window</li>\n<li>Rank them using an importance function to focus the detail in the center\nand avoid it in the edges. </li>\n<li>Output the candidate crop with the highest rank</li>\n</ol>\n\n<h2><a id=\"user-content-simple-example\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#simple-example\"></a>Simple Example</h2>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">SmartCrop</span>.<span class=\"pl-en\">crop</span>(image, {width<span class=\"pl-k\">:</span> <span class=\"pl-c1\">100</span>, height<span class=\"pl-k\">:</span> <span class=\"pl-c1\">100</span>}, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">result</span>){<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(result);});\n<span class=\"pl-c\">// {topCrop: {x: 300, y: 200, height: 200, width: 200}}</span></pre></div>\n\n<h2><a id=\"user-content-download-installation\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#download-installation\"></a>Download/ Installation</h2>\n\n<p><code>npm install smartcrop</code>\nor\n<code>bower install smartcrop</code>\nor just download <a href=\"https://raw.githubusercontent.com/jwagner/smartcrop.js/master/smartcrop.js\">smartcrop.js</a> from the git repo.</p>\n\n<h2><a id=\"user-content-cli--nodejs\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#cli--nodejs\"></a>CLI / Node.js</h2>\n\n<p>The <a href=\"https://github.com/jwagner/smartcrop-cli\">smartcrop-cli</a> offers command line interface to smartcrop.js. It is based on node.js and node-canvas. You can also view it as an example on how to use smartcrop.js from a node.js app.</p>\n\n<h2><a id=\"user-content-module-formats\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#module-formats\"></a>Module Formats</h2>\n\n<p>Supported:</p>\n\n<ul>\n<li>common js</li>\n<li>amd</li>\n<li>global export / window</li>\n</ul>\n\n<h2><a id=\"user-content-supported-browsers\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#supported-browsers\"></a>Supported Browsers</h2>\n\n<p>See <a href=\"http://caniuse.com/canvas\">caniuse.com/canvas</a></p>\n\n<h2><a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#api\"></a>API</h2>\n\n<p>The API is not yet finalized. Look at the code for details and expect changes.</p>\n\n<h3><a id=\"user-content-smartcropcropimage-options-callback\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#smartcropcropimage-options-callback\"></a>SmartCrop.crop(image, options, callback)</h3>\n\n<p>Crop image using options and call callback(result) when done.</p>\n\n<p><strong>image:</strong> anything ctx.drawImage() accepts, usually HTMLImageElement, HTMLCanvasElement or HTMLVideoElement. Keep in mind that <a href=\"https://en.wikipedia.org/wiki/Same-origin_policy\">origin policies</a> apply to the image source, and you may not use cross-domain images without <a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">CORS</a>.</p>\n\n<p><strong>options:</strong> see cropOptions</p>\n\n<p><strong>callback:</strong> function(cropResult)</p>\n\n<h3><a id=\"user-content-cropoptions\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#cropoptions\"></a>cropOptions</h3>\n\n<p><strong>debug:</strong> if true, cropResults will contain a debugCanvas</p>\n\n<p><strong>minScale:</strong> minimal scale of the crop rect, set to 1.0 to prevent smaller than necessary crops (lowers the risk of chopping things off).</p>\n\n<p><strong>width:</strong> width of the crop you want to use. </p>\n\n<p><strong>height:</strong> height of the crop you want to use.</p>\n\n<p>There are many more (for now undocumented) options available. Check the <a href=\"https://github.com/jwagner/smartcrop.js/blob/master/smartcrop.js#L32\">source</a> and know that they might change in the future.</p>\n\n<h3><a id=\"user-content-cropresult\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#cropresult\"></a>cropResult</h3>\n\n<div class=\"highlight highlight-source-js\"><pre>{\n topCrop<span class=\"pl-k\">:</span> crop,\n crops<span class=\"pl-k\">:</span> [crop]\n}</pre></div>\n\n<h3><a id=\"user-content-crop\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#crop\"></a>crop</h3>\n\n<div class=\"highlight highlight-source-js\"><pre>{\n x<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n y<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n width<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n height<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>\n}</pre></div>\n\n<h2><a id=\"user-content-tests\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#tests\"></a>Tests</h2>\n\n<p>You can run the tests using grunt test. Alternatively you can also just run grunt (the default task) and open http://localhost:8000/test/. \nThe test coverage for smartcrop.js is very limited at the moment. I expect to improve this as the code matures and the concepts solidify.</p>\n\n<h2><a id=\"user-content-benchmark\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#benchmark\"></a>Benchmark</h2>\n\n<p>There are benchmarks for both the browser (test/benchmark.html) and node (node test/benchmark-node.js [requires node-canvas])\nboth powered by <a href=\"http://benchmarkjs.com\">benchmark.js</a>.</p>\n\n<p>If you just want some rough numbers: It takes <strong>&lt; 100 ms</strong> to find a <strong>square crop</strong> of a <strong>640x427px</strong> picture on an i7.\nIn other words, it's fine to run it on one image, it's not cool to run it on an entire gallery on page load.</p>\n\n<h2><a id=\"user-content-contributors\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#contributors\"></a>Contributors</h2>\n\n\n\n<h2><a id=\"user-content-ports-alternatives\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#ports-alternatives\"></a>Ports, Alternatives</h2>\n\n\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/jwagner/smartcrop.js/#license\"></a>License</h2>\n\n<p>Copyright (c) 2014 Jonas Wanger, licensed under the MIT License (enclosed)</p>\n</article>\n </div>"
    }, {
        "title": "Jack000/Expose",
        "url": "https://github.com/Jack000/expose",
        "excerpt": "A simple static site generator for photoessays Intro If you're into photography, you probably have folders of images and videos like this: Expose is a Bash script that turns those images and videos&hellip;",
        "date_saved": "Thu Jul 28 20:11:13 EDT 2016",
        "html_file": "jack000expose.html",
        "png_file": "jack000expose.png",
        "md_file": "jack000expose.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>A simple static site generator for photoessays</p>\n\n<h3><a id=\"user-content-intro\" class=\"anchor\" href=\"https://github.com/Jack000/expose#intro\"></a>Intro</h3>\n\n<p>If you're into photography, you probably have folders of images and videos like this:</p>\n\n<p><a href=\"https://camo.githubusercontent.com/0c5919bdc927809f9c538a25f6434c381c3f1cc0/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f666f6c6465722e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/0c5919bdc927809f9c538a25f6434c381c3f1cc0/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f666f6c6465722e6a7067\" alt=\"a bunch of images\"></a></p>\n\n<p>Expose is a Bash script that turns those images <em>and videos</em> into a photoessay similar to <a href=\"http://jack.ventures\">jack.ventures</a> or <a href=\"http://jack.works\">jack.works</a> (my personal blogs)</p>\n\n<p>If you're not a fan of that look, a <a href=\"http://jack.ventures/sample/inner-mongolia\">Medium-style theme</a> is included</p>\n\n<p>tested on Windows/Cygwin, OSX, and should be fine on Linux</p>\n\n<h3><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/Jack000/expose#installation\"></a>Installation</h3>\n\n<p>The only dependency is Imagemagick. For videos FFmpeg is also required.</p>\n\n<p>download the repo and alias the script</p>\n\n<pre><code>alias expose=/script/location/expose.sh\n</code></pre>\n\n<p>for permanent use add this line to your ~/.profiles, ~/.bashrc etc depending on system</p>\n\n<h3><a id=\"user-content-basic-usage\" class=\"anchor\" href=\"https://github.com/Jack000/expose#basic-usage\"></a>Basic usage</h3>\n\n<pre><code>cd ~/folderofimages\nexpose\n</code></pre>\n\n<p>The script operates on your current working directory, and outputs a _site directory.\nConfiguration and settings can be edited in the expose.sh file itself</p>\n\n<h3><a id=\"user-content-flags\" class=\"anchor\" href=\"https://github.com/Jack000/expose#flags\"></a>Flags</h3>\n\n<pre><code>expose -d\n</code></pre>\n\n<p>The -d flag enables draft mode, where only a single low resolution is encoded. This can be used for a quick preview or for layout purposes.</p>\n\n<p>Generated images and videos are not overwritten, to do a completely clean build delete the existing _site directory first.</p>\n\n<h3><a id=\"user-content-adding-text\" class=\"anchor\" href=\"https://github.com/Jack000/expose#adding-text\"></a>Adding text</h3>\n\n<p>The text associated with each image is read from any text file with the same filename as the image, eg:</p>\n\n<p><a href=\"https://camo.githubusercontent.com/59c1bd2d9b24b44f2b051756c864e56aec4e777b/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f696d61676574657874322e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/59c1bd2d9b24b44f2b051756c864e56aec4e777b/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f696d61676574657874322e6a7067\" alt=\"images and text files\"></a></p>\n\n<h3><a id=\"user-content-sorting\" class=\"anchor\" href=\"https://github.com/Jack000/expose#sorting\"></a>Sorting</h3>\n\n<p>Images are sorted by alphabetical order. To arbitrarily order images, add a numerical prefix</p>\n\n<h3><a id=\"user-content-organization\" class=\"anchor\" href=\"https://github.com/Jack000/expose#organization\"></a>Organization</h3>\n\n<p>You can put images in folders to organize them. The folders can be nested any number of times, and are also sorted alphabetically. The folder structure is used to generate a nested html menu.</p>\n\n<p>To arbitrarily order folders, add a numerical prefix to the folder name. Any numerical prefixes are stripped from the url.</p>\n\n<p>Any folders, images or videos with an \"_\" prefix are ignored and excluded from the build.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/40aea267d55a3a0eb1101c8428922b27ac0fa795/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f666f6c646572732e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/40aea267d55a3a0eb1101c8428922b27ac0fa795/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f666f6c646572732e6a7067\" alt=\"folders\"></a></p>\n\n<h3><a id=\"user-content-text-metadata\" class=\"anchor\" href=\"https://github.com/Jack000/expose#text-metadata\"></a>Text metadata</h3>\n\n<p>YAML in the text file is read and made available to the theme. The variables depend on the theme used.</p>\n\n<h3><a id=\"user-content-theme-1-specific-options\" class=\"anchor\" href=\"https://github.com/Jack000/expose#theme-1-specific-options\"></a>Theme-1 specific options</h3>\n\n<pre><code>---\ntop: 30\nleft: 5\nwidth: 30\nheight: 20\ntextcolor: #ffffff\n---\n</code></pre>\n\n<p><a href=\"https://camo.githubusercontent.com/e546f55a30927f88cda5779086fcb3b04ed2a944/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f64696d656e73696f6e7661726961626c65732e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/e546f55a30927f88cda5779086fcb3b04ed2a944/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f64696d656e73696f6e7661726961626c65732e6a7067\" alt=\"content dimensions\"></a></p>\n\n<p>The units are in percentages</p>\n\n<pre><code>---\ntop: 12\nleft: 50\nwidth: 40\nheight: 50\npolygon:[{\"x\":5, \"y\":0},{\"x\":100, \"y\":0},{\"x\":100, \"y\":100},{\"x\":7, \"y\":55}, {\"x\":0, \"y\":16}]\ntextcolor: #ff9518\n---\n</code></pre>\n\n<p>Use a polygon to wrap text around shapes. The polygon is defined by 3 or more points in a JSON blob. Units are again in percentages.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/fc5efd36466185d1a53b9db22bf1623d5714f73e/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f706f6c79676f6e322e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/fc5efd36466185d1a53b9db22bf1623d5714f73e/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f706f6c79676f6e322e6a7067\" alt=\"content polygon\"></a></p>\n\n<h3><a id=\"user-content-theme-2-specific-options\" class=\"anchor\" href=\"https://github.com/Jack000/expose#theme-2-specific-options\"></a>Theme-2 specific options</h3>\n\n<pre><code>---\nwidth: 32.5\n---\n</code></pre>\n\n<p>In theme-2 the width variable acts on the image rather than the content. You can use this to tile images in a row:</p>\n\n<p><a href=\"https://camo.githubusercontent.com/919fd7aead88c860c1f981c91c69ccbf12e2b54b/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f77696474686f7074696f6e2e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/919fd7aead88c860c1f981c91c69ccbf12e2b54b/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f77696474686f7074696f6e2e6a7067\" alt=\"image row\"></a></p>\n\n<p>Clicking on each image shows it in full screen mode.</p>\n\n<p>Note that in this theme the text goes above its associated image, except the first image which is used as a masthead.</p>\n\n<h3><a id=\"user-content-metadata-file\" class=\"anchor\" href=\"https://github.com/Jack000/expose#metadata-file\"></a>Metadata file</h3>\n\n<p>If you want certain variables to apply to an entire gallery, place a metadata.txt (this is configurable) file in the gallery directory. eg. in metadata.txt:</p>\n\n<pre><code>width: 19 \n</code></pre>\n\n<p><a href=\"https://camo.githubusercontent.com/40035fba51571381b0637cb8237552385b4e165a/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f677269642e6a7067\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/40035fba51571381b0637cb8237552385b4e165a/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f677269642e6a7067\" alt=\"image grid\"></a></p>\n\n<p>This sets all image widths to form a grid. Metadata file parameters are overriden by metadata in individual posts.</p>\n\n<h3><a id=\"user-content-advanced-usage\" class=\"anchor\" href=\"https://github.com/Jack000/expose#advanced-usage\"></a>Advanced usage</h3>\n\n<h3><a id=\"user-content-video-options\" class=\"anchor\" href=\"https://github.com/Jack000/expose#video-options\"></a>Video options</h3>\n\n<p>Since we're using FFMpeg for video, we can leverage its filter framework for quick effects. This also saves a re-encode from a video editor workflow. Not all the FFmpeg options are applicable, but here are a few I found useful:</p>\n\n<pre><code>---\nvideo-options: -ss 10 -t 5\n---\n</code></pre>\n\n<p>This will cut the video 10 seconds from the start, with a duration of 5 seconds.</p>\n\n<pre><code>---\nvideo-filters: lut3d=file=fuji3510.cube\n---\n</code></pre>\n\n<p>If you're like me and shoot video in log profile, doing post work can be a pain. I like to globally apply a <a href=\"http://juanmelara.com.au/print-film-emulation-luts-for-download/\">film print emulation LUT</a> for a consistent look. Note that FFmpeg will look for the LUT file in the working directory you started the script in.\nFFmpeg does not support .look LUTs, so you'll have to convert them to one of .cube .3dl .dat or .m3d</p>\n\n<p><a href=\"https://camo.githubusercontent.com/47db3a017b300824804a24829b8d5b683651bbc7/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f6c757433642e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/47db3a017b300824804a24829b8d5b683651bbc7/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f6c757433642e706e67\" alt=\"3d LUT\"></a></p>\n\n<p>Here I use a nice low-contrast LUT I <a href=\"http://caseywilsondp.com/2015/03/25/a7s-slog2-rec709-lut/\">found online</a> with excellent highlight rolloff for a cinematic look.</p>\n\n<pre><code>---\nvideo-filters: deshake,unsharp=6:6:3,lutyuv=\"u=128:v=128\"\n---\n</code></pre>\n\n<p>Applies stabilization to the video and a slight sharpen filter, then converts to grayscale. Separate filters with commas.</p>\n\n<p>A full list of FFmpeg filters can be <a href=\"https://ffmpeg.org/ffmpeg-filters.html#Video-Filters\">found here</a></p>\n\n<h3><a id=\"user-content-image-options\" class=\"anchor\" href=\"https://github.com/Jack000/expose#image-options\"></a>Image options</h3>\n\n<p>Similar to videos, we can leverage the image editing features of Imagemagick.</p>\n\n<p>Things like cropping and color correction are very visual operations that are hard to do in command line. Most people would shoot in RAW and export as jpeg anyways, so a lot of ImageMagick's CLI options won't be very useful. However, it is very handy for non-destructively applying effects across an entire gallery, eg:</p>\n\n<pre><code>---\nimage-options: watermark.png -gravity SouthEast -geometry +50+50 -composite \n---\n</code></pre>\n\n<p>You can use this to apply a watermark on the bottom right corner, with a 50 pixel margin from the edge.</p>\n\n<pre><code>---\nimage-options: -sharpen 0x1.5\n---\n</code></pre>\n\n<p>Sharpens the image with a 1.5 pixel radius</p>\n\n<pre><code>---\nimage-options: -hald-clut transform.png\n---\n</code></pre>\n\n<p>Imagemagick does not read LUTs natively, but will accept a Hald color lookup image. This image can be created in photoshop or other graphics package by applying your LUT to the <a href=\"http://www.quelsolaar.com/technology/clut.html\">Hald identity CLUT image</a></p>\n\n<pre><code>---\nimage-options: -colorspace Gray -sigmoidal-contrast 5,50%\n---\n</code></pre>\n\n<p>Convert to a black-and-white image. Typically you would want to enhance contrast as well, which can be done by the sigmoidal contrast modifier. The first number controls contrast intensity.</p>\n\n<p>A full list of Imagemagick options can be <a href=\"http://www.imagemagick.org/script/command-line-options.php\">found here</a></p>\n\n<h3><a id=\"user-content-image-sequences\" class=\"anchor\" href=\"https://github.com/Jack000/expose#image-sequences\"></a>Image sequences</h3>\n\n<p>Timelapse and stop-motion are a great way to add motion to a scene. If your folder contains the key word \"imagesequence\" (this is configurable), the images in the folder will be converted to a video. Video options and filters may be applied to image sequences.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/93ac68246214694fbcf483c731788635e85c5cda/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f696d61676573657175656e63652e676966\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/93ac68246214694fbcf483c731788635e85c5cda/687474703a2f2f6a61636b2e776f726b732f6578706f7365696d616765732f696d61676573657175656e63652e676966\" alt=\"Image sequence\"></a></p>\n\n<p>By default the video is encoded at 24fps.</p>\n</article>\n </div>"
    }, {
        "title": "Quench",
        "url": "http://quenchjs.com/",
        "excerpt": "Gulp is a command-line JavaScript task runner that automates your web workflow by way of self-scripted tasks. Quench easily creates those self-scripted tasks based on your custom input. css CSS&hellip;",
        "date_saved": "Thu Jul 28 20:11:14 EDT 2016",
        "html_file": "quench.html",
        "png_file": "quench.png",
        "md_file": "quench.md",
        "content": "<div>\n\t<header>\n\t\t\n\t</header>\n\n\t\n\n\t<div id=\"about\">\n\t\t<div class=\"container\">\n\t\t\t<p><a href=\"http://gulpjs.com\">Gulp</a> is a command-line JavaScript task runner that automates your web workflow by way of self-scripted tasks. Quench easily creates those self-scripted tasks based on your custom input.</p>\n\t\t\t<div class=\"features\">\n\t\t\t\t<div class=\"feature\">\n\t\t\t\t\t<figure class=\"feature-image\">css</figure>\n\t\t\t\t\t<p class=\"feature-list\">\n\t\t\t\t\t\t<h2>CSS Automation</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>Autoprefix</li>\n\t\t\t\t\t\t\t<li>Compile pre-processors</li>\n\t\t\t\t\t\t\t<li>Minimize</li>\n\t\t\t\t\t\t\t<li>Remove unused CSS</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"feature\">\n\t\t\t\t\t<figure class=\"feature-image\">js</figure>\n\t\t\t\t\t<p class=\"feature-list\">\n\t\t\t\t\t\t<h2>JavaScript Automation</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>Compress</li>\n\t\t\t\t\t\t\t<li>Concatenate</li>\n\t\t\t\t\t\t\t<li>Convert ES6 to ES5</li>\n\t\t\t\t\t\t\t<li>Lint</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"feature\">\n\t\t\t\t\t<figure class=\"feature-image img\">img</figure>\n\t\t\t\t\t<p class=\"feature-list\">\n\t\t\t\t\t\t<h2>Images and Beyond</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>Compress Images</li>\n\t\t\t\t\t\t\t<li>Sync browsers and devices</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t\t<ins class=\"adsbygoogle\"></ins>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\t<div id=\"app\">\n\t\t<div class=\"container-large\">\n\t\t\t<div id=\"options\">\n\t\t\t\t<h2>Gulp Options</h2>\n\t\t\t\t\n\t\t\t\t\t<fieldset id=\"options-save-file\">\n\t\t\t\t\t <div class=\"fieldset-wrap\">\n\t\t\t\t\t <legend>Basic Options</legend>\n\t\t\t\t\t <div class=\"fieldset-group\">\n\t\t\t\t\t <div class=\"input-group\">\n\t\t\t\t\t <p class=\"input-field\">\n\t\t\t\t\t <label for=\"basic-gulpfile\">Only save gulpfile.js and package.json</label>\n\t\t\t\t\t </p>\n\t\t\t\t\t </div>\n\t\t\t\t\t </div>\n\t\t\t\t\t </div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t <div class=\"fieldset-wrap\">\n\t\t\t\t\t <legend>CSS</legend>\n\t\t\t\t\t <div class=\"fieldset-group\">\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t </div>\n\t\t\t\t\t </div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t <div class=\"fieldset-wrap\">\n\t\t\t\t\t <legend>JavaScript</legend>\n\t\t\t\t\t <div class=\"fieldset-group\">\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t </div>\n\t\t\t\t\t </div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t <div class=\"fieldset-wrap\">\n\t\t\t\t\t <legend>Images</legend>\n\t\t\t\t\t <div class=\"fieldset-group\">\n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t </div>\n\t\t\t\t\t </div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t <div class=\"fieldset-wrap\">\n\t\t\t\t\t <legend>BrowserSync</legend>\n\t\t\t\t\t \n\t\t\t\t\t </div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\t<div id=\"now-what\">\n\t\t<h2>Now what?</h2>\n\t\t<div class=\"container\">\n\t\t\t<div class=\"column\">\n\t\t\t\t<ol>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<p>Unzip the downloaded project files.</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<p>Use the command line to navigate to the project directory.</p>\n\t\t\t\t\t\t<p>On a Mac, launch Terminal. On a Windows machine, you\u2019re looking for Command Prompt.</p>\n\t\t\t\t\t\t<p>To change directories, type cd followed by a space and then the path to the project directory.</p>\n\t\t\t\t\t</li>\n\t\t\t\t</ol>\n\t\t\t</div>\n\t\t\t<div class=\"column\">\n\t\t\t\t<ol>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<p>Run <code>npm install</code>.</p>\n\t\t\t\t\t\t<p>Both <a href=\"http://nodejs.com\">Node</a> and <a href=\"http://gulpjs.com\">Gulp</a> are prerequisties for this and the following step.</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<p>Run <code>gulp</code>.</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<p>Code away!</p>\n\t\t\t\t\t</li>\n\t\t\t\t</ol>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"container\">\n\t\t\t<p class=\"disclaimer\">All the information on this website is published in good faith and for general information purpose only. We do not make any warranties about the completeness, reliability and accuracy of this information. Any action you take upon the information on our website is strictly at your own risk. and we will not be liable for any losses and damages in connection with the use of our website.</p>\n\t\t</div>\n\t</div>\n\n\t<footer>\n\t\t\n\t\t<p><a href=\"http://mattmodrowski.com/\">by Matt Modrowski</a></p>\n\t</footer>\n\n\t\n\t\n\t\n</div>\n"
    }, {
        "title": "How to split large audio files on Linux",
        "url": "https://www.howtoforge.com/tutorial/how-to-split-large-audio-files-on-linux/",
        "excerpt": "It is often the case that we want to split an &#x201C;one-piece&#x201D; audio recording into smaller files. A live concert could be broken down into songs so that you can burn it on a CD, or an&hellip;",
        "date_saved": "Thu Jul 28 20:11:16 EDT 2016",
        "html_file": "how_to_split_large_audio_files_on_linux.html",
        "png_file": "how_to_split_large_audio_files_on_linux.png",
        "md_file": "how_to_split_large_audio_files_on_linux.md",
        "content": "<div><div id=\"htfContentPage\">\n\n\n<p>It is often the case that we want to split an &#x201C;one-piece&#x201D; audio recording into smaller files. A live concert could be broken down into songs so that you can burn it on a CD, or an interview can be separated into thematic sections. Whatever the case, here are four different ways to do it:</p>\n\n<h2 id=\"brasero\">Brasero</h2>\n<p>Brasero which is present in most Linux distributions that use the GNOME desktop environment is able to do the job just fine. I am using the latest podcast from Resident Advisor to demonstrate the splitting of an audio file that exceed one hour in length. You can add the file on the &#x201C;new audio disk project&#x201D; screen and then select it. After having done that, you may press the &#x201C;cutter&#x201D; icon located on the top.</p>\n<p><a class=\"fancybox\" id=\"img-pic_1\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_1.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_1.png\"></a></p>\n<p>The slicer that opens up offers a set of options for the audio file splitting. You may use the playback feature to listen to the file and decide the slice points yourself, split tracks on a fixed number of length, split the file on a fixed number of parts, and finally let Brasero detect silence and auto-split the file (this may not work well in live recordings or DJ sessions where no silence is contained). You may toggle between those options by choosing them through the &#x201C;Method&#x201D; options menu.</p>\n<p><a class=\"fancybox\" id=\"img-pic_2\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_2.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_2.png\"></a></p>\n<p>If you're a KDE kind of guy, K3b offers a similar set of options for splitting audio files.</p>\n\n<h2 id=\"mpsplt\">Mp3splt</h2>\n<p>If Brasero's options aren't enough to achieve a good splitting, you can use Mp3splt which is a tool that offers a set of more advanced splitting options. Here are some examples on how to use Mp3splt meaningfully:</p>\n<p>a.) If there are silence points in your audio file, but there is just too much noise for Brasero to detect them, you can hop onto the &#x201C;Type of Split&#x201D; tab of Mp3splt and set the Threshold level at a higher point. This will render silence points recognizable by the software.</p>\n<p><a class=\"fancybox\" id=\"img-pic_3\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_3.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_3.png\"></a></p>\n<p>b.) Renaming every split file can be overwhelming, especially if the number of the resulting files is high. Mp3splt offers batch file naming with a good depth of options. These options can be found in the &#x201C;Preferences &gt; Tags&#x201D; tab. I used the source file as the basis and set options in regards to the upper and lower-case letters for each element of the name. Through the same menu, a genre tag can be defined which is important for the identification of audio in large collections.</p>\n<p><a class=\"fancybox\" id=\"img-pic_4\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_4.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_4.png\"></a></p>\n<p>c.) If you are using Audacity to locate the silence points through the waveform, you can save the labels and import them to Mp3splt as splitting points by pressing &#x201C;Ctrl+I&#x201D;. The tool can also use the popular .cue and .cddb playlist files to import splitting points.</p>\n\n<h2 id=\"audacity\">Audacity</h2>\n<p>When it comes to audio files, there's (almost) nothing that you can't do with Audacity and splitting an audio file isn't an exception to this. Start by marking the different parts of the recording and adding labels to them. You can do this by choosing &#x201C;Tracks &gt; Add Label at Selection&#x201D; on the top panel menu.</p>\n<p><a class=\"fancybox\" id=\"img-pic_5\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_5.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_5.png\"></a></p>\n<p>If you want some help into locating the end/start of songs, Audacity offers the ability to detect silence points as well. You may find this option on &#x201C;Analyze &gt; Silence Finder&#x201D;. The tool offers good setup options such as the volume threshold and duration.</p>\n<p><a class=\"fancybox\" id=\"img-pic_6\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_6.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_6.png\"></a></p>\n<p>The final step is to export the individual files. Click on &#x201C;File &gt; Export Multiple&#x201D; This will open up a new window from where you can choose the exported file format, location, labels type etc. After setting everything, press the &#x201C;Export&#x201D; button and you're done!</p>\n<p><a class=\"fancybox\" id=\"img-pic_7\" href=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/big/pic_7.png\"><img src=\"https://www.howtoforge.com/images/how-to-split-large-audio-files-on-linux/pic_7.png\"></a></p>\n<div>\n<p><img src=\"https://www.howtoforge.com/images/pdficon_small.png\"> <a href=\"https://www.howtoforge.com/subscription/\">view as pdf</a> | <img src=\"https://www.howtoforge.com/images/print.gif\"> <a href=\"https://www.howtoforge.com/subscription/\">print</a></p>\n</div>\n\n</div>\n \n \n\n \n\n\n\n \n \n\n</div>"
    }, {
        "title": "Setting up Master-Master Replication with MySQL on Debian 8 (Jessie)",
        "url": "https://www.howtoforge.com/tutorial/mysql-master_master-replication-on-debian-jessie/",
        "excerpt": "This tutorial describes a replicated MySQL setup (Mater/Master replication) with 2 nodes where data can be read and written to both nodes at the same time. MySQL takes care to replicate the data to&hellip;",
        "date_saved": "Thu Jul 28 20:11:18 EDT 2016",
        "html_file": "setting_up_mastermaster_replication_with_mysql_on_debian_8_jessie.html",
        "png_file": "setting_up_mastermaster_replication_with_mysql_on_debian_8_jessie.png",
        "md_file": "setting_up_mastermaster_replication_with_mysql_on_debian_8_jessie.md",
        "content": "<div><div id=\"htfContentPage\">\n\n\n<p>This tutorial describes a replicated MySQL setup (Mater/Master replication) with 2 nodes where data can be read and written to both nodes at the same time. MySQL takes care to replicate the data to the other node and ensures that primary auto increment keys don't collide.</p>\n<p>Since version 5, MySQL comes with built-in support for master-master replication, solving the problem that can happen with self-generated keys. In former MySQL versions, the problem with master-master replication was that conflicts arose immediately if node A and node B both inserted an auto-incrementing key on the same table. The advantages of master-master replication over the traditional master-slave replication are that you don't have to modify your applications to make write accesses only to the master, and that it is easier to provide high-availability because if the master fails, you still have the other master.</p>\n\n<h2 id=\"-preliminary-note\">1 Preliminary Note</h2>\n<p>In this tutorial I will show how to replicate the database <span class=\"system\">exampledb</span> from the server <span class=\"system\">server1.example.com</span> with the IP address <span class=\"system\">192.168.1.101</span>&#xA0;to the server <span class=\"system\">server2.example.com</span> with the IP address <span class=\"system\">192.168.1.102</span>&#xA0;and vice versa. Each system is the slave of the other master and the master of the other slave at the same time. Both systems are running Debian 8; however, the configuration should apply to almost all distributions with little or no modifications.</p>\n\n<h2 id=\"-installing-mysql-\">2 Installing MySQL 5.5</h2>\n<p>If MySQL isn't already installed on <span class=\"system\">server1</span> and <span class=\"system\">server2</span>, install it now:</p>\n<p class=\"highlight\">server1/server2:</p>\n<p class=\"command\">apt-get -y install mysql-server-5.5 mysql-client-5.5</p>\n<p>To make sure that the replication can work, we must make MySQL listen on all interfaces, therefore we comment out the line <span class=\"system\">bind-address = 127.0.0.1</span> in <span class=\"system\">/etc/mysql/my.cnf</span>:</p>\n<p><span class=\"highlight\">server1/server2:</span></p>\n<p class=\"command\">nano /etc/mysql/my.cnf</p>\n<pre>[...]\n# Instead of skip-networking the default is now to listen only on\n# localhost which is more compatible and is not less secure.\n#bind-address = 127.0.0.1\n[...]</pre>\n<p>Restart MySQL afterwards:</p>\n<p><span class=\"highlight\">server1/server2:</span></p>\n<p class=\"command\">service&#xA0;mysql restart</p>\n<p>Then check with</p>\n<p><span class=\"highlight\">server1/server2:</span></p>\n<p class=\"command\">netstat -tap | grep mysql</p>\n<p>that MySQL is really listening on all interfaces:</p>\n<p class=\"system\">netstat -tap | grep mysql<br>tcp 0 0 *:mysql *:* LISTEN 15437/mysqld<br>server1:~#</p>\n<p>Now we set up a replication user <span class=\"system\">slave2_user</span> that can be used by <span class=\"system\">server2</span> to access the MySQL database on <span class=\"system\">server1.</span></p>\n<p><span class=\"highlight\">server1:</span></p>\n<p>Login to the MySQL shell:</p>\n\n<p class=\"command\">mysql --defaults-file=/etc/mysql/debian.cnf</p>\n<p>On the MySQL shell, run the following commands:</p>\n<p><span class=\"highlight\">server1: </span></p>\n<p class=\"command\">GRANT REPLICATION SLAVE ON _data.json httpie_parse_url.sh links_data.json links_list.txt parse_urls_json.sh TO repl@'%' IDENTIFIED BY 'secretpassword';<br>FLUSH PRIVILEGES;<br>quit;</p>\n<p>Replace the word \"<em>secretpassword</em>\" with a secure password of your choice. Now we do the last two steps again on <span class=\"system\">server2</span>:</p>\n<p class=\"highlight\">server2:</p>\n<p class=\"command\">mysql --defaults-file=/etc/mysql/debian.cnf</p>\n<p class=\"command\"><span>GRANT REPLICATION SLAVE ON _data.json httpie_parse_url.sh links_data.json links_list.txt parse_urls_json.sh TO repl@'%' IDENTIFIED BY '</span><span>secretpassword</span><span>';</span><br>FLUSH PRIVILEGES;<br>quit;</p>\n<p><span>Replace the word \"</span><em>secretpassword</em><span>\" with a secure password here as well. Note down the passwords as we need them later.</span>&#xA0;</p>\n\n<h2 id=\"-some-notes\">3 Some Notes</h2>\n<p>In the following I will assume that both MySQL servers are empty (don't contain any database yet except of the 'mysql' database).</p>\n<p>If that's not the case on your server, then you have to lock and dump the databases on the first server and import them on the second one before you continue. Don't unlock the databases before the replication is setup. Below a few commands that show how to copy over all databases to a new server in case you don't start with a \"clean\" MySQL setup.</p>\n<p>Example on how to lock all database tables in a MySQL database.</p>\n<pre>FLUSH TABLES WITH READ LOCK;<br>SET GLOBAL read_only = ON;</pre>\n<p>&#xA0;Example on how to dump all databases into a file all_databases.sql.</p>\n<p class=\"command\">mysqldump --defaults-file=/etc/mysql/debian.cnf -cCeQ --hex-blob --quote-names --routines --events --triggers --all-databases -r all_databases.sql</p>\n<p>Example on how to import all tables on the second server from file all_databses.sql.</p>\n<p class=\"command\">mysql --defaults-file=/etc/mysql/debian.cnf &lt; all_databases.sql</p>\n\n<h2 id=\"-setting-up-replication\">4 Setting Up Replication</h2>\n<p>Now we set up master-master replication in <span class=\"system\">/etc/mysql/my.cnf</span>. The crucial configuration options for master-master replication are <span class=\"system\">auto_increment_increment</span> and <span class=\"system\">auto_increment_offset</span>:</p>\n<ul>\n<li><span class=\"system\">auto_increment_increment</span> controls the increment between successive AUTO_INCREMENT values.</li>\n<li><span class=\"system\">auto_increment_offset</span> determines the starting point for AUTO_INCREMENT column values.</li>\n</ul>\n<p>Let's assume we have N MySQL nodes (N=2 in this example), then <span class=\"system\">auto_increment_increment</span> has the value N on all nodes, and each node must have a different value for <span class=\"system\">auto_increment_offset</span> (1, 2, ..., N).</p>\n<p>Now let's configure our two MySQL nodes:</p>\n<p class=\"highlight\">server1:</p>\n<p class=\"command\">nano /etc/mysql/my.cnf</p>\n<p>Search for the section that starts with <span class=\"system\">[mysqld]</span>, and put the following options into it (commenting out all existing <b>conflicting</b> options):</p>\n<pre>[...]\n[mysqld]\n<br># Unique Server ID<br>server-id = 1<p># Do not replicate the following databases<br>binlog-ignore-db = mysql<br>replicate-ignore-db = mysql</p><p># Auto increment offset<br>auto-increment-increment = 2</p><p># Do not replicate sql queries for the local server ID<br>replicate-same-server-id = 0</p><p># Beginne automatisch inkrementelle Werte mit 1<br>auto-increment-offset = 1</p><p># Delete binlog data after 10 days<br>expire_logs_days = 10</p><p># Max binlog size<br>max_binlog_size = 500M</p><p># Binlog file path<br>log_bin = /var/log/mysql/mysql-bin.log</p><p>[...]</p></pre>\n<p>Then restart MySQL:</p>\n<p><span class=\"highlight\">server1:</span></p>\n<p class=\"command\">service&#xA0;mysql restart</p>\n<p>Now do the same on <span class=\"system\">server2</span>:</p>\n<p class=\"highlight\">server2:</p>\n<p class=\"command\">nano /etc/mysql/my.cnf</p>\n<pre>[...]<p># Unique Server ID<br>server-id = 2</p><p># Do not replicate the following databases<br>binlog-ignore-db = mysql<br>replicate-ignore-db = mysql</p><p># Auto increment offset<br>auto-increment-increment = 2</p><p># Do not replicate sql queries for the local server ID<br>replicate-same-server-id = 0</p><p># Beginne automatisch inkrementelle Werte mit 1<br>auto-increment-offset = 1</p><p># Delete binlog data after 10 days<br>expire_logs_days = 10</p><p># Max binlog size<br>max_binlog_size = 500M</p><p># Binlog file path<br>log_bin = /var/log/mysql/mysql-bin.log</p><p>[...]</p></pre>\n<p><span class=\"highlight\">server2:</span></p>\n<p class=\"command\">service&#xA0;mysql restart</p>\n<p>Next we lock the <span class=\"system\">exampledb</span> database on <span class=\"system\">server1</span>, find out about the master status of <span class=\"system\">server1</span>, create an SQL dump of <span class=\"system\">exampledb</span> (that we will import into <span class=\"system\">exampledb</span> on <span class=\"system\">server2</span> so that both databases contain the same data), and unlock the database so that it can be used again:</p>\n<p class=\"highlight\">server2:</p>\n<p>Now we start the replication on Server 2. Open the MySQL shell:</p>\n<p class=\"command\"><span>mysql --defaults-file=/etc/mysql/debian.cnf</span></p>\n<p><span>And execute the following SQL command to activate the replication from server1 to server2:</span></p>\n<pre><span>CHANGE MASTER TO MASTER_HOST='192.168.1.101', MASTER_USER='repl', MASTER_PASSWORD='secretpassword';</span></pre>\n<p>Replace <em>secretpassword</em>&#xA0;with the password for the <em>repl</em> MySQL user that you have set in chapter 2.</p>\n<p>Now check the slave status by executing the command \"show slave status\\G\" in the MySQL shell.</p>\n<p class=\"command\">show slave status\\G</p>\n<p>The output will be similar to this:</p>\n<pre>mysql&gt; show slave status\\G<br>*************************** 1. row ***************************<br> Slave_IO_State:<br> Master_Host: 192.168.1.101<br> Master_User: repl<br> Master_Port: 3306<br> Connect_Retry: 60<br> Master_Log_File: mysql-bin.000001<br> Read_Master_Log_Pos: 107<br> Relay_Log_File: mysqld-relay-bin.000003<br> Relay_Log_Pos: 253<br> Relay_Master_Log_File: mysql-bin.000001<br> Slave_IO_Running: No<br> Slave_SQL_Running: No<br> Replicate_Do_DB:<br> Replicate_Ignore_DB: mysql<br> Replicate_Do_Table:<br> Replicate_Ignore_Table:<br> Replicate_Wild_Do_Table:<br> Replicate_Wild_Ignore_Table:<br> Last_Errno: 0<br> Last_Error:<br> Skip_Counter: 0<br> Exec_Master_Log_Pos: 107<br> Relay_Log_Space: 410<br> Until_Condition: None<br> Until_Log_File:<br> Until_Log_Pos: 0<br> Master_SSL_Allowed: No<br> Master_SSL_CA_File:<br> Master_SSL_CA_Path:<br> Master_SSL_Cert:<br> Master_SSL_Cipher:<br> Master_SSL_Key:<br> Seconds_Behind_Master: NULL<br>Master_SSL_Verify_Server_Cert: No<br> Last_IO_Errno: 0<br> Last_IO_Error:<br> Last_SQL_Errno: 0<br> Last_SQL_Error:<br> Replicate_Ignore_Server_Ids:<br> Master_Server_Id: 1<br>1 row in set (0.00 sec)</pre>\n<p>The Lines that you should check are these:</p>\n<pre>Master_Host: 192.168.1.101<br>Master_User: repl<br>Master_Port: 3306<br>Master_Log_File: mysql-bin.000001<br>Relay_Log_File: mysqld-relay-bin.000003<br>Slave_IO_Running: No<br>Slave_SQL_Running: No</pre>\n<p>Now start the replication with this command on the MySQL shell:</p>\n<p class=\"command\">start slave;</p>\n<p>and then check the slave status again:</p>\n<p class=\"command\"><span>show slave status\\G</span></p>\n<p>The following two lines should show \"yes\" now:</p>\n<pre>Slave_IO_Running: Yes<br>Slave_SQL_Running: Yes<br>Seconds_Behind_Master: 0</pre>\n<p>If \"Seconds_Behind_Master\" is not 0, then wait a few seconds and check the status again. This field shows if master and slave are in sync.</p>\n<p>For the next step, we need to know the values of \"Master_Log_File\" and \"Read_Master_Log_Pos\" the \"<span>show slave status\\G\" command. In my case these are:</span></p>\n<pre><span>Master_Log_File: mysql-bin.000001<br>Read_Master_Log_Pos: 107<br></span></pre>\n<p>Write down the values that you get on your server, we need it for the next step on server 1.</p>\n<p>Afterward you can leave the MySQL shell:</p>\n<p class=\"command\">quit</p>\n\n<p><span class=\"highlight\">server1:</span></p>\n<p>We continue on the first server,&#xA0;open the MySQL shell on server1:</p>\n<p class=\"command\"><span>mysql --defaults-file=/etc/mysql/debian.cnf</span></p>\n<p>And execute the following MySQL command:</p>\n<pre>CHANGE MASTER TO MASTER_HOST='192.168.1.102', MASTER_USER='repl', MASTER_PASSWORD='secretpassword', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=107;</pre>\n<p>You have to replace a few things in the above command:</p>\n<ol>\n<li>The IP address has to be the IP of your second MySQL server.</li>\n<li>The password \"secretpassword\" has to be the one that you have choosen in chapter 2 for the user repl.</li>\n<li>The MASTER_LOG_FILE and MASTER_LOG_POS have to be the values that we have written down in the last step.</li>\n</ol>\n<p>Now check with:</p>\n<p class=\"command\"><span>show slave status\\G</span></p>\n<p>on the MySQL shell if there are no errors.</p>\n<pre>mysql&gt; show slave status\\G<br>*************************** 1. row ***************************<br> Slave_IO_State:<br> Master_Host: 192.168.1.102<br> Master_User: repl<br> Master_Port: 3306<br> Connect_Retry: 60<br> Master_Log_File: mysql-bin.000001<br> Read_Master_Log_Pos: 107<br> Relay_Log_File: mysqld-relay-bin.000001<br> Relay_Log_Pos: 4<br> Relay_Master_Log_File: mysql-bin.000001<br> Slave_IO_Running: No<br> Slave_SQL_Running: No<br> Replicate_Do_DB:<br> Replicate_Ignore_DB: mysql<br> Replicate_Do_Table:<br> Replicate_Ignore_Table:<br> Replicate_Wild_Do_Table:<br> Replicate_Wild_Ignore_Table:<br> Last_Errno: 0<br> Last_Error:<br> Skip_Counter: 0<br> Exec_Master_Log_Pos: 107<br> Relay_Log_Space: 107<br> Until_Condition: None<br> Until_Log_File:<br> Until_Log_Pos: 0<br> Master_SSL_Allowed: No<br> Master_SSL_CA_File:<br> Master_SSL_CA_Path:<br> Master_SSL_Cert:<br> Master_SSL_Cipher:<br> Master_SSL_Key:<br> Seconds_Behind_Master: NULL<br>Master_SSL_Verify_Server_Cert: No<br> Last_IO_Errno: 0<br> Last_IO_Error:<br> Last_SQL_Errno: 0<br> Last_SQL_Error:<br> Replicate_Ignore_Server_Ids:<br> Master_Server_Id: 0<br>1 row in set (0.00 sec)</pre>\n<p>And start the slave.</p>\n<p class=\"command\"><span>start slave;</span></p>\n<p>Check the slave status again:</p>\n<p class=\"command\"><span>show slave status\\G</span></p>\n<p>The following two lines should show \"yes\" now:</p>\n<pre>Slave_IO_Running: Yes<br>Slave_SQL_Running: Yes</pre>\n<p>Afterward you can leave the MySQL shell:</p>\n<p class=\"command\">quit</p>\n<p>If nothing went wrong, MySQL master-master replication should now be working. If it isn't, please check <span class=\"system\">/var/log/syslog</span> for MySQL errors on <span class=\"system\">server1</span> and <span class=\"system\">server2</span>.</p>\n\n<h2 id=\"-test-the-replication\">5 Test the Replication</h2>\n<p>&#xA0;Now it's time to test our replication setup. I will create a database&#xA0;<span>exampledb1 on server1 and then check on server2 if the database has been replicated to the second server:</span></p>\n<p class=\"highlight\">server1:</p>\n<p><span>Login to the MySQL console on server1 and create the database:</span></p>\n<p class=\"command\"><span>mysql --defaults-file=/etc/mysql/debian.cnf</span></p>\n<pre>CREATE DATABASE exampledb1;</pre>\n<p><span class=\"highlight\">server2</span></p>\n<p>Now login to the MySQL console on server2 and check if exampledb1 exists there now:</p>\n<p class=\"command\"><span>mysql --defaults-file=/etc/mysql/debian.cnf</span></p>\n<pre>show databases;</pre>\n<p>As we can see, the new database shows up on server2 as well.</p>\n<pre>mysql&gt; show databases;<br>+--------------------+<br>| Database |<br>+--------------------+<br>| information_schema |<br>| exampledb1 |<br>| mysql |<br>| performance_schema |<br>+--------------------+<br>4 rows in set (0.00 sec)</pre>\n<p>Next I'll test if the replication works in the other direction as well. We are still logged in on server2 and create there a database exampledb2:</p>\n<pre>CREATE DATABASE exampledb2;</pre>\n<p>Now go back to server1 and run \"show databases\" in the MySQL console:</p>\n<p><span class=\"highlight\">server1</span></p>\n<pre>show databases;</pre>\n<p>The result shows our new database exampledb2, so the replication is working in both directions.</p>\n<pre>mysql&gt; show databases;<br>+--------------------+<br>| Database |<br>+--------------------+<br>| information_schema |<br>| exampledb1 |<br>| exampledb2 |<br>| mysql |<br>| performance_schema |<br>+--------------------+<br>5 rows in set (0.01 sec)</pre>\n\n\n<ul>\n<li>MySQL: <a href=\"http://www.mysql.com\" target=\"_blank\">http://www.mysql.com</a></li>\n<li>Debian: <a href=\"http://www.debian.org/\" target=\"_blank\">http://www.debian.org</a></li>\n</ul>\n<div>\n<p><img src=\"https://www.howtoforge.com/images/pdficon_small.png\"> <a href=\"https://www.howtoforge.com/subscription/\">view as pdf</a> | <img src=\"https://www.howtoforge.com/images/print.gif\"> <a href=\"https://www.howtoforge.com/subscription/\">print</a></p>\n</div>\n\n</div>\n \n \n</div>"
    }, {
        "title": "How to Convert Videos in Linux Using the Command Line",
        "url": "http://www.linux.com/learn/tutorials/857788-how-to-convert-videos-in-linux-using-the-command-line",
        "excerpt": "Linux users don't need to transcode video files, because they have VLC and many other apps at their disposal that can play almost any media format out there. However, if you want to play videos on&hellip;",
        "date_saved": "Thu Jul 28 20:11:20 EDT 2016",
        "html_file": "how_to_convert_videos_in_linux_using_the_command_line.html",
        "png_file": "how_to_convert_videos_in_linux_using_the_command_line.png",
        "md_file": "how_to_convert_videos_in_linux_using_the_command_line.md",
        "content": "<div><div class=\"article-content\">\n\n<p><img src=\"http://www.linux.com/images/stories/66866/Swapnil-cli-presets.jpg\" width=\"550\" alt=\"Swapnil-cli-presets\" title=\"Figure 1: Handbrake presets.\" class=\"caption\">Linux users don't need to transcode video files, because they have VLC and many other apps at their disposal that can play almost any media format out there. However, if you want to play videos on mobile devices such as your iPhone or iPad, or if you run streaming servers, then transcoding your videos into supported formats becomes essential.</p>\n<p>In a previous <a href=\"http://www.linux.com/learn/tutorials/852760-how-to-convert-multimedia-in-linux\">article</a>, I wrote about some GUI tools that can transcode videos with ease. There was a demand for CLI (command-line interface) tools for the same job. I confess that even if I ran a headless file server at home, I never really bothered to do it via an SSH session. I would mount the removable drive on my desktop and convert files using GUI tools. It's never late to do it differently.</p>\n<p dir=\"ltr\">In this article, I will share how I transcode video in Linux using CLI tools. Just keep one point in mind: this is just one of the &#x201C;many&#x201D; ways you can do it in Linux. There are dozens of such tools out there, and I am covering the one that I frequently use, because it&#x2019;s easy and I&#x2019;ve been using it for a long time. Some of the popular tools include ffmpeg, mencoder, and my favorite Handbrake. In this article, I will show how to use Handbrake to convert video files.</p>\n<h3 dir=\"ltr\">Using Handbrake to Transcode</h3>\n<p dir=\"ltr\">First you need to install the &#x201C;Handbrake CLI&#x201D; packages on your system. Most major distributions such as openSUSE, Arch, Fedora, and Ubuntu have this in their main repositories. If not, then you can enable the necessary third-party repo and install the software.</p>\n<p dir=\"ltr\">Now that Handbrake is installed, let&#x2019;s take a closer look. First, open the terminal. This is the command you will need to convert any file:</p>\n<pre dir=\"ltr\">HandBrakeCLI - i PATH-OF-SOURCE-FILE -o NAME-OF-OUTPUT-FILE --\"preset-name\"</pre>\n<p dir=\"ltr\">Ok, this is not the only command you can use; there are different ways of doing it. For example, you can give Handbrake detailed instructions on how it should deal with audio, video, what bitrate it should use, and what codec it should deploy, but that would become intimidating for a new user, and I like to keep things simple. So, I use the above pattern.</p>\n<p dir=\"ltr\">In the above command &#x201C;i&#x201D; stands for input and &#x201C;o&#x201D; stands for output here. It's self-explanatory that you have to provide the path of the source file and the destination where you want to save the converted file. If you want to keep the transcoded file in the same folder, then just give the name of the file. Keep in mind that you do have to give the name and extension of the output file.</p>\n<p dir=\"ltr\">The \"Preset Name\" option is the reason I use Handbrake over others. If you have used the GUI version of Handbrake (as you can see in this <a href=\"http://www.linux.com/learn/tutorials/852760-how-to-convert-multimedia-in-linux\">article</a>), it comes with different presets so you can transcode your video for the targeted devices. If you don't use the preset (and I am not sure why you should not), then you will have to specify every single thing as I explained above and that, in my opinion, is overkill.</p>\n<p dir=\"ltr\">If you want to use the presets, it's extremely easy to find what you need, just run this command:</p>\n<pre dir=\"ltr\">[<a href=\"mailto:swapnil@arch%20~\">swapnil@arch ~</a>]$ HandBrakeCLI --preset-list</pre>\n<p>This will give a long and detailed output of all the available presets (see Figure 1 above).</p>\n<p dir=\"ltr\">You will notice presets for iPhone, iPod, iPad, Apple TV, and other such devices. I use the last preset -- \"High Profile&#x201D; -- for two reasons: 1) In my experience, it offers the best quality; 2) It will work across devices -- from mobile to HDTV. If you run Kodi instead of Plex server, then I suggest this profile, because Kodi doesn't transcode videos on the server side.</p>\n<h3 dir=\"ltr\">Let's Do It</h3>\n<p dir=\"ltr\">I downloaded the &#x201C;flv&#x201D; format of a Linux Foundation video called<em> Distributed Genius</em> and wanted to transcode it into .mp4 format, which is the format that plays everywhere -- from Mac OS X to iPad and Kodi (Linux plays everything, so I am not worried about it).</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/swapnil-encoding-crop.jpg\" width=\"550\" alt=\"swapnil-encoding-crop\" title=\"Figure 2: Handbrake in action.\" class=\"caption\">The file was downloaded to the Downloads folder in my home directory, and I wanted to save the transcoded file in the Videos folder, so this is the command I ran:</p>\n<pre dir=\"ltr\">[<a href=\"mailto:swapnil@arch%20~\">swapnil@arch ~</a>]$ HandBrakeCLI -i /home/swapnil/The\\ Distributed \\ Genius.flv -o /home/swapnil/Videos/the_dstributed_genius.mp4 --preset=\"High Profile\"</pre>\n<p dir=\"ltr\">Lo and behold, Handbrake will start transcoding your video (Figure 2). Then, HandBrake will tell you once the transcoding is finished (Figure 3).</p>\n<p dir=\"ltr\"><img src=\"http://www.linux.com/images/stories/66866/swapnil-encode-finished.jpg\" width=\"550\" alt=\"swapnil-encode-finished\" title=\"Figure 3: Transcoding is complete.\" class=\"caption\"></p>\n<p dir=\"ltr\">So, if you are planning to transcode some video, Handbrake is my easy to use, go-to solution. In the future, I will talk about other CLI tools for performing the same task. Let me know which tools you use, in the comments below.</p></div>\n\n\n\n\n\n\n\n\t\t\t\t \n\n\n\t\t\t\t\n\t\t\t\t</div>"
    }, {
        "title": "httpie: A CLI http client that will make you smile",
        "url": "http://radek.io/2015/10/20/httpie/",
        "excerpt": "Good tools make great craftsmen. Just as a sculptor owns a range of different chisels and hammers to remove the precise amount of marble at a time, we programmers need a repertoire of little helpers&hellip;",
        "date_saved": "Thu Jul 28 20:11:21 EDT 2016",
        "html_file": "httpie_a_cli_http_client_that_will_make_you_smile.html",
        "png_file": "httpie_a_cli_http_client_that_will_make_you_smile.png",
        "md_file": "httpie_a_cli_http_client_that_will_make_you_smile.md",
        "content": "<div><section class=\"post-content\">\n <p>Good tools make great craftsmen. Just as a sculptor owns a range of different\nchisels and hammers to remove the precise amount of marble at a time, we\nprogrammers need a repertoire of little helpers that will take the mundane\ntasks out of the way so we can focus on our art.</p>\n\n<p>What makes a good programming tool? I say that it needs to be focused on doing\nwhatever it was designed to do <em>exceptionally well</em>. Just exactly what you\nneed, without compromises. There&#x2019;s a whole lot of other things different people\nmight expect from their tools and that&#x2019;s why there are so many.</p>\n\n<p>Surely, the sculptor would be able to get the statue done with just a\none-size-fits-all chisel and hammer. It might be a bit rough, but still a\nbeautiful piece. But it would probably take ages to complete, with periods of\nhorrible frustration when carving the eyelids with a clearly inadequate tool.</p>\n\n<p>If you&#x2019;re doing back-end web development, <a href=\"http://httpie.org/\">httpie</a> might be\none of the tools that are just right for you.</p>\n\n<h2 id=\"what-is-it\">What is it?</h2>\n\n<p><strong>httpie</strong> is a command-line http client, much like cURL or wget. Written\nentirely in Python (using\n<a href=\"http://docs.python-requests.org/en/latest/\">requests</a> for the backend and\n<a href=\"http://pygments.org/\">pygments</a> for syntax highlighting), it&#x2019;s well portable\nto many platforms, including the big three: Windows, Linux and OSX.</p>\n\n<p>The first version was published by <a href=\"https://twitter.com/jkbrzt\">Jakub Roztocil</a>\nin 2012. And what really sets it apart is its user interface. It extends the\nbasic functions of curl or wget with things like pretty-printing and\nsyntax-highlighting that make all the difference. It recognises a few\nmost-commonly used formats, such as JSON and HTML and processes the output\naccordingly. All that from the comfort of your terminal.</p>\n\n<p>This is how it looks:</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/upstream-example.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/upstream-example.png\" alt=\"httpie vs. curl\">\n </a>\n <figcaption>\n <strong>httpie vs. curl</strong>: A comparison. (<a href=\"https://github.com/jkbrzt/httpie\">Source</a>)\n </figcaption>\n</figure>\n\n<p><strong>httpie</strong> is open-source, distributed under the terms of the BSD licence.\nCheck out Jakub&#x2019;s <a href=\"https://github.com/jkbrzt/httpie\">repository on Github</a> to\nsee the code and contribute!</p>\n\n<h2 id=\"where-do-i-get-it\">Where do I get it?</h2>\n\n<p>The easiest way to get <strong>httpie</strong> is from <a href=\"https://pypi.python.org/pypi\">PyPI</a>\nusing the following cross-platform command:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">pip install httpie</code></pre></figure>\n\n<p>If you prefer using OS-level packaging instead, <strong>httpie</strong> is widely available\nas a package in many Linux distros and <a href=\"http://brew.sh/\">Homebrew</a> for OSX too.</p>\n\n<p>Check out all your options in the <a href=\"https://github.com/jkbrzt/httpie#installation\">project&#x2019;s\nREADME</a>.</p>\n\n<h2 id=\"how-it-works\">How it works?</h2>\n\n<p>The interface isn&#x2019;t the simplest &#x2014;&#x2014; the http protocol has many things that need\nto be covered, after all. But the design is intuitive and it <em>makes sense</em> in a\nway that you&#x2019;ll remember it the first time you look at it. See the synopsis of\nthe <code class=\"highlighter-rouge\">http</code> command below:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http OPTS] METHOD] URL REQUEST_ITEMS...]</code></pre></figure>\n\n<p>The only mandatory argument is the <strong>URL</strong>. Optionally, you can choose the\nmethod and provide several <em>request items</em> &#x2014;&#x2014; additional parameters for your\nrequests. These might include extra headers, POST data, URL parameters, form\nfields and more. The <code class=\"highlighter-rouge\">http</code> command also understands a variety of <code class=\"highlighter-rouge\">--options</code>\nthat affect both how your request will and the response will be handled.</p>\n\n<p>The most basic usage therefore looks like this (mind you, there&#x2019;s no <em>ie</em> at\nthe end of the command):</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http http://radek.io/</code></pre></figure>\n\n<p>The method falls back to <strong>GET</strong> by default, as you would probably expect, and\nGitHub&#x2019;s servers will be serving you the content of my website shortly after.\nThe headers are printed out along with the response; pretty simple.</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/basic.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/basic.png\" alt=\"httpie in the terminal\">\n </a>\n <figcaption>\n <strong>httpie</strong>: Downloading my homepage.\n </figcaption>\n</figure>\n\n<h2 id=\"more-examples\">More examples</h2>\n\n<p>This is great, but <strong>httpie</strong> can do a whole lot more. You&#x2019;ll appreciate the\nconvenience, particularly when sending requests slightly more elaborate than the\none above. Check out the following examples.</p>\n\n<h4 id=\"url-parameters\">URL parameters</h4>\n\n<p>One of the things you can add to the request with <em>request items</em> are GET\nparameters. Use two <em>equals</em> signs between the name of the parameter and its\nvalue and httpie will take care of the rest.</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http https://httpbin.org/get <p class=\"nv\">foo</p>bar <p class=\"nv\">wicked</p>witch</code></pre></figure>\n\n<p>The above command will produce something like this:</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/get.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/get.png\" alt=\"httpie GET example\">\n </a>\n <figcaption>\n <strong>Example 1</strong>: Adding GET parameters.\n </figcaption>\n</figure>\n\n<h4 id=\"post\">POST</h4>\n\n<p>When sending JSON data with a POST request, you can specify key-value parts of\nthe payload using a similar convention, but delimited with a single <em>equals</em>\nsign. When preceded by a colon, the value is interpreted as a non-string,\nallowing you to pass over numbers, arrays and even whole objects.</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http POST https://httpbin.org/post <p class=\"nv\">wicked</p>witch casts:<p class=\"s1\">'[\"spells\", \"curses\"]'</p> --json</code></pre></figure>\n\n<p>Here&#x2019;s the output:</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/post.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/post.png\" alt=\"httpie POST example\">\n </a>\n <figcaption>\n <strong>Example 2</strong>: Sending a JSON request using POST.\n </figcaption>\n</figure>\n\n\n\n<p>A colon on its own makes <strong>httpie</strong> interpret the particular <em>request item</em> as\nan additional header, attaching it to the request.</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http GET https://httpbin.org/headers User-Agent:<p class=\"s1\">'Wicked Witch 1.0'</p></code></pre></figure>\n\n<p>This is what I got in my terminal:</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/headers.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/headers.png\" alt=\"httpie custom headers example\">\n </a>\n <figcaption>\n <strong>Example 3</strong>: Adding custom headers.\n </figcaption>\n</figure>\n\n<h4 id=\"authentication\">Authentication</h4>\n\n<p>One of the many options allows you to get past basic auth as follows:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">http GET https://httpbin.org/basic-auth/wicked/witch -a wicked:witch</code></pre></figure>\n\n<p>And here&#x2019;s the output:</p>\n\n<figure>\n <a href=\"http://radek.io/assets/images/posts/httpie/basic-auth.png\">\n <img src=\"http://radek.io/assets/images/posts/httpie/basic-auth.png\" alt=\"httpie basic auth example\">\n </a>\n <figcaption>\n <strong>Example 4</strong>: Basic auth with httpie.\n </figcaption>\n</figure>\n\n<p>This was of course just the tip of the iceberg. Head over to the <a href=\"https://github.com/jkbrzt/httpie/blob/master/README.rst\">project&#x2019;s\nREADME</a> or the\ncommand&#x2019;s <code class=\"highlighter-rouge\">--help</code> for more examples and detailed explanations.</p>\n\n\n\n<p>Whether you need to automate parts of your workflow with a quick bash script or\ntest something while developing an API, <strong>httpie</strong> is a great addition to your\nvirtual toolbox. It can&#x2019;t really do much more than <code class=\"highlighter-rouge\">curl</code> or <code class=\"highlighter-rouge\">wget</code>, but it&#x2019;s a\nwhole lot nicer. Don&#x2019;t use a large hammer for the eyelids, give\n<a href=\"https://github.com/jkbrzt/httpie\">httpie</a> a go!</p>\n\n<p>Looking for more awesome tools? Check out my previous posts about\n<a href=\"http://radek.io/2014/08/25/ack/\">ack</a> and\n<a href=\"http://radek.io/2014/03/30/tco/\">tco</a>.</p>\n\n </section>\n\n \n\n \n\n </div>"
    }, {
        "title": "Dokku - The smallest PaaS implementation you've ever seen",
        "url": "http://progrium.viewdocs.io/dokku/installation/",
        "excerpt": "This document is for dokku's development version, which can be significantly different from previous releases. For older releases, use the version selector floating in the bottom right corner of this&hellip;",
        "date_saved": "Thu Jul 28 20:11:23 EDT 2016",
        "html_file": "dokku__the_smallest_paas_implementation_youve_ever_seen.html",
        "png_file": "dokku__the_smallest_paas_implementation_youve_ever_seen.png",
        "md_file": "dokku__the_smallest_paas_implementation_youve_ever_seen.md",
        "content": "<div>\n <p class=\"dev-warning doc-floating-warning\">\n This document is for dokku's development version, which can be significantly different from previous releases. For older releases, use the version selector floating in the bottom right corner of this page.\n </p>\n \n\n \n\n <div class=\"rst-versions rst-badge\">\n <span class=\"rst-current-version\">\n \n v: master\n \n </span>\n <div class=\"rst-other-versions\">\n <dl>\n <dt>Versions</dt>\n </dl>\n\n <dl>\n <dt>On GitHub</dt>\n <dd>\n <a href=\"https://github.com/dokku/dokku/blob/master/docs/installation.md\" target=\"_blank\">View</a>\n </dd>\n <dd>\n <a href=\"https://github.com/dokku/dokku/edit/master/docs/installation.md\" target=\"_blank\">Edit</a>\n </dd>\n </dl>\n \n\n Free document hosting provided by <a href=\"http://progrium.viewdocs.io/viewdocs/\">Viewdocs</a>.\n </div>\n </div>\n\n <p class=\"dev-warning doc-floating-warning\">\n This document is for dokku's development version, which can be significantly different from previous releases. For older releases, use the version selector floating in the bottom right corner of this page.\n </p>\n\n \n \n \n\n</div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:11:25 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "letsencrypt/letsencrypt",
        "url": "https://github.com/letsencrypt/letsencrypt",
        "excerpt": "This is a DEVELOPER PREVIEW intended for developers and testers only. DO NOT RUN THIS CODE ON A PRODUCTION SERVER. IT WILL INSTALL CERTIFICATES SIGNED BY A TEST CA, AND WILL CAUSE CERT WARNINGS FOR&hellip;",
        "date_saved": "Thu Jul 28 20:11:26 EDT 2016",
        "html_file": "letsencryptletsencrypt.html",
        "png_file": "letsencryptletsencrypt.png",
        "md_file": "letsencryptletsencrypt.md",
        "content": "<div><article class=\"markdown-body entry-content\"><a name=\"user-content-disclaimer\"></a>\n\n<p>This is a <strong>DEVELOPER PREVIEW</strong> intended for developers and testers only.</p>\n<p><strong>DO NOT RUN THIS CODE ON A PRODUCTION SERVER. IT WILL INSTALL CERTIFICATES\nSIGNED BY A TEST CA, AND WILL CAUSE CERT WARNINGS FOR USERS.</strong></p>\n<p>Browser-trusted certificates will be available in the coming months.</p>\n<p>For more information regarding the status of the project, please see\n<a href=\"https://letsencrypt.org\">https://letsencrypt.org</a>. Be sure to checkout the\n<a href=\"https://community.letsencrypt.org/t/frequently-asked-questions-faq/26#topic-title\">Frequently Asked Questions (FAQ)</a>.</p>\n<a name=\"user-content-about-the-let-s-encrypt-client\"></a>\n<h2><a id=\"user-content-about-the-lets-encrypt-client\" class=\"anchor\" href=\"https://github.com/letsencrypt/letsencrypt#about-the-lets-encrypt-client\"></a>About the Let's Encrypt Client</h2>\n<p><a href=\"https://travis-ci.org/letsencrypt/letsencrypt\"><img alt=\"Travis CI status\" src=\"https://camo.githubusercontent.com/6771ad0a6b2ce5f2a9fecd78319bb7fa34d62837/68747470733a2f2f7472617669732d63692e6f72672f6c657473656e63727970742f6c657473656e63727970742e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://coveralls.io/r/letsencrypt/letsencrypt\"><img alt=\"Coverage status\" src=\"https://camo.githubusercontent.com/596e32dbeeb6fc20f2a9ec4de0d9ca254b70be1c/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6c657473656e63727970742f6c657473656e63727970742f62616467652e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://readthedocs.org/projects/letsencrypt/\"><img alt=\"Documentation status\" src=\"https://camo.githubusercontent.com/795fd1c8e01fcec7e5c6a917fe1f853096c19fed/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6c657473656e63727970742f62616467652f\"></a> <a href=\"https://quay.io/repository/letsencrypt/letsencrypt\"><img alt=\"Docker Repository on Quay.io\" src=\"https://camo.githubusercontent.com/f753b02ce59b5d146a195a1ba2303a11d81a9721/68747470733a2f2f717561792e696f2f7265706f7369746f72792f6c657473656e63727970742f6c657473656e63727970742f737461747573\"></a></p>\n<p>In short: getting and installing SSL/TLS certificates made easy (<a href=\"https://www.youtube.com/watch?v=Gas_sSB-5SU\">watch demo video</a>).</p>\n<p>The Let's Encrypt Client is a tool to automatically receive and install\nX.509 certificates to enable TLS on servers. The client will\ninteroperate with the Let's Encrypt CA which will be issuing browser-trusted\ncertificates for free.</p>\n<p>It's all automated:</p>\n<ul>\n<li>The tool will prove domain control to the CA and submit a CSR (Certificate\nSigning Request).</li>\n<li>If domain control has been proven, a certificate will get issued and the tool\nwill automatically install it.</li>\n</ul>\n<p>All you need to do to sign a single domain is:</p>\n<pre>user@www:~$ sudo letsencrypt -d www.example.org auth\n</pre>\n<p>For multiple domains (SAN) use:</p>\n<pre>user@www:~$ sudo letsencrypt -d www.example.org -d example.org auth\n</pre>\n<p>and if you have a compatible web server (Apache or Nginx), Let's Encrypt can\nnot only get a new certificate, but also deploy it and configure your\nserver automatically!:</p>\n<pre>user@www:~$ sudo letsencrypt -d www.example.org run\n</pre>\n<p><strong>Encrypt ALL the things!</strong></p>\n<a name=\"user-content-current-features\"></a>\n<h3><a id=\"user-content-current-features\" class=\"anchor\" href=\"https://github.com/letsencrypt/letsencrypt#current-features\"></a>Current Features</h3>\n<ul>\n<li>web servers supported:<ul>\n<li>apache/2.x (tested and working on Ubuntu Linux)</li>\n<li>nginx/0.8.48+ (tested and mostly working on Ubuntu Linux)</li>\n<li>standalone (runs its own webserver to prove you control the domain)</li>\n</ul>\n</li>\n<li>the private key is generated locally on your system</li>\n<li>can talk to the Let's Encrypt (demo) CA or optionally to other ACME\ncompliant services</li>\n<li>can get domain-validated (DV) certificates</li>\n<li>can revoke certificates</li>\n<li>adjustable RSA key bitlength (2048 (default), 4096, ...)</li>\n<li>optionally can install a http-&gt;https redirect, so your site effectively\nruns https only (Apache only)</li>\n<li>fully automated</li>\n<li>configuration changes are logged and can be reverted using the CLI</li>\n<li>text and ncurses UI</li>\n<li>Free and Open Source Software, made with Python.</li>\n</ul>\n<a name=\"user-content-id1\"></a>\n<h3><a id=\"user-content-installation-instructions\" class=\"anchor\" href=\"https://github.com/letsencrypt/letsencrypt#installation-instructions\"></a>Installation Instructions</h3>\n<p>Official <strong>documentation</strong>, including <a href=\"https://letsencrypt.readthedocs.org/en/latest/using.html\">installation instructions</a>, is\navailable at <a href=\"https://letsencrypt.readthedocs.org\">https://letsencrypt.readthedocs.org</a>.</p>\n<a name=\"user-content-links\"></a>\n<h3><a id=\"user-content-links\" class=\"anchor\" href=\"https://github.com/letsencrypt/letsencrypt#links\"></a>Links</h3>\n<p>Documentation: <a href=\"https://letsencrypt.readthedocs.org\">https://letsencrypt.readthedocs.org</a></p>\n<p>Software project: <a href=\"https://github.com/letsencrypt/letsencrypt\">https://github.com/letsencrypt/letsencrypt</a></p>\n<p>Notes for developers: <a href=\"https://github.com/letsencrypt/letsencrypt/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a></p>\n<p>Main Website: <a href=\"https://letsencrypt.org/\">https://letsencrypt.org/</a></p>\n<p>IRC Channel: #letsencrypt on <a href=\"https://freenode.net\">Freenode</a></p>\n<p>Community: <a href=\"https://community.letsencrypt.org\">https://community.letsencrypt.org</a></p>\n<p>Mailing list: <a href=\"https://groups.google.com/a/letsencrypt.org/forum/#!forum/client-dev\">client-dev</a> (to subscribe without a Google account, send an\nemail to <a href=\"mailto:client-dev+subscribe@letsencrypt.org\">client-dev+subscribe@letsencrypt.org</a>)</p>\n\n</article>\n </div>"
    }, {
        "title": "basecamp/trix",
        "url": "https://github.com/basecamp/trix",
        "excerpt": "Trix A Rich Text Editor for Everyday Writing Compose beautifully formatted text in your web application. Trix is a WYSIWYG editor for writing messages, comments, articles, and lists&#x2014;the simple&hellip;",
        "date_saved": "Thu Jul 28 20:11:28 EDT 2016",
        "html_file": "basecamptrix.html",
        "png_file": "basecamptrix.png",
        "md_file": "basecamptrix.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-trix\" class=\"anchor\" href=\"https://github.com/basecamp/trix#trix\"></a>Trix</h2>\n\n<h3><a id=\"user-content-a-rich-text-editor-for-everyday-writing\" class=\"anchor\" href=\"https://github.com/basecamp/trix#a-rich-text-editor-for-everyday-writing\"></a>A Rich Text Editor for Everyday Writing</h3>\n\n<p><strong>Compose beautifully formatted text in your web application.</strong> Trix is a WYSIWYG editor for writing messages, comments, articles, and lists&#x2014;the simple documents most web apps are made of. It features a sophisticated document model, support for embedded attachments, and outputs terse and consistent HTML.</p>\n\n<p>Trix is an open-source project from <a href=\"https://basecamp.com/\">Basecamp</a>, the creators of <a href=\"http://rubyonrails.org/\">Ruby on Rails</a>. Millions of people trust their text to Basecamp, and we built Trix to give them the best possible editing experience. See Trix in action in the <a href=\"https://basecamp.com/3-is-coming\">all-new Basecamp 3</a>.</p>\n\n<h3><a id=\"user-content-different-by-design\" class=\"anchor\" href=\"https://github.com/basecamp/trix#different-by-design\"></a>Different By Design</h3>\n\n<p>Most WYSIWYG editors are wrappers around HTML&#x2019;s <code>contenteditable</code> and <code>execCommand</code> APIs, designed by Microsoft to support live editing of web pages in Internet Explorer 5.5, and <a href=\"https://blog.whatwg.org/the-road-to-html-5-contenteditable#history\">eventually reverse-engineered</a> and copied by other browsers.</p>\n\n<p>Because these APIs were never fully specified or documented, and because WYSIWYG HTML editors are enormous in scope, each browser&#x2019;s implementation has its own set of bugs and quirks, and JavaScript developers are left to resolve the inconsistencies.</p>\n\n<p>Trix sidesteps these inconsistencies by treating <code>contenteditable</code> as an I/O device: when input makes its way to the editor, Trix converts that input into an editing operation on its internal document model, then re-renders that document back into the editor. This gives Trix complete control over what happens after every keystroke, and avoids the need to use <code>execCommand</code> at all.</p>\n\n<h3><a id=\"user-content-built-for-the-modern-web\" class=\"anchor\" href=\"https://github.com/basecamp/trix#built-for-the-modern-web\"></a>Built for the Modern Web</h3>\n\n<p>Trix supports all evergreen, self-updating desktop and mobile browsers.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/c66115621bb27f1ceddff795ea11383277923514/68747470733a2f2f73617563656c6162732e636f6d2f62726f777365722d6d61747269782f6261736563616d702d747269782e7376673f617574683d3261336536396333616566393837383461383832386464643533336563303634\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/c66115621bb27f1ceddff795ea11383277923514/68747470733a2f2f73617563656c6162732e636f6d2f62726f777365722d6d61747269782f6261736563616d702d747269782e7376673f617574683d3261336536396333616566393837383461383832386464643533336563303634\" alt=\"Browser Test Status\"></a></p>\n\n<p>Trix is built with emerging web standards, notably <a href=\"http://www.w3.org/TR/custom-elements/\">Custom Elements</a>, <a href=\"https://dom.spec.whatwg.org/#mutation-observers\">Mutation Observer</a>, and <a href=\"https://people.mozilla.org/%7Ejorendorff/es6-draft.html#sec-promise-objects\">Promises</a>. Eventually we expect all browsers to implement these standards. In the meantime, Trix includes <a href=\"https://en.wikipedia.org/wiki/Polyfill\">polyfills</a> for missing functionality.</p>\n\n<h2><a id=\"user-content-getting-started\" class=\"anchor\" href=\"https://github.com/basecamp/trix#getting-started\"></a>Getting Started</h2>\n\n<p>Include the bundled <code>trix.css</code> and <code>trix.js</code> files in the <code>&lt;head&gt;</code> of your page.</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">head</span>&gt;\n &#x2026;\n &lt;<span class=\"pl-ent\">link</span> <span class=\"pl-e\">rel</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stylesheet<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/css<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">href</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>trix.css<span class=\"pl-pds\">\"</span></span>&gt;\n<span class=\"pl-s1\"> &lt;<span class=\"pl-ent\">script</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text/javascript<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">src</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>trix.js<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">script</span>&gt;</span>\n&lt;/<span class=\"pl-ent\">head</span>&gt;</pre></div>\n\n<p><code>trix.css</code> includes default styles for the Trix toolbar, editor, and attachments. Skip this file if you prefer to define these styles yourself.</p>\n\n<p>To use your own polyfills, or to target only browsers that support all of the required standards, include <code>trix-core.js</code> instead.</p>\n\n<h2><a id=\"user-content-creating-an-editor\" class=\"anchor\" href=\"https://github.com/basecamp/trix#creating-an-editor\"></a>Creating an Editor</h2>\n\n<p>Place an empty <code>&lt;trix-editor&gt;&lt;/trix-editor&gt;</code> tag on the page. Trix will automatically insert a separate <code>&lt;trix-toolbar&gt;</code> before the editor.</p>\n\n<p>Like an HTML <code>&lt;textarea&gt;</code>, <code>&lt;trix-editor&gt;</code> accepts <code>autofocus</code> and <code>placeholder</code> attributes. Unlike a <code>&lt;textarea&gt;</code>, <code>&lt;trix-editor&gt;</code> automatically expands vertically to fit its contents.</p>\n\n<h2><a id=\"user-content-integrating-with-forms\" class=\"anchor\" href=\"https://github.com/basecamp/trix#integrating-with-forms\"></a>Integrating With Forms</h2>\n\n<p>To submit the contents of a <code>&lt;trix-editor&gt;</code> with a form, first define a hidden input field in the form and assign it an <code>id</code>. Then reference that <code>id</code> in the editor&#x2019;s <code>input</code> attribute.</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">form</span> &#x2026;&gt;\n &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>hidden<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>content<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span> <span class=\"pl-e\">input</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span>&gt;\n&lt;/<span class=\"pl-ent\">form</span>&gt;</pre></div>\n\n<p>Trix will automatically update the value of the hidden input field with each change to the editor.</p>\n\n<h2><a id=\"user-content-populating-with-stored-content\" class=\"anchor\" href=\"https://github.com/basecamp/trix#populating-with-stored-content\"></a>Populating With Stored Content</h2>\n\n<p>To populate a <code>&lt;trix-editor&gt;</code> with stored content, include that content in the associated input element&#x2019;s <code>value</code> attribute.</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">form</span> &#x2026;&gt;\n &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">id</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">value</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Editor content goes here<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>hidden<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>content<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span> <span class=\"pl-e\">input</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span>&gt;\n&lt;/<span class=\"pl-ent\">form</span>&gt;</pre></div>\n\n<p>Always use an associated input element to safely populate an editor. Trix won&#x2019;t load any HTML content inside a <code>&lt;trix-editor&gt;&#x2026;&lt;/trix-editor&gt;</code> tag.</p>\n\n<h2><a id=\"user-content-styling-formatted-content\" class=\"anchor\" href=\"https://github.com/basecamp/trix#styling-formatted-content\"></a>Styling Formatted Content</h2>\n\n<p>To ensure what you see when you edit is what you see when you save, use a CSS class name to scope styles for Trix formatted content. Apply this class name to your <code>&lt;trix-editor&gt;</code> element, and to a containing element when you render stored Trix content for display in your application.</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>trix-content<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">trix</span><span class=\"pl-e\">-editor</span>&gt;</pre></div>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>trix-content<span class=\"pl-pds\">\"</span></span>&gt;Stored content here&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<p>The default <code>trix.css</code> file includes styles for basic formatted content&#x2014;including bulleted and numbered lists, code blocks, and block quotes&#x2014;under the class name <code>trix-content</code>. We encourage you to use these styles as a starting point by copying them into your application&#x2019;s CSS with a different class name.</p>\n\n<h2><a id=\"user-content-storing-attached-files\" class=\"anchor\" href=\"https://github.com/basecamp/trix#storing-attached-files\"></a>Storing Attached Files</h2>\n\n<p>Trix automatically accepts files dragged or pasted into an editor and inserts them as attachments in the document. Each attachment is considered <em>pending</em> until you store it remotely and provide Trix with a permanent URL.</p>\n\n<p>To store attachments, listen for the <code>trix-attachment-add</code> event. Upload the attached files with XMLHttpRequest yourself and set the attachment&#x2019;s URL attribute upon completion. See the <a href=\"http://trix-editor.org/js/attachments.js\">attachment example</a> for detailed information.</p>\n\n<p>If you don&#x2019;t want to accept dropped or pasted files, call <code>preventDefault()</code> on the <code>trix-file-accept</code> event, which Trix dispatches just before the <code>trix-attachment-add</code> event.</p>\n\n<h2><a id=\"user-content-editing-text-programmatically\" class=\"anchor\" href=\"https://github.com/basecamp/trix#editing-text-programmatically\"></a>Editing Text Programmatically</h2>\n\n<p>You can manipulate a Trix editor programmatically through the <code>Trix.Editor</code> interface, available on each <code>&lt;trix-editor&gt;</code> element through its <code>editor</code> property.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> element <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.querySelector(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>trix-editor<span class=\"pl-pds\">\"</span></span>)\nelement.editor <span class=\"pl-c\">// is a Trix.Editor instance</span></pre></div>\n\n<h2><a id=\"user-content-understanding-the-document-model\" class=\"anchor\" href=\"https://github.com/basecamp/trix#understanding-the-document-model\"></a>Understanding the Document Model</h2>\n\n<p>The formatted content of a Trix editor is known as a <em>document</em>, and is represented as an instance of the <code>Trix.Document</code> class. To get the editor&#x2019;s current document, use the <code>editor.getDocument</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.getDocument() <span class=\"pl-c\">// is a Trix.Document instance</span></pre></div>\n\n<p>You can convert a document to an unformatted JavaScript string with the <code>document.toString</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> <span class=\"pl-c1\">document</span> <span class=\"pl-k\">=</span> element.editor.getDocument()\n<span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">toString</span>() <span class=\"pl-c\">// is a JavaScript string</span></pre></div>\n\n<h3><a id=\"user-content-immutability-and-equality\" class=\"anchor\" href=\"https://github.com/basecamp/trix#immutability-and-equality\"></a>Immutability and Equality</h3>\n\n<p>Documents are immutable values. Each change you make in an editor replaces the previous document with a new document. Capturing a snapshot of the editor&#x2019;s content is as simple as keeping a reference to its document, since that document will never change over time. (This is how Trix implements undo.)</p>\n\n<p>To compare two documents for equality, use the <code>document.isEqualTo</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> <span class=\"pl-c1\">document</span> <span class=\"pl-k\">=</span> element.editor.getDocument()\n<span class=\"pl-c1\">document</span>.isEqualTo(element.editor.getDocument()) <span class=\"pl-c\">// true</span></pre></div>\n\n<h2><a id=\"user-content-getting-and-setting-the-selection\" class=\"anchor\" href=\"https://github.com/basecamp/trix#getting-and-setting-the-selection\"></a>Getting and Setting the Selection</h2>\n\n<p>Trix documents are structured as sequences of individually addressable characters. The index of one character in a document is called a <em>position</em>, and a start and end position together make up a <em>range</em>.</p>\n\n<p>To get the editor&#x2019;s current selection, use the <code>editor.getSelectedRange</code> method, which returns a two-element array containing the start and end positions.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.getSelectedRange() <span class=\"pl-c\">// [0, 0]</span></pre></div>\n\n<p>You can set the editor&#x2019;s current selection by passing a range array to the <code>editor.setSelectedRange</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Select the first character in the document</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">1</span>])</pre></div>\n\n<h3><a id=\"user-content-collapsed-selections\" class=\"anchor\" href=\"https://github.com/basecamp/trix#collapsed-selections\"></a>Collapsed Selections</h3>\n\n<p>When the start and end positions of a range are equal, the range is said to be <em>collapsed</em>. In the editor, a collapsed selection appears as a blinking cursor rather than a highlighted span of text.</p>\n\n<p>For convenience, the following calls to <code>setSelectedRange</code> are equivalent when working with collapsed selections:</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.setSelectedRange(<span class=\"pl-c1\">1</span>)\nelement.editor.setSelectedRange([<span class=\"pl-c1\">1</span>])\nelement.editor.setSelectedRange([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>])</pre></div>\n\n<h3><a id=\"user-content-directional-movement\" class=\"anchor\" href=\"https://github.com/basecamp/trix#directional-movement\"></a>Directional Movement</h3>\n\n<p>To programmatically move the cursor or selection through the document, call the <code>editor.moveCursorInDirection</code> or <code>editor.expandSelectionInDirection</code> methods with a <em>direction</em> argument. The direction can be either <code>\"forward\"</code> or <code>\"backward\"</code>.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Move the cursor backward one character</span>\nelement.editor.moveCursorInDirection(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>backward<span class=\"pl-pds\">\"</span></span>)\n\n<span class=\"pl-c\">// Expand the end of the selection forward by one character</span>\nelement.editor.expandSelectionInDirection(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>forward<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-converting-positions-to-pixel-offsets\" class=\"anchor\" href=\"https://github.com/basecamp/trix#converting-positions-to-pixel-offsets\"></a>Converting Positions to Pixel Offsets</h3>\n\n<p>Sometimes you need to know the <em>x</em> and <em>y</em> coordinates of a character at a given position in the editor. For example, you might want to absolutely position a pop-up menu element below the editor&#x2019;s cursor.</p>\n\n<p>Call the <code>editor.getClientRectAtPosition</code> method with a position argument to get a <a href=\"https://drafts.fxtf.org/geometry/#DOMRect\"><code>DOMRect</code></a> instance representing the left and top offsets, width, and height of the character at the given position.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rect <span class=\"pl-k\">=</span> element.editor.getClientRectAtPosition(<span class=\"pl-c1\">0</span>)\n[rect.<span class=\"pl-c1\">left</span>, rect.<span class=\"pl-c1\">top</span>] <span class=\"pl-c\">// [17, 49]</span></pre></div>\n\n<h2><a id=\"user-content-inserting-and-deleting-text\" class=\"anchor\" href=\"https://github.com/basecamp/trix#inserting-and-deleting-text\"></a>Inserting and Deleting Text</h2>\n\n<p>The editor interface provides methods for inserting, replacing, and deleting text at the current selection.</p>\n\n<p>To insert or replace text, begin by setting the selected range, then call one of the insertion methods below. Trix will first remove any selected text, then insert the new text at the start position of the selected range.</p>\n\n<h3><a id=\"user-content-inserting-plain-text\" class=\"anchor\" href=\"https://github.com/basecamp/trix#inserting-plain-text\"></a>Inserting Plain Text</h3>\n\n<p>To insert unformatted text into the document, call the <code>editor.insertString</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Insert &#x201C;Hello&#x201D; at the beginning of the document</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>])\nelement.editor.insertString(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Hello<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-inserting-html\" class=\"anchor\" href=\"https://github.com/basecamp/trix#inserting-html\"></a>Inserting HTML</h3>\n\n<p>To insert HTML into the document, call the <code>editor.insertHTML</code> method. Trix will first convert the HTML into its internal document model. During this conversion, any formatting that cannot be represented in a Trix document will be lost.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Insert a bold &#x201C;Hello&#x201D; at the beginning of the document</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>])\nelement.editor.insertHTML(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;strong&gt;Hello&lt;/strong&gt;<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-inserting-a-file\" class=\"anchor\" href=\"https://github.com/basecamp/trix#inserting-a-file\"></a>Inserting a File</h3>\n\n<p>To insert a DOM <a href=\"http://www.w3.org/TR/FileAPI/#file\"><code>File</code></a> object into the document, call the <code>editor.insertFile</code> method. Trix will insert a pending attachment for the file as if you had dragged and dropped it onto the editor.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Insert the selected file from the first file input element</span>\n<span class=\"pl-k\">var</span> file <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.querySelector(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>input[type=file]<span class=\"pl-pds\">\"</span></span>).file\nelement.editor.insertFile(file)</pre></div>\n\n<h3><a id=\"user-content-deleting-text\" class=\"anchor\" href=\"https://github.com/basecamp/trix#deleting-text\"></a>Deleting Text</h3>\n\n<p>If the current selection is collapsed, you can simulate deleting text before or after the cursor with the <code>editor.deleteInDirection</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// &#x201C;Backspace&#x201D; the first character in the document</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>])\nelement.editor.deleteInDirection(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>backward<span class=\"pl-pds\">\"</span></span>)\n\n<span class=\"pl-c\">// Delete the second character in the document</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>])\nelement.editor.deleteInDirection(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>forward<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<p>To delete a range of text, first set the selected range, then call <code>editor.deleteInDirection</code> with either direction as the argument.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Delete the first five characters</span>\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">4</span>])\nelement.editor.deleteInDirection(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>forward<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h2><a id=\"user-content-working-with-attributes-and-indentation\" class=\"anchor\" href=\"https://github.com/basecamp/trix#working-with-attributes-and-indentation\"></a>Working With Attributes and Indentation</h2>\n\n<p>Trix represents formatting as sets of <em>attributes</em> applied across ranges of a document.</p>\n\n<p>By default, Trix supports the inline attributes <code>bold</code>, <code>italic</code>, <code>href</code>, and <code>strike</code>, and the block-level attributes <code>quote</code>, <code>code</code>, <code>bullet</code>, and <code>number</code>.</p>\n\n<h3><a id=\"user-content-applying-formatting\" class=\"anchor\" href=\"https://github.com/basecamp/trix#applying-formatting\"></a>Applying Formatting</h3>\n\n<p>To apply formatting to the current selection, use the <code>editor.activateAttribute</code> method.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.insertString(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Hello<span class=\"pl-pds\">\"</span></span>)\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">5</span>])\nelement.editor.activateAttribute(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bold<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<p>To set the <code>href</code> attribute, pass a URL as the second argument to <code>editor.activateAttribute</code>.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.insertString(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Trix<span class=\"pl-pds\">\"</span></span>)\nelement.editor.setSelectedRange([<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">4</span>])\nelement.editor.activateAttribute(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>href<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://trix-editor.org/<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-removing-formatting\" class=\"anchor\" href=\"https://github.com/basecamp/trix#removing-formatting\"></a>Removing Formatting</h3>\n\n<p>Use the <code>editor.deactivateAttribute</code> method to remove formatting from a selection.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.setSelectedRange([<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">4</span>])\nelement.editor.deactivateAttribute(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bold<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-formatting-with-a-collapsed-selection\" class=\"anchor\" href=\"https://github.com/basecamp/trix#formatting-with-a-collapsed-selection\"></a>Formatting With a Collapsed Selection</h3>\n\n<p>If you activate or deactivate attributes when the selection is collapsed, your formatting changes will apply to the text inserted by any subsequent calls to <code>editor.insertString</code>.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.activateAttribute(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>italic<span class=\"pl-pds\">\"</span></span>)\nelement.editor.insertString(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>This is italic<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h3><a id=\"user-content-adjusting-the-indentation-level\" class=\"anchor\" href=\"https://github.com/basecamp/trix#adjusting-the-indentation-level\"></a>Adjusting the Indentation Level</h3>\n\n<p>To adjust the indentation level of block-level attributes, call the <code>editor.increaseIndentationLevel</code> and <code>editor.decreaseIndentationLevel</code> methods.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.activateAttribute(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>quote<span class=\"pl-pds\">\"</span></span>)\nelement.editor.increaseIndentationLevel()\nelement.editor.decreaseIndentationLevel()</pre></div>\n\n<h2><a id=\"user-content-using-undo-and-redo\" class=\"anchor\" href=\"https://github.com/basecamp/trix#using-undo-and-redo\"></a>Using Undo and Redo</h2>\n\n<p>Trix editors support unlimited undo and redo. Successive typing and formatting changes are consolidated together at five-second intervals; all other input changes are recorded individually in undo history.</p>\n\n<p>Call the <code>editor.undo</code> and <code>editor.redo</code> methods to perform an undo or redo operation.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.undo()\nelement.editor.redo()</pre></div>\n\n<p>Changes you make through the editor interface will not automatically record undo entries. You can save your own undo entries by calling the <code>editor.recordUndoEntry</code> method with a description argument.</p>\n\n<div class=\"highlight highlight-source-js\"><pre>element.editor.insertString(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Hello<span class=\"pl-pds\">\"</span></span>)\nelement.editor.recordUndoEntry(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Insert Text<span class=\"pl-pds\">\"</span></span>)</pre></div>\n\n<h2><a id=\"user-content-loading-and-saving-editor-state\" class=\"anchor\" href=\"https://github.com/basecamp/trix#loading-and-saving-editor-state\"></a>Loading and Saving Editor State</h2>\n\n<p>Serialize an editor&#x2019;s state with <code>JSON.stringify</code> and restore saved state with the <code>editor.loadJSON</code> method. The serialized state includes the document and current selection, but does not include undo history.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Save editor state to local storage</span>\nlocalStorage[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>editorState<span class=\"pl-pds\">\"</span></span>] <span class=\"pl-k\">=</span> <span class=\"pl-c1\">JSON</span>.stringify(element.editor)\n\n<span class=\"pl-c\">// Restore editor state from local storage</span>\nelement.editor.loadJSON(<span class=\"pl-c1\">JSON</span>.<span class=\"pl-c1\">parse</span>(localStorage[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>editorState<span class=\"pl-pds\">\"</span></span>]))</pre></div>\n\n<h2><a id=\"user-content-observing-editor-changes\" class=\"anchor\" href=\"https://github.com/basecamp/trix#observing-editor-changes\"></a>Observing Editor Changes</h2>\n\n<p>The <code>&lt;trix-editor&gt;</code> element emits several events which you can use to observe and respond to changes in editor state.</p>\n\n<ul>\n<li><p><code>trix-initialize</code> fires when the <code>&lt;trix-editor&gt;</code> element is attached to the DOM and its <code>editor</code> object is ready for use.</p></li>\n<li><p><code>trix-change</code> fires whenever the editor&#x2019;s contents have changed.</p></li>\n<li><p><code>trix-selection-change</code> fires any time the selected range changes in the editor.</p></li>\n<li><p><code>trix-focus</code> and <code>trix-blur</code> fire when the editor gains or loses focus, respectively.</p></li>\n<li><p><code>trix-file-accept</code> fires when a file is dropped or inserted into the editor. You can access the DOM <code>File</code> object through the <code>file</code> property on the event. Call <code>preventDefault</code> on the event to prevent attaching the file to the document.</p></li>\n<li><p><code>trix-attachment-add</code> fires after an attachment is added to the document. You can access the Trix attachment object through the <code>attachment</code> property on the event. If the <code>attachment</code> object has a <code>file</code> property, you should store this file remotely and set the attachment&#x2019;s URL attribute. See the <a href=\"http://trix-editor.org/js/attachments.js\">attachment example</a> for detailed information.</p></li>\n<li><p><code>trix-attachment-remove</code> fires when an attachment is removed from the document. You can access the Trix attachment object through the <code>attachment</code> property on the event. You may wish to use this event to clean up remotely stored files.</p></li>\n</ul>\n\n<h2><a id=\"user-content-contributing-to-trix\" class=\"anchor\" href=\"https://github.com/basecamp/trix#contributing-to-trix\"></a>Contributing to Trix</h2>\n\n<p>Trix is open-source software, freely distributable under the terms of an <a href=\"https://github.com/basecamp/trix/blob/master/LICENSE\">MIT-style license</a>. The <a href=\"https://github.com/basecamp/trix\">source code is hosted on GitHub</a>.</p>\n\n<p>We welcome contributions in the form of bug reports, pull requests, or thoughtful discussions in the <a href=\"https://github.com/basecamp/trix/issues\">GitHub issue tracker</a>. Please see the <a href=\"https://github.com/basecamp/trix/blob/master/CONDUCT.md\">Code of Conduct</a> for our pledge to contributors.</p>\n\n<p>Trix was created by <a href=\"https://github.com/basecamp/trix/blob/master/javan@basecamp.com\">Javan Makhmali</a> and <a href=\"https://github.com/basecamp/trix/blob/master/sam@basecamp.com\">Sam Stephenson</a>, with development sponsored by <a href=\"https://basecamp.com/\">Basecamp</a>.</p>\n\n<h3><a id=\"user-content-building-from-source\" class=\"anchor\" href=\"https://github.com/basecamp/trix#building-from-source\"></a>Building From Source</h3>\n\n<p>Trix is written in <a href=\"https://github.com/jashkenas/coffee-script\">CoffeeScript</a> and compiled to JavaScript with <a href=\"https://github.com/javan/blade\">Blade</a>.</p>\n\n<p>To build Trix from source, you will need a recent version of Ruby. From inside a checkout of the Trix Git repository, issue the following commands to build the distributable files in <code>dist/</code>:</p>\n\n<pre><code>$ gem install bundler\n$ bundle install\n$ bin/blade build\n</code></pre>\n\n<h3><a id=\"user-content-developing-in-browser\" class=\"anchor\" href=\"https://github.com/basecamp/trix#developing-in-browser\"></a>Developing In-Browser</h3>\n\n<p>You can spawn a development web server to work on Trix in a more convenient fashion. Instead of manually rebuilding the source each time, just reload a page in your browser to see your changes.</p>\n\n<p>To develop in-browser, run the <code>bin/rackup</code> command and visit the displayed URL.</p>\n\n<h3><a id=\"user-content-running-tests\" class=\"anchor\" href=\"https://github.com/basecamp/trix#running-tests\"></a>Running Tests</h3>\n\n<p>Make sure you&#x2019;re set up to build from source using the instructions above. Then run <code>bin/blade</code> and visit the displayed URL to run the Trix test suite.</p>\n\n\n\n<p>&#xA9; 2015 Basecamp, LLC.</p>\n</article>\n </div>"
    }, {
        "title": "skavanagh/KeyBox",
        "url": "https://github.com/skavanagh/KeyBox",
        "excerpt": "About A web-based ssh console to execute commands and manage multiple systems simultaneously. KeyBox allows you to share terminal commands and upload files to all your systems. Once the sessions have&hellip;",
        "date_saved": "Thu Jul 28 20:11:30 EDT 2016",
        "html_file": "skavanaghkeybox.html",
        "png_file": "skavanaghkeybox.png",
        "md_file": "skavanaghkeybox.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<h2>\n<a name=\"about\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#about\"></a>About</h2>\n\n<p>A web-based ssh console to execute commands and manage multiple systems\nsimultaneously. KeyBox allows you to share terminal commands and upload files to\nall your systems. Once the sessions have been opened you can select a single\nsystem or any combination to run your commands. Additional system\nadministrators can be added and their terminal sessions and history can be\naudited. Also, KeyBox can manage and distribute public keys that have been setup\nand defined.</p>\n\n<h2>\n<a name=\"screenshots\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#screenshots\"></a>Screenshots</h2>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/5e6a87e04a98cf5e696b59db179309af7c2c4f2a/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f36342f34322f36343432396337346531613562346439623764323663343930323832313530615f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/5e6a87e04a98cf5e696b59db179309af7c2c4f2a/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f36342f34322f36343432396337346531613562346439623764323663343930323832313530615f6d656469756d2e706e67\" alt=\"Terminals\"></a></p>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/93acd508bdc19b1f847817d501083bc1f75f871d/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f61302f34342f61303434623365313163633161663435336538666535623937333162643661355f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/93acd508bdc19b1f847817d501083bc1f75f871d/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f61302f34342f61303434623365313163633161663435336538666535623937333162643661355f6d656469756d2e706e67\" alt=\"More Terminals\"></a></p>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/c6bcf3fbed95a5d2af16be1deb753e3172c7322e/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f65362f37362f65363736666535343262303831383863666631666462636565613135616466345f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/c6bcf3fbed95a5d2af16be1deb753e3172c7322e/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f65362f37362f65363736666535343262303831383863666631666462636565613135616466345f6d656469756d2e706e67\" alt=\"Upload Files\"></a></p>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/c7dab0d5a0c8bcfda3a49abab3e077c6fae7c467/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f37312f65362f37316536343634373434616539356432643033616235626265356135373665315f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/c7dab0d5a0c8bcfda3a49abab3e077c6fae7c467/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f37312f65362f37316536343634373434616539356432643033616235626265356135373665315f6d656469756d2e706e67\" alt=\"Manage Systems\"></a></p>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/96b9a4cf7a7dfc311d95322c3a0b8ebe7a46951f/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f63302f61332f63306133623735386338306333613633346533333237663535633432393366325f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/96b9a4cf7a7dfc311d95322c3a0b8ebe7a46951f/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f63302f61332f63306133623735386338306333613633346533333237663535633432393366325f6d656469756d2e706e67\" alt=\"Manage Users\"></a></p>\n\n<p><a href=\"https://github-camo.global.ssl.fastly.net/c5bb23254f8d556532ead1e9b2bf2102f8b52ff9/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f31362f66392f31366639346132373334663362353039646632646361396566653739636263355f6d656469756d2e706e67\" target=\"_blank\"><img src=\"https://github-camo.global.ssl.fastly.net/c5bb23254f8d556532ead1e9b2bf2102f8b52ff9/68747470733a2f2f66726565636f64652e636f6d2f73637265656e73686f74732f31362f66392f31366639346132373334663362353039646632646361396566653739636263355f6d656469756d2e706e67\" alt=\"Define SSH Keys\"></a></p>\n\n<h2>\n<a name=\"prerequisites\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#prerequisites\"></a>Prerequisites</h2>\n\n<p>Java JDK 1.7 or greater\n<a href=\"http://www.oracle.com/technetwork/java/javase/overview/index.html\">http://www.oracle.com/technetwork/java/javase/overview/index.html</a></p>\n\n<p>Browser with Web Socket support\n<a href=\"http://caniuse.com/websockets\">http://caniuse.com/websockets</a></p>\n\n<p>**Note: In Safari if using a self-signed certificate you must import the certificate into your Keychain.\nSelect 'Show Certificate' -&gt; 'Always Trust' when prompted in Safari</p>\n\n<p>Must run on *nix with OpenSSH version 2</p>\n\n<p>Maven 3 or greater ( Only needed if building from source )\n<a href=\"http://maven.apache.org\">http://maven.apache.org</a></p>\n\n<h2>\n<a name=\"to-run-bundled-with-jetty\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#to-run-bundled-with-jetty\"></a>To Run Bundled with Jetty</h2>\n\n<p>If your not big on the idea of building from source...</p>\n\n<p>Download keybox-jetty-vXX.XX.tar.gz</p>\n\n<p><a href=\"https://github.com/skavanagh/KeyBox/releases\">https://github.com/skavanagh/KeyBox/releases</a></p>\n\n<p>Export environment variables</p>\n\n<pre><code> export JAVA_HOME=/path/to/jdk\n export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>Start KeyBox</p>\n\n<pre><code> ./startKeyBox.sh\n</code></pre>\n\n<p>How to Configure SSL in Jetty\n(it is a good idea to add or generate your own unique certificate)</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Howto/Configure_SSL\">http://wiki.eclipse.org/Jetty/Howto/Configure_SSL</a></p>\n\n<h2>\n<a name=\"to-build-from-source\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#to-build-from-source\"></a>To Build from Source</h2>\n\n<p>Export environment variables</p>\n\n<pre><code>export JAVA_HOME=/path/to/jdk\nexport M2_HOME=/path/to/maven\nexport PATH=$JAVA_HOME/bin:$M2_HOME/bin:$PATH\n</code></pre>\n\n<p>In the directory that contains the pom.xml run</p>\n\n<pre><code>mvn package jetty:run\n</code></pre>\n\n<p>**Note: Doing a mvn clean will delete the H2 DB and wipe out all the data.</p>\n\n<h2>\n<a name=\"using-keybox\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#using-keybox\"></a>Using KeyBox</h2>\n\n<p>Open browser to https://&lt;whatever ip&gt;:8443</p>\n\n<p>Login with</p>\n\n<pre><code>username:admin\npassword:changeme\n</code></pre>\n\n<p>Steps:</p>\n\n<ol>\n<li>Create systems</li>\n<li>Create profiles</li>\n<li>Assign systems to profile</li>\n<li>Assign profiles to users</li>\n<li>Users can login to create sessions on assigned systems</li>\n<li>Start composite-ssh sessions or create and execute a script across multiple sessions</li>\n<li>Add additional public keys to systems</li>\n<li>Audit session history</li>\n</ol><h2>\n<a name=\"author\" class=\"anchor\" href=\"https://github.com/skavanagh/KeyBox#author\"></a>Author</h2>\n\n<p><strong>Sean Kavanagh</strong></p>\n\n<ul>\n<li><a href=\"mailto:sean.p.kavanagh6@gmail.com\">sean.p.kavanagh6@gmail.com</a></li>\n<li><a href=\"https://twitter.com/spkavanagh6\">https://twitter.com/spkavanagh6</a></li>\n</ul></article>\n </div>"
    }, {
        "title": "Voice Activated Light Switch",
        "url": "http://arunpn.com/projects/voice-activated-light-switch/",
        "excerpt": "You are in bed, warm and comfy, watching a movie. You have the covers pulled over, about to fall asleep. At that moment you realize that the lights are still on. Damn! Now you&#x2019;ve got to decide&hellip;",
        "date_saved": "Thu Jul 28 20:11:32 EDT 2016",
        "html_file": "voice_activated_light_switch.html",
        "png_file": "voice_activated_light_switch.png",
        "md_file": "voice_activated_light_switch.md",
        "content": "<div><div class=\"col-lg-10 col-lg-offset-1 centered\">\n\n \n \n\n <p>You are in bed, warm and comfy, watching a movie. You have the covers pulled over, about to fall asleep. At that moment you realize that the lights are still on. Damn! Now you&#x2019;ve got to decide whether to get up from the comfort of your bed to switch off the lights or let it stay on for the whole night and just fall asleep.</p>\n<p>I face this dilemma almost every night. Leaving the lights on causes a marked reduction in the quality of my sleep and more importantly makes me feel guilty. So I decided to fix this. The easiest way to fix it would have been to connect the lights to an extension cord and tape it to the bed frame. But where is the fun in that? <img src=\"http://arunpn.com/wp-includes/images/smilies/icon_smile.gif\" alt=\":-)\" class=\"wp-smiley\"> So I built a voice activated light switch. With this, all I need to do is just say &#x201C;Lights off&#x201D; from my bed and it turns off the lights.</p>\n<p>Here is a video of me and my friend Senthil trying it out on a lazy Sunday afternoon:</p>\n<p><iframe src=\"http://www.youtube.com/embed/TbSk_V45KdU\" width=\"700\" height=\"500\"></iframe></p>\n<p>We have music running in the background to add environmental noise typical to a bedroom.</p>\n<p><span><strong>Technical details:</strong></span><br>\nThe following diagram gives an overview of the whole thing.</p>\n<p><a href=\"http://107.170.211.19/wp-content/uploads/2015/02/LightSwitchOverview.jpg\" rel=\"magnific\"><img class=\"aligncenter wp-image-110 size-full\" src=\"http://107.170.211.19/wp-content/uploads/2015/02/LightSwitchOverview.jpg\" alt=\"LightSwitchOverview\" width=\"1001\"></a></p>\n<p>&#xA0;Components used:<br>\n* <a href=\"https://wit.ai/\">Wit.ai</a> (Speech Processing)<br>\n* <a href=\"http://amzn.to/1gWvAM2\">Raspberry Pi</a> (Compute device)<br>\n* <a href=\"http://amzn.to/1MuowTC\">Powerswitch Tail 2</a> (Relay Switch)</p>\n<p>A wit.ai instance is trained to understand basic voice commands and intents. This instance runs on the wit.ai cloud. Then a program is written to run on the Raspberry Pi. This program accepts voice input from the microphone and sends it to the wit.ai instance. The program then parses the response it got back from the wit.ai instance. From the intent that was identified by wit.ai, the program sends a command to the switching circuit to toggle the light switch. I have shared the source code and instructions to use here: <a href=\"https://github.com/arunpn123/VoiceActivatedLightSwitch.git\">Github repository</a></p>\n<p>Here is a picture of the whole switch setup sitting under my desk.</p>\n<p><a href=\"http://107.170.211.19/wp-content/uploads/2015/02/LightSwitchDeployment.jpg\" rel=\"magnific\"><img class=\" size-full wp-image-109 aligncenter\" src=\"http://107.170.211.19/wp-content/uploads/2015/02/LightSwitchDeployment.jpg\" alt=\"LightSwitchDeployment\" width=\"1000\"></a></p>\n<p><span><strong>Things that did not work:</strong></span></p>\n<p>For posterity&#x2019;s sake, it is good to keep track of things that did not work. So here they are. Building a working prototype did not take more than a couple of days. But getting the speech recognition to work properly took some time.</p>\n<p>Initially, I wanted to keep the speech processing local. This would have the advantage of eliminating the latency involved in sending the voice command to an online service and getting the translation back. CMU Sphinx was the best one out there. But configuring it and training the model looked like it would take a lot of time. So I figured I would keep this as my last option.</p>\n<p>Next, I tried out Google&#x2019;s speech recognition. Steven Hickson from Georgia Tech had published code that uses it [2]. This one could not understand my Indian accent properly. There were a bunch of hilarious instances. I wanted to name the device as Chitti [1]. But it identified itself several times as titty :-D. It understood my voice commands only like 30% of the time. After too many attempts trying to modulate my voice and use different sets of keywords, I chalked it up as not good for my use.</p>\n<p>Since I plan to use this device for a long time, I did not want to pass AC current through a homemade relay switch that I wire up. So I purchased the Powerswitch Tail.</p>\n<p><span><b><span>Credits:</span> </b></span><br>\n1. My brother Bharat with whom I bounced ideas off.<br>\n2. My roommates and friends Mukunthan, Senthil, Sivaguru, Shriram for testing the speech recognition.<br>\n3. My friend Sanjeev for recommending Wit.ai for speech recognition.</p>\n<p><span><b>References: </b></span><br>\n[1] Chitti is a fictional Andro-Humanoid robot in the movie <a href=\"http://en.wikipedia.org/wiki/Enthiran\">Endhiran</a>.<br>\n[2]&#xA0;<a href=\"https://github.com/StevenHickson/PiAUISuite\">https://github.com/StevenHickson/PiAUISuite</a><br>\n[3] <a href=\"http://computers.tutsplus.com/articles/how-to-control-a-lamp-with-voice-commands-and-a-raspberry-pi--mac-60825\">http://computers.tutsplus.com/articles/how-to-control-a-lamp-with-voice-commands-and-a-raspberry-pi&#x2013;mac-60825</a></p>\n<p><strong>Source code</strong>:<br>\n<a href=\"https://github.com/arunpn123/VoiceActivatedLightSwitch.git\">https://github.com/arunpn123/VoiceActivatedLightSwitch.git</a></p>\n\n </div>\n </div>"
    }, {
        "title": "Learning Golang: Build a Stock Notifier \u00b7 Kyle Redelinghuys",
        "url": "http://blog.ksred.me/post/learning-golang-stock-notifier/",
        "excerpt": "I&#x2019;ve been wanting to learn Golang for some while. I own the amazing, and very technical, Programming in Go and have been making my way through it over time. I&#x2019;ve found though that&hellip;",
        "date_saved": "Thu Jul 28 20:11:33 EDT 2016",
        "html_file": "learning_golang_build_a_stock_notifier_u00b7_kyle_redelinghuys.html",
        "png_file": "learning_golang_build_a_stock_notifier_u00b7_kyle_redelinghuys.png",
        "md_file": "learning_golang_build_a_stock_notifier_u00b7_kyle_redelinghuys.md",
        "content": "<div><section class=\"post-content\">\n \n\n<p>I&#x2019;ve been wanting to learn Golang for some while. I own the amazing, and very technical, <a href=\"http://www.amazon.com/gp/product/B007Y6KDTG?psc=1&amp;redirect=true&amp;ref_=oh_aui_search_detailpage\">Programming in Go</a> and have been making my way through it over time. I&#x2019;ve found though that learning a language is much easier when you have a clear project you want to build out. I took a <a href=\"https://www.udemy.com/learn-go-the-programming-language-by-google/learn/\">short course on Udemy</a> to give me a primer on the basics of Go and then was ready to build.</p>\n\n<p>A non-trivial application I have been wanting to build for some time is a <a href=\"https://github.com/ksred/go-stock-notifier/\">stock notifier</a>.</p>\n\n<h3 id=\"the-easy-problem:da19ed6c30432402e2ff61b1e482b4ae\">The easy problem</h3>\n\n<p>I trade shares and want to keep on top of them throughout the day without manually having to check online. I want to be sent an email peridiocally, at intervals of my choosing, of a list of stocks I have chosen ordered by biggest gainers to biggest losers.</p>\n\n<h3 id=\"the-slightly-tougher-problem:da19ed6c30432402e2ff61b1e482b4ae\">The slightly tougher problem</h3>\n\n<p>I want to be notified of daily trends in stocks. The trend is simple: every increasing or decreasing closing price over three days, and an increase in volume in one of the three days. I want this email to be sent to me before open or after close.</p>\n\n\n\n<p>After doing some research around data sources, I felt that a JSON API with basic information would more than suffice. Google provided some great data across all of the stocks I was interested in on the Johannesburg Stock Exchange, so I chose their officially defunct finance API. Althought it is no longer advertised, it is still available for use. One day it will be shut off, so I have made the program to be able to use a variety of APIs, with the ability to switch on the source. The idea\nwould be for the JSON to be parsed and cleaned according to the source, and for it to be stored in a suitable variable for use later.</p>\n\n<p>Go uses structs as storage for specific variables. I wanted to make the config for the site as easy as possible, so I decided to use a JSON config file that would get read on program start up, and used throughout the lifecycle. The config file has the following format:</p>\n\n<div class=\"highlight\"><pre><span class=\"p\">{</span>\n <span class=\"s\">\"MailSMTPServer\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mail.server.com\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MailSMTPPort\"</span> <span class=\"p\">:</span> <span class=\"s\">\"587\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MailUser\"</span> <span class=\"p\">:</span> <span class=\"s\">\"user@mail.com\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MailPass\"</span> <span class=\"p\">:</span> <span class=\"s\">\"plaintext_password\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MailRecipient\"</span> <span class=\"p\">:</span> <span class=\"s\">\"recipient@mail.com\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MailSender\"</span> <span class=\"p\">:</span> <span class=\"s\">\"sender@mail.com\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"Symbols\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s\">\"NASDAQ:GOOGL\"</span><span class=\"p\">,</span> <span class=\"s\">\"NYSE:BLK\"</span><span class=\"p\">]</span> <span class=\"c1\">//Format: exhange:stock</span>\n <span class=\"s\">\"UpdateInterval\"</span> <span class=\"p\">:</span> <span class=\"s\">\"100\"</span><span class=\"p\">,</span> <span class=\"c1\">// in seconds</span>\n <span class=\"s\">\"TimeZone\"</span> <span class=\"p\">:</span> <span class=\"s\">\"America/New_York\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MySQLUser\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mysql_user\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MySQLPass\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mysql_password\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MySQLHost\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mysql_ip\"</span><span class=\"p\">,</span>\n <span class=\"s\">\"MySQLPort\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mysql_port\"</span> \n <span class=\"s\">\"MySQLDB\"</span> <span class=\"p\">:</span> <span class=\"s\">\"mysql_database\"</span> \n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Which is read into the the following matching struct:</p>\n\n<div class=\"highlight\"><pre><span class=\"kd\">type</span> <span class=\"nx\">Configuration</span> <span class=\"kd\">struct</span> <span class=\"p\">{</span>\n <span class=\"nx\">MailUser</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MailPass</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MailSMTPServer</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MailSMTPPort</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MailRecipient</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MailSender</span> <span class=\"kt\">string</span>\n <span class=\"nx\">Symbols</span> <span class=\"p\">[]</span><span class=\"kt\">string</span>\n <span class=\"nx\">UpdateInterval</span> <span class=\"kt\">string</span>\n <span class=\"nx\">TimeZone</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MySQLUser</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MySQLPass</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MySQLHost</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MySQLPort</span> <span class=\"kt\">string</span>\n <span class=\"nx\">MySQLDB</span> <span class=\"kt\">string</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>The symbols are a slice (slices in Go are equatable to arrays in other languages) and can be looped through. Go uses some pretty powerful JSON parsing built in, which maps JSON data to a struct. As such, each field in the struct has a matching field in the JSON. The config is then loaded:</p>\n\n<div class=\"highlight\"><pre><span class=\"nx\">configuration</span> <span class=\"o\">:=</span> <span class=\"nx\">Configuration</span><span class=\"p\">{}</span>\n<span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">configuration</span><span class=\"p\">)</span>\n\n<span class=\"o\">...</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">configuration</span> <span class=\"o\">*</span><span class=\"nx\">Configuration</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// Get config</span>\n <span class=\"nx\">file</span><span class=\"p\">,</span> <span class=\"nx\">_</span> <span class=\"o\">:=</span> <span class=\"nx\">os</span><span class=\"p\">.</span><span class=\"nx\">Open</span><span class=\"p\">(</span><span class=\"s\">\"config.json\"</span><span class=\"p\">)</span>\n <span class=\"nx\">decoder</span> <span class=\"o\">:=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">NewDecoder</span><span class=\"p\">(</span><span class=\"nx\">file</span><span class=\"p\">)</span>\n <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">decoder</span><span class=\"p\">.</span><span class=\"nx\">Decode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">configuration</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"error:\"</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>As every stock has certain known fields, these would be parsed into the struct objects and used as these variables for saving and data analysis. The structs were based on the Google API return values:</p>\n\n<div class=\"highlight\"><pre><span class=\"kd\">type</span> <span class=\"nx\">Stock</span> <span class=\"kd\">struct</span> <span class=\"p\">{</span>\n <span class=\"nx\">Symbol</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"t\"`</span>\n <span class=\"nx\">Exchange</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"e\"`</span>\n <span class=\"nx\">Name</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"name\"`</span>\n <span class=\"nx\">Change</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"c\"`</span>\n <span class=\"nx\">Close</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"l\"`</span>\n <span class=\"nx\">PercentageChange</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"cp\"`</span>\n <span class=\"nx\">Open</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"op\"`</span>\n <span class=\"nx\">High</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"hi\"`</span>\n <span class=\"nx\">Low</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"lo\"`</span>\n <span class=\"nx\">Volume</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"vo\"`</span>\n <span class=\"nx\">AverageVolume</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"avvo\"`</span>\n <span class=\"nx\">High52</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"hi52\"`</span>\n <span class=\"nx\">Low52</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"lo52\"`</span>\n <span class=\"nx\">MarketCap</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"mc\"`</span>\n <span class=\"nx\">EPS</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"eps\"`</span>\n <span class=\"nx\">Shares</span> <span class=\"kt\">string</span> <span class=\"s\">`json:\"shares\"`</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Once this is parsed and everything is happy, we can move onto storage and analysis.</p>\n\n<h4 id=\"getting-the-data:da19ed6c30432402e2ff61b1e482b4ae\">Getting the data</h4>\n\n<p>We use the config Symbols variable to form the url for data retrieval. The response is then massaged and the result set parsed. There are some sanitizing functions which I won&#x2019;t go into, the most important function is the <code>parseJSONData</code>.</p>\n\n<div class=\"highlight\"><pre><span class=\"nx\">symbolString</span> <span class=\"o\">:=</span> <span class=\"nx\">convertStocksString</span><span class=\"p\">(</span><span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">Symbols</span><span class=\"p\">)</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">urlStocks</span> <span class=\"kt\">string</span> <span class=\"p\">=</span> <span class=\"s\">\"https://www.google.com/finance/info?infotype=infoquoteall&amp;q=\"</span> <span class=\"o\">+</span> <span class=\"nx\">symbolString</span>\n<span class=\"nx\">body</span> <span class=\"o\">:=</span> <span class=\"nx\">getDataFromURL</span><span class=\"p\">(</span><span class=\"nx\">urlStocks</span><span class=\"p\">)</span>\n\n<span class=\"nx\">jsonString</span> <span class=\"o\">:=</span> <span class=\"nx\">sanitizeBody</span><span class=\"p\">(</span><span class=\"s\">\"google\"</span><span class=\"p\">,</span> <span class=\"nx\">body</span><span class=\"p\">)</span>\n\n<span class=\"nx\">stockList</span> <span class=\"o\">:=</span> <span class=\"nb\">make</span><span class=\"p\">([]</span><span class=\"nx\">Stock</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nx\">stockList</span> <span class=\"p\">=</span> <span class=\"nx\">parseJSONData</span><span class=\"p\">(</span><span class=\"nx\">jsonString</span><span class=\"p\">)</span>\n\n<span class=\"o\">...</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">parseJSONData</span><span class=\"p\">(</span><span class=\"nx\">jsonString</span> <span class=\"p\">[]</span><span class=\"kt\">byte</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"nx\">stockList</span> <span class=\"p\">[]</span><span class=\"nx\">Stock</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"nx\">raw</span> <span class=\"o\">:=</span> <span class=\"nb\">make</span><span class=\"p\">([]</span><span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">RawMessage</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">Unmarshal</span><span class=\"p\">(</span><span class=\"nx\">jsonString</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"nx\">raw</span><span class=\"p\">);</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">log</span><span class=\"p\">.</span><span class=\"nx\">Fatalf</span><span class=\"p\">(</span><span class=\"s\">\"error %v\"</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n <span class=\"p\">}</span>\n\n <span class=\"k\">for</span> <span class=\"nx\">i</span> <span class=\"o\">:=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"p\">&lt;</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">raw</span><span class=\"p\">);</span> <span class=\"nx\">i</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span> <span class=\"p\">{</span>\n <span class=\"nx\">stock</span> <span class=\"o\">:=</span> <span class=\"nx\">Stock</span><span class=\"p\">{}</span>\n <span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">Unmarshal</span><span class=\"p\">(</span><span class=\"nx\">raw</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">],</span> <span class=\"o\">&amp;</span><span class=\"nx\">stock</span><span class=\"p\">);</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"error %v\"</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n <span class=\"p\">}</span>\n\n <span class=\"nx\">stockList</span> <span class=\"p\">=</span> <span class=\"nb\">append</span><span class=\"p\">(</span><span class=\"nx\">stockList</span><span class=\"p\">,</span> <span class=\"nx\">stock</span><span class=\"p\">)</span>\n <span class=\"p\">}</span>\n\n <span class=\"k\">return</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Now that we have the data in a usable format, the string representation of numbers is adapted into full digits: <code>M = X _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 1 000 000</code>, <code>B = X _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 1 000 000 000</code>. This data can now finally be stored.</p>\n\n<h4 id=\"storage:da19ed6c30432402e2ff61b1e482b4ae\">Storage</h4>\n\n<p>I chose a relational database for the data storage, namely MySQL. It&#x2019;s common and scales pretty well, and Go has really good support for it. The following code illustrates a write operation for saving the data:</p>\n\n<div class=\"highlight\"><pre><span class=\"c1\">// Prepare statement for inserting data</span>\n<span class=\"nx\">insertStatement</span> <span class=\"o\">:=</span> <span class=\"s\">\"INSERT INTO st_data (`symbol`, `exchange`, `name`, `change`, `close`, `percentageChange`, `open`, `high`, `low`, `volume` , `avgVolume`, `high52` , `low52`, `marketCap`, `eps`, `shares`, `time`, `minute`, `hour`, `day`, `month`, `year`) \"</span>\n<span class=\"nx\">insertStatement</span> <span class=\"o\">+=</span> <span class=\"s\">\"VALUES( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )\"</span>\n<span class=\"nx\">stmtIns</span><span class=\"p\">,</span> <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">Prepare</span><span class=\"p\">(</span><span class=\"nx\">insertStatement</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nb\">panic</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">Error</span><span class=\"p\">())</span> <span class=\"c1\">// proper error handling instead of panic in your app</span>\n<span class=\"p\">}</span>\n<span class=\"k\">defer</span> <span class=\"nx\">stmtIns</span><span class=\"p\">.</span><span class=\"nx\">Close</span><span class=\"p\">()</span> <span class=\"c1\">// Close the statement when we leave main() / the program terminates</span>\n\n<span class=\"o\">...</span> <span class=\"nx\">Massage</span> <span class=\"nx\">data</span> <span class=\"o\">...</span>\n\n<span class=\"nx\">_</span><span class=\"p\">,</span> <span class=\"nx\">err</span> <span class=\"p\">=</span> <span class=\"nx\">stmtIns</span><span class=\"p\">.</span><span class=\"nx\">Exec</span><span class=\"p\">(</span><span class=\"nx\">stock</span><span class=\"p\">.</span><span class=\"nx\">Symbol</span><span class=\"p\">,</span> <span class=\"nx\">stock</span><span class=\"p\">.</span><span class=\"nx\">Exchange</span><span class=\"p\">,</span> <span class=\"nx\">stock</span><span class=\"p\">.</span><span class=\"nx\">Name</span><span class=\"p\">,</span> <span class=\"nx\">sqlChange</span><span class=\"p\">,</span> <span class=\"nx\">sqlClose</span><span class=\"p\">,</span>\n <span class=\"nx\">sqlPercChange</span><span class=\"p\">,</span> <span class=\"nx\">sqlOpen</span><span class=\"p\">,</span> <span class=\"nx\">sqlHigh</span><span class=\"p\">,</span> <span class=\"nx\">sqlLow</span><span class=\"p\">,</span> <span class=\"nx\">sqlVolume</span><span class=\"p\">,</span> <span class=\"nx\">sqlAvgVolume</span><span class=\"p\">,</span>\n <span class=\"nx\">sqlHigh52</span><span class=\"p\">,</span> <span class=\"nx\">sqlLow52</span><span class=\"p\">,</span> <span class=\"nx\">sqlMarketCap</span><span class=\"p\">,</span> <span class=\"nx\">sqlEps</span><span class=\"p\">,</span> <span class=\"nx\">sqlShares</span><span class=\"p\">,</span>\n <span class=\"nx\">sqlTime</span><span class=\"p\">,</span> <span class=\"nx\">sqlMinute</span><span class=\"p\">,</span> <span class=\"nx\">sqlHour</span><span class=\"p\">,</span> <span class=\"nx\">sqlDay</span><span class=\"p\">,</span> <span class=\"nx\">sqlMonth</span><span class=\"p\">,</span> <span class=\"nx\">sqlYear</span><span class=\"p\">)</span>\n \n<span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"Could not save results: \"</span> <span class=\"o\">+</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">Error</span><span class=\"p\">())</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>At the end of this we have:</p>\n\n<ul>\n<li>Config loaded from file</li>\n<li>Stock data being retrieved</li>\n<li>Stock data parsed and massaged</li>\n<li>Stock data saved into a database</li>\n</ul>\n\n<p>We can now get onto the interesting part: <em>analysis</em>.</p>\n\n<h4 id=\"analysis-of-data-gainers-and-losers:da19ed6c30432402e2ff61b1e482b4ae\">Analysis of data: Gainers and Losers</h4>\n\n<p>I wanted to receive a nice (HTML) email periodically with a list of stocks ordered by gain. This requires: an interval, a HTML parser, and an SMTP mail call.</p>\n\n<p><strong>The interval</strong></p>\n\n<p>Interval timing is relatively easy in Go:</p>\n\n<div class=\"highlight\"><pre><span class=\"k\">for</span> <span class=\"nx\">_</span> <span class=\"p\">=</span> <span class=\"k\">range</span> <span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Tick</span><span class=\"p\">(</span><span class=\"nx\">n</span> <span class=\"o\">*</span> <span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Second</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"o\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>During the interval various checks are done to make sure the emails are only sent when they should be: during stock opening hours, Monday to Friday. The hours they are sent on is also harcoded, but can easily be set into the config.</p>\n\n<p><strong>The HTML parser</strong></p>\n\n<p>Go also has a great parsing library. An HTML template is injected with a variable and parsed accordingly:</p>\n\n<div class=\"highlight\"><pre><span class=\"nx\">mailTpl</span><span class=\"p\">.</span><span class=\"nx\">Title</span> <span class=\"p\">=</span> <span class=\"s\">\"Stock update\"</span>\n<span class=\"nx\">t</span><span class=\"p\">,</span> <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">template</span><span class=\"p\">.</span><span class=\"nx\">ParseFiles</span><span class=\"p\">(</span><span class=\"s\">\"tpl/notification.html\"</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"template parse error: \"</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n <span class=\"k\">return</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">err</span> <span class=\"p\">=</span> <span class=\"nx\">t</span><span class=\"p\">.</span><span class=\"nx\">Execute</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">templateString</span><span class=\"p\">,</span> <span class=\"nx\">mailTpl</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"template executing error: \"</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n <span class=\"k\">return</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Where <code>mailTpl</code> is a struct containing stock data and some meta, such as the title above. The template contains variables to be parsed, as well as looping functions. A section:</p>\n\n<div class=\"highlight\"><pre>{{ with .Stocks }}\n {{ range . }}\n <span class=\"nt\">&lt;table</span> <span class=\"na\">with=</span><span class=\"s\">\"100%\"</span> <span class=\"na\">border=</span><span class=\"s\">\"1px solid #ccc\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;tr</span> <span class=\"na\">width=</span><span class=\"s\">\"100%\"</span> <span class=\"na\">style=</span><span class=\"s\">\"border: 1px solid #ccc\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;td&gt;&lt;strong&gt;</span>Name<span class=\"nt\">&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;</span>{{ .Name }}<span class=\"nt\">&lt;/td&gt;</span>\n <span class=\"nt\">&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;</span>\n <span class=\"nt\">&lt;/tr&gt;</span>\n ...\n <span class=\"nt\">&lt;/table&gt;</span>\n <span class=\"nt\">&lt;br</span> <span class=\"nt\">/&gt;&lt;br</span> <span class=\"nt\">/&gt;</span>\n {{ end }}\n{{ end }}\n</pre></div>\n\n\n<p>With the HTML, we are now ready to send the email.</p>\n\n<p><strong>Sending the formatted email</strong></p>\n\n<p>Sending SMTP mail with Go is straightforward:</p>\n\n<div class=\"highlight\"><pre><span class=\"kd\">func</span> <span class=\"nx\">sendMail</span><span class=\"p\">(</span><span class=\"nx\">configuration</span> <span class=\"nx\">Configuration</span><span class=\"p\">,</span> <span class=\"nx\">notifyMail</span> <span class=\"kt\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"c1\">// Send email</span>\n <span class=\"c1\">// Set up authentication information.</span>\n <span class=\"nx\">auth</span> <span class=\"o\">:=</span> <span class=\"nx\">smtp</span><span class=\"p\">.</span><span class=\"nx\">PlainAuth</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">,</span> <span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailUser</span><span class=\"p\">,</span> <span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailPass</span><span class=\"p\">,</span> <span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailSMTPServer</span><span class=\"p\">)</span>\n\n <span class=\"c1\">// Connect to the server, authenticate, set the sender and recipient,</span>\n <span class=\"c1\">// and send the email all in one step.</span>\n <span class=\"nx\">mime</span> <span class=\"o\">:=</span> <span class=\"s\">\"MIME-version: 1.0;\\nContent-Type: text/html; charset=\\\"UTF-8\\\";\\n\\n\"</span>\n <span class=\"nx\">to</span> <span class=\"o\">:=</span> <span class=\"p\">[]</span><span class=\"kt\">string</span><span class=\"p\">{</span><span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailRecipient</span><span class=\"p\">}</span>\n <span class=\"nx\">msg</span> <span class=\"o\">:=</span> <span class=\"p\">[]</span><span class=\"nb\">byte</span><span class=\"p\">(</span><span class=\"s\">\"To: \"</span> <span class=\"o\">+</span> <span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailRecipient</span> <span class=\"o\">+</span> <span class=\"s\">\"\\r\\n\"</span> <span class=\"o\">+</span>\n <span class=\"s\">\"Subject: Quote update!\\r\\n\"</span> <span class=\"o\">+</span>\n <span class=\"nx\">mime</span> <span class=\"o\">+</span> <span class=\"s\">\"\\r\\n\"</span> <span class=\"o\">+</span>\n <span class=\"s\">\"\\r\\n\"</span> <span class=\"o\">+</span>\n <span class=\"nx\">notifyMail</span> <span class=\"o\">+</span>\n <span class=\"s\">\"\\r\\n\"</span><span class=\"p\">)</span>\n\n <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">smtp</span><span class=\"p\">.</span><span class=\"nx\">SendMail</span><span class=\"p\">(</span><span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailSMTPServer</span><span class=\"o\">+</span><span class=\"s\">\":\"</span><span class=\"o\">+</span><span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailSMTPPort</span><span class=\"p\">,</span> <span class=\"nx\">auth</span><span class=\"p\">,</span> <span class=\"nx\">configuration</span><span class=\"p\">.</span><span class=\"nx\">MailSender</span><span class=\"p\">,</span> <span class=\"nx\">to</span><span class=\"p\">,</span> <span class=\"nx\">msg</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n <span class=\"nx\">log</span><span class=\"p\">.</span><span class=\"nx\">Fatal</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<h4 id=\"deeper-analysis-trends:da19ed6c30432402e2ff61b1e482b4ae\">Deeper analysis: Trends</h4>\n\n<p>After we have gathered enough data (I was doing calls in 15 minute intervals), we can start doing some good analysis. My trend analysis is really simple. You take a 3 day sample of data, check for increasing (or decreasing) prices day on day, and a once-off increase in volume over the same period.</p>\n\n<div class=\"highlight\"><pre><span class=\"k\">if</span> <span class=\"nx\">closes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"p\">&gt;</span> <span class=\"nx\">closes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">closes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"p\">&gt;</span> <span class=\"nx\">closes</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">&amp;&amp;</span> <span class=\"p\">(</span><span class=\"nx\">volumes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"p\">&gt;</span> <span class=\"nx\">volumes</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">volumes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"p\">&gt;</span> <span class=\"nx\">volumes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span> <span class=\"p\">{</span>\n <span class=\"k\">return</span> <span class=\"kc\">true</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>I then also added in a standard deviation function to get some idea of the volatility of the stock in question. The function is fairly long, but you can see the <a href=\"https://github.com/ksred/go-stock-notifier/blob/master/analysis.go#L149\">full calculation here</a>.</p>\n\n<p>The result is a separate mail, sent end of day or before market open, with the trending stocks as calculated above including an indication of volatility. This can be extended to include other more complex technical analysis, such as overlaying bollinger bands, stochastic graphs for price points, and more.</p>\n\n<h3 id=\"conclusion:da19ed6c30432402e2ff61b1e482b4ae\">Conclusion</h3>\n\n<p>As my first work in Go, I am really pleased with the results. Loads of improvements can be made for sure, and I&#x2019;ll be updating periodically with these as I learn more about Go and it&#x2019;s deeper functionality.</p>\n\n<p>I&#x2019;ve also fallen in love with Go. It is a beautiful language to code in, and I am definitely going to do more projects in it. If you find this project useful, or feel you can improve some of the functionality, feel to to submit a pull request. <a href=\"https://github.com/ksred/go-stock-notifier/\">The code to this project lives on Github</a>.</p>\n\n </section>\n\n\n </div>"
    }, {
        "title": "two-factor authentication. Download",
        "url": "https://www.soundlogin.com/download.html",
        "excerpt": "1. Install the SoundLogin mobile app on your mobile device Google Play: Amazon: Apple AppStore:",
        "date_saved": "Thu Jul 28 20:11:36 EDT 2016",
        "html_file": "twofactor_authentication_download.html",
        "png_file": "twofactor_authentication_download.png",
        "md_file": "twofactor_authentication_download.md",
        "content": "<div>\n\t\t\t <div class=\"twelve column text-left\">\n <h5>1. Install the SoundLogin mobile app on your mobile device</h5> \n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"two column\">\n\t\t\t\t\t\t\t<h4>Google Play:</h4>\n\t\t\t\t\t\t\t<a href=\"https://play.google.com/store/apps/details?id=com.cifrasoft.cifrasoftauthenticator\">\n\t\t\t\t\t\t\t <img alt=\"Get it on Google Play\" src=\"https://www.soundlogin.com/images/sample_images/en_generic_rgb_wo_43.png\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"two column\">\n\t\t\t\t\t\t\t<h4>Amazon:</h4>\n\t\t\t\t\t\t\t<a href=\"http://www.amazon.com/Cifrasoft-SoundLogin/dp/B015RK82G6\">\n\t\t\t\t\t\t\t <img alt=\"Download on Amazon App Store\" src=\"https://www.soundlogin.com/images/sample_images/badge_amazon_43.png\">\n\t\t\t\t\t\t</a>\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"three column\">\n\t\t\t\t\t\t\t<h4>Apple AppStore:</h4>\n\t\t\t\t\t\t\t<a href=\"https://itunes.apple.com/us/app/soundlogin/id918478376?mt=8&amp;uo=4\">\n\t\t\t\t\t\t\t <img alt=\"Download on the AppStore\" src=\"https://www.soundlogin.com/images/sample_images/badge_appstore-lrg_43.png\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n <h5>2. Install the SoundLogin extension on your PC or notebook browser</h5> \t\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"three column\">\n\t\t\t\t\t\t<h4>Chrome extension:</h4> \t\n\t\t\t\t\t\t\t<a href=\"https://chrome.google.com/webstore/detail/soundlogin/gogmojfgnckfkpgnipnckbghoingiemp\">\n\t\t\t\t\t\t\t\t<img src=\"https://www.soundlogin.com/images/icons/ch.png\">\n\t\t\t\t\t\t\t</a>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"three column\">\n\t\t\t\t\t<h4>Firefox add-on (beta):</h4>\n\t\t\t\t\t\t<a href=\"https://addons.mozilla.org/firefox/addon/sound-login/\">\n\t\t\t\t\t\t\t<img src=\"https://www.soundlogin.com/images/icons/mf.png\">\n\t\t\t\t\t\t</a>\t\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div class=\"three column\">\t\t\t\t\n\t\t\t\t\t<h4>Opera add-on:</h4>\n\t\t\t\t\t\t<a href=\"https://addons.opera.com/extensions/details/soundlogin/\">\n\t\t\t\t\t\t\t<img src=\"https://www.soundlogin.com/images/icons/op.png\">\n\t\t\t\t\t\t</a>\t\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<h5>3. Set up two-factor authentication services in your SoundLogin extension</h5>\n\t\t\t\t<p>3.1. Click on the SoundLogin icon in your browser</p>\n\t\t\t\t<img src=\"https://www.soundlogin.com/images/sample_images/browser_icon.png\">\n\t\t\t\t<p>3.2. Select the required authentication providers or add your own rules. You can enable some authentication providers by setting the checkbox to 'on'. In addition, you can enable/disable the automatic \"submit form\" option after you have entered the one-time password</p>\n\t\t\t\t<img src=\"https://www.soundlogin.com/images/sample_images/browser_2_eng.png\">\n\t\t\t\t<p>4. Enable additional encryption of one-time passwords transmitted via sound notifications</p>\n\t\t\t\t<p>4.1. Click the SoundLogin icon in your browser</p>\n\t\t\t\t<p>4.2. At the bottom of the settings window, enter your password</p>\n\t\t\t\t<img src=\"https://www.soundlogin.com/images/sample_images/browser_3_eng.png\">\n\t\t\t\t<p>4.3. In SoundLogin mobile app settings, select the \"Use encryption\" option and enter the same password, which you set up in the browser extension (see 4.2)</p>\n\t\t\t\t<img src=\"https://www.soundlogin.com/images/sample_images/screenshot_settings_eng.png\">\n\t\t\t</div>\n \n\n </div>"
    }, {
        "title": "F-Yeah Swift: 4 Features That Changed How I Code, with Jacob Schwartz",
        "url": "https://realm.io/news/jacob-schwartz-swift-features/",
        "excerpt": "Swift&#x2019;s unique and forward-thinking combination of features fosters more productive and readable code. Highlighting his favorite language features like Swift&#x2019;s type system and&hellip;",
        "date_saved": "Thu Jul 28 20:11:38 EDT 2016",
        "html_file": "fyeah_swift_4_features_that_changed_how_i_code_with_jacob_schwartz.html",
        "png_file": "fyeah_swift_4_features_that_changed_how_i_code_with_jacob_schwartz.png",
        "md_file": "fyeah_swift_4_features_that_changed_how_i_code_with_jacob_schwartz.md",
        "content": "<div><div class=\"js-content-container\"> <p>Swift&#x2019;s unique and forward-thinking combination of features fosters more productive and readable code. Highlighting his favorite language features like Swift&#x2019;s type system and immutability, Jacob Schwartz discusses how Swift contributed to his app&#x2019;s codebase compared to other languages. Learn what aspects of Swift make it easier and more fun to use than other languages.</p> <p>I use Swift to build an app for a startup I work for, <a href=\"http://www.glintinc.com\">Glint</a>, and would like to highlight the top four features of the language that had the biggest effect on my work &amp; code compared to Objective-C or C++.</p> <h3 id=\"strong-type-system-137javascriptpresentzchangechapter07true\">Strong Type System <a href=\"\">(1:37)</a></h3> <p>The great type system helps reduce the cognitive load when reading code. It helps code feel more explicit. For instance, this Objective-C dictionary could contain any type of keys and values, or it could even be nil:</p> <pre class=\"highlight objective_c\"><code><span class=\"k\">@property</span> <span class=\"p\">(</span><span class=\"n\">strong</span><span class=\"p\">,</span> <span class=\"n\">nonatomic</span><span class=\"p\">)</span> <span class=\"n\">NSMutableDictionary</span> <span class=\"o\">*</span><span class=\"n\">selectedFilters</span><span class=\"p\">;</span></code></pre> <p>In Swift, however, the definition immediately conveys that it&#x2019;s a dictionary only of strings to arrays of strings:</p> <pre class=\"highlight swift\"><code><span class=\"k\">var</span> <span class=\"nv\">selectedFilters</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"kt\">String</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"kt\">String</span><span class=\"p\">]]()</span></code></pre> <p>I use the type system to control logic flow throughout the app, not having to check for classes of objects.</p> <h3 id=\"immutability-151javascriptpresentzchangechapter09true\">Immutability <a href=\"\">(1:51)</a></h3> <p>In C++, these are all equivalent definitions for an immutable ivar, with more and more const correctness. This is a huge mess and feels like a hack.</p> <pre class=\"highlight cpp\"><code><span class=\"k\">class</span> <span class=\"nc\">Puter</span> <span class=\"p\">{</span>\n <span class=\"kt\">void</span> <span class=\"n\">compute</span><span class=\"p\">(</span><span class=\"n\">obj</span> <span class=\"o\">*</span><span class=\"n\">ptr</span><span class=\"p\">);</span>\n <span class=\"kt\">void</span> <span class=\"n\">compute</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">Obj</span> <span class=\"o\">*</span><span class=\"n\">ptr</span><span class=\"p\">);</span>\n <span class=\"kt\">void</span> <span class=\"n\">compute</span><span class=\"p\">(</span><span class=\"n\">Obj</span> <span class=\"o\">*</span> <span class=\"k\">const</span> <span class=\"n\">ptr</span><span class=\"p\">);</span>\n <span class=\"kt\">void</span> <span class=\"n\">compute</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">Obj</span> <span class=\"o\">*</span> <span class=\"k\">const</span> <span class=\"n\">ptr</span><span class=\"p\">);</span>\n <span class=\"kt\">void</span> <span class=\"n\">compute</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">Obj</span> <span class=\"o\">*</span> <span class=\"k\">const</span> <span class=\"n\">ptr</span><span class=\"p\">)</span> <span class=\"k\">const</span><span class=\"p\">;</span>\n<span class=\"p\">};</span></code></pre> <p>In Objective-C, it does not even feel like a hack &#x2014; it is a hack; you need to manage mutable vs. immutable versions of strings, arrays, etc.</p> <p>With Swift, these declarations take very little effort &#x2014; it simply takes choosing between <code>var</code> or <code>let</code> in the variable or property declaration.</p> <pre class=\"highlight swift\"><code><span class=\"k\">var</span> <span class=\"nv\">dateString</span> <span class=\"o\">=</span> <span class=\"n\">formatter</span><span class=\"o\">.</span><span class=\"nf\">stringFromDate</span><span class=\"p\">(</span><span class=\"n\">date</span><span class=\"p\">)</span>\n<span class=\"c1\">// vs</span>\n<span class=\"k\">let</span> <span class=\"nv\">dateString</span> <span class=\"o\">=</span> <span class=\"n\">formatter</span><span class=\"o\">.</span><span class=\"nf\">stringFromDate</span><span class=\"p\">(</span><span class=\"n\">date</span><span class=\"p\">)</span></code></pre> <h3 id=\"properties-329javascriptpresentzchangechapter011true\">Properties <a href=\"\">(3:29)</a></h3> <p>Although the code is messy, it properly demonstrates the power and ease of properties in Swift.</p> <pre class=\"highlight swift\"><code><span class=\"k\">var</span> <span class=\"nv\">responseRate</span><span class=\"p\">:</span> <span class=\"kt\">Double</span><span class=\"p\">?</span> <span class=\"p\">{</span>\n <span class=\"k\">didSet</span> <span class=\"p\">{</span>\n <span class=\"k\">let</span> <span class=\"nv\">percent</span> <span class=\"o\">=</span> <span class=\"nf\">min</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"nf\">max</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"kt\">Int</span><span class=\"p\">((</span><span class=\"n\">responseRate</span> <span class=\"p\">??</span> <span class=\"mi\">0</span><span class=\"p\">)</span><span class=\"o\">*</span> <span class=\"mi\">100</span><span class=\"p\">)))</span>\n <span class=\"k\">let</span> <span class=\"nv\">baseString</span> <span class=\"o\">=</span> <span class=\"kt\">NSLocalizedString</span><span class=\"p\">(</span><span class=\"s\">\"$0 ResponseRate\"</span><span class=\"p\">,</span> <span class=\"nv\">comment</span><span class=\"p\">:</span> <span class=\"s\">\"PulseTabResponseRate\"</span><span class=\"p\">)</span>\n <span class=\"k\">let</span> <span class=\"nv\">percentString</span> <span class=\"o\">=</span> <span class=\"s\">\"</span><span class=\"se\">\\(</span><span class=\"n\">percent</span><span class=\"se\">)</span><span class=\"s\">%\"</span>\n <span class=\"n\">middleLabel</span><span class=\"o\">.</span><span class=\"n\">text</span> <span class=\"o\">=</span> <span class=\"n\">baseString</span><span class=\"o\">.</span><span class=\"nf\">stringByReplacingOccurrencesOfString</span><span class=\"p\">(</span><span class=\"s\">\"$0\"</span><span class=\"p\">,</span> <span class=\"nv\">withString</span><span class=\"p\">:</span> <span class=\"n\">percentString</span><span class=\"p\">)</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre> <p>Initially when exploring the Swift docs, I thought it was just syntactic sugar for properties. However, when writing programs, it turns out that it makes architecting your code more powerful and simple. This comes from a view controller, where I have a setter that takes a double as the response rate for some survey. Then I format the string that the user sees when the double is set. This is how I easily did data binding on this particular view controller.</p> <h3 id=\"awesome-community-425javascriptpresentzchangechapter013true\">Awesome Community <a href=\"\">(4:25)</a></h3> <p>There are fantastic resources for learning and helping fix problems online, as well as Swift meetups and informative newsletters that help foster the learning environment. It makes writing code easier and more fun.</p> <p>Although there are still some problems with it, such as inability to support old iOS versions with new Swift versions, tool instability, and random linker errors, it&#x2019;s constantly being improved upon with new releases. Working with these Swift features and more, I am able to write dense and expressive code that is actually fun to write, making me more productive compared to other languages.</p> </div> </div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:11:39 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "cmusatyalab/openface",
        "url": "https://github.com/cmusatyalab/openface",
        "excerpt": "OpenFace This is a Python and Torch implementation of the CVPR 2015 paper FaceNet: A Unified Embedding for Face Recognition and Clustering by Florian Schroff, Dmitry Kalenichenko, and James Phil",
        "date_saved": "Thu Jul 28 20:11:41 EDT 2016",
        "html_file": "cmusatyalabopenface.html",
        "png_file": "cmusatyalabopenface.png",
        "md_file": "cmusatyalabopenface.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-openface\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#openface\"></a>OpenFace</h2>\n\n<p><a href=\"https://travis-ci.org/cmusatyalab/openface\"><img src=\"https://camo.githubusercontent.com/7649857bc22a4061aea8a38706cc64b6bca51e45/68747470733a2f2f7472617669732d63692e6f72672f636d7573617479616c61622f6f70656e666163652e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a>\n<a href=\"http://dx.doi.org/10.5281/zenodo.32041\"><img src=\"https://camo.githubusercontent.com/f579c9d16000174d04b351c5b3a8d3333629a745/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f646f692f31302e353238312f7a656e6f646f2e33323034312e737667\" alt=\"DOI\"></a></p>\n\n<p>This is a Python and Torch implementation of the CVPR 2015 paper\n<a href=\"http://www.cv-foundation.org/openaccess/content_cvpr_2015/app/1A_089.pdf\">FaceNet: A Unified Embedding for Face Recognition and Clustering</a>\nby Florian Schroff, Dmitry Kalenichenko, and James Philbin at Google\nusing publicly available libraries and datasets.\nTorch allows the network to be executed on a CPU or with CUDA.</p>\n\n<p><strong>Crafted by <a href=\"http://bamos.github.io\">Brandon Amos</a> in the\n<a href=\"http://elijah.cs.cmu.edu\">Elijah</a> research group at\nCarnegie Mellon University.</strong></p>\n\n\n\n<h3><a id=\"user-content-isnt-face-recognition-a-solved-problem\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#isnt-face-recognition-a-solved-problem\"></a>Isn't face recognition a solved problem?</h3>\n\n<p>No! Accuracies from research papers have just begun to surpass\nhuman accuracies on some benchmarks.\nThe accuracies of open source face recognition systems lag\nbehind the state-of-the-art.\nSee our accuracy comparisons on the famous LFW benchmark below.</p>\n\n\n\n<h3><a id=\"user-content-please-use-responsibly\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#please-use-responsibly\"></a>Please use responsibly!</h3>\n\n<p>We do not support the use of this project in applications\nthat violate privacy and security.\nWe are using this to help cognitively impaired users to\nsense and understand the world around them.</p>\n\n\n\n<h2><a id=\"user-content-overview\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#overview\"></a>Overview</h2>\n\n<p>The following overview shows the workflow for a single input\nimage of Sylvestor Stallone from the publicly available\n<a href=\"http://vis-www.cs.umass.edu/lfw/person/Sylvester_Stallone.html\">LFW dataset</a>.</p>\n\n<ol>\n<li>Detect faces with a pre-trained models from\n<a href=\"http://blog.dlib.net/2014/02/dlib-186-released-make-your-own-object.html\">dlib</a>\nor\n<a href=\"http://docs.opencv.org/master/d7/d8b/tutorial_py_face_detection.html\">OpenCV</a>.</li>\n<li>Transform the face for the neural network.\nThis repository uses dlib's\n<a href=\"http://blog.dlib.net/2014/08/real-time-face-pose-estimation.html\">real-time pose estimation</a>\nwith OpenCV's\n<a href=\"http://docs.opencv.org/doc/tutorials/imgproc/imgtrans/warp_affine/warp_affine.html\">affine transformation</a>\nto try to make the eyes and nose appear in\nthe same location on each image.</li>\n<li>Use a deep neural network to represent (or embed) the face on\na 128-dimensional unit hypersphere.\nThe embedding is a generic representation for anybody's face.\nUnlike other face representations, this embedding has the nice property\nthat a larger distance between two face embeddings means\nthat the faces are likely not of the same person.\nThis property makes clustering, similarity detection,\nand classification tasks easier than other face recognition\ntechniques where the Euclidean distance between\nfeatures is not meaningful.</li>\n<li>Apply your favorite clustering or classification techniques\nto the features to complete your recognition task.\nSee below for our examples for classification and\nsimilarity detection, including an online web demo.</li>\n</ol>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/summary.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/summary.jpg\" alt=\"\"></a></p>\n\n<h2><a id=\"user-content-whats-in-this-repository\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#whats-in-this-repository\"></a>What's in this repository?</h2>\n\n\n\n<h2><a id=\"user-content-demo-1-real-time-web-demo\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#demo-1-real-time-web-demo\"></a>Demo 1: Real-Time Web Demo</h2>\n\n<p>See <a href=\"https://www.youtube.com/watch?v=-lX1_rI7Oe4\">our YouTube video</a>\nof using this in a real-time web application\nfor face recognition.\nThe source is available in <a href=\"https://github.com/cmusatyalab/openface/blob/master/demos/web\">demos/web</a>.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=uQiPq5zRaS8\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/youtube-web.gif\"></a></p>\n\n<p>From the <code>demos/web</code> directory, install requirements\nwith <code>./install-deps.sh</code> and <code>sudo pip install -r requirements.txt</code>.</p>\n\n<p>In practice, object tracking\n<a href=\"http://blog.dlib.net/2015/02/dlib-1813-released.html\">like dlib's</a>\nshould be used once the face recognizer has predicted a face.</p>\n\n<h2><a id=\"user-content-demo-2-comparing-two-images\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#demo-2-comparing-two-images\"></a>Demo 2: Comparing two images</h2>\n\n<p>The <a href=\"https://github.com/cmusatyalab/openface/blob/master/demos/compare.py\">comparison demo</a> outputs the predicted similarity\nscore of two faces by computing the squared L2 distance between\ntheir representations.\nA lower score indicates two faces are more likely of the same person.\nSince the representations are on the unit hypersphere, the\nscores range from 0 (the same picture) to 4.0.\nThe following distances between images of John Lennon and\nEric Clapton were generated with\n<code>./demos/compare.py images/examples/{lennon*,clapton*}</code>.</p>\n\n<table><thead>\n<tr>\n<th>Lennon 1</th>\n<th>Lennon 2</th>\n<th>Clapton 1</th>\n<th>Clapton 2</th>\n</tr>\n</thead><tbody>\n<tr>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/lennon-1.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/lennon-1.jpg\" width=\"200px\"></a></td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/lennon-2.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/lennon-2.jpg\" width=\"200px\"></a></td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/clapton-1.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/clapton-1.jpg\" width=\"200px\"></a></td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/clapton-2.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/clapton-2.jpg\" width=\"200px\"></a></td>\n</tr>\n</tbody></table>\n\n<p>The following table shows that a distance threshold of <code>0.3</code> would\ndistinguish these two people.\nIn practice, further experimentation should be done on the distance threshold.\nOn our LFW experiments, the mean threshold across multiple\nexperiments is 0.71 &#xB1; 0.027,\nsee <a href=\"https://github.com/cmusatyalab/openface/blob/master/evaluation/lfw.nn4.v1.epoch-177/accuracies.txt\">accuracies.txt</a>.</p>\n\n<table><thead>\n<tr>\n<th>Image 1</th>\n<th>Image 2</th>\n<th>Distance</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>Lennon 1</td>\n<td>Lennon 2</td>\n<td>0.204</td>\n</tr>\n<tr>\n<td>Lennon 1</td>\n<td>Clapton 1</td>\n<td>1.392</td>\n</tr>\n<tr>\n<td>Lennon 1</td>\n<td>Clapton 2</td>\n<td>1.445</td>\n</tr>\n<tr>\n<td>Lennon 2</td>\n<td>Clapton 1</td>\n<td>1.435</td>\n</tr>\n<tr>\n<td>Lennon 2</td>\n<td>Clapton 2</td>\n<td>1.322</td>\n</tr>\n<tr>\n<td>Clapton 1</td>\n<td>Clapton 2</td>\n<td>0.174</td>\n</tr>\n</tbody></table>\n\n<h2><a id=\"user-content-demo-3-training-a-classifier\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#demo-3-training-a-classifier\"></a>Demo 3: Training a Classifier</h2>\n\n<p>OpenFace's core provides a feature extraction method to\nobtain a low-dimensional representation of any face.\n<a href=\"https://github.com/cmusatyalab/openface/blob/master/demos/classifier.py\">demos/classifier.py</a> shows a demo of\nhow these representations can be used to create a face classifier.</p>\n\n<p>This is trained on about 6000 total images of the following people,\nwhich are the people with the most images in our dataset.\nClassifiers can be created with far less images per\nperson.</p>\n\n<ul>\n<li>America Ferrera</li>\n<li>Amy Adams</li>\n<li>Anne Hathaway</li>\n<li>Ben Stiller</li>\n<li>Bradley Cooper</li>\n<li>David Boreanaz</li>\n<li>Emily Deschanel</li>\n<li>Eva Longoria</li>\n<li>Jon Hamm</li>\n<li>Steve Carell</li>\n</ul>\n\n<p>This demo uses <a href=\"http://scikit-learn.org\">scikit-learn</a> to perform\na grid search over SVM parameters.\nFor 1000's of images, training the SVMs takes seconds.\nOur trained model obtains 87% accuracy on this set of data.\n<a href=\"https://github.com/cmusatyalab/openface/blob/master/models/get-models.sh\">models/get-models.sh</a>\nwill automatically download this classifier and place\nit in <code>models/openface/celeb-classifier.nn4.v1.pkl</code>.</p>\n\n<p>For an example, consider the following small set of images\nthe model has no knowledge of.\nFor an unknown person, a prediction still needs to be made, but\nthe confidence score is usually lower.</p>\n\n<p>Run the classifier on your images with:</p>\n\n<pre><code>./demos/classifier.py infer ./models/openface/celeb-classifier.nn4.v1.pkl &lt;image&gt;\n</code></pre>\n\n<table><thead>\n<tr>\n<th>Person</th>\n<th>Image</th>\n<th>Prediction</th>\n<th>Confidence</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>Lennon 1</td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/lennon-1.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/lennon-1.jpg\" width=\"200px\"></a></td>\n<td>DavidBoreanaz</td>\n<td>0.28</td>\n</tr>\n<tr>\n<td>Lennon 2</td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/lennon-2.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/lennon-2.jpg\" width=\"200px\"></a></td>\n<td>DavidBoreanaz</td>\n<td>0.56</td>\n</tr>\n<tr>\n<td>Carell</td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/carell.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/carell.jpg\" width=\"200px\"></a></td>\n<td>SteveCarell</td>\n<td>0.78</td>\n</tr>\n<tr>\n<td>Adams</td>\n<td><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/examples/adams.jpg\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/examples/adams.jpg\" width=\"200px\"></a></td>\n<td>AmyAdams</td>\n<td>0.87</td>\n</tr>\n</tbody></table>\n\n<h2><a id=\"user-content-cool-demos-but-i-want-numbers-whats-the-accuracy\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#cool-demos-but-i-want-numbers-whats-the-accuracy\"></a>Cool demos, but I want numbers. What's the accuracy?</h2>\n\n<p>Even though the public datasets we trained on have orders of magnitude less data\nthan private industry datasets, the accuracy is remarkably high and\noutperforms all other open-source face recognition implementations we\nare aware of on the standard\n<a href=\"http://vis-www.cs.umass.edu/lfw/results.html\">LFW</a>\nbenchmark.\nWe had to fallback to using the deep funneled versions for\n152 of 13233 images because dlib failed to detect a face or landmarks.\nWe obtain a mean accuracy of 0.8483 &#xB1; 0.0172 with an AUC of 0.923.</p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/nn4.v1.lfw.roc.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/nn4.v1.lfw.roc.png\" alt=\"\"></a></p>\n\n<p>This can be generated with the following commands from the root <code>openface</code>\ndirectory, assuming you have downloaded and placed the raw and\ndeep funneled LFW data from <a href=\"http://vis-www.cs.umass.edu/lfw/\">here</a>\nin <code>./data/lfw/raw</code> and <code>./data/lfw/deepfunneled</code>.</p>\n\n<ol>\n<li>Install prerequisites as below.</li>\n<li>Preprocess the raw <code>lfw</code> images, change <code>8</code> to however many\nseparate processes you want to run:\n<code>for N in {1..8}; do ./util/align-dlib.py data/lfw/raw align affine data/lfw/dlib-affine-sz:96 --size 96 &amp;; done</code>.\nFallback to deep funneled versions for images that dlib failed\nto align:\n<code>./util/align-dlib.py data/lfw/raw align affine data/lfw/dlib-affine-sz:96 --size 96 --fallbackLfw data/lfw/deepfunneled</code></li>\n<li>Generate representations with <code>./batch-represent/main.lua -outDir evaluation/lfw.nn4.v1.reps -model models/openface/nn4.v1.t7 -data data/lfw/dlib-affine-sz:96</code></li>\n<li>Generate the ROC curve from the <code>evaluation</code> directory with <code>./lfw-roc.py --workDir lfw.nn4.v1.reps</code>.\nThis creates <code>roc.pdf</code> in the <code>lfw.nn4.v1.reps</code> directory.</li>\n</ol>\n\n<h2><a id=\"user-content-help-wanted\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#help-wanted\"></a>Help Wanted!</h2>\n\n<p>As the following table shows, the forefront of deep learning research\nis driven by large private datasets.\nIn face recognition, there are no open source implementations or\nmodels trained on these datasets.\nIf you have access to a large dataset, we are very interested\nin training a new OpenFace model with it.\nPlease contact Brandon Amos at <a href=\"mailto:bamos@cs.cmu.edu\">bamos@cs.cmu.edu</a>.</p>\n\n\n\n<h2><a id=\"user-content-visualizing-representations-with-t-sne\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#visualizing-representations-with-t-sne\"></a>Visualizing representations with t-SNE</h2>\n\n<p><a href=\"http://lvdmaaten.github.io/tsne/\">t-SNE</a> is a dimensionality\nreduction technique that can be used to visualize the\n128-dimensional features OpenFace produces.\nThe following shows the visualization of the three people\nin the training and testing dataset with the most images.</p>\n\n<p><strong>Training</strong></p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/train-tsne.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/train-tsne.png\" alt=\"\"></a></p>\n\n<p><strong>Testing</strong></p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/val-tsne.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/val-tsne.png\" alt=\"\"></a></p>\n\n<p>These can be generated with the following commands from the root\n<code>openface</code> directory.</p>\n\n<ol>\n<li>Install prerequisites as below.</li>\n<li>Preprocess the raw <code>lfw</code> images, change <code>8</code> to however many\nseparate processes you want to run:\n<code>for N in {1..8}; do ./util/align-dlib.py &lt;path-to-raw-data&gt; align affine &lt;path-to-aligned-data&gt; --size 96 &amp;; done</code>.</li>\n<li>Generate representations with <code>./batch-represent/main.lua -outDir &lt;feature-directory (to be created)&gt; -model models/openface/nn4.v1.t7 -data &lt;path-to-aligned-data&gt;</code></li>\n<li>Generate t-SNE visualization with <code>./util/tsne.py &lt;feature-directory&gt; --names &lt;name 1&gt; ... &lt;name n&gt;</code>\nThis creates <code>tsne.pdf</code> in <code>&lt;feature-directory&gt;</code>.</li>\n</ol>\n\n<h2><a id=\"user-content-visualizing-layer-outputs\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#visualizing-layer-outputs\"></a>Visualizing layer outputs</h2>\n\n<p>Visualizing the output feature maps of each layer\nis sometimes helpful to understand what features\nthe network has learned to extract.\nWith faces, the locations of the eyes, nose, and\nmouth should play an important role.</p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/demos/vis-outputs.lua\">demos/vis-outputs.lua</a>\noutputs the feature maps from an aligned image.\nThe following shows the first 39 filters of the\nfirst convolutional layer on two images\nof John Lennon.</p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/nn4.v1.conv1.lennon-1.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/nn4.v1.conv1.lennon-1.png\" alt=\"\"></a>\n<a href=\"https://github.com/cmusatyalab/openface/blob/master/images/nn4.v1.conv1.lennon-2.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/nn4.v1.conv1.lennon-2.png\" alt=\"\"></a></p>\n\n<h2><a id=\"user-content-model-definitions\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#model-definitions\"></a>Model Definitions</h2>\n\n<p>Model definitions should be kept in <a href=\"https://github.com/cmusatyalab/openface/blob/master/models/openface\">models/openface</a>,\nwhere we have provided definitions of the <a href=\"https://github.com/cmusatyalab/openface/blob/master/models/openface/nn2.def.lua\">NN2</a>\nand <a href=\"https://github.com/cmusatyalab/openface/blob/master/models/openface/nn4.def.lua\">nn4</a> as described in the paper,\nbut with batch normalization and no normalization in the lower layers.\nThe inception layers are introduced in\n<a href=\"http://arxiv.org/abs/1409.4842\">Going Deeper with Convolutions</a>\nby Christian Szegedy et al.</p>\n\n<h2><a id=\"user-content-pre-trained-models\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#pre-trained-models\"></a>Pre-trained Models</h2>\n\n<p>Pre-trained models are versioned and should be released with\na corresponding model definition.\nWe currently only provide a pre-trained model for <code>nn4.v1</code>\nbecause we have limited access to large-scale face recognition\ndatasets.</p>\n\n<h2><a id=\"user-content-nn4v1\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#nn4v1\"></a>nn4.v1</h2>\n\n<p>This model has been trained by combining the two largest (of August 2015)\npublicly-available face recognition datasets based on names:\n<a href=\"http://vintage.winklerbros.net/facescrub.html\">FaceScrub</a>\nand <a href=\"http://arxiv.org/abs/1411.7923\">CASIA-WebFace</a>.\nThis model was trained for about 300 hours on a Tesla K40 GPU.</p>\n\n<p>The following plot shows the triplet loss on the training\nand test set.\nSemi-hard triplets are used on the training set, and\nrandom triplets are used on the testing set.\nOur <code>nn4.v1</code> model is from epoch 177.</p>\n\n<p><a href=\"https://github.com/cmusatyalab/openface/blob/master/images/nn4.v1.loss.png\" target=\"_blank\"><img src=\"https://github.com/cmusatyalab/openface/raw/master/images/nn4.v1.loss.png\" alt=\"\"></a></p>\n\n<p>The LFW section above shows that this model obtains a mean\naccuracy of 0.8483 &#xB1; 0.0172 with an AUC of 0.923.</p>\n\n<h2><a id=\"user-content-how-long-does-processing-a-face-take\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#how-long-does-processing-a-face-take\"></a>How long does processing a face take?</h2>\n\n<p>The processing time depends on the size of your image for\nface detection and alignment.\nThese only run on the CPU and take from 100-200ms to over\na second.\nThe neural network uses a fixed-size input and has\na more consistent runtime,\n86.97 ms &#xB1; 67.82 ms on our 3.70 GHz CPU\n32.45 ms &#xB1; 12.89 ms on our Tesla K40 GPU,\nobtained with <a href=\"https://github.com/cmusatyalab/openface/blob/master/util/profile-network.lua\">util/profile-network.lua</a>.</p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#usage\"></a>Usage</h2>\n\n<h2><a id=\"user-content-existing-models\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#existing-models\"></a>Existing Models</h2>\n\n<p>See <a href=\"https://github.com/cmusatyalab/openface/blob/master/demos/compare.py\">the image comparison demo</a> for a complete example\nwritten in Python using a naive Torch subprocess to process the faces.</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> openface\n<span class=\"pl-k\">from</span> openface.alignment <span class=\"pl-k\">import</span> NaiveDlib <span class=\"pl-c\"># Depends on dlib.</span>\n\n<span class=\"pl-c\"># `args` are parsed command-line arguments.</span>\n\nalign <span class=\"pl-k\">=</span> NaiveDlib(args.dlibFaceMean, args.dlibFacePredictor)\nnet <span class=\"pl-k\">=</span> openface.TorchWrap(args.networkModel, <span class=\"pl-smi\">imgDim</span><span class=\"pl-k\">=</span>args.imgDim, <span class=\"pl-smi\">cuda</span><span class=\"pl-k\">=</span>args.cuda)\n\n<span class=\"pl-c\"># `img` is a numpy matrix containing the RGB pixels of the image.</span>\nbb <span class=\"pl-k\">=</span> align.getLargestFaceBoundingBox(img)\nalignedFace <span class=\"pl-k\">=</span> align.alignImg(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>affine<span class=\"pl-pds\">\"</span></span>, args.imgDim, img, bb)\nrep1 <span class=\"pl-k\">=</span> net.forwardImage(alignedFace)\n\n<span class=\"pl-c\"># `rep2` obtained similarly.</span>\nd <span class=\"pl-k\">=</span> rep1 <span class=\"pl-k\">-</span> rep2\ndistance <span class=\"pl-k\">=</span> np.dot(d, d)</pre></div>\n\n<h2><a id=\"user-content-training-new-models\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#training-new-models\"></a>Training new models</h2>\n\n<p>This repository also contains our training infrastructure to promote an\nopen ecosystem and enable quicker bootstrapping for new research and development.\nWarning: Training is computationally expensive and takes a few\nweeks on our Tesla K40 GPU.</p>\n\n<p>A rough overview of training is:</p>\n\n<ol>\n<li>Preprocess the raw images, change <code>8</code> to however many\nseparate processes you want to run:\n<code>for N in {1..8}; do ./util/align-dlib.py &lt;path-to-raw-data&gt; align affine &lt;path-to-aligned-data&gt; --size 96 &amp;; done</code>.</li>\n<li>Run <a href=\"https://github.com/cmusatyalab/openface/blob/master/training/main.lua\">training/main.lua</a> to start training the model.\nEdit the dataset options in <a href=\"https://github.com/cmusatyalab/openface/blob/master/training/opts.lua\">training/opts.lua</a> or\npass them as command-line parameters.\nThis will output the loss and in-progress models to <code>training/work</code>.</li>\n<li>Visualize the loss with <a href=\"https://github.com/cmusatyalab/openface/blob/master/training/plot-loss.py\">training/plot-loss.py</a>.</li>\n</ol>\n\n<h2><a id=\"user-content-setup\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#setup\"></a>Setup</h2>\n\n<p>The following instructions are for Linux and OSX only.\nPlease contribute modifications and build instructions if you\nare interested in running this on other operating systems.</p>\n\n<h2><a id=\"user-content-check-out-git-submodules\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#check-out-git-submodules\"></a>Check out git submodules</h2>\n\n<p>Clone with <code>--recursive</code> or run <code>git submodule init &amp;&amp; git submodule update</code>\nafter checking out.</p>\n\n<h2><a id=\"user-content-download-the-models\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#download-the-models\"></a>Download the models</h2>\n\n<p>Run <code>./models/get-models.sh</code> to download pre-trained OpenFace\nmodels on the combined CASIA-WebFace and FaceScrub database.\nThis also downloads dlib's pre-trained model for face landmark detection.</p>\n\n<h2><a id=\"user-content-with-docker\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#with-docker\"></a>With Docker</h2>\n\n<p>Be sure you have checked out the submodules and downloaded the models as\ndescribed above.</p>\n\n<p>This repo can be deployed as a container with <a href=\"https://www.docker.com/\">Docker</a>\nfor CPU mode:</p>\n\n<pre><code>sudo docker build -t openface .\nsudo docker run -t -i -v $PWD:/openface openface /bin/bash\ncd /openface\n./demos/compare.py images/examples/{lennon*,clapton*}\n</code></pre>\n\n<p>To use, place your images in <code>openface</code> on your host and\naccess them from the shared Docker directory.</p>\n\n<h2><a id=\"user-content-by-hand\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#by-hand\"></a>By hand</h2>\n\n<p>Be sure you have checked out the submodules and downloaded the models as\ndescribed above.\nSee the <a href=\"https://github.com/cmusatyalab/openface/blob/master/Dockerfile\">Dockerfile</a> as a reference.</p>\n\n<p>Install the packages the Dockerfile uses with your package manager.\nWith <code>pip</code>, install <code>numpy</code>, <code>scipy</code>, <code>scikit-learn</code>, and <code>scikit-image</code>.</p>\n\n<p>Next, manually install the following.</p>\n\n<h3><a id=\"user-content-opencv\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#opencv\"></a>OpenCV</h3>\n\n<p>Download <a href=\"https://github.com/Itseez/opencv/archive/2.4.11.zip\">OpenCV 2.4.11</a>\nand follow their\n<a href=\"http://docs.opencv.org/doc/tutorials/introduction/linux_install/linux_install.html\">build instructions</a>.</p>\n\n<h3><a id=\"user-content-dlib\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#dlib\"></a>dlib</h3>\n\n<p>Download <a href=\"https://github.com/davisking/dlib/releases/download/v18.16/dlib-18.16.tar.bz2\">dlib v18.16</a>.</p>\n\n<pre><code>cd ~/src\ntar xf dlib-18.16.tar.bz2\ncd dlib-18.16/python_examples\nmkdir build\ncd build\ncmake ../../tools/python\ncmake --build . --config Release\ncp dlib.so ..\n</code></pre>\n\n<h3><a id=\"user-content-torch\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#torch\"></a>Torch</h3>\n\n<p>Install <a href=\"http://torch.ch\">Torch</a> from the instructions on their website\nand install the <a href=\"https://github.com/nicholas-leonard/dpnn\">dpnn</a>\nand <a href=\"https://github.com/torch/nn\">nn</a> libraries with\n<code>luarocks install dpnn</code> and <code>luarocks install nn</code>.</p>\n\n<p>If you want CUDA support, also install\n<a href=\"https://github.com/soumith/cudnn.torch\">cudnn.torch</a>.</p>\n\n<h2><a id=\"user-content-citations\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#citations\"></a>Citations</h2>\n\n<p><a href=\"http://dx.doi.org/10.5281/zenodo.32041\"><img src=\"https://camo.githubusercontent.com/f579c9d16000174d04b351c5b3a8d3333629a745/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f646f692f31302e353238312f7a656e6f646f2e33323034312e737667\" alt=\"DOI\"></a></p>\n\n<p>Please cite this repository if you use this in academic works.</p>\n\n<pre><code>@misc{brandon_amos_2015_32041,\n author = {Amos, Brandon and Harkes, Jan and Pillai, Padmanabhan and Elgazzar, Khalid and Satyanarayanan, Mahadev},\n title = {OpenFace: Face recognition with Google's FaceNet deep neural network.},\n month = oct,\n year = 2015,\n doi = {10.5281/zenodo.32041},\n url = {http://dx.doi.org/10.5281/zenodo.32041}\n}\n</code></pre>\n\n<h2><a id=\"user-content-acknowledgements\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#acknowledgements\"></a>Acknowledgements</h2>\n\n\n\n<h2><a id=\"user-content-licensing\" class=\"anchor\" href=\"https://github.com/cmusatyalab/openface#licensing\"></a>Licensing</h2>\n\n<p>The source code and trained models <code>nn4.v1.t7</code> and\n<code>celeb-classifier.nn4.v1.t7</code> are copyright\nCarnegie Mellon University and licensed under the\n<a href=\"https://github.com/cmusatyalab/openface/blob/master/LICENSE\">Apache 2.0 License</a>.\nPortions from the following third party sources have\nbeen modified and are included in this repository.\nThese portions are noted in the source files and are\ncopyright their respective authors with\nthe licenses listed.</p>\n\n\n</article>\n </div>"
    }, {
        "title": "alvarotrigo/pagePiling.js",
        "url": "https://github.com/alvarotrigo/pagePiling.js",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:11:43 EDT 2016",
        "html_file": "alvarotrigopagepilingjs.html",
        "png_file": "alvarotrigopagepilingjs.png",
        "md_file": "alvarotrigopagepilingjs.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><a href=\"https://camo.githubusercontent.com/59a2a5c011cdad9f45883bb69db13b53350a950c/68747470733a2f2f7261772e6769746875622e636f6d2f616c7661726f747269676f2f7061676550696c696e672e6a732f6d61737465722f6578616d706c65732f696d67732f7061676550696c696e672d706c7567696e2e706e67\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/59a2a5c011cdad9f45883bb69db13b53350a950c/68747470733a2f2f7261772e6769746875622e636f6d2f616c7661726f747269676f2f7061676550696c696e672e6a732f6d61737465722f6578616d706c65732f696d67732f7061676550696c696e672d706c7567696e2e706e67\" alt=\"preview\"></a><a href=\"https://camo.githubusercontent.com/67c5ed7b37db9b3c14057291969b082794d1dcc8/68747470733a2f2f7261772e6769746875622e636f6d2f616c7661726f747269676f2f7061676550696c696e672e6a732f6d61737465722f6578616d706c65732f696d67732f636f6d70617469626c652e676966\" target=\"_blank\"><img src=\"https://camo.githubusercontent.com/67c5ed7b37db9b3c14057291969b082794d1dcc8/68747470733a2f2f7261772e6769746875622e636f6d2f616c7661726f747269676f2f7061676550696c696e672e6a732f6d61737465722f6578616d706c65732f696d67732f636f6d70617469626c652e676966\" alt=\"compatibility\"></a>\nPile your sections one over another and access them scrolling or by URL!</p>\n\n<p>Invite me to a coffee\n<a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=atrigol%40gmail%2ecom&amp;lc=ES&amp;item_name=pagePiling%2ejs&amp;item_number=pagePiling&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted\"><img src=\"https://camo.githubusercontent.com/24ae43518013d5c9306ddadbbc2fdea234d3522c/68747470733a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f47422f692f62746e2f62746e5f646f6e61746543435f4c472e676966\" alt=\"Donate\"></a></p>\n\n<p>Customizations of the plugin available upon request for some reasonable price. <a href=\"http://alvarotrigo.com/#contact-page\">Contact me</a>.</p>\n\n<p>Would you like to have a website using pilePage.js functionality but you don't know how to use it? I can do it for you for a reasonable price. <a href=\"http://alvarotrigo.com/#contact-page\">Contact me</a>.</p>\n\n<h2>\n<a name=\"user-content-introduction\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#introduction\"></a>Introduction</h2>\n\n<p>Suggestion are more than welcome, not only for feature requests but also for coding style improvements.\nLet's make this a great plugin to make people's lives easier!</p>\n\n<h2>\n<a name=\"user-content-compatibility\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#compatibility\"></a>Compatibility</h2>\n\n<p>pagePiling.js is fully functional on all modern browsers, as well as some old ones such as Internet Explorer 8, 9, Opera 12, etc.\nIt works with browsers with CSS3 support and with the ones which don't have it, making it ideal for old browsers compatibility.</p>\n\n<p>It is also designed to work on toudh devices such as mobile phones or tablets.</p>\n\n<h2>\n<a name=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#usage\"></a>Usage</h2>\n\n<p>As you can see in the example files, you will need to include the JavaScript file <code>jquery.pagepiling.js</code> (or the minified version <code>jquery.pagepiling.min.js</code>) and the css file <code>jquery.pagepiling.css</code> of the plugin, as well as <a href=\"http://jquery.com/\">jQuery</a>. Optionally, you can add the <a href=\"http://jqueryui.com/\">jQuery UI library</a> in case you want to use other easing effects apart from the ones included in the jQuery library which are the <code>linear</code> or <code>swing</code> effects.</p>\n\n<h3>\n<a name=\"user-content-including-files\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#including-files\"></a>Including files:</h3>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text/css\"</span> <span class=\"na\">href=</span><span class=\"s\">\"jquery.pagepiling.css\"</span> <span class=\"nt\">/&gt;</span>\n\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"na\">src=</span><span class=\"s\">\"jquery.pagepiling.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-required-html-structure\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#required-html-structure\"></a>Required HTML structure</h3>\n\n<p>Each section will be defined with a <code>div</code> containing the <code>section</code> class.\nThe active section by default will be the first section, which is taken as the home page.</p>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"pagepiling\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"section\"</span><span class=\"nt\">&gt;</span>Some section<span class=\"nt\">&lt;/div&gt;</span>\n <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"section\"</span><span class=\"nt\">&gt;</span>Some section<span class=\"nt\">&lt;/div&gt;</span>\n <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"section\"</span><span class=\"nt\">&gt;</span>Some section<span class=\"nt\">&lt;/div&gt;</span>\n <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"section\"</span><span class=\"nt\">&gt;</span>Some section<span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-initialization\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#initialization\"></a>Initialization</h3>\n\n<p>All you need to do is call the plugin inside a <code>$(document).ready</code> function:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagepiling</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<p>A more complex initialization with all options set could look like this:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">menu</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n <span class=\"nx\">verticalCentered</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n <span class=\"nx\">sectionsColor</span><span class=\"o\">:</span> <span class=\"p\">[],</span>\n <span class=\"nx\">anchors</span><span class=\"o\">:</span> <span class=\"p\">[],</span>\n <span class=\"nx\">scrollingSpeed</span><span class=\"o\">:</span> <span class=\"mi\">700</span><span class=\"p\">,</span>\n <span class=\"nx\">easing</span><span class=\"o\">:</span> <span class=\"s1\">'swing'</span><span class=\"p\">,</span>\n <span class=\"nx\">loopBottom</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n <span class=\"nx\">loopTop</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n <span class=\"nx\">css3</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n <span class=\"nx\">navigation</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'textColor'</span><span class=\"o\">:</span> <span class=\"s1\">'#000'</span><span class=\"p\">,</span>\n <span class=\"s1\">'bulletsColor'</span><span class=\"o\">:</span> <span class=\"s1\">'#000'</span><span class=\"p\">,</span>\n <span class=\"s1\">'position'</span><span class=\"o\">:</span> <span class=\"s1\">'right'</span><span class=\"p\">,</span>\n <span class=\"s1\">'tooltips'</span><span class=\"o\">:</span> <span class=\"p\">[</span><span class=\"s1\">'section1'</span><span class=\"p\">,</span> <span class=\"s1\">'section2'</span><span class=\"p\">,</span> <span class=\"s1\">'section3'</span><span class=\"p\">,</span> <span class=\"s1\">'section4'</span><span class=\"p\">]</span>\n <span class=\"p\">},</span>\n <span class=\"nx\">normalScrollElements</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n <span class=\"nx\">normalScrollElementTouchThreshold</span><span class=\"o\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n <span class=\"nx\">touchSensitivity</span><span class=\"o\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n <span class=\"nx\">keyboardScrolling</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n <span class=\"nx\">sectionSelector</span><span class=\"o\">:</span> <span class=\"s1\">'.section'</span><span class=\"p\">,</span>\n <span class=\"nx\">animateAnchor</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n\n <span class=\"c1\">//events</span>\n <span class=\"nx\">onLeave</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">nextIndex</span><span class=\"p\">,</span> <span class=\"nx\">direction</span><span class=\"p\">){},</span>\n <span class=\"nx\">afterLoad</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">anchorLink</span><span class=\"p\">,</span> <span class=\"nx\">index</span><span class=\"p\">){},</span>\n <span class=\"nx\">afterRender</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){},</span>\n <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-accesing-sections\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#accesing-sections\"></a>Accesing sections</h3>\n\n<p>In order to create links to a certain section, you can use a normal URL link if you are using pagePiling.js with anchor links (using the <code>anchors</code> option), then you will be able to use anchor links also to navigate directly to a certain section.\nFor example: <a href=\"http://alvarotrigo.com/pagePiling/#page2\">http://alvarotrigo.com/pagePiling/#page2</a></p>\n\n<p><strong>Be careful!</strong> <code>data-anchor</code> tags can not have the same value as any ID element on the site (or NAME element for IE).</p>\n\n<h3>\n<a name=\"user-content-using-a-menu\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#using-a-menu\"></a>Using a menu</h3>\n\n<p>To link the menu with the active section you will have to use the <code>menu</code> option and make use of anchor links (#) as explained below in the options section.</p>\n\n<h2>\n<a name=\"user-content-options\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#options\"></a>Options</h2>\n\n<ul class=\"task-list\">\n<li><p><code>verticalCentered</code>: (default <code>true</code>) Vertically centering of the content within sections.</p></li>\n<li><p><code>scrollingSpeed</code>: (default <code>700</code>) Speed in milliseconds for the scrolling transitions.</p></li>\n<li><p><code>sectionsColor</code>:(default <code>none</code>) Define the CSS <code>background-color</code> property for each section:\nExample:</p></li>\n</ul><div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">sectionsColor</span><span class=\"o\">:</span> <span class=\"p\">[</span><span class=\"s1\">'#f2f2f2'</span><span class=\"p\">,</span> <span class=\"s1\">'#4BBFC3'</span><span class=\"p\">,</span> <span class=\"s1\">'#7BAABE'</span><span class=\"p\">,</span> <span class=\"s1\">'whitesmoke'</span><span class=\"p\">,</span> <span class=\"s1\">'#000'</span><span class=\"p\">],</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<ul class=\"task-list\">\n<li>\n<code>anchors</code>: (default <code>[]</code>) Defines the anchor links (#example) to be shown on the URL for each section. Using anchors forward and backward navigation will also be possible through the browser. This option also allows users to bookmark a specific section. <strong>Be careful!</strong> if you use anchors, they can not have the same value as any ID element on the site (or NAME element for IE).</li>\n</ul><p><strong>Important</strong> It is helpful to understand that the values in the <code>anchors</code> option array correlate directly to the element with the class of <code>.section</code> by it's position in the markup.</p>\n\n<ul class=\"task-list\">\n<li><p><code>easing</code>: (default <code>swing</code>) Defines the transition effect to use for the vertical and horizontal scrolling.\nIt requires the file <code>vendors/jquery.easings.min.js</code> or <a href=\"http://jqueryui.com/\">jQuery UI</a> for using some of its transitions. Other libraries could be used instead.</p></li>\n<li><p><code>loopTop</code>: (default <code>false</code>) Defines whether scrolling up in the first section should scroll to the last one or not.</p></li>\n<li><p><code>loopBottom</code>: (default <code>false</code>) Defines whether scrolling down in the last section should scroll to the first one or not.</p></li>\n<li><p><code>css3</code>: (default <code>true</code>). Defines wheter to use JavaScript or CSS3 transforms to scroll within sections. Useful to speed up the movement in tablet and mobile devices with browsers supporting CSS3. If this option is set to <code>true</code> and the browser doesn't support CSS3, a jQuery fallback will be used instead.</p></li>\n<li><p><code>normalScrollElements</code>: (default <code>null</code>) If you want to avoid the auto scroll when scrolling over some elements, this is the option you need to use. (useful for maps, scrolling divs etc.) It requires a string with the jQuery selectors for those elements. (For example: <code>normalScrollElements: '#element1, .element2'</code>)</p></li>\n<li><p><code>normalScrollElementTouchThreshold</code> : (default <code>5</code>) Defines the threshold for the number of hops up the html node tree pagePiling will test to see if <code>normalScrollElements</code> is a match to allow scrolling functionality on divs on a touch device. (For example: <code>normalScrollElementTouchThreshold: 3</code>)</p></li>\n<li><p><code>keyboardScrolling</code>: (default <code>true</code>) Defines if the content can be navigated using the keyboard</p></li>\n<li><p><code>touchSensitivity</code>: (default <code>5</code>) Defines a percentage of the browsers window width/height, and how far a swipe must measure for navigating to the next section.</p></li>\n<li><p><code>animateAnchor</code>: (default <code>true</code>) Defines whether the load of the site when given an anchor (#) will scroll with animation to its destination or will directly load on the given section.</p></li>\n<li><p><code>menu</code>: (default <code>false</code>) A selector can be used to specify the menu to link with the sections. This way the scrolling of the sections will activate the corresponding element in the menu using the class <code>active</code>.\nThis won't generate a menu but will just add the <code>active</code> class to the element in the given menu with the corresponding anchor links.\nIn order to link the elements of the menu with the sections, an HTML 5 data-tag (<code>data-menuanchor</code>) will be needed to use with the same anchor links as used within the sections. Example:</p></li>\n</ul><div class=\"highlight highlight-html\"><pre><span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"myMenu\"</span><span class=\"nt\">&gt;</span>\n <span class=\"nt\">&lt;li</span> <span class=\"na\">data-menuanchor=</span><span class=\"s\">\"firstPage\"</span> <span class=\"na\">class=</span><span class=\"s\">\"active\"</span><span class=\"nt\">&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#firstPage\"</span><span class=\"nt\">&gt;</span>First section<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n <span class=\"nt\">&lt;li</span> <span class=\"na\">data-menuanchor=</span><span class=\"s\">\"secondPage\"</span><span class=\"nt\">&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#secondPage\"</span><span class=\"nt\">&gt;</span>Second section<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n <span class=\"nt\">&lt;li</span> <span class=\"na\">data-menuanchor=</span><span class=\"s\">\"thirdPage\"</span><span class=\"nt\">&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#thirdPage\"</span><span class=\"nt\">&gt;</span>Third section<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n <span class=\"nt\">&lt;li</span> <span class=\"na\">data-menuanchor=</span><span class=\"s\">\"fourthPage\"</span><span class=\"nt\">&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#fourthPage\"</span><span class=\"nt\">&gt;</span>Fourth section<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n<span class=\"nt\">&lt;/ul&gt;</span>\n</pre></div>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">anchors</span><span class=\"o\">:</span> <span class=\"p\">[</span><span class=\"s1\">'firstPage'</span><span class=\"p\">,</span> <span class=\"s1\">'secondPage'</span><span class=\"p\">,</span> <span class=\"s1\">'thirdPage'</span><span class=\"p\">,</span> <span class=\"s1\">'fourthPage'</span><span class=\"p\">,</span> <span class=\"s1\">'lastPage'</span><span class=\"p\">],</span>\n <span class=\"nx\">menu</span><span class=\"o\">:</span> <span class=\"s1\">'#myMenu'</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<p><strong>Note:</strong> the menu element should be placed outside the pagePiling wrapper in order to avoid problem when ussing <code>css3:true</code>. Otherwise it will be appeneded to the <code>body</code> by the plugin itself.</p>\n\n<ul class=\"task-list\">\n<li><p><code>navigation</code>: (default <code>false</code>) If set to <code>true</code>, it will show a navigation bar made up of small circles.</p></li>\n<li><p><code>sectionSelector</code>: (default <code>.section</code>) Defines the jQuery selector used for the plugin sections. It might need to be changed sometimes to avoid problem with other plugins using the same selectors as pagePiling.js..</p></li>\n</ul><h2>\n<a name=\"user-content-methods\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#methods\"></a>Methods</h2>\n\n<h3>\n<a name=\"user-content-movesectionup\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#movesectionup\"></a>moveSectionUp()</h3>\n\n<p>Scrolls one section up:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">moveSectionUp</span><span class=\"p\">();</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-movesectiondown\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#movesectiondown\"></a>moveSectionDown()</h3>\n\n<p>Scrolls one section down:</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">moveSectionDown</span><span class=\"p\">();</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-movetosection\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#movetosection\"></a>moveTo(section)</h3>\n\n<p>Scrolls the page to the given section.</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"cm\">/*Scrolling to the section with the anchor link `firstSection` */</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">moveTo</span><span class=\"p\">(</span><span class=\"s1\">'firstSection'</span><span class=\"p\">);</span>\n\n</pre></div>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"c1\">//Scrolling to the 3rd section in the site</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">moveTo</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">);</span>\n\n<span class=\"c1\">//Which is the same as</span>\n<span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">moveTo</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-setallowscrollingboolean\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#setallowscrollingboolean\"></a>setAllowScrolling(boolean)</h3>\n\n<p>Adds or remove the possiblity of scrolling through sections by using the mouse wheel/trackpad or touch gestures (which is active by default).</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">setAllowScrolling</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-setkeyboardscrollingboolean\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#setkeyboardscrollingboolean\"></a>setKeyboardScrolling(boolean)</h3>\n\n<p>Adds or remove the possiblity of scrolling through sections by using the keyboard arrow keys (which is active by default).</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">setKeyboardScrolling</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">);</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-setscrollingspeedmilliseconds\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#setscrollingspeedmilliseconds\"></a>setScrollingSpeed(milliseconds)</h3>\n\n<p>Defines the scrolling speed in milliseconds.</p>\n\n<div class=\"highlight highlight-javascript\"><pre><span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">fn</span><span class=\"p\">.</span><span class=\"nx\">pagePiling</span><span class=\"p\">.</span><span class=\"nx\">setScrollingSpeed</span><span class=\"p\">(</span><span class=\"mi\">700</span><span class=\"p\">);</span>\n</pre></div>\n\n<h2>\n<a name=\"user-content-callbacks\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#callbacks\"></a>Callbacks</h2>\n\n<h3>\n<a name=\"user-content-afterload-anchorlink-index\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#afterload-anchorlink-index\"></a>afterLoad (<code>anchorLink</code>, <code>index</code>)</h3>\n\n<p>Callback fired once the sections have been loaded, after the scrolling has ended.\nParameters:</p>\n\n<ul class=\"task-list\">\n<li>\n<code>anchorLink</code>: anchorLink corresponding to the section.</li>\n<li>\n<code>index</code>: index of the section. Starting from 1.</li>\n</ul><p>In case of not having anchorLinks defined in the plugin the <code>index</code> parameter would be the only one to use.</p>\n\n<p>Example:</p>\n\n<div class=\"highlight highlight-javascript\"><pre> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">anchors</span><span class=\"o\">:</span> <span class=\"p\">[</span><span class=\"s1\">'firstPage'</span><span class=\"p\">,</span> <span class=\"s1\">'secondPage'</span><span class=\"p\">,</span> <span class=\"s1\">'thirdPage'</span><span class=\"p\">,</span> <span class=\"s1\">'fourthPage'</span><span class=\"p\">,</span> <span class=\"s1\">'lastPage'</span><span class=\"p\">],</span>\n\n <span class=\"nx\">afterLoad</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">anchorLink</span><span class=\"p\">,</span> <span class=\"nx\">index</span><span class=\"p\">){</span>\n <span class=\"c1\">//using index</span>\n <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">==</span> <span class=\"s1\">'3'</span><span class=\"p\">){</span>\n <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"Section 3 ended loading\"</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n\n <span class=\"c1\">//using anchorLink</span>\n <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">anchorLink</span> <span class=\"o\">==</span> <span class=\"s1\">'secondPage'</span><span class=\"p\">){</span>\n <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"Section 2 ended loading\"</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n <span class=\"p\">}</span>\n <span class=\"p\">});</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-onleave-index-nextindex-direction\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#onleave-index-nextindex-direction\"></a>onLeave (<code>index</code>, <code>nextIndex</code>, <code>direction</code>)</h3>\n\n<p>This callback is fired once the user leaves a section, in the transition to the new section.</p>\n\n<p>Parameters:</p>\n\n<ul class=\"task-list\">\n<li>\n<code>index</code>: index of the leaving section. Starting from 1.</li>\n<li>\n<code>nextIndex</code>: index of the destination section. Starting from 1.</li>\n<li>\n<code>direction</code>: it will take the values <code>up</code> or <code>down</code> depending on the scrolling direction.</li>\n</ul><p>Example:</p>\n\n<div class=\"highlight highlight-javascript\"><pre> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">onLeave</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">nextIndex</span><span class=\"p\">,</span> <span class=\"nx\">direction</span><span class=\"p\">){</span>\n <span class=\"c1\">//after leaving section 2</span>\n <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">==</span> <span class=\"s1\">'2'</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">direction</span> <span class=\"o\">==</span><span class=\"s1\">'down'</span><span class=\"p\">){</span>\n <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"Going to section 3!\"</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n\n <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">==</span> <span class=\"s1\">'2'</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">direction</span> <span class=\"o\">==</span> <span class=\"s1\">'up'</span><span class=\"p\">){</span>\n <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"Going to section 1!\"</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n <span class=\"p\">}</span>\n <span class=\"p\">});</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-afterrender\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#afterrender\"></a>afterRender()</h3>\n\n<p>This callback is fired just after the structure of the page is generated. This is the callback you want to use to initialize other plugins or fire any code which requires the document to be ready (as this plugin modifies the DOM to create the resulting structure).</p>\n\n<p>Example:</p>\n\n<div class=\"highlight highlight-javascript\"><pre> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#pagepiling'</span><span class=\"p\">).</span><span class=\"nx\">pagePiling</span><span class=\"p\">({</span>\n <span class=\"nx\">afterRender</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(){</span>\n <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"The resulting DOM stucture is ready\"</span><span class=\"p\">);</span>\n <span class=\"p\">}</span>\n <span class=\"p\">});</span>\n</pre></div>\n\n<h2>\n<a name=\"user-content-who-is-using-pagepilingjs\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#who-is-using-pagepilingjs\"></a>Who is using pagePiling.js</h2>\n\n<p>If you want your page to be listed here. Please <a href=\"mailto:alvaro@alvarotrigo.com\">contact me</a> with the URL.</p>\n\n<h2>\n<a name=\"user-content-donations\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#donations\"></a>Donations</h2>\n\n<p>Donations would be more than welcome :)</p>\n\n<p><a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=atrigol%40gmail%2ecom&amp;lc=ES&amp;item_name=pagePiling%2ejs&amp;item_number=pagePiling&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted\"><img src=\"https://camo.githubusercontent.com/24ae43518013d5c9306ddadbbc2fdea234d3522c/68747470733a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f47422f692f62746e2f62746e5f646f6e61746543435f4c472e676966\" alt=\"Donate\"></a></p>\n\n<h2>\n<a name=\"user-content-license\" class=\"anchor\" href=\"https://github.com/alvarotrigo/pagePiling.js#license\"></a>License</h2>\n\n<p>(The MIT License)</p>\n\n<p>Copyright (c) 2014 Alvaro Trigo &lt;<a href=\"mailto:alvaro@alvarotrigo.com\">alvaro@alvarotrigo.com</a>&gt;</p>\n\n<p>Permission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:</p>\n\n<p>The above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.</p>\n\n<p>THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p></article>\n </div>"
    }, {
        "title": "UNIXDAEMON",
        "url": "http://www.unixdaemon.net/tools/puppet/simple-puppet-module-testing-with-dockunit.html",
        "excerpt": "Tue, 20 Oct 2015 Simple Puppet Module Testing with Dockunit I've recently begun to look at replacing as much of my custom puppet tooling as possible with third-party, open source, code. As part of&hellip;",
        "date_saved": "Thu Jul 28 20:11:44 EDT 2016",
        "html_file": "unixdaemon.html",
        "png_file": "unixdaemon.png",
        "md_file": "unixdaemon.md",
        "content": "<div><div id=\"maincontent\">\n<p>Tue, 20 Oct 2015</p>\n<h2><a name=\"simple-puppet-module-testing-with-dockunit\">Simple Puppet Module Testing with Dockunit</a></h2>\n\n<p>\n\nI've recently begun to look at replacing as much of my custom puppet tooling\nas possible with third-party, open source, code. As part of this I'm\nplanning to update my old libvirt testing infrastructure with more modern tools,\nand this seems to be leading me heavily down the docker path.</p>\n\n<p>\nOne of the simpler, but less known, solutions in this space seems to be\n<a href=\"https://www.npmjs.com/package/dockunit\">Dockunit</a>, which bills\nitself as \"<cite>Containerized unit testing across any platform and\nprogramming language</cite>\" and is remarkably simple to get started\nwith. I decided to try it on a Fedora host and use it to execute\nrspec tests included in a tiny puppet module on both Centos and Ubuntu.</p>\n\n<p>\nAssuming you already have docker installed and running the addition of\ndockunit to your system is quick and easy, although dockunit is written in node so\nyou'll now have that run time installed too.</p>\n\n<pre>\n<code>\n# check docker is up and running\n$ systemctl status docker\n$ docker info\n\n# install npm so dockunit can run\nsudo dnf install npm\n\n# do a local install of the dockunit package\nnpm install dockunit\n</code>\n</pre>\n\n<p>\nNow dockunit and its dependencies are installed you need to add a\nDockunit.json file inside the directory containing the module. For our\nfirst test we'll run the specs inside a Centos container and turn the\nverbosity up so we can follow along.</p>\n\n<pre>\n<code>\n$ cd $module\n\n$ cat dockunit.json\n{\n \"containers\": [\n {\n \"prettyName\": \"Centos 7\",\n \"image\": \"centos:7\",\n \"beforeScripts\": [\n \"yum install -y rubygems rubygem-bundler ruby-devel make rubygem-json gcc\",\n \"bundle install\"\n ],\n \"testCommand\": \"bundle exec rake spec\"\n }\n ]\n}\n\n# the local node install didn't put the binary in my path\n$ ~/node_modules/dockunit/bin/dockunit --du-verbose\n\n... snip ...\nTesting on container Centos 7\n\nPulling docker image: centos:7\n\n... snip ...\n\nRunning \"bundle exec rake spec\" on container Centos 7\n/usr/bin/ruby -I... --pattern spec/\\{classes,unit,integration\\}/\\*\\*/\\*_spec.rb --color\n\nnettools\n should compile into a catalogue without dependency cycles\n should contain Package[net-tools]\n\nFinished in 1.12 seconds (files took 0.74765 seconds to load)\n2 examples, 0 failures\n\n1 container(s) passed\n</code>\n</pre>\n\n<p>\nAlthough I've heavily snipped dockunits output you can still get an idea of\nthe basic flow, including the results from our specs. As helper tools go\nthis one requires a very small ramp up and if you're looking to test basic\nmodules, gems or pip packages then dockunit might be all you need for quite\na while. Now we've got our first use case running let's be a little more\nambitious and try to do a run on Centos as before but also add Fedora 22\nand Ubuntu 15.04.</p>\n\n<pre>\n<code>\n\n$ cat Dockunit.json \n{\n \"containers\": [\n { \n \"prettyName\": \"Centos 7\",\n \"image\": \"centos:7\",\n \"beforeScripts\": [\n \"yum install -y rubygems rubygem-bundler ruby-devel make rubygem-json gcc\",\n \"bundle install\"\n ],\n \"testCommand\": \"bundle exec rake spec\"\n },\n {\n \"prettyName\": \"Fedora 22\",\n \"image\": \"fedora:22\",\n \"beforeScripts\": [\n \"dnf install -y rubygems rubygem-bundler ruby-devel make rubygem-json gcc\",\n \"bundle install\"\n ],\n \"testCommand\": \"bundle exec rake spec\"\n },\n {\n \"prettyName\": \"Ubuntu 15:04\",\n \"image\": \"ubuntu:15.04\",\n \"beforeScripts\": [\n \"apt-get update\",\n \"apt-get install -y bundler\",\n \"bundle install\"\n ],\n \"testCommand\": \"bundle exec rake spec\"\n }\n ]\n}\n\n# run the tests under all containers\n$ ~/node_modules/dockunit/bin/dockunit --du-verbose\n\n# run the tests against a single container\n# --du-container is the container index, starting from Centos at 0\n$ ~/node_modules/dockunit/bin/dockunit --du-verbose --du-container=1\n\n</code>\n</pre>\n\n<p>The examples here are a little slow due to pulling in all the\ndependencies on container creation but that's easily fixed by creating a\nreusable image with the testing dependencies and storing it your own\ndocker repository. Running the dockunit command again will now run the\ntestes under each of the three containers, unfortunately in serial, so it\ncan take a little while. Still, dockunit is a nice, self-contained tool that\ncan be an excellent jumping in point for someone who wants to use\ncontainers for simple testing but has no supporting infrastructure and\nwants to as simply as possible.\n</p>\n<p class=\"posted\">\nPosted: 2015/10/20 18:09\n | <i><a href=\"http://www.unixdaemon.net/tools/puppet/\">/tools/puppet</a></i> |\n<a href=\"http://www.unixdaemon.net/tools/puppet/simple-puppet-module-testing-with-dockunit.html\">Permanent link to this entry</a>\n</p>\n\n\n\n\n <p>Copyright &#xA9; 2000-2014 Dean Wilson :: \n <a href=\"http://www.unixdaemon.net/cgi-bin/blosxom.pl/index.rss\" title=\"Unixdaemon RSS Feed\">RSS Feed</a>\n </p>\n </div>\n </div>"
    }, {
        "title": "wkoszek/flviz",
        "url": "https://github.com/wkoszek/flviz",
        "excerpt": "FLVIZ - DFA simulator FLVIZ stands for \"Formal Languages Visualizer\". It is a Windows GUI program which reads a configuration file, and based on its content creates a visualization of a state machine&hellip;",
        "date_saved": "Thu Jul 28 20:11:46 EDT 2016",
        "html_file": "wkoszekflviz.html",
        "png_file": "wkoszekflviz.png",
        "md_file": "wkoszekflviz.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-flviz---dfa-simulator\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#flviz---dfa-simulator\"></a>FLVIZ - DFA simulator</h2>\n\n<p><a href=\"https://ci.appveyor.com/project/wkoszek/flviz\"><img src=\"https://camo.githubusercontent.com/762bce4f21dbe6610a705da2ea8b7356954a1dcf/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f367932366c656b7933333733653671773f7376673d74727565\" alt=\"Build status\"></a></p>\n\n<p>FLVIZ stands for \"Formal Languages Visualizer\". It is a Windows GUI program\nwhich reads a configuration file, and based on its content creates a\nvisualization of a state machine (graph), and lets you apply a stimulus\n(vocabulary) and see the state transitions happen dynamically.</p>\n\n<p><a href=\"https://github.com/wkoszek/flviz/blob/master/img/flviz_screenshot.jpg\" target=\"_blank\"><img width=\"70%\" src=\"https://github.com/wkoszek/flviz/raw/master/img/flviz_screenshot.jpg\"></a></p>\n\n<h2><a id=\"user-content-introduction\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#introduction\"></a>Introduction</h2>\n\n<p>It was originally written in 2009 during my \"Formal Languages\" class which\nwas a part of my M.Sc CS curriculum. The biggest challenge was getting it on\ntime and making it work under Windows, since it was written in about 3 days\non FreeBSD and then quickly ported. You can see what I mean if you glance at\nthe <code>release</code> directory.</p>\n\n<p>Created for Windows XP with SP 3 and based on QT Creator and <code>QT4</code>\nlibrary, it hasn't been build/used since I finished the class. In 2015 I\nhave updated it: by using <a href=\"http://www.appveyor.com\">http://www.appveyor.com</a> I converted it to <code>Qt5</code>\nlibrary and made it work on Windows Server 2012.</p>\n\n<p>During \"Formal languages\" class we were provided the state machine\ninput file. The format isn't something I designed and is very imperfect.</p>\n\n<h2><a id=\"user-content-requirements\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#requirements\"></a>Requirements</h2>\n\n<ul>\n<li>Windows system. Originally XP, then ported to Windows Server 2012. I\nsuspect any decent Windows version should be fine.</li>\n<li>Qt Creator (tested with Qt 5.5)</li>\n<li>MinGW GCC (installation as a part of Qt)\n\n<ul>\n<li>I haven't tested building it with Microsoft Visual C++</li>\n</ul></li>\n</ul>\n\n<p>All libraries are present in the repo, so deployment straight after\ncompilation should be possible.</p>\n\n<h2><a id=\"user-content-build-instructions\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#build-instructions\"></a>Build instructions</h2>\n\n<p>For convenience, build script <code>build.bat</code> is present in the repository. To\nbuild, run:</p>\n\n<pre><code>build.bat\n</code></pre>\n\n<p>Please note this script may need to be adjusted if you end up building with\nanything else but Qt 5.5.</p>\n\n<h2><a id=\"user-content-convenience-tools-for-appveyor\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#convenience-tools-for-appveyor\"></a>Convenience tools for AppVeyor</h2>\n\n<p>If you clone the repository and also decide to use Appveyor for remote\ntesting/work, you may want to run:</p>\n\n<pre><code>gettools.bat\n</code></pre>\n\n<p>Which will install both Vim editor and ConEmu, which are convenience tools\nfor development.</p>\n\n<h2><a id=\"user-content-data-format\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#data-format\"></a>Data format</h2>\n\n<p>Data format was provided in a class. It's not great. Sample data format is\nas follows:</p>\n\n<pre><code> filename line data\n---------------------------------------------------------\ndata.1.txt | 1 | 5 3 2\ndata.1.txt | 2 |\ndata.1.txt | 3 | &lt;tablica wejsciowa ASD&gt;\ndata.1.txt | 4 | 0 1 e\ndata.1.txt | 5 | 1 f f 2\ndata.1.txt | 6 | 2 3 f f\ndata.1.txt | 7 | 3 f f 2\ndata.1.txt | 8 | 4 f 5 f\ndata.1.txt | 9 | 5 f f f\ndata.1.txt | 10 |\ndata.1.txt | 11 | &lt;tablica stanow koncowych&gt;\ndata.1.txt | 12 | 3 4\n</code></pre>\n\n<p>Empty spaces or lines don't matter. For convenience of discussion, I'm\nmentioning line numbers for reference below. <code>f</code> means empty state.</p>\n\n<p>TODO: understand state indexing. My original comment stated states are\nindexed from 0, which I believe referred to the implementation.</p>\n\n<h2><a id=\"user-content-data-format-explanation\" class=\"anchor\" href=\"https://github.com/wkoszek/flviz#data-format-explanation\"></a>Data format explanation</h2>\n\n<ul>\n<li><p>Line (1), intro:</p>\n\n<ul>\n<li>5 states</li>\n<li>3 letters in the alphabet</li>\n<li>2 end states</li>\n</ul></li>\n<li><p>Line (3), magic pragmas:</p>\n\n<ul>\n<li><code>&lt;tablica wejsciowa ASD&gt;</code> dla automatu ASD</li>\n<li><code>&lt;tablica wejsciowa ASN&gt;</code> dla automatu ASN</li>\n<li><strong>TODO</strong>: I don't remember what these were all about.</li>\n</ul></li>\n<li><p>Line (4):</p>\n\n<ul>\n<li>Alphabet available to this program</li>\n</ul></li>\n<li><p>Lines (5--9):</p>\n\n<ul>\n<li>first column means state name, if I'm not mistaken</li>\n<li>consecutive columns define transitions if one of the alphabet inputs is\napplied.</li>\n<li><strong>TODO</strong>: example needed. Must confirm.</li>\n</ul></li>\n<li><p>Line (11), magic pragma:</p>\n\n</li>\n</ul>\n</article>\n </div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:11:47 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "Metabase Documentation",
        "url": "http://www.metabase.com/docs/v0.12.0/getting-started.html",
        "excerpt": "Metabase is a simple and powerful analytics tool which lets anyone learn and make decisions from their company's data. No technical knowledge required! We hope you love it. Logging in The way you log&hellip;",
        "date_saved": "Thu Jul 28 20:11:49 EDT 2016",
        "html_file": "metabase_documentation.html",
        "png_file": "metabase_documentation.png",
        "md_file": "metabase_documentation.md",
        "content": "<div><div class=\"ten columns release offset-by-one\">\n \n \n \n\n \n\n<p>Metabase is a simple and powerful analytics tool which lets anyone learn and make decisions from their company's data. No technical knowledge required! We hope you love it.</p>\n\n<h2 id=\"logging-in\">Logging in</h2>\n\n<p>The way you log in to Metabase will depend on how you or your admin set it up, so if you don&#x2019;t know where to go, just ask the person who sent you your Metabase invite.</p>\n\n<h2 id=\"the-homepage\">The homepage</h2>\n\n<p>Go ahead and log in to Metabase and the first thing you'll see is the activity feed. Right now there&#x2019;s not much there, but it&#x2019;ll soon get full as you and your teammates do things in Metabase.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/ActivityFeed.png\" alt=\"Activity Feed\"></p>\n\n<h2 id=\"asking-a-new-question\">Asking a new question</h2>\n\n<p>But, enough about that &#x2014;&#xA0;let&#x2019;s get to asking questions. For the next few examples, we'll be using the <strong>Sample Dataset</strong> that comes with Metabase.</p>\n\n<p>Go ahead and click <strong>New Question</strong> at the top of the screen. Now we&#x2019;re on the new question page. The bar that you see going across the page is what you&#x2019;ll use to ask your questions. The &#x201C;Select a table&#x201D; dropdown should already be open, showing you a list of your database(s) and the tables within them.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/QueryBuilder.png\" alt=\"Query Builder\"></p>\n\n<h2 id=\"our-first-question\">Our first question</h2>\n\n<p>We&#x2019;re going to ask a question about the Orders table in the Sample Dataset database, so we&#x2019;ll click on <strong>Orders</strong> in the dropdown. The Orders table has a bunch of fake data in it about product orders for a made up company. If you just want to see everything that&#x2019;s in this table, you can click <strong>Run query</strong> and see all the raw data.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/Orders.png\" alt=\"Orders\"></p>\n\n<p>Let's start with a simple question: how many orders have been placed with a subtotal (before tax) greater than $40? More precisely, this question translates to, \"How many records (or rows) are in the table 'Orders' with a value greater than 40 in the Subtotal column?&#x201D;</p>\n\n<p>To find out, we want to <em>filter</em> the data by <strong>the field we&#x2019;re interested in</strong>, which is <strong>Subtotal</strong>. Since each row in this table represents one order, counting how many rows there are after we&#x2019;ve filtered them will give us the answer we want.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/Subtotal.png\" alt=\"Subtotal\"></p>\n\n<p>So, after we select Subtotal from the Filter dropdown we&#x2019;ll get some options for the filter, and we&#x2019;ll choose <strong>Greater than</strong>, type the number 40 in the box, and click Add Filter.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/AddFilter.png\" alt=\"Add Filter\"></p>\n\n<p>Next we need to tell Metabase what we want to see. Under the View dropdown, we&#x2019;ll select <strong>Count</strong>, because, like we said, we want to count the total number of rows that match our filter. If we left the View set to Raw Data, that would just show us a list of all the rows, which doesn&#x2019;t answer our question.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/Count.png\" alt=\"Count\"></p>\n\n<h3 id=\"and-our-first-answer\">And our first answer!</h3>\n\n<p>Okay, cool &#x2014;&#xA0;we&#x2019;re ready to ask our question, so let&#x2019;s click the <strong>Run query</strong> button!</p>\n\n<p>So it looks like there were 12,284 orders, each with a subtotal greater than $40. Ka-ching! Another way of saying this is that there were 12,284 <em>records</em> in the table that met the parameters we set.\n<img src=\"http://www.metabase.com/docs/v0.12.0/images/CountAnswer.png\" alt=\"Count Answer\"></p>\n\n<h3 id=\"tweaking-our-question\">Tweaking our question</h3>\n\n<p>Okay, so that&#x2019;s pretty useful, but it would be even <em>more</em> useful if we could know on <em>which days</em> our customers placed these big orders. That&#x2019;s not hard to do at all.</p>\n\n<p>Back in the question builder box, next to <strong>Count</strong> in the View area, we&#x2019;ll click on <strong>Add a grouping.</strong> This shows us a dropdown of columns that we can use to group our results by. the one we want is <strong>Created At</strong>, because this will now give us a separate total count of orders over $40 by the days the orders were placed (or &#x201C;created&#x201D;). So we&#x2019;ll select <strong>Created At</strong> and click <strong>Run query</strong> again.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/CreatedAt.png\" alt=\"Created At\"></p>\n\n<p>This time our result looks different: instead of one big number, now we&#x2019;re looking at a table that shows us how many orders over $40 there were each day. Neat, but this isn&#x2019;t really a great way of visualizing this information.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/CountByDay.png\" alt=\"Count by Day\"></p>\n\n<h3 id=\"changing-the-visualization\">Changing the visualization</h3>\n\n<p>Luckily enough, Metabase can present the answers to your questions in a variety of ways. To change the visualization, just select one of the options from the <strong>Visualization</strong> dropdown menu, which is in the top-left of the screen, above the table. Let&#x2019;s choose <strong>Area</strong>.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/VisualizationMenu.png\" alt=\"Visualization Dropdown Menu\"></p>\n\n<p>Sweet! Looks like business is booming &#x2014;&#xA0;up and to the right is always good. If you want, try playing around with other visualization options in from the dropdown.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/AreaChart.png\" alt=\"Area Chart\"></p>\n\n<p>You&#x2019;ll notice that some formats aren&#x2019;t the best way to show an answer to a question. If Metabase think that's the case with a specific answer and visualization, the choice will appear faded in the visualization dropdown menu. For example, it wouldn't make sense to show the total number of orders over $40 as a single bar graph, or as a map.</p>\n\n<p>If you want, you can try playing around with your question, like changing the number 40 to a different number. Whenever you make any changes to the question, the blue \"Run query\" button will reappear. Click it to ask your new question and get your new answer.</p>\n\n<h2 id=\"sharing-answers-with-others\">Sharing answers with others</h2>\n\n<p>You can use Metabase all on your own, but it becomes even more useful when you start sharing your answers with other people on your team or in your organization. The first step is saving some of your questions.</p>\n\n<h3 id=\"saving-questions\">Saving questions</h3>\n\n<p>Sometimes you&#x2019;ll find yourself asking certain questions again and again, whether it&#x2019;s running regular reports, looking up something about an important segment of users, or just answering the same question for other people in your company. To keep from repeating the same set of steps each time you want to ask the same question, you can save your questions to use later.</p>\n\n<p>To do this, click on the <strong>SAVE</strong> button in the top-right of the question builder screen.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/SaveButton.png\" alt=\"savebutton\"></p>\n\n<p>Metabase will take a stab at giving your question a meaningful name, but you can (and should) use your own naming convention that&#x2019;ll help you and others find your questions later on, after amnesia has sunk in.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/SaveQuestionDialog.png\" alt=\"Save Question Dialog\"></p>\n\n<p>Once you&#x2019;ve saved your question, you can either go back to the home page, add your saved question to a dashboard, or keep asking questions. Let&#x2019;s click <strong>Add to a dashboard</strong> and give that a try.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/SavedQuestion.png\" alt=\"Saved Question\"></p>\n\n<h3 id=\"creating-a-dashboard\">Creating a dashboard</h3>\n\n<p>Unless you went off and did your own thing, you shouldn&#x2019;t have any dashboards yet, so you&#x2019;ll see a dialog that prompts you to create a new one and give it a name and description. Name it anything you&#x2019;d like. We&#x2019;ll call ours &#x201C;My First Dashboard.&#x201D;</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/CreateDashboard.png\" alt=\"Create Dashboard\"></p>\n\n<p>Dashboards are great when you have a set of questions and answers that you want to view together. Your saved questions will be displayed as cards on the dashboard, which you can resize and move around to your heart&#x2019;s content.</p>\n\n<p>So, after you click the button to create your dashboard, you should see your fancy saved question as a little card. Ain&#x2019;t he cute?</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/SavedDashboard.png\" alt=\"Saved Dashboard\"></p>\n\n<p>If you&#x2019;re feeling up to it, you can click the edit button in the top-right of the screen (the one that looks like a pencil), and that&#x2019;ll let you move and resize your saved question so you can get it looking just how you want it. Just click <strong>Save</strong> in the top-right when you&#x2019;re done. We&#x2019;ll make ours a bit wider to let those data points breathe.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/ResizedChart.png\" alt=\"Resized Chart\"></p>\n\n<h3 id=\"sharing-answers-directly\">Sharing answers directly</h3>\n\n<p>One other thing: once you&#x2019;ve asked a question or saved a dashboard, the URL in your browser will link directly to that question or dashboard. That means you can copy and paste that URL into an email or chat and let other people see what you&#x2019;ve found. This will only work if Metabase is installed on a shared server, and will require creating Metabase accounts for the people you want to share with.</p>\n\n<p><img src=\"http://www.metabase.com/docs/v0.12.0/images/ShareableURL.png\" alt=\"shareableurl\"></p>\n\n\n\n<h2 id=\"that&#x2019;s-it\">That&#x2019;s it!</h2>\n\n<p>You&#x2019;ve done really well. You now have a dashboard with your question that you can share! At this point you know enough to be dangerous.</p>\n\n<p>Want to learn more? Is your thirst for knowledge insatiable? Check out our <a href=\"http://www.metabase.com/docs/v0.12.0/users-guide/start.html\">Users Guide</a> for more in-depth explanations of the ins and outs of Metabase.</p>\n\n\n </div>\n </div>"
    }, {
        "title": "maxogden/linux",
        "url": "https://github.com/maxogden/linux",
        "excerpt": "pre-alpha, proceed with caution npm installs hypercore linux (based on tiny core linux) and runs it using the new Mac OS Yosemite hypervisor (via xhyve). This module is a low level component that is&hellip;",
        "date_saved": "Thu Jul 28 20:11:50 EDT 2016",
        "html_file": "maxogdenlinux.html",
        "png_file": "maxogdenlinux.png",
        "md_file": "maxogdenlinux.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><strong>pre-alpha, proceed with caution</strong></p>\n\n<p>npm installs <a href=\"https://github.com/maxogden/hypercore\">hypercore linux</a> (based on <a href=\"http://tinycorelinux.net/\">tiny core linux</a>) and runs it using the new Mac OS Yosemite hypervisor (via <a href=\"https://github.com/mist64/xhyve\">xhyve</a>).</p>\n\n<p>This module is a low level component that is part of <a href=\"http://hyperos.io/\">HyperOS</a>. We are working on integrating the other HyperOS components to support advanced functionality like running containers, sharing filesystems etc.</p>\n\n<p>Mac OS Yosemite only for now, Windows support coming later through Hyper-V integration (see <a href=\"https://github.com/maxogden/linux/issues/4\">this issue</a> if you wanna help)</p>\n\n<h2><a id=\"user-content-warning\" class=\"anchor\" href=\"https://github.com/maxogden/linux#warning\"></a><strong>WARNING</strong></h2>\n\n<ul>\n<li>xhyve is a very new project, expect bugs! You must be running OS X 10.10.3 Yosemite or later and 2010 or later Mac for this to work.</li>\n<li>if you happen to be running any version of VirtualBox prior to 5.0 then xhyve will crash your system either if VirtualBox is running or had been run previously after the last reboot (see xhyve's issues <a href=\"https://github.com/maxogden/linux/blob/master/mist64/xhyve#5\">#5</a> and <a href=\"https://github.com/maxogden/linux/blob/master/mist64/xhyve#9\">#9</a> for the full context). So, if you are unable to update VirtualBox to version 5, or later, and were using it in your current session please do restart your Mac before attempting to run xhyve.</li>\n<li>(these warnings were borrowed from <a href=\"https://github.com/coreos/coreos-xhyve\">coreos-xhyve</a>)</li>\n</ul>\n\n<p><a href=\"https://github.com/feross/standard\"><img src=\"https://camo.githubusercontent.com/e06d9d72eecca61c1ba39fdf19868f70fcb3a9b3/68747470733a2f2f63646e2e7261776769742e636f6d2f6665726f73732f7374616e646172642f6d61737465722f62616467652e737667\" alt=\"js-standard-style\"></a>\n<a href=\"https://travis-ci.org/maxogden/linux\"><img src=\"https://camo.githubusercontent.com/9ab9d84aaf2fc38d762363d7d72471f90642502a/68747470733a2f2f7472617669732d63692e6f72672f6d61786f6764656e2f6c696e75782e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a></p>\n\n<h3><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/maxogden/linux#installation\"></a>installation</h3>\n\n<pre><code>npm install linux -g\n</code></pre>\n\n<h3><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/maxogden/linux#usage\"></a>usage</h3>\n\n<pre><code>$ linux\nUsage: linux &lt;command&gt; [args...]\n\nCommands:\n init creates a new ./linux folder in this directory to hold config\n boot boots up linux from config in ./linux\n status checks if linux is running or not\n ssh sshes into linux and attaches the session to your terminal\n run runs a single command over ssh\n halt runs sudo halt in linux, initiating a graceful shutdown\n kill immediately ungracefully kills the linux process with SIGKILL\n pid get the pid of the linux process\n</code></pre>\n\n<h3><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/maxogden/linux#example\"></a>example</h3>\n\n<pre><code># initialize a linux folder to hold state\n$ linux init\nCreated new config folder at /Users/max/test/linux\n\n# starts a linux daemon\n$ sudo linux boot\nLinux has booted { ip: '192.168.64.127',\n hostname: 'simon-mittens-snuggles-toby',\n pid: 20665 }\n\n# ssh login\n$ linux ssh\nWarning: Permanently added '192.168.64.127' (ECDSA) to the list of known hosts.\n __ __ __\n/ \\__/ \\__/ \\__ Welcome to HyperOS Linux! (Based on TinyCore Linux)\n\\__/ \\__/ \\__/ \\ hyperos.io tinycorelinux.net\n \\__/ \\__/ \\__/\ntc@simon-mittens-snuggles-toby:~$ pwd\n/home/tc\ntc@simon-mittens-snuggles-toby:~$ exit\nConnection to 192.168.64.127 closed.\n\n# run a single command over ssh\n$ linux run uname -a\nLinux simon-mittens-snuggles-toby 3.16.6-tinycore64 #777 SMP Thu Oct 16 10:21:00 UTC 2014 x86_64 GNU/Linux\n\n$ linux status\nLinux is running { pid: 20665 }\n\n# gracefully shutdown\n$ linux halt\n\n$ linux status\nLinux is not running\n</code></pre>\n\n\n\n\n</article>\n </div>"
    }, {
        "title": "watchman | A file watching service",
        "url": "https://facebook.github.io/watchman/",
        "excerpt": "Watchman A file watching serviceWatchman exists to watch files and record when they change. It can also trigger actions (such as rebuilding assets) when matching files change.Concepts #Watchman can&hellip;",
        "date_saved": "Thu Jul 28 20:11:52 EDT 2016",
        "html_file": "watchman__a_file_watching_service.html",
        "png_file": "watchman__a_file_watching_service.png",
        "md_file": "watchman__a_file_watching_service.md",
        "content": "<div><div class=\"container\"><div class=\"hero\"><div class=\"wrap\"><p class=\"text\"><strong>Watchman </strong></p><p class=\"minitext\"> A file watching service</p></div></div><section class=\"content wrap\"><section class=\"home-section home-getting-started\"><div><p>Watchman exists to watch files and record when they change. It can\nalso trigger actions (such as rebuilding assets) when matching files change.</p><h2><a class=\"anchor\" name=\"concepts\"></a>Concepts <a class=\"hash-link\" href=\"https://facebook.github.io/watchman/#concepts\">#</a></h2><ul><li>Watchman can recursively watch one or more directory trees\n(we call them <em>roots</em>).</li><li>Watchman does not follow symlinks. It knows they exist, but they show up\nthe same as any other file in its reporting.</li><li>Watchman waits for a <em>root</em> to settle down before it will start\nto trigger notifications or command execution.</li><li>Watchman is conservative, preferring to err on the side of caution;\nit considers files to be freshly changed when you start to\nwatch them or when it is unsure.</li><li>You can query a root for file changes since you last checked, or the\ncurrent state of the tree</li><li>You can subscribe to file changes that occur in a root</li></ul><h2><a class=\"anchor\" name=\"quickstart\"></a>Quickstart <a class=\"hash-link\" href=\"https://facebook.github.io/watchman/#quickstart\">#</a></h2><p>These two lines establish a watch on a source directory and then set up a\ntrigger named <code>buildme</code> that will run a tool named <code>minify-css</code> whenever a CSS\nfile is changed. The tool will be passed a list of the changed filenames.</p><p class=\"prism language-javascript\">$ watchman watch <span class=\"token operator\">~</span><span class=\"token operator\">/</span>src\n# the single quotes around <span class=\"token string\">'*.css'</span> are important<span class=\"token operator\">!</span>\n$ watchman <span class=\"token operator\">--</span> trigger <span class=\"token operator\">~</span><span class=\"token operator\">/</span>src buildme <span class=\"token string\">'*.css'</span> <span class=\"token operator\">--</span> minify<span class=\"token operator\">-</span>css</p><p>The output for buildme will land in the Watchman log file unless you send it\nsomewhere else.</p></div></section></section><footer class=\"wrap\"><p class=\"right\">\u00a9 2012-2015 Facebook Inc.</p></footer></div></div>"
    }, {
        "title": "twitter-fabric/galley",
        "url": "https://github.com/twitter-fabric/galley",
        "excerpt": "Overview Galley is a command-line tool for orchestrating Docker containers in development and test environments. Galley automatically starts a container&#x2019;s dependencies and connects them using&hellip;",
        "date_saved": "Thu Jul 28 20:11:54 EDT 2016",
        "html_file": "twitterfabricgalley.html",
        "png_file": "twitterfabricgalley.png",
        "md_file": "twitterfabricgalley.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://github.com/twitter-fabric/galley/blob/master/docs/images/galley-red.png\" target=\"_blank\"><img src=\"https://github.com/twitter-fabric/galley/raw/master/docs/images/galley-red.png\" alt=\"Galley\"></a></p>\n\n<p><a href=\"https://github.com/twitter-fabric/galley\"><img src=\"https://camo.githubusercontent.com/457f0b14286e5d5ff0445dd53a8b724580b20f34/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f727573742d6c616e672f727573742e737667\" alt=\"Travis\"></a></p>\n\n<h2><a id=\"user-content-overview\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#overview\"></a>Overview</h2>\n\n<p>Galley is a command-line tool for orchestrating <a href=\"https://www.docker.com/\">Docker</a> containers in development\nand test environments. Galley automatically starts a container&#x2019;s dependencies and connects them using Docker&#x2019;s\n<code>Links</code> and <code>VolumesFrom</code> mappings. Use Galley to start up a web server that connects to a database. Then, use it to\nstart up a web server, its database, an intermediate data service (and its database), some queues, worker processes, and\nthe monitoring server they all connect to.</p>\n\n<p><strong>Latest version:</strong> 1.0.0 release!</p>\n\n<h3><a id=\"user-content-what-makes-galley-different\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#what-makes-galley-different\"></a>What makes Galley different?</h3>\n\n<p>Galley was built to support <a href=\"http://fabric.io\">Fabric</a>&#x2019;s internal development process: multiple teams\nsharing a dozen or more services across a\nvariety of source code repositories. What is under active development by one team might just be a dependency to\nanother, so Galley gives engineers the flexibility to start the service or services they&#x2019;re working with using\nlocal source code, while getting pre-built images for any dependencies.</p>\n\n<p>Galley keeps service dependencies in a central &#x201C;Galleyfile&#x201D; configuration so that you can always start up any\nservice in your system, along with any necessary transitive dependencies.</p>\n\n<h3><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#features\"></a>Features</h3>\n\n<ul>\n<li>Run Docker containers, linking them to their dependencies</li>\n<li>Dynamic mapping of local source code into containers</li>\n<li>Custom environments to easily run isolated development and test containers side-by-side</li>\n<li>&#x201C;Addons&#x201D; to define optional configuration for services</li>\n<li>Automatic re-use of running containers to support developing multiple services simultaneously</li>\n<li>Protected &#x201C;stateful&#x201D; containers (<em>e.g.</em> databases)</li>\n<li>JavaScript-based configuration for higher-order service definitions</li>\n</ul>\n\n<p>Galley also has special support for running under a VM, such as when using <a href=\"https://docs.docker.com/machine/\">docker-machine</a> on Mac OS X:</p>\n\n<ul>\n<li>Built-in <code>rsync</code> support for massively-improved disk performance with VirtualBox for local source code.</li>\n<li>Port forwarding to let other machines or mobile devices connect to containers in the VM</li>\n</ul>\n\n<p>And, for continuous integration machines:</p>\n\n<ul>\n<li>A <code>--repairSourceOwnership</code> flag keeps containers running as root from generating files that only root can delete</li>\n<li>Cleanup command to free up disk space from unused images</li>\n</ul>\n\n<h3><a id=\"user-content-bug-reports-and-discussion\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#bug-reports-and-discussion\"></a>Bug Reports and Discussion</h3>\n\n<p>If you find something wrong with Galley, please let us know on the\n<a href=\"https://github.com/twitter-fabric/galley/issues\">issues</a> page.</p>\n\n<p>You can also chat with us or ask for help on the\n<a href=\"https://groups.google.com/forum/#!forum/galley-discuss\">galley-discuss@googlegroups.com</a> mailing list.</p>\n\n<h2><a id=\"user-content-galley-concepts\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#galley-concepts\"></a>Galley concepts</h2>\n\n<p>To use Galley you define a set of <strong>services</strong> in a central <strong>Galleyfile</strong>. These definitions specify\nDocker options for each service (image, links, volumes, <em>etc.</em>).</p>\n\n<p>When you use <code>galley run &lt;service&gt;.&lt;env&gt;</code>, you provide a <strong>primary service</strong> that you want to interact with, and the\n<strong>environment</strong> to run it in. Environments are used in service definitions to vary the configuration, for example to\nspecify different dependencies between &#x201C;dev&#x201D; and &#x201C;test&#x201D; modes.</p>\n\n<p>Environments can also have a namespace, such as <code>.dev.1</code> or <code>test.cucumber</code>. If a service does not have a\nconfiguration for a namespaced environment, the one for the base environment is used instead.</p>\n\n<p>Not all services must have environment-specific configurations. For a service with no environment configuration, the\nservices' base environment configuration is used.</p>\n\n<h2><a id=\"user-content-quick-start\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#quick-start\"></a>Quick start</h2>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">npm install -g galley-cli</span>\n$ <span class=\"pl-s1\">git clone https://github.com/twitter-fabric/galley-template.git</span>\n$ <span class=\"pl-s1\"><span class=\"pl-c1\">cd</span> galley-template</span>\n$ <span class=\"pl-s1\">galley run demo.dev</span></pre></div>\n\n<h2><a id=\"user-content-setting-up-galley\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#setting-up-galley\"></a>Setting up Galley</h2>\n\n<h3><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#installation\"></a>Installation</h3>\n\n<p>Galley is distributed as a command-line tool, <code>galley</code>, and a library. Install the command-line\ntool globally from the <a href=\"https://www.npmjs.com/package/galley-cli\">galley-cli NPM package</a>:</p>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">npm install -g galley-cli</span></pre></div>\n\n<h3><a id=\"user-content-create-a-galleyfile-package\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#create-a-galleyfile-package\"></a>Create a Galleyfile package</h3>\n\n<p>Galley keeps your system&#x2019;s configuration in a central Galleyfile. This file must be in a directory with\nan NPM package.json file that depends on the <a href=\"https://www.npmjs.com/package/galley\">galley NPM package</a>.\nYou will typically symlink the Galleyfile into the local directory where you keep your repositories.</p>\n\n<p>When you run the <code>galley</code> tool, it recursively walks up your directories until it finds a Galleyfile\nor a symlink to one. It then uses the galley library depended on by that package to execute your\ncommands.</p>\n\n<p>The easiest way to get started with a Galleyfile is to clone our template:</p>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">git clone https://github.com/twitter-fabric/galley-template.git</span></pre></div>\n\n<p>You can also create an NPM package from scratch:</p>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">npm init</span>\n$ <span class=\"pl-s1\">npm install --save galley</span>\n$ <span class=\"pl-s1\">npm shrinkwrap</span></pre></div>\n\n<h3><a id=\"user-content-writing-a-galleyfile\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#writing-a-galleyfile\"></a>Writing a Galleyfile</h3>\n\n<p>A Galleyfile is a JavaScript module that exports a configuration hash that defines your services and\ntheir dependencies.</p>\n\n<p>Services are expected to share a common Galleyfile that defines the dependencies among\nthem. You should put your Galleyfile in a common place, and then symlink to it from a\nparent directory for your services. The <code>galley</code> CLI tool will search for a Galleyfile recursively\nfrom the directory it&#x2019;s run in.</p>\n\n<h4><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#example\"></a>Example</h4>\n\n<p>The file below defines a Rails &#x201C;www&#x201D; service that depends on a MySQL DB in test and both a MySQL DB and a beanstalk\nqueue in development. Additionally, it expects to have a &#x201C;config-files&#x201D; volume mounted in. The container&#x2019;s source\ncode is kept in <code>/code/www</code>, so you can use <code>galley run -s .</code> to map a local directory over it.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// Example Galleyfile.js for a small Rails app.</span>\n<span class=\"pl-c1\">module</span>.exports <span class=\"pl-k\">=</span> {\n CONFIG<span class=\"pl-k\">:</span> {\n registry<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>docker.example.biz<span class=\"pl-pds\">'</span></span>\n },\n\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>config-files<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {},\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>beanstalk<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {},\n\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>www-mysql<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n image<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>mysql<span class=\"pl-pds\">'</span></span>,\n stateful<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n },\n\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>www<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n env<span class=\"pl-k\">:</span> {\n RAILS_ENV<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>development<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>\n }\n },\n links<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>www-mysql:mysql<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>beanstalk<span class=\"pl-pds\">'</span></span>],\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>www-mysql<span class=\"pl-pds\">'</span></span>]\n },\n ports<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>3000:3000<span class=\"pl-pds\">'</span></span>]\n },\n source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/code/www<span class=\"pl-pds\">'</span></span>,\n volumesFrom<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>config-files<span class=\"pl-pds\">'</span></span>]\n }\n};</pre></div>\n\n<p>Then, from a common parent directory of your services' source directories:</p>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">ln -s ../../path/to/Galleyfile.js <span class=\"pl-c1\">.</span></span></pre></div>\n\n<h3><a id=\"user-content-running-galley\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#running-galley\"></a>Running Galley</h3>\n\n<p>Once you&#x2019;ve written a Galleyfile and symlinked it, try it out:</p>\n\n\n\n<pre><code>Galleyfile: /path/to/found/Galleyfile.js\n beanstalk\n config-files\n www [.dev, .test]\n www-mysql\n</code></pre>\n\n<h2><a id=\"user-content-command-reference\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#command-reference\"></a>Command reference</h2>\n\n<h3><a id=\"user-content-run\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#run\"></a><code>run</code></h3>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code># Starts the www service with its dev dependencies. Runs the image&#x2019;s default CMD.\ngalley run www.dev\n\n# Maps the current directory in as the &#x201C;source&#x201D; directory, uses test dependencies, and runs &#x201C;rake spec&#x201D;.\ngalley run -s . www.test rake spec\n</code></pre>\n\n<p>Starts up the given service, using the environment both to name containers and to affect the service configuration.\nDependencies, either <code>links</code> or <code>volumesFrom</code>, will be started up first and recursively. Containers will be named\n<code>&lt;service&gt;.&lt;env&gt;</code>. STDOUT, STDERR, and STDIN are piped from the terminal to the container.</p>\n\n<p>When Galley exits it will remove the primary service container by default, but leave any dependencies running.</p>\n\n<p>Galley will <em>always</em> recreate the container for the named (&#x201C;primary&#x201D;) service. For dependencies, Galley will look\nfor existing containers that match the <code>&lt;service&gt;.&lt;env&gt;</code> naming pattern, starting them if necessary. It will\ndelete and recreate them if:</p>\n\n<ul>\n<li>their source image doesn&#x2019;t match the current image for their image name (<em>e.g.</em> if an image was built or pulled\nsince first starting the container)</li>\n<li>their current <code>Links</code> don&#x2019;t include everything in the current configuration (typically because a container they\ndepend upon has been recreated, but sometimes because an addon changes the configuration)</li>\n</ul>\n\n<p>If a service is configured to be &#x201C;stateful&#x201D; in the Galleyfile, Galley will not recreate it.\nThis is useful for development database services that would get wiped if that happened, losing hard-won state. The\n<code>--recreate</code> and <code>--unprotectStateful</code> command line options affect these behaviors; see <code>galley run --help</code> for\nmore info.</p>\n\n<p>Similar to <code>docker run</code>, you can provide a command and arguments after the service name to run those instead\nof the image&#x2019;s default CMD. In this case, Galley will let Docker name the container randomly, to avoid naming\nconflicts with any other instances of that service that are running.</p>\n\n<p>You can use the <code>-a</code> option to enable any &#x201C;addons&#x201D; configured for your services (primary or otherwise). Addons can\nbring in additional dependencies or modify environment variables.</p>\n\n<p>If you&#x2019;ve configured a &#x201C;source&#x201D; directory for the primary service, then you can use the <code>-s</code> option to map a local\ndirectory to it. (This is more convenient than <code>-v</code> for the common case of regularly mapping to the same\ndestination.)</p>\n\n<p>Run also takes a number of parameters that are the equivalent to <code>docker run</code> parameters. See <code>galley run --help</code>\nfor a complete list.</p>\n\n<h3><a id=\"user-content-list\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#list\"></a><code>list</code></h3>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code>galley list\n</code></pre>\n\n<p>Prints the name of each service in the Galleyfile, along with the environments it&#x2019;s configured for and which\naddons affect it.</p>\n\n<h3><a id=\"user-content-stop-env\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#stop-env\"></a><code>stop-env</code></h3>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code># Stops all dev containers\ngalley stop-env dev\n</code></pre>\n\n<p>Stops all containers whose names end in <code>.&lt;env&gt;</code>. Useful for freeing up memory in your VM or as a prelude to a\n<code>galley cleanup</code> to wipe your slate.</p>\n\n<h3><a id=\"user-content-pull\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#pull\"></a><code>pull</code></h3>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code># Fetches the www image and its &#x201C;test&#x201D; environment transitive dependencies\ngalley pull www.test\n\n# Fetches &#x201C;dev&#x201D; images, including dependencies added by the &#x201C;beta&#x201D; addon\ngalley pull -a beta www.dev\n</code></pre>\n\n<p>Pulls the latest image for the given primary service and any transitive dependencies that come from its\nenvironment. Can take <code>-a</code> to include addons in the dependency tree.</p>\n\n<p><code>galley pull</code> just updates the local Docker images, it doesn&#x2019;t cause any changes to running containers. A follow-up\n<code>galley run</code> will recreate any non-&#x201C;stateful&#x201D; containers for dependencies whose images have changed.</p>\n\n<h3><a id=\"user-content-cleanup\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#cleanup\"></a><code>cleanup</code></h3>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code>galley cleanup\n</code></pre>\n\n<p>Removes any stopped containers that match Galley&#x2019;s naming conventions, provided they are not for &#x201C;stateful&#x201D;\nservices. Removes their volumes as well. See <code>galley cleanup --help</code> for options that affect what&#x2019;s removed.</p>\n\n<p>Deletes any dangling Docker images on the machine, to free up disk space.</p>\n\n<h2><a id=\"user-content-galleyfile-reference\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#galleyfile-reference\"></a>Galleyfile reference</h2>\n\n<p>A Galleyfile is a JavaScript or CoffeeScript module that exports a configuration hash. The keys for the hash are\nthe names of services in your system. Each service must have an entry, even if its value is just an empty hash.</p>\n\n<p>Additionally, the special <code>CONFIG</code> key labels a hash of global configuration values.</p>\n\n<h3><a id=\"user-content-global-config\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#global-config\"></a>Global config</h3>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c1\">module</span>.exports <span class=\"pl-k\">=</span> {\n CONFIG<span class=\"pl-k\">:</span> {\n registry<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>docker.example.biz<span class=\"pl-pds\">'</span></span>,\n rsync<span class=\"pl-k\">:</span> {\n image<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>docker.example.biz/rsync<span class=\"pl-pds\">'</span></span>,\n module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>root<span class=\"pl-pds\">'</span></span>\n }\n }\n &#x2026;\n};</pre></div>\n\n<p><strong>registry:</strong> The Docker registry to use when services have default image names.</p>\n\n<p><strong>rsync:</strong> Custom Docker image name and Rsync module name to use to make a container that runs an Rsync daemon. See\n<a href=\"https://github.com/twitter-fabric/galley#rsync-support\">rsync support</a> for more information.</p>\n\n<h3><a id=\"user-content-service-config\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#service-config\"></a>Service config</h3>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>www<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n env<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>HOST<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>localhost<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>PROXY_FAYE<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1<span class=\"pl-pds\">'</span></span>\n }\n },\n ports<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>3000:3000<span class=\"pl-pds\">'</span></span>]\n },\n links<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mongo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>beanstalk<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>redis<span class=\"pl-pds\">'</span></span>],\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mongo<span class=\"pl-pds\">'</span></span>],\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test.cucumber<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mongo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>beanstalk<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service<span class=\"pl-pds\">'</span></span>],\n },\n source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/code/www<span class=\"pl-pds\">'</span></span>,\n volumesFrom<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>config-files<span class=\"pl-pds\">'</span></span>]\n}</pre></div>\n\n<p><strong>addons</strong>: Hash of name to a hash of additional configuration values. Additional configuration can include\n<code>links</code>, <code>ports</code>, <code>volumesFrom</code>, and <code>env</code>. When the addon is enabled via the <code>-a</code> flag to <code>run</code> or <code>pull</code>, array\nvalues (<code>links</code>, <code>ports</code>, <code>volumesFrom</code>) are concatenated with the service&#x2019;s base configuration (and any other addons). <code>env</code> values are merged, with addons taking precidence over the base values.</p>\n\n<p><strong>binds</strong>: Array of &#x201C;Bind&#x201D; strings to map host directories into the container. String format matches Docker:\n<code>\"host_path:container_path\"</code></p>\n\n<p><strong>command</strong>: Command to override the default from the image. Can either be a string, which Docker will run with\n<code>/bin/sh -c</code>, or an array of strings, which should be an executable and its arguments.</p>\n\n<p><strong>entrypoint</strong>: Override the default entrypoint from the image. String path for an executable in the container.</p>\n\n<p><strong>env</strong>: Hash of environment variable names and their values to set in the container. If the values are themselves\nhashes, they are assumed to be from Galley &#x201C;env&#x201D; to value.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-app<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n env<span class=\"pl-k\">:</span> {\n <span class=\"pl-c\">// $HOST will always be \"localhost\" in the container</span>\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>HOST<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>localhost<span class=\"pl-pds\">'</span></span>,\n\n <span class=\"pl-c\">// \"galley run my-app.dev\" will set $RAILS_ENV to \"development\"</span>\n <span class=\"pl-c\">// \"galley run my-app.test\" will set $RAILS_ENV to \"test\"</span>\n <span class=\"pl-c\">// \"galley run my-app.test.cucumber\" will also set $RAILS_ENV to \"test\"</span>\n <span class=\"pl-c\">// \"galley run my-app.other\" will not have $RAILS_ENV defined</span>\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>RAILS_ENV<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>development<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>\n }\n }\n}</pre></div>\n\n<p><strong>image</strong>: Image name to generate the container from. Defaults to the service&#x2019;s name from the default registry.</p>\n\n<p><strong>links</strong>: Array of links to make to other containers. Elements are either <code>\"service_name\"</code> or\n<code>\"service_name:alias\"</code> (where &#x201C;alias&#x201D; is the hostname this container will see the service as). Alternately, the value\ncan be a hash of environment name to array of links.</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n links<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service-mysql:mysql<span class=\"pl-pds\">'</span></span>]\n},\n\n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-app<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n links<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dev<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-app-mysql:mysql<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service<span class=\"pl-pds\">'</span></span>],\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-app-mysql:mysql<span class=\"pl-pds\">'</span></span>]\n }\n},\n\n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>data-service-mysql<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n image<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>docker.example.biz/mysql<span class=\"pl-pds\">'</span></span>\n},\n\n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-app-mysql<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n image<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>docker.example.biz/mysql<span class=\"pl-pds\">'</span></span>\n},</pre></div>\n\n<p><strong>ports</strong>: Array of ports to publish when the service is run as the primary service. Array values are either\n<code>\"host_port:container_port\"</code> or <code>\"container_port\"</code>. If a host port is ommitted, Docker will assign a random host\nport to proxy in. Alternately, can be a hash of environment name to array of port values.</p>\n\n<p><strong>restart</strong>: Boolean. If <code>true</code>, applies a Docker <code>RestartPolicy</code> of &#x201C;always&#x201D; to the container. Default is <code>false</code>.</p>\n\n<p><strong>source</strong>: String path to a source code directory inside the container. If <code>-s</code> is provided to <code>galley run</code>, Galley\nwill bind that directory to the source directory in the container.</p>\n\n<p><strong>stateful</strong>: Boolean. If <code>true</code>, Galley will not remove the container in <code>galley run</code> or <code>galley cleanup</code>, even if it\nis stale or missing links. Can be overridden for a command by the <code>--unprotectStateful</code> flag. Default is <code>false</code>.</p>\n\n<p><strong>user</strong>: User to run the container as.</p>\n\n<p><strong>volumesFrom</strong>: Array of services whose containers should be volume-mounted into this service&#x2019;s container.\nAlternately, can be a hash of environment name to array of service names.</p>\n\n<h3><a id=\"user-content-addons\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#addons\"></a>Addons</h3>\n\n<div class=\"highlight highlight-source-js\"><pre># <span class=\"pl-c1\">EXAMPLE</span>\n<span class=\"pl-c1\">module</span>.exports <span class=\"pl-k\">=</span> {\n &#x2026;\n ADDONS<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>beta<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>www<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n env<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>USE_BETA_SERVICE<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1<span class=\"pl-pds\">'</span></span>\n },\n links<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>beta<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uploader<span class=\"pl-pds\">'</span></span>]\n },\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uploader<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n env<span class=\"pl-k\">:</span> {\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>USE_BETA_SERVICE<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1<span class=\"pl-pds\">'</span></span>\n }\n }\n }\n }\n &#x2026;\n};</pre></div>\n\n<p>Addons are extra configurations that can be applied from the command line. An addon can include\nadditional <code>links</code>, <code>ports</code>, <code>volumesFrom</code>, and <code>env</code> values that are merged with a service&#x2019;s\nbase configuration. Addons are defined globally because they can affect multiple services.</p>\n\n<h3><a id=\"user-content-galleycfg-reference\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#galleycfg-reference\"></a>.galleycfg reference</h3>\n\n<p>Galley can write a .galleycfg JSON configuration file into <code>~</code> when you run <code>galley config</code>.\nCurrently, the only state read from the config file is the default value of the <code>--rsync</code> flag.</p>\n\n<p>You can write to the .galleycfg file with:</p>\n\n<p><code>galley config set key value</code></p>\n\n<p>An example .galleycfg:</p>\n\n<pre><code>{\n \"rsync\": true\n}\n</code></pre>\n\n<h3><a id=\"user-content-best-practices\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#best-practices\"></a>Best practices</h3>\n\n<ul>\n<li>Mark any databases as &#x201C;stateful&#x201D; to keep them from being automatically recreated. This keeps your local\ndevelopment data from disappearing on you.</li>\n<li>Use addons for optional dependencies that developers don&#x2019;t need all the time.</li>\n<li>Only publish ports from your &#x201C;dev&#x201D; environment so that they won&#x2019;t conflict when you run &#x201C;dev&#x201D; and &#x201C;test&#x201D;\nsimultaneously.</li>\n<li>Use constants and loops in your Galleyfile if they&#x2019;ll make your configuration clearer and easier to maintain.</li>\n</ul>\n\n<h3><a id=\"user-content-rsync-support\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#rsync-support\"></a>rsync support</h3>\n\n<p>Galley includes built-in support for using rsync to copy local source changes into a container. This provides\na significant speed boost over VirtualBox&#x2019;s shared folders when working on Mac OS X with <code>docker-machine</code>.</p>\n\n<p>To use it, just add <code>--rsync</code> to your <code>galley run</code> commands when you use <code>--source</code>.</p>\n\n<p>You can turn on <code>--rsync</code> by default with:</p>\n\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">galley config <span class=\"pl-c1\">set</span> rsync <span class=\"pl-c1\">true</span></span></pre></div>\n\n<p>rsync support requires that an rsync server container be run and volume-mapped in to your service&#x2019;s\ncontainer. By default, Galley downloads and uses <a href=\"https://hub.docker.com/r/galley/rsync/\">galley/rsync</a>,\nbut you can specify your own container in the <code>CONFIG</code> section of your Galleyfile.</p>\n\n<p><strong>Caveat:</strong> Galley&#x2019;s rsyncing goes one way, from outside the container to inside it. Files changed or created\ninside the container are not copied back out to the local disk. In the cases where you need to have a\nbi-directional mapping, use <code>--rsync false</code> to temporarily disable rsync.</p>\n\n<p>Also note that <code>--rsync</code> only affects the <code>--source</code> mapping, not any <code>--volume</code> mappings that you specify.</p>\n\n<h3><a id=\"user-content-docker-defaults\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#docker-defaults\"></a>Docker defaults</h3>\n\n<p>Galley uses a handful of defaults when working with Docker containers that we&#x2019;ve found are appropriate for\ndevelopment and testing. You should be aware of these, especially if you have a lot of other Docker experience.\nIf these aren&#x2019;t working out for you, let us know; we always want to learn about new use cases!</p>\n\n<p>(In these cases, the &#x201C;primary service&#x201D; is the one specified on the command line.)</p>\n\n<ul>\n<li>If Galley is being run in a TTY, the primary service&#x2019;s container is, too (<code>docker run -t</code>)</li>\n<li>The primary service container is always run with STDIN allocated (<code>docker run -i</code>)</li>\n<li>The primary service container is always removed when Galley stops (<code>docker run --rm</code>)</li>\n<li>Volumes are always removed when removing a container (<code>docker rm -v</code>)</li>\n<li>Containers are started with an <code>/etc/hosts</code> entry that points their service name to 127.0.0.1</li>\n</ul>\n\n<h2><a id=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/twitter-fabric/galley#contributing\"></a>Contributing</h2>\n\n<p>We welcome GitHub issues and pull requests. Please match the existing CoffeeScript style, conventions, and test\ncoverage.</p>\n\n<p>First run <code>npm install</code> to fetch dependencies.</p>\n\n<p>Galley uses <code>gulp</code> for building:</p>\n\n<pre><code>$ gulp watch # watches the Galley directory for changes to compile\n$ gulp compile # compile galley before running tests (if you&#x2019;re not running gulp watch)\n$ gulp test # runs mocha specs\n$ gulp acceptance # builds the acceptance images and runs some acceptance tests\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "10 Things To Do After Installing Ubuntu 15.10",
        "url": "http://www.omgubuntu.co.uk/2015/10/10-things-to-do-after-installing-ubuntu-15-10",
        "excerpt": "After you&#x2019;ve transformed to a werewolf, do these things Your&#xA0;Ubuntu 15.10 Wily Werewolf download has finished, and installation has begun. Now you&#x2019;re wondering what to do next.&hellip;",
        "date_saved": "Thu Jul 28 20:11:55 EDT 2016",
        "html_file": "10_things_to_do_after_installing_ubuntu_1510.html",
        "png_file": "10_things_to_do_after_installing_ubuntu_1510.png",
        "md_file": "10_things_to_do_after_installing_ubuntu_1510.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"attachment_99454\" class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/upgrade.jpg\"><img class=\"wp-image-99454\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/upgrade-300x169.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/upgrade.jpg%20550w\" alt=\"upgrade ubuntu\" width=\"400\"></a><p class=\"wp-caption-text\">After you&#x2019;ve transformed to a werewolf, do these things</p></div>\n<p><strong>Your&#xA0;Ubuntu 15.10 Wily Werewolf download has finished, and installation has begun. Now you&#x2019;re wondering what to do next.</strong></p>\n<p>Well, no worries, we&#x2019;re here to help.</p>\n<p>Below you&#x2019;ll find our list&#xA0;of the<strong>&#xA0;top 10 things to do after installing Ubuntu</strong>.</p>\n<p>You&#x2019;ll find plenty of useful tips and suggestion&#xA0;in this post if you&#x2019;re new to Ubuntu. It&#x2019;s not comprehensive though so do also check out the comments at the bottom to&#xA0;read other users&#x2019; advice about their post-install must-dos!</p>\n<p>Waffle served up, now for the cream.</p>\n<h3>1. Learn What&#x2019;s New</h3>\n<p><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/ubuntu-1510-wily-werewolf.jpg\"><img class=\"aligncenter size-large wp-image-99509\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/ubuntu-1510-wily-werewolf-300x102.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/ubuntu-1510-wily-werewolf-750x255.jpg%20750w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/ubuntu-1510-wily-werewolf.jpg%20800w\" alt=\"ubuntu-1510-wily-werewolf\" width=\"750\"></a></p>\n<p>Ubuntu 15.10 Wily Werewolf may lack the bite of its namesake but there is&#xA0;still some nifty new changes shipping inside it.</p>\n<p>For example,&#xA0;you can now create application shortcuts on the desktop by dragging apps out from the Dash. Not a ground changing feature but certainly one worth knowing about, right?</p>\n<p>It doesn&#x2019;t matter if you&#x2019;re a seasoned&#xA0;Ubuntu pro or fresh-faced newbie it always helps to know what&#x2019;s new and notable about the latest release.</p>\n<p>Check out our <a href=\"http://www.omgubuntu.co.uk/2015/10/ubuntu-15-10-download-review-new-features\">rundown of Ubuntu 15.10&#xA0;for the full skinny on what&#x2019;s new.</a></p>\n<p><a class=\"omg-button informational-link\" target=\"_blank\" href=\"http://www.omgubuntu.co.uk/2015/10/ubuntu-15-10-download-review-new-features\" title=\"See What's New In Ubuntu 15.10 \">See What&#x2019;s New In Ubuntu 15.10</a></p>\n\n<h3>2. Check for&#xA0;Updates</h3>\n<p><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/software-updater.jpg\"><img class=\"aligncenter wp-image-76763\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/software-updater.jpg\" alt=\"software-updater\" width=\"750\"></a></p>\n<p>It might sound strange to tell you to check for updates just&#xA0;after you&#x2019;ve installed &#x2014;&#xA0;but you should.</p>\n<p>Why?</p>\n<p>Well, for one: you&#x2019;re probably not&#xA0;reading this list on release day. In the time between Ubuntu spinning up its installation media&#xA0;and you installing it, chances are a bunch of&#xA0;security, stability and bug fixes are waiting for you.</p>\n<p>After All,&#xA0;bugs don&#x2019;t adhere to the same deadlines as developers do!</p>\n<p>Open the Software Updater tool from the Dash and click the button to&#xA0;<strong>check for updates.&#xA0;</strong></p>\n<h3>3. Install Linux Graphics Drivers</h3>\n<div class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/drivers.jpg\"><img src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/drivers.jpg\" alt=\"drivers\" width=\"350\"></a><p class=\"wp-caption-text\">Install GPU drivers</p></div>\n<p>You want the best performance from your device you&#x2019;re going to want to install graphics drivers.&#xA0;These will make the Unity desktop run smoothly (it&#x2019;s a composited environment) and let you get the best frame-rates from games, media content and apps.</p>\n<p>Ubuntu supports most graphics hardware out of the box using free, open-source drivers. These are getting better all the time.</p>\n<p>If you plan to <strong>play the latest Steam games on Ubuntu</strong>, watch high-definition video, or play around with GPU intensive apps&#xA0;like Blender and&#xA0;Lightworks, you&#xA0;will need&#xA0;to install the latest proprietary Linux graphics drivers available for your hardware.</p>\n<ol>\n<li><strong>Open up the&#xA0;&#x2018;Software &amp; Updates&#x2019; tool from the Unity Dash</strong></li>\n<li><strong>Click the &#x2018;Additional Drivers&#x2019; tab</strong></li>\n<li><strong>Follow any&#xA0;on-screen prompts&#xA0;to check for, install and apply any changes&#xA0;</strong></li>\n</ol>\n<p>Gamers can also use a<a href=\"http://www.omgubuntu.co.uk/2015/08/ubuntu-nvidia-graphics-drivers-ppa-is-ready-for-action\"> brand new PPA</a> that makes it easier to get&#xA0;the latest Nvidia Linux graphics drivers as they&#x2019;re released.</p>\n<h3>4. Install Media Codecs in Ubuntu 15.10</h3>\n<div id=\"attachment_84590\" class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/10/mus.jpg\"><img class=\"wp-image-84590\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/10/mus-300x185.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2013/10/mus.jpg%20531w\" alt=\"music player\" width=\"350\"></a><p class=\"wp-caption-text\">Want to listen to music?</p></div>\n<p>A spaghetti tangle&#xA0;of legal issues means Ubuntu cannot&#xA0;play MP3s and other popular media content &#x2018;out of the box&#x2019;. It&#x2019;s an inconvenience, but one that is easily solvable.</p>\n<p>During installation you can&#xA0;check a &#x2018;Enable Restricted Formats&#x2019;&#xA0;box to have all the required multimedia codecs pulled in and installed along with the rest of the system.</p>\n<p>If you forgot to do that, or are upgrading from an earlier release, you can install multimedia codecs yourself straight through&#xA0;the&#xA0;Ubuntu Software Centre.</p>\n<p><a href=\"https://apps.ubuntu.com/cat/applications/ubuntu-restricted-extras/\" class=\"omg-button web-store-link\" target=\"_blank\" title=\"Multimedia codecs for Ubuntu\"> Install Third-Party Codecs&#xA0;</a></p>\n<h3>5. Use&#xA0;A Better Theme</h3>\n<div id=\"attachment_98681\" class=\"wp-caption aligncenter\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/08/arc-theme.jpg\"><img class=\"wp-image-98681 size-large\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/08/arc-theme-300x124.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2015/08/arc-theme.jpg%20750w\" alt=\"ARC Gtk Theme\" width=\"750\"></a><p class=\"wp-caption-text\">Yes, this really is Ubuntu</p></div>\n<p>Ubuntu&#x2019;s default theme&#xA0;is nice enough, but it is hasn&#x2019;t changed much in several years. If you&#x2019;re coming from a modern&#xA0;operating system or newish&#xA0;Linux distribution, Ubuntu can look&#xA0;a little humdrum.</p>\n<p>If&#xA0;you want a stylish looking Ubuntu desktop that people will swoon over, try an alternative theme. <a href=\"http://www.omgubuntu.co.uk/2015/08/an-official-arc-theme-for-firefox-is-now-available\" target=\"_blank\">Our favourite GTK theme&#xA0;is called Arc</a>,&#xA0;but there are tonnes&#xA0;more available online.</p>\n<p>The&#xA0;&#x2018;<strong>Appearance</strong>&#x2018; section of&#xA0;the Ubuntu System Settings app also lets&#xA0;you tailor other parts of the Ubuntu desktop to your tastes:</p>\n<ul>\n<li><strong>Change the desktop wallpaper</strong></li>\n<li><strong>Change the desktop theme</strong></li>\n<li><strong>Adjust the size of the Unity launcher</strong></li>\n</ul>\n<p>A glut of other&#xA0;layout and customization options &#x2014; from changing the desktop font to choosing which side window controls appear &#x2014; can be toggled, tweaked and toyed with using&#xA0;the free <strong>Unity Tweak Tool&#xA0;</strong>available to install from&#xA0;Ubuntu Software Center.</p>\n<p><a class=\"omg-button usc-link\" target=\"_blank\" href=\"apt://unity-tweak-tool\" title=\"Click here to grab Unity Tweak Tool \">Install Unity Tweak Tool from the Ubuntu Software Center</a></p>\n<h3>5. Adjust Menus To Suit You</h3>\n<div id=\"attachment_88645\" class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2014/02/Screen-Shot-2014-02-27-at-19.51.23-350x2001.png\"><img class=\"wp-image-88645 size-full\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2014/02/Screen-Shot-2014-02-27-at-19.51.23-350x2001-300x171.png%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2014/02/Screen-Shot-2014-02-27-at-19.51.23-350x2001.png%20350w\" alt=\"LIM in 14.04\" width=\"350\"></a><p class=\"wp-caption-text\">Do You Prefer App Menus To Be In-App?</p></div>\n<p>Application menus appear in Ubuntu&#x2019;s top panel by default and auto-hide after a set several seconds.</p>\n<p>A great way to save space, but also a great way to confuse. When&#xA0;you&#x2019;re using several apps it&#x2019;s often hard&#xA0;to know which app the &#x2018;Files&#x2019;, &#x2018;Edit&#x2019;, etc strip at the top of the screen belongs to &#x2014; or where they&#x2019;ve suddenly&#xA0;vanished to!</p>\n<p>Ubuntu provides options inside the <em>System Settings &gt;Appearance</em>&#xA0;pane that allow&#xA0;you to <strong>choose&#xA0;where app menus appear</strong>.</p>\n<p>If you&#x2019;d rather see&#xA0;menus&#xA0;inside the window of&#xA0;the app they below to:</p>\n<ol>\n<li><strong>Go to &#x2018;System Settings &gt; Appearance&#x2019;</strong></li>\n<li><strong>Select the&#xA0;&#x2018;Behavior&#x2019; tab</strong></li>\n<li><strong>Find the section headed: &#x2018;Show the Menus for a Window&#x2019;</strong></li>\n<li><strong>Check (click) the circle&#xA0;next to &#x2018;In the window&#x2019;s title bar&#x2019;</strong></li>\n</ol>\n<p>Ubuntu also lets&#xA0;you&#xA0;set app menus to &#x2018;Always Show&#x2019; (that is, not hide after a few seconds) but it&#x2019;s not obvious how to get access to it.</p>\n<p>We could walk you through the recommended way, installing dconf-editor, finding the schema, manually editing, it, etc, but honestly it&#x2019;s just far quicker (and somewhat safer) to paste the following command into the Terminal to&#xA0;set menus to always show:</p>\n<pre>gsettings set com.canonical.Unity always-show-menus true</pre>\n<p><i>To undo the change (i.e.&#xA0;set app menus to hide until you mouse over them) run:&#xA0;</i></p>\n<pre>gsettings set com.canonical.Unity always-show-menus false</pre>\n<p>Done.</p>\n<h3>6. Install Skype &amp;&#xA0;Other Must-Have Apps</h3>\n<p><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/apps.jpg\"><img class=\"aligncenter size-full wp-image-77212\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/apps-300x142.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2013/04/apps.jpg%20750w\" alt=\"apps\" width=\"750\"></a></p>\n<p>Ubuntu offers&#xA0;a small but capable crop of apps&#xA0;by default, ranging from big names like LibreOffice and Firefox to lesser known tools like Totem and Shotwell.</p>\n<p>Great though they are&#xA0;they <em>might</em> <em>not</em> be your favourites.</p>\n<p><span>The Ubuntu Software Centre offers up&#xA0;<strong>thousands of free applications&#xA0;</strong>to install, including:&#xA0;</span></p>\n<ul>\n<li><strong>Steam</strong>&#xA0;&#x2013; Game distribution platform</li>\n<li><strong>GIMP</strong>&#xA0;&#x2013; Advanced image editor</li>\n<li><strong>VLC</strong>&#xA0;&#x2013; Popular media player</li>\n<li><strong>Geary</strong> &#x2013; Desktop email client</li>\n<li><strong>Chromium</strong>&#xA0;&#x2013; open-source web-browser</li>\n<li><strong>Skype</strong>&#xA0;&#x2013;&#xA0;VOIP service</li>\n</ul>\n<p>You&#x2019;ll also find a wealth of awesome&#xA0;software available <em>outside</em> the Ubuntu Software Centre. Some notable apps&#xA0;include:</p>\n<ul>\n<li><strong>Google Chrome</strong> &#x2013; Web-browser with built-in, up-to-date Flash for Linux</li>\n<li><strong>Spotify&#xA0;for Linux Preview</strong> &#x2013; Official Linux app for popular streaming music service</li>\n<li><strong>Corebird</strong>&#xA0;&#x2013; Desktop&#xA0;Linux Twitter client</li>\n<li><strong>Lightworks Free &#x2013;</strong>&#xA0;Professional nonlinear video editor</li>\n<li><strong>Viber</strong> &#x2013; Skype alternative with free mobile apps</li>\n<li><strong>Vivaldi</strong> &#x2013; Developer orientated web-browser based on Chromium</li>\n</ul>\n<p><a class=\"omg-button website-link\" target=\"_blank\" href=\"http://www.omgubuntu.co.uk/category/app\" title=\"Apps for Ubuntu\"> View App Posts on OMG! Ubuntu! </a></p>\n<h3>7. Set&#xA0;Up Your Cloud Accounts</h3>\n<div id=\"attachment_92853\" class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2014/07/dropbox-qt-login.jpg\"><img class=\"wp-image-92853 size-thumbnail\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2014/07/dropbox-qt-login-350x200.jpg\" alt=\"Login Screen\" width=\"350\"></a><p class=\"wp-caption-text\">Dropbox for Linux Works Great</p></div>\n<p>Backing up your&#xA0;files and documents is, like, super important. You know that.</p>\n<p>Whether you stash your stuff in&#xA0;Dropbox, OneDrive or Google Drive, you&#x2019;ll want to get everything in sync, soon as.</p>\n<ul>\n<li><strong><a href=\"https://www.dropbox.com/install\" target=\"_blank\">Dropbox</a></strong> provides a native Linux client that is regularly updated</li>\n<li><strong>OneDrive</strong> is accessible through <a href=\"http://www.omgubuntu.co.uk/2014/06/one-drive-ubuntu-integration\" target=\"_blank\">third-party scripts</a>&#xA0;(i.e., be careful)</li>\n<li>Services like <strong>InSync</strong> provide Google Drive Linux support</li>\n<li>You may prefer to host your own &#x2018;cloud&#x2019;&#xA0;with <strong><a href=\"https://owncloud.org/\" target=\"_blank\">OwnCloud</a></strong></li>\n</ul>\n<p>Not all of these solutions integrate with Nautilus, the file manager used in Ubuntu.</p>\n<h3>8. Sort Out Flash</h3>\n<p>Flash sucks, but there may be a few sites you like to view that need it. Adobe officially stopped supporting&#xA0;Flash on&#xA0;Linux several years back, and many web-browsers are dropping support for it&#x2019;s NPAPI architecture.</p>\n<p>The best all-round solution&#xA0;is to download Google Chrome. It&#xA0;comes with an<strong> up-to-date version of the Flash plugin</strong> built-in.</p>\n<p>If you want to watch Amazon Instant Video, Hulu or any other sites that uses DRM through&#xA0;Hal,&#xA0;<a href=\"http://www.omgubuntu.co.uk/2015/09/how-to-watch-hulu-on-ubuntu-1404-up\">we&#x2019;ve got a guide on that.</a></p>\n<h3>9. Mind Your Privacy</h3>\n<div id=\"attachment_97510\" class=\"wp-caption alignright\"><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/04/security-and-privacy-settings-ubuntu.jpg\"><img class=\"wp-image-97510 size-thumbnail\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/04/security-and-privacy-settings-ubuntu-350x200.jpg\" alt=\"security-and-privacy-settings-ubuntu\" width=\"350\"></a><p class=\"wp-caption-text\">Security &amp; Privacy</p></div>\n<p>The Unity Dash is great for&#xA0;finding files, apps and snippets of online data in a pinch. Just open the Dash, type&#xA0;your query &#x2014; be it &#x2018;Firefox&#x2019; or &#x2018;Weather in Townsville&#x2019; &#x2014; and Ubuntu will try to return results that match.</p>\n<p>But if you don&#x2019;t want to see local weather&#xA0;results when searching&#xA0;for jpgs, or Wikipedia links every&#xA0;time you look&#xA0;for an album,&#xA0;you can turn it off.</p>\n<p>Whatever your preference head to the <em><strong>Privacy &amp; Security</strong> </em>section of&#xA0;<em>System Settings&#xA0;</em>to:</p>\n<ul>\n<li><strong>Disable all online features in the Unity Dash</strong></li>\n<li><strong>Choose&#xA0;which folders and files appear in&#xA0;the Dash</strong></li>\n<li><strong>Turn off automatic&#xA0;error reporting</strong></li>\n</ul>\n<h3>10. Tell Others About Ubuntu</h3>\n<p><a href=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/wily.jpg\"><img class=\"wp-image-99512 size-medium alignright\" src=\"http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/wily-300x266.jpg%20300w,%20http://www.omgubuntu.co.uk/wp-content/uploads/2015/10/wily.jpg%20450w\" alt=\"wily\" width=\"300\"></a></p>\n<p>It sounds obvious but don&#x2019;t get so sucked into using Ubuntu that you forget to tell others about how awesome it is.</p>\n<p>If you try Ubuntu and like it do spread the word.&#xA0;How? Maybe try one of the following:</p>\n<ul>\n<li>Burn a LiveDVD/USB for someone you know&#xA0;to try</li>\n<li>Share what you like about it on social media or blogs</li>\n<li>Contribute to development by reporting bugs you meet</li>\n<li>Wear an Ubuntu t-shirt or put stickers on your device</li>\n<li>Join an Ubuntu LoCo team or Linux User Group</li>\n</ul>\n<h2>Over To You</h2>\n<p>Those are our action items post release, but what are yours? Share your tips and tweaks in the comments section below.</p>\n<p><em><strong>A&#xA0;polite notice: </strong>if you don&#x2019;t like the Unity desktop, don&#x2019;t install Ubuntu. Several community flavors ship with other desktop environments installed and integrated by default. Save yourself the&#xA0;hassle of &#x2018;uninstalling Unity&#x2019; by installing&#xA0;one that doesn&#x2019;t include it!&#xA0;</em></p>\n\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t</div>"
    }, {
        "title": "Why buy an electric bike if we can transform that one we have",
        "url": "http://www.narrativetech.com/2015/10/why-buy-electric-bike-if-we-can.html",
        "excerpt": "In recent years, we have seen how the electric bikes became popular in the market and became a good option for reducing traffic, environmental protection and helping to endure for difficult journeys&hellip;",
        "date_saved": "Thu Jul 28 20:11:57 EDT 2016",
        "html_file": "why_buy_an_electric_bike_if_we_can_transform_that_one_we_have.html",
        "png_file": "why_buy_an_electric_bike_if_we_can_transform_that_one_we_have.png",
        "md_file": "why_buy_an_electric_bike_if_we_can_transform_that_one_we_have.md",
        "content": "<div><div class=\"post-body entry-content\" id=\"post-body-4415775175073199240\">\n<div class=\"separator\">\n<a href=\"http://3.bp.blogspot.com/--vYWMmOAjAg/ViirtF9JoUI/AAAAAAAAATM/CWqF_qN4DWI/s1600/650_1200.jpeg\"><img border=\"0\" src=\"http://3.bp.blogspot.com/--vYWMmOAjAg/ViirtF9JoUI/AAAAAAAAATM/CWqF_qN4DWI/s640/650_1200.jpeg\" width=\"640\"></a></div>\n<br>\n<div class=\"MsoNormal\">\nIn recent years, we have seen how the electric bikes became\npopular in the market and became a good option for reducing traffic, environmental\nprotection and helping to endure for difficult journeys as well.</div>\n\n<div class=\"MsoNormal\">\nThe main point for the electric bikes, is the price. They\nare obviously more expensive than a regular bike. But we may see developments\nfor attractive options that make any bike an electric vehicle instantly.</div>\n\n<div class=\"MsoNormal\">\nShareRoller, it is how we know this attractive project created\nin early 2014, but today, in its third version, has been perfected to the point\nof being ready to be marketed in bulk.</div>\n<div class=\"MsoNormal\">\nShareRoller is a device placed in front of any bike through\na pull-down mechanism. This small engine is capable of providing up to 750\nwatts of power, giving speeds of up to 45 km / h and an autonomy which can\nrange from 12 to 89 kilometers, depending on the battery.</div>\n\n<div class=\"separator\">\n<a href=\"http://2.bp.blogspot.com/-chaTv_1ZNFk/ViisENQbjsI/AAAAAAAAATU/cJ6jNcLpRtY/s1600/650_1200%2B%25281%2529.png\"><img border=\"0\" src=\"http://2.bp.blogspot.com/-chaTv_1ZNFk/ViisENQbjsI/AAAAAAAAATU/cJ6jNcLpRtY/s640/650_1200%2B%25281%2529.png\" width=\"640\"></a></div>\n\n<div class=\"MsoNormal\">\nThere are three types of batteries to choose producing 110,\n220 or 400 watts of power per hour. One of the advantages is that these small\nengines are removable, so you can enlarge or diminish the autonomy (and weight)\naccording to your needs. The battery is recharged in &#xA0;from two hours to two and a half hours\ndepending from the capacity of the engine.</div>\n<div class=\"MsoNormal\">\nShareRoller also has a software that can be programmed from\nan iOS or Android smartphone via a mobile app , where we can check the autonomy\ntime and distance traveled.</div>\n<div class=\"MsoNormal\">\nAs an additional point, ShareRoller is portable , and can be\nremoved from the bike and carried in a backpack for safety. Weight depends on\nthe type of battery installed, but can range from 800 grams to almost 2\nkilograms. Finally, as part of the potability, it has a USB device port to\ncharge your mobile phone.</div>\n\n<div class=\"separator\">\n<a href=\"http://1.bp.blogspot.com/-qOFSO7iWcNE/ViisYXh5pSI/AAAAAAAAATc/XNmgz6e6Orw/s1600/1024_2000.jpeg\"><img border=\"0\" src=\"http://1.bp.blogspot.com/-qOFSO7iWcNE/ViisYXh5pSI/AAAAAAAAATc/XNmgz6e6Orw/s640/1024_2000.jpeg\" width=\"640\"></a></div>\n<p class=\"MsoNormal\">\n<br>\n<br>\n\n <br>\n\n\nThe entry package that includes a mini battery has a price\nof $ 649 , while the ultra battery version is available for $ 948.</p>\n\n\n</div>\n\n</div>"
    }, {
        "title": "Unity 2D Flappy Bird Tutorial",
        "url": "http://noobtuts.com/unity/2d-flappy-bird-game",
        "excerpt": "Foreword In this Tutorial we will learn how easy it is to make a game like Flappy Bird in Unity. Flappy Bird was released in 2013 and became the most downloaded iOS App in January 2014. The&hellip;",
        "date_saved": "Thu Jul 28 20:11:59 EDT 2016",
        "html_file": "unity_2d_flappy_bird_tutorial.html",
        "png_file": "unity_2d_flappy_bird_tutorial.png",
        "md_file": "unity_2d_flappy_bird_tutorial.md",
        "content": "<div><article>\n \n <p><img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/unity_flappy_bird.png\" title=\"unity_flappy_bird\" alt=\"Unity 2D Flappy Bird Game\"></p>\n\n<h2>Foreword</h2>\n\n<p>In this Tutorial we will learn how easy it is to make a game like Flappy Bird in Unity. <a href=\"http://en.wikipedia.org/wiki/Flappy_Bird\">Flappy Bird</a> was released in 2013 and became the most downloaded iOS App in January 2014.</p>\n\n<p>The gamedesign is very simple: a bird is supposed to fly horizontally between obstacles, and the player can press a button to make the bird flap and fly upwards. Simple games like that are always perfect for a Tutorial, all we need are 40 lines of code and a few sprites.</p>\n\n<p>As usual, everything will be explained as easy as possible so everyone can understand it.</p>\n\n<h2>Requirements</h2>\n\n<h3>Knowledge</h3>\n\n<p>Our Tutorial does not require any special skills. If you know your way around Unity and heard about <a href=\"http://noobtuts.com/unity/gameobjects-and-components\">GameObjects</a> and Transforms before, then you are ready to go. And if you didn't, don't worry about it too much.</p>\n\n<p>Feel free to read our easier <a href=\"http://noobtuts.com/unity\">Unity Tutorials</a> like <a href=\"http://noobtuts.com/unity/2d-pong-game\">Unity 2D Pong Game</a> to get used to the engine.</p>\n\n<h3>Unity Version</h3>\n\n<p>Our Flappy Bird Tutorial will use <strong>Unity 5.0.0f4</strong>. Newer versions should work fine as well, older versions may or may not work. The free version of Unity 5 now comes with all the engine features, which makes it the recommended version.</p>\n\n<h2>Project Setup</h2>\n\n<p>Let's get to it. We will start Unity and select <strong>New Project</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/new_project.png\" title=\"new_project\" alt=\"Unity New Project\"></p>\n\n<p>We will name it <strong>flappybird</strong>, select any location like <strong>C:\\</strong>, select <strong>2D</strong> and click <strong>Create Project</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/project_wizard_create_2d.png\" title=\"project_wizard_create_2d\" alt=\"Unity Create new 2D Project\"></p>\n\n<p>If we select the <strong>Main Camera</strong> in the <strong>Hierarchy</strong> then we can set the <strong>Background Color</strong> to a light blue <em>(R=198, G=208, B=230)</em> for the sky color and adjust the <strong>Size</strong> like shown in the following image:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/camera_properties.png\" title=\"camera_properties\" alt=\"Camera Properties\"></p>\n\n<h2>The Background</h2>\n\n<p>We will begin by drawing a very simple sky background in our drawing tool of choice:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background.png\" width=\"100%\" title=\"background\" alt=\"Flappy Bird Background\"><br>\n<em>Note: right click on the image, select <strong>Save As...</strong>, navigate to the project's <strong>Assets</strong> folder and save it in a new <strong>Sprites</strong> folder.</em></p>\n\n<p>After saving it, we can select the background in the <strong>Project Area</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_projectarea.png\" title=\"background_projectarea\" alt=\"Background in Project Area\"></p>\n\n<p>And then modify the <strong>Import Settings</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_importsettings.png\" title=\"background_importsettings\" alt=\"Background Import Settings\"><br>\n<em>Note: a <strong>Pixels Per Unit</strong> value of <strong>16</strong> means that 16 x 16 pixels will fit into one unit in the game world. We will use this value for all our textures, because the Bird will be 16 x 16 pixels, which should end up being 1 unit in the game world.</em></p>\n\n<p>Alright so let's add the background to the game world by dragging it from the <strong>Project Area</strong> onto the <strong>Main Camera</strong> in the <strong>Hierarchy</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_to_hierarchy.png\" title=\"background_to_hierarchy\" alt=\"Background to Hierarchy\"></p>\n\n<p>So that the background becomes a <strong>child</strong> of the <strong>Main Camera</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_under_camera.png\" title=\"background_under_camera\" alt=\"Background as Child of Camera\"></p>\n\n<p>Now that the background is a child of the camera, it will always go where the camera goes. Or in other words, the player will always see the background.<br>\n<em>Note: we could also place several backgrounds next to each other so that there is still a background when the camera moves horizontally, but making it a child of the camera is much easier.</em></p>\n\n<p>Let's take a look at the <strong>Inspector</strong> and position the background one unit lower at <strong>Y=-1</strong>, just so that it fits to the rest of the game later on:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_position.png\" title=\"background_position\" alt=\"Background position\"></p>\n\n<p>If we press <strong>Play</strong> then we can already see the background sky:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_inscene.png\" title=\"background_inscene\" alt=\"Background in Scene\"></p>\n\n<p>There is one more adjustment to be made here. We will add the bird and some obstacles soon, so let's also make sure that the background is really drawn behind everything else. Unity uses the SpriteRenderer's <strong>Sorting Layer</strong> and <strong>Order in Layer</strong> properties to decide which parts of a game should be in front of which other parts.</p>\n\n<p>We will simply set the <strong>Order in Layer</strong> to <strong>-1</strong> so that everything else will be drawn in front of it:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/background_order_in_layer.png\" title=\"background_order_in_layer\" alt=\"Background Order in Layer\"><br>\n<em>Note: the higher the order, the more it is in the foreground. The lower the order, the more it is in the background.</em></p>\n\n<h2>The Ground</h2>\n\n<p>Let's also draw some kind of terrain for the ground. We will make it very wide so that there is enough space for our obstacles later:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground.png\" width=\"100%\" title=\"ground\" alt=\"Flappy Bird Ground\"><br>\n<em>Note: right click on the image, select <strong>Save As...</strong> and save it in the project's <strong>Assets/Sprites</strong> folder.</em></p>\n\n<p>We will select the ground in the <strong>Project Area</strong> and then assign the same <strong>Import Settings</strong> that we used before:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_importsettings.png\" title=\"ground_importsettings\" alt=\"Ground Import Settings\"></p>\n\n<p>Afterwards we will drag it from the <strong>Project Area</strong> into the <strong>Hierarchy</strong> again:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_to_hierarchy.png\" title=\"ground_to_hierarchy\" alt=\"Add Ground to Hierarchy\"><br>\n<em>Note: this time we won't make it a child of the camera.</em></p>\n\n<p>Let's take a look at the <strong>Inspector</strong> and position the ground at <strong>X=16</strong> <strong>Y=-6</strong>: so that it is below the background and so that most of the area is at the right of the screen:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_position.png\" title=\"ground_position\" alt=\"Ground position\"></p>\n\n<p>This time we will select a <strong>Order in Layer</strong> value of <strong>1</strong>, so that it will always be in front of the bird and the obstacles later on:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_order_in_layer.png\" title=\"ground_order_in_layer\" alt=\"Ground Order in Layer\"></p>\n\n<h3>Ground Physics</h3>\n\n<p>The ground should the part of the physics world. Right now it is really just an image in the game world, just a visual effect and nothing more. We want the ground to be like a wall that the bird can collide with, so let's select <strong>Add Component</strong>-&gt;<strong>Physics 2D</strong>-&gt;<strong>Box Collider 2D</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_collider.png\" title=\"ground_collider\" alt=\"Ground Collider\"></p>\n\n<p>Normally we would be done now, but there is one more adjustment to be made here. Later on we will add obstacles to our game <em>(like the green pipes in the original Flappy Bird game)</em>, and those obstacles will move upwards and downwards into the ground. The obstacles and the ground will both be part of the physics world, and according to the laws of physics, there can never be two objects at the same place <em>(or in our case, two Colliders)</em>.</p>\n\n<p>There are several ways to work around this. As usual we will choose the easiest way by creating a new physics <strong>Layer</strong> that we will use for the ground and the obstacles. Afterwards we will tell Unity to simply ignore collisions in-between that layer.</p>\n\n<p>We can create a new layer by selecting <strong>Add Layer</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_add_layer.png\" title=\"ground_add_layer\" alt=\"Layer\"></p>\n\n<p>Afterwards we will add one <strong>User Layer</strong>, let's call it <strong>WeirdPhysics</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/layers_weirdphysics.png\" title=\"layers_weirdphysics\" alt=\"Weird Physics Layer\"></p>\n\n<p>Now we can select the ground in the <strong>Hierarchy</strong> again and then assign the <strong>WeirdPhysics</strong> layer:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_layer_weirdphysics.png\" title=\"ground_layer_weirdphysics\" alt=\"Ground WeirdPhysics Layer\"></p>\n\n<p>Afterwards we select <strong>Edit</strong>-&gt;<strong>Project Settings</strong>-&gt;<strong>Physics 2D</strong> from the top menu and disable the <strong>WeirdPhysics</strong> vs. <strong>WeirdPhysics</strong> collisions in the <strong>Layer Collision Matrix</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/physics_layer_ignore_weirdphysics.png\" title=\"physics_layer_ignore_weirdphysics\" alt=\"Physics ignore WeirdPhysics Layer Collisions\"><br>\n<em>Note: it's very rare that we have to do this in Unity, but our Flappy Bird game is one of those exceptions.</em></p>\n\n<p>Now the ground will never collide with any of the obstacles.</p>\n\n<p>Also if we press <strong>Play</strong> then we can see the sky and the ground already:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/ground_inscene.png\" title=\"ground_inscene\" alt=\"Ground in Scene\"></p>\n\n<h2>The Bird</h2>\n\n<h3>The Bird Image</h3>\n\n<p>Alright, let's get to the most important part of our game: the bird. We will begin by drawing a bird flying animation with 4 frames:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird.png\" title=\"bird\" alt=\"Bird Animation\"><br>\n<em>Note: right click on the image, select <strong>Save As...</strong> and save it in the project's <strong>Assets/Sprites</strong> folder.</em></p>\n\n<p>We will use the following <strong>Import Settings</strong> for it:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_importsettings.png\" title=\"bird_importsettings\" alt=\"Bird ImportSettings\"></p>\n\n<p>Our bird image contains several smaller images, hence it's important that we select <strong>Multiple</strong> as <strong>Sprite Mode</strong>. Afterwards we can click the <strong>Sprite Editor</strong> button:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_spriteeditor_button.png\" title=\"bird_spriteeditor_button\" alt=\"Bird Sprite Editor Button\"></p>\n\n<p>In the <strong>Sprite Editor</strong> we <strong>Slice</strong> it as a <strong>16 x 16</strong> Grid:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_spriteeditor_settings.png\" title=\"bird_spriteeditor_settings\" alt=\"Bird SpriteEditor Settings\"></p>\n\n<p>After pressing the <strong>Slice</strong> button we can close the Sprite Editor. Unity will ask us if we want to apply the <strong>Unimported Import Settings</strong>, so let's select <strong>Apply</strong>.</p>\n\n<p>Now we can see our 4 slices as children of the <strong>bird</strong> image in the <strong>Project Area</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_children.png\" title=\"bird_children\" alt=\"Bird Children\"></p>\n\n<h3>The Bird Animation</h3>\n\n<p>Let's select all the slices and then drag them into the <strong>Hierarchy</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_slices_to_hierarchy.png\" title=\"bird_slices_to_hierarchy\" alt=\"Drag Bird Slices to Hierarchy\"></p>\n\n<p>Unity knows that we want to create an animation from those slices, which is why it asks us where to save the animation files. We will create a new <strong>BirdAnimation</strong> folder and then save the animation as <strong>fly.anim</strong>.</p>\n\n<p>Afterwards we can see two new files in our <strong>BirdAnimation</strong> folder:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_animation_files.png\" title=\"bird_animation_files\" alt=\"Bird Animation Files\"></p>\n\n<p>The <strong>bird_0</strong> file is the state machine that takes care of animation states and speeds. The second file is the <strong>fly</strong> animation itself. Let's double click the <strong>bird_0</strong> file really quick so that we can see the animation state machine:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_animator.png\" title=\"bird_animator\" alt=\"Bird in Animator\"><br>\n<em>Note: we don't have to worry about the animation states because we only have one animation.</em></p>\n\n<p>We will click on the <strong>fly</strong> state and then simply decrease the <strong>speed</strong> to <strong>0.5</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_animation_fly_speed.png\" title=\"bird_animation_fly_speed\" alt=\"Bird Fly Animation Speed\"></p>\n\n<p>And since we only have one animation, we are already done here. If we press <strong>Play</strong> then we can even see it in action:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_animated.gif\" title=\"bird_animated\" alt=\"Bird animated\"></p>\n\n<h3>Bird Physics</h3>\n\n<p>Our bird is supposed to be part of the physics world. Let's begin by giving it a Collider, just like we did with the ground. We will select <strong>Add Component</strong>-&gt;<strong>Physics 2D</strong>-&gt;<strong>Circle Collider 2D</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_collider.png\" title=\"bird_collider\" alt=\"Bird Collider\"></p>\n\n<p>Now everything in the physics world that is supposed to move around will also need a <strong>Rigidbody</strong>. A Rigidbody takes care of things like gravity, velocity and movement forces. We can add a Rigidbody by selecting <strong>Add Component</strong>-&gt;<strong>Physics 2D</strong>-&gt;<strong>Rigidbody 2D</strong> in the <strong>Inspector</strong>. We will also enable the <strong>Fixed Angle</strong> property so that the bird doesn't suddenly start rotating:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_rigidbody.png\" title=\"bird_rigidbody\" alt=\"Bird Rigidbody\"></p>\n\n<p>If we press <strong>Play</strong> then we can already see the Rigidbody's gravity property in action:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_gravity.gif\" title=\"bird_gravity\" alt=\"Bird Gravity\"></p>\n\n<h3>The Bird Movement Script</h3>\n\n<p>Our bird already looks pretty decent, but it should also fly towards the right at all times, and it should flap its wings to fly upwards if the user presses a button.</p>\n\n<p>This kind of behavior can be implemented with a Script. Let's select <strong>Add Component</strong>-&gt;<strong>New Script</strong> in the <strong>Inspector</strong>, name it <strong>Bird</strong> and select <strong>CSharp</strong> as the language. We will also create a new <strong>Scripts</strong> folder in our <strong>Project Area</strong> so that we can put the Bird Script into it:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_script_projectarea.png\" title=\"bird_script_projectarea\" alt=\"Bird Script in Project Area\"></p>\n\n<p>We can double click the Script in order to open it:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Bird MonoBehaviour <br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>We can make the bird fly towards the right at all times by first adding a new <strong>speed</strong> variable and then using the Rigidbody's <strong>velocity</strong> property:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Bird MonoBehaviour <br>\n&#xA0; &#xA0; <p>// Movement speed</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> speed <br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start &#xA0; &#xA0;<br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Fly towards the right</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>velocity</p> Vector2<p>right</p> speed<br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre><br>\n<em>Note: the velocity is exactly the movement direction multiplied by the movement speed.</em>\n\n<p>If we save the Script and press <strong>Play</strong> then we can see how the bird flies towards the right of the Screen.</p>\n\n<p>Now we create a new <strong>force</strong> variable and then use our <strong>Update</strong> function to check for key presses. If the user pressed the <strong>Space</strong> key then we will make the bird fly upwards with the <strong>force</strong>:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Bird MonoBehaviour <br>\n&#xA0; &#xA0; <p>// Movement speed</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> speed <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Flap force</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> force <p>300</p><br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start &#xA0; &#xA0;<br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Fly towards the right</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>velocity</p> Vector2<p>right</p> speed<br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Flap</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; Input<p>GetKeyDown</p>KeyCode<p>Space</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>AddForce</p>Vector2 force<br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>If we press <strong>Play</strong> then we can now make the bird fly upwards:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_flapping.gif\" title=\"bird_flapping\" alt=\"Bird flapping\"></p>\n\n<p>There is one last thing to do here. We want to restart the game as soon as the bird collided with the ground or with an obstacle. Our bird already has a <strong>Collider</strong> and a <strong>Rigidbody</strong>, which means that Unity automatically calls the <strong>OnCollisionEnter2D</strong> function. All we have to do is actually add it to our Script:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>void</p> OnCollisionEnter2DCollision2D coll <br>\n&#xA0; &#xA0; <p>// Restart</p><br>\n&#xA0; &#xA0; Application<p>LoadLevel</p>Application<p>loadedLevel</p><br>\n</p></code></pre><br>\n<em>Note: <strong>Application.LoadLevel</strong> can be used to load a Scene. <strong>Application.loadedLevel</strong> is the currently loaded Scene. Or in other words, we simply restart the current Scene.</em>\n\n<h2>Camera Follow</h2>\n\n<p>Right now the Camera never moves. And since the bird always flies towards the right of the screen, we won't be able to see it for a very long time. We will solve this problem by creating a new Script that makes the Camera follow the bird all the time.</p>\n\n<p>Let's select the <strong>Main Camera</strong> in the <strong>Hierarchy</strong> and then click on <strong>Add Component</strong>-&gt;<strong>New Script</strong>, name it <strong>CameraFollow</strong> and select <strong>CSharp</strong> as the language. We will also move it into our <strong>Scripts</strong> folder and then open it:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> CameraFollow MonoBehaviour <br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>We won't need the <strong>Start</strong> function this time, so let's remove it:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> CameraFollow MonoBehaviour <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>Let's add a public <strong>Transform</strong> variable to specify which target to follow:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> CameraFollow MonoBehaviour <br>\n&#xA0; &#xA0; <p>// The Target</p><br>\n&#xA0; &#xA0; <p>public</p> Transform target<br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre><br>\n<em>Note: we can set that target in the <strong>Inspector</strong> later on.</em>\n\n<p>Afterwards we will simply use the <strong>Update</strong> function to always set the Camera's <strong>X</strong> position to the target's <strong>X</strong> position:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>// Update is called once per frame</p><br>\n<p>void</p> Update <br>\n&#xA0; &#xA0; transform<p>position</p> <p>new</p> Vector3target<p>position</p>,<br>\n&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;transform<p>position</p>,<br>\n&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;transform<p>position</p><br>\n</p></code></pre><br>\n<em>Note: the <strong>X</strong> position is the horizontal position.</em>\n\n<p>Now our Script is done. However it's usually considered best practice to do Camera movement after everything else in the Scene was updated. We will simply change our <strong>Update</strong> function to <strong>LateUpdate</strong>, just to have it perfectly smooth:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>void</p> LateUpdate <br>\n&#xA0; &#xA0; transform<p>position</p> <p>new</p> Vector3target<p>position</p>,<br>\n&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;transform<p>position</p>,<br>\n&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;transform<p>position</p><br>\n</p></code></pre>\n\n<p>If we save the Script then we can take a look at the <strong>Inspector</strong> and drag the <strong>bird_0</strong> GameObject from the <strong>Hierarchy</strong> into the Script's <strong>Target</strong> slot:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/camera_follow_target.png\" title=\"camera_follow_target\" alt=\"Camera Follow Target\"></p>\n\n<p>If we press <strong>Play</strong> then we can now see how the Camera automatically follows the bird:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/camera_following_bird.gif\" title=\"camera_following_bird\" alt=\"Camera following the Bird\"></p>\n\n<h2>The Obstacles</h2>\n\n<h3>The Obstacle Image</h3>\n\n<p>Right now our game is not very hard. We can change that by adding some obstacles. Let's draw one:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle.png\" title=\"obstacle\" alt=\"Obstacle\"><br>\n<em>Note: right click on the image, select <strong>Save As...</strong> and save it in the project's <strong>Assets/Sprites</strong> folder.</em></p>\n\n<p>We will use the following <strong>Import Settings</strong> for it:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_importsettings.png\" title=\"obstacle_importsettings\" alt=\"Obstacle ImportSettings\"></p>\n\n<p>And then drag it from the <strong>Project Area</strong> into the <strong>Hierarchy</strong> in order to create a GameObject from it:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_in_hierarchy.png\" title=\"obstacle_in_hierarchy\" alt=\"Obstacle in Hierarchy\"></p>\n\n<p>We will position it at <strong>X=3</strong>, <strong>Y=-5</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_position.png\" title=\"obstacle_position\" alt=\"Obstacle Position\"></p>\n\n<p>Here is how it looks in the Scene:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_inscene.png\" title=\"obstacle_inscene\" alt=\"Obstacle in Scene\"></p>\n\n<h3>Obstacle Physics</h3>\n\n<p>The obstacle should be part of the physics world again. The bird should be able to collide with it, so let's select <strong>Add Component</strong>-&gt;<strong>Physics 2D</strong>-&gt;<strong>Box Collider 2D</strong> in the <strong>Inspector</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_collider.png\" title=\"obstacle_collider\" alt=\"Obstacle Collider\"></p>\n\n<p>We talked about how the obstacles might end up inside the ground and how we don't want the two to collide with each other, so let's make it part of our <strong>WeirdPhysics</strong> layer, too:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_layer.png\" title=\"obstacle_layer\" alt=\"Obstacle Layer\"><br>\n<em>Note: since we disabled collisions in-between our WeirdPhysics layer, the ground will never collide with an obstacle. The bird can still collide with the ground and with the obstacle because it has a different layer (the default one).</em></p>\n\n<p>Alright so some of the obstacles are also supposed to move up and down. Everything in the physics world that is supposed to move will need a Rigidbody, so let's select <strong>Add Component</strong>-&gt;<strong>Physics 2D</strong>-&gt;<strong>Rigidbody 2D</strong> in the <strong>Inspector</strong> again. We don't want it to be affected by gravity, so let's set the <strong>Gravity Scale</strong> to <strong>0</strong>. We also don't want it to rotate, so let's also enable <strong>Fixed Angle</strong> again:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_rigidbody.png\" title=\"obstacle_rigidbody\" alt=\"Obstacle Rigidbody\"></p>\n\n<p>If we press <strong>Play</strong> and let the bird fly against the obstacle then we can see how the level restarts:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/bird_vs_obstacle.gif\" title=\"bird_vs_obstacle\" alt=\"Bird vs Obstacle\"></p>\n\n<h3>Obstacle Movement</h3>\n\n<p>Alright so some of the obstacles are supposed to move up and down. This kind of behavior can be implemented with a Script again. Let's select <strong>Add Component</strong>-&gt;<strong>New Script</strong>, name it <strong>Obstacle</strong>, move it into our <strong>Scripts</strong> folder and then open it:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Obstacle MonoBehaviour <br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>There are many different ways to make the obstacle move up and down all the time. As usual, we will use the easiest way. </p>\n\n<p>We will begin by adding a <strong>speed</strong> variable and then setting the Rigidbody's <strong>velocity</strong> so that the obstacles move upwards with the <strong>speed</strong>:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Obstacle MonoBehaviour <br>\n&#xA0; &#xA0; <p>// Movement Speed (0 means don't move)</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> speed <br>\n<br>\n&#xA0; &#xA0; <p>// Use this for initialization</p><br>\n&#xA0; &#xA0; <p>void</p> Start <br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Initial Movement Direction</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>velocity</p> Vector2 speed &#xA0; &#xA0;<br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Update is called once per frame</p><br>\n&#xA0; &#xA0; <p>void</p> Update <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n</p></code></pre>\n\n<p>Now the trick is to use Unity's <a href=\"http://docs.unity3d.com/ScriptReference/MonoBehaviour.InvokeRepeating.html\">InvokeRepeating</a> function to reverse that velocity every few seconds:<br>\n</p><pre class=\"highlight csharp\"><code><p class=\"csharp\"><p>using</p> <p>UnityEngine</p><br>\n<p>using</p> <p>System.Collections</p><br>\n<br>\n<p>public</p> <p>class</p> Obstacle MonoBehaviour <br>\n&#xA0; &#xA0; <p>// Movement Speed (0 means don't move)</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> speed <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>// Switch Movement Direction every x seconds</p><br>\n&#xA0; &#xA0; <p>public</p> <p>float</p> switchTime <br>\n<br>\n&#xA0; &#xA0; <p>void</p> Start <br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Initial Movement Direction</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>velocity</p> Vector2 speed<br>\n&#xA0; &#xA0; &#xA0; &#xA0; <br>\n&#xA0; &#xA0; &#xA0; &#xA0; <p>// Switch every few seconds</p><br>\n&#xA0; &#xA0; &#xA0; &#xA0; InvokeRepeating<p>\"Switch\"</p>, , switchTime<br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <br>\n&#xA0; &#xA0; <p>void</p> <p>Switch</p> <br>\n&#xA0; &#xA0; &#xA0; &#xA0; GetComponentRigidbody2D<p>velocity</p> <br>\n&#xA0; &#xA0; <br>\n</p></code></pre><br>\n<em>Note: the Switch function simply reverses the Rigidbody's velocity. We then use <strong>InvokeRepeating</strong> to tell Unity to call that function every few seconds. We also added a <strong>switchTime</strong> variable to specify the time in which <strong>Switch</strong> should be called.</em>\n\n<p>Let's save the Script and set the obstacle's <strong>Speed</strong> to <strong>1</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_script_inspector.png\" title=\"obstacle_script_inspector\" alt=\"Obstacle Script in Inspector\"><br>\n<em>Note: if we don't want an obstacle to move then we can either set it's <strong>Speed</strong> to <strong>0</strong> or disable the Script.</em></p>\n\n<p>If we press <strong>Play</strong> then we can see our obstacle moving up- and downwards:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_moving.gif\" title=\"obstacle_moving\" alt=\"Obstacle moving\"></p>\n\n<h3>Adding more Obstacles</h3>\n\n<p>Let's right click the obstacle in the <strong>Hierarchy</strong>, select <strong>Duplicate</strong> and move it a bit further towards the right:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_duplicated.png\" title=\"obstacle_duplicated\" alt=\"Duplicated Obstacle\"></p>\n\n<p>We will also duplicate one and then set the <strong>Scale.Y</strong> property to <strong>-1</strong>:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_scale_y-1.png\" title=\"obstacle_scale_y-1\" alt=\"Obstacle Scale Y-1\"></p>\n\n<p>This way it looks properly when positioning it upside-down:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/obstacle_upsidedown.png\" title=\"obstacle_upsidedown\" alt=\"Obstacle upside-down\"></p>\n\n<p>We can add as many obstacles with as many different <strong>speed</strong> and <strong>switchTime</strong> properties as we want:<br>\n<img src=\"http://noobtuts.com/content/unity/2d-flappy-bird-game/unity_flappy_bird.png\" title=\"unity_flappy_bird\" alt=\"Unity 2D Flappy Bird Game\"></p>\n\n<h2>Summary</h2>\n\n<p>We just learned how incredibly easy it is to make a Flappy Bird game in Unity. We used some very powerful Unity features like Physics, Mecanim <em>(for the animation)</em>, Layers, the Sprite Editor and Scripting. As usual now it's up to the reader to make the game fun and more difficult.</p>\n\n \n <br>\n <div id=\"box\">\n <div>\n <h2>Download Source Code &amp; Project Files</h2>\n The <i>Unity 2D Flappy Bird Tutorial</i> source code &amp; project files can be downloaded by <a href=\"http://noobtuts.com/premium\">Premium</a> members.<br>\n <br>\n <b>All Tutorials. All Source Codes &amp; Project Files. One time Payment.</b><br>\n <a href=\"http://noobtuts.com/premium\">Get Premium</a> today!\n </div>\n \n\n\n <footer>\n <p>&#xA9; 2012-2015 <a href=\"http://noobtuts.com\">noobtuts.com</a></p>\n </footer>\n\n</div></article></div>"
    }, {
        "title": "A Beginner's Guide to the Synth",
        "url": "http://20khz.gizmodo.com/a-beginners-guide-to-the-synth-1736978695",
        "excerpt": "You know the sound. Listen to Devo&#x2019;s &#x201C;Whip It&#x201D; or Parliament&#x2019;s &#x201C;Flash Light.&#x201D; Like countless modern pop songs, they&#x2019;re full of sounds that&hellip;",
        "date_saved": "Thu Jul 28 20:12:00 EDT 2016",
        "html_file": "a_beginners_guide_to_the_synth.html",
        "png_file": "a_beginners_guide_to_the_synth.png",
        "md_file": "a_beginners_guide_to_the_synth.md",
        "content": "<div><div class=\"post-content entry-content \"><p class=\"has-media media-large has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border lazy-image lazy-gif\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--FIOAmSfA--/c_scale,fl_progressive,q_80,w_800/1494225412513488045.gif\" width=\"800\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p class=\"first-text\">You know the sound. Listen to Devo&#x2019;s <a href=\"https://www.youtube.com/watch?v=j_QLzthSkfM\" target=\"_blank\">&#x201C;Whip It&#x201D;</a> or Parliament&#x2019;s <a href=\"https://www.youtube.com/watch?v=6F7xbF7OnxU\" target=\"_blank\">&#x201C;Flash Light.&#x201D;</a> Like countless modern pop songs, they&#x2019;re full of sounds that aren&#x2019;t made by acoustic instruments; the sound is pure synthetic. You&#x2019;re listening to electricity manipulated by a machine.</p>\n\n\n\n\n\n\n\n\n<p>The machine of course is the synthesizer, and it&#x2019;s been one of the most crucial building blocks of contemporary music. And yet, how many of us know how a synth <em>works</em>? How do a bunch of wonky tones coming out of a box covered in knobs and buttons translate to the memorable sounds of disco, or synthpop, or house or electro or EDM or Taylor Swift?<br></p>\n\n\n\n\n\n\n\n\n<p>This guide is an attempt to demystify the ubiquitous sonic gadget&#x2014;not for audiophiles or synth nerds, but for anyone that listens to music in the 21st century and is curious about how it&#x2019;s made.</p>\n\n\n\n\n\n\n\n\n\n<h3>Creating Sound From Scratch</h3>\n\n\n\n\n\n\n\n\n<p>Let&#x2019;s start at the beginning, 50 years ago, when an electrician (not a musician!) <a href=\"http://www.moogmusic.com/legacy/bob-moog-timeline\" target=\"_blank\">named Robert Moog</a> devised a new way to make sound: using an electrical signal.</p>\n\n\n\n\n\n\n\n\n<p>On the heels of the invention of the transistor, Moog (rhymes with &#x201C;vogue&#x201D;) made a machine that could break sound down into its most fundamental properties and control every aspect of it with voltage&#x2014;essentially building sound from scratch.</p>\n\n\n\n\n\n\n\n\n\n<p>Which is why to really understand anything about synths, you have to have a basic grasp of acoustic theory. So let&#x2019;s go back to physics class a second.</p>\n\n\n\n\n\n\n\n\n<p>In a nutshell, sound is caused by a vibrating object creating changes in air pressure, which vibrates our eardrum, and which we in turn perceive as sound. A synthesizer basically mimics this natural acoustic process. So instead of a plucked, vibrating guitar string, the vibration &#x2014; called &#x201C;oscillation&#x201D; in synthspeak &#x2014; comes from an electrical signal generated by rapidly changing voltages in a circuit.<br></p>\n\n\n\n\n\n\n\n\n<p>Those oscillations repeat periodically, in patterns called waveforms. And every aspect of a waveform &#x2014; its size, speed, structure &#x2014; can be further shaped by the synth&#x2019;s controls to carve out a sound&#x2019;s pitch, timbre, tone and more. Then eventually, the electrical signal is amplified and sent through a speaker to convert it back to sound the human ear understands.</p>\n\n\n\n\n\n\n\n\n<p>Now in the beginning, synths weren&#x2019;t musical in the traditional sense&#x2014;they were pretty much crap at emulating acoustic instruments in any realistic way, because the waveforms produced by organic sounds are <em>much</em> more complex and harmonically rich (more on this later) than the precise mathematical waves generated by electricity. But synths were very good at spitting out trippy, otherworldly sounds that don&#x2019;t exist in nature at all<em>, </em>which is why they found a perfect early home in 60s psychedelia and scifi films.</p>\n\n\n\n\n\n\n\n\n<p>But how does an electrical signal go from sounding like the robotic fart sound of speaker feedback into something resembling music? Here&#x2019;s where all those knobs come in.</p>\n\n\n\n\n\n\n\n\n<h2><strong>How a Synthesizer Works</strong></h2>\n\n\n\n\n\n\n\n\n<p class=\"has-media media-large has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--F5kKHINY--/c_scale,fl_progressive,q_80,w_800/1494225412672339373.jpg\" width=\"800\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p><em><small>The control panel on the Minimoog synthesizer </small></em></p>\n\n\n\n\n\n\n\n\n<p>All synths have a few <a href=\"http://synthesizeracademy.com/category/lessons/page/2/\" target=\"_blank\">basic components</a> that work together to forge a sound: an oscillator that generates the waveform and changes its pitch, a filter that carves out certain frequencies in the wave to change the timbre, an amplifier that controls the signal volume, and modulation to create effects. Let&#x2019;s break those down a bit.</p>\n\n\n\n\n\n\n\n\n<h4>Oscillator</h4>\n\n\n\n\n\n\n\n\n<p>The oscillator is the initial source of the sound &#x2014; like the guitar string pluck. Voltage from a power source oscillates electrons which generates a waveform, and most synths let you select from various types of waves because different patterns have different sounds. The most common types are:</p>\n\n\n\n\n\n\n\n\n<p class=\"has-media media-large has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--RKRDE99n--/1494225412730217901.jpg\" width=\"800\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p><em><small>Fundamentals of synthesis poster via <a href=\"http://moogfoundation.org/learning-synthesis/synthesis-fundamentals/\" target=\"_blank\">Moog Foundation</a> </small></em></p>\n\n\n\n\n\n\n\n\n<p>Hear the difference in their sounds:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The synth&#x2019;s oscillator section also controls pitch, or in physics-speak, frequency. Frequency is the speed of the vibration (the <em>frequency</em> with which a waveform completes one cycle of its pattern). It&#x2019;s measured in cycles per second, or Hertz. The faster the frequency, the higher the pitch&#x2014;double the frequency and the pitch goes up an octave.</p>\n\n\n\n\n\n\n\n\n<p>So to put it in musical terms, a 440 Hz tone is an A note, and 880 Hz is an A an octave up. 260 Hz is middle C <a href=\"http://www.phy.mtu.edu/~suits/notefreqs.html\" target=\"_blank\">and so on</a>. Math! (The human ear can hear as low as 20 Hz and up to 20 kHz, which you might notice is the name of this here blog.)</p>\n\n\n\n\n\n\n\n\n<h4>Filter</h4>\n\n\n\n\n\n\n\n\n<p>So that&#x2019;s how you get different notes to play a melody. But a trumpet and piano sound very different even when played at the same pitch, because of the sound&#x2019;s <em>timbre.</em> This is where the synth starts messing around with harmonics.<br></p>\n\n\n\n\n\n\n\n\n<p>A sine wave is just one single frequency, but all other sounds are made up of several frequencies that combine to form the dominant pitch that you hear. It&#x2019;s why a C chord on the guitar sounds like a C even though E and G notes are also played. These are called harmonics; they aren&#x2019;t heard as discrete pitches, but rather overtones that gives a sound its unique character or timbre.</p>\n\n\n\n\n\n\n\n\n<p>The filter section of a synthesizer modifies timbre by blocking certain frequencies in the waveform and letting others through. Turning the filter knob from top to bottom gives you this recognizable sound:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The Moog synthesizer in particular is famous for its rich filter sounds (and even <a href=\"http://www.moogmusic.com/news/patent-no-3475623-moog-ladder-filter\" target=\"_blank\">patented</a> one of them). You can actually hear that classic Moog analog filter in the <a href=\"https://soundcloud.com/lawrence-crenshaw/kanye-west-daft-punk-on-sight\" target=\"_blank\">opening track of Kanye West&#x2019;s Yeezus</a>, a track produced by Daft Punk:<br></p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<h4>Amplifier and Envelope Generator</h4>\n\n\n\n\n\n\n\n\n<p>Beyond speed, a synth can also manipulate the signal&#x2019;s size, and here&#x2019;s where the amplifier comes in. As you know the amp controls volume by making a signal bigger and thus louder. But it can also modify the amplitude of the signal <em>over time</em> &#x2014; how quickly it reaches peak loudness, and how long it sustains that volume. Think about the difference between the staccato sound you get from banging a piano key versus the gradual lead-up of the sound of a violin string.</p>\n\n\n\n\n\n\n\n\n<p>This loudness contour can be controlled by a synth&#x2019;s &#x201C;envelope generator.&#x201D; The most common is called ADSR, for attack (the onset of the sound), decay (when it starts to fade), sustain (how long the sound holds), and release (when it ends). Adjusting this contour can significantly change the character of a sound.</p>\n\n\n\n\n\n\n\n\n<h4>Modulation</h4>\n\n\n\n\n\n\n\n\n<p>There are <em>many</em> other modulators that further mess with these sonic properties. One standby is the<strong> low-frequency oscillator or LFO</strong>. It oscillates a signal at very low frequencies, lower than the ear can hear, so it&#x2019;s not used to create sound but to modulate <em>other</em> parts of the synth for effects like a wah pedal. When applied to the oscillator, it wiggles the pitch to create <a href=\"https://en.wikipedia.org/wiki/File:Lfo-cutoff-frequency-ripple.ogg\" target=\"_blank\">vibrato</a>. Applied to the amplitude makes the volume go up and down creating <a href=\"https://en.wikipedia.org/wiki/File:LFOtoVolume-Tremolo.ogg\" target=\"_blank\">tremolo</a>. Appying it to the filter is how you get the signature dubstep <a href=\"https://en.wikipedia.org/wiki/File:Lfo-cutoff-frequency-wobble-bass.ogg\" target=\"_blank\">wobble bass</a>:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>A <strong>ring modulator</strong> is another popular effect that works by combining two signal inputs to get brand new frequencies. It makes a wobbly metallic sound &#x2014; the effect behind the classic eerie synth sound behind the <em>Doctor Who</em><a href=\"https://www.youtube.com/watch?v=v2oCK89xxNQ\" target=\"_blank\"> soundtrack </a>and <a href=\"http://webaudio.prototyping.bbc.co.uk/ring-modulator/\" target=\"_blank\">the voices of the Daleks</a>. <em><a href=\"http://open.spotify.com/track/6mrXIrATdygxl39P337sLj\" target=\"_blank\">Exterminate</a></em>.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The most common form of synthesis&#x2014;the kind Dr. Moog pio is called <a href=\"http://synthesizeracademy.com/subtractive-synthesis/\" target=\"_blank\">subtractive synthesis</a> &#x2014; it starts with a harmonically rich waveform and filters out certain frequencies to carve out a sound. (Ali Jamieson&#x2019;s blog post <a href=\"http://alijamieson.co.uk/2015/04/forgive-me-lord-for-i-have-synth-a-guide-to-subtractive-synthesis/\" target=\"_blank\">&#x201C;Forgive me Lord for I Have Synth&#x201D;</a> is a great guide).</p>\n\n\n\n\n\n\n\n\n<p>But as synths advanced, they starting using other kinds of audio synthesis that could <em><a href=\"http://www.soundonsound.com/sos/jun00/articles/synthsec.htm\" target=\"_blank\">add</a></em> or <a href=\"http://www.soundonsound.com/sos/apr00/articles/synthsecrets.htm\" target=\"_blank\">multiply</a> waves together, and the range of possible sounds exploded. Synths got much better at mimicking traditional instruments including percussive sounds like bells and drums, which led to the eruption of dance music.</p>\n\n\n\n\n\n\n\n\n<p>Synths went from being a novelty effect used to spice up rock songs to the primary ingredient in a track, eventually replacing traditional instruments altogether. Let&#x2019;s take a quick little tour through history.</p>\n\n\n\n\n\n\n\n\n<h2><strong><strong>Evolution of the Synth</strong></strong></h2>\n\n\n\n\n\n\n\n\n<p class=\"has-media media-large has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--FxAc4CLl--/1494225412774988973.png\" width=\"800\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p><em><small>The legendary Yamaha DX7, the sound of plasticky 80s synthpop</small></em></p>\n\n\n\n\n\n\n\n\n<p>As the technology behind synths matured, it took popular culture right along with it. Think about the music that defined the last five centuries and you can basically hear the <a href=\"http://www.thevinylfactory.com/vinyl-factory-releases/the-14-synthesizers-that-shaped-modern-music/\" target=\"_blank\">machine evolve</a>. Through the 70s and 80s, a new model design or the latest high-tech feature opened up the potential for sounds that had never been created before &#x2014; you could build a song around these novel sounds (<a href=\"http://www.synthmania.com/Famous%20Sounds.htm\" target=\"_blank\">Synthtopia has a fun list</a> of famous synth sounds). Some even spawned entire musical subgenres.</p>\n\n\n\n\n\n\n\n\n<p>The first synths were called modular synthesizers, because each component &#x2014; oscillator, filter, etc &#x2014; were separate modules that you had to manually connect by plugging wires (called patch cables) in and out of different parts of the machine. They were massive, cumbersome, and expensive as fuck, and mostly relegated to university sound labs.</p>\n\n\n\n\n\n\n\n\n<p>But some successful artists could afford to experiment with the cutting-edge machines, namely pop stars like the Monkees, on &#x201C;<a href=\"https://www.youtube.com/watch?v=SCWRjWOowkc\" target=\"_blank\">Daily Nightly&#x201D;</a> in 1967; four tracks of the Beatles&#x2019; <em>Abbey Road</em> including<em> &#x201C;</em><a href=\"https://www.youtube.com/watch?v=qpCV2wgoxC8\" target=\"_blank\">Maxwell&#x2019;s Silver Hammer</a>,&#x201D; (0:58) and <a href=\"https://www.youtube.com/watch?v=Y6GNEEi7x4c\" target=\"_blank\">&#x201C;Here Comes The Sun&#x201D;</a> (1:40); and prog rocker Keith Emerson who&#x2019;s famous for dragging his massive modular onto the stage to show it off.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p><small><em>Keith Emerson&#x2019;s </em></small><em><small>1970 single &#x201C;Lucky Man&#x201D; is considered the first ever synth solo</small></em></p>\n\n\n\n\n\n\n\n\n<p>But the watershed moment for early modular synths was Donna Summer&#x2019;s disco hit &#x201C;I Feel Love,&#x201D; produced in 1977 by Georgio Moroder, who as the <a href=\"http://www.theguardian.com/music/2010/aug/02/moog-synthesisers\" target=\"_blank\">Guardian describes it</a> &#x201C;pulled the voice of God from the void. Everything that isn&#x2019;t the kick drum or Donna Summer are the big-brained dreams of a Moog modular.&#x201D;</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>(I&#x2019;d be remiss not to mention that while Moog mainstreamed the instrument, Don Buchla invented his modular synth at the same time on the West Coast, where the sound was more avant-garde.<em> <a href=\"https://www.youtube.com/watch?v=EelvKqhu1M4\" target=\"_blank\">Silver Apples of the Moon</a></em>, composed by Morton Subotnick on the Buchla, was the first electronic music sold by a record company.)</p>\n\n\n\n\n\n\n\n\n<p>The synth <em>really</em> took off in the early 70s when the tech got more compact, and portable all-in-one synths like the Minimoog came out. These fancy new synths were internally hardwired&#x2014;no messy patch chords&#x2014;and musicians could take them on tour and play them on stage.</p>\n\n\n\n\n\n\n\n\n<p class=\"has-media media-small has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--hGpSkfQ3--/1494225412797060013.jpg\" width=\"350\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p><em>Everyone</em> started incorporating synths into their music; you can hear it in 70s songs across genres: <a href=\"https://www.youtube.com/watch?v=w5lVUaLeD14\" target=\"_blank\">pop</a>, <a href=\"https://www.youtube.com/watch?v=UbkqE4fpvdI\" target=\"_blank\">funk</a>, <a href=\"https://www.youtube.com/watch?v=SYgVORvXGAs\" target=\"_blank\">glam rock</a>, <a href=\"https://www.youtube.com/watch?v=y5sOzbD29GQ\" target=\"_blank\">reggae</a>, <a href=\"https://www.youtube.com/watch?v=n3sT5Ucyw_0\" target=\"_blank\">jazz</a>, <a href=\"https://www.youtube.com/watch?v=Ldyx3KHOFXw\" target=\"_blank\">new wave</a> and most notoriously <a href=\"https://www.youtube.com/watch?v=--qa4oHG-S4\" target=\"_blank\">prog rockers in sequenced capes</a>. &#x201C;When you think of how an analogue synthesizer is supposed to sound, you&#x2019;re probably thinking of a Minimoog,&#x201D; <a href=\"http://www.thevinylfactory.com/vinyl-factory-releases/the-14-synthesizers-that-shaped-modern-music/\" target=\"_blank\">The Vinyl Factory wrote</a>. &#x201C;The thick, bassy throbs that have come to characterize the instrument over the last four-and-a-half decades.&#x201D;</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>And electronic music became popular as its own genre. Pioneer synth composer <a href=\"http://www.amazon.com/Switched-On-Bach-Johann-Sebastian/dp/B00005ORCV?tag=kinja-20&amp;ascsubtag=%5Bb%7C20khz%5Bp%7C1736978695%5Ba%7CB00005ORCV%5Bau%7C1626442437\" target=\"_blank\">Wendy Carlos&#x2019;s record </a><em>Switched-on Bach</em> sold half a million copies and won three Grammys in 1968, and six years later, the German band Kraftwerk came out with <em>Autobahn, </em>the record generally credited with spawning electronic pop, and making machine music cool in its own right.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<h3>The Rise of Digital </h3>\n\n\n\n\n\n\n\n\n<p>At the very end of the 70s, <a href=\"https://www.soundonsound.com/sos/1997_articles/sep97/synthschool3.html\" target=\"_blank\">digital synthesizers</a> came along and revolutionized music. Replacing circuits with algorithms meant you could program waveforms stacked together in any combination to recreate almost any sound. Synths got (relatively) good at emulating organic instruments, and suddenly you could press a button and get &#x201C;piano&#x201D; or &#x201C;bass&#x201D; without any traditional musical skill.</p>\n\n\n\n\n\n\n\n\n<p>And this is what the 80s sounded like.</p>\n\n\n\n\n\n\n\n\n<p>Artists increasingly relied on the <a href=\"http://www.synthmania.com/Famous%20Sounds.htm\" target=\"_blank\">preset sounds</a> (also called &#x201C;voices&#x201D; or &#x201C;patches&#x201D; after the patch cables on modular synths) that came factory ready, which is why so many 80s pop songs sound the same &#x2014; no one (except for Brian Eno, of course) bothered to program their own sounds from scratch.</p>\n\n\n\n\n\n\n\n\n<p>Those cheesy, plasticky <a href=\"http://www.synthmania.com/dx7.htm\" target=\"_blank\">patches on the legendary Yamaha DX7</a> &#x2014; the first commercially available, mass-produced digital synth &#x2014; are <em>ubiquitous</em> in 80s synthpop ballads. You surely know the sound well:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The Marimba patch was common in new wave &#x2014; it&#x2019;s the synthetic bass in A-Ha&#x2019;s &#x201C;Take on Me.&#x201D; The flute, electric piano, and even harmonica solo on Tina Turner&#x2019;s <a href=\"https://www.youtube.com/watch?v=oGpFcHTxjZs\" target=\"_blank\">&#x201C;What&#x2019;s Love Got to Do With It&#x201D;</a> are made with <a href=\"http://www.synthmania.com/dx7.htm\" target=\"_blank\">DX7 patches</a>, a trifecta of cheese salvaged only by Turner&#x2019;s incredible voice.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The <a href=\"http://www.korg.com/us/products/software/korg_legacy_collection/page_4.php\" target=\"_blank\">Korg M1</a> synth came out not long after the DX7 and sold millions. You can&#x2019;t listen to 90s music without recognizing the <a href=\"http://www.synthmania.com/m1.htm\" target=\"_blank\">M1&#x2019;s iconic voices</a> &#x2014; the slap bass voice in the <em>Seinfeld</em> theme, or the piano and organ presets that defined 90s house music, starting with Madonna&#x2019;s &#x201C;Vogue.&#x201D;</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>Speaking of dance, the genesis of acid house is a fun example of the effect the evolving synth had on music. The now-famous Roland TB-303, which was actually one of the last analog synths but had a simple intuitive sequencer great for four-on-the-floor beats, basically singlehandedly created the acid sound, on accident.</p>\n\n\n\n\n\n\n\n\n<p>The 303 was designed to replace the bass player in a rock band but was too unpredictable and hard to program (it didn&#x2019;t come with directions) so it sucked at it and flopped, causing young producers in Chicago&#x2019;s underground house scene to pick up the discounted secondhand synths and started messing around. The squrity squelchy bass sound that came out of the erratic 303s <em>was</em> the sound of acid house. (Fatboy Slim&#x2019;s track <a href=\"https://www.youtube.com/watch?v=o6eIBE7Bo3U\" target=\"_blank\">&#x201C;Everybody Needs a 303&#x201D;</a> wasn&#x2019;t hyperbole.)<br></p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<h3>Analog Resurgence</h3>\n\n\n\n\n\n\n\n\n<p>But popular music follows a predictable cycle, always rebelling against the sound that came before it, causing a sonic 180. Just as punk almost killed synth music after disco (until new wave melded the punk ethos with the electronic sound), a backlash against the robotic plasticky homogenous sounds of 80s pop led to a trend toward &#x201C;real&#x201D; sounds in the mid-90s &#x2014; most obviously with grunge, but also a return of analog synths, heard in ambient music pioneered by Brian Eno, and 90s electronica like Prodigy, Chemical Brothers, and Aphex Twin.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>The pendulum swung back again when the rise of super affordable software synths (&#x201C;softsyths&#x201D;) meant anyone with a laptop could be a producer or pump out EDM to dance floors at da club. And now, it&#x2019;s swinging back <em>again. </em>Analog synths are <a href=\"http://www.soundonsound.com/sos/mar14/articles/spotlight-0314.htm\" target=\"_blank\">back in vogue</a> &#x2014; major brands like Moog, Roland, and Korg are capitalizing on nostalgia by putting out revivals of vintage icons (&#x201C;vintage&#x201D; in synthspeak is anything before the 90s) like the <a href=\"http://www.korg.com/us/news/2015/012103/\" target=\"_blank\">ARP Odyssey</a> and <a href=\"http://20khz.gizmodo.com/mini-versions-of-classic-roland-synths-let-you-recaptur-1734254763\">Roland Jupiter 8</a>.</p>\n\n\n\n\n\n\n\n\n<p>Analog&#x2019;s cool is only partly due to the sound &#x2014; yeah, we tend to find the warm imperfection of analog machinery more pleasing than the robotic precision of digital technology. But today the are &#x201C;analog modeling&#x201D; digital synths that are good enough at mimicking the character of old-school imperfection the average ear probably can&#x2019;t discern the origin of the sound.</p>\n\n\n\n\n\n\n\n\n<p>The backlash against push-button laptop jockeys may be less about sound and more about creativity&#x2014;the lack of inspiration you tend to get when choosing from a infinite library of packaged sounds that soft synths and so-called <a href=\"http://electronicmusic.wikia.com/wiki/Rompler\" target=\"_blank\">romplers</a> cram inside a virtual box. People like hardware that you can pick up and play like an instrument, and there&#x2019;s an enthusiastic subculture of indie <a href=\"http://gizmodo.com/inside-the-small-brooklyn-studio-making-the-wackiest-sy-1692188992\" target=\"_blank\">boutique manufacturers</a> designing unique and wacky hardware synths and modules.</p>\n\n\n\n\n\n\n\n\n<p class=\"has-media media-large has-image\"><span class=\"lightBoxWrapper\"><span class=\"img-border\"><img src=\"http://i.kinja-img.com/gawker-media/image/upload/s--Ud1baNqZ--/c_scale,fl_progressive,q_80,w_800/1494225412817460909.png\" width=\"800\" alt=\"A Beginner's Guide to the Synth\"></span><span class=\"magnifier lightBox hide\"></span></span></p>\n\n\n\n\n\n\n\n\n<p><small><em>A modular synth, via <a href=\"https://vimeo.com/119810764\" target=\"_blank\">Richard Devine/Vimeo</a></em></small></p>\n\n\n\n\n\n\n\n\n<p>Modular synths are also undergoing an undeniable resurgence (which the excellent documentary <em><a href=\"http://www.idreamofwires.org/\" target=\"_blank\">I Dream of Wires</a></em> describes in detail). Purists love modulars because it forces you to think about the aspects of sound and not rely on presets, opening up the possibility of serendipitous sonic discoveries. Moving a cable or adding a new module to your rig can change the entire sound of the machine &#x2014; so the possibilities are quite literally infinite, limited &#x201C;only by your imagination,&#x201D; the mantra goes.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p>Growing consensus is that this pivot back to modular synthesizers isn&#x2019;t nostalgia, but more that we never actually explored the full sonic potential of these walls of colorful wires and blinking lights in the first place &#x2014; that we tossed them aside too soon to jump on the high-tech bandwagon. The next chapter in the evolution of the synth could be to go back where it started. Maybe the golden era of of synthetic sound is actually ahead of us.</p>\n\n\n\n\n\n\n\n\n<p>[Sources: <a href=\"http://synthesizeracademy.com/category/lessons/\" target=\"_blank\">Synthesizer Academy</a> | <a href=\"http://moogfoundation.org/moog-a-history-in-recordings-by-thom-holmes-part-two/\" target=\"_blank\">Moog Foundation</a> | <a href=\"https://www.youtube.com/watch?v=atvtBE6t48M\" target=\"_blank\">Dean Friedman</a> | <a href=\"http://alijamieson.co.uk/2015/04/forgive-me-lord-for-i-have-synth-a-guide-to-subtractive-synthesis/\" target=\"_blank\">Ali Jamieson</a> | <a href=\"http://www.thevinylfactory.com/vinyl-factory-releases/the-14-synthesizers-that-shaped-modern-music/\" target=\"_blank\">The Vinyl Factory</a>; <a href=\"http://www.theguardian.com/music/series/hey-whats-that-sound\" target=\"_blank\"> Guardian</a> | <a href=\"https://en.wikibooks.org/wiki/Sound_Synthesis_Theory/Subtractive_Synthesis\" target=\"_blank\">Wikibooks</a> | <a href=\"http://www.synthmania.com/Famous%20Sounds.htm\" target=\"_blank\">Synthmania</a> | <a href=\"http://www.factmag.com/2014/02/28/the-14-synthesizers-that-shaped-modern-music/2/\" target=\"_blank\">FACT</a> |<a href=\"http://www.soundonsound.com/sos/allsynthsecrets.htm\" target=\"_blank\"> Sound on Sound</a> | <a href=\"http://www.idreamofwires.org/\" target=\"_blank\">I Dream of Wires</a>]</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<p><em><strong><a href=\"http://20khz.gizmodo.com/\">20kHz</a> is a new blog exploring the technology and science behind music and sound. Follow us <a href=\"https://twitter.com/twentykhz\" target=\"_blank\">@20kHz.</a></strong></em></p>\n\n\n\n\n\n\n\n\n<p><em>Top illustration by Sam Woolley</em><br></p></div></div>"
    }, {
        "title": "Nightwatch.js",
        "url": "http://nightwatchjs.org/",
        "excerpt": "Nightwatch includes a command-line test runner which makes it easy to run tests and generate useful output. If you have installed nightwatch with-g (global) option you can skip this. The test runner&hellip;",
        "date_saved": "Thu Jul 28 20:12:02 EDT 2016",
        "html_file": "nightwatchjs.html",
        "png_file": "nightwatchjs.png",
        "md_file": "nightwatchjs.md",
        "content": "<div><p>Nightwatch includes a command-line test runner which makes it easy to run tests and generate useful output.</p>\n<p>If you have installed <code>nightwatch</code> with<code>-g</code> (global) option you can skip this.</p>\n<p>The test runner supports a number of run-time options to be passed at. To view all, run the following:</p>\n<div class=\"table-responsive\">\n\n<div class=\"table-responsive\">\n <table class=\"table table-bordered table-striped\">\n <thead>\n <tr>\n <th>Name</th>\n <th>Shortname</th>\n <th>default</th>\n <th>description</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><code>--config</code></td>\n <td><code>-c</code></td>\n <td><code>./nightwatch.json</code></td>\n <td>The location of the <code>nightwatch.json</code> file - the configuration file which the runner uses and which also includes the Selenium WebDriver options.</td>\n </tr>\n <tr>\n <td><code>--output</code></td>\n <td><code>-o</code></td>\n <td><code>tests_output</code></td>\n <td>The location where the JUnit XML reports will be saved.</td>\n </tr>\n <tr>\n <td><code>--reporter</code></td>\n <td><code>-r</code></td>\n <td><code>junit</code></td>\n <td>Name of a predefined reporter (e.g. junit) or path to a custom reporter file to use.</td>\n </tr>\n <tr>\n <td><code>--env</code></td>\n <td><code>-e</code></td>\n <td><code>default</code></td>\n <td>Which testing environment to use - defined in <code>nightwatch.json</code></td>\n </tr>\n <tr>\n <td><code>--verbose</code></td>\n <td><code>-v</code></td>\n <td></td>\n <td>Shows extended selenium command logging during the session</td>\n </tr>\n <tr>\n <td><code>--test</code></td>\n <td><code>-t</code></td>\n <td></td>\n <td>Runs only the specified test. By default it will attempt to run all tests in the folder and its subfolders.</td>\n </tr>\n <tr>\n <td><code>--testcase</code></td>\n <td></td>\n <td></td>\n <td>Used only together with <code>--test</code>. Runs the specified testcase from the current suite/module.</td>\n </tr>\n <tr>\n <td><code>--group</code></td>\n <td><code>-g</code></td>\n <td></td>\n <td>Runs only the specified group of tests (subfolder). Tests are grouped by being placed in the same subfolder.</td>\n </tr>\n <tr>\n <td><code>--skipgroup</code></td>\n <td><code>-s</code></td>\n <td></td>\n <td>Skip one or several (comma separated) group of tests.</td>\n </tr>\n <tr>\n <td><code>--filter</code></td>\n <td><code>-f</code></td>\n <td></td>\n <td>Specify a filter (glob expression) as the file name format to use when loading the test files.</td>\n </tr>\n <tr>\n <td><code>--tag</code></td>\n <td><code>-a</code></td>\n <td></td>\n <td>Filter test modules by tags. Only tests that have the specified tags will be loaded.</td>\n </tr>\n <tr>\n <td><code>--skiptags</code></td>\n <td></td>\n <td></td>\n <td>Skips tests that have the specified tag or tags (comma separated).</td>\n </tr>\n <tr>\n <td><code>--retries</code></td>\n <td></td>\n <td></td>\n <td>Retries failed or errored testcases up to the specified number of times. Retrying a testcase will also retry the <code>beforeEach</code> and <code>afterEach</code> hooks, if any.</td>\n </tr>\n <tr>\n <td><code>--suiteRetries</code></td>\n <td></td>\n <td></td>\n <td>Retries failed or errored testsuites (test modules) up to the specified number of times. Retrying a testsuite will also retry the <code>before</code> and <code>after</code> hooks (in addition to the global beforeEach and afterEach respectively), if any are defined on the testsuite.</td>\n </tr>\n\n </tbody>\n </table>\n</div>\n\n <h3 id=\"test-groups\">Test Groups</h3>\n<p>Nightwatch makes it possible to organize your test scripts into groups and run them as needed. To group tests together just place them in the same sub-folder. The folder name is the name of the group.</p>\n<h4 id=\"example-\">Example:</h4>\n<pre>\nlib/\n &#x251C;&#x2500;&#x2500; selenium-server-standalone.jar\ncustom-commands/\n &#x251C;&#x2500;&#x2500; loginUser.js\n &#x251C;&#x2500;&#x2500; attachPicture.js\ntests/\n &#x251C;&#x2500;&#x2500; logingroup\n | &#x251C;&#x2500;&#x2500; login_test.js\n | &#x2514;&#x2500;&#x2500; otherlogin_test.js\n &#x251C;&#x2500;&#x2500; addressbook\n | &#x251C;&#x2500;&#x2500; addressbook_test.js\n | &#x2514;&#x2500;&#x2500; contact_test.js\n &#x251C;&#x2500;&#x2500; chat\n | &#x251C;&#x2500;&#x2500; chatwindow_test.js\n | &#x251C;&#x2500;&#x2500; chatmessage_test.js\n | &#x2514;&#x2500;&#x2500; otherchat_test.js\n &#x2514;&#x2500;&#x2500; smoketests\n &#x251C;&#x2500;&#x2500; smoke_test.js\n &#x2514;&#x2500;&#x2500; othersmoke_test.js\n</pre>\n\n<p>To run only the <code>smoketests</code> group you would do the following:</p>\n<pre><code class=\"language-bash\">$ nightwatch --group smoketests</code></pre>\n\n<p>Also, if you would want to skip running the <code>smoketests</code> group you would do the following:</p>\n<pre><code class=\"language-bash\">$ nightwatch --skipgroup smoketests</code></pre>\n\n<p>To skip multiple groups, just add them as comma-separated:</p>\n<pre><code class=\"language-bash\">$ nightwatch --skipgroup addressbook,chat</code></pre>\n \n<p>You can also selectively target tests to run based on tags, such that a test may be belong to multiple tags. For example, you might have a login test that belongs to a login suite as well as a sanity suite.</p>\n<p>The tagging can be accomplished by adding the <code>@tags</code> property to a test module:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n '@tags': ['login', 'sanity'],\n 'demo login test': function (client) {\n // test code\n }\n};</code></pre>\n</div>\n\n<p>To select which tags to run, use the <code>--tag</code> command line flag:</p>\n<pre><code class=\"language-bash\">$ nightwatch --tag login</code></pre>\n\n<p>Specify multiple tags as:</p>\n<pre><code class=\"language-bash\">$ nightwatch --tag login --tag something_else</code></pre>\n\n<p><br>\nTo skip running tests with a specific tag, use the <code>--skiptags</code> flag:</p>\n<pre><code class=\"language-bash\">$ nightwatch --skiptags login</code></pre>\n\n<p>Or to skip multiple tags, add each tag you want to skip as comma-separated:</p>\n<pre><code class=\"language-bash\">$ nightwatch --skiptags login,something_else</code></pre>\n\n <h3 id=\"disabling-tests\">Disabling Tests</h3>\n<p>To prevent a test module from running, simply set the <code>disabled</code> attribute in that module to <code>true</code>, like so:</p>\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n '@disabled': true, // This will prevent the test module from running.\n\n 'sample test': function (client) {\n // test code\n }\n};\n</code></pre>\n\n<p>This can be useful if you don't want to run certain tests that are known to be failing.</p>\n\n <h3 id=\"parallel-running\">Parallel Running</h3>\n<p>Starting with <code>v0.5</code> Nightwatch supports the tests to be run in parallel. This works by specifying multiple environments in the command line, separated by comma. E.g.:</p>\n<pre><code class=\"language-bash\">$ nightwatch -e default,chrome</code></pre>\n\n<p>The above will run two environments named <code>default</code> and <code>chrome</code> in parallel.</p>\n<h4 id=\"terminal-output\">Terminal Output</h4>\n<p>Each environment will be run as a separate <a href=\"http://nodejs.org/api/child_process.html\"><code>child_process</code></a> and the output will be sent to the main process.</p>\n<p>To make the output easier to read, Nightwatch by default buffers the output from each child process and displays everything at the end, grouped by environment.</p>\n<p class=\"alert alert-warning\">\n If you'd like to disable the output buffering and see the output from each child process as it is sent to stdout, simply set the property <code>\"live_output\" : true</code> on the top level in your <code>nightwatch.json</code> (e.g. after <code>selenium</code>).\n</p>\n\n<p class=\"alert alert-info\">\n You can create a separate environment per browser (by chaining <code>desiredCapabilities</code>) and then run them in parallel. In addition, using the <code>filter</code> and <code>exclude</code> options tests can be split per environment in order to be ran in parallel.\n</p>\n\n<h4 id=\"via-workers\">Via Workers</h4>\n<p>Version <code>v0.7</code> introduces a new feature which allows the tests to be run in parallel. When this is enabled the test runner will launch a configurable number of child processes and then distribute the loaded tests over to be ran in parallel.</p>\n<p>To enable test workers, set the <code>test_workers</code> top-level property, like so:</p>\n<pre><code class=\"language-javascript\">\n\"test_workers\": {\n \"enabled\": true,\n \"workers\": \"auto\"\n} \n</code></pre>\n\n<p>or, simply:</p>\n<pre><code class=\"language-javascript\">\n\"test_workers\": true \n</code></pre>\n<br>\nThe <code>workers</code> option configures how many child processes can run concurrently.\n<ul>\n<li><code>\"auto\"</code> - determined by number of CPUs e.g. 4 CPUs means 4 workers</li>\n<li><code>{number}</code> - specifies an exact number of workers</li>\n</ul>\n<p>Test concurrency is done at the file level. Each test file will fill a test worker slot. Individual tests/steps in a test file will not run concurrently.</p>\n<p class=\"alert alert-warning\">\nCurrently test output is not aggregated and may be difficult to follow; this feature would be most useful in a CI environment where stdout matters less. Another limitation is this feature won't work as desired when using Nightwatch for running unit tests.<br></p>\n <h3 id=\"using-grunt\">Using Grunt</h3>\n<p><a href=\"http://gruntjs.com/\" target=\"_blank\">Grunt</a> is a popular JavaScript task runner. Starting with version <code>0.6</code> Nightwatch is bundled with \nan easy to use Grunt task which can be used in your existing Grunt-based build configuration for running the tests.</p>\n<h4 id=\"usage\">Usage</h4>\n<p>First, load the Nightwatch grunt task at the top in your <code>Gruntfile.js</code>. </p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = function(grunt) {\n var nightwatch = require('nightwatch');\n nightwatch.initGrunt(grunt);\n\n // ...\n\n};\n</code></pre>\n</div>\n\n<h4 id=\"task-configuration-and-targets\">Task Configuration and Targets</h4>\n<p>The Nightwatch task will have one more more targets which can be used in various ways, one way being to map them to environments. Available settings are:</p>\n<ul>\n<li><code>options</code> - the only available option so far is <code>cwd</code> - current working directory</li>\n<li><code>argv</code> - command-line arguments that would normally be passed to the Nightwatch runner (e.g.: <code>env</code>);</li>\n<li><code>settings</code> - the test settings specified to a single Nightwatch environment.</li>\n</ul>\n<h4 id=\"example\">Example</h4>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\ngrunt.initConfig({\n nightwatch: {\n options: {\n cwd: './'\n },\n\n 'default' : {},\n\n browserstack: {\n argv: {\n env: 'browserstack'\n },\n settings: {\n silent: true\n }\n },\n\n 'all' : {\n argv: {\n env: 'default,browserstack'\n }\n },\n }\n});\n</code></pre>\n</div>\n\n\n<p>Run the task as follows:</p>\n<pre><code class=\"language-bash\">$ grunt nightwatch:default</code></pre> \nor \n\n<pre><code class=\"language-bash\">$ grunt nightwatch:browserstack</code></pre>\n\n\n<p>There are also a few third-party Grunt plugins for Nightwatch which can be used instead, if you prefer. The most popular one is <a href=\"https://github.com/gextech/grunt-nightwatch\" target=\"_blank\">grunt-nightwatch</a>. </p>\n\n <h3 id=\"using-mocha\">Using Mocha</h3>\n<p>Starting with version <code>0.8</code> Nightwatch is bundled with a custom version of the popular Mocha test runner which allows running tests using Mocha, thus<br>taking advantage of its interfaces and reporters.</p>\n<h4 id=\"usage\">Usage</h4>\n<p>There are two main ways in which you can use Mocha with Nightwatch. </p>\n<h4 id=\"from-nightwatch\">From Nightwatch</h4>\n<p>Mocha is used as an alternative test runner to the built-in one. This is done by specifying the <code>\"test_runner\"</code> option in the <code>nightwatch.json</code> configuration file.</p>\n<p>Custom options can also be specified for Mocha:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\n{\n ...\n \"test_runner\" : {\n \"type\" : \"mocha\",\n \"options\" : {\n \"ui\" : \"tdd\",\n \"reporter\" : \"list\"\n }\n }\n ...\n}\n</code></pre>\n</div>\n\n<p>or simply:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\n{\n ...\n \"test_runner\" : \"mocha\"\n ...\n}\n</code></pre>\n</div>\n\n<p>A complete list of Mocha options that are supported can be found <a href=\"https://github.com/mochajs/mocha/wiki/Using-mocha-programmatically#set-options\">here</a>.</p>\n<p>The <code>test_runner</code> option can also be specified at test environment level:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\n{\n \"test_settings\" : {\n \"mocha_tests\" : {\n \"test_runner\" : {\n \"type\" : \"mocha\",\n \"options\" : {\n \"ui\" : \"tdd\",\n \"reporter\" : \"list\"\n }\n }\n }\n }\n ...\n}\n</code></pre>\n</div>\n\n<h4 id=\"example\">Example</h4>\n<p>Writing a test in Mocha is the same as writing it in Nightwatch. Each testcase receives the <code>client</code> object, <code>hooks</code> also receiving a <code>done</code> callback for async operations. </p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\ndescribe('Google demo test for Mocha', function() {\n\n describe('with Nightwatch', function() {\n\n before(function(client, done) {\n done();\n });\n\n after(function(client, done) {\n client.end(function() {\n done();\n });\n });\n\n afterEach(function(client, done) {\n done();\n });\n\n beforeEach(function(client, done) {\n done();\n });\n\n it('uses BDD to run the Google simple test', function(client) {\n client\n .url('<a href=\"http://google.com\">http://google.com</a>')\n .expect.element('body').to.be.present.before(1000);\n\n client.setValue('input[type=text]', ['nightwatch', client.Keys.ENTER])\n .pause(1000)\n .assert.containsText('#main', 'Night Watch');\n });\n });\n});\n</code></pre>\n</div>\n\n<p class=\"alert alert-warning\">When using the mocha test runner from Nightwatch some cli options are not available, like <code>--retries</code>, <code>--suiteRetries</code>, <code>--reporter</code>.</p>\n\n<h4 id=\"using-the-standard-mocha\">Using the standard Mocha</h4>\n<p>Running Nightwatch tests with the standard Mocha it's also possible, though a bit more boilerplate code is involved and you need to manage the selenium server.</p>\n<h4 id=\"example\">Example</h4>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nvar nightwatch = require('nightwatch');\n\ndescribe('Github', function() {\n var client = nightwatch.initClient({\n silent : true\n });\n\n var browser = client.api();\n\n this.timeout(99999999);\n\n before(function() {\n\n browser.perform(function() {\n console.log('beforeAll')\n });\n\n });\n\n beforeEach(function(done) {\n browser.perform(function() {\n console.log('beforeEach')\n });\n\n client.start(done);\n });\n\n\n it('Demo test GitHub', function (done) {\n browser\n .url('<a href=\"https://github.com/nightwatchjs/nightwatch\">https://github.com/nightwatchjs/nightwatch</a>')\n .waitForElementVisible('body', 5000)\n .assert.title('nightwatchjs/nightwatch &#xB7; GitHub')\n .waitForElementVisible('body', 1000)\n .assert.visible('.container .breadcrumb a span')\n .assert.containsText('.container .breadcrumb a span', 'nightwatch', 'Checking project title is set to nightwatch');\n\n client.start(done);\n });\n\n afterEach(function() {\n browser.perform(function() {\n console.log('afterEach')\n });\n });\n\n after(function(done) {\n browser.end(function() {\n console.log('afterAll')\n });\n\n client.start(done);\n });\n\n});\n\n</code></pre>\n</div>\n</div>\n\n<div class=\"docs-section\">\n <p class=\"page-header\">\n <h2 id=\"page-objects\">Working with Page Objects</h2>\n </p>\n\n <h3 id=\"using-page-objects\">Using Page Objects</h3>\n<p>The Page Objects methodology is a popular pattern to write end-to-end tests by wrapping the pages or page fragments of a web app into objects.\nThe purpose of a page object is to allow a software client to do anything and see anything that a human can by abstracting away the underlying html actions needed to access and manipulate the page.</p>\n<p>A comprehensive introduction to Page Objects can be found in <a href=\"http://martinfowler.com/bliki/PageObject.html\" target=\"_blank\">this article</a>.</p>\n<p class=\"alert alert-info\">\nAs of version <code>0.7</code> Nightwatch provides an enhanced and more powerful interface for creating page objects, significantly improved over the previous support. Page objects created prior to <code>v0.7</code> will still continue to work however we recommend upgrading to the new version.\n</p>\n\n\n<h4 id=\"configuring-page-objects\">Configuring Page Objects</h4>\n<p>To create a page object simply create an object with properties that describe the page. Each page object should be located in a separate file, located in a designated folder. Nightwatch reads the page objects from the folder (or folders) specified in the <code>page_objects_path</code> configuration property.</p>\n<p>The <code>page_objects_path</code> property can also be an array of folders, allowing you thus to logically split the page objects into smaller groups.</p>\n<h4 id=\"the-url-property\">The Url property</h4>\n<p>You can optionally add a <code>url</code> property that designates the page's URL. To navigate to the page, you can call the <code>navigate</code> method on the page object.</p>\n<p>The URL will usually be defined as a string:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n url: '<a href=\"http://google.com\">http://google.com</a>'\n};\n</code></pre>\n</div>\n\n<p>It can also be a function in case the URL is dynamic. One use case for this is to support different test environments. You can create a function that gets called in the context of the page, thus allowing you to do:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n url: function() { \n return this.api.launchUrl + '/login'; \n }\n};\n</code></pre>\n</div>\n\n\n <h3 id=\"defining-elements\">Defining Elements</h3>\n<p>Most of the time, you will want to define elements on your page that your tests will interact with through commands and assertions. This is made simple using the <code>elements</code> property so that all your elements are defined in a single place. Especially in larger integration tests, using <code>elements</code> will go a long way to keep test code DRY.</p>\n<p>Switching between css and xpath locate strategies is handled internally so you don't need to call <code>useXpath</code> and <code>useCss</code> in your tests. The default <code>locateStrategy</code> is css but you can also specify xpath:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n elements: {\n searchBar: { \n selector: 'input[type=text]' \n },\n submit: { \n selector: '//[@name=\"q\"]', \n locateStrategy: 'xpath' \n }\n }\n};\n</code></pre>\n</div>\n\n<p><br>\nOr if you're creating elements with the same locate strategy as is default, you can use the shorthand:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n elements: {\n searchBar: 'input[type=text]'\n }\n};\n</code></pre>\n</div>\n\n<p><br>\nUsing the <code>elements</code> property allows you to refer to the element by its name with an <em>\"@\" prefix</em>, rather than selector, when calling element commands and assertions (<code>click</code>, etc).</p>\n<p>Putting <code>elements</code> and <code>url</code> together, say you have the following defined above saved as a <code>google.js</code> file:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n url: '<a href=\"http://google.com\">http://google.com</a>',\n elements: {\n searchBar: { \n selector: 'input[type=text]' \n },\n submit: { \n selector: '//[@name=\"q\"]', \n locateStrategy: 'xpath' \n }\n }\n};\n</code></pre>\n</div>\n\n<p><br>\nIn your tests you will use it as follows:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n 'Test': function (client) {\n var google = client.page.google();\n\n google.navigate()\n .assert.title('Google')\n .assert.visible('@searchBar')\n .setValue('@searchBar', 'nightwatch')\n .click('@submit');\n\n client.end();\n }\n};\n</code></pre>\n</div>\n <h3 id=\"defining-sections\">Defining Sections</h3>\n<p>Sometimes it is useful to define sections of a page. Sections do 2 things:</p>\n<ul>\n<li>Provide a level of namespacing under the page</li>\n<li>Provide element-level nesting so that any element defined within a section is a descendant of its parent section in the DOM</li>\n</ul>\n<p>You can create sections using the <code>sections</code> property:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n sections: {\n menu: {\n selector: '#gb',\n elements: {\n mail: { \n selector: 'a[href<em>=\"mail\"]'\n },\n images: {\n selector: 'a[href</em>=\"imghp\"]'\n }\n }\n }\n }\n};\n</code></pre>\n</div>\n\n<p><br>\nYour tests would use it as follows:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n 'Test': function (client) {\n var google = client.page.google();\n google.expect.section('@menu').to.be.visible;\n\n var menuSection = google.section.menu;\n menuSection.expect.element('@mail').to.be.visible;\n menuSection.expect.element('@images').to.be.visible;\n\n menuSection.click('@mail');\n\n client.end();\n }\n};\n</code></pre>\n</div>\n\n\n<p class=\"alert alert-info\">\nNote that every command and assertion on a section (other than <code>expect</code> assertions) returns that section for chaining. If desired, you can nest sections under other sections for complex DOM structures.\n</p>\n\n <h3 id=\"writing-commands\">Writing Commands</h3>\n<p>You can add commands to your page object using the <code>commands</code> property. This is a useful way to encapsulate logic about the page that would otherwise live in a test, or multiple tests.</p>\n<p>Nightwatch will call the command on the context of the page or section. Client commands like <code>pause</code> are available via <code>this.api</code>. For chaining, each function should return the page object or section.</p>\n<p>In this case, a command is used to encapsulate logic for clicking the submit button:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nvar googleCommands = {\n submit: function() {\n this.api.pause(1000);\n return this.waitForElementVisible('@submitButton', 1000)\n .click('@submitButton')\n .waitForElementNotPresent('@submitButton');\n }\n};\n\nmodule.exports = {\n commands: [googleCommands],\n elements: {\n searchBar: {\n selector: 'input[type=text]'\n },\n submitButton: {\n selector: 'button[name=btnG]'\n }\n }\n};\n</code></pre>\n</div>\n\n<p><br>\nThen the test is simply:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n 'Test': function (client) {\n var google = client.page.google();\n google.setValue('@searchBar', 'nightwatch')\n .submit();\n\n client.end();\n }\n};\n</code></pre>\n</div>\n\n</div>\n\n<div class=\"docs-section\">\n <p class=\"page-header\">\n <h2 id=\"extending\">Extending Nightwatch</h2>\n </p>\n<h3 id=\"writing-custom-commands\">Writing Custom Commands</h3>\n<p>Most of the time you will need to extend the Nightwatch commands to suit your own application needs. Doing that is only a matter of creating a separate folder and defining your commands in that folder, each one inside its own file.</p>\n<p>Then specify the path to that folder inside the <code>nightwatch.json</code> file, as the <code>custom_commands_path</code> property. The command name is the name of the file itself, and it needs to follow the following pattern:</p>\n<div class=\"sample-test\">\n<pre class=\"language-javascript\"><code class=\"language-javascript\">\nexports.command = function(file, callback) {\n var self = this, imageData, fs = require('fs');\n\n try {\n var originalData = fs.readFileSync(file);\n var base64Image = new Buffer(originalData, 'binary')\n .toString('base64');\n imageData = 'data:image/jpeg;base64,' + base64Image;\n } catch (err) {\n console.log(err);\n throw \"Unable to open file: \" + file;\n }\n\n this.execute(\n function(data) { // execute application specific code\n App.resizePicture(data);\n return true;\n },\n\n [imageData], // arguments array to be passed\n\n function(result) {\n if (typeof callback === \"function\") {\n callback.call(self, result);\n }\n }\n );\n\n return this; // allows the command to be chained.\n};\n</code>\n</pre>\n</div>\n\n<p>The example below defines a command (e.g. resizePicture.js) which loads an image file as <code>data-URI</code> and calls a method named <code>resizePicture</code> defined inside the application.</p>\n<p>With this command, the test will look something like:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n \"testing resize picture\" : function (browser) {\n browser\n .url(\"<a href=\"http://app.host\">http://app.host</a>\")\n .waitForElementVisible(\"body\")\n .resizePicture(\"/var/www/pics/moon.jpg\")\n .assert.element(\".container .picture-large\")\n .end();\n }\n};</code></pre>\n</div>\n<h3 id=\"writing-custom-assertions\">Writing Custom Assertions</h3>\n<p>Nightwatch allows you to even define your own assertions, extending the available <code>.assert</code> and <code>.verify</code> namespaces.</p>\n<p>Beginning with v0.4 assertions have a very simple interface which is shared between built-in assertions and custom ones. Therefore, custom assertions must implement the following interface:</p>\n<div class=\"sample-test\">\n\n<pre><code class=\"language-javascript\">\nexports.assertion = function() {\n\n /bin /run /sbin _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy The message which will be used in the test output and\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy inside the XML reports\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy @type {string}\n */\n this.message;\n\n /bin /run /sbin _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy A value to perform the assertion on. If a function is\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy defined, its result will be used.\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy @type {function|*}\n */\n this.expected;\n\n /bin /run /sbin _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy The method which performs the actual assertion. It is\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy called with the result of the value method as the argument.\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy @type {function}\n */\n this.pass = function(value) {\n\n };\n\n /bin /run /sbin _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy The method which returns the value to be used on the\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy assertion. It is called with the result of the command's\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy callback as argument.\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy @type {function}\n */\n this.value = function(result) {\n\n };\n\n /bin /run /sbin _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy Performs a protocol command/action and its result is\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy passed to the value method via the callback argument.\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy @type {function}\n */\n this.command = function(callback) {\n\n return this;\n };\n\n};</code></pre>\n\n</div>\n\n<p class=\"alert alert-success\">Both custom assertions and custom commands inherit from <a href=\"http://nodejs.org/api/events.html\" target=\"_blank\">EventEmitter</a> if defined in the form above.<br>\nIf, however, your command/assertion is defined in the constructor style, then you must inherit manually, similarly to the <a href=\"https://github.com/beatfactor/nightwatch/blob/master/lib/api/client-commands/pause.js\" target=\"_blank\">pause command</a>.</p>\n\n<p class=\"alert alert-info\">To see some examples, check the assertions module source-code on Github:<br><a href=\"https://github.com/beatfactor/nightwatch/tree/master/lib/api/assertions\" target=\"_blank\">/nightwatch/tree/master/lib/selenium/assertions</a></p>\n\n<h3 id=\"custom-reporter\">Custom Reporter</h3>\n<p>If you'd like to define your own reporter in addition to the built-in ones (stdout and junit-xml) you can do so in two ways:</p>\n<h4 id=\"the-reporter-command-line-argument\">The <code>--reporter</code> command-line argument</h4>\n<h5 id=\"interface-\">Interface:</h5>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n write : function(results, options, done) {\n done();\n }\n};</code></pre>\n</div>\n\n<h4 id=\"the-reporter-method-in-your-external-globals-file-\">The <code>reporter</code> method in your external <code>globals</code> file.</h4>\n<p>See the provided <a href=\"https://github.com/beatfactor/nightwatch/blob/master/examples/globalsModule.js\">globalsModule.js</a> for an example.</p>\n<h4 id=\"example-\">Example:</h4>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n reporter : function(results, done) {\n console.log(results);\n done();\n }\n};</code></pre>\n</div>\n\n</div>\n\n<div class=\"docs-section\">\n <p class=\"page-header\">\n <h2 id=\"unit-testing\">Unit Testing with Nightwatch</h2>\n </p>\n\n <h3 id=\"writing-unit-tests\">Writing Unit Tests</h3>\n<p>Since version <code>0.6</code> it's possible to also write unit or integration tests in Nightwatch for Node.js applications and APIs. \nThis concept is still very new to Nightwatch so bear in mind this feature is not yet as stable or as feature-rich as a mature unit testing framework.</p>\n<h4 id=\"disabling-automatic-selenium-session\">Disabling automatic selenium session</h4>\n<p>Nightwatch automatically attempts to connect to the specified selenium server and create a session. \nWhen running unit tests this needs to be disabled by setting the <code>start_session</code> property to <code>false</code> inside the <code>selenium</code> settings group either on the root level or inside a specific environment.</p>\n<h4 id=\"assertion-framework\">Assertion framework</h4>\n<p>The <code>client</code> object bundles the <a href=\"https://nodejs.org/api/assert.html\" target=\"_blank\">Node.js Assert</a> module, same way as for end-to-end testing.\nCustom commands and assertions are also loaded and made available, together with globals.</p>\n<h4 id=\"example\">Example</h4>\n<p>Below there's a unit test for the <code>utils.js</code> Nightwatch module:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nvar Utils = require('lib/util/utils.js');\nmodule.exports = {\n testFormatElapsedTime : function(client) {\n var test = client.assert;\n\n var resultMs = Utils.formatElapsedTime(999);\n var resultSec = Utils.formatElapsedTime(1999);\n var resultMin = Utils.formatElapsedTime(122299, true);\n\n test.equal(resultMs, '999ms');\n test.equal(resultSec, '1.999s');\n test.equal(resultMin, '2m 2s / 122299ms');\n },\n\n testMakeFnAsync : function(client) {\n function asynFn(done) {\n done();\n }\n\n function syncFn() {}\n\n var test = client.assert;\n\n test.equal(Utils.makeFnAsync(1, asynFn), asynFn);\n\n var convertedFn = Utils.makeFnAsync(1, syncFn);\n convertedFn(function() {\n test.ok('converted fn called');\n });\n }\n};\n</code></pre>\n</div>\n\n <h3 id=\"asynchronous-unit-tests\">Asynchronous Unit Tests</h3>\n<p>The second argument to a test function, if provided, is the <code>done</code> callback which signals the test is complete.\nIf present, the callback must be called when the async operation finishes.</p>\n<h4 id=\"example\">Example</h4>\n<p>Below there's a unit test for the <code>utils.js</code> Nightwatch module:</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nmodule.exports = {\n 'demo UnitTest' : function (client, done) {\n client.assert.ok('TEST');\n\n setTimeout(function() {\n done();\n }, 500);\n }\n};\n</code></pre>\n</div>\n <h3 id=\"using-third-party-assertion-frameworks\">Using Third-party Assertion Frameworks</h3>\n<p>It's also possible to use a third-party assertion framework for writing tests. The example below uses <a href=\"http://chaijs.com/\" target=\"_blank\">Chai</a>.</p>\n<div class=\"sample-test\">\n<pre><code class=\"language-javascript\">\nvar Utils = require('lib/util/utils.js');\nvar expect = require('chai').expect;\n\nmodule.exports = {\n testFormatElapsedTime : function(client) {\n var resultMs = Utils.formatElapsedTime(999);\n var resultSec = Utils.formatElapsedTime(1999);\n var resultMin = Utils.formatElapsedTime(122299, true);\n\n expect(resultMs).to.equal('999ms');\n expect(resultSec).to.equal('1.999s');\n expect(resultMin).to.equal('2m 2s / 122299ms');\n }\n};\n</code></pre>\n</div>\n <h3 id=\"using-a-combined-configuration\">Using a Combined Configuration</h3>\n<p>Below it's an example of how you can combine end-to-end tests and unit tests in the same <code>nightwatch.json</code> configuration file.\nNotice the usage of <code>exclude</code> and <code>filter</code> properties.</p>\n<p>An empty <code>exclude</code> means we want to reset its value and rely only on <code>filter</code>.</p>\n<pre><code class=\"language-javascript\">{\n <strong>\"src_folders\"</strong> : [\"./examples/tests\", \"./examples/unittests\"],\n <strong>\"output_folder\"</strong> : \"./examples/reports\",\n\n <strong>\"selenium\"</strong> : {\n \"start_process\" : true,\n \"server_path\" : \"./bin/selenium-server-standalone.jar\",\n \"log_path\" : \"\",\n \"host\" : \"127.0.0.1\",\n \"port\" : 4444,\n \"cli_args\" : {\n \"webdriver.chrome.driver\" : \"\",\n \"webdriver.ie.driver\" : \"\"\n }\n },\n\n <strong>\"test_settings\"</strong> : {\n \"default\" : {\n \"launch_url\" : \"http://localhost\",\n \"selenium_port\" : 4444,\n \"selenium_host\" : \"localhost\",\n \"silent\": true,\n \"screenshots\" : {\n \"enabled\" : false,\n \"path\" : \"\"\n },\n \"desiredCapabilities\": {\n \"browserName\": \"firefox\",\n \"javascriptEnabled\": true,\n \"acceptSslCerts\": true\n },\n \"exclude\" : \"./examples/unittests/*\"\n },\n\n \"unittests\" : {\n \"selenium\" : {\n \"start_process\" : false,\n \"start_session\" : false\n },\n \"filter\" : \"./examples/unittests/*\",\n \"exclude\" : \"\"\n }\n }\n}</code></pre>\n</div>\n </div>"
    }, {
        "title": "Kairos by rodrigogs",
        "url": "http://rodrigogs.github.io/kairos/",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:12:05 EDT 2016",
        "html_file": "kairos_by_rodrigogs.html",
        "png_file": "kairos_by_rodrigogs.png",
        "md_file": "kairos_by_rodrigogs.md",
        "content": "<div><section id=\"main_content\">\n \n\n<p><a href=\"https://travis-ci.org/rodrigogs/kairos\"><img src=\"https://travis-ci.org/rodrigogs/kairos.svg?branch=master\" alt=\"Build Status\"></a>\n<a href=\"https://codeclimate.com/github/rodrigogs/kairos\"><img src=\"https://codeclimate.com/github/rodrigogs/kairos/badges/gpa.svg\" alt=\"Code Climate\"></a>\n<a href=\"https://codeclimate.com/github/rodrigogs/kairos/coverage\"><img src=\"https://codeclimate.com/github/rodrigogs/kairos/badges/coverage.svg\" alt=\"Test Coverage\"></a>\n<a href=\"https://david-dm.org/rodrigogs/kairos#info=devDependencies\"><img src=\"https://david-dm.org/rodrigogs/kairos/dev-status.svg\" alt=\"devDependency Status\"></a>\n<a href=\"https://www.npmjs.com/package/kairos\"><img src=\"https://img.shields.io/npm/dt/kairos.svg\" alt=\"npm\"></a>\n<a href=\"https://badge.fury.io/js/kairos\"><img src=\"https://badge.fury.io/js/kairos.svg\" alt=\"npm version\"></a>\n<a href=\"https://badge.fury.io/bo/kairos\"><img src=\"https://badge.fury.io/bo/kairos.svg\" alt=\"Bower version\"></a></p>\n\n<p><em>Kair&#xF3;s(&#x3BA;&#x3B1;&#x3B9;&#x3C1;&#x3CC;&#x3C2;) is a greek word that means \"the right moment\". Also, in the greek mithology Kair&#xF3;s is the son of the personification of time itself, Chronos.</em></p>\n\n<p>Now talking about the library, Kairos is being developed to be a non date-based time calculator. The aim is to use time expressions along with math expressions to have human time products, and also to have various representations of a time expression using the engine Gnomon(<em>references the first solar clock ever made</em>).</p>\n\n<h2>\n<a id=\"install\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#install\"></a>Install</h2>\n\n<h4>\n<a id=\"nodejs\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#nodejs\"></a>Node.js</h4>\n\n<blockquote>\n<p>npm install kairos</p>\n</blockquote>\n\n<h4>\n<a id=\"bower\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#bower\"></a>Bower</h4>\n\n<blockquote>\n<p>bower install kairos</p>\n</blockquote>\n\n<h2>\n<a id=\"usage\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#usage\"></a>Usage</h2>\n\n<h4>\n<a id=\"using-kairos\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#using-kairos\"></a>Using Kairos</h4>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> time <span class=\"pl-k\">=</span> Kairos.plus(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>10:10<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>05:20<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time); <span class=\"pl-c\">// 15:30</span>\n\ntime <span class=\"pl-k\">=</span> Kairos.minus(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>10:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>05:00<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time); <span class=\"pl-c\">// 05:00</span>\n\ntime <span class=\"pl-k\">=</span> Kairos.multiply(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">20</span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time); <span class=\"pl-c\">// 20:00</span>\n\ntime <span class=\"pl-k\">=</span> Kairos.divide(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">2</span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time); <span class=\"pl-c\">// 01:30</span>\n\n<span class=\"pl-k\">var</span> milliseconds <span class=\"pl-k\">=</span> Kairos.toMilliseconds(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>00:01<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(milliseconds); <span class=\"pl-c\">// 60000</span>\n\n<span class=\"pl-k\">var</span> seconds <span class=\"pl-k\">=</span> Kairos.toSeconds(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>00:01<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(seconds); <span class=\"pl-c\">// 60</span>\n\n<span class=\"pl-k\">var</span> minutes <span class=\"pl-k\">=</span> Kairos.toMinutes(time);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(minutes); <span class=\"pl-c\">// 90</span>\n\n<span class=\"pl-k\">var</span> hours <span class=\"pl-k\">=</span> Kairos.toHours(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>10:30<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(hours); <span class=\"pl-c\">// 10.5</span>\n\n<span class=\"pl-k\">var</span> fraction <span class=\"pl-k\">=</span> Kairos.getFraction(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(fraction); <span class=\"pl-c\">// 00:40</span>\n\n<span class=\"pl-k\">var</span> interval <span class=\"pl-k\">=</span> Kairos.getInterval(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(interval); <span class=\"pl-c\">// 02:00</span>\n\n<span class=\"pl-k\">var</span> compare <span class=\"pl-k\">=</span> Kairos.compareTo(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// -1</span>\ncompare <span class=\"pl-k\">=</span> Kairos.compareTo(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// 0</span>\ncompare <span class=\"pl-k\">=</span> Kairos.compareTo(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// 1</span>\n\n<span class=\"pl-k\">var</span> min <span class=\"pl-k\">=</span> Kairos.<span class=\"pl-c1\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>05:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>00:30<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(min); <span class=\"pl-c\">// 00:30</span>\n\n<span class=\"pl-k\">var</span> max <span class=\"pl-k\">=</span> Kairos.<span class=\"pl-c1\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>05:00<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>00:30<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(max); <span class=\"pl-c\">// 05:00</span></pre></div>\n\n<h4>\n<a id=\"using-gnomon\" class=\"anchor\" href=\"http://rodrigogs.github.io/kairos/#using-gnomon\"></a>Using Gnomon</h4>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> time <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Kairos.Gnomon</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:10:20<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.<span class=\"pl-c1\">getMilliseconds</span>()); <span class=\"pl-c\">// 0</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.<span class=\"pl-c1\">getSeconds</span>()); <span class=\"pl-c\">// 20</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.<span class=\"pl-c1\">getMinutes</span>()); <span class=\"pl-c\">// 10</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.<span class=\"pl-c1\">getHours</span>()); <span class=\"pl-c\">// 1</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.toMilliseconds()); <span class=\"pl-c\">// 4220000</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.toSeconds()); <span class=\"pl-c\">// 4220</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.toMinutes()); <span class=\"pl-c\">// 70.333333333333</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.toHours()); <span class=\"pl-c\">// 1.172222222222</span>\n\ntime <span class=\"pl-k\">=</span> time.plus(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Kairos.Gnomon</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(time.<span class=\"pl-c1\">getHours</span>()); <span class=\"pl-c\">// 2</span>\n\n<span class=\"pl-k\">var</span> compare <span class=\"pl-k\">=</span> time.comparteTo(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Kairos.Gnomon</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>03:00<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// -1</span>\ncompare <span class=\"pl-k\">=</span> time.comparteTo(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Kairos.Gnomon</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>02:10:20<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// 0</span>\ncompare <span class=\"pl-k\">=</span> time.comparteTo(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Kairos.Gnomon</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>01:00<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(compare); <span class=\"pl-c\">// 1</span></pre></div>\n\n<p><strong>Help and ideas are FREAKING welcome. Feel free to open issues, fork and contribute! ;)</strong></p>\n </section>\n </div>"
    }, {
        "title": "Skeletons",
        "url": "http://brunch.io/skeletons.html",
        "excerpt": "A Brunch skeleton is basically an application boilerplate that provides a good starting point for new applications. Creating new application with any skeleton is pretty simple: brunch new&hellip;",
        "date_saved": "Thu Jul 28 20:12:06 EDT 2016",
        "html_file": "skeletons.html",
        "png_file": "skeletons.png",
        "md_file": "skeletons.md",
        "content": "<div><div class=\"page__content container\">\n<p>A Brunch skeleton is basically an application boilerplate that provides a good starting point for new applications.</p>\n<p>Creating new application with any skeleton is pretty simple:</p>\n<pre><code>brunch new &lt;skeleton-URL&gt; [optional-output-dir]\n# Example from GitHub\nbrunch new gh:brunch/dead-simple\n# Example from a full URL\nbrunch new https://github.com/paulmillr/brunch-with-chaplin</code></pre>\n<p>Brunch doesn&#x2019;t encourage you to use any particular technology,\nbut application skeletons can start you on your way with a specific pattern.</p>\n<p>The <a href=\"https://github.com/brunch/brunch/wiki/Skeletons\">complete skeletons list</a> is on GitHub. If you create your own open-source skeleton,\nfeel free to add it!</p>\n<table><thead><tr><th>Name</th><th>URL</th><th>Technologies</th><th>Description</th></tr></thead><tr><td>&#x2605; <a href=\"https://github.com/paulmillr/brunch-with-chaplin\">Brunch with Chaplin</a> 216 &#x2605;</td><td><code>gh:paulmillr/brunch-with-chaplin</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>Chaplin, Backbone, HTML5 Boilerplate, jQuery. Perfect for big applications</td></tr><tr><td>&#x2605; <a href=\"https://github.com/scotch/angular-brunch-seed\">Brunch with AngularJS</a> 159 &#x2605;</td><td><code>gh:scotch/angular-brunch-seed</code></td><td>Coffeescript, Less, Jade</td><td>Twitter Bootstrap with themes, <a href=\"https://github.com/vojtajina/testacular\">Testacular</a> for unit tests</td></tr><tr><td><a href=\"https://github.com/icholy/ember-brunch\">Brunch with Ember</a> 88 &#x2605;</td><td><code>gh:icholy/ember-brunch</code></td><td>JavaScript, CSS, Handlebars</td><td>Twitter Bootstrap, jQuery</td></tr><tr><td><a href=\"https://github.com/elving/brunch-with-hipsters\">Brunch with Hipsters</a> 85 &#x2605;</td><td><code>gh:elving/brunch-with-hipsters</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>Swag, Lodash, Font Awesome, Normalize.css, HTML5 Boilerplate CSS Helpers, Brunch Auto-Reload, coffeelint-brunch and imageoptmizer-brunch. Works with Bower, includes generators and testing with Karma-Runner.</td></tr><tr><td><a href=\"https://github.com/nezoomie/brunch-eggs-and-bacon\">Brunch with eggs and bacon</a> 43 &#x2605;</td><td><code>gh:nezoomie/brunch-eggs-and-bacon</code></td><td>JavaScript, Sass, LESS, Handlebars</td><td>Twitter Bootstrap, Mediator</td></tr><tr><td><a href=\"https://github.com/gcollazo/brunch-with-ember-reloaded\">Brunch with Ember Reloaded</a> 38 &#x2605;</td><td><code>gh:gcollazo/brunch-with-ember-reloaded</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>HTML5 Boilerplate, jQuery and Auto Reload</td></tr><tr><td><a href=\"https://github.com/brunch/simple-coffee-skeleton\">Brunch with Coffee</a> 27 &#x2605;</td><td><code>gh:brunch/simple-coffee-skeleton</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>HTML5 Boilerplate, jQuery. It was the default skeleton in brunch 1.1. Unsupported but still working.</td></tr><tr><td><a href=\"https://github.com/Anaphase/brunch-banana-pancakes\">Brunch with Banana Pancakes</a> 24 &#x2605;</td><td><code>gh:Anaphase/brunch-banana-pancakes</code></td><td>JavaScript, Sass, LESS, Handlebars</td><td>Twitter Bootstrap, Mediator. Essentially the same as <a href=\"https://github.com/nezoomie/brunch-eggs-and-bacon\">Brunch with Eggs and Bacon</a>, but constantly updated to the latest library versions.</td></tr><tr><td><a href=\"https://github.com/brunch/simple-js-skeleton\">Brunch with JS</a> 22 &#x2605;</td><td><code>gh:brunch/simple-js-skeleton</code></td><td>JavaScript, Stylus, Handlebars</td><td>HTML5 Boilerplate, jQuery. Unsupported but still working.</td></tr><tr><td><a href=\"https://github.com/exlee/brunch-on-asteroids\">Brunch On Asteroids</a> 21 &#x2605;</td><td><code>gh:exlee/brunch-on-asteroids</code></td><td>Jade, Sass, CoffeeScript/LiveScript</td><td>Brunch with Twitter Bootstrap 2.3 extended by Bootswatch themes, Angular.JS, optional LiveScript or CoffeeScript and some extra libraries preconfigured and included such as D3.js, AngularUI, jQuery UI. </td></tr><tr><td><a href=\"https://github.com/jerfowler/ExpressBrunchJade\">Express Brunch with Jade</a> 20 &#x2605;</td><td><code>gh:jerfowler/ExpressBrunchJade</code></td><td>CoffeeScript, Stylus, Jade</td><td>Custom server.coffee that watches your Express server files and restarts on hot code changes. Uses Jade for client and server side templates. Includes express framework generators and Mocha/Chai/Sinon for testacular testing. Everything hipsters has, and more...</td></tr><tr><td><a href=\"https://github.com/SimbCo/brunch-with-marionette\">Brunch with MarionetteJS</a> 16 &#x2605;</td><td><code>gh:SimbCo/brunch-with-marionette</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>Based on the template we have been using for our MarionetteJS projects. Includes Twitter Bootstrap.</td></tr><tr><td><a href=\"https://github.com/scoarescoare/angular-brunch-true-north\">Brunch Facing True North</a> 14 &#x2605;</td><td><code>gh:scoarescoare/angular-brunch-true-north</code></td><td>Coffeescript, Compass, Sass, Jade, Initializr</td><td>Built on the amazing <a href=\"https://github.com/scotch/angular-brunch-seed\">Brunch with Angular skeleton</a> with a few tweaks including: Compass, Bootstrap SASS, HTML5BP</td></tr><tr><td><a href=\"https://github.com/damassi/Javascript-App-Skeleton\">JavaScript App Skeleton</a> 13 &#x2605;</td><td><code>gh:damassi/Javascript-App-Skeleton</code></td><td>JavaScript, SASS, Handlebars</td><td>LiveReload, Backbone.Mediator, Mocha, Advanced Structure</td></tr><tr><td><a href=\"https://github.com/monokrome/brunch-with-brunch\">Brunch with brunch</a> 13 &#x2605;</td><td><code>gh:monokrome/brunch-with-brunch</code></td><td>&#x2014;</td><td>As minimal as possible for building your own toolchain on top of.</td></tr><tr><td>&#x2605; <a href=\"https://github.com/wordofchristian/brunch-with-hampsters\">Brunch with Hampsters</a> 12 &#x2605;</td><td><code>gh:wordofchristian/brunch-with-hampsters</code></td><td>CoffeeScript, Stylus, <a href=\"http://emblemjs.com/\">Emblem.js</a></td><td>Also useful for rapid prototyping. Includes html5 boilerplate, Modernizer, and Twitter Bootstrap.</td></tr><tr><td><a href=\"https://github.com/mutewinter/tapas-with-ember\">Tapas with Ember</a> 12 &#x2605;</td><td><code>gh:mutewinter/tapas-with-ember</code></td><td>CoffeeScript, Stylus, Handlebars, Ember Data, Ember Model</td><td>A skeleton for rapid Ember development. Including automated Ember installation scripts, environment-specific JS builds, generators, and Ember.vim support. </td></tr><tr><td><a href=\"https://github.com/jokull/brunch-template\">@jokull's skeleton</a> 11 &#x2605;</td><td><code>gh:jokull/brunch-template</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>Zepto, Stylus responsive grid, Modernizr, Facebook login, slideshow</td></tr><tr><td><a href=\"https://github.com/clkao/angular-brunch-seed-livescript\">Brunch with AngularJS in LiveScript</a> 11 &#x2605;</td><td><code>gh:clkao/angular-brunch-seed-livescript</code></td><td>LiveScript, Sass, Jade</td><td>Twitter Bootstrap in Sass, LiveScript</td></tr><tr><td><a href=\"https://github.com/pheuter/brunch-socket-soup\">Brunch with SocketSoup</a> 10 &#x2605;</td><td><code>gh:pheuter/brunch-socket-soup</code></td><td>Coffeescript, Stylus, Handlebars </td><td>HTML5 Boilerplate, Twitter Bootstrap, Express, Socket.io</td></tr><tr><td><a href=\"https://github.com/damiencaselli/spine-on-brunch\">Spine on Brunch</a> 10 &#x2605;</td><td><code>gh:damiencaselli/spine-on-brunch</code></td><td>CoffeeScript, CSS, Handlebars</td><td>HTML5 Boilerplate, jQuery</td></tr><tr><td><a href=\"https://github.com/jupl/chapless-brunch\">Chapless Brunch</a> 9 &#x2605;</td><td><code>gh:jupl/chapless-brunch</code></td><td>CoffeeScript, LESS, eco</td><td>jQuery, Clearless, Twitter Bootstrap, Font Awesome, Backbone.stickit, Underscore.string. Cake tasks included. There's also a <a href=\"https://github.com/jupl/chapless-brunch/tree/cordova\">variant with Cordova.</a></td></tr><tr><td><a href=\"https://github.com/eriwen/brunch-jade-bootstrap-and-coffee\">Brunch with Bootstrap, Sass, and Coffee</a> 9 &#x2605;</td><td><code>gh:eriwen/brunch-jade-bootstrap-and-coffee</code></td><td>CoffeeScript, Sass, Jade</td><td>Twitter Bootstrap, Bootstrap-Sass, Mediator, jQuery</td></tr><tr><td><a href=\"https://github.com/gkz/brunch-bare-livescript\">Brunch with bare livescript</a> 9 &#x2605;</td><td><code>gh:gkz/brunch-bare-livescript</code></td><td>LiveScript, Less</td><td>Extremely simple skeleton without any frameworks</td></tr><tr><td><a href=\"https://github.com/bc-luke/sassy-brunch\">Sassy Brunch</a> 8 &#x2605;</td><td><code>gh:bc-luke/sassy-brunch</code></td><td>CoffeeScript, <a href=\"https://sass-lang.org\">Sass</a>, Handlebars</td><td>Just like Brunch with Chaplin, but replaces Stylus with Sass</td></tr><tr><td><a href=\"https://github.com/damassi/Coffeescript-App-Skeleton\">CoffeeScript App Skeleton</a> 7 &#x2605;</td><td><code>gh:damassi/Coffeescript-App-Skeleton</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>HTML5 Boilerplate, jQuery, Mediator, advanced structure</td></tr><tr><td><a href=\"https://github.com/eliellis/brunch-bacon-pancakes/\">Brunch with Bacon Pancakes</a> 6 &#x2605;</td><td><code>gh:eliellis/brunch-bacon-pancakes</code></td><td>JavaScript, Sass, LESS, Handlebars</td><td>Created with <a href=\"https://github.com/Anaphase/brunch-banana-pancakes\">Brunch with Banana Pancakes</a> as a base, Brunch with Bacon Pancakes includes Twitter Bootstrap with FontAwesome as style boilerplate.</td></tr><tr><td><a href=\"https://github.com/edgycircle/cinder-plate\">Cinder Plate</a> 6 &#x2605;</td><td><code>gh:edgycircle/cinder-plate</code></td><td>CoffeeScript, SASS, Handlebars</td><td>CoffeeScript, SASS, Handlebars template pre-compilation, production and development builds with appropriate Ember.js version (debug or production).</td></tr><tr><td><a href=\"https://github.com/Nami-Doc/brunch-with-ketchup\">Brunch With Ketchup</a> 6 &#x2605;</td><td><code>gh:Nami-Doc/brunch-with-ketchup</code></td><td>LiveScript, Stylus, Jade</td><td>Meant for large applications. Includes express-resource.</td></tr><tr><td><a href=\"https://github.com/vip32/brunch-with-chaplin-and-bootstrap\">Brunch with Chaplin and Bootstrap</a> 5 &#x2605;</td><td><code>gh:vip32/brunch-with-chaplin-and-bootstrap</code></td><td>CoffeeScript, Stylus, Handlebars</td><td>HTML5 Boilerplate, Bootstrap, jQuery</td></tr><tr><td><a href=\"https://github.com/tricinel/brunch-ember-sassy\">Sassy Brunch with Ember and CoffeeSoup</a> 5 &#x2605;</td><td><code>gh:tricinel/brunch-ember-sassy</code></td><td>CoffeeScript, Sass, Handlebars</td><td>HTML5 Boilerplate, Twitter Bootstrap (Compass), jQuery</td></tr><tr><td><a href=\"https://github.com/meleyal/brunch-crumbs\">Brunch Crumbs</a> 4 &#x2605;</td><td><code>gh:meleyal/brunch-crumbs</code></td><td>CoffeeScript, jQuery, Sass, Eco</td><td>Minimal structure based on H5BP, testing via Karma/Jasmine, Docs via Docco, deployment via Heroku.</td></tr><tr><td><a href=\"https://github.com/tUrG0n/brunch-chrunb\">Brunch chrunb</a> 4 &#x2605;</td><td><code>gh:tUrG0n/brunch-chrunb</code></td><td>CoffeeScript, Stylus, Jade</td><td>Twitter Bootstrap, jQuery</td></tr><tr><td><a href=\"https://github.com/EnosFeedler/brunch-dutch-baby\">Brunch Dutch Baby</a> 4 &#x2605;</td><td><code>gh:EnosFeedler/brunch-dutch-baby</code></td><td>Coffeescript, Stylus, Jade</td><td>Backbone.js, Bootstrap 3, Karma Test Runner</td></tr><tr><td><a href=\"https://github.com/ocombe/angular-brunch-seed-no-fuss\">Angular &amp; Brunch - No fuss</a> 4 &#x2605;</td><td><code>gh:ocombe/angular-brunch-seed-no-fuss</code></td><td>Compass, Sass, Initializr</td><td>Built on <a href=\"https://github.com/scoarescoare/angular-brunch-true-north\">Brunch Facing True North</a> with updated libs and without Jade / Coffeescript</td></tr><tr><td><a href=\"https://github.com/connorblack/brunch-with-moby\">Brunch with Moby</a> 4 &#x2605;</td><td><code>gh:connorblack/brunch-with-moby</code></td><td><a href=\"http://phonegap.com/\">PhoneGap (Cordova)</a>, <a href=\"http://lungo.tapquo.com/\">Lungo.js</a></td><td>Simple skeleton optimized for PhoneGap and integrated with Lungo.js for sexy prototyping. Easily create native-like mobile apps!</td></tr><tr><td><a href=\"https://github.com/brunch/dead-simple\">Dead-simple brunch</a> 4 &#x2605;</td><td><code>gh:brunch/dead-simple</code></td><td>&#x2014;</td><td>Dead-simple brunch skeleton. No opinions, just empty dirs and minimal configs.</td></tr><tr><td><a href=\"https://github.com/DallanQ/brunch-with-chaplin-and-initializr\">Brunch with Chaplin and Initializr</a> 3 &#x2605;</td><td><code>gh:DallanQ/brunch-with-chaplin-and-initializr</code></td><td>CoffeeScript, Stylus, LESS, Handlebars</td><td>HTML5 Boilerplate, Bootstrap, jQuery, Modernizr &#x2014; includes individual bootstrap style files and javascript plugins so you can omit or modify them</td></tr><tr><td><a href=\"https://github.com/cbosco/coffee-purist-brunch\">Coffee purist brunch</a> 3 &#x2605;</td><td><code>gh:cbosco/coffee-purist-brunch</code></td><td>CoffeeScript, LESS, eco templates</td><td>jQuery, Mocha. Tests run with no need to build into public/ directory or duplicate test/vendor libraries. For those who want to bundle libs specifically made for CoffeeScript.</td></tr><tr><td><a href=\"https://github.com/Anaphase/cinnamon-toast-brunch\">Cinnamon Toast Brunch</a> 3 &#x2605;</td><td><code>gh:Anaphase/cinnamon-toast-brunch</code></td><td>CoffeeScript, Stylus, &amp; SIML</td><td>Never write a semicolon again! Cinnamon Toast Brunch focuses on concise and clean code.</td></tr><tr><td><a href=\"https://github.com/aheuermann/Ultimate-Omelette-Brunch\">Ultimate Omelette Brunch</a> 3 &#x2605;</td><td><code>gh:aheuermann/Ultimate-Omelette-Brunch</code></td><td>CoffeeScript, Less, Jade</td><td>CoffeeScript, Less, Jade, Bootstrap (<a href=\"http://bootswatch.com/flatly/\">Flatly Theme</a>), <a href=\"http://angular-ui.github.io/bootstrap/\">Angular UI-Bootstrap</a></td></tr><tr><td><a href=\"https://github.com/Nami-Doc/sticky-brunch\">Sticky Brunch</a> 2 &#x2605;</td><td><code>gh:Nami-Doc/sticky-brunch</code></td><td>LiveScript, Stylus, Jade</td><td>Includes <a href=\"http://nytimes.github.com/backbone.stickit/\">Stickit</a> for MVVM-like behavior. No CSS framework included.</td></tr><tr><td><a href=\"https://github.com/felipesabino/brunch-with-sass-and-jade\">Brunch With Sass and Jade</a> 2 &#x2605;</td><td><code>gh:felipesabino/brunch-with-sass-and-jade</code></td><td>CoffeeScript, <a href=\"https://sass-lang.org\">Sass</a>, <a href=\"http://jade-lang.com\">Jade</a></td><td>Brunch with Chaplin, Sass, Jade, jQuery and Underscore</td></tr><tr><td><a href=\"https://github.com/sandy98/brunch-with-puppets\">Brunch with Puppets</a> 2 &#x2605;</td><td><code>gh:sandy98/brunch-with-puppets</code></td><td>CoffeeScript, Stylus</td><td>MarionetteJS - Twitter Bootstrap based skeleton with expanded, login prepared menu and some other goodies</td></tr><tr><td><a href=\"https://github.com/KyleAMathews/simple-brunch\">Simple Brunch</a> 2 &#x2605;</td><td><code>gh:KyleAMathews/simple-brunch</code></td><td>CoffeeScript, <a href=\"https://sass-lang.org\">Sass</a>/<a href=\"http://compass-style.org\">Compass</a>, Eco</td><td>Includes some nice typography defaults and <a href=\"http://susy.oddbird.net/\">Susy</a>, a responsive grid system.</td></tr><tr><td><a href=\"https://github.com/smazurov/brunch-marcos\">Brunch Marcos</a> 2 &#x2605;</td><td><code>gh:smazurov/brunch-marcos</code></td><td>JavaScript, <a href=\"http://learnboost.github.com/stylus/\">Stylus</a>/<a href=\"http://handlebarsjs.com\">Handlebars</a></td><td><a href=\"http://layoutmanager.org/\">LayoutManager</a>, <b>Tests</b>, Sensible structure to write large maintainable apps.</td></tr><tr><td><a href=\"https://github.com/thomdixon/brunch-chicken-and-waffles\">Brunch with chicken and waffles</a> 2 &#x2605;</td><td><code>gh:thomdixon/brunch-chicken-and-waffles</code></td><td>CoffeeScript</td><td>Angular, AngularUI, and Bootstrap 3</td></tr><tr><td><a href=\"https://github.com/codevinsky/brunch-with-edge-benedict\">Brunch with Edge Benedict</a> 2 &#x2605;</td><td><code>gh:codevinsky/brunch-with-edge-benedict</code></td><td>Coffeescript, Less, Jade</td><td>Always kept up-to-date with the newest libraries: AngularJS 1.2.0-rc.3, Bootstrap 3, jQuery 2.0.3, Sling UI 0.2.3</td></tr><tr><td><a href=\"https://github.com/vip32/brunch-with-marionette\">Brunch with MarionetteJS</a> 1 &#x2605;</td><td><code>gh:vip32/brunch-with-marionette</code></td><td>CoffeeScript, Stylus, Handlebars, Bootstrap 3</td><td>Copy of SimbCo/brunch-with-marionette which has specific implementation of routes/views</td></tr><tr><td><a href=\"https://github.com/talentriot/brunch-foundation\">Brunch Foundation</a> 1 &#x2605;</td><td><code>gh:talentriot/brunch-foundation</code></td><td>JavaScript, SASS/<a href=\"http://handlebarsjs.com\">Handlebars</a></td><td>Foundation CSS framework, <a href=\"http://layoutmanager.org/\">LayoutManager</a>, <b>Tests</b>, Sensible structure to write large maintainable apps. Intended for mobile-first</td></tr><tr><td><a href=\"https://github.com/sjlu/brunch-time\">Brunch Time</a> 1 &#x2605;</td><td><code>gh:sjlu/brunch-time</code></td><td>Javascript, LESS, Handlebars</td><td>Bower, Backbone.js, Normalize.css, lesshat</td></tr><tr><td><a href=\"https://github.com/ksnyde/brunch-with-ember-sideloaded\">Brunch with Ember Sideloaded</a> 1 &#x2605;</td><td><code>gh:ksnyde/brunch-with-ember-sideloaded</code></td><td>Javascript, LESS, Handlebars</td><td>Bootstrap 3, MomentJS, HTML5 Boilerplate, jQuery and Auto Reload</td></tr><tr><td><a href=\"https://github.com/clonn/angular-express\">Brunch with Angular-Express</a> 1 &#x2605;</td><td><code>gh:clonn/angular-express</code></td><td>Coffeescript, Stylus, Angular, Express</td><td>HTML5 Boilerplate, Angular.js, Express</td></tr><tr><td><a href=\"https://github.com/stefanvermaas/brunch-with-sass\">Brunch with SASS</a></td><td><code>gh:stefanvermaas/brunch-with-sass</code></td><td>CoffeeScript, <a href=\"https://sass-lang.org\">Sass</a>, Handlebars</td><td>Brunch with SASS provides a working Brunch with Chaplin skeleton with SASS enabled instead of Stylus</td></tr><tr><td><a href=\"https://github.com/monokrome/brunch-with-grits\">Brunch with Grits</a></td><td>Backbone, <a href=\"https://github.com/marionettejs/backbone.marionette\">Marionette</a></td><td>CoffeeScript, Stylus</td><td>Brunch with CoffeeScript, Stylus, Backbone, Marrionette, and jQuery.</td></tr><tr><td><a href=\"https://github.com/pkmishra/Dhancha\">Brunch with Coffee &amp; Dust</a></td><td></td><td>CoffeeScript, LESS, Dust.js</td><td>Twitter Bootstrap and Aura based skeleton.</td></tr><tr><td><a href=\"https://github.com/timebox-designs/pineapple-in-a-can\">Pineapple in a Can</a></td><td><code>gh:timebox-designs/pineapple-in-a-can</code></td><td>JavaScript, Stylus</td><td>Backbone, bootstrap, font awesome, handlebars, jQuery, marionette, swag and underscore. Chock full of yummy goodness!</td></tr><tr><td><a href=\"https://github.com/timebox-designs/canned-coral\">Canned Coral</a></td><td><code>gh:timebox-designs/canned-coral</code></td><td>JavaScript, Stylus</td><td>A copy of Pineapple in a Can with a reverse proxy.</td></tr><tr><td><a href=\"https://github.com/damassi/Backbone.Create\">Brunch for CreateJS Canvas</a></td><td><code>gh:damassi/Backbone.Create</code></td><td>JavaScript, Sass, Handlebars</td><td>A Backbone.js-based framework for CreateJS canvas projects. Also included is TweenMax for super fast animation.</td></tr><tr><td><a href=\"https://github.com/davidfregoli/brunch-with-underscore-js-less\">Brunch with Underscore, LESS and JS</a></td><td><code>gh:davidfregoli/brunch-with-underscore-js-less</code></td><td>Underscore templates, LESS styles, plain JS</td><td>Minimal Brunch Skeleton with Underscore templates, LESS styles and vanilla JS</td></tr><tr><td><a href=\"https://github.com/askalyuk/brunch-fruits\">Brunch with Fruits</a></td><td><code>gh:askalyuk/brunch-fruits</code></td><td>JavaScript, Handlebars, LESS/SASS</td><td>Bootstrap, Mocha/Chai. It has example of deployed full-stack application.</td></tr><tr><td><a href=\"https://github.com/huafu/brunch-with-ember-and-bootstrap\">Brunch with Ember and Bootstrap</a></td><td><code>gh:huafu/brunch-with-ember-and-bootstrap</code></td><td>CoffeeScript, Ember, Ember data, Stylus and Handlebars</td><td>HTML5 Boilerplate, Twitter Bootstrap (Stylus version), jQuery, Keyword, Ember Bootstrap and Auto Reload</td></tr><tr><td><a href=\"https://github.com/jupl/cinder-brunch\">Cinder Brunch</a></td><td><code>gh:jupl/cinder-brunch</code></td><td>CoffeeScript, Handlebars, LESS</td><td>Clearless, Twitter Bootstrap, Font Awesome. Require statements are not need for Ember modules. Cake tasks included. There's also a <a href=\"https://github.com/jupl/cinder-brunch/tree/cordova\">variant with Cordova.</a></td></tr><tr><td><a href=\"https://github.com/abronte/brunch-on-fire\">Brunch on fire</a></td><td><code>gh:abronte/brunch-on-fire</code></td><td>CoffeeScript, SASS, Handlebars</td><td>Straightforward ember bundle. Includes jQuery and tests are setup using mocha + chai.</td></tr><tr><td>&#x2605; <a href=\"https://github.com/markmarijnissen/spine-livescript-brunch-skeleton\">Spine.js with Bootstrap OR jQuery Mobile</a></td><td><code>gh:markmarijnissen/spine-livescript-brunch-skeleton</code></td><td>LiveScript, Less, Jade</td><td>jQuery<br> optionally add Twitter Bootstrap (LESS code!) or jQuery Mobile using generators. Also includes an Android Eclipse project using PhoneGap!</td></tr><tr><td><a href=\"https://github.com/ashleydavis/AngularJS-Skeleton\">Simple Brunch with AngularJS</a></td><td><code>gh:ashleydavis/AngularJS-Skeleton</code></td><td></td><td>AngularJS v1.1.4 and jQuery v2.0.2</td></tr><tr><td><a href=\"https://github.com/monokrome/brunch-for-libs\">Brunch for libs</a></td><td><code>gh:monokrome/brunch-for-libs</code></td><td>&#x2014;</td><td>A super minimal brunch configuration for building Javascript libraries on top of.</td></tr><tr><td><a href=\"https://github.com/jupl/cordova-brunch\">Cordova Brunch</a></td><td><code>gh:jupl/cordova-brunch</code></td><td>&#x2014;</td><td>Bare skeleton that includes support for building apps using Apache Cordova.</td></tr><tr><td><a href=\"https://github.com/sandy98/brunch-with-wisp\">Brunch with Wisp</a></td><td><code>gh:sandy98/brunch-with-wisp</code></td><td><a href=\"https://github.com/Gozala/wisp\">Wisp</a></td><td>Tiny skeleton meant to be a proof of concept for the use of Wisp, the Clojure-like Lisp dialect with Brunch.</td></tr><tr><td><a href=\"https://github.com/GulinSS/brunch-bower-site\">Brunch with CoffeeScript, Jade, Less, Bower</a></td><td><code>gh:GulinSS/brunch-bower-site</code></td><td>CoffeeScript, Jade, Less, Bower</td><td>Minimal skeleton for modern Client-Side development based on stack.</td></tr><tr><td><a href=\"https://github.com/TessaHarmon/brunch-jade-stylus\">Brunch with Jade and Stylus</a></td><td><code>gh:TessaHarmon/brunch-jade-stylus</code></td><td>Jade, Stylus</td><td>Minimal skeleton based on brunch-with-brunch for jade/stylus lovers.</td></tr></table><footer><p><small>Hosted on <a href=\"https://github.com/brunch/brunch.github.com\">GitHub Pages</a>. The content on this website is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by/3.0/deed.en_US\">CC BY 3.0</a>. Logo by <a href=\"http://helle.in\">Michael Hellein</a></small></p></footer></div></div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:12:08 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "How to use an Xbox 360 controller with OS X Yosemite",
        "url": "http://www.jacobtomlinson.co.uk/2014/10/17/use-xbox-360-pad-with-yosemite/",
        "excerpt": "Want to use an Xbox 360 controller to play games on Mac OS X 10.10 Yosemite? Here are simple instructions to get you started in no time. Driver To get your Xbox 360 pad working you'll need to install&hellip;",
        "date_saved": "Thu Jul 28 20:12:09 EDT 2016",
        "html_file": "how_to_use_an_xbox_360_controller_with_os_x_yosemite.html",
        "png_file": "how_to_use_an_xbox_360_controller_with_os_x_yosemite.png",
        "md_file": "how_to_use_an_xbox_360_controller_with_os_x_yosemite.md",
        "content": "<div><div class=\"col-md-12 article\">\n \n <div class=\"thumb\">\n <img src=\"http://i.imgur.com/SZbqNPI.png\">\n </div>\n \n\n \n\n \n\n <div class=\"content-panel content\">\n <div>\n\n<p>Want to use an Xbox 360 controller to play games on Mac OS X 10.10 Yosemite? Here are\nsimple instructions to get you started in no time.</p>\n\n<h2>Driver</h2>\n\n<p>To get your Xbox 360 pad working you'll need to install a driver. Drivers for OS X\nare known as kexts and Apple provide a standard set to support all sorts of third\nparty hardware. But if you haven't guessed already they don't provide one for\nthe Xbox 360 controller so we'll have to look elsewhere.</p>\n\n<p>Colin Munro at tattiebogle.net created a driver for the Xbox 360 controller,\nhowever this hasn't been updated since Snow Leopard and it won't work with\nOS X Yosemite. Luckily for us someone else has updated the code and <a href=\"https://github.com/d235j/360Controller/releases/tag/v0.13.1-unofficial\">posted it on\nGitHub</a>.</p>\n\n<p>To install it just download the .dmg file from the GitHub repository, open it\nand run the installer.</p>\n\n<p>You will also need to disable kext signing on your Mac. This is now enforced by\ndefault in Yosemite and will cause this kext not to load. You can do this by\nrunning the following command in the Terminal and entering your password:</p>\n<div class=\"highlight\"><pre><code class=\"language-text\">sudo nvram boot-args=\"kext-dev-mode=1\"\n</code></pre></div>\n<p>You'll need to reboot once it's done for your Mac to recognise the controller.</p>\n\n<h2>Configuration</h2>\n\n<p>This is enough to get your controller working in most situations but if you\nwant to change the configuration of your controller (e.g invert the axis) then\nyou just need to head to your \"System Preferences\" and you'll find a new option\ncalled \"Xbox 360 Controllers\".</p>\n\n<p>From this menu you'll be able to test your controller is working as well as\nmake changes to the config.</p>\n\n<p><img src=\"http://i.imgur.com/ikYGruw.png\" alt=\"Imgur\"></p>\n</div>\n\n \n\n <p class=\"tags\"><small>\n <i class=\"fa fa-tags\"></i>\n xbox 360 controller, yosemite, OS X, gaming\n </small></p>\n\n </div>\n\n <div class=\"content-panel feedback\">\n I <i class=\"fa fa-heart\"></i> feedback.<br>\n Let me know what you think of this article on twitter <a href=\"http://www.twitter.com/_jacobtomlinson\">@_jacobtomlinson</a> or leave a comment below!\n </div>\n\n \n\n \n\n </div>\n\n </div>"
    }, {
        "title": "ConnorAtherton/walkway",
        "url": "https://github.com/ConnorAtherton/walkway",
        "excerpt": "I loved the animations for the polygon ps4 review a few months back and decided to create a small library to re-create them. How to use Create a new Walkway instance with a supplied options object.&hellip;",
        "date_saved": "Thu Jul 28 20:12:12 EDT 2016",
        "html_file": "connorathertonwalkway.html",
        "png_file": "connorathertonwalkway.png",
        "md_file": "connorathertonwalkway.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>I loved the animations <a href=\"http://www.polygon.com/a/ps4-review\">for the polygon ps4 review</a> a few months back\nand decided to create a small library to re-create them.</p>\n\n<h2>\n<a name=\"user-content-how-to-use\" class=\"anchor\" href=\"https://github.com/ConnorAtherton/walkway#how-to-use\"></a>How to use</h2>\n\n<p>Create a new <code>Walkway</code> instance with a supplied options object.\nWhen you want to start animating call <code>.draw</code> on the returned instance\nproviding an optional callback that will be called when drawing is complete.</p>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"c1\">// Create a new instance</span>\n<span class=\"kd\">var</span> <span class=\"nx\">svg</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Walkway</span><span class=\"p\">(</span><span class=\"nx\">options</span><span class=\"p\">);</span>\n<span class=\"c1\">// Draw when ready, providing an optional callback</span>\n<span class=\"nx\">svg</span><span class=\"p\">.</span><span class=\"nx\">draw</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// Options passed in as an object, see options below.</span>\n<span class=\"kd\">var</span> <span class=\"nx\">svg</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Walkway</span><span class=\"p\">({</span> <span class=\"nx\">selector</span><span class=\"o\">:</span> <span class=\"s1\">'#test'</span><span class=\"p\">});</span>\n\n<span class=\"c1\">// Overwriting defaults</span>\n<span class=\"kd\">var</span> <span class=\"nx\">svg</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Walkway</span><span class=\"p\">({</span>\n <span class=\"nx\">selector</span><span class=\"o\">:</span> <span class=\"s1\">'#test'</span><span class=\"p\">,</span>\n <span class=\"nx\">duration</span><span class=\"o\">:</span> <span class=\"s1\">'2000'</span><span class=\"p\">,</span>\n <span class=\"c1\">// can pass in a function or a string like 'easeOutQuint'</span>\n <span class=\"nx\">easing</span><span class=\"o\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">t</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">return</span> <span class=\"nx\">t</span> <span class=\"o\">*</span> <span class=\"nx\">t</span><span class=\"p\">;</span>\n <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">svg</span><span class=\"p\">.</span><span class=\"nx\">draw</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// If you don't want to change the default options you can</span>\n<span class=\"c1\">// also supply the constructor with a selector string.</span>\n<span class=\"kd\">var</span> <span class=\"nx\">svg</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Walkway</span><span class=\"p\">(</span><span class=\"s1\">'#test'</span><span class=\"p\">);</span>\n\n<span class=\"nx\">svg</span><span class=\"p\">.</span><span class=\"nx\">draw</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Animation finished'</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n\n<h3>\n<a name=\"user-content-options\" class=\"anchor\" href=\"https://github.com/ConnorAtherton/walkway#options\"></a>Options</h3>\n\n<ul class=\"task-list\">\n<li>\n<strong>selector</strong> (<em>mandatory</em>) - The selector of the parent element (usually will be a specific svg element)</li>\n<li>\n<strong>duration</strong> - Time the animation should run for, in ms. Default is 400.</li>\n<li>\n<strong>easing</strong> - Name of the easing function used for drawing. Default is 'easeInOutCubic'. You can also supply your own function that will be passed the progress and should return a value in the range of [0, 1];</li>\n</ul>\n\n<h3>\n<a name=\"user-content-easing\" class=\"anchor\" href=\"https://github.com/ConnorAtherton/walkway#easing\"></a>Easing</h3>\n\n<p>All credit for the built-in easing functions go to <a href=\"https://github.com/gre\">gre</a> from <a href=\"https://gist.github.com/gre/1650294\">this gist</a>.</p>\n\n<h2>\n<a name=\"user-content-things-to-do\" class=\"anchor\" href=\"https://github.com/ConnorAtherton/walkway#things-to-do\"></a>Things to do</h2>\n\n<p>Currently, this only works on <code>path</code> and <code>line</code> elements. Walkway\nwill also work with <code>polyline</code> elements when I have a few hours free.</p>\n\n<h3>\n<a name=\"user-content-demo-coming-soon\" class=\"anchor\" href=\"https://github.com/ConnorAtherton/walkway#demo-coming-soon\"></a>Demo coming soon</h3>\n</article>\n </div>"
    }, {
        "title": "Animate.css",
        "url": "https://daneden.github.io/animate.css/",
        "excerpt": "Just-add-water CSS animations Download Animate.css or View on GitHub Another thing from Daniel Eden.",
        "date_saved": "Thu Jul 28 20:12:13 EDT 2016",
        "html_file": "animatecss.html",
        "png_file": "animatecss.png",
        "md_file": "animatecss.md",
        "content": "<div>\n<header class=\"site__header island\">\n <p class=\"wrap\">\n <span id=\"animationSandbox\"></span>\n <span class=\"beta subhead\">Just-add-water CSS animations</span>\n </p>\n</header>\n\n<main class=\"site__content island\">\n <div class=\"wrap\">\n \n \n\n \n \n \n <p class=\"meta\"><a href=\"https://raw.github.com/daneden/animate.css/master/animate.css\">Download Animate.css</a> or <a href=\"https://github.com/daneden/animate.css\">View on GitHub</a></p>\n <p><small>Another thing from <a href=\"https://daneden.me\">Daniel Eden</a>.</small></p>\n </div>\n</main>\n\n\n\n\n</div>\n"
    }, {
        "title": "jamesob/desk",
        "url": "https://github.com/jamesob/desk",
        "excerpt": "Lightweight workspace manager for the shell. Desk makes it easy to flip back and forth between different project contexts in your favorite shell. Change directory, activate a virtualenv or rvm, load&hellip;",
        "date_saved": "Thu Jul 28 20:12:15 EDT 2016",
        "html_file": "jamesobdesk.html",
        "png_file": "jamesobdesk.png",
        "md_file": "jamesobdesk.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><a href=\"https://travis-ci.org/jamesob/desk\"><img src=\"https://camo.githubusercontent.com/fda7a265f498cc24f80594a639b15b224a8fefbb/68747470733a2f2f6170692e7472617669732d63692e6f72672f6a616d65736f622f6465736b2e737667\" alt=\"build\"></a> <a href=\"https://gitter.im/jamesob/desk?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\"><img src=\"https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667\" alt=\"Join the chat at https://gitter.im/jamesob/desk\"></a></p>\n\n<p>Lightweight workspace manager for the shell. </p>\n\n<p>Desk makes it easy to flip back and forth between different project contexts in\nyour favorite shell. Change directory, activate a virtualenv or rvm, load\nin domain-specific aliases, functions, arbitrary shell files, all in a\nsingle command.</p>\n\n<p>Instead of relying on <code>CTRL-R</code> to execute and recall (\"that command's gotta\nbe here somewhere...\"), desk helps shorten and document those actions with\nshell aliases and functions, which are then namespaced under a particular\ndesk.</p>\n\n<p>I have a hard time calling this a \"workspace manager\" with a straight\nface -- it's basically just a shell script that sources another shell script in a new shell.\nBut I often find myself working in multiple different code trees simultaneously:\nthe quick context switches and namespaced commands that desk facilitates \nhave proven useful.</p>\n\n<p>There are no dependencies other than some kind of Unix shell.</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>&#x25F2; desk 0.1.1\n\nUsage:\n\n desk\n List the current desk and any associated aliases. If no desk \n is being used, display available desks.\n desk init\n Initialize desk configuration.\n desk (list<span class=\"pl-k\">|</span>ls)\n List all desks along with a description.\n desk (.<span class=\"pl-k\">|</span>go) desk-name\n Activate a desk.\n desk <span class=\"pl-c1\">help</span>\n Show this text.\n desk version\n Show version information.\n\nSince desk spawns a shell, to deactivate and <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pop<span class=\"pl-pds\">\"</span></span> out a desk, you\nsimply need to <span class=\"pl-c1\">exit</span> or otherwise end the current shell process.</pre></div>\n\n<p><a href=\"https://github.com/jamesob/desk/blob/master/screencap.gif\" target=\"_blank\"><img src=\"https://github.com/jamesob/desk/raw/master/screencap.gif\" width=\"700\"></a></p>\n\n<p>For example, given this deskfile (<code>~/.desk/desks/tf.sh</code>):</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># tf.sh</span>\n<span class=\"pl-c\"># </span>\n<span class=\"pl-c\"># Description: desk for doing work on a terraform-based repository</span>\n<span class=\"pl-c\">#</span>\n\n<span class=\"pl-c1\">cd</span> <span class=\"pl-k\">~</span>/terraform-repo\n\n<span class=\"pl-c\"># Set up AWS env variables: &lt;key id&gt; &lt;secret&gt;</span>\n<span class=\"pl-en\">set_aws_env</span>() {\n <span class=\"pl-k\">export</span> AWS_ACCESS_KEY_ID=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$1</span><span class=\"pl-pds\">\"</span></span>\n <span class=\"pl-k\">export</span> AWS_SECRET_ACCESS_KEY=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$2</span><span class=\"pl-pds\">\"</span></span>\n}\n\n<span class=\"pl-c\"># Run `terraform plan` with proper AWS var config</span>\n<span class=\"pl-en\">plan</span>() {\n terraform plan -module-depth=-1 \\\n -var <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>access_key=<span class=\"pl-smi\">${AWS_ACCESS_KEY_ID}</span><span class=\"pl-pds\">\"</span></span> \\\n -var <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secret_key=<span class=\"pl-smi\">${AWS_SECRET_ACCESS_KEY}</span><span class=\"pl-pds\">\"</span></span>\n}\n\n<span class=\"pl-c\"># Run `terraform apply` with proper AWS var config</span>\n<span class=\"pl-c1\">alias</span> apply=<span class=\"pl-s\"><span class=\"pl-pds\">'</span>terraform apply<span class=\"pl-pds\">'</span></span></pre></div>\n\n<p>we'd get </p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ desk <span class=\"pl-c1\">.</span> tf\n$ desk\n\ntf\ndesk <span class=\"pl-k\">for</span> <span class=\"pl-smi\">doing</span> work on a terraform repo\n\n set_aws_env - Set up AWS env variables: <span class=\"pl-k\">&lt;</span>key id<span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">&lt;</span>secret<span class=\"pl-k\">&gt;</span>\n plan - Run <span class=\"pl-s\"><span class=\"pl-pds\">`</span>terraform plan<span class=\"pl-pds\">`</span></span> with proper AWS var config\n apply - Run <span class=\"pl-s\"><span class=\"pl-pds\">`</span>terraform apply<span class=\"pl-pds\">`</span></span> with proper AWS var config</pre></div>\n\n<p>Basically, desk just associates a shell script (<code>name.sh</code>) with a name. When\nyou call <code>desk . name</code>, desk drops you into a shell where <code>name.sh</code> has been\nexecuted, and then desk extracts out certain comments in <code>name.sh</code> for useful\nrendering.</p>\n\n<h3><a id=\"user-content-installing\" class=\"anchor\" href=\"https://github.com/jamesob/desk#installing\"></a>Installing</h3>\n\n<ol>\n<li><code>git clone git@github.com:jamesob/desk.git &amp;&amp; cd desk</code></li>\n<li><code>sudo make install</code> or <code>cp desk ~/bin/desk</code></li>\n<li><code>desk init</code></li>\n<li>Start adding deskfiles to your config directory, e.g. <code>~/.desk/desks/hacking_gibson.sh</code></li>\n</ol>\n\n<h3><a id=\"user-content-deskfile-rules\" class=\"anchor\" href=\"https://github.com/jamesob/desk#deskfile-rules\"></a>Deskfile rules</h3>\n\n<p>Deskfiles are just shell scripts, nothing more, that live in the desk config directory. \nDesk does pay attention to certain kinds of comments, though.</p>\n\n<ul>\n<li><p><em>description</em>: you can describe a deskfile by including <code># Description: ...</code>\nsomewhere in the file.</p></li>\n<li><p><em>alias and function docs</em>: if the line above an alias or function is a \ncomment, it will be used as documentation.</p></li>\n</ul>\n\n<h3><a id=\"user-content-sharing-deskfiles-across-computers\" class=\"anchor\" href=\"https://github.com/jamesob/desk#sharing-deskfiles-across-computers\"></a>Sharing deskfiles across computers</h3>\n\n<p>Of course, the desk config directory (by default <code>~/.desks</code>) can be a symlink\nso that deskfiles can be stored in some centralized place, like Dropbox,\nand so shared across many computers.</p>\n\n<h3><a id=\"user-content-using-a-non-default-config-location\" class=\"anchor\" href=\"https://github.com/jamesob/desk#using-a-non-default-config-location\"></a>Using a non-default config location</h3>\n\n<p>By default, desks live in <code>~/.desk/desks</code>. If you want to use some other location,\nspecify as much in <code>desk init</code> and then ensure you set <code>$DESK_DIR</code> to match\nthat location in your shell's rc file.</p>\n</article>\n </div>"
    }, {
        "title": "Pattern Lab",
        "url": "http://patternlab.io/",
        "excerpt": "Create atomic design systems Atoms Molecules Organisms",
        "date_saved": "Thu Jul 28 20:12:17 EDT 2016",
        "html_file": "pattern_lab.html",
        "png_file": "pattern_lab.png",
        "md_file": "pattern_lab.md",
        "content": "<div><div class=\"main\">\n\n <section class=\"section section-1\">\n <div class=\"logo-container\">\n \n <p class=\"tagline\">Create <a href=\"http://patternlab.io/about.html\" rel=\"external\">atomic design</a> systems</p>\n </div>\n\n <ol class=\"atomic-design\">\n <li>\n <a href=\"http://patternlab.io/about.html#atoms\">\n <img src=\"http://patternlab.io/assets/icon-atom.svg\" alt=\"Atom\">\n <h4 class=\"atomic-label\">Atoms</h4>\n </a>\n </li>\n <li>\n <a href=\"http://patternlab.io/about.html#molecules\">\n <img src=\"http://patternlab.io/assets/icon-molecule.svg\" alt=\"Molecule\">\n <h4 class=\"atomic-label\">Molecules</h4>\n </a>\n </li>\n <li>\n <a href=\"http://patternlab.io/about.html#organisms\">\n <img src=\"http://patternlab.io/assets/icon-organism.svg\" alt=\"Organism\">\n <h4 class=\"atomic-label\">Organisms</h4>\n </a>\n </li>\n <li>\n <a href=\"http://patternlab.io/about.html#templates\">\n <img src=\"http://patternlab.io/assets/icon-template.svg\" alt=\"Template\">\n <h4 class=\"atomic-label\">Templates</h4>\n </a>\n </li>\n <li>\n <a href=\"http://patternlab.io/about.html#pages\">\n <img src=\"http://patternlab.io/assets/icon-page.svg\" alt=\"Page\">\n <h4 class=\"atomic-label\">Pages</h4>\n </a>\n </li>\n </ol> \n\n <div class=\"btn-group\">\n <a href=\"https://github.com/pattern-lab/patternlab-php/archive/master.zip\" class=\"btn\">Download</a>\n <a href=\"https://github.com/pattern-lab/patternlab-php\" class=\"btn\">View on Github</a>\n <a href=\"http://demo.patternlab.io\" class=\"btn\">View Demo</a>\n </div>\n </section>\n \n\n <section class=\"section section-2\" id=\"what\">\n\n\n <h2 class=\"section-title\">What It Is</h2>\n <p class=\"intro\">Pattern Lab is a collection of tools to help you create atomic design systems.</p>\n <ul class=\"g g-4up\">\n <li class=\"gi\">\n <h3>Static site generator</h3> \n <p>At its core, Pattern Lab is a custom static site generator that constructs an interface by stitching atoms, molecules, and organisms together to form templates and pages.</p>\n </li>\n <li class=\"gi\">\n <h3>component library</h3>\n <p>Pattern Lab serves as your project's pattern library and frontend style guide, but you're simultaneously able to see components abstractly and in context.</p>\n </li>\n <li class=\"gi\">\n <h3>Pattern starter kit</h3>\n <p>Pattern Lab provides a whole slew of patterns just to get you started. <em>Don't use them all.</em> You should use Pattern Lab to create your own atoms, molecules, organisms, templates, and pages. </p>\n </li>\n <li class=\"gi\">\n <h3>Viewport Resizer</h3>\n <p>It's our job to make sure our designs look and function beautifully across a whole slew of Web-enabled devices. Pattern Lab provides a robust viewport resizing tool to help you create great designs across all screens.</p>\n </li>\n <li class=\"gi\">\n <h3>Annotation Tool</h3>\n <p>Pattern Lab provides a way to annotate your interface to better communicate design and development decisions to clients and team members.</p>\n </li>\n <li class=\"gi\">\n <h3>Auto Refresh Tool</h3>\n <p>Pattern Lab can reload your browser automatically whenever you save changes to patterns, images, CSS or anything in your project. Make a change and see the results instantly.</p>\n </li>\n <li class=\"gi\">\n <h3>Page Follow Tool</h3>\n <p>Testing across multiple browsers and devices is tedious. Page Follow streamlines the development process by syncing navigation from one browser with any other browser connected to the same Pattern Lab site. </p>\n </li>\n\n </ul>\n </section>\n\n <section class=\"section section-3\" id=\"what-isnt\">\n <h2 class=\"section-title\">What It Ain't</h2>\n <p class=\"intro\">Pattern Lab doesn't give you all the answers.</p>\n\n <ul class=\"g g-3up\">\n <li class=\"gi\">\n <h3>A UI framework</h3>\n <p>Pattern Lab isn't <a href=\"http://getbootstrap.com/\">Bootstrap</a>. It's not <a href=\"http://foundation.zurb.com/\">Foundation</a>. It's not flat. It's not skeuomorphic. We've got nothing against UI frameworks, but that's not what Pattern Lab does. How it looks and how it's coded is entirely up to you.</p>\n </li>\n <li class=\"gi\">\n <h3>Language-dependent</h3>\n <p>Like Sass? Great! Go nuts. Use Less instead? That's cool too. Don't like preprocessors? Totally fine. Gotta have jQuery, or wouldn't touch it with a 10 foot pole? Pattern Lab lets you write HTML, CSS and JavaScript however you want. Write code as awesome or as crappy as you like.</p>\n </li>\n <li class=\"gi\">\n <h3>Incredibly Rigid</h3>\n <p>Pattern Lab is designed to be flexible with regards to naming and structure. There's really no One Right Way to do this, and we think that's just fine. Name things as you please, and we'll leave the hair-splitting out of things.</p>\n </li>\n </ul>\n </section>\n\n <section class=\"section section-4\" id=\"why\">\n <h2 class=\"section-title\">Why</h2>\n <p class=\"intro\">Build systems, not pages.</p>\n <div class=\"g g-3up\">\n <div class=\"gi\">\n <h3>The need for modularity</h3>\n <p>Component-driven design has been around for a long while now, but it's become imperative to think now that the Web landscape is so much more complex. It's essential to consider how every thing you include in an interface looks and functions across a whole slew of browsers, devices, and environments.</p>\n </div>\n <div class=\"gi\">\n <h3>A better workflow</h3>\n <p><a href=\"http://24ways.org/2011/front-end-style-guides/\" rel=\"external\">Anna Debenham explains</a> how pattern libraries create a shared vocabulary between disciplines, make testing easier, and builds a canonical reference to keep coming back to.</p>\n </div>\n <div class=\"gi\">\n <h3>Tiny Bootstraps, for Every Client</h3>\n <p>In this responsive age, our <a href=\"http://daverupert.com/2013/04/responsive-deliverables/\" rel=\"external\">responsive deliverables</a> need to be more than an ad hoc collection of pages. Give clients a custom design system with which they can modify, extend, and grow with into the future.</p>\n </div>\n </div>\n </section>\n\n <section class=\"section section-5\" id=\"how\">\n <h2 class=\"section-title\">How</h2>\n <p class=\"intro\"><a href=\"http://patternlab.io/docs/index.html\">View Pattern Lab's documentation.</a></p>\n \n </section>\n\n <section class=\"section section-6\" id=\"who\">\n <h2 class=\"section-title\">Who</h2>\n <p class=\"intro\">Pattern Lab serves as a hub for your web project.</p>\n <ul class=\"g g-4up\">\n <li class=\"gi\">\n <h3>Information Designers</h3>\n <p>Pattern Lab helps integrate modular thinking into the design process right out of the gate, and helps demonstrate responsive patterns to create.</p>\n </li>\n <li class=\"gi\">\n <h3>Visual Designers</h3>\n <p>Visual designers can use Pattern Lab as a way to see how each module works in a responsive environment and also to keep track of all the design's raw materials.</p>\n </li>\n <li class=\"gi\">\n <h3>Developers</h3>\n <p>Pattern Lab provides developers with an efficient system for quickly developing prototypes and production-ready front-end code.</p>\n </li>\n <li class=\"gi\">\n <h3>Clients and managers</h3>\n <p>Everyone, not just designers and developers, needs to understand the benefits of crafting a design system. Clients and managers can view the project in the browser, as a review, and as a reference.</p>\n </li>\n </ul>\n </section>\n\n \n\n <section class=\"section section-7\" id=\"where\">\n <h2 class=\"section-title\">Where</h2>\n <div class=\"g g-2up\">\n <div class=\"gi\">\n <h3>One URL to Rule Them All</h3>\n <p>Pattern Lab should live in an environment accessible via a URL where everyone involved with your project can view the design system. Pattern Lab can serve as a hub for your project, so make sure it's accessible.</p>\n </div>\n <div class=\"gi\">\n <h3>Share Your Results</h3>\n <p>Optionally (and ideally) your Pattern Lab can be published publicly like other style guides created by <a href=\"http://www.starbucks.com/static/reference/styleguide/\">Starbucks</a>, <a href=\"http://www.bbc.co.uk/gel/mobile/device-considerations/philosophy\">The BBC</a>, and <a href=\"http://pasteup.guim.co.uk/index.html\">The Guardian</a>. This project wouldn't exist if these organizations didn't share their knowledge and approach. Help makes things better by sharing your Pattern Lab.</p>\n </div>\n </div>\n \n </section>\n\n <section class=\"section section-8\" id=\"created-by\">\n <h2 class=\"section-title\">Created By</h2>\n \n </section>\n\n\n\n </div>\n \n</div>"
    }, {
        "title": "TimelineMax: A Primer",
        "url": "http://webdesign.tutsplus.com/tutorials/timelinemax-a-primer--cms-23064",
        "excerpt": "What is TimelineMax? What makes it different from other GreenSock Animation Platform (GSAP) libraries? Why would I need TimelineMax over TimelineLite? How do I go about understanding parameters for&hellip;",
        "date_saved": "Thu Jul 28 20:12:20 EDT 2016",
        "html_file": "timelinemax_a_primer.html",
        "png_file": "timelinemax_a_primer.png",
        "md_file": "timelinemax_a_primer.md",
        "content": "<div><div class=\"post-body__content\"><p>What is <a href=\"http://greensock.com/timelinemax\" target=\"_self\">TimelineMax</a>? What makes it different from other <a href=\"http://greensock.com/gsap\" target=\"_self\">GreenSock Animation Platform</a> (GSAP) libraries? Why would I need TimelineMax over <a href=\"http://greensock.com/timelinelite\" target=\"_self\">TimelineLite</a>? How do I go about understanding parameters for TimelineMax? If you find yourself asking any of these questions then you&#x2019;ve come to the right place.</p>\n\n<p>Welcome to the primer for a Tuts+ series discussing TimelineMax by GreenSock. Get ready for an explosive, mind bending series to help mold you into an animation pro.</p>\n\n<h2>What is TimelineMax?</h2>\n\n<p>TimelineMax is a JavaScript sequencing tool which acts as a container for tweens&#xA0;and other timelines, making it easier to control them as a whole and precisely manage their timing. TimelineMax provides methods to allow access to multiple aspects of your animation. It can also dynamically adjust a timeline&#x2019;s speed at runtime, plus much, much more.</p>\n\n<p><strong>Note</strong>:&#xA0;<em>tweening</em>&#xA0;is&#xA0;an abbreviation of&#xA0;<em>inbetweening;</em>&#xA0;creating frames between states in<b>&#xA0;</b>an&#xA0;animation sequence.</p>\n\n<p>TimelineMax extends TimelineLite, offering exactly the same functionality along with additional (but non-essential) features like:&#xA0;</p>\n\n<ul>\n <li><code class=\"inline\">repeat</code></li>\n <li><code class=\"inline\">repeatDelay</code></li>\n <li><code class=\"inline\">yoyo</code></li>\n <li><code class=\"inline\">currentLabel()</code></li>\n <li><code class=\"inline\">tweenTo()</code></li>\n <li><code class=\"inline\">tweenFromTo()</code></li>\n <li><code class=\"inline\">getLabelAfter()</code></li>\n <li><code class=\"inline\">getLabelBefore()</code></li>\n <li>and <code class=\"inline\">getActive()</code>\n</li>\n</ul>\n\n<h2>Benefits and Features</h2>\n\n<p>TimelineMax allows you, as an&#xA0;author, the power to&#xA0;<a href=\"http://greensock.com/position-parameter\" target=\"_self\">make&#xA0;tweens overlap on the timeline</a>&#xA0;as much as you desire. As the animation pro, you have complete control over where tweens are placed on the timeline. Most other animation tools can primarily execute a&#xA0;basic <em>one-after-the-other </em>sequencing, but can&#x2019;t allow tweens to overlap. Imagine appending a tween that moves an object and you&#x2019;d like&#xA0;it to start fading out 0.5 seconds before the end of that tween? With TimelineMax it&#x2019;s a great deal&#xA0;cleaner, plus extremely robust to make all that happen.</p>\n\n<p>For convenience, major plugins like <a href=\"https://greensock.com/CSSPlugin\" target=\"_self\">CSSPlugin</a> (for supplying CSS vendor prefixes), <a href=\"https://greensock.com/RoundPropsPlugin\" target=\"_self\">RoundPropsPlugin</a>,&#xA0;<a href=\"https://greensock.com/directionalrotation-as\" target=\"_self\">DirectionalRotationPlugin</a>,&#xA0;<a href=\"https://greensock.com/AttrPlugin\" target=\"_self\">AttrPlugin</a>&#xA0;and <a href=\"http://greensock.com/BezierPlugin-JS\" target=\"_self\">BezierPlugin</a> are all&#xA0;included&#xA0;with TweenMax and TimelineMax. Since TweenMax will provide you with TimelineMax and all the other goodies previously listed, GreenSock recommends using TweenMax for most use cases. Loading TweenMax is just more convenient as one file contains pretty much all you need.</p>\n\n<h2>Installing</h2>\n\n<p>To start, you&#x2019;ll need to get the TweenMax script and load it into your HTML document&#xA0;<em>prior</em> to your custom animation script. Lucky for us <a href=\"https://cdnjs.com\" target=\"_self\">CDNJS</a> has a copy available for us (<a href=\"https://github.com/greensock/GreenSock-JS\" target=\"_self\">there&#x2019;s also one on GitHub</a>).</p>\n\n<pre class=\"brush: html noskimlinks noskimwords\">&lt;html&gt;\n &lt;body&gt;\n&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/gsap/1.14.2/TweenMax.min.js\"&gt;&lt;/script&gt;\n &lt;script src=\"my-timelinemax-animation.js\"&gt;&lt;/script&gt;\n &lt;/body&gt;\n&lt;/html&gt;</pre>\n\n<h2>Config</h2>\n\n<p>TimelineMax allows for custom configuration options&#xA0;through the use of an <a href=\"http://www.dyn-web.com/tutorials/object-literal/\" target=\"_self\">object literal</a>. Let&#x2019;s explore what that looks like.</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">TimelineMax(vars: {})</pre>\n\n<p>The part you see using the <code class=\"inline\">{}</code>&#xA0;curly braces is the object literal which will hold our configuration. This means we can insert <code class=\"inline\">key:value</code> pairings within those braces to define how our timeline will behave. The entire line <code class=\"inline\">TimelineMax(vars: {})</code> is what&#x2019;s referred to in the TimelineMax docs as the &#x201C;Constructor.&#x201D;</p>\n\n<p>Here&#x2019;s the entire TimelineMax config with each key given its default value. Place this right at the top of your JavaScript animation file (which we called &#x201C;my-timelinemax-animation.js&#x201D; in our example above). We're only listing the entire config here so you can see the variety of configuration options TimelineMax offers. Typically your configuration object will only contain the properties needed for adjustments. You can read more about these options in the <a href=\"http://greensock.com/docs/#/HTML5/GSAP/TimelineMax/\" target=\"_self\">TimelineMax documentation</a>.</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">var tmax_options = {\n delay: 0,\n paused: false,\n onComplete: function() {\n console.log('animation is complete');\n },\n onCompleteScope: {},\n tweens: [],\n stagger: 0,\n align: 'normal',\n useFrames: false,\n onStart: function() {\n console.log('on start called');\n },\n onStartScope: {},\n onUpdate: function() {\n console.log('on update called');\n },\n onUpdateScope: {},\n onRepeat: function() {\n console.log('on repeat called');\n },\n onRepeatScope: {},\n onReverseComplete: function() {\n console.log('on reverse complete');\n },\n onReverseCompleteScope: {},\n autoRemoveChildren: false,\n smoothChildTiming: false,\n repeat: 0,\n repeatDelay: 0,\n yoyo: false,\n onCompleteParams: [],\n onReverseCompleteParams: [],\n onStartParams: [],\n onUpdateParams: [],\n onRepeatParams: []\n};</pre>\n\n<p>Now that you have the config in place and understand it's options, you can pass your custom object literal config to the <code class=\"inline\">TimelineMax()</code> constructor, so add the following to the bottom of your file:</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">var tmax_tl = new TimelineMax(tmax_options);</pre>\n\n<h2>Your First Animation</h2>\n\n<p>Tweens are created using methods like <code class=\"inline\">to()</code>, <code class=\"inline\">from(</code>) and <code class=\"inline\">staggerFrom()</code>&#xA0;just to name a few. As you saw previously we took our options object and passed it as an argument to the TimelineMax constructor. Now we&#x2019;ll need to move a few&#xA0;objects to get our feet wet. For the sake of simplicity let&#x2019;s move two circles from the left and the top of the viewport:</p>\n\n<figure>\n \n\n</figure>\n\n<p>Check the <strong>JS</strong> tab in the example above to see how the effect is achieved. As noted previously, I&#x2019;ve setup the TimelineMax constructor for the scene above and passed in the object literal containing the timeline&#x2019;s options:</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">var tl = new TimelineMax(tmax_options)</pre>\n\n<p>Each circle contains an <code class=\"inline\">id</code> for me to reference them by:</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">var tl = new TimelineMax(tmax_options),\n circle_top = $('#circle-top'),\n circle_bottom = $('#circle-bottom');</pre>\n\n<p>and then the <code class=\"inline\">to()</code> method is used in order to control the tween.&#xA0;</p>\n\n<pre class=\"brush: javascript noskimlinks noskimwords\">tl.to(circle_top, 1, { left: 100 })\n .to(circle_bottom, 1, { top: 100 });</pre>\n\n<p>Within <code class=\"inline\">to()</code>&#xA0;we&#x2019;re effectively saying &#x201C;use the element that&#x2019;s passed as the first argument and&#xA0;move it&#xA0;from&#xA0;the left 100px. Then use the&#xA0;<code class=\"inline\">to()</code> method chained after our first <code class=\"inline\">to()</code> method to do the same, but move that element&#xA0;from the top 100px.&#x201D;</p>\n\n<p>Take note that the circle moving from the top is&#xA0;triggered once the circle moving from the left&#xA0;has <em>completed</em> its movement (tween). We&#x2019;ll learn in upcoming tutorials how to control elements at different times and speed along the timeline using the <code class=\"inline\">position</code> parameter.</p>\n\n<h2>Next Time</h2>\n\n<p>If you&#x2019;d like to jump ahead on this animation journey feel free to head on over to the GreenSock <a href=\"https://greensock.com/get-started-js\" target=\"_self\">getting started</a> documentation. Stay tuned in for the next in the series of this animation adventure where I cover things such as labels, offsets, pauses, arguments and learning how to <a href=\"https://www.youtube.com/watch?v=KOO5S4vxi0o\" target=\"_self\">tweak options to eleven</a>. Until next time!</p></div></div>"
    }, {
        "title": "Tridiv",
        "url": "http://tridiv.com/",
        "excerpt": "Making 3D in CSS has never been easier",
        "date_saved": "Thu Jul 28 20:12:22 EDT 2016",
        "html_file": "tridiv.html",
        "png_file": "tridiv.png",
        "md_file": "tridiv.md",
        "content": "<div>\n <div class=\"section header\">\n <div id=\"logo\">\n <div class=\"anime\">\n <div class=\"box cuboid box-left\">\n <div class=\"tp selected\">\n <div class=\"handles-wrapper\">\n <div class=\"handles handles-resize\">\n \n \n \n \n \n \n \n \n </div>\n <div class=\"handles handles-rotate\">\n \n </div>\n </div>\n </div>\n \n \n </div>\n <div class=\"box cuboid box-right\">\n \n \n </div>\n </div>\n \n \n <span class=\"sub-title\">Making 3D in CSS has never been easier</span>\n \n <div id=\"backShapes\">\n <div class=\"shape pyramid1 pyr-green\">\n <div class=\"face-wrapper ft\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper bk\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper lt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper rt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face bm\">\n \n </div>\n </div>\n <div class=\"shape cylinder2 cyl-blue\">\n <div class=\"face bm\">\n \n </div>\n <div class=\"face tp\">\n \n </div>\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n <div class=\"face side s3\">\n \n </div>\n <div class=\"face side s4\">\n \n </div>\n <div class=\"face side s5\">\n \n </div>\n <div class=\"face side s6\">\n \n </div>\n <div class=\"face side s7\">\n \n </div>\n <div class=\"face side s8\">\n \n </div>\n <div class=\"face side s9\">\n \n </div>\n <div class=\"face side s10\">\n \n </div>\n <div class=\"face side s11\">\n \n </div>\n <div class=\"face side s12\">\n \n </div>\n <div class=\"face side s13\">\n \n </div>\n </div>\n <div class=\"shape prism3 pri-green\">\n <div class=\"face ft\">\n \n </div>\n <div class=\"face bk\">\n \n </div>\n <div class=\"face-wrapper rt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper lt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face bm\">\n \n </div>\n </div>\n <div class=\"shape cuboid4 cub-yellow\">\n <div class=\"face ft\">\n \n </div>\n <div class=\"face bk\">\n \n </div>\n <div class=\"face rt\">\n \n </div>\n <div class=\"face lt\">\n \n </div>\n <div class=\"face bm\">\n \n </div>\n <div class=\"face tp\">\n \n </div>\n <div class=\"cr cr-0\">\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n </div>\n <div class=\"cr cr-1\">\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n </div>\n <div class=\"cr cr-2\">\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n </div>\n <div class=\"cr cr-3\">\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n </div>\n </div>\n <div class=\"shape pyramid5 pyr-orange\">\n <div class=\"face-wrapper ft\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper bk\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper lt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face-wrapper rt\">\n <div class=\"face\">\n \n </div>\n </div>\n <div class=\"face bm\">\n \n </div>\n </div>\n <div class=\"shape cuboid6 cub-6\">\n <div class=\"face ft\">\n \n </div>\n <div class=\"face bk\">\n \n </div>\n <div class=\"face rt\">\n \n </div>\n <div class=\"face lt\">\n \n </div>\n <div class=\"face bm\">\n \n </div>\n <div class=\"face tp\">\n \n </div>\n </div>\n <div class=\"shape cylinder7 cyl-7\">\n <div class=\"face bm\">\n \n </div>\n <div class=\"face tp\">\n \n </div>\n <div class=\"face side s0\">\n \n </div>\n <div class=\"face side s1\">\n \n </div>\n <div class=\"face side s2\">\n \n </div>\n <div class=\"face side s3\">\n \n </div>\n <div class=\"face side s4\">\n \n </div>\n <div class=\"face side s5\">\n \n </div>\n <div class=\"face side s6\">\n \n </div>\n <div class=\"face side s7\">\n \n </div>\n <div class=\"face side s8\">\n \n </div>\n <div class=\"face side s9\">\n \n </div>\n <div class=\"face side s10\">\n \n </div>\n <div class=\"face side s11\">\n \n </div>\n <div class=\"face side s12\">\n \n </div>\n <div class=\"face side s13\">\n \n </div>\n </div>\n <div class=\"shape cuboid8 cub-red\">\n <div class=\"face ft\">\n \n </div>\n <div class=\"face bk\">\n \n </div>\n <div class=\"face rt\">\n \n </div>\n <div class=\"face lt\">\n \n </div>\n <div class=\"face bm\">\n \n </div>\n <div class=\"face tp\">\n \n </div>\n </div>\n </div>\n \n </div>\n <div class=\"social-buttons\">\n \n <div class=\"social-btn social-btn-hn\">\n <a href=\"https://news.ycombinator.com/submit\" class=\"hn-button\">HN</a>\n </div>\n \n <div class=\"social-btn social-btn-tw\">\n <a href=\"https://twitter.com/share\" class=\"twitter-share-button\">Tweet</a>\n </div>\n \n <div class=\"social-btn social-btn-gp\">\n \n \n </div>\n \n <div class=\"social-btn social-btn-fb\">\n <div class=\"fb-wrap\">\n \n </div>\n </div>\n </div>\n </div>\n <div class=\"container content\">\n <div class=\"row section content-intro\">\n <div class=\"content-intro-img span-s6-m6-l3\">\n <a class=\"app-screen\" href=\"http://tridiv.com/app/\">\n <img class=\"content-intro-img-screen\" src=\"http://tridiv.com/img/screens/tridiv-intro.jpg\" alt=\"Tridiv Editor\">\n </a>\n </div>\n <div class=\"content-intro-text span-s6-m6-l3\">\n <h2 class=\"content-intro-text-heading\">Tridiv is a web-based editor <br>for creating 3D shapes in CSS.</h2>\n <a class=\"btn btn-primary span-s5 app-shortcut\" href=\"http://tridiv.com/app/\">Start using the app</a>\n <a class=\"btn btn-default span-s5\" href=\"http://tridiv.com/#examples\">See examples</a>\n <div class=\"browser-icons\">\n <img class=\"browser-icon good\" src=\"http://tridiv.com/img/browser-icons/browser-icon-chrome.png\" alt=\"Run perfectly on Chrome\">\n <img class=\"browser-icon good\" src=\"http://tridiv.com/img/browser-icons/browser-icon-safari.png\" alt=\"Run perfectly on Safari\">\n <img class=\"browser-icon good\" src=\"http://tridiv.com/img/browser-icons/browser-icon-opera.png\" alt=\"Run perfectly on Opera 15+\">\n <img class=\"browser-icon none\" src=\"http://tridiv.com/img/browser-icons/browser-icon-firefox.png\" alt=\"Not Supported\">\n <img class=\"browser-icon none\" src=\"http://tridiv.com/img/browser-icons/browser-icon-ie.png\" alt=\"Not supported\">\n </div>\n </div>\n </div>\n <div id=\"examples\" class=\"row section content-examples\">\n <p class=\"section-title span-s6-m6-l6\">\n <h2>Examples</h2>\n </p>\n <a class=\"span-s6-m2-l2\" href=\"http://tridiv.com/app/index.html?dmlldz1wcmV2aWV3JmRvYz17InNldHRpbmdzIjp7Im5hbWUiOiJpUGhvbmUgNFMiLCJsaWdodCI6InN0YXRpYyIsInNoYWRlIjoiLjMiLCJ0aW50IjoiLjMiLCJib3JkZXIiOiIwIiwiYmciOiIjM2E4OWI3Iiwiem9vbSI6IjEwMCIsIm1hdGNoIjoiMC41Iiwic25hcCI6Im9mZiJ9LCJzaGFwZXMiOlt7InR5cGUiOiJjdWJvaWQiLCJ5IjoiMS4xMjUiLCJ3IjoiMTYiLCJoIjoiLjUiLCJkIjoiMzIiLCJyeSI6IjE4MCIsImNyIjoiMi41IiwiY0FsbCI6IiMzMDMwMzAiLCJuYW1lIjpbImJhY2siXSwiaUJtIjoiaHR0cDovL3RyaWRpdi5jb20vZGVtb3MvaXBob25lNFMvYmFjay5wbmcifSx7InR5cGUiOiJjdWJvaWQiLCJ3IjoiMTYuNSIsImgiOiIxLjc1IiwiZCI6IjMyLjUiLCJjciI6IjIuNjI1IiwiY0FsbCI6IiNkNGQxY2YiLCJuYW1lIjpbIm1pZCJdfSx7InR5cGUiOiJjdWJvaWQiLCJ5IjoiLTEuMSIsInciOiIxNiIsImgiOiIuNDUiLCJkIjoiMzIiLCJjciI6IjIuNSIsImNBbGwiOiIjMzAzMDMwIiwiaVRwIjoiaHR0cDovL3RyaWRpdi5jb20vZGVtb3MvaXBob25lNFMvdG9wLnBuZyIsIm5hbWUiOlsidG9wIl19LHsidHlwZSI6ImN1Ym9pZCIsIngiOiItOC4zOCIsInoiOi0xMi41LCJ3IjoiLjUiLCJoIjoiLjI1IiwiZCI6IjEuNSIsInJ4IjoiMCIsInJ6IjotOTAsImNyIjoiLjI1IiwiY0FsbCI6IiNjYmM4YzYiLCJuYW1lIjpbImxvY2siXX0seyJ0eXBlIjoiY3lsaW5kZXIiLCJ4IjoiLTguMzgiLCJ6IjoiLTkuNSIsImRpYW1ldGVyIjoiMS4yNSIsImgiOiIwLjI1IiwicnoiOi05MCwic2lkZXMiOiIxMiIsImNBbGwiOiIjY2JjOGM2IiwibmFtZSI6WyJidG4tcGx1cyJdfSx7InR5cGUiOiJjeWxpbmRlciIsIngiOiItOC4zOCIsInoiOiItNyIsImRpYW1ldGVyIjoiMS4yNSIsImgiOiIwLjI1IiwicnoiOi05MCwic2lkZXMiOiIxMiIsImNBbGwiOiIjY2JjOGM2IiwibmFtZSI6WyJidG4tbGVzcyJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4IjozLjUsInoiOiItMTYuMzgiLCJ3IjoiLjUiLCJoIjoiLjI1IiwiZCI6IjIuNzUiLCJyeCI6IjAiLCJyeSI6LTkwLCJyeiI6LTkwLCJjciI6Ii4yNSIsImNBbGwiOiIjY2JjOGM2IiwibmFtZSI6WyJwb3dlciJdfSx7InR5cGUiOiJjdWJvaWQiLCJ5IjoiLTEuMSIsInciOiIxNCIsImgiOiIuNCIsImQiOiIyMSIsImlUcCI6Imh0dHA6Ly90cmlkaXYuY29tL2RlbW9zL2lwaG9uZTRTL3NjcmVlbi5wbmciLCJuYW1lIjoiY3ViLTgifV19\">\n <img src=\"http://tridiv.com/img/screens/tridiv-iphone.jpg\" alt=\"Tridiv Editor\">\n <p>iPhone 4S <br><span class=\"example-shapes-orange\">8 shapes, 148 faces</span></p>\n </a>\n <a class=\"span-s6-m2-l2\" href=\"http://tridiv.com/app/index.html?dmlldz1wcmV2aWV3JmRvYz17InNldHRpbmdzIjp7Im5hbWUiOiJORVMiLCJsaWdodCI6InN0YXRpYyIsInNoYWRlIjoiLjQiLCJ0aW50IjoiLjE4IiwiYm9yZGVyIjoiMCIsImJnIjoiI2U4YTQyMiIsInpvb20iOiIxMDAiLCJzbmFwIjoib24iLCJtYXRjaCI6IjAuNSJ9LCJzaGFwZXMiOlt7InR5cGUiOiJjdWJvaWQiLCJ4IjotMTIuMjUsInkiOi0yLjI1LCJ3IjozLjUsImgiOjQuNSwiZCI6MjAsImNBbGwiOiIjRDNDQkM5IiwibmFtZSI6WyJ0b3AxIl19LHsidHlwZSI6ImN1Ym9pZCIsInkiOjAuNSwidyI6MjgsImgiOjEsImQiOjIwLCJjQWxsIjoiIzc0NkU3MiIsIm5hbWUiOlsibWlkQiJdfSx7InR5cGUiOiJwcmlzbSIsIngiOjEzLjI1LCJ5IjozLCJ3IjoyMCwiaCI6IjQiLCJkIjoiMS41IiwicngiOiItMTgwIiwicnkiOiI5MCIsImNBbGwiOiIjNzQ2RTcyIiwibmFtZSI6WyJhbmdsZVIiXX0seyJ0eXBlIjoicHJpc20iLCJ4IjotMTMuMjUsInkiOjMsInciOjIwLCJoIjoiNCIsImQiOiIxLjUiLCJyeCI6LTM2MCwicnkiOi05MCwicnoiOjE4MCwiY0FsbCI6IiM3NDZFNzIiLCJuYW1lIjpbImFuZ2xlTCJdfSx7InR5cGUiOiJjdWJvaWQiLCJ5IjozLCJ3IjoyNSwiaCI6NCwiZCI6MjAsImNBbGwiOiIjNzQ2RTcyIiwibmFtZSI6WyJib3R0b20iXX0seyJ0eXBlIjoiY3Vib2lkIiwieCI6MTIuMjUsInkiOi0yLjI1LCJ3IjozLjUsImgiOjQuNSwiZCI6MjAsImNBbGwiOiIjRDNDQkM5IiwibmFtZSI6WyJ0b3AzIl19LHsidHlwZSI6ImN1Ym9pZCIsIngiOjguMjUsInkiOjAuMjUsInoiOiIxMC4wNSIsInciOjQuNSwiaCI6OS41LCJkIjoiMC4xIiwiY0FsbCI6IiMyMDIyMjEiLCJuYW1lIjpbImxpbmVGVCJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4IjotMi4yNSwieSI6LTIuMjUsInoiOi0yLCJ3IjoxNi41LCJoIjo0LjUsImQiOjE2LCJjQWxsIjoiI0QzQ0JDOSIsIm5hbWUiOlsidG9wMiJdLCJjRnQiOiIjMWYxZjFmIn0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTIuMjUsInkiOi01LjUsInoiOjcuNzUsInciOjE2LjUsImgiOiIuNSIsImQiOiIzLjk1IiwicngiOjM1LjYsImNBbGwiOiIjRDNDQkM5IiwibmFtZSI6WyJkb29yVFAiXX0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTIuMjUsInkiOi0wLjUsInoiOjgsInciOjE2LjUsImgiOjEsImQiOjQsImNBbGwiOiIjRDNDQkM5IiwibmFtZSI6InRvcDExMTIxMyJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOi04LjI1LCJ5IjoyLjUsInoiOjEwLjI1LCJ3IjoyLjc1LCJoIjoxLCJkIjowLjUsImNBbGwiOiIjOGI4NDg4IiwibmFtZSI6WyJidG4xIl19LHsidHlwZSI6ImN1Ym9pZCIsIngiOi01LjI1LCJ5IjoyLjUsInoiOjEwLjI1LCJ3IjoiMi41IiwiaCI6IjEiLCJkIjoiLjUiLCJjQWxsIjoiIzhiODQ4OCIsIm5hbWUiOlsiYnRuMiJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4Ijo4LjI1LCJ5IjotMi4yNSwieiI6OCwidyI6NC41LCJoIjo0LjUsImQiOjQsImNBbGwiOiIjMjAyMjIxIiwibmFtZSI6WyJsaW5lRiJdLCJjUnQiOiIjZDNjYmM5In0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTIuMjUsInkiOi01LCJ6IjoxMC4yNSwidyI6MTYuNSwiaCI6MC41LCJkIjoiMy4yNSIsInJ4IjotNTMuOCwiY0FsbCI6IiNEM0NCQzkiLCJuYW1lIjpbImRvb3JGVCJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4IjotMTAuMjUsInkiOjIuNSwieiI6IjEwLjA1IiwidyI6Ii41IiwiaCI6Ii41IiwiZCI6Ii4xIiwiY0FsbCI6IiNlZTRiNWQiLCJuYW1lIjpbImxpZ2h0Il19LHsidHlwZSI6ImN1Ym9pZCIsIngiOi01LCJ5IjotMi41LCJ6IjoxMC41LCJ3Ijo4LjI1LCJoIjoiMS44IiwiZCI6IjkiLCJjQWxsIjoiIzkwOTA5MCIsIm5hbWUiOlsiY2FydExUIl0sImNUcCI6IiM5MDkwOTAiLCJjRnQiOiIjOTA5MDkwIiwiaVRwIjoiaHR0cDovL3RyaWRpdi5jb20vZGVtb3MvbmVzL2NhcnQtdG9wLnBuZyIsImlGdCI6Imh0dHA6Ly90cmlkaXYuY29tL2RlbW9zL25lcy9jYXJ0LWZyb250LnBuZyJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOjMuNSwieSI6LTIuNSwieiI6MTAuNSwidyI6Mi4yNSwiaCI6IjEuOCIsImQiOiI5IiwiY0FsbCI6IiM5MDkwOTAiLCJuYW1lIjpbImNhcnRSVCJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4IjowLjc1LCJ5IjotMi41LCJ6Ijo5LjI1LCJ3IjozLjI1LCJoIjoiMS44IiwiZCI6IjYuNSIsImNBbGwiOiIjOTA5MDkwIiwibmFtZSI6WyJjYXJ0TTIiXX0seyJ0eXBlIjoiY3Vib2lkIiwieCI6MC43NSwieSI6LTIuNSwieiI6MTMuNzUsInciOjMuMjUsImgiOiIwLjYiLCJkIjoiMi41IiwiY0FsbCI6IiM5MDkwOTAiLCJuYW1lIjpbImNhcnRNMSJdfSx7InR5cGUiOiJjdWJvaWQiLCJ4Ijo4LjI1LCJ5IjotMi4yNSwieiI6LTgsInciOjQuNSwiaCI6NC41LCJkIjo0LCJjQWxsIjoiIzIwMjIyMSIsIm5hbWUiOlsibGluZUJLIl0sImNSdCI6IiNkM2NiYzkifSx7InR5cGUiOiJjdWJvaWQiLCJ4Ijo4LjI1LCJ5IjotMi4yNSwidyI6NC41LCJoIjo0LjUsImQiOjEyLCJjQWxsIjoiI2I4YjBhZSIsIm5hbWUiOlsibGluZU0iXX1dfQ==\">\n <img src=\"http://tridiv.com/img/screens/tridiv-nes.jpg\" alt=\"Tridiv Editor\">\n <p>NES <br><span class=\"example-shapes-green\">21 shapes, 124 faces</span></p>\n </a>\n <a class=\"span-s6-m2-l2\" href=\"http://tridiv.com/app/index.html?dmlldz1wcmV2aWV3JmRvYz17InNldHRpbmdzIjp7ImxpZ2h0Ijoic3RhdGljIiwiYm9yZGVyIjoiMSIsImJnIjoiIzA4MTgyZiIsInNoYWRlIjoiLjQiLCJ0aW50IjoiMC4xOCIsInpvb20iOiIxMDAiLCJtYXRjaCI6IjAuNSIsInNuYXAiOiJvbiIsIm5hbWUiOiJYLXdpbmcifSwic2hhcGVzIjpbeyJ0eXBlIjoiY3Vib2lkIiwieSI6IjAuNjI1IiwieiI6MS43NSwidyI6My41LCJoIjoiMy4yNSIsImQiOjcuNSwiY0FsbCI6IiNiZmM5YzUiLCJuYW1lIjoiY3ViLTEifSx7InR5cGUiOiJwcmlzbSIsInkiOi0xLjUsInoiOjMuMjUsInciOjMuNSwiaCI6Ii45IiwiZCI6IjQuNCIsIm8iOiIuNSIsImNBbGwiOiIjMzI4NGNlIiwiY0JrIjoiIzAyMTAxZiIsImNCbSI6IiMxMjNhNWYiLCJuYW1lIjoicHJpLTEifSx7InR5cGUiOiJjdWJvaWQiLCJ5IjotMS41LCJ6IjotMC41LCJ3IjozLjUsImgiOjEsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6ImN1Yi0yIn0seyJ0eXBlIjoicHJpc20iLCJ5IjoiLTAuNjI1IiwieiI6MTAuNSwidyI6MiwiaCI6Ii43NSIsImQiOjEwLCJjQWxsIjoiI2JmYzljNSIsIm5hbWUiOiJwcmktMiJ9LHsidHlwZSI6InByaXNtIiwieCI6MS4yNSwieSI6MC41LCJ6IjoxMC41LCJ3IjoxLjUsImgiOjEsImQiOjEwLCJyeiI6IjkwIiwiY0Z0IjoiIzhiMjYyNiIsImNMdCI6IiNiZmM5YzUiLCJjUnQiOiIjYmZjOWM1IiwibmFtZSI6InByaS0zIn0seyJ0eXBlIjoicHJpc20iLCJ4IjotMS4yNSwieSI6MC41LCJ6IjoxMC41LCJ3IjoxLjUsImgiOjEsImQiOjEwLCJyeiI6MjcwLCJjQWxsIjoiI2JmYzljNSIsImNGdCI6IiM4YjI2MjYiLCJuYW1lIjoicHJpLTQifSx7InR5cGUiOiJwcmlzbSIsInkiOi0wLjI1LCJ6IjoxNywidyI6IjIiLCJoIjoiMSIsImNBbGwiOiIjYjFiYmI3IiwibmFtZSI6InByaS01In0seyJ0eXBlIjoiY3Vib2lkIiwieSI6MC43NSwieiI6MTcsInciOjIsImgiOiIxIiwiY0FsbCI6IiNiMWJiYjciLCJuYW1lIjoiY3ViLTMifSx7InR5cGUiOiJjdWJvaWQiLCJ4IjotNy43NSwieSI6LTEuNzUsInoiOi01LjUsInciOiIxMSIsImgiOiIuNSIsImQiOiI0IiwicnoiOiIxNiIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6ImN1Yi00In0seyJ0eXBlIjoicHJpc20iLCJ4IjoyLjI1LCJ5IjotMC43NSwieiI6LTYuMjUsInciOjguNSwiaCI6IjIuNSIsImQiOjEsInJ5IjoiOTAiLCJjQWxsIjoiI2JmYzljNSIsImNMdCI6IiM2NzZmNzIiLCJuYW1lIjoicHJpLTYifSx7InR5cGUiOiJwcmlzbSIsIngiOi0yLjI1LCJ5IjotMC43NSwieiI6LTYuMjUsInciOjguNSwiaCI6IjIuNSIsImQiOjEsInJ5IjoiMjcwIiwicnoiOiIwIiwiY0FsbCI6IiNiZmM5YzUiLCJjUnQiOiIjNjc2ZjcyIiwibmFtZSI6InByaS03In0seyJ0eXBlIjoicHJpc20iLCJ4IjotMi4yNSwieSI6MS43NSwieiI6LTYuMjUsInciOjguNSwiaCI6IjIuNSIsImQiOjEsInJ4IjoiMTgwIiwicnkiOjI3MCwiY0FsbCI6IiNiZmM5YzUiLCJjTHQiOiIjNjc2ZjcyIiwibmFtZSI6InByaS04In0seyJ0eXBlIjoicHJpc20iLCJ4IjoyLjI1LCJ5IjoxLjc1LCJ6IjotNi4yNSwidyI6OC41LCJoIjoiMi41IiwiZCI6MSwicngiOiIxODAiLCJyeSI6IjkwIiwiY0FsbCI6IiNiZmM5YzUiLCJjUnQiOiIjNjc2ZjcyIiwibmFtZSI6InByaS05In0seyJ0eXBlIjoiY3lsaW5kZXIiLCJ4IjotMy41LCJ5IjotMiwieiI6LTUsImRpYW1ldGVyIjoiMi41IiwicngiOiItOTAiLCJzaWRlcyI6IjgiLCJjQWxsIjoiI2E2YWZhYyIsImNUcCI6IiMyZDMxMzMiLCJuYW1lIjoiY3lsLTEifSx7InR5cGUiOiJjeWxpbmRlciIsIngiOi0zLjUsInkiOi0yLCJ6IjotMTAsImRpYW1ldGVyIjoiMS41IiwicngiOiItOTAiLCJzaWRlcyI6IjYiLCJjQWxsIjoiIzdhNzE2YiIsIm5hbWUiOiJjeWwtMiJ9LHsidHlwZSI6InByaXNtIiwieCI6LTguNzUsInkiOi0yLCJ6IjotOC41LCJ3IjowLjUsImgiOiI5IiwiZCI6MiwicnkiOjE4MCwicnoiOiI3NCIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6InByaS0xMCJ9LHsidHlwZSI6ImN5bGluZGVyIiwieCI6LTEyLjI1LCJ5IjotNCwieiI6LTUuNSwiZGlhbWV0ZXIiOiIxLjUiLCJoIjoiNiIsInJ4IjoiLTkwIiwicnkiOiIxIiwic2lkZXMiOiI2IiwiY0FsbCI6IiM4Yjk1OWEiLCJjVHAiOiIjNGY0ZjRmIiwibmFtZSI6ImN5bC0zIn0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTEyLjI1LCJ5IjotNCwieiI6MiwidyI6IjAuNCIsImgiOiIwLjQiLCJkIjoiOSIsImNBbGwiOiIjYjFiYmI3IiwibmFtZSI6ImN1Yi01In0seyJ0eXBlIjoiY3Vib2lkIiwieCI6Ny43NSwieSI6LTEuNzUsInoiOi01LjUsInciOiIxMSIsImgiOiIuNSIsImQiOiI0IiwicngiOiItMTgwIiwicnoiOiIxNiIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6ImN1Yi02In0seyJ0eXBlIjoiY3lsaW5kZXIiLCJ4IjozLjUsInkiOi0yLCJ6IjotNSwiZGlhbWV0ZXIiOiIyLjUiLCJyeCI6Ii05MCIsInNpZGVzIjoiOCIsImNBbGwiOiIjYTZhZmFjIiwiY1RwIjoiIzJkMzEzMyIsIm5hbWUiOiJjeWwtNCJ9LHsidHlwZSI6ImN5bGluZGVyIiwieCI6My41LCJ5IjotMiwieiI6LTEwLCJkaWFtZXRlciI6IjEuNSIsInJ4IjoiLTkwIiwic2lkZXMiOiI2IiwiY0FsbCI6IiM3YTcxNmIiLCJuYW1lIjoiY3lsLTUifSx7InR5cGUiOiJjeWxpbmRlciIsIngiOjEyLjI1LCJ5IjotNCwieiI6LTUuNSwiZGlhbWV0ZXIiOiIxLjUiLCJoIjoiNiIsInJ4IjotOTAsInJ5IjoiLTEiLCJzaWRlcyI6IjYiLCJjQWxsIjoiIzhiOTU5YSIsImNUcCI6IiMzNTM1MzUiLCJuYW1lIjoiY3lsLTYifSx7InR5cGUiOiJjdWJvaWQiLCJ4IjoxMi4yNSwieSI6LTQsInoiOjIsInciOiIwLjQiLCJoIjoiMC40IiwiZCI6IjkiLCJjQWxsIjoiI2IxYmJiNyIsIm5hbWUiOiJjdWItNyJ9LHsidHlwZSI6InByaXNtIiwieCI6OC43NSwieSI6LTIsInoiOi04LjUsInciOjAuNSwiaCI6IjkiLCJkIjoyLCJyeCI6Ii0xODAiLCJyeiI6IjEwNiIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6InByaS0xMSJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOi03Ljc1LCJ5IjoyLjc1LCJ6IjotNS41LCJ3IjoiMTEiLCJoIjoiLjUiLCJkIjoiNCIsInJ6IjoiLTE2IiwiY0FsbCI6IiNiZmM5YzUiLCJuYW1lIjoiY3ViLTgifSx7InR5cGUiOiJjdWJvaWQiLCJ4Ijo3Ljc1LCJ5IjoyLjc1LCJ6IjotNS41LCJ3IjoiMTEiLCJoIjoiLjUiLCJkIjoiNCIsInJ4IjoiLTE4MCIsInJ6IjoiLTE2IiwiY0FsbCI6IiNiZmM5YzUiLCJuYW1lIjoiY3ViLTkifSx7InR5cGUiOiJjeWxpbmRlciIsIngiOi0zLjUsInkiOjMsInoiOi01LCJkaWFtZXRlciI6IjIuNSIsInJ4IjoiLTkwIiwic2lkZXMiOiI4IiwiY0FsbCI6IiNhNmFmYWMiLCJjVHAiOiIjMmQzMTMzIiwibmFtZSI6ImN5bC03In0seyJ0eXBlIjoiY3lsaW5kZXIiLCJ4IjotMy41LCJ5IjozLCJ6IjotMTAsImRpYW1ldGVyIjoiMS41IiwicngiOiItOTAiLCJzaWRlcyI6IjYiLCJjQWxsIjoiIzdhNzE2YiIsIm5hbWUiOiJjeWwtOCJ9LHsidHlwZSI6ImN5bGluZGVyIiwieCI6My41LCJ5IjozLCJ6IjotMTAsImRpYW1ldGVyIjoiMS41IiwicngiOiItOTAiLCJzaWRlcyI6IjYiLCJjQWxsIjoiIzdhNzE2YiIsIm5hbWUiOiJjeWwtOSJ9LHsidHlwZSI6ImN5bGluZGVyIiwieCI6My41LCJ5IjozLCJ6IjotNSwiZGlhbWV0ZXIiOiIyLjUiLCJyeCI6Ii05MCIsInNpZGVzIjoiOCIsImNBbGwiOiIjYTZhZmFjIiwiY1RwIjoiIzJkMzEzMyIsIm5hbWUiOiJjeWwtMTAifSx7InR5cGUiOiJwcmlzbSIsInkiOiIyLjYyNSIsInoiOi0wLjUsInciOiIzLjUiLCJoIjoiLjc1IiwicnoiOiItMTgwIiwiY0FsbCI6IiNiZmM5YzUiLCJuYW1lIjoicHJpLTEyIn0seyJ0eXBlIjoiY3Vib2lkIiwieSI6MC41LCJ6IjotNi4yNSwidyI6My41LCJkIjo4LjUsImNBbGwiOiIjYmZjOWM1IiwiY0JrIjoiIzY3NmY3MiIsIm5hbWUiOiJjdWItMTAifSx7InR5cGUiOiJjeWxpbmRlciIsIngiOjEyLjI1LCJ5Ijo1LCJ6IjotNS41LCJkaWFtZXRlciI6IjEuNSIsImgiOiI2IiwicngiOiItOTAiLCJyeSI6Ii0xIiwic2lkZXMiOiI2IiwiY0FsbCI6IiM4Yjk1OWEiLCJjVHAiOiIjNGY0ZjRmIiwibmFtZSI6ImN5bC0xMSJ9LHsidHlwZSI6ImN5bGluZGVyIiwieCI6LTEyLjI1LCJ5Ijo1LCJ6IjotNS41LCJkaWFtZXRlciI6IjEuNSIsImgiOiI2IiwicngiOiItOTAiLCJyeSI6Ii0xIiwic2lkZXMiOiI2IiwiY0FsbCI6IiM4Yjk1OWEiLCJjVHAiOiIjNGY0ZjRmIiwibmFtZSI6ImN5bC0xMiJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOi0xMi4yNSwieSI6NSwieiI6MiwidyI6IjAuNCIsImgiOiIwLjQiLCJkIjoiOSIsImNBbGwiOiIjYjFiYmI3IiwibmFtZSI6ImN1Yi0xMSJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOjEyLjI1LCJ5Ijo1LCJ6IjoyLCJ3IjoiMC40IiwiaCI6IjAuNCIsImQiOiI5IiwiY0FsbCI6IiNiMWJiYjciLCJuYW1lIjoiY3ViLTEyIn0seyJ0eXBlIjoicHJpc20iLCJ4Ijo4Ljc1LCJ5IjozLCJ6IjotOC41LCJ3IjowLjUsImgiOiI5IiwiZCI6MiwicngiOiItMTgwIiwicnoiOiI3NCIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6InByaS0xMyJ9LHsidHlwZSI6InByaXNtIiwieCI6LTguNzUsInkiOjMsInoiOi04LjUsInciOjAuNSwiaCI6IjkiLCJkIjoyLCJyeSI6MTgwLCJyeiI6IjEwNiIsImNBbGwiOiIjYmZjOWM1IiwibmFtZSI6InByaS0xNCJ9LHsidHlwZSI6InByaXNtIiwieCI6LTIuMDMxMDM0NDgyNzU4NjIwNiwieSI6MC41LCJ6IjoxLjc1LCJ3IjoiMS41IiwiaCI6MC41LCJkIjo3LjUsInJ6IjoyNzAsImNBbGwiOiIjYmZjOWM1IiwiY0Z0IjoiIzhiMjYyNiIsIm5hbWUiOiJwcmktMTUifSx7InR5cGUiOiJwcmlzbSIsIngiOjIuMDMxMDM0NDgyNzU4NjIwNiwieSI6MC40ODI3NTg2MjA2ODk2NTUxNCwieiI6MS43NSwidyI6IjEuNSIsImgiOjAuNSwiZCI6Ny41LCJyeiI6IjkwIiwiY0FsbCI6IiNiZmM5YzUiLCJjRnQiOiIjOGIyNjI2IiwibmFtZSI6InByaS0xNiJ9LHsidHlwZSI6InByaXNtIiwieSI6MS43NSwieiI6MTIsInciOiIyIiwiaCI6MSwiZCI6IjEzIiwicnoiOiItMTgwIiwiY0FsbCI6IiNiZmM5YzUiLCJuYW1lIjoicHJpLTE3In0seyJ0eXBlIjoiY3Vib2lkIiwieCI6My41LCJ5IjotMiwieiI6Ii0yLjQxIiwidyI6IjIuNSIsImgiOiIwLjI1IiwiZCI6IjAuMSIsInJ6IjoiLTE2IiwiY0FsbCI6IiM5Nzk3OWIiLCJuYW1lIjoiY3ViLTEzIn0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTMuNSwieSI6Ii0yIiwieiI6Ii0yLjQxIiwidyI6IjIuNSIsImgiOiIwLjI1IiwiZCI6IjAuMSIsInJ6IjoiMTYiLCJjQWxsIjoiIzk3OTc5YiIsIm5hbWUiOiJjdWItMTQifSx7InR5cGUiOiJjdWJvaWQiLCJ4IjotMy41LCJ5IjozLCJ6IjoiLTIuNDEiLCJ3IjoiMi41IiwiaCI6IjAuMjUiLCJkIjoiMC4xIiwicnoiOiItMTYiLCJjQWxsIjoiIzk3OTc5YiIsIm5hbWUiOiJjdWItMTUifSx7InR5cGUiOiJjdWJvaWQiLCJ4IjozLjUsInkiOjMsInoiOiItMi40MSIsInciOiIyLjUiLCJoIjoiMC4yNSIsImQiOiIwLjEiLCJyeiI6IjE2IiwiY0FsbCI6IiM5Nzk3OWIiLCJuYW1lIjoiY3ViLTE2In0seyJ0eXBlIjoiY3Vib2lkIiwieCI6LTguNSwieSI6Ii0yLjMiLCJ6IjotNS4yNSwidyI6IjIuNSIsImgiOiIuMSIsImQiOiIzLjUiLCJyeiI6IjE2IiwiY0FsbCI6IiNiZmM5YzUiLCJjVHAiOiIjOGIyNjI2IiwibmFtZSI6ImN1Yi0xNyJ9LHsidHlwZSI6ImN1Ym9pZCIsIngiOiI4LjUiLCJ5IjoiLTIuMyIsInoiOi01LjI1LCJ3IjoiMi41IiwiaCI6Ii4xIiwiZCI6IjMuNSIsInJ6IjoiLTE2IiwiY0FsbCI6IiNiZmM5YzUiLCJjVHAiOiIjOGIyNjI2IiwibmFtZSI6ImN1Yi0xOCJ9XX0=\">\n <img src=\"http://tridiv.com/img/screens/tridiv-xwing.jpg\" alt=\"Tridiv Editor\">\n <p>Xwing <br><span class=\"example-shapes-red\"><strong>\u26a0</strong> 47 shapes, 297 faces</span></p>\n </a>\n </div>\n </div>\n <div class=\"section footer\">\n <div class=\"row\">\n <div class=\"span-s6-m6-l6\">\n <p>\n Concept, code and design by <a href=\"https://twitter.com/JulianGarnier\" target=\"_blanc\">Julian Garnier</a>.\n </p>\n <p>\n For questions, feedback, bugs or anything related to Tridiv, contact me on twitter <a href=\"https://twitter.com/TridivApp\" target=\"_blanc\">@TridivApp</a>.\n </p>\n <a href=\"https://twitter.com/TridivApp\" target=\"_blanc\">\n <img class=\"footer-logo\" src=\"http://tridiv.com/img/tridiv-logo-200.png\" alt=\"Tridiv logo\">\n </a>\n <p class=\"license\">\n Tridiv is licensed under <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-nd/3.0/\"></a><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-nd/3.0/\" target=\"_blanc\">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a>\n </p>\n </div>\n </div>\n </div>\n \n \n </div>\n"
    }, {
        "title": "NATS - Cloud Native, Open Source, High Performance Messaging",
        "url": "https://nats.io/",
        "excerpt": "Copyright (c) 2012&#x2013;2014 Apcera Inc. Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the&hellip;",
        "date_saved": "Thu Jul 28 20:12:24 EDT 2016",
        "html_file": "nats__cloud_native_open_source_high_performance_messaging.html",
        "png_file": "nats__cloud_native_open_source_high_performance_messaging.png",
        "md_file": "nats__cloud_native_open_source_high_performance_messaging.md",
        "content": "<div><div class=\"modal-body\">\n <p>Copyright (c) 2012&#x2013;2014 Apcera Inc.</p>\n <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &#x201C;Software&#x201D;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>\n <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>\n <p>THE SOFTWARE IS PROVIDED &#x201C;AS IS&#x201D;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>\n </div>\n \n </div>"
    }, {
        "title": "Hacking GSM Signals with an RTL-SDR and Topguw",
        "url": "http://www.rtl-sdr.com/hacking-gsm-signals-with-an-rtl-sdr-and-topguw/",
        "excerpt": "The ability to hack some GSM signals has been around for some time now, but the steps to reproduce the hack have been long and difficult to set up. Recently RTL-SDR.com reader&#xA0;Bastien wrote into&hellip;",
        "date_saved": "Thu Jul 28 20:12:25 EDT 2016",
        "html_file": "hacking_gsm_signals_with_an_rtlsdr_and_topguw.html",
        "png_file": "hacking_gsm_signals_with_an_rtlsdr_and_topguw.png",
        "md_file": "hacking_gsm_signals_with_an_rtlsdr_and_topguw.md",
        "content": "<div><div class=\"content\">\n\t\t\t\t\n\n\n<p>The ability to hack some GSM signals has been around for some time now, but the steps to reproduce the hack have been long and difficult to set up. Recently RTL-SDR.com reader&#xA0;Bastien wrote into us to let us know about his <a href=\"https://github.com/bastienjalbert/topguw\" target=\"_blank\">recently released project called Topguw</a>. Bastien&#x2019;s Topguw is a Linux based program that helps piece together all the steps required in the GSM hacking process. Although the steps are simplified,&#xA0;you will still need some knowledge of how GSM works, have installed Airprobe and Kraken, and you&#x2019;ll also need a 2TB rainbow table which keeps the barrier to this hack still quite high. Bastien writes about his software:</p>\n<blockquote>\n<div>\n<div><span>So like I said my software can &#x201C;crack&#x201D; SMS and call over GSM network. </span></div>\n<span><b>How ?</b></span></div>\n<p><span>I put <span lang=\"en\">quotation marks in crack because my software is not enough to deciphered GSM itself.</span>&#xA0;My software can make some steps of the known-plaintext attack, introduce by Karsten Nohl, and by the way, increase the time to decipher an SMS or call. I&#x2019;ll not explain here all the steps because they are long and tedious, but there is a lot of work done behind the Gui.</span></p>\n<p><span>Actually my software can extract Keystream (or try to find some of them) from a capture file of GSM, or by sniffing GSM with a rtl-sdr device. Then you just have to use Kraken to crack the key and you&#x2019;re able to decipher sms or call.</span></p>\n<p><span><strong>Why ?</strong></span></p>\n<p><span>This hack is very interesting! With only a little receiver (rtl-sdr) and some hard-disk capacity (2Tb), everyone can try to hack the GSM. It&#x2019;s very low cost compare to other hack vector. Moreover the success rate is really great if you guess the Keystream correctly. So when I started to done this with my hands I though -&gt; why don&#x2019;t try to make something to do this automatically. </span><br><span>This is how Topguw was born.</span></p>\n<p><span>Topguw, I hope, will sensitize people about risk they take by calling or sending sms with GSM.</span></p>\n<p><span>My software is currently in beta version but I did run several time and I got good results. Maybe better than something done by hand. But Topguw is made to help people who want to learn the hack. This is why several files are made to help GSM reverse-engineering.</span></p>\n</blockquote>\n<p>Topguw can be downloaded from GitHub at&#xA0;<a href=\"https://github.com/bastienjalbert/topguw\" target=\"_blank\">https://github.com/bastienjalbert/topguw</a>. Bastien has also uploaded a video showing his software in action. If you&#x2019;re interested in Bastiens&#xA0;YouTube channel as he plans to upload&#xA0;another video soon where he shows himself hacking his own GSM sms/call signals.</p>\n\n<div class=\"container-lazyload preview-lazyload container-youtube\"><a class=\"lazy-load-youtube preview-lazyload preview-youtube\" href=\"https://www.youtube.com/watch?v=--VIisKqVYk\" title='Play Video \"GSM Hacking - easier than ever with Topguw\"'>https://www.youtube.com/watch?v=&#x2013;VIisKqVYk</a></div>\n\n<p>Of course remember that&#xA0;hacking into GSM signals is very illegal and if you do&#xA0;this then you&#xA0;must check the legality of doing so in your country and only receive your own messages or messages&#xA0;that are intended for you.</p>\n\n\n\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t\t</div>"
    }, {
        "title": "Blog",
        "url": "http://gobot.io/blog/2015/10/27/gobot-0.10-less-is-more/",
        "excerpt": "We've just released the new 0.10 version of Gobot, our open source robotics and Internet of Things (IoT) framework written in the Go programming language. This new version incorporates many changes&hellip;",
        "date_saved": "Thu Jul 28 20:12:27 EDT 2016",
        "html_file": "blog.html",
        "png_file": "blog.png",
        "md_file": "blog.md",
        "content": "<div><div class=\"article\">\n \n <p>We've just released the new 0.10 version of Gobot, our open source robotics and Internet of Things (IoT) framework written in the Go programming language.\n This new version incorporates many changes and community contributions to make Gobot much faster, leaner. And of course, add lots more hardware support.</p>\n \n <p>We've got a list of the new changes below, but if you want to see the gory details, please check out the compare view on <a href=\"https://github.com/hybridgroup/gobot/compare/0.8.0...0.10\">GitHub</a>.</p>\n \n <h2 id=\"what-happened-to-the-09-release\">What Happened To The 0.9 Release?</h2>\n \n <p>There were so many important changes, especially ones worked on by the amazing participants at the \"sold-out\" <a href=\"http://www.gophercon.com/\">Gophercon</a> <a href=\"https://www.eventbrite.com/e/gophercon-gobot-hardware-hackday-tickets-17696426488\">hardware hackday</a>, that we decided to hold off on that version, and instead go right on to this new 0.10 release.</p>\n \n <h2 id=\"changelog\">Changelog</h2>\n \n <ul>\n <li><strong>Refactor core to cleanup robot initialization and shutdown</strong></li>\n <li><strong>Remove unnecessary goroutines spawned by NewEvent</strong></li>\n <li>\n<strong>api</strong>\n \n </li>\n <li>\n<strong>bebop</strong>\n <ul>\n <li>Add support for the Parrot Bebop drone</li>\n </ul>\n </li>\n <li>\n<strong>keyboard</strong>\n <ul>\n <li>Add support for keyboard control</li>\n </ul>\n </li>\n <li>\n<strong>gpio</strong>\n <ul>\n <li>Support added for 10 new Grove GPIO devices:\n <ul>\n <li>Grove Touch Sensor</li>\n <li>Grove Sound Sensor</li>\n <li>Grove Button</li>\n <li>Grove Buzzer</li>\n <li>Grove Led</li>\n <li>Grove Light Sensor</li>\n <li>Grove Vibration Sensor</li>\n <li>Grove Rotary</li>\n <li>Grove Relay</li>\n <li>Grove Temperature Sensor</li>\n </ul>\n </li>\n </ul>\n </li>\n <li>\n<strong>i2c</strong>\n <ul>\n <li>Support added for 2 new Grove i2c devices:\n <ul>\n <li>Grove Accelerometer</li>\n <li>Grove LCD with RGB backlit display</li>\n </ul>\n </li>\n </ul>\n </li>\n <li>\n<strong>gort</strong>\n <ul>\n <li>Update <code>bluetooth</code> Linux support for BlueZ 5.x</li>\n <li>Bugfixes</li>\n </ul>\n </li>\n <li>\n<strong>docs</strong>\n <ul>\n <li>Many useful fixes and updates for docs, mostly contributed by our wonderful community.</li>\n </ul>\n </li>\n </ul>\n \n <h2 id=\"contributors\">Contributors</h2>\n \n <p>So many people helped with this release, both formally via code or documentation contributions, as well as helpful feedback, comments, and hallway chats. Gobot could not be what it is without all of us in this community working together. We really appreciate it!</p>\n \n <h2 id=\"issues\">Issues</h2>\n \n <p>As always, if you find any issues with the new Gobot release, please let us know by entering a <a href=\"https://github.com/hybridgroup/gobot/issues\">GitHub issue</a> and we'll get back to you as soon as possible. We're also around on IRC (#gobotio on freenode) as much as we can be.</p>\n \n \n \n <p>To stay informed on our rapid progress, please follow us on Twitter at <a href=\"http://twitter.com/gobotio\">@gobotio</a>, as our team and contributors continue our work together.</p>\n \n </div>\n </div>"
    }, {
        "title": "The HTTP/2 web server with automatic HTTPS",
        "url": "https://caddyserver.com/",
        "excerpt": "HTTP/2 It's time for a faster web. Caddy supports HTTP/2 right out of the box. No thought required. Automatic HTTPS Caddy uses Let's Encrypt to serve your sites over HTTPS without any hassle.&hellip;",
        "date_saved": "Thu Jul 28 20:12:28 EDT 2016",
        "html_file": "the_http2_web_server_with_automatic_https.html",
        "png_file": "the_http2_web_server_with_automatic_https.png",
        "md_file": "the_http2_web_server_with_automatic_https.md",
        "content": "<div><div class=\"grid-container features\">\n\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-rocket\"></i> HTTP/2</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tIt's time for a faster web. Caddy supports HTTP/2 right out of the box. No thought required.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-lock\"></i> Automatic HTTPS</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCaddy uses <a href=\"https://letsencrypt.org/\">Let's Encrypt</a> to serve your sites over HTTPS without any hassle. Supports <a href=\"http://en.wikipedia.org/wiki/Server_Name_Indication\" title=\"Server Name Indication\">SNI</a>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-cloud-upload\"></i> Easy Deployment</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCaddy is a single executable with no dependencies. Any platform.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-tachometer\"></i> Multi-core</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tWhen the going gets tough, Caddy gets going on more CPUs.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-cogs\"></i> WebSockets</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCaddy can pipe stdin and stdout from any program to WebSocket clients.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-file-text\"></i> Markdown</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tServe Markdown documents rendered on-the-fly as HTML.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-globe\"></i> IPv6</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tRuns full well in an IPv6 environment.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-edit\"></i> Logging</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCaddy takes copious notes according to your favorite log format.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-server\"></i> FastCGI</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tServe PHP by proxying requests to FastCGI servers like php-fpm.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-tags\"></i> Headers</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tSend custom response headers just by adding a line to your <a href=\"https://caddyserver.com/docs/caddyfile\">Caddyfile</a>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-exchange\"></i> Reverse Proxy</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tForward requests to other endpoints with reverse proxy and load balancing.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-random\"></i> Rewrites &amp; Redirects</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tRewrite requests internally or configure HTTP redirects.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-sun-o\"></i> Clean URLs</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tElegantly serve files without needing the extension in the URL.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-file-zip-o\"></i> Gzip</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCompress responses to save bandwidth.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-folder-o\"></i> Directory Browsing</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tList the contents of folders according to your own template.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-25\">\n\t\t\t\t\t\t<h3><i class=\"fa fa-sitemap\"></i> Virtual Hosts</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tServe multiple sites from the same address with a single <a href=\"https://caddyserver.com/docs/caddyfile\">Caddyfile</a>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\t\t\t\t</div>\n\n\t\t\t\t</div>"
    }, {
        "title": "Fuzzing with american fuzzy lop",
        "url": "http://lwn.net/Articles/657959/",
        "excerpt": "In September 2014 a serious security vulnerability that became known as Shellshock was found in Bash, which is the default shell in most Linux distributions. But it quickly turned out that the&hellip;",
        "date_saved": "Thu Jul 28 20:12:30 EDT 2016",
        "html_file": "fuzzing_with_american_fuzzy_lop.html",
        "png_file": "fuzzing_with_american_fuzzy_lop.png",
        "md_file": "fuzzing_with_american_fuzzy_lop.md",
        "content": "<div><div class=\"ArticleText\">\n\n<p>In September 2014 a <a href=\"http://lwn.net/Articles/614218/\">serious security\nvulnerability</a> that became known as Shellshock was found in Bash, which\nis the default shell in most Linux distributions. But it quickly turned out\nthat the initial fix for Shellshock was incomplete. Various other related\nbugs were \nfound only days after the publication, amongst them <a href=\"http://lcamtuf.blogspot.dk/2014/10/bash-bug-how-we-finally-cracked.html\">two\nsevere vulnerabilities discovered by Micha&#x142; Zalewski</a> from the Google\nsecurity team. In the blog post, Zalewski mentioned that he had found these\nbugs with a fuzzing tool that he wrote, which almost nobody knew back then: <a href=\"http://lcamtuf.coredump.cx/afl/\">american fuzzy lop (afl)</a>. It was the beginning of a remarkable success story.</p>\n\n<p>Fuzzing is an old technique to find bugs in software. The basic idea is\nsimple: just feed an application lots of input data with randomly\nintroduced errors in it and see if anything happens that would indicate a\nbug. The easiest thing to watch for is a crash. If an application crashes\nfrom invalid input, it is often a sign of an invalid memory access&#x2014;a <a href=\"https://en.wikipedia.org/wiki/Buffer_overflow\">buffer overflow</a>,\nfor example. And these often are security vulnerabilities.</p>\n\n<h4>Between dumb and template-based fuzzers</h4>\n\n<p>In the past, most fuzzing tools fell into two categories: \"dumb\" fuzzers\nthat take a valid input and only modify it randomly, and template-based\nfuzzing tools that are specific to a certain input data format. Both have\ntheir limitations. While dumb fuzzers can still be surprisingly successful,\nthey will only find the most obvious bugs because they have no knowledge\nabout the underlying data format. Template-based fuzzers can find more\nbugs, but creating them is a lot of work. They have to be adapted for every\nkind of input data they are applied to.</p> \n\n<p>American fuzzy lop tries a new strategy. To use it, the first step is to\nrecompile an application with a special compiler wrapper that adds\nassembly instrumentation code to the binary. Both Clang and GCC are supported. This instrumentation allows the fuzzer itself (<tt>afl-fuzz</tt>) to observe\nthe code paths that a certain input file will trigger. If <tt>afl-fuzz</tt>\nfinds an \ninput sample that triggers a new code path, it uses that sample as a\nstarting point for further fuzzing.</p> \n\n<p>This strategy causes <tt>afl-fuzz</tt> to reach a high level of code coverage for its testing. At some point, the fuzzing process may transform an input file into one that has a certain rarely used feature enabled. The fuzzer will detect that a new code path has been triggered and the fuzzing process will create further input files that use that code path and may find bugs there. The big advantage is that the person using the fuzzing tool doesn't need to have any knowledge about this rarely used feature. The fuzzer will just find that out for itself.</p>\n\n<h4>Magically creating JPEG headers</h4>\n\n<p>An experiment by Zalewski shows how remarkably successful this strategy\ncan be. He used a bogus file to start the fuzzing process on the <tt>djpeg</tt>\ntool that comes with <a href=\"http://libjpeg.sourceforge.net/\">libjpeg</a>. After a while the <a href=\"http://lcamtuf.blogspot.com/2014/11/pulling-jpegs-out-of-thin-air.html\">fuzzer\nautomatically created input files</a> that contained a valid JPEG\nheader. This does not mean that it's advisable to start a fuzzing\nprocess with bogus files. It saves time to start the fuzzing process with a\nvalid input file. In addition, this will likely not work in all situations. For\nexample, the fuzzer is unable to create large string sequences by\nchance.</p> \n\n<p>American fuzzy lop has been responsible for the discovery of bugs and\nsecurity vulnerabilities in many important free software package, including\nsecurity-sensitive software like OpenSSL, GnuPG, and OpenSSH. Some of the\nvulnerabilities in the Android media framework, Stagefright, that were\nrecently <a href=\"https://www.blackhat.com/docs/us-15/materials/us-15-Drake-Stagefright-Scary-Code-In-The-Heart-Of-Android.pdf\">discovered\nby Joshua Drake [PDF]</a> were attributed to it. In order to do this, Drake\nhad to port Stagefright to Linux, since it was designed to only run on\nAndroid. More recently, two denial-of-service issues (<a href=\"https://kb.isc.org/article/AA-01287\">CVE-2015-5722</a> and\n<a href=\"https://kb.isc.org/article/AA-01272/0/CVE-2015-5477%3A-An-error-in-handling-TKEY-queries-can-cause-named-to-exit-with-a-REQUIRE-assertion-failure.html\">CVE-2015-5477</a>), which would allow attackers to remotely crash DNS servers using BIND, were also found by american fuzzy lop.</p>\n\n<p>Apart from finding new bugs, some people have experimented to see if\namerican fuzzy lop would have been able to find certain already known bugs\nthat were believed to be hard to discover. I was able to <a href=\"https://blog.hboeck.de/archives/868-How-Heartbleed-couldve-been-found.html\">rediscover\nthe Heartbleed bug</a> by fuzzing the handshake of an old, vulnerable\nversion of OpenSSL. One notable aspect of the bug was that it\ninvolved the heartbeat extension of TLS, which is a feature that almost nobody\nknew about \nbefore Heartbleed hit the news. Codenomicon, the company that found\nHeartbleed, also used a fuzzing tool, but their fuzzer had prior knowledge\nof the heartbeat extension and specifically targeted it with bogus\ninputs. In my experiment, I used no knowledge about this specific\nextension. American fuzzy lop was able to generate the correct handshake\npacket that would contain the extension, together with the data that would\ntrigger Heartbleed, within six hours.</p> \n\n<p>Another example of a hindsight finding was a <a href=\"https://www.openssl.org/news/secadv/20150108.txt\">bug in the OpenSSL\nfunction <tt>BN_sqr()</tt></a>, which is used to square large numbers\n(bignums). With \nsome inputs, it would produce wrong results due to an error in the carry\npropagation. These inputs were rare corner cases&#x2014;only one out of 2^128\ninput numbers would trigger that bug. Testing with random inputs would\nnever have led to the discovery of such a bug. However, Ralf-Philipp\nWeinmann was able to rediscover this bug with the help of american fuzzy\nlop. In a <a href=\"https://www.blackhat.com/us-15/briefings.html#assessing-and-exploiting-bignum-vulnerabilities\">talk\ngiven at the Black Hat conference</a> in Las Vegas, he presented a small\ntesting application that would compare the output of the squaring with the\nresult of multiplying a number by itself. By definition these two\ncalculations should produce the same output, so the application would give\nan assertion error if the results differed. Using that test program to\nrecognize when <tt>BN_sqr()</tt> failed, american fuzzy\nlop was able to find an input that triggered the bug within an hour.</p> \n\n<p>Although interesting, these results should be interpreted with caution. It is obviously easy to find a bug if one knows where to look. But they still indicate that even bugs that seem hard to find without code analysis may be susceptible to fuzz testing.</p>\n\n<h4>Easy to use and free software</h4>\n\n<p>Its novel fuzzing strategy is not the only reason for the success of\namerican fuzzy lop. Two factors that likely play a major role are that the\ncode is openly available under a free license&#x2014;it uses the Apache 2\nlicense&#x2014;and that the tool is relatively easy to use. This separates it from\nmany other tools in the security area. Lots of commercial tools only target a limited audience, because they are expensive or not available to the public at all. And IT security tools from the academic world often have the reputation of being hard to install and even harder to use without a background in the corresponding field.</p>\n\n<p>Zalewski puts a high value on the usability of his tool and often implements recommendations from its users. While the first versions were very cumbersome to use, this has changed dramatically. Also, by now packages for it are available for most Linux distributions and BSD systems. A package for Mac OS&#xA0;X is also available. Currently, there is no version of american fuzzy lop for Windows or for Android.</p>\n\n<p>To use american fuzzy lop, one first needs to recompile an application\nwith the compiler wrapper shipped with afl (afl-gcc/afl-g++ or\nafl-clang/afl-clang++). The fuzzer needs a command-line tool that takes an\ninput file. In most cases, libraries ship some small tools that allow\nparsing input files and should be suitable.\n\n</p><p>\nWhen compiling libraries, it's often advisable to statically link the\nlibrary against the shipped tools, which will avoid having to do library\npreloading when running the executable. With software using the GNU\nautotools, this can usually be achieved with the <tt>configure</tt>\nparameter <tt>--disable-shared</tt>. Therefore the <tt>configure</tt> call\nshould look something like this:</p>\n\n<pre>\n ./configure --disable-shared CC=afl-gcc CXX=afl-g++\n</pre>\n\n<p>Next, the user needs one or more sample input files. It is usually\nadvisable to create small input files; if possible, they shouldn't be\nlarger than a few kilobytes. These need to be put into a directory. Then\nstart the fuzzing:</p> \n\n<pre>\n afl-fuzz -i [input_directory] -o [output_directory] ./[executable_to_fuzz] @@\n</pre>\n\n<p>The command <tt>afl-fuzz</tt> will replace <tt>@@</tt> with the fuzzed\ninputs. If there is no <tt>@@</tt> in the command line, the input will be\npassed via the standard input (stdin).</p>\n\n<h4>AddressSanitizer finds more memory access bugs</h4>\n\n<p>There are many more options and variants in how to use afl. One notable\nfeature is the ability to combine the fuzzing with the use of a compiler\nfeature called <a href=\"https://en.wikipedia.org/wiki/AddressSanitizer\">AddressSanitizer</a>\n(ASan), which is part of the GCC and Clang compilers and can be enabled\nwith the parameter <tt>-fsanitize=address</tt>. It adds detection code for\ninvalid memory accesses to an executable. Many memory access bugs, such as out-of-bounds reads or use-after-free errors, often don't cause an application to crash. With normal fuzzing, they would pass by unnoticed. AddressSanitizer changes that and stops the application execution on every read or write to an invalid memory location. In american fuzzy lop, the use of AddressSanitizer can be enabled by setting the <tt>AFL_USE_ASAN</tt> environment variable to 1.</p>\n\n<p>There are, however, some caveats. While AddressSanitizer is remarkably\nfast compared to other similar tools like Valgrind, it still slows down the\nexecution significantly. It is therefore sometimes suggested to run the\nfuzzing process without it. The queue directory generated by\n<tt>afl-fuzz</tt> contains all the input samples it considered interesting\nbecause they triggered new code paths. These can then be manually tested\nwith an ASan-compiled version of the software.\n\n</p><p>\nAddressSanitizer allocates a huge amount of virtual memory&#x2014;on 64-bit\nsystems, several terabytes. As it is only virtual memory and only small\nparts of it are actually used, this doesn't stop it from working. But\namerican fuzzy lop limits the memory for its tested applications. One easy\nway to work around this is to disable the memory limit of <tt>afl-fuzz</tt>\n(using the parameter <tt>-m&#xA0;none</tt>). In rare cases, this could lead\nto system instabilities because some inputs may cause an application to use\nlarge amounts of memory. American fuzzy lop also ships a more elegant\nsolution that limits the memory via control groups (cgroups).</p> \n\n<h4>Network fuzzing is a challenge</h4>\n\n<p>The biggest limitation of american fuzzy lop is that it only supports\nfile inputs. In many cases, the most interesting pieces of code from a\nsecurity perspective are the parsers for networking functions. Sometimes\nthis limitation can be worked around. In the Heartbleed experiment mentioned earlier, it was possible to create a small <a href=\"https://github.com/hannob/selftls\">tool for the OpenSSL handshake</a> that would take a raw network packet on the command line and swap it with parts of the real handshake. This was possible because the OpenSSL API allows doing a handshake, without any real network connection, just by passing buffers between different contexts. But in many other situations it is not that easy.</p>\n\n<p>Some attempts have been made to intercept networking functions by preloading a library with <tt>LD_PRELOAD</tt> that would then use a file input and pass it as networking input to an application. One such attempt, called <a href=\"https://github.com/zardus/preeny\">Preeny</a>, is publicly available. However, these attempts turned out to be relatively fragile and only work on a small fraction of real-world applications. Combining american fuzzy lop with network fuzzing in a way that works on a wide variety of applications is still an open challenge.</p>\n\n<p>An active community has built a number of <a href=\"https://github.com/mirrorer/afl/blob/master/docs/sister_projects.txt\">extensions\nand additional tools</a> that can be used alongside american fuzzy\nlop. There are variants for Python, Rust, and Go, a special QEMU mode that\nallows fuzzing binary applications on Linux without having access to the\nsource code, and many more. The developers of the LLVM compiler framework\nhave implemented a <a href=\"http://blog.llvm.org/2015/04/fuzz-all-clangs.html\">special fuzzing\nmode for libraries</a> that borrows several ideas from american fuzzy\nlop.</p>\n\n<p>\nThe origin of the name american fuzzy lop&#x2014;a rabbit breed&#x2014;can be traced\nback to an earlier tool Zalewski wrote: <a href=\"http://code.google.com/p/bunny-the-fuzzer/\">Bunny the\nFuzzer</a>. \"<span>Bunny wasn't particularly great, but when I decided to\nrevisit \nthe idea many years later, I felt that it's appropriate to allude to that\nin some way</span>\", Zalewski <a href=\"https://groups.google.com/forum/#!topic/afl-users/wRoLaG73rG4\">wrote</a>\nin a post to the afl-users mailing list. \n\n</p><p>American fuzzy lop has helped redefine and revive the technique of\nfuzzing. In combination with AddressSanitizer, it is a powerful method to\nimprove the quality of software and to find a lot of hidden and otherwise\nhard-to-find bugs. It has its limitations, but the biggest limitation is\nprobably that it is not used widely enough yet. Almost every piece of\nsoftware written in C or C++ that takes input from potentially dangerous\nsources can and should be tested using american fuzzy lop.</p>\n\n<p>[The author started <a href=\"https://fuzzing-project.org/\">The Fuzzing\nProject</a> last year, in an effort to fuzz as many free software applications as possible. His work for The Fuzzing Project is supported by the Linux Foundation's <a href=\"https://www.coreinfrastructure.org/\">Core Infrastructure Initiative</a>.]</p>\n (<a href=\"https://lwn.net/login?target=/Articles/657959/\">Log in</a> to post comments)\n </div> \n</div>"
    }, {
        "title": "Khan/KaTeX",
        "url": "https://github.com/Khan/KaTeX",
        "excerpt": "KaTeX is a fast, easy-to-use JavaScript library for TeX math rendering on the web. Fast: KaTeX renders its math synchronously and doesn't need to reflow the page. See how it compares to a competitor&hellip;",
        "date_saved": "Thu Jul 28 20:12:32 EDT 2016",
        "html_file": "khankatex.html",
        "png_file": "khankatex.png",
        "md_file": "khankatex.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>KaTeX is a fast, easy-to-use JavaScript library for TeX math rendering on the web.</p>\n\n<ul class=\"task-list\">\n<li>\n<strong>Fast:</strong> KaTeX renders its math synchronously and doesn't need to reflow the page. See how it compares to a competitor in <a href=\"http://jsperf.com/katex-vs-mathjax/\">this speed test</a>.</li>\n<li>\n<strong>Print quality:</strong> KaTeX&#x2019;s layout is based on Donald Knuth&#x2019;s TeX, the gold standard for math typesetting.</li>\n<li>\n<strong>Self contained:</strong> KaTeX has no dependencies and can easily be bundled with your website resources.</li>\n<li>\n<strong>Server side rendering:</strong> KaTeX produces the same output regardless of browser or environment, so you can pre-render expressions using Node.js and send them as plain HTML.</li>\n</ul><p>KaTeX supports all major browsers, including Chrome, Safari, Firefox, Opera, and IE 8 - IE 11.</p>\n\n<h2>\n<a name=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/Khan/KaTeX#usage\"></a>Usage</h2>\n\n<p>Download the built files from <a href=\"https://github.com/khan/katex/releases\">the releases page</a>. Include the <code>katex.min.js</code> and <code>katex.min.css</code> files on your page:</p>\n\n<div class=\"highlight highlight-html\"><pre><span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text/css\"</span> <span class=\"na\">href=</span><span class=\"s\">\"/path/to/katex.min.css\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"/path/to/katex.min.js\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n</pre></div>\n\n<p>Call <code>katex.render</code> with a TeX expression and a DOM element to render into:</p>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">katex</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"s2\">\"c = \\\\pm\\\\sqrt{a^2 + b^2}\"</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">);</span>\n</pre></div>\n\n<p>To generate HTML on the server, you can use <code>katex.renderToString</code>:</p>\n\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">html</span> <span class=\"o\">=</span> <span class=\"nx\">katex</span><span class=\"p\">.</span><span class=\"nx\">renderToString</span><span class=\"p\">(</span><span class=\"s2\">\"c = \\\\pm\\\\sqrt{a^2 + b^2}\"</span><span class=\"p\">);</span>\n<span class=\"c1\">// '&lt;span class=\"katex\"&gt;...&lt;/span&gt;'</span>\n</pre></div>\n\n<p>Make sure to include the CSS and font files, but there is no need to include the JavaScript.</p>\n\n<h2>\n<a name=\"user-content-contributing\" class=\"anchor\" href=\"https://github.com/Khan/KaTeX#contributing\"></a>Contributing</h2>\n\n<p>See <a href=\"https://github.com/Khan/KaTeX/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a></p>\n\n<h2>\n<a name=\"user-content-license\" class=\"anchor\" href=\"https://github.com/Khan/KaTeX#license\"></a>License</h2>\n\n<p>KaTeX is licenced under the <a href=\"http://opensource.org/licenses/MIT\">MIT License</a>.</p></article>\n </div>"
    }, {
        "title": "iiSeymour/chromote",
        "url": "https://github.com/iiSeymour/chromote",
        "excerpt": "Simple wrapper to drive Google Chrome from Python using the Remote Debugging Protocol 1.1 API https://developer.chrome.com/devtools/docs/protocol/1.1/index Example Run Google Chrome with remote&hellip;",
        "date_saved": "Thu Jul 28 20:12:33 EDT 2016",
        "html_file": "iiseymourchromote.html",
        "png_file": "iiseymourchromote.png",
        "md_file": "iiseymourchromote.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Simple wrapper to drive Google Chrome from Python using the Remote Debugging Protocol 1.1 API</p>\n\n<p><a href=\"https://developer.chrome.com/devtools/docs/protocol/1.1/index\">https://developer.chrome.com/devtools/docs/protocol/1.1/index</a></p>\n\n<h2><a id=\"user-content-example\" class=\"anchor\" href=\"https://github.com/iiSeymour/chromote#example\"></a>Example</h2>\n\n<p>Run Google Chrome with remote debugging enabled <code>google-chrome -remote-debugging-port=9222</code>:</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;&gt;</span> <span class=\"pl-k\">from</span> chromote <span class=\"pl-k\">import</span> Chromote\n<span class=\"pl-k\">&gt;&gt;&gt;</span> chrome <span class=\"pl-k\">=</span> Chromote()\n<span class=\"pl-k\">&gt;&gt;&gt;</span> chrome\nChromote(<span class=\"pl-smi\">host</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-smi\">port</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">9222</span>)\n<span class=\"pl-k\">&gt;&gt;&gt;</span> <span class=\"pl-k\">print</span> chrome\n[Chromote(<span class=\"pl-smi\">tabs</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)]\n<span class=\"pl-k\">&gt;&gt;&gt;</span> tab <span class=\"pl-k\">=</span> chrome[<span class=\"pl-c1\">0</span>]\n<span class=\"pl-k\">&gt;&gt;&gt;</span> <span class=\"pl-k\">print</span> tab\nGoogle <span class=\"pl-k\">-</span> https:<span class=\"pl-k\">//</span>www.google.co.uk<span class=\"pl-k\">/</span>\n<span class=\"pl-k\">&gt;&gt;&gt;</span> tab.reload()\n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>{\"result\":<span class=\"pl-c1\">{}</span>,\"id\":1}<span class=\"pl-pds\">'</span></span>\n<span class=\"pl-k\">&gt;&gt;&gt;</span> tab.set_url(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://github.com/chromote<span class=\"pl-pds\">'</span></span>)\n<span class=\"pl-s\"><span class=\"pl-pds\">'</span>{\"id\":2,\"result\":<span class=\"pl-c1\">{}</span>}<span class=\"pl-pds\">'</span></span>\n<span class=\"pl-k\">&gt;&gt;&gt;</span> tab.evaluate(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alert(\"Remotey\");<span class=\"pl-pds\">'</span></span>)</pre></div>\n\n<h2><a id=\"user-content-remote-browser-control\" class=\"anchor\" href=\"https://github.com/iiSeymour/chromote#remote-browser-control\"></a>Remote Browser Control</h2>\n\n<p>The remote debugging port binds to localhost only so using Chromote with a remote\nmachine like a dashboard/kiosk setup will require tunneling to the machine first.</p>\n\n<p>On the remote machine start Chrome:</p>\n\n<pre><code>$ chromium-browser &lt;DASHBOARD-URL&gt; --incognito --kiosk -remote-debugging-port=9222\n</code></pre>\n\n<p>On the local machine set up a tunnel to map the remote debug port to 9222 on localhost:</p>\n\n<pre><code>$ ssh remote-machine -L 9222:localhost:9222\n</code></pre>\n\n<p>You than can drive the browsers from a Python script:</p>\n\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> time <span class=\"pl-k\">import</span> sleep\n<span class=\"pl-k\">from</span> chromote <span class=\"pl-k\">import</span> Chromote\n\nchrome <span class=\"pl-k\">=</span> Chromote()\ntab <span class=\"pl-k\">=</span> chrome.tabs[<span class=\"pl-c1\">0</span>]\n\nsites <span class=\"pl-k\">=</span> [\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://github.com<span class=\"pl-pds\">'</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://stackoverflow.com<span class=\"pl-pds\">'</span></span>,\n]\n\n<span class=\"pl-k\">while</span> <span class=\"pl-c1\">True</span>:\n <span class=\"pl-k\">for</span> site <span class=\"pl-k\">in</span> sites:\n tab.set_url(site)\n sleep(<span class=\"pl-c1\">30</span>)</pre></div>\n</article>\n </div>"
    }, {
        "title": "Monitor and Control Applications Using Supervisor: Part 2 - Tuts+ Code Tutorial",
        "url": "http://code.tutsplus.com/tutorials/monitor-and-control-applications-using-supervisor-part-2--cms-24236",
        "excerpt": "In the first part of this two-part tutorial series, we saw to set up and control Supervisor to work with our web applications. In this part, we will see how we can programmatically control Supervisor&hellip;",
        "date_saved": "Thu Jul 28 20:12:35 EDT 2016",
        "html_file": "monitor_and_control_applications_using_supervisor_part_2__tuts_code_tutorial.html",
        "png_file": "monitor_and_control_applications_using_supervisor_part_2__tuts_code_tutorial.png",
        "md_file": "monitor_and_control_applications_using_supervisor_part_2__tuts_code_tutorial.md",
        "content": "<div><div class=\"post-body__content\"><p>In the <a href=\"http://code.tutsplus.com/tutorials/monitor-and-control-applications-using-supervisor-part-1--cms-23770\" rel=\"external\" target=\"_blank\">first</a> part of this two-part tutorial series, we saw to set up and control Supervisor to work with our web applications. In this part, we will see how we can programmatically control Supervisor processes remotely via the&#xA0;<a href=\"http://supervisord.org/api.html\" rel=\"external\" target=\"_blank\">XML-RPC API</a>.</p><h2>Getting Started</h2><p>In the previous part, we saw that Supervisor provides a web-based GUI which allows us to remotely control the processes with the help of a few clicks. Below is a screenshot of this GUI&#xA0;for the application we created in the previous part:</p><figure class=\"post_image\"><img alt=\"Supervisor\" src=\"https://cms-assets.tutsplus.com/uploads/users/665/posts/24236/image/Screen%20Shot%202015-06-22%20at%2010.42.17%20am.png\"></figure><p>A question immediately starts ringing in the brain. What if it were possible to control the Supervisor processes programmatically? This would open up a lot of possibilities where processes can be started or stopped conditionally rather than having them run indefinitely or controlling them manually by clicking buttons or running terminal commands. This is very much possible using the XML-RPC API provided by Supervisor.</p><h2>The XML-RPC API</h2><p>The API itself is pretty straightforward and easy to use. We saw that the HTTP server for Supervisor runs on port 9001 by default. The same can be used to connect using any XML-RPC library. In the case of Python, we can simply use the built-in <code class=\"inline\">xmlrpclib</code>. Assuming that the Supervisor server runs on&#xA0;<a href=\"http://localhost:9001/\" rel=\"external\" target=\"_blank\">http://localhost:9001/</a>:</p><pre class=\"brush: python noskimlinks noskimwords\">&gt;&gt;&gt; import xmlrpclib\n&gt;&gt;&gt; server = xmlrpclib.Server('http://localhost:9001/RPC2')</pre><p>To check the current state of the Supervisor server, run:</p><pre class=\"brush: python noskimlinks noskimwords\">&gt;&gt;&gt; server.supervisor.getState()\n{'statename': 'RUNNING', 'statecode': 1}</pre><p>The server daemon can be restarted and stopped by:</p><pre class=\"brush: python noskimlinks noskimwords\">&gt;&gt;&gt; server.supervisor.restart()\n&gt;&gt;&gt; server.supervisor.shutdown()</pre><p>Similarly, the list of all available methods can be fetched by:</p><pre class=\"brush: python noskimlinks noskimwords\">&gt;&gt;&gt; server.system.listMethods()</pre><p>The <a href=\"http://supervisord.org/api.html\" rel=\"external\" target=\"_blank\">API reference</a> provided in the&#xA0;Supervisor documentation is pretty clean and self-explanatory. Going ahead in this tutorial, I will cover an example of how to control the processes based on a condition, and also how we can extend this API in order to implement our own methods.</p><h2>Controlling Processes Using the API<br>\n</h2><p>Lets say we want a start a new&#xA0;process to send an email&#xA0;every time an action is performed by some user. (There are many ways of doing this, and maybe this is not the best one, but I am just using it as an example to demonstrate this). Let's say the name of this process as defined in&#xA0;<code class=\"inline\">supervisord.conf</code> is <code class=\"inline\">send_mail</code>.</p><pre class=\"brush: python noskimlinks noskimwords\">if user.action_performed:\n server.supervisor.startProcess('send_email')</pre><p>Similarly, we can also trigger automatic&#xA0;restarting of&#xA0;the <code class=\"inline\">supervisord</code> server daemon in case we have a code change in our application.</p><pre class=\"brush: python noskimlinks noskimwords\">if app.code_change():\n server.supervisor.restart()</pre><p>This API can similarly be applied to countless such instances.&#xA0;</p><h2>Extending the XML-RPC API</h2><p>We can not only use the standard API methods provided by Supervisor but also write our own methods, extending the API by using the XML-RPC interface factories. This can simply be done by adding a new <code class=\"inline\">[rpcinterface:x]</code>&#xA0;section in&#xA0;<code class=\"inline\">supervisord.conf</code>.</p><pre class=\"brush: python noskimlinks noskimwords\">[rpcinterface:custom]\nsupervisor.rpcinterface_factory = my_interface:make_custom_rpcinterface</pre><p>Now I will create a small custom interface for the same in a file named <code class=\"inline\">my_interface.py</code>.</p><pre class=\"brush: python noskimlinks noskimwords\">from supervisor.rpcinterface import SupervisorNamespaceRPCInterface\n\n\nclass CustomRPCInterface:\n def __init__(self, supervisord):\n self.supervisord = supervisord\n self.retries = 3\n\n def startProcessOrRetry(self, name, wait=True):\n interface = SupervisorNamespaceRPCInterface(self.supervisord)\n retry = 0\n\n while not interface.startProcess(name) or retry &lt; self.retries:\n retry = retry + 1\n \n \n# this is not used in code but referenced via an entry point in the conf file\ndef make_custom_rpcinterface(supervisord):\n return CustomRPCInterface(supervisord)</pre><p>Above, I have created a method which when called will retry the process three times in case of failure to start.</p><h2>Conclusion</h2><p>In this tutorial series, we learnt how to use Supervisor to monitor and control our applications. We also saw how we can use the Web UI and XML-RPC Interface for the same. Finally, the XML-RPC interface is extended in order to leverage the power of Supervisor to our benefit.</p></div></div>"
    }, {
        "title": "Nodejs MVC Framework",
        "url": "http://adonisjs.com/",
        "excerpt": "Stable version 2.0 Adonis is a true MVC framework for Nodejs with basics done right. It borrows the concept the of Service providers from popular PHP framework Laravel to write scalable applications&hellip;",
        "date_saved": "Thu Jul 28 20:12:37 EDT 2016",
        "html_file": "nodejs_mvc_framework.html",
        "png_file": "nodejs_mvc_framework.png",
        "md_file": "nodejs_mvc_framework.md",
        "content": "<div>\n\n\t<div class=\"__main\">\n \n <div class=\"__wrapper\">\n <div class=\"__banner\">\n <div class=\"banner__content\">\n <div class=\"inner__grid\">\n <img src=\"http://adonisjs.com/images/logo_white.svg\">\n \n \n <small>Stable version 2.0</small>\n </div>\n </div>\n </div>\n </div>\n\n\n \n \n \n\n \n\t<div class=\"inner__grid about__container\">\n\t\t<div class=\"__section\">\n\t\t\t<div class=\"__about\">\n\t\t\t\t<div class=\"about__text\">\n\t\t\t\t\t\n\t\t\t\t\t<p>Adonis is a true MVC framework for Nodejs with basics done right. It borrows the concept the of Service providers from popular PHP framework Laravel to write scalable applications and also leverage the power of ES6 to make your code expressive and maintainable.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"about__graphic\">\n <div class=\"code__shell\">\n \n <div class=\"shell__content\">\n<pre class=\"language-javascript line-numbers\">\n<code>\nRoute.get('/', 'HomeController.index')\n\n// Define controller\nclass HomeController {\n\n _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy index (request, response) {\n response.send('Whufff, i am using adonis')\n }\n\n}\n</code>\n</pre>\n </div>\n </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n <div class=\"__section\">\n <div class=\"inner__grid\">\n \n </div>\n </div>\n\n\n\n \n\t</div>\n\n \n \n </div>\n\n\n"
    }, {
        "title": "Looking at open source PaaS technologies",
        "url": "https://gdstechnology.blog.gov.uk/2015/10/27/looking-at-open-source-paas-technologies/",
        "excerpt": "I&#x2019;ve been working on a prototype of what a Platform as a Service (PaaS) for government might look like, as we wrote about in a previous post. One of the first things we did was look at the&hellip;",
        "date_saved": "Thu Jul 28 20:12:39 EDT 2016",
        "html_file": "looking_at_open_source_paas_technologies.html",
        "png_file": "looking_at_open_source_paas_technologies.png",
        "md_file": "looking_at_open_source_paas_technologies.md",
        "content": "<div><div class=\"entry-content\">\n <p>I&#x2019;ve been working on a prototype of what a Platform as a Service (PaaS) for government might look like, as we wrote about in <a href=\"https://gds.blog.gov.uk/2015/09/08/building-a-platform-to-host-digital-services/\">a previous post</a>. One of the first things we did was look at the open source PaaS options that were available. This post is about how we did that and what we learned.</p>\n<p><img src=\"https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2015/10/comparison_of_PAASes-1024x614.jpg\" alt=\"Comparison table of PaaS\" width=\"620\" class=\"alignnone size-large wp-image-1258\"></p>\n<h2>The open source options we considered</h2>\n<p>We looked at a range of proprietary and open source options. In this post, I am focusing on open source. This is because much of the information we learned about the proprietary options was shared in commercial confidence. I&#x2019;ll talk more about the proprietary options we considered and how we compared them in a later post.</p>\n<h2>Exploring the options</h2>\n<p>PaaS is a very fast-moving field at the moment and there are a lot of options. The first thing we did was take some time individually within the team to identify which options were worth investigating. We based that on previous experience, things we&#x2019;d read about, and further research online. We were around eight people on the team, so we had a lot to draw on.</p>\n<p>It&#x2019;s not always the case that you are comparing like-for-like with PaaS technologies. For example, <a href=\"https://www.cloudfoundry.org/\">Cloud Foundry</a> is a fully-featured PaaS, whereas <a href=\"http://mesos.apache.org/\">Mesos</a> is a cluster-management system. While Mesos on its own has a number of PaaS features, it didn&#x2019;t meet a combination of the criteria \"developer self-service\" and \"multi-tenancy\" (e.g. no authentication, access control).</p>\n<p>I wanted to investigate Mesos as it&#x2019;s an interesting technology, so we looked at ways to combine it with other technologies who offer those features. We chose combinations of technologies based on what we found to be common combinations. In this example, you can see we looked at both <a href=\"http://mesos.apache.org/\">Mesos</a> + <a href=\"http://aurora.apache.org/\">Aurora</a>, and <a href=\"http://mesos.apache.org/\">Mesos</a> + <a href=\"https://mesosphere.github.io/marathon/\">Marathon</a> + <a href=\"https://mesos.github.io/chronos/\">Chronos</a> (Mesosphere). </p>\n<p>At this stage, we ruled out things that we didn&#x2019;t think were worth investigating further (for example, they were nowhere near production-ready) and worked out some combinations that made sense to look more into. </p>\n<p>The longlist of technologies we investigated is:</p>\n\n<h2>Our selection criteria</h2>\n<p>In our previous post I outlined the four main criteria we&#x2019;d identified from our user research: a PaaS would have to be multi-tenant, self-service, allow application developer support and be able to run on multiple public clouds. This had already allowed us to rule out some technologies (for example, a number of PaaS technologies only run on AWS). We also had some further must-have criteria. The complete list of our selection criteria is below:</p>\n<p><em>Must haves:</em></p>\n<ul>\n<li>Multi-vendor capabilities</li>\n<li>Developer self-service model</li>\n<li>Support for scaling application instances with ease (elastic scaling, manual, self serve)</li>\n<li>Support for Linux</li>\n<li>Ability to choose application language</li>\n<li>Ability to recover from failure of all hosts</li>\n<li>Ability to maximise the application availability during underlying host failure</li>\n<li>Zero downtime deploys</li>\n<li>Some multi-tenancy capabilities</li>\n<li>Access to raw stdout / stderr logs</li>\n</ul>\n<p><em>Investigation points</em></p>\n<ul>\n<li>What is involved in deploying applications to this PaaS?</li>\n<li>How easy is the maintenance/operation for the team maintaining the platform?</li>\n<li>Is there a hosted option available?</li>\n<li>Could the unit of deployment be used without the PaaS?</li>\n<li>How well documented is the PaaS? Do they keep their documentation up to date?</li>\n<li>What type of multi-tenancy support is offered?</li>\n<li>Is there commercial support/consulting available?</li>\n<li>What different levels of access permissions does the PaaS support?</li>\n<li>Is it open source?</li>\n<li>Does the PaaS provide any database service?</li>\n<li>What is the language/tech?</li>\n<li>What APIs are available to enable application developers to manage their own applications?</li>\n<li>Is this technology production-ready now?</li>\n<li>Is there a cost associated with this and what is it?</li>\n<li>How do we get data on which application is using which resources?</li>\n<li>Is it possible to back up data from the PaaS itself?</li>\n</ul>\n<p><a href=\"https://twitter.com/pbansley\">Brett Ansley</a>, our business analyst, wrote these up very clearly and with acceptance criteria to clarify what we were looking for. For example, for zero downtime deploys:</p>\n<p>Given: an application that is receiving requests<br>\nWhen: a new version of the application is deployed<br>\nThen: there is no downtime of the application.</p>\n<h2>Comparing against our selection criteria</h2>\n<p>We then split into pairs and each pair took a technology in turn to evaluate it. <a href=\"https://twitter.com/dancarley\">Dan Carley</a>, our tech lead, outlined some consistent steps to take in each investigation so that we could be sure each pair was investigating in the same way. For example, to investigate high availability:</p>\n<ul>\n<li>High availability (if self-hosted)</li>\n<li>Kill one of the hosts (if self-hosted)</li>\n<li>Repeat HTTPS requests to application endpoints</li>\n<li>Confirm that we have the same number of workers</li>\n<li>Restore host</li>\n</ul>\n<p>Each pair spun up the technology they were using and investigated it. As they found the answer to each of the selection criteria, they marked it on the whiteboard (main photograph) so we (and any passers-by) could clearly see how we were progressing and which technologies had what. If any technology failed a must-have, the investigation would stop; otherwise it was time-boxed to two days.</p>\n<h2>Multi-tenancy</h2>\n<p>The overview of what we learned about each can be seen from the photograph of the whiteboard above, and is summarised in <a href=\"https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2015/10/Consolidated-evalution-of-PaaS-Technologies-Sheet1.csv\">this spreadsheet</a>. It&#x2019;s worth noting that the spreadsheet is slightly more up-to-date than the photograph of the board; for example Rancher and Tsuru were late entries, and some answers were updated with more information that we learned later.</p>\n<p>One thing that I found particularly interesting was that multi-tenancy is not a feature of many of these technologies. For example, Kubernetes and Mesos, two widely used and interesting technologies, do not support multi-tenancy. There&#x2019;s no way to ensure that a team of developers can administer only their application and not the applications of another team. This meant that they were not suitable for our purposes.</p>\n<h2>The tech that meets our needs</h2>\n<p>After going through this process of looking at and comparing a number of open source PaaS solutions, the clear front-runners were Deis, Tsuru, and Cloud Foundry. The next stage was to investigate these three technologies more and choose one to build a prototype. This has helped us with user research, which we'll share more on later. In the meantime, we hope sharing what we&#x2019;ve learnt about these technologies is useful to you, and do let us know your thoughts in the comments below.</p>\n<p>You can <a href=\"https://twitter.com/annashipman\">follow Anna on Twitter</a>, <a href=\"https://public.govdelivery.com/accounts/UKGOVUK/subscriber/new?topic_id=UKGOVUK_7538\">sign up now for email updates from this blog</a> or <a href=\"https://gdstechnology.blog.gov.uk/feed/atom/\">subscribe to the feed</a>.</p>\n<blockquote class=\"noquotes\"><p>If this sounds like a good place to work, take a look at <a href=\"https://gds.blog.gov.uk/working-for-gds/\">Working for GDS</a> - we're usually in search of talented people to come and join the team.</p></blockquote>\n </div>\n </div>"
    }, {
        "title": "Tesla.js",
        "url": "http://teslajs.com/",
        "excerpt": "Features Installation Prerequisites Installing Tesla Quick Start Setup Options Basic Settings MVC Scaffolding HTML Templating Engines CSS Pre-Processors Front-End Tools",
        "date_saved": "Thu Jul 28 20:12:41 EDT 2016",
        "html_file": "teslajs.html",
        "png_file": "teslajs.png",
        "md_file": "teslajs.md",
        "content": "<div><section class=\"content\">\n\n <nav class=\"docs\">\n\n <h3><a href=\"http://teslajs.com/#features\">Features</a></h3>\n <h3><a href=\"http://teslajs.com/#installation\">Installation</a></h3>\n\n <h4><a href=\"http://teslajs.com/#prerequisites\">Prerequisites</a></h4>\n <h4><a href=\"http://teslajs.com/#installing-tesla\">Installing Tesla</a></h4>\n\n <h3><a href=\"http://teslajs.com/#quick-start\">Quick Start</a></h3>\n\n <h3><a href=\"http://teslajs.com/#setup-options\">Setup Options</a></h3>\n <h4><a href=\"http://teslajs.com/#basic-settings\">Basic Settings</a></h4>\n <h5><a href=\"http://teslajs.com/#mvc-scaffolding\">MVC Scaffolding</a></h5>\n <h5><a href=\"http://teslajs.com/#html-templating-engines\">HTML Templating Engines</a></h5>\n <h5><a href=\"http://teslajs.com/#css-pre-processors\">CSS Pre-Processors</a></h5>\n\n <h4><a href=\"http://teslajs.com/#front-end-tools\">Front-End Tools</a></h4>\n <h5><a href=\"http://teslajs.com/#javascript-application-frameworks\">JavaScript Application Frameworks</a></h5>\n <h5><a href=\"http://teslajs.com/#javascript-libraries\">JavaScript Libraries</a></h5>\n <h5><a href=\"http://teslajs.com/#css-frameworks\">CSS Frameworks</a></h5>\n\n <h4><a href=\"http://teslajs.com/#real-world-examples\">Real World Examples</a></h4>\n\n <h4><a href=\"http://teslajs.com/#all-tesla-cli-options\">All Tesla CLI Options</a></h4>\n\n <h3><a href=\"http://teslajs.com/#configuration\">Configuration</a></h3>\n <h4><a href=\"http://teslajs.com/#default-config-file\">Default Config File</a></h4>\n <h4><a href=\"http://teslajs.com/#environmental-settings\">Environmental Settings</a></h4>\n <h4><a href=\"http://teslajs.com/#development-environment-example\">Dev Environment Example</a></h4>\n\n\n <h3><a href=\"http://teslajs.com/#routing\">Routing</a></h3>\n\n <h3><a href=\"http://teslajs.com/#working-with-data\">Working with Data</a></h3>\n <h4><a href=\"http://teslajs.com/#models\">Models</a></h4>\n <h4><a href=\"http://teslajs.com/#controllers\">Controllers</a></h4>\n\n <h3><a href=\"http://teslajs.com/#views\">Views</a></h3>\n\n <h3><a href=\"http://teslajs.com/#troubleshooting\">Troubleshooting</a></h3>\n <h4><a href=\"http://teslajs.com/#updatenpm-bower-or-gulp\">Update NPM, Bower or Gulp</a></h4>\n <h4><a href=\"http://teslajs.com/#cleaning-npm-and-bower-cache\">Cleaning NPM &amp; Bower cache</a></h4>\n\n <h3><a href=\"http://teslajs.com/#deployment-section\">Deploying</a></h3>\n <h4><a href=\"http://teslajs.com/#heroku-quick-deployment\">Heroku</a></h4>\n <h3><a href=\"http://teslajs.com/#credits\">Credits</a></h3>\n\n</nav>\n\n <section id=\"about-section\" class=\"doc-section\">\n\n \n \n\n <p>Tesla is a modern MVC style framework built on top of <a href=\"http://nodejs.org/\">Node.js</a> and <a href=\"http://expressjs.com/\">Express</a>. It's built to be fast, simple and easy to configure, with sane defaults and flexible boilerplates to get you up and running as quickly as possible.</p>\n\n</section>\n\n <section id=\"features-section\" class=\"doc-section\">\n\n <a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n <h2 id=\"features\">Features</h2>\n\n <section class=\"feature-box\">\n <h4>MVC</h4>\n <p>Simple but useful MVC structure with optional scaffolding that can auto-create models, controllers &amp; even a simple JSON API for you. Models use Node-ORM so you&#x2019;re not tied to a specific database.</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Auto-routing</h4>\n <p>If your url&#x2019;s follow a domain.com/controller/action/:id or domain.com/view/index format, there&#x2019;s no need to create any custom routing. Tesla will attempt to automatically load the controller/view if it can find it, and throw a 404 if it&#x2019;s not.</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Flexible Templates</h4>\n <p>You can choose from EJS, Handlebars, Hogan, Jade or Mustache for templates. Less, Sass &amp; Stylus are available for css pre-processors.</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Boilerplates</h4>\n <p>Tesla uses a combination of npm and bower to help create some useful boilerplates when setting up a new app. You can choose to have Tesla add things like jQuery, AngularJS, Foundation, etc. to your view templates automatically when it creates the project.</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Auto-watch &amp; LiveReload</h4>\n <p>Tesla utilizes the Gulp task runner to watch for file changes, restarting the server when necessary. It also comes with LiveReload out of the box to auto refresh your browser when files change.</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Socket.io</h4>\n <p>Tesla has Socket.io built right in, so if you need to work with Websockets there's no setup or configuration needed, it just works!</p>\n </section>\n\n <section class=\"feature-box\">\n <h4>Easy Configuration</h4>\n <p>Almost all of the server settings (port number, database settings, etc.) can be easily updated in the config file.</p>\n </section>\n\n</section>\n\n \n<section id=\"installation-section\" class=\"doc-section\">\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"installation\">Installation</h2>\n\n\n<h4 id=\"prerequisites\">Prerequisites:</h4>\n\n<p><a href=\"http://nodejs.org/\">Node.js</a> &amp; <a href=\"https://npmjs.org/\">NPM</a> are the only absolute requirements, but it's highly recommended that you install <a href=\"http://gulpjs.com/\">Gulp</a> as well:</p>\n\n<pre class=\"code\"><code>$ npm install gulp -g\n</code></pre>\n\n<p>While it's not required, Tesla is configured to use Gulp for the majority of it's tasks. If you have any trouble installing it, refer to the <a href=\"https://github.com/gulpjs/gulp/blob/master/README.md#gulp---\">Gulp documentation</a> for help.</p>\n\n<h4 id=\"installing-tesla\">Install Tesla</h4>\n\n<p>Once you have NPM up &amp; running, getting Tesla installed is pretty painless:</p>\n\n<pre class=\"code\"><code>$ npm install tesla-cli -g\n</code></pre>\n\n\n<h4 id=\"installing-tesla\">Update Tesla</h4>\n<code class=\"code-inline\">$ npm update tesla-cli -g</code>\n\n</section>\n\n \n<section id=\"quick-start-section\" class=\"doc-section\">\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"quick-start\">Quick Start</h2>\n\n\n<p>Now that you have the command-line tool installed, you can create your first app:</p>\n\n<pre class=\"code\"><code>$ tesla mysite\n</code></pre>\n\n<p>This will create a new barebones site with the name \"mysite\". Next, install dependencies:</p>\n\n<pre class=\"code\"><code>$ cd mysite &amp;&amp; npm install\n</code></pre>\n\n<p>Start the server:</p>\n\n<pre class=\"code\"><code>$ gulp\n</code></pre>\n\n<p>Once the server has started, simply point your browser to: <a href=\"http://localhost:1856\">http://localhost:1856</a></p>\n\n<p>If you choose not to use Gulp, you can start the server by running <code class=\"code-inline\">node server.js</code>. But using Gulp gives you some extras such as livereload, and watching for changes your files &amp; restarting the server whenever necesary.</p>\n\n</section>\n\n\n<section id=\"setup-section\" class=\"doc-section\">\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"setup-options\">Setup Options</h2>\n\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h3 id=\"basic-settings\">Basic Settings</h3>\n\n<p>As you've seen, firing up a basic barebones site is pretty easy, but it's also a bit boring. Tesla is a lot more powerful than that, and it comes with a number of options that lets you create a boilerplate site with much more useful features</p>\n\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"mvc-scaffolding\">MVC Scaffolding</h5>\n\n<p>Tesla includes a generator that will do the dirty work of creting &amp; linking controllers, models &amp; views for you. Let's say you have a databse of users that you want to interact with:</p>\n\n<pre class=\"code\"><code>$ tesla generate user\n</code></pre>\n\n<p>This one command will give you basic CRUD functionality via a very simple JSON api. See the <a href=\"http://teslajs.com/#working-with-data\">working with data</a> section for more info on scaffolding as well as working with models, controllers &amp; views.</p>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"html-templating-engines\">HTML templating engines</h5>\n\n<p>By default, Tesla use Jade for HTML templates, but it supports 5 different templating languages: </p>\n\n<p>Options:</p>\n\n\n\n<p>Example:</p>\n\n<pre class=\"code\"><code>$ tesla myapp --html handlebars\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"css-pre-processors\">CSS pre-processors</h5>\n\n<p>The default setting will just use plain ol' regular CSS. But if you want to use a css preprocessor, you have three options:</p>\n\n<p><strong>Options:</strong></p>\n\n\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"code\"><code>$ tesla myapp --css stylus\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"css-helper-libraries\">CSS helper libraries</h5>\n\n<p><strong>Options:</strong></p>\n\n\n\n\n<h5>NOTE: These helper libraries aren't fully tested yet, so please report any bugs you may find.</h5>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n\n\n<p>Tesla utilizes Bower to let you quickly add many of your favorite front-end tools such as jQuery, Angular or Bootstrap. If you select any of these options, the package(s) will be added to your bower file, and any javascript or css dependencies will automatically added to the default views.</p>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"javascript-application-frameworks\">JavaScript Application Frameworks</h5>\n\n<p><strong>Options:</strong></p>\n\n<ul>\n<li><code class=\"code-inline\">--angular</code> <a href=\"http://angularjs.org/\">AngularJS</a></li>\n<li><code class=\"code-inline\">--backbone</code> <a href=\"http://backbonejs.org/\">Backbone.js</a></li>\n<li><code class=\"code-inline\">--ember</code> <a href=\"http://emberjs.com/\">Ember.js</a></li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"code\"><code>$ tesla myapp --backbone\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"javascript-libraries\">JavaScript Libraries</h5>\n\n<p><strong>Options:</strong></p>\n\n<ul>\n<li><code class=\"code-inline\">--jquery</code> <a href=\"http://jquery.org/\">jQuery</a></li>\n<li><code class=\"code-inline\">--modernizr</code> <a href=\"http://modernizr.com/\">Modernizr</a></li>\n<li><code class=\"code-inline\">--zepto</code> <a href=\"http://zeptojs.com/\">Zepto.js</a></li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"code\"><code>$ tesla myapp --zepto\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"css-frameworks\">CSS Frameworks</h5>\n\n<p><strong>Options:</strong></p>\n\n\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"code\"><code>$ tesla myapp --gumby\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h3 id=\"real-world-examples\">Real World Examples:</h3>\n\n<p>You can combine any number of the above options to customize your application to your liking:</p>\n\n<p><strong>Example 01: Create an app called foobar that uses EJS, Sass, AngularJS, &amp; jQuery</strong></p>\n\n<pre class=\"code\"><code>$ tesla foobar --html ejs --css sass --angular --jquery\n</code></pre>\n\n<p><strong>Example 02: Create an app called coil using Handlebars, Stylus, Axis, Foundation, Ember &amp; jQuery</strong></p>\n\n<pre class=\"code\"><code>$ tesla coil --html handlebars --css stylus --axis --foundation --ember --jquery\n</code></pre>\n\n<h4 id=\"all-tesla-cli-options\">All Tesla CLI Options:</h4>\n\n<p>Below is a reference listing all of the available options for the command-line tool:</p>\n\n<pre class=\"code\">Usage: tesla [options]\n\nOptions:\n\n// BASIC SETTINGS\n-H, --html &lt;engine&gt; templating engine: (ejs|handlebars|hogan|jade|mustache) (defaults to Jade)\n-C, --css &lt;engine&gt; add stylesheet support (less|sass|stylus) (defaults to vanilla css)\n-V, --version output the version number\n-F, --force force on non-empty directory\n\n// PRE-PROCESSOR LIBRARIES\n--axis add Axis support for Stylus\n--bourbon add Bourbon support for Sass\n--nib add Nib support for Stylus\n\n// FE FRAMEWORKS\n--angular add support for AngularJS\n--backbone add support for BACKBONE.JS\n--ember add support for Ember.js\n\n// JS LIBRARIES\n--jquery add support for jQuery\n--modernizr add support for Modernizr\n--zepto add support for Zepto.js\n\n// CSS FRAMEWORKS\n--bootstrap add support for Bootstrap\n--foundation add support for Foundation\n--gumby add support for Gumby\n--skeleton add support for Skeleton\n\n// OTHER SETTINGS\ngenerate &lt;name&gt; generate new model + controller with basic CRUD functionality\nstart start the web server (still a bit buggy, best just just run \"gulp\" for now)\n</pre>\n</section>\n\n \n<section id=\"configuration-section\" class=\"doc-section\">\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"configuration\">Configuration</h2>\n\n\n<p>All configuration for Tesla is specified in the <a href=\"http://teslajs.com/config/\">config</a> folder, particularly the <a href=\"http://teslajs.com/config/_settigs.js\">config.js</a> file and the <a href=\"http://teslajs.com/config/environment/\">env</a> files. This is where you will need to specify your application name, database connection, and any other settings you would like to customize.</p>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"efault-config-file\">Default config file: <a href=\"http://teslajs.com/config/_settigs.js\">config.js</a></h5>\n\n<p>Most default settings can be set &amp; updated here:</p>\n\n<pre class=\"code\"><code>app.site = {\n name : \"tesla.js\", // the name of your app\n}\n\napp.config = app.site = {\n name : \"tesla-js\", // the name of you app\n}\n\napp.config = {\n port : 1856, // port to run the server on\n\n prettify : {\n html : true, // whether to pretify html\n css : true, // whether to pretify css\n js : true // whether to pretify js\n },\n\n cache : false, // whether to use caching\n\n api : {\n enabled : true,\n format : 'json',\n access : '*'\n },\n\n engines : {\n html: \"hbs\", // options: [jade|ejs|haml|hjs|jshtml]\n css: \"stylus\", // options: [stylus|sass|less]\n cssLibrary: false, // options: [nib|axis]\n },\n root : rootPath,\n\n db : {\n url : \"mongodb://<user>:<pass>@mongohq.com:10074/dbname\", // url to database\n driver: \"mongodb\"\n },\n\n jsonp : true, // allow jsonp requests\n secret : 'MYAPPSECRET',\n protocol : 'http://',\n autoLoad : true, // whether to attempt autoload controllers\n publicDir : './public',\n\n logging : {\n console: true, // whether to allow tesla to log messages to the node console\n files: false // this doesn't do anything yet\n }\n}\n}\n</pass></user></code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h3 id=\"environmental-settings\">Environmental Settings</h3>\n\n<p>To run with a different environment, just specify NODE_ENV as you call gulp:</p>\n\n<pre class=\"code\"><code>$ NODE_ENV=test gulp\n</code></pre>\n\n<p>If you are using node instead of gulp, it is very similar:</p>\n\n<pre class=\"code\"><code>$ NODE_ENV=test node server\n</code></pre>\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h5 id=\"development-environment-example\">Example config file for \"development\" environment: <a href=\"http://teslajs.com/config/environment/development.js\">config/environment/development.js</a></h5>\n\n<pre class=\"code\"><code>// GET IP / DOMAIN\nvar interfaces = os.networkInterfaces();\nvar addresses = [];\nfor (k in interfaces) {\n for (k2 in interfaces[k]) {\n var address = interfaces[k][k2];\n if (address.family == 'IPv4' &amp;&amp; !address.internal) {\n addresses.push(address.address)\n }\n }\n}\n\nvar tesla = require('../../lib/tesla')(app);\n\n// global settings\napp.site.domain = addresses[0];\napp.site.environment = \"development\";\napp.site.url = app.config.protocol + app.site.domain + ':' + app.config.port + '/'; // base url\n\n// directories\napp.site.dir = {\n css : app.site.url + \"css/\",\n img : app.site.url + \"img/\",\n lib : app.site.url + \"lib/\",\n js : app.site.url + \"js/\"\n};\n</code></pre>\n\n</section>\n\n \n<section id=\"routing-section\" class=\"doc-section\">\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"routing\">Routing</h2>\n\n\n<p>Tesla comes with an automatic routing system which should save you the trouble of manually creating routes for your site 99% of the time. The routing is based on the following URI structure:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/controller/action/:id\n</code></pre>\n\n<p>Let's say you called the following url:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/foo/bar\n</code></pre>\n\n<p>The router will attempt to find a matching controller in this order:</p>\n\n<ol>\n<li>app/controllers/fooController.js</li>\n<li>app/controllers/foo/indexController.js</li>\n<li>app/controllers/foo/barController.js </li>\n</ol>\n\n<p>If it does not find a matching controller, it will use <em>app/controllers/autoController.js</em> and attempt to load one of the following views as a last resort:</p>\n\n<ol>\n<li>app/views/foo.js</li>\n<li>app/views/foo/index.js</li>\n<li>app/views/foo/bar.js </li>\n<li>app/views/foo/bar/index.js </li>\n</ol>\n\n\n<p>If it's unable to find a matching controller or view, the router will throw a 404 error.</p>\n\n\n<h3>Custom Routes</h3>\n<p>If the default url scheme doesn't work for your site, you can easily create your own custom routes.</p>\n\n<p>Routes are configured in the <em>app/routes</em> directory. The default router as well as a few sample routes can be found in: <a href=\"http://teslajs.com/app/routes/_setup.js\">app/routes/_setup.js</a></p>\n\n<h4>HELLO WORLD</h4>\n\n<p>This is one of thie simplest routes. If you receive a request to domain.com/hello/world, it will load <a href=\"http://teslajs.com/app/controllers/hello/worldController.js\">app/controllers/hello/worldController</a>.</p>\n\n<pre class=\"code\"><code>app.get(\"/hello/world\", function(req, res) {\n require(controllers + 'hello/worldController')(app, res, res);\n});\n</code></pre>\n\n\n<h4>FOO BAR</h4>\n\n<p>This example loads the controller directly, and lets it handle its own routing. Take a look at <a href=\"http://teslajs.com/app/controllers/fooController.js\">app/controllers/fooController</a> if you're curious how it works.</p>\n\n<pre class=\"code\"><code>require(controllers + 'fooController')(app);</code></pre>\n\n\n<h4>DYNAMIC ROUTING</h4>\n\n<p>This example shows how you can use dynamic routing to create RESTful CRUD style urls:</p>\n\n<pre class=\"code\"><code>// EXAMPLE OF CRUD STYLE ROUTER &amp; CONTROLLER\napp.get(\"/:controller/:action/:id?\", function(req, res) {\n require(controllers + req.params.controller + 'Controller')[req.params.action](app, req, res);\n});</code></pre>\n\n<p>If you have Tesla running, try hitting the following URL's in your browser:</p>\n\n\n\n<p>Have a look at <a href=\"http://teslajs.com/app/controllers/crudController.js\">app/controllers/crudController</a> if you're curious how it works.</p>\n\n\n\n</section>\n\n \n<section id=\"working-with-data-section\" class=\"doc-section\">\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"working-with-data\">Working with data</h2>\n\n\n<p>Working with data &amp; creating models in Tesla is super easy. It takes only 2 steps:</p>\n\n<p><strong>1. Add your database:</strong><br> To work with data make sure you set the URL for your database (config.db.url) in the <a href=\"https://github.com/teslajs/tesla.js/blob/master/config/_settigs.js\">config file</a>.</p>\n\n<p><strong>2. Generate a new model:</strong><br> let's say you have a collection called \"user\" you want to use with your app, all you need to do is run the following command:</p>\n\n<pre class=\"code\"><code>$ tesla generate user</code></pre>\n\n<p>This will create 2 new files for you:\n</p><ul>\n<li>app/models/userModel.js</li>\n<li>app/controllers/userController.js</li>\n</ul>\n\n\n<br>\n\n<h4 id=\"models\">Models</h4>\n\n<p>As long as your databse URL is set properly, this is all you need to do. However, you will almost certainly want to open up your new model and define the schema for your database table/collection.</p>\n\n<p>In this file, you will see a block that looks something like this:</p>\n\n<pre class=\"code\"><code>var Model = db.define(\"user\", {\n created : { type: \"date\", time: true },\n updated : { type: \"date\", time: true }\n // _id : { type: \"text\" },\n // name : { type: \"text\", required: true },\n // isAdmin : { type: \"boolean\", defaultValue: false },\n}, {\n validations: {\n // EXAMPLE VALIDATIONS\n // password: orm.enforce.security.password('luns5', 'Passowrd does not meet min security requirements.'),\n // email: orm.enforce.patterns.email('Please enter a valid email address.')\n // More Options : https://github.com/dresende/node-enforce\n }\n});\n</code></pre>\n\n<p>This is wehere you will define what fields you want to be able to access. In the example above, this model only has access to \"created\" and \"updated\" fields. But it's almost certain that you will need to add more fields than this. There are a few commented out examples included to get you started.</p>\n\n<p>Tesla uses <a href=\"https://github.com/dresende/node-orm2\" target=\"_blank\">Node-ORM</a> to provide basic ORM functionality &amp; databse abstraction. For more info on definifing models &amp; validations, <a href=\"https://github.com/dresende/node-orm2/wiki\" target=\"_blank\">have a look at the ORM wiki</a>.</p>\n\n<p>Once you have your schema setup, that should be about all you need to do with the model in most cases. But feel free to muck about further down in the file if you need to do some more customization.</p>\n\n<h4 id=\"controllers\">Controllers</h4>\n\n<p>By default, Tesla will serve up your data via a RESTful JSON api. If this is the result you want, you shouldn't need to make any changes to the generated controller. You get the following URI scheme by default:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/user/all // retrieve all records\nhttp://localhost:1856/user/create?data&amp;goes&amp;here // create a new record\nhttp://localhost:1856/user/delete/:id // delete a record\nhttp://localhost:1856/user/find?query&amp;terms&amp;here // search for matching records\nhttp://localhost:1856/user/update/:id // update a record\n</code></pre>\n\n<p>It's worth noting that <strong>delete</strong> &amp; <strong>update</strong> require you to pass the databse ID as a url segment, while <strong>create</strong> &amp; <strong>find</strong> accept arguments via GET parameters. <strong>Create</strong> maps each GET parameter to a field in the databse (POST &amp; PUT support will come in the next iteration). For example, if you want to add the following data to your collection/table:</p>\n\n<pre class=\"code\"><code>name: Bob\nemail: bob@marley.com\n</code></pre>\n\n<p>Assuming you've added the fields the the schema in your model, you would simple enter this into the browser:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/user/create?name=Bob&amp;email=bob@marley.com\n</code></pre>\n\n<p>Similarly, if you want to retrieve all the records of people named Bob, you would build a request like this:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/user/find?name=Bob</code></pre>\n\n<p>And you will get back a JSON view similar to this:</p>\n\n<pre class=\"code\"><code>[\n {\n name: \"Bob\"\n email: \"bob@marley.com\"\n },\n {\n name: \"Bob\"\n email: \"bob@dylan.com\"\n }\n]\n</code></pre>\n\n<p>This is the default behavior, but if you would rather serve up a standard html, it's a simple change. Simply open up your <a href=\"https://github.com/teslajs/tesla.js/blob/master/config/_settigs.js\" target=\"_blank\">config file</a> and set \"config.api.enabled\" to \"false\". Now it will map the request to the appropriate view (assuming it exists). By default, you get 5 methods (all, create, delete, find, update). Continuing with our user example, you will get the following url &gt; view mapping:</p>\n\n<pre class=\"code\"><code>http://localhost:1856/user/all &gt; app/views/user/all\nhttp://localhost:1856/user/create?data&amp;goes&amp;here &gt; app/views/user/create\nhttp://localhost:1856/user/delete/:id &gt; app/views/user/delete\nhttp://localhost:1856/user/find?query&amp;terms&amp;here &gt; app/views/user/find\nhttp://localhost:1856/user/update/:id &gt; app/views/user/update\n</code></pre>\n\n<p>These are all setup in the controller, however you will need to create the appropriate view files or you will get a 404 error. The data from each request (which was previously spit out as a JSON view) will be sent to the view as an object called \"data\".</p>\n\n</section>\n\n\n\n\n<section id=\"views-section\" class=\"doc-section\">\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"views\">Views</h2>\n\n\n<p>Views can use <a href=\"http://embeddedjs.com/\" target=\"_blank\">EJS</a>, <a href=\"http://handlebarsjs.com/\" target=\"_blank\">Handlebars</a>, <a href=\"http://twitter.github.io/hogan.js/\" target=\"_blank\">Hogan.js</a>, <a href=\"http://jade-lang.com/\" target=\"_blank\">Jade</a> (default) or <a href=\"http://mustache.github.io/\" target=\"_blank\">Mustache</a> templates. See the appropriate documentation for your chosen templating language for more info on how to use it.</p>\n\n\n\n\n</section>\n\n \n<section id=\"troubleshooting-section\" class=\"doc-section\">\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n<h2 id=\"troubleshooting\">Troubleshooting</h2>\n\n\n<p>If you experience any issues during installation, here's a few tips that may help solve many common problems. If none of the below solve your problems, feel free to file a bug in the <a href=\"https://github.com/teslajs/tesla.js/issues\" target=\"_blank\">Github issue tracker</a>.</p>\n\n\n\n<p>Sometimes you may find there is a weird error during install like npm's <em>Error: ENOENT</em>, usually updating those tools to the latest version solves the issue.</p>\n\n<h5>Updating NPM:</h5>\n\n<pre class=\"code\"><code>$ npm update -g npm\n</code></pre>\n\n<h5>Updating Gulp:</h5>\n\n<pre class=\"code\"><code>$ npm update -g gulp\n</code></pre>\n\n<h5>Updating Bower:</h5>\n\n<pre class=\"code\"><code>$ npm update -g bower\n</code></pre>\n\n<h4 id=\"cleaning-npm-and-bower-cache\">Cleaning NPM and Bower cache</h4>\n\n<p>NPM and Bower have a caching system for holding packages that you already installed. Cleaeing the cache often solves created by caching.</p>\n\n<h5>NPM Clean Cache:</h5>\n<pre class=\"code\"><code>$ npm cache clean\n</code></pre>\n\n<h5>Bower Clean Cache:</h5>\n\n<pre class=\"code\"><code>$ bower cache clean\n</code></pre>\n</section>\n\n \n\n\n<section id=\"deployment-section\" class=\"doc-section\">\n <a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n <h2 id=\"heroku-quick-deployment\">Heroku Quick Deployment</h2>\n\n<p>\nTesla is configured to work with Heroku out of the box. To delpoy, just open a terminal window and follow these commands (be sure to replace {app_name} with the name of your app):\n</p>\n\n<p>Before you start, make sure you have <a href=\"https://toolbelt.heroku.com/\" target=\"_blank\">Heroku toolbelt</a> installed.</p>\n\n<pre class=\"code\"><code class=\"bash\">heroku login // LOGIN\nheroku apps:create {app_name} // CREATE APP\nheroku config:add NODE_ENV=production --remote heroku --app {app_name} // SET ENVIRONMENT\nheroku labs:enable websockets // ENABLE WEB SOCKETS IF DESIRED\ngit push heroku master // PUSH TO HEROKU\n</code></pre>\n\n</section>\n\n \n<section id=\"credits-section\" class=\"doc-section\">\n\n<a class=\"top-link\" href=\"http://teslajs.com/#home\">back to top</a>\n\n\n\n<strong>Developed by:</strong> <a href=\"http://github.com/jesseweed\" target=\"_blank\">Jesse Weed</a>\n\n<br>\n\n<strong>Inspired by:</strong> <a href=\"https://github.com/visionmedia/express\" target=\"_blank\">Express</a>, <a href=\"http://sailsjs.org\" target=\"_blank\">Sails.js</a> and <a href=\"https://github.com/linnovate/mean\" target=\"_blank\">MEAN</a>.\n\n</section>\n\n\n</section>\n\n\n\n\n\n</div>"
    }, {
        "title": "HTML5 games: 3D collision detection",
        "url": "https://hacks.mozilla.org/2015/10/html-5-games-3d-collision-detection/",
        "excerpt": "Last week we took a look at Tilemaps, and I shared some new articles that I&#x2019;d written on MDN. This week I&#x2019;m back to introduce 3D collision detection, an essential technique for almost&hellip;",
        "date_saved": "Thu Jul 28 20:12:42 EDT 2016",
        "html_file": "html5_games_3d_collision_detection.html",
        "png_file": "html5_games_3d_collision_detection.png",
        "md_file": "html5_games_3d_collision_detection.md",
        "content": "<div><article class=\"post\">\n <p>Last week we took a look at <a href=\"https://hacks.mozilla.org/2015/10/html-5-games-tilemaps/\" target=\"_blank\">Tilemaps</a>, and I shared some new articles that I&#x2019;d written on MDN. This week I&#x2019;m back to introduce <strong>3D collision detection</strong>, an essential technique for almost any kind of 3D game. I&#x2019;ll also point you to some more new articles about <a href=\"https://developer.mozilla.org/en/docs/Games\" target=\"_blank\">game development</a> on MDN! Hope they inspire you to stretch your skills. </p>\n<p>In 3D game development, <strong>bounding volumes</strong> provide one of the most widely used techniques for determining whether two virtual objects will collide (i.e., intersect with each other) during game play. The technique of bounding volumes consists of wrapping game objects with some virtual volumes, and applying intersection algorithms to describe the movement and interaction of these volumes. You can think of this approach as a shortcut: it is easier and faster than detecting intersections between arbitrary, complex shapes.</p>\n<p>In terms of bounding volumes, the use of <strong>axis-aligned bounding boxes</strong> (AABB) is a popular option. Depending on the game, sometimes spheres are used as well. Here&#x2019;s an image of some 3D objects wrapped with AABB:</p>\n<p><img class=\"aligncenter size-full wp-image-29406\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/10/Screen-Shot-2015-10-16-at-15.11.21.png\" alt=\"Screen Shot 2015-10-16 at 15.11.21\" width=\"432\"></p>\n<p>The new MDN article on <a href=\"https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_collision_detection\" target=\"_blank\">3D collision detection</a> describes how to use generic algorithms to perform 3D collision detection with AABB and spheres. This article should be useful regardless of the game engine or programming language you are using to develop your game.</p>\n<p>We also published an article about doing <a href=\"https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_collision_detection/Bounding_volume_collision_detection_with_THREE.js\" target=\"_blank\">collision detection with bounding volumes using three.js</a>, a popular 3D library for JavaScript. (Learn more about <a href=\"http://threejs.org/\" target=\"_blank\">three.js</a>.) </p>\n<p>Check out the <a href=\"http://mozdevs.github.io/gamedev-js-3d-aabb/\" target=\"_blank\">live demos</a> and peek at <a href=\"https://github.com/mozdevs/gamedev-js-3d-aabb\" target=\"_blank\">their source code</a>. One of the demos uses a <a href=\"https://en.wikipedia.org/wiki/Physics_engine\" target=\"_blank\">physics engine</a> (in this case, <a href=\"http://www.cannonjs.org/\" target=\"_blank\">Cannon.js</a>) to perform collision detection. Embedded below you can find another demo that shows how to use Three.js to detect collisions:</p>\n\n<p>Hope you enjoy the demos and find them useful. If there&#x2019;s a particular topic in HTML5 game development you&#x2019;d like to learn more about, please drop a comment here and let us know! We&#x2019;ll try to get it covered for you.</p> <section class=\"about\">\n <p>Bel&#xE9;n is an engineer and game developer working at Mozilla Developer Relations. She cares about web standards, high-quality code, accesibility and game development.</p>\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/balbezamozilla-com/\">More articles by Bel&#xE9;n Albeza&#x2026;</a></p>\n </section>\n </article>\n \n\n<section class=\"discussion\">\n \n \n \n \n </section></div>"
    }, {
        "title": "Developer Edition 44: New visual editing and memory management tools",
        "url": "https://hacks.mozilla.org/2015/11/developer-edition-44-creative-tools-and-more/",
        "excerpt": "This month marks the one-year anniversary of Firefox Developer Edition. To celebrate, we&#x2019;re excited to show you some new tools &#x2013; and some improvements to existing tools &#x2013; that&hellip;",
        "date_saved": "Thu Jul 28 20:12:44 EDT 2016",
        "html_file": "developer_edition_44_new_visual_editing_and_memory_management_tools.html",
        "png_file": "developer_edition_44_new_visual_editing_and_memory_management_tools.png",
        "md_file": "developer_edition_44_new_visual_editing_and_memory_management_tools.md",
        "content": "<div><article class=\"post\">\n <p>This month marks the one-year anniversary of Firefox Developer Edition. To celebrate, we&#x2019;re excited to show you some new tools &#x2013; and some improvements to existing tools &#x2013; that let you work with the Web in a visual and intuitive way.</p>\n\n<p>As the Web becomes a more dynamic, interactive and mobile experience, visual designers are more than ever experimenting with animation &#x2013; and the latest Firefox Developer Edition has tools to make working with animations faster and easier. Firefox Developer Edition now gives visual designers and animators a set of visual editing tools that work like they do. We are addressing the technically challenging aspects of animation with a set of visceral, powerful, interactive tools that are comfortable for designers to use. Visual editing tools should appeal to animators, not just to programmers.</p>\n<h2>DevTools Challenger</h2>\n<p>Reading about our new tools is great, but trying them out yourself is even better! To help you get started, we partnered with acclaimed Web animation engineer and advocate <a href=\"http://rachelnabors.com/\" target=\"_blank\">Rachel Nabors</a> to create <a href=\"http://devtoolschallenger.com/\" target=\"_blank\">DevTools Challenger</a>. Check out DevTools Challenger for hands-on exercises with all of our new visual design tools. Remember to keep scrolling until you get to the ocean floor!</p>\n<p><a href=\"http://devtoolschallenger.com\" target=\"_blank\"><img class=\"aligncenter wp-image-29433 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/challenger-500x409.png\" alt=\"Screenshot of the Devtools Challenger demo website\" width=\"500\"></a></p>\n<h2>Animation &amp; CSS Filter Tools</h2>\n<p>The Page Inspector&#x2019;s animation panel makes it easy to scrub, pause, and visualize each animation on a webpage. Thanks to its tight integration in the DOM inspector, you can switch between a global view of every animation, or drill down to just a few nodes.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/animationtools.png\"><img class=\"aligncenter size-full wp-image-29431\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/animationtools.png\" alt=\"animationtools\" width=\"2096\"></a></p>\n<p>Once you&#x2019;ve found the animation you want, our visual cubic-bezier editor is just a click away. Packed with useful presets, the editor will ensure your animation moves perfectly.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/cubicbezier-cropped.png\"><img class=\"aligncenter wp-image-29427 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/cubicbezier-cropped-500x447.png\" alt=\"Screenshot of the visual cubic-bezier curve editor\" width=\"500\"></a></p>\n<p>We&#x2019;ve also built a similar editor for CSS filters, allowing you to visually add, remove, re-order, and adjust filters with live feedback from the page.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/filtereditor-cropped.png\"><img class=\"aligncenter wp-image-29428 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/filtereditor-cropped-500x266.png\" alt=\"filtereditor-cropped\" width=\"500\"></a></p>\n<h2>Measurements &amp; Colors</h2>\n<p>Firefox Developer Edition also features two brand new tools for fine-tuning layout: you can now enable pixel rulers along the page margins, or use our new measurement tool to drag-and-measure arbitrary regions of the page.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/measuretools1.png\"><img class=\"aligncenter wp-image-29432 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/measuretools1-500x344.png\" alt=\"\" width=\"500\"></a></p>\n<p>The Inspector now defaults to displaying CSS colors &#x201C;as authored,&#x201D; and shift-clicking on a color swatch cycles between authored styles and equivalent hex, rgb, and hsl values. There&#x2019;s even an eyedropper tool to pick colors right from the page.</p>\n<h2>Memory Snapshots</h2>\n<p>The new Memory tool helps front-end engineers better understand and optimize the way pages allocate and retain memory. The tool works by taking a snapshot of the heap, then allows you to drill down by retained object type, allocation stack, or internal representation. We think you&#x2019;ll like it, and we&#x2019;ve got many more features and enhancements in the works!</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/nyanparticles.png\"><img class=\"aligncenter wp-image-29449 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/nyanparticles-500x304.png\" alt=\"Screenshot of the DevTools memory panel\" width=\"500\"></a></p>\n<h2>WebSocket Debugging API</h2>\n<p>Lastly, we&#x2019;re extremely excited to announce that Firefox now exposes an API for monitoring WebSocket frames (<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1203802\" target=\"_blank\">Bug 1203802</a>), which is the first step on the path to a full-fledged WebSocket inspection tool. Developer Tools engineer Jan Odvarko has built <a href=\"https://github.com/firebug/websocket-monitor/wiki\" target=\"_blank\">an experimental add-on</a> for inspecting WebSocket traffic. Install the add-on and give it a try, we&#x2019;d love your feedback.</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/websocket-demo.png\"><img class=\"aligncenter size-large wp-image-29450\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/websocket-demo-500x202.png\" alt=\"Screenshot of the experimental WebSocket Debugger add-on\" width=\"500\"></a></p>\n<p>Firefox Developer Edition is available at <a href=\"https://firefox.com/developer\">firefox.com/developer</a>. Let us know what you think about these features by commenting below or following <a href=\"https://twitter.com/FirefoxDevTools\" target=\"_blank\">@FirefoxDevTools</a> on Twitter!</p> <section class=\"about\">\n <p>Dave Camp is Director of Engineering for Firefox at Mozilla.</p>\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/dcampmozilla-com/\">More articles by Dave Camp&#x2026;</a></p>\n <p>Engineer with Mozilla Developer Relations, former Mozilla Persona developer.</p>\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/dcallahanmozilla-com/\">More articles by Dan Callahan&#x2026;</a></p>\n </section>\n </article>\n \n\n</div>"
    }, {
        "title": "Raathigesh/SemanticEdit",
        "url": "https://github.com/Raathigesh/SemanticEdit",
        "excerpt": "Real-time Preview Enabled Semantic UI Composer How? Copy the following Semantic-UI markup to Semantic Edit editor. &lt;div class=\"ui card\"&gt; &lt;div class=\"image\"",
        "date_saved": "Thu Jul 28 20:12:47 EDT 2016",
        "html_file": "raathigeshsemanticedit.html",
        "png_file": "raathigeshsemanticedit.png",
        "md_file": "raathigeshsemanticedit.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://raw.githubusercontent.com/Raathigesh/SemanticEdit/master/assets/SemanticEditLogo.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/Raathigesh/SemanticEdit/master/assets/SemanticEditLogo.png\" alt=\"Logo\"></a></p>\n\n\n\n<p>Real-time Preview Enabled <a href=\"http://semantic-ui.com/\">Semantic UI</a> Composer</p>\n\n<h2><a id=\"user-content-how\" class=\"anchor\" href=\"https://github.com/Raathigesh/SemanticEdit#how\"></a>How?</h2>\n\n<p>Copy the following Semantic-UI markup to <a href=\"http://semanticedit.meteor.com/\">Semantic Edit</a> editor.</p>\n\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ui card<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>image<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">img</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://semantic-ui.com/images/avatar2/large/kristy.png<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>content<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">a</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>header<span class=\"pl-pds\">\"</span></span>&gt;Kristy&lt;/<span class=\"pl-ent\">a</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>meta<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">span</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>date<span class=\"pl-pds\">\"</span></span>&gt;Joined in 2013&lt;/<span class=\"pl-ent\">span</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>description<span class=\"pl-pds\">\"</span></span>&gt;\n Kristy is an art director living in New York.\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n &lt;<span class=\"pl-ent\">div</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>extra content<span class=\"pl-pds\">\"</span></span>&gt;\n &lt;<span class=\"pl-ent\">a</span>&gt;\n &lt;<span class=\"pl-ent\">i</span> <span class=\"pl-e\">class</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>user icon<span class=\"pl-pds\">\"</span></span>&gt;&lt;/<span class=\"pl-ent\">i</span>&gt;\n 22 Friends\n &lt;/<span class=\"pl-ent\">a</span>&gt;\n &lt;/<span class=\"pl-ent\">div</span>&gt;\n&lt;/<span class=\"pl-ent\">div</span>&gt;</pre></div>\n\n<p>You could copy and paste any <a href=\"http://semantic-ui.com/elements/button.html\">Semantic UI components</a>.</p>\n\n<h2><a id=\"user-content-but-why\" class=\"anchor\" href=\"https://github.com/Raathigesh/SemanticEdit#but-why\"></a>But Why?</h2>\n\n<p><a href=\"http://semantic-ui.com\">Semantic UI</a> is an awesome library with excellent components that you can use to quickly\nbuild web interfaces. But I felt like it would be nicer if we can compose bunch of elements and see in realtime how they\nfit together. That's why Semantic Edit.</p>\n\n<h2><a id=\"user-content-whats-under-the-hood\" class=\"anchor\" href=\"https://github.com/Raathigesh/SemanticEdit#whats-under-the-hood\"></a>What's Under the Hood?</h2>\n\n<p>JavaScript! </p>\n\n<p>SemanticEdit uses the following</p>\n\n\n\n<h2><a id=\"user-content-thats-it\" class=\"anchor\" href=\"https://github.com/Raathigesh/SemanticEdit#thats-it\"></a>That's It?</h2>\n\n<p>I'm hoping to add features as I move along. Got a feature suggestion? Would love to hear about it. Please create a new issues. </p>\n</article>\n </div>"
    }, {
        "title": "Anyone Can Learn To Code an LSTM-RNN in Python (Part 1: RNN)",
        "url": "http://iamtrask.github.io/2015/11/15/anyone-can-code-lstm/",
        "excerpt": "Summary: I learn best with toy code that I can play with. This tutorial teaches Recurrent Neural Networks via a very simple toy example, a short python implementation. I'll tweet out (Part 2: LSTM)&hellip;",
        "date_saved": "Thu Jul 28 20:12:48 EDT 2016",
        "html_file": "anyone_can_learn_to_code_an_lstmrnn_in_python_part_1_rnn.html",
        "png_file": "anyone_can_learn_to_code_an_lstmrnn_in_python_part_1_rnn.png",
        "md_file": "anyone_can_learn_to_code_an_lstmrnn_in_python_part_1_rnn.md",
        "content": "<div><div class=\"col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1\">\n\n\t\t\t\t<p><b>Summary:</b> I learn best with toy code that I can play with. This tutorial teaches Recurrent Neural Networks via a very simple toy example, a short python implementation.</p>\n\n<p>I'll tweet out <b>(Part 2: LSTM)</b> when it's complete at <a href=\"https://twitter.com/iamtrask\">@iamtrask</a>. Feel free to follow if you'd be interested in reading it and thanks for all the feedback!\n</p>\n<h3>Just Give Me The Code:</h3>\n<pre class=\"brush: python\">\nimport copy, numpy as np\nnp.random.seed(0)\n\n# compute sigmoid nonlinearity\ndef sigmoid(x):\n output = 1/(1+np.exp(-x))\n return output\n\n# convert output of sigmoid function to its derivative\ndef sigmoid_output_to_derivative(output):\n return output*(1-output)\n\n\n# training dataset generation\nint2binary = {}\nbinary_dim = 8\n\nlargest_number = pow(2,binary_dim)\nbinary = np.unpackbits(\n np.array([range(largest_number)],dtype=np.uint8).T,axis=1)\nfor i in range(largest_number):\n int2binary[i] = binary[i]\n\n\n# input variables\nalpha = 0.1\ninput_dim = 2\nhidden_dim = 16\noutput_dim = 1\n\n\n# initialize neural network weights\nsynapse_0 = 2*np.random.random((input_dim,hidden_dim)) - 1\nsynapse_1 = 2*np.random.random((hidden_dim,output_dim)) - 1\nsynapse_h = 2*np.random.random((hidden_dim,hidden_dim)) - 1\n\nsynapse_0_update = np.zeros_like(synapse_0)\nsynapse_1_update = np.zeros_like(synapse_1)\nsynapse_h_update = np.zeros_like(synapse_h)\n\n# training logic\nfor j in range(10000):\n \n # generate a simple addition problem (a + b = c)\n a_int = np.random.randint(largest_number/2) # int version\n a = int2binary[a_int] # binary encoding\n\n b_int = np.random.randint(largest_number/2) # int version\n b = int2binary[b_int] # binary encoding\n\n # true answer\n c_int = a_int + b_int\n c = int2binary[c_int]\n \n # where we'll store our best guess (binary encoded)\n d = np.zeros_like(c)\n\n overallError = 0\n \n layer_2_deltas = list()\n layer_1_values = list()\n layer_1_values.append(np.zeros(hidden_dim))\n \n # moving along the positions in the binary encoding\n for position in range(binary_dim):\n \n # generate input and output\n X = np.array([[a[binary_dim - position - 1],b[binary_dim - position - 1]]])\n y = np.array([[c[binary_dim - position - 1]]]).T\n\n # hidden layer (input ~+ prev_hidden)\n layer_1 = sigmoid(np.dot(X,synapse_0) + np.dot(layer_1_values[-1],synapse_h))\n\n # output layer (new binary representation)\n layer_2 = sigmoid(np.dot(layer_1,synapse_1))\n\n # did we miss?... if so by how much?\n layer_2_error = y - layer_2\n layer_2_deltas.append((layer_2_error)*sigmoid_output_to_derivative(layer_2))\n overallError += np.abs(layer_2_error[0])\n \n # decode estimate so we can print it out\n d[binary_dim - position - 1] = np.round(layer_2[0][0])\n \n # store hidden layer so we can use it in the next timestep\n layer_1_values.append(copy.deepcopy(layer_1))\n \n future_layer_1_delta = np.zeros(hidden_dim)\n \n for position in range(binary_dim):\n \n X = np.array([[a[position],b[position]]])\n layer_1 = layer_1_values[-position-1]\n prev_layer_1 = layer_1_values[-position-2]\n \n # error at output layer\n layer_2_delta = layer_2_deltas[-position-1]\n # error at hidden layer\n layer_1_delta = (future_layer_1_delta.dot(synapse_h.T) + layer_2_delta.dot(synapse_1.T)) _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy sigmoid_output_to_derivative(layer_1)\n\n # let's update all our weights so we can try again\n synapse_1_update += np.atleast_2d(layer_1).T.dot(layer_2_delta)\n synapse_h_update += np.atleast_2d(prev_layer_1).T.dot(layer_1_delta)\n synapse_0_update += X.T.dot(layer_1_delta)\n \n future_layer_1_delta = layer_1_delta\n \n\n synapse_0 += synapse_0_update _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy alpha\n synapse_1 += synapse_1_update _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy alpha\n synapse_h += synapse_h_update _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy alpha \n\n synapse_0_update *= 0\n synapse_1_update *= 0\n synapse_h_update *= 0\n \n # print out progress\n if(j % 1000 == 0):\n print \"Error:\" + str(overallError)\n print \"Pred:\" + str(d)\n print \"True:\" + str(c)\n out = 0\n for index,x in enumerate(reversed(d)):\n out += x*pow(2,index)\n print str(a_int) + \" + \" + str(b_int) + \" = \" + str(out)\n print \"------------\"\n\n \n</pre>\n<h3>Runtime Output:</h3>\n<pre>\nError:[ 3.45638663]\nPred:[0 0 0 0 0 0 0 1]\nTrue:[0 1 0 0 0 1 0 1]\n9 + 60 = 1\n------------\nError:[ 3.63389116]\nPred:[1 1 1 1 1 1 1 1]\nTrue:[0 0 1 1 1 1 1 1]\n28 + 35 = 255\n------------\nError:[ 3.91366595]\nPred:[0 1 0 0 1 0 0 0]\nTrue:[1 0 1 0 0 0 0 0]\n116 + 44 = 72\n------------\nError:[ 3.72191702]\nPred:[1 1 0 1 1 1 1 1]\nTrue:[0 1 0 0 1 1 0 1]\n4 + 73 = 223\n------------\nError:[ 3.5852713]\nPred:[0 0 0 0 1 0 0 0]\nTrue:[0 1 0 1 0 0 1 0]\n71 + 11 = 8\n------------\nError:[ 2.53352328]\nPred:[1 0 1 0 0 0 1 0]\nTrue:[1 1 0 0 0 0 1 0]\n81 + 113 = 162\n------------\nError:[ 0.57691441]\nPred:[0 1 0 1 0 0 0 1]\nTrue:[0 1 0 1 0 0 0 1]\n81 + 0 = 81\n------------\nError:[ 1.42589952]\nPred:[1 0 0 0 0 0 0 1]\nTrue:[1 0 0 0 0 0 0 1]\n4 + 125 = 129\n------------\nError:[ 0.47477457]\nPred:[0 0 1 1 1 0 0 0]\nTrue:[0 0 1 1 1 0 0 0]\n39 + 17 = 56\n------------\nError:[ 0.21595037]\nPred:[0 0 0 0 1 1 1 0]\nTrue:[0 0 0 0 1 1 1 0]\n11 + 3 = 14\n------------\n</pre>\n\n\n\n\n\n\n\n\n\n\n\n<p>List the alphabet forward.... you can do it, yes?</p>\n<p>List the alphabet backward.... hmmm... perhaps a bit tougher.</p>\n<p>Try with the lyrics of a song you know?.... Why is it easier to recall forward than it is to recall backward? Can you jump into the middle of the second verse?... hmm... also difficult. Why?</p>\n<p>There's a very logical reason for this....you haven't learned the letters of the alphabet or the lyrics of a song like a computer storing them as a set on a hard drive. You learned them as a <b>sequence</b>. You are really good at indexing from one letter to the next. It's a kind of conditional memory... you only have it when you very recently had the previous memory. It's also a lot like a <b>linked list</b> if you're familiar with that.</p>\n\n<p>However, it's not that you <i>don't</i> have the song in your memory except when you're singing it. Instead, when you try to jump straight to the middle of the song, you simply have a hard time finding that representation in your brain (perhaps that set of neurons). It starts searching all over looking for the middle of the song, but it hasn't tried to look for it this way before, so it doesn't have a map to the location of the middle of the second verse. It's a lot like living in a neighborhood with lots of coves/cul-de-sacs. It's much easier to picture how to get to someone's house by following all the windy roads because you've done it many times, but knowing exactly where to cut straight across someone's backyard is really difficult. Your brain instead uses the \"directions\" that it knows... through the neurons at the beginning of a song. (for more on brain stuff, click <a href=\"http://www.human-memory.net/processes_recall.html\" target=\"_blank\">here</a>)</p>\n\n<p>Much like a linked list, storing memory like this is very efficient. We will find that similar properties/advantages exist in giving our neural networks this type of memory as well. Some processes/problems/representations/searches are far more efficient if modeled as a sequence with a short term / pseudo conditional memory.</p>\n\n<p>Memory matters when your data is a <b>sequence</b> of some kind. (It means you have something to remember!) Imagine having a video of a bouncing ball. (here... i'll help this time)</p><iframe width=\"700\" height=\"525\" src=\"https://www.youtube.com/embed/UL0ZOgN2SqY?loop=1&amp;autoplay=0\"></iframe><br>\nEach data point is a frame of your video. If you wanted to train a neural network to predict where the ball would be in the next frame, it would be really helpful to know where the ball was in the last frame! Sequential data like this is why we build recurrent neural networks. So, how does a neural network remember what it saw in previous time steps?\n\n<p>Neural networks have hidden layers. Normally, the state of your hidden layer is <b>based ONLY on your input data</b>. So, normally a neural network's information flow would look like this:<br>\n</p><b>input -&gt; hidden -&gt; output</b>\n<br>\n\n<p>This is straightforward. Certain types of input create certain types of hidden layers. Certain types of hidden layers create certain types of output layers. It's kindof a closed system. Memory changes this. Memory means that the hidden layer is a combination of your input data at the current timestep <b>and the hidden layer of the previous timestep</b>.</p>\n\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n<p>\nWhy the hidden layer? Well, we could technically do this.\n</p>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n\n<p>However, we'd be missing out. I encourage you to sit and consider the difference between these two information flows. For a little helpful hint, consider how this plays out. Here, we have 4 timesteps of a recurrent neural network pulling information from the previous hidden layer.</p>\n\n<b>(input + empty_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n\n<p>And here, we have 4 timesteps of a recurrent neural network pulling information from the previous input layer</p>\n\n<b>(input + empty_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n\n<p>Maybe, if I colored things a bit, it would become more clear. Again, 4 timesteps with <b>hidden layer recurrence</b>:</p>\n\n<b>(input + empty_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden) -&gt; hidden -&gt; output</b>\n<b>(input + prev_hidden ) -&gt; hidden -&gt; output</b>\n\n<p>.... and 4 timesteps with <b>input layer recurrence</b>....</p>\n\n<b>(input + empty_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n<b>(input + prev_input) -&gt; hidden -&gt; output</b>\n\n<p>Focus on the last hidden layer (4th line). In the hidden layer recurrence, we see a presence of every input seen so far. In the input layer recurrence, it's exclusively defined by the current and previous inputs. This is why we model hidden recurrence. Hidden recurrence <b>learns what to remember</b> whereas input recurrence is hard wired to just remember the immediately previous datapoint. </p>\n\n<p>Now compare and contrast these two approaches with the backwards alphabet and middle-of-song exercises. The hidden layer is constantly changing as it gets more inputs. Furthermore, the only way that we could reach these hidden states is with the correct <b>sequence</b> of inputs. Now the money statement, the output is deterministic given the hidden layer, and the hidden layer is only reachable with the right <b>sequence</b> of inputs. Sound familiar?</p>\n\n<p>What's the practical difference? Let's say we were trying to predict the next word in a song given the previous. The \"input layer recurrence\" would break down if the song accidentally had the same sequence of two words in multiple places. Think about it, if the song had the statements \"I love you\", and \"I love carrots\", and the network was trying to predict the next word, how would it know what follows \"I love\"? It could be carrots. It could be you. The network REALLY needs to know more about what part of the song its in. However, the \"hidden layer recurrence\" doesn't break down in this way. It subtely remembers everything it saw (with memories becoming more subtle as it they fade into the past). To see this in action, check out <a href=\"http://karpathy.github.io/2015/05/21/rnn-effectiveness/\" target=\"_blank\"> this</a>. \n\n</p><b>stop and make sure this feels comfortable in your mind</b><br>\n\n\n\n\n<ins class=\"adsbygoogle\"></ins>\n\n\n\n\n\n<p>Now that we have the intuition, let's dive down a layer (ba dum bump...). As described in the <a href=\"http://iamtrask.github.io/2015/07/12/basic-python-network/\"><u>backpropagation post</u></a>, our input layer to the neural network is determined by our input dataset. Each row of input data is used to generate the hidden layer (via forward propagation). Each hidden layer is then used to populate the output layer (assuming only 1 hidden layer). As we just saw, memory means that the hidden layer is a combination of the input data and the previous hidden layer. How is this done? Well, much like every other propagation in neural networks, it's done with a matrix. This matrix defines the relationship between the previous hidden layer and the current one.</p>\n\n<img class=\"img-responsive\" width=\"100%\" src=\"http://iamtrask.github.io/img/basic_recurrence_singleton.png\" alt=\"\">\n\n<p>Big thing to take from this picture, there are only three weight matrices. Two of them should be very familiar (same names too). SYNAPSE_0 propagates the input data to the hidden layer. SYNAPSE_1 propagates the hidden layer to the output data. The new matrix (SYNAPSE_h....the recurrent one), propagates from the hidden layer (layer_1) to the hidden layer at the next timestep (still layer_1).\n\n</p><b>stop and make sure this feels comfortable in your mind</b><br>\n\n<img class=\"img-responsive\" width=\"95%\" src=\"http://iamtrask.github.io/img/recurrence_gif.gif\" alt=\"\">\n\n<p>The gif above reflects the magic of recurrent networks, and several very, very important properties. It depicts 4 timesteps. The first is exclusively influenced by the input data. The second one is a mixture of the first and second inputs. This continues on. You should recognize that, in some way, network 4 is \"full\". Presumably, timestep 5 would have to choose which memories to keep and which ones to overwrite. This is very real. It's the notion of memory \"capacity\". As you might expect, bigger layers can hold more memories for a longer period of time. Also, this is when the network learns to <b>forget irrelevant memories</b> and <b>remember important memories</b>. What significant thing do you notice in timestep 3? Why is there more green in the hidden layer than the other colors?</p>\n\n<p>Also notice that the hidden layer is the barrier between the input and the output. In reality, the output is no longer a pure function of the input. The input is just changing what's in the memory, and the output is exclusively based on the memory. Another interesting takeaway. If there was not input at timesteps 2,3,and 4, the hidden layer would still change from timestep to timestep.</p>\n\n<b>i know i've been stopping... but really make sure you got that last bit</b><br>\n\n\n\n<p>So, how do recurrent neural networks learn? Check out this graphic. Black is the prediction, errors are bright yellow, derivatives are mustard colored.</p>\n\n<img class=\"img-responsive\" width=\"95%\" src=\"http://iamtrask.github.io/img/backprop_through_time.gif\" alt=\"\">\n\n<p>They learn by fully propagating forward from 1 to 4 (through an entire sequence of arbitrary length), and then backpropagating all the derivatives from 4 back to 1. You can also pretend that it's just a funny shaped normal neural network, except that we're re-using the same weights (synapses 0,1,and h) in their respective places. Other than that, it's normal backpropagation.\n\n</p>\n\n\n<ins class=\"adsbygoogle\"></ins>\n\n\n\n\n\n<p>We're going to be using a recurrent neural network to model <b>binary addition</b>. Do you see the sequence below? What do the colored ones in squares at the top signify?</p>\n\n<img class=\"img-responsive\" width=\"95%\" src=\"http://iamtrask.github.io/img/binary_addition.GIF\" alt=\"\">\nsource: angelfire.com\n\n<p>The colorful 1s in boxes at the top signify the \"carry bit\". They \"carry the one\" when the sum overfows at each place. This is the tiny bit of memory that we're going to teach our neural network how to model. It's going to \"carry the one\" when the sum requires it. (click <a href=\"https://www.youtube.com/watch?v=jB_sRh5yoZk\">here</a> to learn about when this happens)</p>\n\n<p>So, binary addition moves from right to left, where we try to predict the number beneath the line given the numbers above the line. We want the neural network to move along the binary sequences and remember when it has carred the 1 and when it hasn't, so that it can make the correct prediction. Don't get too caught up in the problem. The network actually doesn't care too much. Just recognize that we're going to have two inputs at each time step, (either a one or a zero from each number begin added). These two inputs will be propagated to the hidden layer, which will have to remember whether or not we carry. The prediction will take all of this information into account to predict the correct bit at the given position (time step).</p>\n\n<i>At this point, I recommend opening this page in two windows so that you can follow along with the line numbers in the code example at the top. That's how I wrote it.</i>\n\n<p><b>Lines 0-2:</b> Importing our dependencies and seeding the random number generator. We will only use numpy and copy. Numpy is for matrix algebra. Copy is to copy things.</p>\n\n<p><b>Lines 4-11:</b> Our nonlinearity and derivative. For details, please read this <a href=\"http://iamtrask.github.io/2015/07/12/basic-python-network/\"> Neural Network Tutorial</a></p>\n\n<p><b>Line 15:</b> We're going to create a lookup table that maps from an integer to its binary representation. The binary representations will be our input and output data for each math probelm we try to get the network to solve. This lookup table will be very helpful in converting from integers to bit strings.</p>\n\n<p><b>Line 16:</b> This is where I set the maximum length of the binary numbers we'll be adding. If I've done everything right, you can adjust this to add potentially very large numbers.</p>\n\n<p><b>Line 18:</b> This computs the largest number that is possible to represent with the binary length we chose</p>\n\n<p><b>Line 19:</b> This is a lookup table that maps from an integer to its binary representation. We copy it into the int2binary. This is kindof un-ncessary but I thought it made things more obvious looking.</p>\n\n<p><b>Line 26:</b> This is our learning rate.</p>\n\n<p><b>Line 27:</b> We are adding two numbers together, so we'll be feeding in two bit strings one character at a time each. Thus, we need to have two inputs to the network (each for one of the numbers being added).</p>\n\n<p><b>Line 28:</b> This is the size of the hidden layer that will be storing our carry bit. Notice that it is way larger than it theoretically needs to be. Play with this and see how it affects the speed of convergence. Do larger hidden dimensions make things train faster or slower? More iterations or fewer?</p>\n\n<p><b>Line 29:</b> Well, we're only predicting the sum, which is one number. Thus, we only need one output</p>\n\n<p><b>Line 33:</b> This is the matrix of weights that connects our input layer and our hidden layer. Thus, it has \"input_dim\" rows and \"hidden_dim\" columns. (2 x 16 unless you change it). If you forgot what it does, look for it in the pictures in Part 2 of this blogpost.</p>\n\n<p><b>Line 34:</b> This is the matrix of weights that connects the hidden layer to the output layer Thus, it has \"hidden_dim\" rows and \"output_dim\" columns. (16 x 1 unless you change it). If you forgot what it does, look for it in the pictures in Part 2 of this blogpost.</p>\n\n<p><b>Line 35:</b> This is the matrix of weights that connects the hidden layer in the previous time-step to the hidden layer in the current timestep. It also connects the hidden layer in the current timestep to the hidden layer in the next timestep (we keep using it). Thus, it has the dimensoinality of \"hidden_dim\" rows and \"hidden_dim\" columns. (16 x 16 unless you change it). If you forgot what it does, look for it in the pictures in Part 2 of this blogpost.</p>\n\n<p><b>Line 37 - 39:</b> These store the weight updates that we would like to make for each of the weight matrices. After we've accumulated several weight updates, we'll actually update the matrices. More on this later.</p>\n\n<p><b>Line 42:</b> We're iterating over 100,000 training examples</p>\n\n<p><b>Line 45:</b> We're going to generate a random addition problem. So, we're initializing an integer randomly between 0 and half of the largest value we can represent. If we allowed the network to represent more than this, than adding two number could theoretically overflow (be a bigger number than we have bits to represent). Thus, we only add numbers that are less than half of the largest number we can represent.</p>\n\n<p><b>Line 46:</b> We lookup the binary form for \"a_int\" and store it in \"a\"</p>\n\n<p><b>Line 48:</b> Same thing as line 45, just getting another random number.</p>\n\n<p><b>Line 49:</b> Same thing as line 46, looking up the binary representation.</p>\n\n<p><b>Line 52:</b> We're computing what the correct answer should be for this addition</p>\n\n<p><b>Line 53:</b> Converting the true answer to its binary representation</p>\n\n<p><b>Line 56:</b> Initializing an empty binary array where we'll store the neural network's predictions (so we can see it at the end). You could get around doing this if you want...but i thought it made things more intuitive</p>\n\n<p><b>Line 58:</b> Resetting the error measure (which we use as a means to track convergence... see my tutorial on backpropagation and gradient descent to learn more about this)</p>\n\n<p><b>Lines 60-61:</b> These two lists will keep track of the layer 2 derivatives and layer 1 values at each time step.</p>\n\n<p><b>Line 62:</b> Time step zero has no previous hidden layer, so we initialize one that's off.</p>\n\n<p><b>Line 65:</b> This for loop iterates through the binary representation</p>\n\n<p><b>Line 68:</b>X is the same as \"layer_0\" in the pictures. X is a list of 2 numbers, one from a and one from b. It's indexed according to the \"position\" variable, but we index it in such a way that it goes from right to left. So, when position == 0, this is the farhest bit to the right in \"a\" and the farthest bit to the right in \"b\". When position equals 1, this shifts to the left one bit.\n</p>\n\n<p><b>Line 69:</b> Same indexing as line 62, but instead it's the value of the correct answer (either a 1 or a 0)</p>\n\n<p><b>Line 72:</b> This is the magic!!! Make sure you understand this line!!! To construct the hidden layer, we first do two things. First, we propagate from the input to the hidden layer (np.dot(X,synapse_0)). Then, we propagate from the previous hidden layer to the current hidden layer (np.dot(prev_layer_1, synapse_h)). Then WE SUM THESE TWO VECTORS!!!!... and pass through the sigmoid function.</p>\n\n<p>So, how do we combine the information from the previous hidden layer and the input? After each has been propagated through its various matrices (read: interpretations), we sum the information. </p>\n\n<p><b>Line 75:</b> This should look very familiar. It's the same as previous tutorials. It propagates the hidden layer to the output to make a prediction</p>\n\n<p><b>Line 78:</b> Compute how much the prediction missed</p>\n\n<p><b>Line 79:</b> We're going to store the derivative (mustard orange in the graphic above) in a list, holding the derivative at each timestep.</p>\n\n<p><b>Line 80:</b> Calculate the sum of the absolute errors so that we have a scalar error (to track propagation). We'll end up with a sum of the error at each binary position.</p>\n\n<p><b>Line 83</b> Copies the layer_1 value into an array so that at the next time step we can apply the hidden layer at the current one.</p>\n\n<p><b>Line 90:</b> So, we've done all the forward propagating for all the time steps, and we've computed the derivatives at the output layers and stored them in a list. Now we need to backpropagate, starting with the last timestep, backpropagating to the first</p>\n\n<p><b>Line 92:</b> Indexing the input data like we did before</p>\n<p><b>Line 93:</b> Selecting the current hidden layer from the list.</p>\n<p><b>Line 94:</b> Selecting the previous hidden layer from the list</p>\n<p><b>Line 97:</b> Selecting the current output error from the list</p>\n<p><b>Line 99:</b> this computes the current hidden layer error given the error at the hidden layer from the future and the error at the current output layer.</p>\n<p><b>Line 102-104:</b> Now that we have the derivatives backpropagated at this current time step, we can construct our weight updates (but not actually update the weights just yet). We don't actually update our weight matrices until after we've fully backpropagated everything. Why? Well, we use the weight matrices for the backpropagation. Thus, we don't want to go changing them yet until the actual backprop is done. See the <a href=\"http://iamtrask.github.io/2015/07/12/basic-python-network/\">backprop blog post</a> for more details.</p>\n\n<p><b>Line 109 - 115</b> Now that we've backpropped everything and created our weight updates. It's time to update our weights (and empty the update variables).</p>\n\n<p><b>Line 118 - end</b> Just some nice logging to show progress</p>\n\n\n\nIf you have questions or comments, tweet <a href=\"https://twitter.com/iamtrask\"><b>@iamtrask</b></a> and I'll be happy to help.\n\n\n\n\n\n\n\n\n\n\n \n\n \n\n </div>\n </div>"
    }, {
        "title": "Metadata Investigation : Inside Hacking Team",
        "url": "http://labs.rs/en/metadata/",
        "excerpt": "Once online, our every movement, every click, sent or received email, our every activity produces a vast amount of invisible traces. These traces, once collected, put together and analysed, can&hellip;",
        "date_saved": "Thu Jul 28 20:12:51 EDT 2016",
        "html_file": "metadata_investigation__inside_hacking_team.html",
        "png_file": "metadata_investigation__inside_hacking_team.png",
        "md_file": "metadata_investigation__inside_hacking_team.md",
        "content": "<div><div class=\"entry-content\">\n\t\t<p><span class=\"stag-dropcap stag-dropcap--normal\">O</span>nce online, our every movement, every click, sent or received email, our every activity produces a vast amount of invisible traces. These traces, once collected, put together and analysed, can reveal our behavioral patterns, location, contacts, habits and most intimate interests. They often reveal much more than we feel comfortable sharing.<br>\nMost of those traces are hidden in <strong>metadata</strong>, i.e. tiny pieces of information stored in IP packets, headers of your emails or files that you are creating.</p>\n<h3>There is an ongoing debate over the significance of metadata. We wanted to question &#x430; somewhat heretical argument that bulk metadata contain sensitive information about private life of internet users and confront it with a ruling opinion that such statement is overrated. We have therefore undertaken the following social and scientific experiment using different methodologies. The purpose of this research is to investigate and consequently inform the scientific and popular audience about the real importance of metadata for our privacy.</h3>\n<p>In our previous research we explained how metadata is being collected and accessed by numerous actors &#x2013; <a href=\"http://labs.rs/en/invisible-infrastructures-surveillance-achitecture/\" target=\"_blank\">government agencies</a>, <a href=\"http://labs.rs/en/as/\" target=\"_blank\">Internet service providers</a>, <a href=\"http://labs.rs/en/invisible-infrastructures-online-trackers/\" target=\"_blank\">Internet companies</a> such as Google or Facebook, data dealers or producers of <a href=\"http://labs.rs/en/invisible-infrastructures-mobile-permissions/\" target=\"_blank\">mobile phone applications</a>.&#xA0;We explained the invisible infrastructure behind data flow, but we never had a chance to investigate what these actors can really do when they have access to a vast amount of metadata about you. This data investigation is exactly about that.</p>\n<h2></h2>\n<h2>This story is about the power of Metadata.</h2>\n<h2>Our little &#x201C;Big Data&#x201D;</h2>\n<section class=\"stag-section stag-columns\"><div class=\"stag-column stag-two-third\">On July 5, 2015, one of the World&#x2019;s biggest cyber weapon manufacturers and dealers &#x2013; an Italian based company, <a href=\"http://www.hackingteam.it/\" target=\"_blank\">Hacking Team</a>, faced a leak of their internal email database. The <a href=\"https://twitter.com/hackingteam\" target=\"_blank\">twitter account</a> of the company was compromised by an unknown individual who published an announcement of a data breach and provided links to over 400 gigabytes of data, internal emails, invoices, and source code.\n<p>In the next few days <a href=\"https://wikileaks.org/hackingteam/emails/\" target=\"_blank\">Wikileaks</a> and <a href=\"https://transparencytoolkit.org/project/hacking-team-archive/\" target=\"_blank\">Transparency Toolkit</a> published a <a href=\"http://ht.transparencytoolkit.org/\" target=\"_blank\">searchable database</a> of Hacking Team&#x2019;s emails revealing details of their operation, contacts and communication <a href=\"http://labs.rs/en/hacking-team-the-italian-job-of-serbian-security-services/\" target=\"_blank\">with government agencies</a>, companies and individuals around the globe as well as the functionalities of their cyber surveillance weapons.</p></div> </section>\n<h6><section class=\"stag-section stag-columns\"><p class=\"stag-column stag-one-third stag-column-last\">Hacking Team designed a modular, multifunctional and cross platform surveillance solution, RCS (Remote Control System). The solution gives the operator a full and uninterrupted access to and control over the infected device, the privileges of the operator of the software are limitless, they can send email or SMS and make phone calls, listen in on the user&#x2019;s phone calls and read encrypted communication. The access is not limited exclusively to the software, the operator can also manipulate with the hardware on the infected device, i.e. activate the microphone or the camera and record audio and video or take photos. The software is designed in such a manner that its operation goes undetected by any anti-malware or anti-spyware scanner, its traffic is well blended in with the user&#x2019;s legitimate Internet traffic.</p> </section></h6>\n<h3>We were given this pile of data and soon we REALIZED there was another gem hidden in it. We were able to extract a substantial amount of metadata &#x2013; headers from hundreds of thousands emails from their database. We got our own little portion of Big data and that is where our research began.<br>\n</h3>\n<h2>Do It Yourself Metadata Investigation</h2>\n<p>The concept behind data-mining and analysis operation performed by the government agencies around the world is that metadata can be analysed to reveal connections between people, and these links can generate significant investigative leads.</p>\n<p>This is not exclusively done by government agencies, our metadata is constantly collected and examined by major Internet companies such as Google and Facebook, but for the purpose of profiling of users and transforming our behavior into profit, which reaches tens of billions US dollars per annum.</p>\n<p>Thanks to Edward Snowden&#x2019;s <a href=\"https://search.edwardsnowden.com/\" target=\"_blank\">revelations</a> in June 2013 we got insight into the NSA Stellar Wind, Boundless Informant, PRISM and XKeyscore programs. One of the scopes of those programs was collecting and analysing large amount of email metadata. Analysis involve operations such as contact chaining, building a network graph that models the communication (e-mail, telephony, etc.) patterns of targeted entities (people, organisations, etc) and their associates from the communications sent or received by the targets.<img class=\"aligncenter wp-image-575 size-full\" src=\"http://labs.rs/wp-content/uploads/2015/10/StellarWind.jpg\" alt=\"StellarWind\" width=\"970\"></p>\n\n\n<section class=\"stag-section stag-columns\"><p class=\"stag-column stag-two-third\">To make a pint of just how intrusive metadata analysis can be, we used this substantial amount of metadata we were able to extract from the HT&#x2019;s published email database, along with publicly available knowledge&#xA0;and a number of free or trial versions of tools available online, to conduct our own investigation.</p> </section>\n<h6><section class=\"stag-section stag-columns\"><p class=\"stag-column stag-one-third stag-column-last\">&#x201C;Metadata is extraordinarily intrusive. As an analyst, I would prefer to be looking at metadata than looking at content, because it&#x2019;s quicker and easier, and it doesn&#x2019;t lie.&#x201D;<br>\nEdward Snowden</p> </section></h6>\n<h3>In some kind of reverse engineering process we explored the possibility of using their own methodology for an independent data investigation of the Hacking Team, one of the <a href=\"http://surveillance.rsf.org/en/category/corporate-enemies/\">&#x201C;CORPORATE ENEMIES OF THE INTERNET&#x201D;</a>.</h3>\n<h2>Investigation process</h2>\n<h2>Email Metadata : Building blocks for our investigation</h2>\n<p>Let&#x2019;s begin with a short explanation of our little treasure &#x2013; email headers. Every email consists of three components: the envelope, the header, and the body of the message. The envelope is a part of the internal process by which an email is routed, the body is the actual content of the message and the header, the third component of an email, is the point of interest of our research.</p>\n\n\n<p><img class=\"aligncenter wp-image-551 size-full\" src=\"http://labs.rs/wp-content/uploads/2015/10/Headers.jpg\" alt=\"Headers\" width=\"1872\"></p>\n<p>Headers identify particular routing information of the message, including the sender, recipient, date and subject, sending and receiving time stamps. In some cases email headers also contain the IP address of the sender and information on the route an email takes as it is transferred from one computer to another.</p>\n<h6><a href=\"http://labs.rs/wp-content/uploads/2015/10/database.jpg\"><br>\n<img class=\"aligncenter wp-image-568 size-full\" src=\"http://labs.rs/wp-content/uploads/2015/10/database.jpg\" alt=\"database\" width=\"970\"></a>Tools : Export from MS Outlook <a href=\"http://www.codetwo.com/downloads/freeware/?sts=4310&amp;gclid=COHh3NO0g8kCFcHGGwodtcgGpg\" target=\"_blank\">Code Two Outlook Export</a>&#xA0;&gt;&#xA0;<span id=\"Data_processing\" class=\"mw-headline\">Data processing <a href=\"https://products.office.com/en/excel\">MS Excel</a>&#xA0;</span></h6>\n<p>After extracting data from around 60 accounts and hundreds of thousands emails of Hacking Team employees, we got a database we could work with.</p>\n<h2>Needles in a haystack</h2>\n<p>The first step we took in exploring this pile of data was to perform a<a href=\"https://en.wikipedia.org/wiki/Social_network_analysis\" target=\"_blank\"> Social Network Analysis</a>, a strategy for investigating social structures based on network and graph theories. It characterises networked structures in terms of nodes (individual actors, people) and ties or edges (relationships or interactions) that connect them. In our case, the network graph represents an analysis of all email headers exchanged between Hacking Team employees and their contacts between 2012 and 2015. Even at this very begining of the investigation we were able to detect the main internal and external actors and ties, more precisely by the amount of exchanged emails between them.<br>\nBy selecting the individual nodes, we are able to explore their individual social ties and contacts.</p>\n<h6>Social network Analysis of hacking team email database ( period 2013-2015 )<br>\n<br>\n<br>\nTools : Social Network analysis with <a href=\"http://gephi.github.io/\" target=\"_blank\">Gephy</a>&#xA0;exported with Sigma.js by <a href=\"http://blogs.oii.ox.ac.uk/vis/\" target=\"_blank\">Oxford Internet Institute</a></h6>\n<p>By filtering out the nodes with less than a 100 exchanged emails, we isolate the internal Hacking Team communication and get a closer look at their internal structure based solely on it.</p>\n<h6>Social network analysis of nodes with +100 exchanged emails<br>\n<br>\n<br>\nTOOLS : SOCIAL NETWORK ANALYSIS WITH <a href=\"http://gephi.github.io/\" target=\"_blank\">GEPHY</a>&#xA0;EXPORTED WITH SIGMA.JS BY <a href=\"http://blogs.oii.ox.ac.uk/vis/\" target=\"_blank\">OXFORD INTERNET INSTITUTE</a></h6>\n<p>Giving that this was somewhat a learning process of our own, while exploring the metadata we came to notice that our understanding of data and leads we got from it highly depended on the type of visualisation we applied to the data set. Sometimes ties between different actors were more successfully, more clearly revealed by using different visualisations. Like in this example, where we see the same data set as the one presented above, but this time in the form of a heat map.</p>\n<h6>Heat-map of internal communication<br>\n<img class=\"aligncenter wp-image-656 size-full\" src=\"http://labs.rs/wp-content/uploads/2015/10/Heatmap-01-01.jpg\" alt=\"\" width=\"961\"></h6>\n<p>By spotting the darker squares we can explore individual ties between different employees within organisation. D. Vincenzetti is clearly the main actor in this graph, but we can also notice a few other strong relations across this heatmap, that can help us get a better insight into their organisational structure.</p>\n<p>Finally, using the insights from both visualisation methods, we are able to shape a communication chart that might represent a credible representation of the organisational structure. It probably doesn&#x2019;t display relations that are in accordance with what is written on their business cards, but on the other hand it probably represents real relations between people within the organisation better.</p>\n<h6>Potential organisational structure based on the level and direction of communication&#xA0;<a href=\"http://labs.rs/wp-content/uploads/2015/10/structure.jpg\"><br>\n</a><a href=\"http://labs.rs/wp-content/uploads/2015/10/orgstructure.jpg\"><img class=\"aligncenter size-full wp-image-650\" src=\"http://labs.rs/wp-content/uploads/2015/10/orgstructure.jpg\" alt=\"orgstructure\" width=\"970\"></a><a href=\"http://labs.rs/wp-content/uploads/2015/10/structure.jpg\"><br>\n</a></h6>\n<p>Setting aside the organisational structure, if we were to add another interesting piece of information retrieved from metadata &#x2013; the time component, we would be able to track the activity of every individual employee in time, based on the number of sent messages from each one of them. Having done this, we created the following activity chart. With this kind of analysis you could, for example, speculate or determine which part of the year is the busiest for the organisation or, combined with other information inputs, when certain employees went on vacation or took a leave of absence.</p>\n<h6>Number of sent emails per HT employee in time (2014)<br>\n<a href=\"http://labs.rs/wp-content/uploads/2015/10/Heatmap-01-01.jpg\"><img class=\"aligncenter size-full wp-image-657\" src=\"http://labs.rs/wp-content/uploads/2015/10/HT-internal-timeline-01.jpg\" alt=\"HT internal timeline-01\" width=\"947\"></a></h6>\n<h2>Exploring External Contacts</h2>\n<p>Even more interesting, or relevant for investigative data journalism and our effort to understand the nature of the organisation that we are investigating, are probably the external contacts.<br>\nIn our set of data that means around 4600 different individuals that exchanged emails with Hacking Team employees in the course of 2&#xA0;years.</p>\n<p>If we exclude all the @hackingteam.com adresses and rank results by the number of records we are going straight to the point. This is the list of Hacking Team contacts with more than 50 emails exchanged.</p>\n<h6>External contacts with more than 50 emails exchanged with HT Employees ( 2014-2015 )<br>\n<img class=\"aligncenter size-full wp-image-658\" src=\"http://labs.rs/wp-content/uploads/2015/10/contacts-01.jpg\" alt=\"contacts-01\" width=\"961\"></h6>\n<p>If we add the Hacking Team employees on the other axis, we will get information who in the &#xA0;team communicated with external contacts and how frequent and strong the communication was.</p>\n<h6>Number of emails exchanged (&gt;30) between HT employees and external contacts&#xA0;( 2014-2015 )<br>\n<img class=\"aligncenter size-full wp-image-664\" src=\"http://labs.rs/wp-content/uploads/2015/10/contacts-and-inter-01.jpg\" alt=\"contacts and inter-01\" width=\"960\"></h6>\n<p>Additionally, if we add the time component, we have a complete overview of who communicated with whom and when.</p>\n<h6>Timeline of individual communication of &#xA0;external contacts and ht employees &#xA0;( 2014-2015 )<br>\n<img class=\"aligncenter size-full wp-image-666\" src=\"http://labs.rs/wp-content/uploads/2015/10/contacts-in-time-01.jpg\" alt=\"contacts in time-01\" width=\"960\"></h6>\n<p>We grouped the emails by domain, and after some research about the companies behind the domain names, we classified them by the type of service they officially provide.</p>\n<h6>external contacts grouped by the domain name based on the d.vincenzetti emails<br>\n<img class=\"aligncenter size-full wp-image-669\" src=\"http://labs.rs/wp-content/uploads/2015/10/domains-01.jpg\" alt=\"domains-01\" width=\"960\"></h6>\n<p>According to this treemap the biggest group of organisations collaborating with HT are from the &#x201C;digital security&#x201D; sector, followed by individual contacts, i.e. &#x201C;consultants&#x201D; and venture capital companies.</p>\n<p>We can explore the relation between selected companies and Hacking Team in time.</p>\n<h6>Timeline of selected companies email communication with ht employees (2014)<br>\n<a href=\"http://labs.rs/wp-content/uploads/2015/10/4-companies-01.jpg\"><img class=\"aligncenter size-full wp-image-671\" src=\"http://labs.rs/wp-content/uploads/2015/10/4-companies-01.jpg\" alt=\"4 companies-01\" width=\"961\"></a></h6>\n<section class=\"stag-section stag-columns\"><div class=\"stag-column stag-two-third\">Different colours represent different people within an organisation. We can notice that, for example in the case of <a href=\"http://www.nice.com/\">Nice Solutions</a>, the biggest partner of Hacking Team according to the examined metadata, the connections between Hacking Team and Nice are really tight and there is a constant communication between the two companies including a lot of different employees on all levels (number of different colours on the graph). We can also track how different actors are taking communication in different times.</div> </section>\n<h6><section class=\"stag-section stag-columns\"><div class=\"stag-column stag-one-third stag-column-last\">According to their official <a href=\"http://www.nice.com/about-nice/company-overview\">STATEMENT</a> &#x201C;NICE solutions empower organisations to capture, analyse, and apply, in real time, insights from both structured and unstructured Big Data. This data comes from multiple sources, including phone calls, mobile apps, emails, chat, social media, video, and transactions. NICE solutions are used by over 25,000 organisations in more than 150 countries, including over 80 of the Fortune 100 companies&#x201D;. Looking at the data we analysed we can probably conclude that the same expertise and tools for collecting data and analysis is shared and being sold on different markets and to different target groups, Hacking Team for government agencies and Nice Solutions for companies and law enforcement agencies.</div> </section><br>\n</h6>\n<h2>Pattern of life</h2>\n<p>Humans are amazing pattern-recognition machines. We are constantly analysing complex sets of inputs, and making decisions based on facts we previously encountered or learned. But in <a href=\"http://www.forbes.com/sites/lisabrownlee/2015/07/10/the-11-trillion-internet-of-things-big-data-and-pattern-of-life-pol-analytics/\">recent years</a>, we are not the only ones who analyse patterns around us, we are becoming more and more the object of analysis, mostly performed by machines and algorithms.</p>\n<h3>The unique way we interact with the technology we use, the unique set of contacts we have or our unique behavioral patterns define our metadata signature, our fingerprint. In the eyes of the algorithmic analysis every single person is unique.</h3>\n<p>Pattern-of-life analysis is a method of surveillance specifically used for documenting or understanding subject&#x2019;s habits. It is a computerised data collection and analysis method used to establish the subject&#x2019;s past behavior, determine its current behavior, and predict its future behavior. This form of analysis is generally done without your consent, and it&#x2019;s applied not just in the security field, but it is a core activity and business model of many of the biggest Internet companies. More commonly, pattern of life analysis is called profiling. Inputs for this analysis are in most of the cases our metadata collected from emails, IP traffic or data from mobile phones and other technology we use.</p>\n<p>Even though we are just limited to email metadata in our research , we will try to perform pattern of life analysis on one key figure from Hacking Team and try to see what we can get.</p>\n<p>According to the previous phases of our metadata investigation, an obvious choice of a node (person) with the biggest amount of internal and external contacts and communication is d.vincenzetti@hackingteam.com. We will call him Mr.D.</p>\n<p>We are trying to understand 3 main things here:</p>\n<p>What is the behavioural pattern of Mr.D ?<br>\nWhat are the anomalies in this pattern?<br>\nHow different the behavioural pattern of Mr.D is in comparison to his social/professional circle?</p>\n<h6>pattern RECOGNITION : sum of Mr.d sent and received emails per hour during the day (2014)<br>\n<img class=\"aligncenter size-full wp-image-673\" src=\"http://labs.rs/wp-content/uploads/2015/10/sent-vs-received-01-01.jpg\" alt=\"sent vs received-01-01\" width=\"960\"></h6>\n<p>Sent emails represent the behaviour of the person that we are examining and received emails represent the overall behavioural pattern of his social or professional environment.</p>\n<p>Mr.D is not the same as other people.<br>\nHe starts his activities quite early in the morning. Almost every day around 4 a.m. is his time of concentration, the moment when he sends the biggest amount of emails during the day. If we are comparing the number of sent and received emails we can see that Mr.D has different habits than most of his contacts. His social and professional circles are most productive around 10 a.m., most of them have a lunch break around 1 p.m. and their productivity rapidly declines from 4 p.m. On the other hand, Mr.D doesn&#x2019;t have a big swings of productivity during the day. His peak during working hours is at noon. It looks like he doesn&#x2019;t have a regular lunch break and when his co-workers and external contacts start to lose concentration in the afternoon, he has another peak of activity around 5 p.m.. Additionally, Mr. D seldom sends any emails after 8 p.m.</p>\n<h6>PATTERN RECOGNITION : SUM OF MR.D SENT AND RECEIVED EMAILS PER week&#xA0;days&#xA0;and months (2014)<br>\n<img class=\"aligncenter size-full wp-image-675\" src=\"http://labs.rs/wp-content/uploads/2015/10/weekmonth-01-01.jpg\" alt=\"weekmonth-01-01\" width=\"961\"></h6>\n<p>If we are analysing Mr.D&#x2019;s behavioral patterns on a week&#x2019;s scale we can find out that he is even working much more than his professional circles during the weekend as well. It looks like his only time out of emails is every saturday during lunch time around noon.</p>\n<p>That is Mr.D&#x2019;s average behavior, but what is even more important to our analysis are the anomalies in his behavior. Anomalies can point to many things. People are changing their behaviour when depressed, sick, working under pressure, when there are some deadlines or important events, when they are traveling or when they fall in love, for example.</p>\n<h6>ANOMALY detection : number of MR.D sent emails per hour (2014)<br>\n<img class=\"aligncenter size-full wp-image-677\" src=\"http://labs.rs/wp-content/uploads/2015/10/anomaly-01.jpg\" alt=\"anomaly-01\" width=\"960\"></h6>\n<p>On this graph we can see some spikes that represent anomalies in Mr.D&#x2019;s productivity.<br>\nFor example, on the 11th of December at 7 p.m., he sent 19 emails during one hour compared to average 2.7 emails that he usually sends.</p>\n<p>The following heatmap is probably most effective for spotting anomalies.</p>\n<h6>pattern RECOGNITION and ANOMALY DETECTION :&#xA0;heat-map of mr.d sent emails per hour (2014)<br>\n<img class=\"aligncenter size-full wp-image-680\" src=\"http://labs.rs/wp-content/uploads/2015/10/anomalybig-01-01.jpg\" alt=\"anomalybig-01-01\" width=\"961\"></h6>\n<p>Looking at the heatmap, you can spot an interesting anomaly in September. On the 20th in the afternoon we see a really low level of activity, which is unusual for Mr.D, giving that we already know that his daily productive peak is around noon.<br>\nFurther, on September 21st from 4 a.m, when he generally wakes up and starts work, there is no activity until the day after at 7 a.m.<br>\nIn the next few days we see that the pattern is uncommon. It looks as if Mr.D sleeps in the afternoon and works intensively during the night. On September 27th, we can see again a lack of communication and then in the following days, Mr. D&#x2019;s pattern is back to normal. Based on the other metadata inputs that we will explain later in our research, we found out that Mr.D was traveling to Singapore between the 21st and the 27th of September. With that we can easily conclude that a change in the time zone influences Mr.D&#x2019;s email pattern.</p>\n<p><a href=\"http://labs.rs/wp-content/uploads/2015/10/anomalies.jpg\"><img class=\"aligncenter size-full wp-image-579\" src=\"http://labs.rs/wp-content/uploads/2015/10/anomalies.jpg\" alt=\"anomalies\" width=\"970\"></a></p>\n<p>We can find another anomaly in the pattern from October 5th to October 12th, but this pattern looks a bit different, it swings in another direction. On this occasion Mr.D went to the USA and it showed us how different time zones leave different footprints in his pattern.</p>\n<p>There is also one really interesting pattern anomaly on June the 24th and the following day (you can see darker squares and an increased level of communication). On that day, researchers from Citizens Lab published analysis <a href=\"https://citizenlab.org/2014/06/backdoor-hacking-teams-tradecraft-android-implant/\">&#x201C;Police Story: Hacking Team&#x2019;s Government Surveillance Malware&#x201D;</a> exposing the functionality and architecture of Hacking Team&#x2019;s Remote Control System (RCS) in a never-before published detail. This report had a great media coverage, including media such as <a href=\"http://www.economist.com/blogs/pomegranate/2014/07/internet-monitoring-gulf\">The Economist,</a> <a href=\"https://news.yahoo.com/eyes-experts-reveal-police-hacking-methods-155417984--finance.html%22\">Associated Press</a>, <a href=\"http://www.wired.com/2014/06/remote-control-system-phone-surveillance/\">Wired</a>, <a href=\"http://motherboard.vice.com/read/police-grade-mobile-spyware-is-spreading-through-saudi-arabia-and-beyond\">VICE</a>, <a href=\"http://www.ibtimes.co.uk/hacking-team-tools-allow-governments-take-full-control-your-smartphone-1453987\">International Business Times</a>, <a href=\"http://www.forbes.com/sites/emmawoollacott/2014/06/25/how-governments-including-the-us-use-targets-phones-to-spy-on-them/\">Forbes</a> and others. We can see how this stressful event for Hacking Team reflects on the pattern of Mr.D&#x2019;s emails.</p>\n<h2>Mysteries of the Subject</h2>\n<p>Aside from the defined activity patterns and discovered anomalies, email subjects also reveal a very detailed overview of Mr.D&#x2019;s communication with other employees of Hacking Team.</p>\n<h6>timeline of emails sent from mr.d to individual ht EMPLOYEES in 2014 ( hover on graph&#xA0;for subject line&#xA0;)<br>\n<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<p>Just to make a short but interesting digression: while creating this&#xA0;graph of email subjects we stumbled upon the moment A.Pelliccione <a href=\"http://motherboard.vice.com/read/the-hacking-team-defectors\">left</a> Hacking Team in March 2014. At this moment his communication with Mr. D stops. Based on the IP location data that we will present later, we also found out that he moved to Malta and started communicating through a different email address &#x2013; <a href=\"https://reaqta.com/\">reaqta.com</a>.</p>\n<p>We can argue whether the email subject should be considered metadata or not. However, looking from a technical point of view, the subject is a part of the header in the same way as other types of information (From, To, Date, etc.). Basically, it&#x2019;s just a matter of choice of the person who is to analyse the metadata. For the intents and purposes of our research, we will consider the subject a legitimate source for metadata analysis.</p>\n<h6>timeline of subject lines ( 2014 )<br>\n<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<p>Getting back to email subjects, they can sometimes give us some really amusing information. For instance, many companies such as Amazon, list the ordered items in the subject of a Confirmation email you receive after your payment has been processed.</p>\n<p>By extracting the emails sent by Amazon to Hacking Team employees, we were able to get an insight into their purchases.</p>\n<h6>timeline of emails with subjects from amazon.it<br>\n<img class=\"aligncenter size-full wp-image-682\" src=\"http://labs.rs/wp-content/uploads/2015/10/amazon-01.jpg\" alt=\"amazon-01\" width=\"961\"></h6>\n<p>But there are some more extreme examples.</p>\n<p>If we look at the treemap of Hacking Team partners, there is a company called Carlson Wagonit Travel. According to the company&#x2019;s <a href=\"http://www.carlsonwagonlit.com/en/global/our_company/\">website</a>, they deliver solutions for business travel, meetings and events management. For HT they arrange and buy plane tickets, book hotels and provide travel assistance. They have one bad habit (which is quite common for many booking agencies), every time an airplane ticket is booked, the agency would send an email with name and airport codes, contained in the subject line, to the prospective passenger. Extracting that information from the subject and cross-referencing with the date the email was sent, we are able to get an approximate information about the journeys of HT employees.</p>\n<p>The list of Hacking Team frequent flyers and locations they visit looks like this.</p>\n<h6>map of ht employees flights based on cwt emails subject lines<br>\n<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a><span><br>\n</span></h6>\n<p>These data give some interesting information related to our assumption of how the organisational structure of Hacking Team looks like. If we go back to our organisational structure graph based on social network analysis and compare with this list of frequent flyers, we can see that the most frequent flyers are not very high in the hierarchy according to our network graph. However, if we group the flights by passenger&#x2019;s name, we realise that each of the most frequent flyers is based in a certain place, and covers a certain region/market, such as SE Asia, Middle East, South America etc. Conclusion that we can get from this is that those employees are responsible for certain markets or regional Hacking team offices around the world.</p>\n<h6>individual ht employees flights map based ON CWT EMAILS SUBJECT LINES<br>\n<img class=\"aligncenter size-full wp-image-683\" src=\"http://labs.rs/wp-content/uploads/2015/10/traveling-maps.jpg\" alt=\"traveling maps\" width=\"1105\"></h6>\n<p>If we regroup the same set of data, by location, we can see at which point in time and where two or more Hacking Team employees have met or have traveled together. This implies potential business meetings, sales of surveillance tools, establishing new relations with international customers and government agencies around the globe.</p>\n<h6>timeline of&#xA0;INDIVIDUAL HT EMPLOYEES FLIGHTS to different countries&#xA0;&#xA0;BASED ON CWT EMAILS SUBJECT LINES<br>\n<img class=\"aligncenter size-full wp-image-685\" src=\"http://labs.rs/wp-content/uploads/2015/10/meetings-01.jpg\" alt=\"meetings-01\" width=\"961\"><br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<h2>Homing pigeon</h2>\n<p>The email header hides one even more precise location information. In some cases, the email headers reveal the IP address of the sender. The IP address can then be geolocated, using some publicly available tools, to the level of a city or individual router. In the context of our investigation, this allows us to trace every one of Mr.D&#x2019;s contacts. Every time someone sends an email to Mr.D, that person basically reveals their location to us. Just by analysing the metadata of Mr.D&#x2019;s received emails we can get information where the senders are located, when they changed city or country.</p>\n<p>This allowed us to locate even more precisely in time all employees of Hacking Team.</p>\n<h6>timeline of&#xA0;hT employees ip locations based on emails received by mr.d (2014-2015)<br>\n<span><img class=\"alignnone wp-image-690 size-full\" src=\"http://labs.rs/wp-content/uploads/2015/10/IP-cities1.jpg\" alt=\"IP cities\" width=\"1990\"><br>\n</span></h6>\n<p>We can see for example, that most of the employees are located in Italy, but there are some of them being situated in different places around the world.</p>\n<p><strong>D.Maglietta</strong> is for example head of their office in Singapore but he spends Christmas in Spain.&#xA0;<strong>E.Pardo</strong> is in Bogota, Colombia most of the time and he had a visit from another HT employee <strong>A.Scarafile</strong> on January 14th.&#xA0;We can see how <strong>E.Shehata</strong> jumps around the Middle East visiting Qatar, Lebanon, United Arab Emirates, Egypt and Jordan.&#xA0;<strong>E. Rabe</strong> is situated in Ardmore, PA, USA but moved on February 14th to another suburb of Philadelphia. And finally, even though HT claims to have an office in Washington DC, based on metadata we didn&#x2019;t find any evidence that would support that.</p>\n<p>On a World map, the distribution of their locations looks like this.</p>\n<h6>map&#xA0;OF&#xA0;HT EMPLOYEES IP LOCATIONS BASED ON EMAILS RECEIVED BY MR.D (2014-2015)<br>\n<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<p>Locations of the external contacts of Mr.D give us a real insight into their global operations.</p>\n<h6>MAP&#xA0;OF external contacts&#xA0;IP LOCATIONS BASED ON EMAILS RECEIVED BY MR.D (2014-2015)<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<p>This tiny piece of information allows us to explore individual contacts in each country, to find their main partners, even to track locations of their contacts in time.</p>\n<h6>MAP&#xA0;OF EXTERNAL CONTACTS&#xA0;IP LOCATIONS&#xA0;( ZOOM &#xA0;or move map to explore other regions )<br>\n<br>\nTOOL : <a href=\"http://www.tableau.com/\" target=\"_blank\">TABLEAU</a></h6>\n<h2>It&#x2019;s Just Metadata</h2>\n<p>More often than not, the power of metadata is being taken naively or its potential usage is being oversimplified in comparison with the content of our communication. But we see that even our not very sophisticated, DIY methods, enabled us to create a deep and clear image of someone&#x2019;s habits and activities, using information extracted from &#x2018;only&#x2019; email metadata. Although our investigation primarily discovered relations, patterns and anomalies of someone&#x2019;s work life, it still gave us an insight into that person&#x2019;s habits that border with private life. In the end, metadata scans someone&#x2019;s behaviors on a much deeper level than traditional surveillance practice related to content could ever do.</p>\n<p>At moments, while conducting this investigation, it certainly felt as if we were peeking into the deepest corners of someone&#x2019;s life. What felt even more disturbing is the idea that our subjects of analysis are probably less aware of their behavioral patterns that we are. It&#x2019;s just metadata, and in our case just one little segment of it. This is why our research provoked an internal debate within our team on the ethical issues of this kind of practice and on the form in which the findings of this research should be published. On numerous occasions, supporters of NSA surveillance programs, claimed that collecting and analysis of metadata is not surveillance. According to our data exploration, we can claim that it can be even more intrusive than regular content surveillance.</p>\n<h2>Who has access to metadata?</h2>\n<p>Understanding who has access to metadata and the possibility to analyse it will give us an answer to the question of the new power structures and distribution of wealth in the information society.</p>\n<h6><section class=\"stag-section stag-columns\"><div class=\"stag-column stag-one-third\">Companies<br>\nThe first and obvious group are the companies that provide services such as Google or Facebook. They don&#x2019;t just have access to the metadata, they have actual data and content on their servers. Quality, variety and amount of metadata that for example Google owns about every user of his services, stored in gigantic datacentres are unprecedented <a href=\"https://www.academia.edu/10369819/Anomaly_Detection_The_Mathematization_of_the_Abnormal_in_the_Metadata_Society\">MONOPOLIES OF COLLECTIVE DATA</a>. Through their core business models they are pioneers of metadata exploitation. It could even be said that the first data centre setup by Google in 1998 can be considered the milestone of the birth of the metadata society.</div> </section></h6>\n<h6><section class=\"stag-section stag-columns\"><p class=\"stag-column stag-one-third\">INFRASTRUCTURE<br>\nThe second group with access to metadata is related to the the internet&#x2019;s infrastructure. Those are Internet service providers, mobile service providers, Internet exchange points and submarine optic cables and they can access data when it flows through their cables, routers and servers. The quality of metadata that they can collect depends on the endpoints attached to the infrastructure, but in any case they have access to the basic metadata of the internet packets. Even though the content of, say, emails, is supposedly encrypted (at least when using these mainstream services), the metadata is not, because the email architecture simply has to rely on metadata that are readable, as explained before.</p> </section></h6>\n<h6><section class=\"stag-section stag-columns\"><p class=\"stag-column stag-one-third stag-column-last\">GOVERNMENT<br>\nNational Laws in most cases give the Government or some of the Agencies thereof a legitimate access to users&#x2019; data, including email and other metadata. Internet infrastructure owners or companies that provide services are obliged to cooperate with Governments whose jurisdiction they are under. They often comply with Government requests and have different forms of technical cooperations. However, in many countries Government agencies have invested in developing programs for mass surveillance of citizens based on collecting metadata. These programs often rely on software that creates and exploits backdoors (as is Hacking Team&#x2019;s case) or use some other creative way to get access to metadata.</p> </section></h6>\n<p>Those are the hunters, hoarders and scavengers in the ecosystem of the metadata society, but there are some smaller species worth mentioning as well. Metadata is often a resource for different businesses based on data collection and analysis in the field of digital marketing, business analytics or scientific research.&#xA0;You can even be a subject of surveillance in your work environment. The company you work for could perform metadata analysis of your productivity, anomalies in your behavior during work time and analysis of your contacts. To name an example, this kind of internal company surveillance <a href=\"http://www.niceactimize.com/solution-demos-and-videos\">service</a> is provided by one of the Hacking Team main partners &#x2013; Nice, mentioned earlier in this text.</p>\nUnderstanding the power of metadata brings us closer to understanding the algorithmic governmentality as a concept and practice. The quality of metadata is that it is really easy to process and it can be done by machines and algorithms. In the eye of the algorithm, we are observed through our profiles, sets of behavioral patterns and anomalies extracted from our metadata. Automatic processing and algorithmic analysis of those data in real time leads to the world in which algorithms can decide whether we are terrorists or regular citizens, are we suitable for a <a href=\"http://www.forbes.com/sites/parmyolson/2011/03/15/the-algorithm-that-beats-your-bank-manager/\">loan in the bank</a>, an <a href=\"http://www.insurancecompanies.com/insider-information-how-insurance-companies-measure-risk/\">insurance policy</a>, or who is going to appear in our <a href=\"https://www.facebook.com/\">social stream</a>. Algorithms can eventually predict our future behaviour based on our past metadata, bringing us closer to the concept of <a href=\"http://www.theguardian.com/cities/2014/jun/25/predicting-crime-lapd-los-angeles-police-data-analysis-algorithm-minority-report\">pre-crime</a>, the tendency in criminal justice systems to focus on crimes not yet committed.\n<h3>We are not going to conclude anything about Hacking Team&#x2019;s activities, because that was never the goal of our research. We wanted to understand, hands-on, through research and practice how metadata analysis can be performed and what we can learn from it. We hope that researchers and investigative journalists can use our data and exploration for their own research and that they will be able to find new connections and leads based on metadata.</h3>\nContributors\n<h5><strong>Vladan Joler</strong> &#x2013; concept, research,&#xA0;data analysis, data visualization, text<br>\nAndrej Petrovski &#x2013; data mining and processing, text<br>\nNikola Kotur &#x2013; data processing and development<br>\nTamara Pavlovic &#x2013; editing and proofreading<br>\nJan Krasni &#x2013;&#xA0;peer review<b></b></h5>\n<h5>More about Share Lab you can find <a href=\"http://labs.rs/en/about/\">here&#xA0;</a><br>\nFor any question, raw data for research, or anything else, please contact us &#xA0;on info.at.shareconference.net</h5>\n\n\t</div>\n\n\t\t\n\t\n\t\t\n\t\n</div>"
    }, {
        "title": "Cryptographic Module Standards at a Crossroads after Snowden\u2019s Revelations",
        "url": "http://pomcor.com/2015/11/12/cryptographic-module-standards-at-a-crossroads-after-snowdens-revelations/",
        "excerpt": "Last week I participated in the third International Cryptographic Module Conference (ICMC), organized by the Cryptographic Module User Forum (CMUF), and concerned with the validation of cryptographic&hellip;",
        "date_saved": "Thu Jul 28 20:12:52 EDT 2016",
        "html_file": "cryptographic_module_standards_at_a_crossroads_after_snowdenu2019s_revelations.html",
        "png_file": "cryptographic_module_standards_at_a_crossroads_after_snowdenu2019s_revelations.png",
        "md_file": "cryptographic_module_standards_at_a_crossroads_after_snowdenu2019s_revelations.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t\t\t\t<p>\nLast week I participated in the\n<a href=\"http://icmconference.org/\">third International Cryptographic\nModule Conference (ICMC)</a>, organized by the Cryptographic Module\nUser Forum (CMUF), and concerned with the validation of cryptographic\nmodules against government and international standards. You may think\nof cryptographic module validation as a dry topic, but it was quite an\nexciting conference, full of technical and political controversy. The\ntechnical controversy resulted from the fact that the standards are\nout of sync with current technology and it is not at all clear how\nthey can be fixed. The political controversy resulted from the fact\nthat, after Snowden&#x2019;s revelations, it is not at all clear who should\ntry to fix them. The organizers signalled that they were not afraid\nof controversy by inviting as keynote speakers both Phil Zimmerman,\ncreator of PHP and co-founder of Silent Circle, and Marianne Bailey,\nDeputy CIO for Cybersecurity at the US Department of Defense, besides\nwell known expert Paul Kocher of SSL fame. I enjoyed an exchange\nbetween Zimmerman and Bailey on the imbalance between defense and\noffense at the NSA and its impact on cybersecurity. \n</p>\n\n<p>\nBesides the excitement, I liked the technical depth of the conference,\nand was pleasantly surprised by the gender and ethnic diversity, which\nwas striking by contrast with Silicon Valley. The next ICMC will take\nplace earlier in the year, May 18-20, 2016, in Ottawa, and the\n<a href=\"http://icmconference.org/?page_id=24\">call for papers</a> is\nalready out.\n</p>\n\n<h2>Background</h2>\n\n<p>\nThe conference was concerned with the design, implementation and\nvalidation of cryptographic modules that conform with the \n<a href=\"http://csrc.nist.gov/publications/fips/fips140-2/fips1402.pdf\">FIPS 140-2</a>\nand ISO 19790:2012 standards. FIPS 140-2 is a Federal Information\nProcessing Standard issued by the US National Institute of Standards\nand Technology (NIST). ISO 19790:2012 is an international standard\nderived from FIPS 140-2, much of which is word-by-word identical to\nFIPS 140-2. Cryptographic modules are validated as conforming to FIPS\n140-2 by the\n<a href=\"http://csrc.nist.gov/groups/STM/cmvp/\">Cryptographic Module\nValidation Program (CMVP)</a>, which is jointly managed by NIST and\nthe Communications Security Establishment Canada (CSEC) and relies on\nan international network of Cryptography and Security Testing (CST)\nlabs spanning four continents. There is also a\n<a href=\"http://csrc.nist.gov/groups/STM/cavp/\">Cryptographic\nAlgorithm Validation Program (CAVP)</a> for the validation of\nalgorithms rather than modules.\n</p>\n\n<p>\nHistorically, NIST has been an internationally acknowledged leader in\ncryptographic engineering. It organized international cryptographic\ncompetitions that resulted in the specification of AES as the\nworldwide de facto standard for symmetric encryption and SHA-3 as an\nalternative to the NSA-designed family of hash functions SHA-2. CMVP\nhas been one of the successes of NIST in cryptographic leadership.\nCMVP certification is widely sought after, not only for modules used\nby Federal Agencies in the US and Canada, but also for modules used by\nother governments and modules used for commercial purposes unrelated\nto any government.\n</p>\n\n\nBut the Snowden revelations regarding Dual EC DRBG, which Zimmerman\nreferred to in his keynote as having &#x201C;humiliated&#x201D; NIST,\nhave had an impact on the trust that the international cryptographic\ncommunity places in NIST, and given impetus to the development of\nnational cryptographic standards by countries other than the United\nStates. It will be difficult for NIST in the future to specify\ncryptographic standards that are accepted worldwide. Hence the\nquestion of who should fix the cryptographic module standards, which\nare now widely seen as obsolete.\n\n\n<h2>An obsolete standard</h2>\n\n<p>\nFIPS 140-2 is a revision of FIPS 140-1, which is itself a successor of\n<a href=\"http://everyspec.com/FED-STD/FED-STD-1027_4688/\">FED-STD-1027</a>, dated April 1982. FED-STD-1027 was renamed FIPS PUB 140\nbefore being revised and issued in January 1994 as FIPS 140-1.\nFederal Information Processing Standards (FIPS) are usually revised\nevery five years. FIPS 140-1 was issued in May 2001, with minor\nchanges over FIPS 140-2; but an attempt at making more radical changes\nin FIPS 140-3 was abandoned after drafts in 2007 and 2009.\n</p>\n\n<p>\nBesides being old, FIPS 140-2 is technically obsolete.\n</p>\n\n<p>\nIn the eighties, cryptography had to be implemented in hardware,\nbecause software was too slow. FED-STD-1027 was only concerned with\nhardware implementations. FIPS 140-1 and 140-2 allow software\nimplementations but only as an afterthought. They require a\ncryptographic module to be contained within a <i>physical\nboundary</i>, defined in FIPS 140-2 as <i>an explicitly defined\ncontinuous perimeter that establishes the physical bounds of a\ncryptographic module and contains all the hardware, software, and/or\nfirmware components of a cryptographic module</i>. Two sentences\nattempt to reconcile the concept of a physical boundary with the\nconcept of a software cryptographic module in FIPS 140-2, but come up\nshort:\n</p> \n\n<i>\n<blockquote>\n<p>\nIf a cryptographic module consists of software or firmware\ncomponents, the cryptographic boundary shall contain the processor(s)\nand other hardware components that store and protect the software and\nfirmware components. Hardware, software, and firmware components of a\ncryptographic module can be excluded from the requirements of this\nstandard if shown that these components do not affect the security of\nthe module.\n</p>\n</blockquote>\n</i>\n\n<p>\nThe concept of a cryptographic boundary is ill-defined for a software\nmodule, and this is a source of insecurity in validated products. In\nhis presentation, Ashit Vora said that the cryptographic boundary may\nbe shrunk to exclude key management from validation, or to claim\ncompliance of OpenSSL with FIPS 140-2 even though the implementation\nof TLS by OpenSSL has not been validated. I repeatedly heard\nconference attendees refer to applying FIPS 140-2 to a software module\nas &#x201C;<i>fitting a square peg into a round hole</i>&#x201D;.\n</p>\n\n<p>\nYet the first cryptographic module certified by CMVP was a software\nmodule (the Entrust Cryptographic Kernel, V1.9, &#x201C;For use in\nPCs&#x201D;, certified on October 12, 1995). FIPS 140-1 was already\nobsolete in 1995, and FIPS 140-2, which made only minor changes, did\nnot bring it up to date.\n</p>\n\n<p>\nSince then, the standard has become more and more out of sync with\ntechnology, in spite of efforts to keep it up to date by issuing\n<a href=\"http://csrc.nist.gov/groups/STM/cmvp/documents/fips140-2/FIPS1402IG.pdf\">implementation\nguidance</a>. Here are some examples. JavaScript programs are\ninterpreted by a web browser and run on any processor and operating\nsystem on which the browser runs, yet an algorithm or module\nimplemented in JavaScript can only be certified for a specific\nprocessor and operating system. Similarly, as pointed out by Apostol\nVassilev of NIST in response to a question after his presentation, a\ncryptographic module implemented by software running on a virtual\nserver can only be certified for a particular version of the\nhypervisor and a specific physical processor on which the hypervisor\nruns. Mobile devices rely on encryption for protection of data and\nkeys, yet FIPS 140-2 does not allow encryption to be relied upon to\nincrease the security level. Mobile devices derive encryption keys\nfrom a hardware root of trust or a cloud root of trust, but FIPS 140-2\nonly provides the option of deriving encryption keys from a password.\n</p>\n\n<p>\nAlso, the module validation process has not kept up with the\naccelerating pace of technology evolution. As pointed out by Vassilev\nin his presentation, certification review cycles are now much longer\nthan product cycles.\n</p>\n\n<h2>Benefits are not real</h2>\n\n<p>\nNIST speakers at the conference made it clear that they want to\nreplace FIPS 140-2 with ISO 19790 as the standard against which CMVP\nvalidates cryptographic modules used by US Federal Agencies. Michael\nCooper of NIST, during his joint presentation with other NIST\nspeakers, said that NIST expects to submit a recommendation to that\neffect to the Commerce Secretary as early as next month, after\nfinishing a review of comments on a Federal Register Notice proposing\nthe change.\n</p>\n\n<p>\nAt first glance, replacing FIPS 140-2 with ISO 19790 seems to be a\ngood solution to the problems facing cryptographic module validation.\nIt appears to provide two benefits:\n</p>\n\n<ol>\n\n<li>\nISO 19790 is much more recent than FIPS 140-2, its second edition being dated\n2012-08-15. (The Federal Register Notice refers to 19790:2014 but\nthere is no such thing. There is a 19790:2006, a.k.a. 19790 1st\nEdition, a 19790:2012, a.k.a. 19790 2nd Edition, and a\n<a href=\"https://webstore.iec.ch/publication/23401\">Technical\nCorrigendum</a> to 1790:2012 dated 2015-09-25.) Hence replacing FIPS\n140-2 with ISO 19790 would appear to bring up to date the standard\nused by CMVP.\n</li>\n\n<li>\nISO 19790 is an international standard. Hence using it in the CMVP\nprogram would appear to solve the problem that will be faced by\nvendors of cryptographic modules and testing laboratories as national\ncryptographic standards proliferate.\n</li>\n\n</ol>\n\n<p>\nBut neither benefit is real:\n</p>\n\n<ol>\n\n<li>\nAlthough the second edition of ISO 19790 is dated 2012, it only makes\nminor modifications to FIPS 140-2 (which itself only made minor\nmodifications to the 1994 FIPS 140-1 standard, itself derived from the\n1982 FED-STD-1027). ISO 19790 is as out of sync with current technology\nas FIPS 140-2.\n</li>\n\n<li>\nAlthough ISO 19790 is an international standard, NIST speakers said\nthat NIST intends to specify its own cryptographic algorithms in US\nannexes, and issue its own implementation guidance, expecting other\ncountries to do the same. This will negate the benefits of ISO 19790\nbeing an international standard for vendors and labs.\n</li>\n\n</ol>\n\n<p>\nAnd while the benefits are not real, ISO 19790 has real disadvantages:\nit is bad policy, and it repeats a mistake that has been blamed for\nthe inclusion of Dual EC DRBG in SP 800-90A.\n</p>\n\n<h2>Bad policy</h2>\n\n<p>\nISO charges a fee for downloading standards. Each document costs\nhundreds of dollars, and each standard includes many ancillary\ndocuments. In his presentation, Randall Easter, who holds positions\nboth at NIST and ISO, went over the ancillary documents related to ISO\n19790; they include: ISO 17825, 18367, 19896-1, 19896-2, 20085-1,\n20085-2, 20540, 20543, 2479 and 30104. In a comment after the talk,\nan attendee estimated that his organization would have to spend\nthousands of dollars on the documents. If ISO 19790 replaces FIPS\n140-2, testing labs and vendors of cryptographic modules would have to\npay collectively millions of dollars to ISO. But development of the\nISO standard has been paid for with US taxpayer money, since much of\nit is word-by-word identical to FIPS 140-2, and where the two\nstandards differ the changes have been made with NIST participation.\nSo US taxpayers would end up paying twice for the ISO standard, first\nby financing the work of NIST on FIPS 140-2 and ISO 19790, and then by\nbearing the cost of the documents, which labs and vendors will pass\nalong to US Federal Agencies that buy cryptographic modules conforming\nto the standard.\n</p>\n\n<h2>Repeating the Dual EC DRBG mistake</h2>\n\n<p>\nNIST included a deterministic random bit generator (DRBG) known as\nDual EC DRBG, invented by the NSA, in the original version of\n<a href=\"http://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf\">SP\n800-90A</a>,\nand removed it after stories in\n<a href=\"http://www.nytimes.com/2013/09/06/us/nsa-foils-much-internet-encryption.html\">The\nNew York Times</a>,\n<a href=\"http://www.propublica.org/article/the-nsas-secret-campaign-to-crack-undermine-internet-encryption\">ProPublica</a>,\nand\n<a href=\"http://www.theguardian.com/world/2013/sep/05/nsa-gchq-encryption-codes-security\">The\nGuardian</a>, referring to internal NSA memos leaked by Edward\nSnowden, suggested that the NSA had planted a back door in the\nalgorithm.\n</p>\n\n<p>\nDual EC DRBG is a very simple algorithm, and the method for planting a\nback door inside it is also very simple. They are described by\ndiagrams in slides 6 and 9 of a\n<a href=\"http://csrc.nist.gov/groups/SMA/ispab/documents/minutes/2013-12/nist_cryptography_800-90.pdf\">presentation</a>\nby John Kelsey of NIST. <i>P</i> and <i>Q</i> being points of an\nelliptic curve, pseudorandom bits are derived from <i>sQ</i>,\nwhere <i>s</i> starts out as the seed and is replaced with <i>sP</i>\neach time the DRBG is used. If <i>P</i> and <i>Q</i> are supplied by\nan adversary instead of being random, the adversary can plant a back\ndoor by letting <i>P</i> be <i>aQ</i>, where <i>a</i> is the back door\nknown to the adversary. The adversary can later compute the new\nvalue <i>sP</i> assigned to <i>s</i> from <i>sQ</i>, since <i>sP</i>\n= <i>s(aQ)</i> = <i>a(sQ)</i>. The adversary will not be able to\nsimply observe <i>sQ</i> as the algorithm is used, because the\nalgorithm only outputs a subset of the bits of the binary\nrepresentation of the abscissa of the point <i>sQ</i>. But only 16 of\nthe bits are not included in the subset, and the adversary can find\ntheir values by making up to 2<sup>16</sup> guesses. To test a guess,\nthe adversary combines the guessed bits with the output bits to obtain\nthe abscissa of a point <i>R</i> of the curve, computes the ordinate\nusing the curve equation, computes <i>S</i> = <i>aR</i>, drops 16 bits\nfrom the abscissa of <i>S</i>, and checks if the remaining bits agree\nwith the next output of the algorithm.\n</p>\n\n<p>\nThe back door <i>a</i> is a secret known only to the adversary. It is\nunfeasible to compute the scalar <i>a</i> such that <i>P</i>\n= <i>aQ</i> even though <i>P</i> and <i>Q</i> are public parameters\nbecause discrete logarithms are supposed to be hard to compute in the\nfield of points of the elliptic curve. (If you are wondering what\ndiscrete logarithms have to do with this, if the group operation were\nmetaphorically called multiplication instead of addition, <i>aQ</i>\nwould be written <i>Q<sup>a</sup></i> and called exponentiation\ninstead of scalar multiplication. With the multiplicative\nnotation, when <i>P</i> = <i>Q<sup>a</sup></i>, the exponent <i>a</i>\nis said to be the logarithm of <i>P</i> in base <i>Q</i>,\n&#x201C;discrete&#x201D; because the group is finite.)\n</p>\n\n<p>\nHow could such a simple back door make its way to SP 800-90A? It&#x2019;s a\nlong story with many twists and turns. An insider account can be\nfound in\n<a href=\"http://csrc.nist.gov/groups/ST/crypto-review/documents/dualec_in_X982_and_sp800-90.pdf\">another\npresentation</a> by John Kelsey. Additional information can be found,\namong other places,\nin a\n<a href=\"http://blog.cryptographyengineering.com/2013/12/a-few-more-notes-on-nsa-random-number.html\">blog\npost</a> by cryptographer Matthew Green, in this\n<a href=\"https://projectbullrun.org/dual-ec/\">web site dedicated\nto Dual EC DRBG</a>, and in this\n<a href=\"https://en.wikipedia.org/wiki/Dual_EC_DRBG\">Wikipedia\npage</a>.\n</p>\n\n<p>\nBut the root cause is clear. Dual EC DRBG was originally standardized\nas part of the X9.82 standard developed by working group X9F1 of X9\nwith NIST participation. X9 is an ANSI-accredited organization that\ndevelops financial services standards in the US and submits them to\nISO for international standardization. (X9.82 eventually became ISO\n18031.) Like ISO and other ANSI-accredited standards organizations,\nX9 is financed by membership fees and the sale of standards documents.\nConsequently, its working groups work behind closed doors, and its\nresulting standards receive little public scrutiny. This business\nmodel for standards development works well for most kinds of business\nand technical standards, but it does not work well for cryptography.\nCryptography requires transparency and extensive public scrutiny to\navoid the intentional or unintentional introduction of weaknesses in\nstandards. The international cryptographic competitions organized by\nNIST to specify AES and SHA-3 are good examples of cryptographic\nstandards development with transparency and public scrutiny.\n</p>\n\n<p>\nHere is what John Kelsey had to say about the development of the Dual\nEC DRBG standard within X9, in slide 15 of his\n<a href=\"http://csrc.nist.gov/groups/ST/crypto-review/documents/dualec_in_X982_and_sp800-90.pdf\">insider\naccount</a>:\n</p>\n\n<i>\n<ul>\n<li>Doing standard in X9 made it harder to get feedback</li>\n<ul>\n<li>Copies not available for review except by paying</li>\n<li>Few universities are X9 members, so academic cryptographers usually can&#x2019;t be involved</li>\n<li>Limited number of members with the right background (e.g., RNGs)</li>\n<ul>\n<li>Public review not very public</li>\n</ul>\n</ul>\n</ul>\n</i>\n\n<p>\nNIST made a mistake by adopting a standard that was developed in a\nmanner open to manipulation. John Kelsey adds in slide 46:\n</p>\n\n<i>\n<ul>\n<li>Many reasons why Dual EC DRBG should not have been in standard&#x2026;</li>\n<ul>\n<li>Performance, Bias, Potential Trapdoor</li>\n</ul>\n<li>&#x2026;but it had a champion on X9.82 editing committee</li>\n<ul>\n<li>Common way for weak algorithms to get into standards.</li>\n</ul>\n</ul>\n</i>\n\n<p>\nTransferring responsibility for the cryptographic module standard to\nISO would mean repeating the mistake.\n</p>\n\n<h2>Towards a solution with real benefits</h2>\n\n<p>\nThat the ISO business model is not suitable for the development of\ncryptographic standards does not mean that we should give up on an\ninternational solution. An international cryptographic module\nstandard would be very beneficial to vendors, labs and government\nagencies. Algorithms and implementation guidance should be part of\nthe standard and the same for all countries that accept the standard.\nInternational cryptographic harmonization will be difficult to\nachieve, but it should be a goal.\n</p>\n\n<p>\nAnother difficult goal to achieve will be to bring the cryptographic\nmodule standard up to date, when we do not even have a clear concept\nof what a software cryptographic module is. In his talk, Apostol\nVassilev said that NIST intends to create a working group with\nrepresentatives from government, industry, laboratories and academia.\nThat would be a good step towards that goal.\n</p>\n<strong>Share this:</strong><br><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-facebook nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on Facebook\" href=\"http://www.facebook.com/sharer.php?u=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F&amp;t=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations&amp;s=100&amp;p%5Burl%5D=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F&amp;p%5Bimages%5D%5B0%5D=&amp;p%5Btitle%5D=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations\"><img alt=\"facebook\" title=\"Share on Facebook\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/facebook.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-twitter nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on Twitter\" href=\"http://twitter.com/share?url=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F&amp;text=Check%20this%20out\"><img alt=\"twitter\" title=\"Share on Twitter\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/twitter.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-google_plus nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on Google+\" href=\"https://plus.google.com/share?url=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F\"><img alt=\"google_plus\" title=\"Share on Google+\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/google_plus.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-reddit nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on Reddit\" href=\"http://www.reddit.com/submit?url=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F&amp;title=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations\"><img alt=\"reddit\" title=\"Share on Reddit\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/reddit.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-linkedin nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on Linkedin\" href=\"http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F&amp;title=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations\"><img alt=\"linkedin\" title=\"Share on Linkedin\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/linkedin.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-tumblr nolightbox\" target=\"_blank\" rel=\"nofollow\" title=\"Share on tumblr\" href=\"http://tumblr.com/share?s=&amp;v=3&amp;t=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations&amp;u=http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F\"><img alt=\"tumblr\" title=\"Share on tumblr\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/tumblr.png\"></a><a class=\"synved-social-button synved-social-button-share synved-social-size-48 synved-social-resolution-single synved-social-provider-mail nolightbox\" rel=\"nofollow\" title=\"Share by email\" href=\"mailto:?subject=Cryptographic%20Module%20Standards%20at%20a%20Crossroads%20after%20Snowden%E2%80%99s%20Revelations&amp;body=Check%20this%20out:%20http%3A%2F%2Fpomcor.com%2F2015%2F11%2F12%2Fcryptographic-module-standards-at-a-crossroads-after-snowdens-revelations%2F\"><img alt=\"mail\" title=\"Share by email\" class=\"synved-share-image synved-social-image synved-social-image-share\" width=\"48\" src=\"http://pomcor.com/wp-content/plugins/social-media-feather/synved-social/image/social/regular/96x96/mail.png\"></a><br>\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t</div>"
    }, {
        "title": "bndw/pick",
        "url": "https://github.com/bndw/pick",
        "excerpt": "Python README.md A tiny password manager for OS X and Linux. Features JSON formatted data Environment Variable configuration GPG",
        "date_saved": "Thu Jul 28 20:12:54 EDT 2016",
        "html_file": "bndwpick.html",
        "png_file": "bndwpick.png",
        "md_file": "bndwpick.md",
        "content": "<div><div id=\"js-repo-pjax-container\" class=\"repository-content context-loader-container\">\n\n \n\n\n \n\n\n\n\n <p class=\"repository-lang-stats-graph js-toggle-lang-stats\" title=\"Click for language details\">\n <span class=\"language-color\">Python</span>\n </p>\n\n<include-fragment src=\"https://github.com/bndw/pick/show_partial?partial=tree%2Frecently_touched_branches_list\"></include-fragment>\n\n \n\n\n\n\n\n \n\n\n\n\n\n <div id=\"readme\" class=\"boxed-group flush clearfix announce instapaper_body md\">\n <h3>\n \n README.md\n </h3>\n\n <article class=\"markdown-body entry-content\">\n\n<p>A tiny password manager for OS X and Linux.</p>\n\n<p><a href=\"https://github.com/bndw/pick/raw/master/demo.gif\" target=\"_blank\"><img src=\"https://github.com/bndw/pick/raw/master/demo.gif\" alt=\"demo\"></a></p>\n\n<h2><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/bndw/pick#features\"></a>Features</h2>\n\n<ul>\n<li>JSON formatted data</li>\n<li>Environment Variable configuration</li>\n<li>GPG for encryption</li>\n</ul>\n\n<h2><a id=\"user-content-dependencies\" class=\"anchor\" href=\"https://github.com/bndw/pick#dependencies\"></a>Dependencies</h2>\n\n<ul>\n<li><p>GPG</p>\n\n\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># Linux</span>\nsudo apt-get install gnupg</pre></div></li>\n<li><p>xclip (Linux only)</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># Linux</span>\nsudo apt-get install xclip</pre></div></li>\n</ul>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/bndw/pick#installation\"></a>Installation</h2>\n\n<ol>\n<li><p>Clone the repository</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>git clone https://github.com/bndw/pick.git <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-c1\">cd</span> pick</pre></div></li>\n<li><p>Copy the <code>pick</code> executable into your PATH</p>\n\n</li>\n<li><p>Initialize pick</p>\n\n</li>\n</ol>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/bndw/pick#usage\"></a>Usage</h2>\n\n<ul>\n<li><p>Write a password (interactive)</p>\n\n</li>\n<li><p>Read a password by alias</p>\n\n</li>\n<li><p>Read all passwords</p>\n\n</li>\n</ul>\n\n<h2><a id=\"user-content-advanced\" class=\"anchor\" href=\"https://github.com/bndw/pick#advanced\"></a>Advanced</h2>\n\n<h3><a id=\"user-content-environment-variables\" class=\"anchor\" href=\"https://github.com/bndw/pick#environment-variables\"></a>Environment Variables</h3>\n\n<ul>\n<li><p>Don't want to type in the password everytime?</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> PICK_TOKEN=<span class=\"pl-k\">&lt;</span>PASSWORD HERE<span class=\"pl-k\">&gt;</span></pre></div></li>\n<li><p>Don't ever want your passwords printed to stdout?</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> PICK_CONFIG=<span class=\"pl-s\"><span class=\"pl-pds\">'</span>{\"silent\":true}<span class=\"pl-pds\">'</span></span></pre></div></li>\n<li><p>Want to print additonal metadata along with passwords?</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> PICK_CONFIG=<span class=\"pl-s\"><span class=\"pl-pds\">'</span>{\"verbose\":true}<span class=\"pl-pds\">'</span></span></pre></div></li>\n</ul>\n</article>\n </div>\n\n\n </div>\n </div>"
    }, {
        "title": "",
        "url": "http://www.tensorflow.org/tutorials",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:12:55 EDT 2016",
        "html_file": ".html",
        "png_file": ".png",
        "md_file": ".md",
        "content": "<div>\n\n <header id=\"header-waypoint\"></header>\n\n \n\n \n \n \n \n \n \n \n \n \n </div>\n"
    }, {
        "title": "Now Available for Download: Processing",
        "url": "https://www.raspberrypi.org/blog/now-available-for-download-processing/",
        "excerpt": "I&#x2019;m a long-time fan of Processing, a free open source programming language and development environment focused on teaching coding in the context of visual arts. It&#x2019;s why I&#x2019;m so&hellip;",
        "date_saved": "Thu Jul 28 20:12:58 EDT 2016",
        "html_file": "now_available_for_download_processing.html",
        "png_file": "now_available_for_download_processing.png",
        "md_file": "now_available_for_download_processing.md",
        "content": "<div><div class=\"entry-content\">\n <p>I&#x2019;m a long-time fan of <a href=\"https://processing.org/\">Processing</a>, a free open source programming language and development environment focused on teaching coding in the context of visual arts. It&#x2019;s why I&#x2019;m so excited that the latest version, Processing 3.0.1, now officially supports Raspberry Pi. Just as Sonic Pi lets you make your first sound in just one line of code, Processing lets you draw on screen with just one line of code. It&#x2019;s that easy to get started. But don&#x2019;t let that fool you, it&#x2019;s a very powerful and flexible language and development environment.</p>\n<p><img class=\"aligncenter wp-image-17351 size-large\" src=\"https://www.raspberrypi.org/wp-content/uploads/2015/11/processing-screen-shot-500x344.png\" alt=\"Screenshot of Processing development environment\" width=\"500\"></p>\n<p>We owe a huge thank you to <a href=\"http://cargocollective.com/gott/\">Gottfried Haider</a>, who did the heavy lifting to get Processing running smoothly on the Raspberry Pi and create <a href=\"https://processing.org/reference/libraries/io/index.html\">a hardware input/output library</a>. That&#x2019;s right, this version of Processing <a href=\"https://github.com/processing/processing/wiki/Raspberry-Pi\">works with the GPIO pins</a> right out of the box. Gottfried says:</p>\n<blockquote><p>I&#x2019;m excited about having Processing on the Raspberry Pi and other low-cost desktop machines. In the last few years we&#x2019;ve seen a shift away from easily accessible environments, towards concepts such as mobile platforms, specialized internet-of-things devices and cloud computing. As someone who got into programming by tinkering around with the open and readily available platforms of the time, I believe it&#x2019;s important to have initiatives such Raspberry Pi and Processing, to promote software literacy and to encourage a future where computers remain a read/write medium.</p></blockquote>\n<p>If you&#x2019;re new to Processing, please take a look at our newest resource, <a href=\"https://www.raspberrypi.org/learning/introduction-to-processing/\">Introduction to Processing</a>. Not only does it get you started programming with Processing on the Raspberry Pi, but it also covers basic hardware input/output. As with all of our free resources, we welcome you to contribute enhancements and fixes. For those of you who prefer something more in-depth, Processing co-founders Ben Fry and Casey Reas recently released a second edition of their book <em><a href=\"http://shop.oreilly.com/product/0636920031406.do\">Getting Started with Processing</a></em>, published by Maker Media.</p>\n<p>If you want to jump right in, you can download and install Processing from the terminal with this command:</p>\n<p><code>curl https://processing.org/download/install-arm.sh | sudo sh</code></p>\n<p>Or go to <a href=\"https://processing.org/download/\">Processing&#x2019;s downloads page</a> to download and install it on your own.</p>\n</div>\n\n\n \n\n \n </div>"
    }, {
        "title": "RichardKnop/go-oauth2-server",
        "url": "https://github.com/RichardKnop/go-oauth2-server",
        "excerpt": "Go OAuth2 Server This service implements OAuth 2.0 specification. Excerpts from the specification are included in this README file to describe different grant types. Please read the full spec for&hellip;",
        "date_saved": "Thu Jul 28 20:12:59 EDT 2016",
        "html_file": "richardknopgooauth2server.html",
        "png_file": "richardknopgooauth2server.png",
        "md_file": "richardknopgooauth2server.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://travis-ci.org/RichardKnop/go-oauth2-server\"><img src=\"https://camo.githubusercontent.com/90026677c99785e2b5c5d4962e79629d901a5601/68747470733a2f2f7472617669732d63692e6f72672f526963686172644b6e6f702f676f2d6f61757468322d7365727665722e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\" title=\"Build Status\"></a></p>\n\n<h2><a id=\"user-content-go-oauth2-server\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#go-oauth2-server\"></a>Go OAuth2 Server</h2>\n\n<p>This service implements <a href=\"http://tools.ietf.org/html/rfc6749#section-4.3\">OAuth 2.0 specification</a>. Excerpts from the specification are included in this README file to describe different grant types. Please read the full spec for more detailed information.</p>\n\n<h2><a id=\"user-content-index\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#index\"></a>Index</h2>\n\n\n\n<h2><a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#api\"></a>API</h2>\n\n<h2><a id=\"user-content-oauth-20\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#oauth-20\"></a>OAuth 2.0</h2>\n\n<h3><a id=\"user-content-client-authentication\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#client-authentication\"></a>Client Authentication</h3>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-3.2.1\">http://tools.ietf.org/html/rfc6749#section-3.2.1</a></p>\n\n<p>Clients must authenticate with client credentials (client ID and secret) when issuing requests to <code>/oauth/api/v1/tokens</code> endpoint. Basic HTTP authentication should be used.</p>\n\n<h3><a id=\"user-content-grant-types\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#grant-types\"></a>Grant Types</h3>\n\n<h4><a id=\"user-content-authorization-code\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#authorization-code\"></a>Authorization Code</h4>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-4.1\">http://tools.ietf.org/html/rfc6749#section-4.1</a></p>\n\n<p>The authorization code grant type is used to obtain both access tokens and refresh tokens and is optimized for confidential clients. Since this is a redirection-based flow, the client must be capable of interacting with the resource owner's user-agent (typically a web browser) and capable of receiving incoming requests (via redirection) from the authorization server.</p>\n\n<pre><code>+----------+\n| Resource |\n| Owner |\n| |\n+----------+\n ^\n |\n (B)\n+----|-----+ Client Identifier +---------------+\n| -+----(A)-- &amp; Redirection URI ----&gt;| |\n| User- | | Authorization |\n| Agent -+----(B)-- User authenticates ---&gt;| Server |\n| | | |\n| -+----(C)-- Authorization Code ---&lt;| |\n+-|----|---+ +---------------+\n | | ^ v\n (A) (C) | |\n | | | |\n ^ v | |\n+---------+ | |\n| |&gt;---(D)-- Authorization Code ---------' |\n| Client | &amp; Redirection URI |\n| | |\n| |&lt;---(E)----- Access Token -------------------'\n+---------+ (w/ Optional Refresh Token)\n</code></pre>\n\n<p>The client initiates the flow by directing the resource owner's user-agent to the authorization endpoint. The client includes its client identifier, requested scope, local state, and a redirection URI to which the authorization server will send the user-agent back once access is granted (or denied).</p>\n\n<pre><code>http://localhost:8080/web/authorize?client_id=test_client&amp;redirect_uri=https%3A%2F%2Fwww.example.com&amp;response_type=code&amp;state=somestate\n</code></pre>\n\n<p>The authorization server authenticates the resource owner (via the user-agent).</p>\n\n<p><a href=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/login_screenshot.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/login_screenshot.png\" alt=\"Log In page screenshot\"></a></p>\n\n<p>The authorization server then establishes whether the resource owner grants or denies the client's access request.</p>\n\n<p><a href=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/authorize_screenshot.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/authorize_screenshot.png\" alt=\"Authorize page screenshot\"></a></p>\n\n<p>If the request fails due to a missing, invalid, or mismatching redirection URI, or if the client identifier is missing or invalid, the authorization server SHOULD inform the resource owner of the error and MUST NOT automatically redirect the user-agent to the invalid redirection URI.</p>\n\n<p>If the resource owner denies the access request or if the request fails for reasons other than a missing or invalid redirection URI, the authorization server informs the client by adding the error parameter to the query component of the redirection URI.</p>\n\n<pre><code>https://www.example.com/?error=access_denied&amp;state=somestate\n</code></pre>\n\n<p>Assuming the resource owner grants access, the authorization server redirects the user-agent back to the client using the redirection URI provided earlier (in the request or during client registration). The redirection URI includes an authorization code and any local state provided by the client earlier.</p>\n\n<pre><code>https://www.example.com/?code=7afb1c55-76e4-4c76-adb7-9d657cb47a27&amp;state=somestate\n</code></pre>\n\n<p>The client requests an access token from the authorization server's token endpoint by including the authorization code received in the previous step. When making the request, the client authenticates with the authorization server. The client includes the redirection URI used to obtain the authorization code for verification.</p>\n\n<pre><code>$ curl -v localhost:8080/oauth/api/v1/tokens \\\n -u test_client:test_secret \\\n -d \"grant_type=authorization_code\" \\\n -d \"code=7afb1c55-76e4-4c76-adb7-9d657cb47a27\"\n</code></pre>\n\n<p>The authorization server authenticates the client, validates the authorization code, and ensures that the redirection URI received matches the URI used to redirect the client before. If valid, the authorization server responds back with an access token and, optionally, a refresh token.</p>\n\n<div class=\"highlight highlight-source-json\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">1</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>access_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>00ccd40e-72ca-4e79-a4b6-67c95e2e3f1c<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expires_in<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">3600</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token_type<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bearer<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scope<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo bar<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>refresh_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6fd8d272-375a-4d8a-8d0f-43367dc8b791<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<h4><a id=\"user-content-implicit\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#implicit\"></a>Implicit</h4>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-4.2\">http://tools.ietf.org/html/rfc6749#section-4.2</a></p>\n\n<p>The implicit grant type is used to obtain access tokens (it does not support the issuance of refresh tokens) and is optimized for public clients known to operate a particular redirection URI. These clients are typically implemented in a browser using a scripting language such as JavaScript.</p>\n\n<p>Since this is a redirection-based flow, the client must be capable of interacting with the resource owner's user-agent (typically a web browser) and capable of receiving incoming requests (via redirection) from the authorization server.</p>\n\n<p>Unlike the authorization code grant type, in which the client makes separate requests for authorization and for an access token, the client receives the access token as the result of the authorization request.</p>\n\n<p>The implicit grant type does not include client authentication, and relies on the presence of the resource owner and the registration of the redirection URI. Because the access token is encoded into the redirection URI, it may be exposed to the resource owner and other applications residing on the same device.</p>\n\n<pre><code>+----------+\n| Resource |\n| Owner |\n| |\n+----------+\n ^\n |\n (B)\n+----|-----+ Client Identifier +---------------+\n| -+----(A)-- &amp; Redirection URI ---&gt;| |\n| User- | | Authorization |\n| Agent -|----(B)-- User authenticates --&gt;| Server |\n| | | |\n| |&lt;---(C)--- Redirection URI ----&lt;| |\n| | with Access Token +---------------+\n| | in Fragment\n| | +---------------+\n| |----(D)--- Redirection URI ----&gt;| Web-Hosted |\n| | without Fragment | Client |\n| | | Resource |\n| (F) |&lt;---(E)------- Script ---------&lt;| |\n| | +---------------+\n+-|--------+\n | |\n (A) (G) Access Token\n | |\n ^ v\n+---------+\n| |\n| Client |\n| |\n+---------+\n</code></pre>\n\n<p>The client initiates the flow by directing the resource owner's user-agent to the authorization endpoint. The client includes its client identifier, requested scope, local state, and a redirection URI to which the authorization server will send the user-agent back once access is granted (or denied).</p>\n\n<pre><code>http://localhost:8080/web/authorize?client_id=test_client&amp;redirect_uri=https%3A%2F%2Fwww.example.com&amp;response_type=token&amp;state=somestate\n</code></pre>\n\n<p>The authorization server authenticates the resource owner (via the user-agent).</p>\n\n<p><a href=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/login_screenshot.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/login_screenshot.png\" alt=\"Log In page screenshot\"></a></p>\n\n<p>The authorization server then establishes whether the resource owner grants or denies the client's access request.</p>\n\n<p><a href=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/authorize_screenshot.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/RichardKnop/assets/master/go-oauth2-server/authorize_screenshot.png\" alt=\"Authorize page screenshot\"></a></p>\n\n<p>If the request fails due to a missing, invalid, or mismatching redirection URI, or if the client identifier is missing or invalid, the authorization server SHOULD inform the resource owner of the error and MUST NOT automatically redirect the user-agent to the invalid redirection URI.</p>\n\n<p>If the resource owner denies the access request or if the request fails for reasons other than a missing or invalid redirection URI, the authorization server informs the client by adding the following parameters to the fragment component of the redirection URI.</p>\n\n<pre><code>https://www.example.com/#error=access_denied&amp;state=somestate\n</code></pre>\n\n<p>Assuming the resource owner grants access, the authorization server redirects the user-agent back to the client using the redirection URI provided earlier. The redirection URI includes he access token in the URI fragment.</p>\n\n<pre><code>https://www.example.com/#access_token=087902d5-29e7-417b-a339-b57a60d6742a&amp;expires_in=3600&amp;state=somestate&amp;token_type=Bearer\n</code></pre>\n\n<p>The user-agent follows the redirection instructions by making a request to the web-hosted client resource (which does not include the fragment per [RFC2616]). The user-agent retains the fragment information locally.</p>\n\n<p>The web-hosted client resource returns a web page (typically an HTML document with an embedded script) capable of accessing the full redirection URI including the fragment retained by the user-agent, and extracting the access token (and other parameters) contained in the fragment.</p>\n\n<p>The user-agent executes the script provided by the web-hosted client resource locally, which extracts the access token.</p>\n\n<p>The user-agent passes the access token to the client.</p>\n\n<h4><a id=\"user-content-resource-owner-password-credentials\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#resource-owner-password-credentials\"></a>Resource Owner Password Credentials</h4>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-4.3\">http://tools.ietf.org/html/rfc6749#section-4.3</a></p>\n\n<p>The resource owner password credentials grant type is suitable in cases where the resource owner has a trust relationship with the client, such as the device operating system or a highly privileged application. The authorization server should take special care when enabling this grant type and only allow it when other flows are not viable.</p>\n\n<p>This grant type is suitable for clients capable of obtaining the resource owner's credentials (username and password, typically using an interactive form). It is also used to migrate existing clients using direct authentication schemes such as HTTP Basic or Digest authentication to OAuth by converting the stored credentials to an access token.</p>\n\n<pre><code>+----------+\n| Resource |\n| Owner |\n| |\n+----------+\n v\n | Resource Owner\n (A) Password Credentials\n |\n v\n+---------+ +---------------+\n| |&gt;--(B)---- Resource Owner -------&gt;| |\n| | Password Credentials | Authorization |\n| Client | | Server |\n| |&lt;--(C)---- Access Token ---------&lt;| |\n| | (w/ Optional Refresh Token) | |\n+---------+ +---------------+\n\n</code></pre>\n\n<p>The resource owner provides the client with its username and password.</p>\n\n<p>The client requests an access token from the authorization server's token endpoint by including the credentials received from the resource owner. When making the request, the client authenticates with the authorization server.</p>\n\n<pre><code>$ curl -v localhost:8080/oauth/api/v1/tokens \\\n -u test_client:test_secret \\\n -d \"grant_type=password\" \\\n -d \"username=test@username\" \\\n -d \"password=test_password\" \\\n -d \"scope=read_write\"\n</code></pre>\n\n<p>The authorization server authenticates the client and validates the resource owner credentials, and if valid, issues an access token.</p>\n\n<div class=\"highlight highlight-source-json\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">1</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>access_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>00ccd40e-72ca-4e79-a4b6-67c95e2e3f1c<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expires_in<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">3600</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token_type<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bearer<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scope<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo bar<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>refresh_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6fd8d272-375a-4d8a-8d0f-43367dc8b791<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<h4><a id=\"user-content-client-credentials\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#client-credentials\"></a>Client Credentials</h4>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-4.4\">http://tools.ietf.org/html/rfc6749#section-4.4</a></p>\n\n<p>The client can request an access token using only its client credentials (or other supported means of authentication) when the client is requesting access to the protected resources under its control, or those of another resource owner that have been previously arranged with the authorization server (the method of which is beyond the scope of this specification).</p>\n\n<p>The client credentials grant type MUST only be used by confidential clients.</p>\n\n<pre><code>+---------+ +---------------+\n| | | |\n| |&gt;--(A)- Client Authentication ---&gt;| Authorization |\n| Client | | Server |\n| |&lt;--(B)---- Access Token ---------&lt;| |\n| | | |\n+---------+ +---------------+\n</code></pre>\n\n<p>The client authenticates with the authorization server and requests an access token from the token endpoint.</p>\n\n<pre><code>$ curl -v localhost:8080/oauth/api/v1/tokens \\\n -u test_client:test_secret \\\n -d \"grant_type=client_credentials\" \\\n -d \"scope=read_write\"\n</code></pre>\n\n<p>The authorization server authenticates the client, and if valid, issues an access token.</p>\n\n<div class=\"highlight highlight-source-json\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">1</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>access_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>00ccd40e-72ca-4e79-a4b6-67c95e2e3f1c<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expires_in<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">3600</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token_type<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bearer<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scope<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo bar<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>refresh_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6fd8d272-375a-4d8a-8d0f-43367dc8b791<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<h3><a id=\"user-content-refreshing-an-access-token\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#refreshing-an-access-token\"></a>Refreshing An Access Token</h3>\n\n<p><a href=\"http://tools.ietf.org/html/rfc6749#section-6\">http://tools.ietf.org/html/rfc6749#section-6</a></p>\n\n<p>If the authorization server issued a refresh token to the client, the client can make a refresh request to the token endpoint in order to refresh the access token.</p>\n\n<pre><code>$ curl -v localhost:8080/oauth/api/v1/tokens \\\n -u test_client:test_secret \\\n -d \"grant_type=refresh_token\" \\\n -d \"refresh_token=6fd8d272-375a-4d8a-8d0f-43367dc8b791\"\n</code></pre>\n\n<p>The authorization server MUST:</p>\n\n<ul>\n<li><p>require client authentication for confidential clients or for any client that was issued client credentials (or with other authentication requirements),</p></li>\n<li><p>authenticate the client if client authentication is included and ensure that the refresh token was issued to the authenticated client, and</p></li>\n<li><p>validate the refresh token.</p></li>\n</ul>\n\n<p>If valid and authorized, the authorization server issues an access token.</p>\n\n<div class=\"highlight highlight-source-json\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">1</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>access_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1f962bd5-7890-435d-b619-584b6aa32e6c<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expires_in<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">3600</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>token_type<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bearer<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scope<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo bar<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>refresh_token<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>3a6b45b8-9d29-4cba-8a1b-0093e8a2b933<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<p>The authorization server MAY issue a new refresh token, in which case the client MUST discard the old refresh token and replace it with the new refresh token. The authorization server MAY revoke the old refresh token after issuing a new refresh token to the client. If a new refresh token is issued, the refresh token scope MUST be identical to that of the refresh token included by the client in the request.</p>\n\n<h2><a id=\"user-content-development\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#development\"></a>Development</h2>\n\n<h2><a id=\"user-content-dependencies\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#dependencies\"></a>Dependencies</h2>\n\n<p>According to <a href=\"https://docs.google.com/document/d/1Bz5-UB7g2uPBdOx-rw5t9MxJwkfpx90cqG9AFL0JAYo\">Go 1.5 Vendor experiment</a>, all dependencies are stored in a vendor directory. This approach is called \"vendoring\" and is the best practice for Go projects to lock versions of dependencies in order to achieve reproducible builds.</p>\n\n<p>To update dependencies during development:</p>\n\n<pre><code>$ make update-deps\n</code></pre>\n\n<p>To install dependencies:</p>\n\n<pre><code>$ make install-deps\n</code></pre>\n\n<h2><a id=\"user-content-setup\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#setup\"></a>Setup</h2>\n\n<p>If you are developing on OSX, install <code>etcd</code>, <code>Postgres</code>:</p>\n\n<pre><code>$ brew install etcd\n$ brew install postgres\n</code></pre>\n\n<p>You might want to create a <code>Postgres</code> database:</p>\n\n<pre><code>$ createuser --createdb go_oauth2_server\n$ createdb -U go_microservice_example go_oauth2_server\n</code></pre>\n\n<p>Load a configuration into <code>etcd</code>:</p>\n\n<pre><code>$ curl -L http://127.0.0.1:4001/v2/keys/config/go_oauth2_server.json -XPUT -d value='{\n \"Database\": {\n \"Type\": \"postgres\",\n \"Host\": \"127.0.0.1\",\n \"Port\": 5432,\n \"User\": \"go_oauth2_server\",\n \"Password\": \"\",\n \"DatabaseName\": \"go_oauth2_server\"\n },\n \"Oauth\": {\n \"AccessTokenLifetime\": 3600,\n \"RefreshTokenLifetime\": 1209600,\n \"AuthCodeLifetime\": 3600 \n },\n \"Session\": {\n \"Secret\": \"test_secret\",\n \"Path\": \"/\",\n \"MaxAge\": 604800,\n \"HTTPOnly\": true\n },\n \"TrustedClient\": {\n \"ClientID\": \"test_client\",\n \"Secret\": \"test_secret\"\n }\n}'\n</code></pre>\n\n<p>Run migrations:</p>\n\n<pre><code>$ go run main.go migrate\n</code></pre>\n\n<p>And finally, run the app:</p>\n\n<pre><code>$ go run main.go runserver\n</code></pre>\n\n<h2><a id=\"user-content-test-data\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#test-data\"></a>Test Data</h2>\n\n<p>You might want to insert some test data if you are testing locally using curl:</p>\n\n<div class=\"highlight highlight-source-sql\"><pre><span class=\"pl-k\">insert into</span> scopes(scope, is_default) <span class=\"pl-k\">values</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>read<span class=\"pl-pds\">'</span></span>, true);\n<span class=\"pl-k\">insert into</span> scopes(scope, is_default) <span class=\"pl-k\">values</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>read_write<span class=\"pl-pds\">'</span></span>, false);\n\n<span class=\"pl-k\">insert into</span> clients(client_id, secret) <span class=\"pl-k\">values</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test_client<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$CUoGytf1pR7CC6Y043gt/.vFJUV4IRqvH5R6F0VfITP8s2TqrQ.4e<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">insert into</span> users(username, password) <span class=\"pl-k\">values</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test@username<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$4J4t9xuWhOKhfjN0bOKNReS9sL3BVSN9zxIr2.VaWWQfRBWh1dQIS<span class=\"pl-pds\">'</span></span>);</pre></div>\n\n<h2><a id=\"user-content-testing\" class=\"anchor\" href=\"https://github.com/RichardKnop/go-oauth2-server#testing\"></a>Testing</h2>\n\n<p>Some of the tests are functional. You need to have <code>sqlite</code> and <code>etcd</code> installed and running in order to run the tests.</p>\n\n<p>To run tests:</p>\n\n<pre><code>make test\n</code></pre>\n</article>\n </div>"
    }, {
        "title": "Simplify Your Life With an SSH Config File",
        "url": "http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/",
        "excerpt": "If you're anything like me, you probably log in and out of a half dozen remote servers (or these days, local virtual machines) on a daily basis. And if you're even more like me, you have trouble&hellip;",
        "date_saved": "Thu Jul 28 20:13:02 EDT 2016",
        "html_file": "simplify_your_life_with_an_ssh_config_file.html",
        "png_file": "simplify_your_life_with_an_ssh_config_file.png",
        "md_file": "simplify_your_life_with_an_ssh_config_file.md",
        "content": "<div><div class=\"post-content\">\n <p>If you're anything like me, you probably log in and out of a half dozen remote servers (or these days, local virtual machines)\non a daily basis. And if you're even <em>more</em> like me, you have trouble remembering all of the various usernames, remote\naddresses and command line options for things like specifying a non-standard connection port or forwarding local ports to the remote machine.</p>\n\n<h3 id=\"shell-aliases\">Shell Aliases</h3>\n\n<p>Let's say that you have a remote server named <code>dev.example.com</code>, which has <em>not</em> been set up with public/private keys\nfor password-less logins. The username to the remote account is <em>fooey</em>, and to reduce the number of scripted login attempts,\nyou've decided to change the default SSH port to <code>2200</code> from the normal default of <code>22</code>. This means that a typical command would look like:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>ssh fooey@dev.example.com -p 22000\npassword: *************</code></pre></figure>\n\n<p>Not too bad.</p>\n\n<p>We can make things simpler and more secure by using a public/private key pair; I highly recommend using <a href=\"http://linux.die.net/man/1/ssh-copy-id\">ssh-copy-id</a> for moving your public keys around. It will save you quite a few folder/file permission headaches.</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>ssh fooey@dev.example.com -p 22000\n<span class=\"c\"># Assuming your keys are properly setup&#x2026;</span></code></pre></figure>\n\n<p>Now this doesn't seem all that bad. To cut down on the verbosity you could create a simple alias in your shell as well:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span><span class=\"nb\">alias </span><span class=\"nv\">dev</span><span class=\"o\">=</span><span class=\"s1\">'ssh fooey@dev.example.com -p 22000'</span>\n<span class=\"nv\">$ </span>dev <span class=\"c\"># To connect</span></code></pre></figure>\n\n<p>This works surprisingly well: Every new server you need to connect to, just add an alias to your <code>.bashrc</code> (or <code>.zshrc</code> if you hang with the cool kids), and voil&#xE0;.</p>\n\n<h3 id=\"sshconfig\">~/.ssh/config</h3>\n\n<p>However, there's a much more elegant and flexible solution to this problem. Enter the SSH config file:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"c\"># contents of $HOME/.ssh/config</span>\nHost dev\n HostName dev.example.com\n Port 22000\n User fooey</code></pre></figure>\n\n<p>This means that I can simply <code>$ ssh dev</code>, and the options will be read from the configuration file. Easy peasy. Let's see what else we can do with just a few simple configuration directives.</p>\n\n<p>Personally, I use quite a few public/private keypairs for the various servers and services that I use, to ensure\nthat in the event of having one of my keys compromised the damage is as restricted as possible. For example,\nI have a key that I use uniquely for my <a href=\"https://github.com/jperras\">Github</a> account. Let's set it up so that\nthat particular private key is used for all my github-related operations:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">Host dev\n HostName dev.example.com\n Port 22000\n User fooey\nHost github.com\n IdentityFile ~/.ssh/github.key</code></pre></figure>\n\n<p>The use of <code>IdentityFile</code> allows me to specify exactly which private key I wish to use for authentification with\nthe given host. You can, of course, simply specify this as a command line option for \"normal\" connections:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>ssh -i ~/.ssh/blah.key username@host.com</code></pre></figure>\n\n<p>but the use of a config file with <code>IdentityFile</code> is <a href=\"https://git.wiki.kernel.org/index.php/GitTips#How_to_pass_ssh_options_in_git.3F\">pretty much your only option</a> if you want to specify which identity to use for any git commands. This also opens up the very interesting concept of further\nsegmenting your github keys on something like a per-project or per-organization basis:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">Host github-project1\n User git\n HostName github.com\n IdentityFile ~/.ssh/github.project1.key&lt;/p&gt;\nHost github-org\n User git\n HostName github.com\n IdentityFile ~/.ssh/github.org.key&lt;/p&gt;\nHost github.com\n User git\n IdentityFile ~/.ssh/github.key</code></pre></figure>\n\n<p>Which means that if I want to clone a repository using my organization credentials, I would use the following:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>git clone git@github-org:orgname/some_repository.git</code></pre></figure>\n\n<h3 id=\"going-further\">Going further</h3>\n\n<p>As any security-conscious developer would do, I set up firewalls on all of my servers and make them as restrictive\nas possible; in many cases, this means that the only ports that I leave open are <code>80/443</code> (for webservers), and port\n<code>22</code> for SSH (or whatever I might have remapped it to for obfuscation purposes). On the surface, this seems to prevent\nme from using things like a desktop MySQL GUI client, which expect port <code>3306</code> to be open and accessible on the remote\nserver in question. The informed reader will note, however, that a simple local port forward can save you:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>ssh -f -N -L 9906:127.0.0.1:3306 coolio@database.example.com\n<span class=\"c\"># -f puts ssh in background</span>\n<span class=\"c\"># -N makes it not execute a remote command</span></code></pre></figure>\n\n<p>This will forward all local port <code>9906</code> traffic to port <code>3306</code> on the remote <code>dev.example.com</code> server, letting me\npoint my desktop GUI to localhost (<code>127.0.0.1:9906</code>) and have it behave exactly as if I had exposed port\n<code>3306</code> on the remote server and connected directly to it.</p>\n\n<p>Now I don't know about you, but remembering that sequence of flags and options for <a href=\"http://linux.die.net/man/1/ssh\">SSH</a> can be\na complete pain. Luckily, our config file can help alleviate that:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\">Host tunnel\n HostName database.example.com\n IdentityFile ~/.ssh/coolio.example.key\n LocalForward <span class=\"m\">9906</span> 127.0.0.1:3306\n User coolio</code></pre></figure>\n\n<p>Which means I can simply do:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nv\">$ </span>ssh -f -N tunnel</code></pre></figure>\n\n<p>And my local port forwarding will be enabled using all of the configuration directives I set up for the tunnel host. Slick.</p>\n\n<h3 id=\"homework\">Homework</h3>\n\n<p>There are quite a few configuration options that you can specify in <code>~/.ssh/config</code>, and I highly suggest consulting\nthe online <a href=\"http://linux.die.net/man/5/ssh_config\">documentation</a> or the <strong>ssh_config</strong> man page. Some interesting/useful\nthings that you can do include: change the default number of connection attempts, specify local environment variables to be\npassed to the remote server upon connection, and even the use of _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy and ? wildcards for matching hosts.</p>\n\n<p>I hope that some of this is useful to a few of you. Leave a note in the comments if you have any cool tricks for the\nSSH config file; I'm always on the lookout for fun hacks.</p>\n\n \n<aside class=\"share\">\n\n <p>Share this &#x2014;</p>\n <a href=\"http://twitter.com/share?text=Simplify%20Your%20Life%20With%20an%20SSH%20Config%20File&amp;url=http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/&amp;hashtags=nerderati&amp;via=jperras\">Twitter</a>\n <a href=\"https://www.facebook.com/sharer/sharer.php?u=http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/\">Facebook</a>\n\n</aside>\n\n </div>\n</div>"
    }, {
        "title": "Tutorials",
        "url": "https://botwiki.org/tutorials/",
        "excerpt": "Here's how you can support Botwiki and the list of our supporters. Note: Before you start making bots, consider reading these essays and articles. Also worth browsing: resources for cleaning up your&hellip;",
        "date_saved": "Thu Jul 28 20:13:03 EDT 2016",
        "html_file": "tutorials.html",
        "png_file": "tutorials.png",
        "md_file": "tutorials.md",
        "content": "<div><div id=\"content-wrapper\">\n<section id=\"content\">\n<div id=\"main\" class=\"inner\">\n<div class=\"note\">\nHere's how you can <a href=\"https://botwiki.org/about/support\">support Botwiki</a> and the <a href=\"https://botwiki.org/about/supporters/\">list of our supporters</a>.\n</div><article>\n<div class=\"meta\">\n\n<p><strong><em>Note: Before you start making bots, consider reading <a href=\"https://botwiki.org/tutorials/#bot-ethics\">these essays and articles</a>. Also worth browsing: <a href=\"https://botwiki.org/resources/libraries-frameworks/#language\">resources for cleaning up your bot's language</a>.</em></strong></p>\n<p><a href=\"https://twitter.com/fourtonfish/status/664130256266264576\" class=\"float-right\"><img src=\"https://botwiki.org/content/tutorials/images/making-bots-dexter.png\" alt=\"Making Bots with Dexter\"></a></p>\n<p>There is a variety of tools that make creating bots very easy. From <a href=\"http://cheapbotsdonequick.com/\">Cheap Bots Done Quick</a> (specifically for Twitter bots) and <a href=\"https://rundexter.com/\">Dexter</a>, which is still in beta, but aims to make creating bots as easy as <a href=\"https://twitter.com/fourtonfish/status/664130256266264576\">dragging and dropping</a>, to browser-based development environments, like <a href=\"https://c9.io/\">Cloud9</a>. You can also find many <a href=\"https://botwiki.org/tag/opensource\">opensourced bots</a> that you can reuse and build on top of.</p>\n<p>Botmaking has never been easier!</p>\n<p>If you have any questions, try asking in our <a href=\"https://botmakers.org/\">community for botmakers and bot enthusiasts</a>. </p>\n<h3 id=\"network-specific-tutorials\"><a href=\"https://botwiki.org/tutorials/#network-specific-tutorials\" class=\"pilcrow\">&#xB6;</a> Network-specific tutorials</h3>\n<p><img src=\"https://botwiki.org/content/images/illustrations/man-reading-mail-768.jpg\" alt=\"Man, presumably reading a Twitterbot tutorial\" class=\"float-right\"></p>\n\n<h3 id=\"bot-hosting\"><a href=\"https://botwiki.org/tutorials/#bot-hosting\" class=\"pilcrow\">&#xB6;</a> Bot hosting</h3>\n<p>You have quite a few options when it comes to hosting your bots.</p>\n<p><em><strong>Note:</strong> See also <a href=\"https://botwiki.org/resources/tools#botmaking\">the Tools section</a>.</em></p>\n\n<p>Specifically for Twitter bots, you can try:</p>\n\n<p>See also <a href=\"https://medium.com/slack-developer-blog/hosting-slack-integrations-79f3d4b04dd6#.5b0vc2x46\">Hosting Slack Integrations</a> on the <a href=\"https://medium.com/slack-developer-blog\">Slack API Developer Blog</a>.</p>\n<p><strong>Note: </strong> <a href=\"https://twitter.com/beaugunderson\">@beaugunderson</a> is offering to let people host bots on his <a href=\"https://www.linode.com/\">Linode</a> account.</p>\n<p>Common ways to manage multiple bots on the same network are:</p>\n<ul>\n<li>running each bot as a separate app/process with its own API keys</li>\n<li>running all of your bots in one app, using the same set of API keys</li>\n<li>or as a variation, you can create multiple apps, but still use the same API keys</li>\n</ul>\n<p>For more general tutorials on hosting bots, see articles below. (Some <a href=\"https://botwiki.org/tutorials/#network-specific-tutorials\">network specific tutorials</a> include a step explaining how to host your bot.)</p>\n<ul>\n<li><a href=\"http://www.colewillsea.com/blog/do-cron\">Automating bots with cron on DigitalOcean</a></li>\n</ul>\n<h3 id=\"web-apis\"><a href=\"https://botwiki.org/tutorials/#web-apis\" class=\"pilcrow\">&#xB6;</a> Learn to work with web APIs</h3>\n\n<h3 id=\"chat\"><a href=\"https://botwiki.org/tutorials/#chat\" class=\"pilcrow\">&#xB6;</a> Chat/conversational interfaces</h3>\n\n<h3 id=\"machine-learning-nlp\"><a href=\"https://botwiki.org/tutorials/#machine-learning-nlp\" class=\"pilcrow\">&#xB6;</a> Machine learning, NLP</h3>\n\n<h3 id=\"bot-ethics\"><a href=\"https://botwiki.org/tutorials/#bot-ethics\" class=\"pilcrow\">&#xB6;</a> Bot ethics</h3>\n\n<h3 id=\"other\"><a href=\"https://botwiki.org/tutorials/#other\" class=\"pilcrow\">&#xB6;</a> Other</h3>\n\n<p>Also check out <a href=\"https://botwiki.org/tag/opensource\">the opensourced bots</a>. Of interest to ethical botmakers will also be the essays in the <a href=\"https://botwiki.org/articles#general-essays\">Articles section</a>.</p>\n\n\n<aside id=\"sidebar\">\n\n\n\n\n\n</aside>\n\n</div>\n<footer id=\"footer\">\n<div class=\"inner\">\n<p>\nHey there!\n</p>\n<p>\nNeed to get in touch? Try <a href=\"https://twitter.com/botwikidotorg\">@botwikidotorg</a> on Twitter, the <a href=\"http://botmakers.org/\">Botmakers.org</a> Slack community, or just shoot an email to <a href=\"https://botwiki.org/cdn-cgi/l/email-protection#3a494e5f5c5b547a58554e4d5351531455485d\"><span class=\"__cf_email__\">[email&#xA0;protected]</span></a>.\n</p>\n<p>\nThis website is <a href=\"https://github.com/botwiki/botwiki.org\">open source</a> and powered by <a href=\"http://picocms.org/\">Pico</a>. Images are from <a href=\"http://www.oldbookillustrations.com/\">oldbookillustrations.com</a>.\nFeel free to share Botwiki on <a href=\"https://twitter.com/intent/tweet?source=https%3A%2F%2Fbotwiki.org%2F&amp;text=Resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots.:%20https%3A%2F%2Fbotwiki.org%2F&amp;via=botwikidotorg\" target=\"_blank\" title=\"Tweet\">Twitter</a>, <a href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbotwiki.org%2F&amp;t=Resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots.\" target=\"_blank\" title=\"Share on Facebook\">Facebook</a>, via <a href=\"https://botwiki.org/cdn-cgi/l/email-protection#310e4244535b5452450c6354425e4443525442140301575e431403015243545045585f5614030144425457445d140372140301585f455443544245585f5614037214X20artistic%20and%20friendly%20online%20bots.&amp;body=Botwiki.org%20is%20an%20open-source%20collection%20of%20tutorials%2C%20articles%2C%20datasets%20and%20other%20resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots%20--%20smart%20software%20agents%20that%20do%20fun%20or%20useful%20stuff%20--%20for%20Twitter%2C%20Slack%2C%20IRC%20and%20other%20online%20networks.:%20https%3A%2F%2Fbotwiki.org%2F\" target=\"_blank\" title=\"Email\">an email</a>, or save it to your <a href=\"https://getpocket.com/save?url=https%3A%2F%2Fbotwiki.org%2F&amp;title=Resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots.\" target=\"_blank\" title=\"Add to Pocket\">Pocket</a> or <a href=\"https://pinboard.in/popup_login/?url=https%3A%2F%2Fbotwiki.org%2F&amp;title=Resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots.&amp;description=Botwiki.org%20is%20an%20open-source%20collection%20of%20tutorials%2C%20articles%2C%20datasets%20and%20other%20resources%20for%20creating%20useful%2C%20interesting%2C%20artistic%20and%20friendly%20online%20bots%20--%20smart%20software%20agents%20that%20do%20fun%20or%20useful%20stuff%20--%20for%20Twitter%2C%20Slack%2C%20IRC%20and%20other%20online%20networks.\" target=\"_blank\" title=\"Save to Pinboard\">Pinboard</a> for later.\n</p>\n<p>\nYou can support the project through donations via\n<a href=\"https://gratipay.com/botwiki-org/\">Gratipay</a>,\n<a href=\"https://www.patreon.com/fourtonfish\">Patreon</a>,\n<a href=\"https://www.paypal.me/stefanbohacek\">PayPal</a> (please include <em>\"Botwiki donation\"</em> in your note),\nor\n<a href=\"bitcoin:18WDyJFShLcLVCRyiEm3MijbCsBjcxG4mH?amount=0.025&amp;label=Botwiki\">Bitcoin</a>.\n<strong>Thank you!</strong>\n</p>\n<p><strong>Botwiki.org</strong> and the <a href=\"http://botzine.org/\">Bot! zine</a> and <a href=\"https://botmakers.org/\">Botmakers.org</a> landing pages are all proudly hosted by <a href=\"https://digitalocean.com/\"><img class=\"logo-digitalocean\" src=\"https://botwiki.org/content/images/logos/digitalocean-logo-horizontal.svg\" title=\"DigitalOcean\" alt=\"DigitalOcean company logo\"></a>, the sponsor of the very first <a href=\"https://botwiki.org/monthly-bot-challenge/\">Monthly Bot Challenge</a>. One more way to support us is to sign up using our <a href=\"https://www.digitalocean.com/?refcode=9e279abc3337\">referral link</a>, which will also earn you a <strong>$10 starter credit</strong>.</p>\n</div>\n</footer>\n \n</article></div></section></div></div>"
    }, {
        "title": "ReadText",
        "url": "http://readtext.org/",
        "excerpt": "ReadText About Daily Yearly Artwork Computers Conspiracy Food",
        "date_saved": "Thu Jul 28 20:13:06 EDT 2016",
        "html_file": "readtext.html",
        "png_file": "readtext.png",
        "md_file": "readtext.md",
        "content": "<div><body>\n<div class=\"ui sidebar visible borderless vertical menu nav\">\n<a class=\"item head\" href=\"http://readtext.org/\">\n<i class=\"fa fa-file-text-o\"></i> <span> ReadText </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/about\">\n<i class=\"fa fa-sticky-note-o\"></i> <span> About </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/archive/daily\">\n<i class=\"fa fa-hourglass-half \"></i> <span> Daily </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/archive/yearly\">\n<i class=\"fa fa-calendar\"></i> <span> Yearly </span>\n</a>\n\n<a class=\"item\" href=\"http://readtext.org/artwork\">\n<i class=\"fa fa-picture-o\"></i> <span> Artwork </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/computers\">\n<i class=\"fa fa-desktop\"></i> <span> Computers </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/conspiracy\">\n<i class=\"fa fa-optin-monster\"></i> <span> Conspiracy </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/food\">\n<i class=\"fa fa-cutlery\"></i> <span> Food </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/hamradio\">\n<i class=\"fa fa-volume-up\"></i> <span> Ham Radio </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/history\">\n<i class=\"fa fa-university\"></i> <span> History </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/humor\">\n<i class=\"fa fa-smile-o\"></i> <span> Humor </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/law\">\n<i class=\"fa fa-balance-scale\"></i> <span> Law </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/misc\">\n<i class=\"fa fa-asterisk\"></i> <span> Misc </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/news\">\n<i class=\"fa fa-newspaper-o\"></i> <span> News </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/podcast\">\n<i class=\"fa fa-music\"></i> <span> Podcast </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/programming\">\n<i class=\"fa fa-gear\"></i> <span> Programming </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/science\">\n<i class=\"fa fa-flask\"></i> <span> Science </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/security\">\n<i class=\"fa fa-shield\"></i> <span> Security </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/stories\">\n<i class=\"fa fa-book\"></i> <span> Stories </span>\n</a>\n<a class=\"item\" href=\"http://readtext.org/survival\">\n<i class=\"fa fa-medkit\"></i> <span> Survival </span>\n</a>\n</div>\n\n<div id=\"content\">\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n<br>\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n\n\n<br>\n\n\n\n\n<br>\n\n\n\n\n\n\n</div>\n\n<img src=\"http://whos.amung.us/widget/readtext.png\">\n</body>\n</div>"
    }, {
        "title": "HTTP Live Streaming In Javascript",
        "url": "https://blog.peer5.com/http-live-streaming-in-javascript/",
        "excerpt": "A flashocalypse is approaching - paraphrasing John Luther, JW Player (TL;DR) We can finally play HLS using only javascript. It works faster than Flash, unlocking the potential to stream live in 4k&hellip;",
        "date_saved": "Thu Jul 28 20:13:07 EDT 2016",
        "html_file": "http_live_streaming_in_javascript.html",
        "png_file": "http_live_streaming_in_javascript.png",
        "md_file": "http_live_streaming_in_javascript.md",
        "content": "<div><section class=\"post-content\">\n <blockquote>\n <p><a href=\"http://www.streaminglearningcenter.com/blogs/dash-the-most-popular-format-(almost)-no-one-is-using-.html\">A flashocalypse is approaching </a> - paraphrasing John Luther, <a href=\"https://blog.peer5.com/http-live-streaming-in-javascript/jwplayer.com\">JW Player</a></p>\n</blockquote>\n\n<p>(TL;DR) <br>\nWe can finally play HLS using only javascript. It works faster than <a href=\"http://www.adobe.com/products/flashplayer.html\">Flash</a>, unlocking the potential to stream live in 4k and 60fps.</p>\n\n<h4 id=\"whatishls\">What is HLS?</h4>\n\n<p>HLS, which stands for HTTP Live Streaming, is a video format invented by Apple for live streaming. It&#x2019;s file based, meaning you can serve it over an HTTP connection on the web.</p>\n\n<p>In its simplest form, you have a manifest file, a.k.a playlist, that is the &#x2018;main&#x2019; file for a stream. This file contains metadata about the stream and a list of URIs for the video segments of the stream. When a player requests this playlist, a server responds with an updated manifest file that specifies segments that have recently been added to the stream. <br>\n<img src=\"https://blog.peer5.com/content/images/2015/11/hls-manifest.jpg\" alt=\"HLS Manifest - HLS Live Streaming With Peer5\">\nThis file format has many advantages over alternatives like RTP or RTMP in terms of device support, ease of deployment, and scalability. As a result, it has become a mainstream technology for live streaming, and is widely used for VoD as well.</p>\n\n<h4 id=\"hlsonallplatforms\">HLS On All Platforms</h4>\n\n<p>If you&#x2019;re familiar with HLS you might be thinking, &#x201C;isn&#x2019;t HLS already supported by HTML?&#x201D; The answer: sort of! When Apple invented HLS, they also implemented a &#x2018;player&#x2019; mechanism inside of their browser. This meant that in Safari you could add a line of HTML to the page, for example, <code>&lt;video src=&#x2019;path/to/playlist.m3u8&#x2019;&gt;&lt;/video&gt;</code>, and voila, you&#x2019;d have a working HLS player! </p>\n\n<p>But, for various reasons, other browsers didn&#x2019;t implement this, meaning that systems needed to be designed to stream differently depending on which device and browser a user was operating on. A stream might use HLS on Safari or iOS and RTMP or HDS on desktop. Eventually Chrome and Firefox implemented an HLS player for their mobile versions, but Chrome, Firefox, and IE still don&#x2019;t use this technology on their desktop versions. A technology for desktop browsers was needed to stream HLS on all devices. Eventually, a few great libraries were released to solve this problem. <a href=\"http://www.flashls.org/\">Flashls</a>, which is open source, and <a href=\"http://osmfhls.kutu.ru/\">osmfhls</a>, which is proprietary, are two Flash plugin libraries for players that enable HLS on desktop.</p>\n\n<h4 id=\"playinghlswithoutflash\">Playing HLS Without Flash</h4>\n\n<p>HLS experienced mainstream adoption, but Flash was still a requirement. Flash is heavy, slow, and <a href=\"http://www.computerworld.com/article/2971721/security/stop-the-flash-madness-5-bugs-a-week.html\">full of security flaws</a>. Experts have been predicting Flash&#x2019;s demise for a while <a href=\"http://www.wsj.com/articles/tech-world-prepares-obituary-for-adobe-flash-1437341315\">now</a>, and an alternative is needed. To add some context, we&#x2019;ll have to take a quick detour to another video format, or rather a standard, MPEG-DASH. Dash basically takes all of the good stuff from HLS and gets rid of the bad pieces. Like HLS, it&#x2019;s also file based, however, in order to support this new format in the browser <a href=\"https://blog.peer5.com/http-live-streaming-in-javascript/www.w3.org\">W3C</a> decided to create new HTML5 API&#x2019;s called Media Source Extensions (MSE) and Encrypted Media Extensions (EME). MSE give developers an API to control the video tag&#x2019;s video buffer and inject data into it. EME is an API that provides DRM support. As a result, it's become possible to inject data into the browser&#x2019;s video player and use it to implement HLS.</p>\n\n<p>Technically, this requires HLS playback logic that requests HLS files from a server, transmuxes them into the correct mp4 format in javascript, and injects them into the video tag using MSE. There are a few FOSS libraries that do just that, including: <a href=\"https://github.com/dailymotion/hls.js\">hlsjs</a>, videojs&#x2019;s <a href=\"https://github.com/videojs/videojs-contrib-hls\">videojs-contrib-hls</a>, and <a href=\"https://github.com/Orange-OpenSource/hasplayer.js/tree/master\">hasplayer</a>. Now we have HLS in the desktop browser, with only javascript, no Flash necessary. It&#x2019;s supported in Chrome, Firefox 42+, IE11+, Edge, and Opera.</p>\n\n<h4 id=\"performance\">Performance</h4>\n\n<p>It&#x2019;s time for comparisons, performance, and analysis. In this section, I will show the results for tests run on videojs5 (with videojs-contrib-hls v1.0), its flash predecessor videojs4, hls.js, and its flash predecessor flashls. I&#x2019;ll focus on CPU performance testing. </p>\n\n<p>For each player I used Chrome's Timeline pane to track the browser's fps, Profile pane to record how much CPU time was utilized, and task manager to monitor the overall CPU usage.</p>\n\n<h5 id=\"hlsjs\">Hlsjs</h5>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/hlsjs-timeline.jpg\" alt=\"HLSJS Timeline - HLS Video Streaming Test\">\nThe main thread held 60fps, except for the timestamps around 4,000ms and 14,000ms (each 10 seconds) where it dropped to 30fps. This can probably be traced to the handling of the segment.</p>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/hlsjs-profile.jpg\" alt=\"HLSJS Profile - HLS Video Streaming Test\">\nI also ran CPU profiling for 20,098 ms. The total CPU time while profiling was 729.6ms (3.6% of the experiment length), 74% of which was Chrome&#x2019;s program thread.</p>\n\n<p>Examining the Chrome task manager, CPU usage was mostly 0-2%, with 4% peaks.</p>\n\n<h5 id=\"videojs5\">Videojs5</h5>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/videojs5-timeline.jpg\" alt=\"VideoJS5 Timeline - HLS Video Streaming Test\">\nThe main thread was a constant 60fps.</p>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/videojs5-profile.jpg\" alt=\"VideoJS5 Profile - HLS Video Streaming Test\">\nA CPU profiling test of 20,143ms showed that the total CPU run time was 794.83ms (3.9%), of which 77.8% was Chrome&#x2019;s program thread.</p>\n\n<p>Examining the Chrome task manager, CPU usage was mostly 0-1%, with 5% peaks.</p>\n\n<h5 id=\"videojs4\">Videojs4</h5>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/videojs4-timeline.jpg\" alt=\"VideoJS4 Timeline - HLS Video Streaming Test\">\nHere we saw a big impact on fps, which decreased to 6 frames per second. This stalled the main thread for up to 160ms at a time.</p>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/videojs4-profile.jpg\" alt=\"VideoJS4 Profile - HLS Video Streaming Test\">\nCPU profiling for 20,084ms showed that the total CPU run time was 5,385.9ms (26.8%) and only 27.8% was Chrome&#x2019;s program thread.</p>\n\n<p>Examining the Chrome task manager, CPU usage was 16% on average, with peaks of 24% of CPU (divided between flash - 20% and page - 4%)</p>\n\n<h5 id=\"chromelessflashls\">Chromeless Flashls</h5>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/flashls-timeline.jpg\" alt=\"Flashls Timeline - HLS Video Streaming Test\">\nThe main thread held 60 fps, and dropped to 30 fps every 10 seconds.</p>\n\n<p><img src=\"https://blog.peer5.com/content/images/2015/11/flashls-profile.jpg\" alt=\"Flashls Profile - HLS Video Streaming Test\">\nCPU profiling of 20,092ms showed that CPU was active for 1,311.6ms (6.5%), 92.8% of which was Chrome&#x2019;s program thread.</p>\n\n<p>Examining the Chrome task manager, CPU usage was mostly 3-5%, with peaks of 8% (3% flash, 3% flash gpu, 3% page)</p>\n\n<h5 id=\"conclusion\">Conclusion</h5>\n\n<p>Both videojs5 and hlsjs performed very well. They easily played 30fps HD videos without setting back the main thread. Videojs5 showed superb performance with 60fps videos as well and didn't drop any frames. Hlsjs dropped frames when processing new segments.</p>\n\n<p>Ranking the libraries cpu performance, I would suggest:</p>\n\n<ol>\n<li>videojs5 </li>\n<li>hlsjs </li>\n<li>flashls, </li>\n<li>videojs4</li>\n</ol>\n\n<p>The comparison isn&#x2019;t shown here, but both javascript players started faster than their Flash counterparts did due to Flash&#x2019;s asynchronous load requirements for the .swf file and the crossdomain file.</p>\n\n<p>It's important to mention that the libraries used are still very young and videojs still hasn&#x2019;t released javascript HLS support. We will likely see improvements in all of the libraries. These innovations, as well as others, will likely drive higher quality video and create better viewing experiences on the web.</p>\n\n<p>Peer5 is a peer-to-peer CDN that improves content delivery for live and on-demand video streams. Want to try Flashless HLS? Sign up for your free trial <a href=\"https://app.peer5.com/register\">here</a>. <br>\nAfter registering, select JW7 and check the \"Play HLS in Javascript\" checkbox.</p>\n\n<h5 id=\"notes\">Notes</h5>\n\n<ol>\n<li>Further tests need to be done with 4k videos. </li>\n<li>All tests were done on <em>Intel Corei7-4810MQ machine</em>. <br>\nThe stream tested is <a href=\"http://www.streambox.fr/playlists/x36xhzz/url_9/193039199_mp4_h264_aac_fhd_7.m3u8\">60fps-HD video</a>: <br>\n<em>Average segment duration: 9.92 seconds <br>\nSegment bitrate: Average: 6.31 Mbits/sec, Max: 10.83 Mbits/sec <br>\nAverage segment structural overhead: 193.93 kbits/sec (3.07 %) <br>\nTrack ID: 1 <br>\nAudio Codec: AAC-LC <br>\nAudio sample rate: 44100 Hz <br>\nACL: Stereo (L R) <br>\nTrack ID: 2 <br>\nVideo Codec: avc1 <br>\nH.264 profile: High <br>\nH.264 level: 4.0 <br>\nVideo resolution: 1920x1080 pixels <br>\nVideo average IDR interval: 3.706 seconds, Standard deviation: 2.775 <br>\nVideo frame rate: 60.000 fps <br>\nAverage video bitrate: 5.96 Mbits/sec <br>\nAverage audio bitrate: 151.79 kbits/sec</em></li>\n</ol>\n </section>\n\n </div>"
    }, {
        "title": "rain1017/memdb",
        "url": "https://github.com/rain1017/memdb",
        "excerpt": "Distributed Transactional In-Memory Database Performance and Scalable Fast in memory data access, up to 25,000 ops (single doc read/write) per shard (each shard take one CPU core). System capacity is&hellip;",
        "date_saved": "Thu Jul 28 20:13:10 EDT 2016",
        "html_file": "rain1017memdb.html",
        "png_file": "rain1017memdb.png",
        "md_file": "rain1017memdb.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><a href=\"https://travis-ci.org/rain1017/memdb\"><img src=\"https://camo.githubusercontent.com/5d068172d62c72be479c17afe6109f2ef8a6c013/68747470733a2f2f7472617669732d63692e6f72672f7261696e313031372f6d656d64622e7376673f6272616e63683d6d6173746572\" alt=\"Build Status\"></a>\n<a href=\"https://david-dm.org/rain1017/memdb\"><img src=\"https://camo.githubusercontent.com/d8779f2f233789556abba00d9568a4308139850c/68747470733a2f2f64617669642d646d2e6f72672f7261696e313031372f6d656d64622e737667\" alt=\"Dependencies Status\"></a></p>\n\n<p><strong>Distributed Transactional In-Memory Database</strong></p>\n\n<h3><a id=\"user-content-performance-and-scalable\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#performance-and-scalable\"></a>Performance and Scalable</h3>\n\n<ul>\n<li>Fast in memory data access, up to 25,000 ops (single doc read/write) per shard (each shard take one CPU core).</li>\n<li>System capacity is horizontally scalable, performance grows linearly by adding more shards.</li>\n<li>No single point bottleneck, all part of system is scalable, unlimited capability potential.</li>\n</ul>\n\n<h3><a id=\"user-content-true-distributed-acid-transaction\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#true-distributed-acid-transaction\"></a>True Distributed ACID Transaction</h3>\n\n<ul>\n<li>True <a href=\"https://en.wikipedia.org/wiki/ACID\">ACID</a>(Stands for Atomicity, Consistency, Isolation, Durability) transaction support on distributed environment.</li>\n<li>MemDB brings ACID transaction support for MongoDB, on distributed environment! You can get full transaction support of traditional SQL database (like MySQL), while not losing the scalability of NoSQL database (like MongoDB).</li>\n</ul>\n\n<h3><a id=\"user-content-mongodb-and-mongoose-compatible\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#mongodb-and-mongoose-compatible\"></a>MongoDB and Mongoose Compatible</h3>\n\n<ul>\n<li>It's just a 'MongoDB' with a cache layer which support distributed transaction.</li>\n<li>Directly use of MongoDB's query API.</li>\n<li>Built-in Mongoose support, easy to port existing Mongoose project to MemDB.</li>\n</ul>\n\n<h3><a id=\"user-content-high-availability\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#high-availability\"></a>High Availability</h3>\n\n<ul>\n<li>Each shard is backed by one or more slaves, no single point of failure.</li>\n</ul>\n\n<h2><a id=\"user-content-links\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#links\"></a>Links</h2>\n\n\n\n<h2><a id=\"user-content-quick-start\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#quick-start\"></a>Quick Start</h2>\n\n<h3><a id=\"user-content-install-dependencies\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#install-dependencies\"></a>Install Dependencies</h3>\n\n<ul>\n<li>Install <a href=\"https://nodejs.org/download/\">Node.js</a></li>\n<li>Install <a href=\"http://redis.io/download\">Redis</a></li>\n<li>Install <a href=\"https://www.mongodb.org/downloads\">MongoDB</a></li>\n</ul>\n\n<p>Make sure Redis and MongoDB has started</p>\n\n<h3><a id=\"user-content-install-memdb\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#install-memdb\"></a>Install MemDB</h3>\n\n<ul>\n<li>MemDB should be installed globally</li>\n</ul>\n\n<pre><code>sudo npm install -g memdb-server\n</code></pre>\n\n<h3><a id=\"user-content-configure-memdb\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#configure-memdb\"></a>Configure MemDB</h3>\n\n<p>Copy default config file from <code>node_modules/memdb-server/memdb.conf.js</code> to <code>~/.memdb/</code> (mkdir if not exist), and modify it on your need. \nPlease read comments carefully.</p>\n\n<h3><a id=\"user-content-start-memdb\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#start-memdb\"></a>Start MemDB</h3>\n\n<p>Use <code>memdbcluster</code> to control lifecycle of memdb server cluster</p>\n\n<pre><code>memdbcluster [start | stop | status] [--conf=memdb.conf.js] [--shard=shardId]\n</code></pre>\n\n<h3><a id=\"user-content-play-with-memdb-shell\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#play-with-memdb-shell\"></a>Play with memdb shell</h3>\n\n<p>See the video bellow, note how ACID transaction work cross multiple shards.\n<a href=\"https://github.com/rain1017/memdb/wiki/images/memdbshell.gif\" target=\"_blank\"><img src=\"https://github.com/rain1017/memdb/wiki/images/memdbshell.gif\" alt=\"memdbshell.gif\"></a></p>\n\n<h3><a id=\"user-content-mdbgoose\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#mdbgoose\"></a>Mdbgoose</h3>\n\n<p>Mdbgoose is a modified <strong><a href=\"http://mongoosejs.com\">Mongoose</a></strong> version that work for memdb</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> memdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>memdb-client<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> P <span class=\"pl-k\">=</span> memdb.Promise;\n<span class=\"pl-k\">var</span> mdbgoose <span class=\"pl-k\">=</span> memdb.goose;\n\n<span class=\"pl-c\">// Define player schema</span>\n<span class=\"pl-k\">var</span> playerSchema <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">mdbgoose.Schema</span>({\n _id <span class=\"pl-k\">:</span> <span class=\"pl-c1\">String</span>,\n name <span class=\"pl-k\">:</span> <span class=\"pl-c1\">String</span>,\n areaId <span class=\"pl-k\">:</span> <span class=\"pl-c1\">Number</span>,\n deviceType <span class=\"pl-k\">:</span> <span class=\"pl-c1\">Number</span>,\n deviceId <span class=\"pl-k\">:</span> <span class=\"pl-c1\">String</span>,\n items <span class=\"pl-k\">:</span> [mdbgoose.SchemaTypes.Mixed],\n}, {collection <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>player<span class=\"pl-pds\">'</span></span>});\n<span class=\"pl-c\">// Define player model</span>\n<span class=\"pl-k\">var</span> Player <span class=\"pl-k\">=</span> mdbgoose.model(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>player<span class=\"pl-pds\">'</span></span>, playerSchema);\n\n<span class=\"pl-k\">var</span> main <span class=\"pl-k\">=</span> P.coroutine(<span class=\"pl-k\">function*</span>(){\n <span class=\"pl-c\">// Connect to memdb</span>\n <span class=\"pl-k\">yield</span> mdbgoose.connectAsync({\n shards <span class=\"pl-k\">:</span> { <span class=\"pl-c\">// specify all shards here</span>\n s1 <span class=\"pl-k\">:</span> {host <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>127.0.0.1<span class=\"pl-pds\">'</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">31017</span>},\n s2 <span class=\"pl-k\">:</span> {host <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>127.0.0.1<span class=\"pl-pds\">'</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">31018</span>},\n }\n });\n\n <span class=\"pl-c\">// Make a transaction in s1</span>\n <span class=\"pl-k\">yield</span> mdbgoose.transactionAsync(P.coroutine(<span class=\"pl-k\">function*</span>(){\n\n <span class=\"pl-k\">var</span> player <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Player</span>({\n _id <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>p1<span class=\"pl-pds\">'</span></span>,\n name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>rain<span class=\"pl-pds\">'</span></span>,\n areaId <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n deviceType <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n deviceId <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>id1<span class=\"pl-pds\">'</span></span>,\n items <span class=\"pl-k\">:</span> [],\n });\n\n <span class=\"pl-c\">// insert a player</span>\n <span class=\"pl-k\">yield</span> player.saveAsync();\n\n <span class=\"pl-c\">// find player by id</span>\n <span class=\"pl-k\">var</span> doc <span class=\"pl-k\">=</span> <span class=\"pl-k\">yield</span> Player.findByIdAsync(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>p1<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span><span class=\"pl-c1\">.log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>%j<span class=\"pl-pds\">'</span></span>, doc);\n\n <span class=\"pl-c\">// find player by areaId, return array of players</span>\n <span class=\"pl-k\">var</span> docs <span class=\"pl-k\">=</span> <span class=\"pl-k\">yield</span> Player.findAsync({areaId <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>});\n <span class=\"pl-en\">console</span><span class=\"pl-c1\">.log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>%j<span class=\"pl-pds\">'</span></span>, docs);\n\n <span class=\"pl-c\">// find player by deviceType and deviceId</span>\n player <span class=\"pl-k\">=</span> <span class=\"pl-k\">yield</span> Player.findOneAsync({deviceType <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, deviceId <span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>id1<span class=\"pl-pds\">'</span></span>});\n\n <span class=\"pl-c\">// update player</span>\n player.areaId <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n <span class=\"pl-k\">yield</span> player.saveAsync();\n\n <span class=\"pl-c\">// remove the player</span>\n <span class=\"pl-k\">yield</span> player.removeAsync();\n\n }), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s1<span class=\"pl-pds\">'</span></span>);\n});\n\n<span class=\"pl-k\">if</span> (<span class=\"pl-c1\">require</span>.main <span class=\"pl-k\">===</span> <span class=\"pl-c1\">module</span>) {\n main().finally(<span class=\"pl-c1\">process</span>.exit);\n}</pre></div>\n\n<p>To run the sample above:</p>\n\n<ul>\n<li>Add the following index config in memdb.conf.js</li>\n</ul>\n\n<pre><code>collections : {\n player : {\n indexes : [\n {\n keys : ['areaId'],\n },\n {\n keys : ['deviceType', 'deviceId'],\n unique : true,\n },\n ]\n }\n}\n</code></pre>\n\n\n\n<pre><code>memdbcluster stop\nmemdbcluster start\n</code></pre>\n\n<ul>\n<li>Make sure you have started shard 's1' on localhost:31017</li>\n<li>Install npm dependencies</li>\n</ul>\n\n<pre><code>npm install memdb-client\n</code></pre>\n\n<ul>\n<li>Run with node &gt;= 0.12 with --harmony option</li>\n</ul>\n\n<pre><code>node --harmony sample.js\n</code></pre>\n\n<p><strong>Check <a href=\"https://github.com/rain1017/memdb/wiki/API-Reference#mdbgoose\">here</a> to see how to port your Mongoose project to Mdbgoose</strong></p>\n\n<h3><a id=\"user-content-architecture\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#architecture\"></a>Architecture</h3>\n\n<p><a href=\"https://github.com/rain1017/memdb/wiki/images/architecture.png\" target=\"_blank\"><img src=\"https://github.com/rain1017/memdb/wiki/images/architecture.png\" alt=\"architecture.png\"></a></p>\n\n<h3><a id=\"user-content-relationship-between-memdb-and-mongodb\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#relationship-between-memdb-and-mongodb\"></a>Relationship between MemDB and MongoDB</h3>\n\n<p>MemDB is like a 'cache layer' built up on MongoDB which support distributed ACID transaction. </p>\n\n<p>MemDB has its own API which similar to MongoDB, however, you can still use MongoDB's native query API by directly access backend storage, here are the guidelines:</p>\n\n<ul>\n<li>Do simple query and update through MemDB API, which is ACID transaction safe.</li>\n<li>Do complex query through backend MongoDB, the read is not transaction safe.</li>\n<li>Do complex update through backend MongoDB <strong>offline</strong> (All MemDB shards are shutdown).</li>\n</ul>\n\n<p>Here are some basic rules for memdb:</p>\n\n<ul>\n<li>Data is not bind to specified shard, you can access any data from any shard.</li>\n<li>All operations inside a single transaction must be executed on one single shard.</li>\n<li>Access the same data from the same shard if possible, which will maximize performance.</li>\n</ul>\n\n<h3><a id=\"user-content-further-read\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#further-read\"></a>Further read</h3>\n\n\n\n<h2><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/rain1017/memdb#license\"></a>License</h2>\n\n<p>Copyright 2015 rain1017.</p>\n\n<p>Licensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at</p>\n\n<pre><code>http://www.apache.org/licenses/LICENSE-2.0\n</code></pre>\n\n<p>Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\nimplied. See the License for the specific language governing\npermissions and limitations under the License. See the AUTHORS file\nfor names of contributors.</p>\n</article>\n </div>"
    }, {
        "title": "SQL vs NoSQL: you do want to have a relational storage by default",
        "url": "http://enterprisecraftsmanship.com/2015/11/06/sql-vs-nosql-you-do-want-to-have-a-relational-storage-by-default/",
        "excerpt": "The concept of NoSQL databases has been around for a while, but there still are quite a few misunderstandings regarding the topic of relational SQL vs NoSQL databases. In this post, I&#x2019;d like&hellip;",
        "date_saved": "Thu Jul 28 20:13:11 EDT 2016",
        "html_file": "sql_vs_nosql_you_do_want_to_have_a_relational_storage_by_default.html",
        "png_file": "sql_vs_nosql_you_do_want_to_have_a_relational_storage_by_default.png",
        "md_file": "sql_vs_nosql_you_do_want_to_have_a_relational_storage_by_default.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t<p>The concept of NoSQL databases has been around for a while, but there still are quite a few misunderstandings regarding the topic of relational SQL vs NoSQL databases. In this post, I&#x2019;d like to clarify the most common misconceptions and discuss the primary use cases for each of them.</p>\n\n<h2>Are NoSQL databases really schemaless?</h2>\n<p>A quick note before we start: the notion of NoSQL refers to 4 different types of databases: Document-Oriented, Column-Oriented, Key-Value stores, and Graph DBs. In this post, I talk about Document-Oriented databases primarily. I refer to them as NoSQL for the sake of brevity but keep in mind the term itself has a more broad scope.</p>\n<p>Alright, so are NoSQL databases really schemaless? Let&#x2019;s take an example. Let&#x2019;s say we have a document collection named Customers with the following data inside:</p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 1, </span><span>Name</span><span>: </span><span>&#x201C;John Doe&#x201D;</span><span> },</span></p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 2, </span><span>Name</span><span>: </span><span>&#x201C;Bob Smith&#x201D;</span><span> }</span></p>\n<p>Because of the collection&#x2019;s schemaless nature, nothing prevents us from adding another document, like this:</p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 1, </span><span>Name</span><span>: </span><span>&#x201C;John Doe&#x201D;</span><span> },</span></p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 2, </span><span>Name</span><span>: </span><span>&#x201C;Bob Smith&#x201D;</span><span> },</span></p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 3, </span><span>FirstName</span><span>: </span><span>&#x201C;Alice&#x201D;<span>, </span><span>LastName</span><span>: </span><span>&#x201C;Christopher&#x201D;</span></span><span> }</span></p>\n<p class=\"MsoNormal\">Now, let&#x2019;s say we have a method that looks for customers given a particular name:</p>\n<p class=\"MsoNormal\"><span>public</span> <span>class</span> <span>CustomerRepository</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>IReadOnlyList</span><span>&lt;</span><span>Customer</span><span>&gt; </span><span>Find</span><span>(</span><span>string</span><span> name)</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>return</span> <span>_collection</span><span>.</span><span>Find</span><span>(x =&gt; x.</span><span>Name</span><span> == name).</span><span>ToList</span><span>();</span></p>\n\n\n<p>What would happen if we add Alice Christopher to the collection the way we did previously? Would the Find method find her? Surely, not. The repository class implicitly relies on the collection schema and require all customers to have the Name property in order to be detected. In this scenario, we have to adjust the Find method so that it would start looking at both Name and FirstName/LastName properties.</p>\n<p>While NoSQL databases are technically schemaless meaning that they allow us to store documents in any shape we want, the notion of schema itself doesn&#x2019;t vanish from our domain model. <strong>Schemaless databases just shift the responsibility to maintain the schema to us, developers</strong>.</p>\n<p>The use of a NoSQL storage means a move from explicitly defined data structures to implicit ones. And that is a huge step back from what we have in relational databases, because, as we know, we should always try to <a href=\"http://enterprisecraftsmanship.com/2015/10/05/making-implicit-assumptions-explicit/\">make implicit assumptions in our code explicit</a>.</p>\n<p>And of course, the notion of schemaless data doesn&#x2019;t belong to NoSQL databases exclusively. We can do the same in traditional relational databases. For example, one could serialize the whole customer object to an XML or JSON document and put it to an MSSQL/Oracle/MySQL table. This would make the customer storage schemaless as well.</p>\n<p>As you might guess, such design decisions are frowned upon in the world of relational databases because of the lack of explicitness. Explicit schema SQL storages introduce is a great assistant when it comes to defining data structures. It helps developers make sure the shape of the data they work with is consistent across the whole database.</p>\n<h2>Are schema migrations easier with NoSQL databases?</h2>\n<p>Another broadly accepted statement is that schema migrations are easier with NoSQL databases. Are they?</p>\n<p>In the example above, how would we handle the two editions of the customer data? We would need to introduce schema versioning:</p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 1, </span><span>Name</span><span>: </span><span>&#x201C;John Doe&#x201D;<span>, </span><span>Version</span><span>: 1</span></span><span> },</span></p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 2, </span><span>Name</span><span>: </span><span>&#x201C;Bob Smith&#x201D;<span>, </span><span>Version</span><span>: 1</span></span><span> },</span></p>\n<p class=\"MsoNormal\"><span>{ </span><span>Id</span><span>: 3, </span><span>FirstName</span><span>: </span><span>&#x201C;Alice&#x201D;<span>, </span><span>LastName</span><span>: </span><span>&#x201C;Christopher&#x201D;<span>, </span><span>Version</span><span>: 2</span></span></span><span> }</span></p>\n<p class=\"MsoNormal\">It means that in any given time there exist at least 2 versions of the Customer class and we have to handle both of them in our domain model manually:</p>\n<p class=\"MsoNormal\"><span>public</span> <span>class</span> <span>Customer</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>int</span> <span>Id</span><span> { </span><span>get</span><span>; </span><span>private</span> <span>set</span><span>; }</span></p>\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>string</span> <span>Name</span><span> { </span><span>get</span><span>; </span><span>private</span> <span>set</span><span>; }</span></p>\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>string</span> <span>FirstName</span><span> { </span><span>get</span><span>; </span><span>private</span> <span>set</span><span>; }</span></p>\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>string</span> <span>LastName</span><span> { </span><span>get</span><span>; </span><span>private</span> <span>set</span><span>; }</span></p>\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>int</span> <span>Version</span><span> { </span><span>get</span><span>; </span><span>private</span> <span>set</span><span>; }</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>/* Other members */</span></p>\n\n\n<p class=\"MsoNormal\"><span>public</span> <span>class</span> <span>CustomerProcessor</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>public</span> <span>void</span> <span>Process</span><span>(</span><span>Customer</span><span> customer)</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>string</span><span> lastName;</span></p>\n<p class=\"MsoNormal\"><span></span><span>if</span><span> (customer.</span><span>Version</span><span> == 1)</span></p>\n\n<p class=\"MsoNormal\"><span>lastName = </span><span>/* Get the last name out of customer.Name somehow */</span><span>;</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>else</span> <span>if</span><span> (customer.</span><span>Version</span><span> == 2)</span></p>\n\n<p class=\"MsoNormal\"><span>lastName = customer.</span><span>LastName</span><span>;</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>else</span></p>\n\n<p class=\"MsoNormal\"><span></span><span>throw</span> <span>new</span> <span>InvalidOperationException</span><span>();</span></p>\n\n<p class=\"MsoNormal\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Work with lastName here */</span></p>\n\n\n<p>The situation here is essentially the same. NoSQL databases don&#x2019;t help us with the schema migrations, <strong>they transfer the obligation to perform it to us, developers</strong>. With a non-relational storage, we have to do the following:</p>\n<ul>\n<li>Change our code so that it handles both versions of the schema (see the CustomerProcessor.Process method).</li>\n<li>Create a background job which searches for documents of the old versions and transforms them into the new version, one by one.</li>\n</ul>\n<p>Now, compare this to the explicit &#x201C;fire-and-forget&#x201D; migrations we can employ in an SQL database. All we have to do there is write a single script that would <a href=\"http://enterprisecraftsmanship.com/2015/08/10/database-versioning-best-practices/\">handle all data migrations at once</a>. The migration logic in relational storages tends not to infiltrate to the domain model which helps keep the latter clean and simple.</p>\n<p>Schema migrations in NoSQL databases are not easier. Contrarily, they are more difficult to implement and maintain comparing to SQL storages.</p>\n<h2>Other benefits of traditional SQL databases</h2>\n<p>There are two more benefits traditional SQL databases provide us out of the box. There&#x2019;re no analogues for them in most Document-Oriented DBs.</p>\n<p>The first one is data (referential) integrity. This feature helps us verify we don&#x2019;t reference non-existing rows and thus keep the data consistent in the first place. For example, we can create a foreign key constraint in our customers table and thereby make sure all our customers belong to one of the predefined countries:</p>\n<div class=\"wp-caption aligncenter\"><img src=\"http://i0.wp.com/i.imgur.com/Pmb1CDw.png?resize=429%2C251\" alt=\"SQL vs NoSQL: data integrity in action\"><p class=\"wp-caption-text\">Data integrity in action</p></div>\n<p>A relational database acts here as the last stand guardian, so to speak. It means that we still need to employ proper validation in the application code&#xA0;ourselves but if we miss something, that wouldn&#x2019;t lead to data corruption. The database would inform us about the inconsistency by rejecting the incorrect transaction.</p>\n<p>In NoSQL storages, we have to &#x2013; once again &#x2013; handle such situations manually. It&#x2019;s a common practice to create a background job to&#xA0;reveal inconsistent data and try to settle the conflicts after they took place.</p>\n<p>Atomic transactions across different tables and/or rows is the other benefit. It&#x2019;s not as important as those we discussed previously because a well-designed NoSQL storage rarely requires the change of multiple documents at once. But still, it&#x2019;s a nice-to-have feature in many cases. NoSQL databases usually support atomic operations within a single document only.</p>\n<h2>So why ever bother choosing a NoSQL data storage?</h2>\n<p>Despite all the merits relational databases have, they lack two important ones: scalability and performance. And this is the only reasons why one should ever consider choosing NoSQL. Not because NoSQL database are schemaless (they are not, essentially), nor because they make schema migrations easier (they don&#x2019;t). Scalability. And performance.</p>\n<p>Relational databases are Jacks of all trades. They provide rich functionality out of the box. They also do pretty well with any kind of software. The only problem with SQL storages is that when your data outgrows a single database instance, you no longer can rely on the relational model.</p>\n<p>If that is the case, you have to revisit your application and try to accommodate a NoSQL storage &#x2013; one that fits the needs of your software the most:</p>\n<div class=\"wp-caption aligncenter\"><img src=\"http://i1.wp.com/i.imgur.com/pYGGCKY.png?resize=482%2C312\" alt=\"SQL vs NoSQL: Choosing a specialized data storage based on your application's needs\"><p class=\"wp-caption-text\">Choosing a specialized data storage based on your application&#x2019;s needs</p></div>\n<p>But even in this case, it doesn&#x2019;t mean you should forgo the SQL database completely. You can employ a NoSQL storage for the part of your system that doesn&#x2019;t fit the relational model and keep the rest in place. This practice is called <a href=\"http://martinfowler.com/bliki/PolyglotPersistence.html\">Polyglot Persistence</a>.</p>\n<p>All said above doesn&#x2019;t mean you can&#x2019;t scale a relational DB. You can (to some extent). But this means you will need to give up on the benefits it provides, such as data integrity. Also, SQL databases don&#x2019;t provide such functionality out of the box, so it often becomes a pain to do that. In most cases, you are better off just choosing a NoSQL DB for scalability purposes.</p>\n<h2>SQL vs NoSQL: Conclusion</h2>\n<p>In most cases, NoSQL is a forced choice. It&#x2019;s a tool the use of which you want to postpone as much as possible as it shifts too much of burden to you as a programmer. Relational databases are more friendly, they provide rich capabilities out of the box:</p>\n<ul>\n<li>Explicit schema</li>\n<li>The ease of migrations</li>\n<li>Data integrity</li>\n<li>Atomic transactions across several tables/rows</li>\n</ul>\n<p>If your application is not expecting outstanding scalability requirements in any near future, you are almost always better off choosing a relational storage. The reason is that non-relational databases require constant (and quite big) maintenance overhead comparing to relational ones.</p>\n<p>Only if you are sure your system will contain more than tens or hundreds of millions rows in a single table, should you consider using NoSQL. And even in this case, try to extract to the non-relational storage only the parts that don&#x2019;t fit the relational DB. That would help reduce the overall maintenance overhead.</p>\n<h2>Related articles</h2>\n<ul>\n<li><a href=\"http://enterprisecraftsmanship.com/2015/08/10/database-versioning-best-practices/\">Database versioning best practices</a></li>\n<li><a href=\"http://enterprisecraftsmanship.com/2015/10/05/making-implicit-assumptions-explicit/\">Making implicit assumptions explicit</a></li>\n</ul>\n<div class=\"addtoany_share_save_container addtoany_content_bottom\"></div>\t\t\t\t\t</div>\n\t\t\n\n</div>"
    }, {
        "title": "Your Pull Request tracking tool",
        "url": "https://hacksboard.com/",
        "excerpt": "AboutGet your Pull Requests doneHacksboard is a Pull Request tracking tool for teams using Github + Code Review + Office TVSubmit your pull requestSubmit your pull request like you use to do,&hellip;",
        "date_saved": "Thu Jul 28 20:13:13 EDT 2016",
        "html_file": "your_pull_request_tracking_tool.html",
        "png_file": "your_pull_request_tracking_tool.png",
        "md_file": "your_pull_request_tracking_tool.md",
        "content": "<div><div id=\"wrapper\"><section><div id=\"about\" class=\"wpb_row\"><div class=\"container\"><div class=\"rst-group-title text-center\"><span>About</span><h2>Get your Pull Requests done</h2><p>Hacksboard is a Pull Request tracking tool for teams using Github + Code Review + Office TV</p></div><div><div class=\"rst-home-whatwehave text-center wow animated slideInLeft\"><div class=\"rst-borderdashed\"><i><img src=\"https://hacksboard.com/landing/images/submit.svg\" alt=\"Submit your pull request\" title=\"Submit your pull request\"></i></div><h3>Submit your pull request</h3><p>Submit your pull request like you use to do, whenever you want. No more chat begging asking for review.</p></div><div class=\"rst-home-whatwehave text-center\"><div class=\"rst-borderdashed\"><i><img src=\"https://hacksboard.com/landing/images/appears.svg\" alt=\"Your request appears at Hacksboard\" title=\"Your request appears at Hacksboard\"></i></div><h3>Your request appears at Hacksboard</h3><p>Your pull request is displayed at your office TV using Hacksboard so everyone gets noticed. No asks for review, no lost pull requests.</p></div><div class=\"rst-home-whatwehave text-center wow animated slideInRight\"><div class=\"rst-borderdashed\"><i><img src=\"https://hacksboard.com/landing/images/reviewed.svg\" alt=\"You get reviewed\" title=\"You get reviewed\"></i></div><h3>You get reviewed</h3><p>Your pull request is reviewed by someone else in your team so you can merge or rework on the issue as soon as possible.</p></div></div></div></div><div id=\"rst-support-products\" class=\"wpb_row\"><div class=\"container\"><div class=\"rst-group-title text-center\"><span>Profiles</span><h2>Useful for the whole team</h2></div><div class=\"owl-carousel rst-whatwehave-owl rst-home-sp-products-owl\"><div class=\"row\"><div class=\"col-sm-4\"><div class=\"rst-product-box rst-product-box-2\"><div class=\"rst-box-image\"><img src=\"https://hacksboard.com/landing/images/developers.svg\" alt=\"Hacksboard developers\"></div></div></div><div class=\"col-sm-4\"><div class=\"rst-product-box rst-product-box-2\"><div class=\"rst-box-image\"><img src=\"https://hacksboard.com/landing/images/cto.svg\" alt=\"Hacksboard CTO's\"></div></div></div><div class=\"col-sm-4\"><div class=\"rst-product-box rst-product-box-2\"><div class=\"rst-box-image\"><img src=\"https://hacksboard.com/landing/images/project_managers.svg\" alt=\"\"></div></div></div></div></div></div></div><div id=\"pricing\" class=\"wpb_row\"><div class=\"container\"><div class=\"row\"><div class=\"col-sm-6\"><div class=\"rst-group-title text-left wow animated slideInLeft\"><span>Pricing</span><h2>Free while in beta</h2><p>Feedback is important for us, so we're offering Hacksboard completely for free while in beta. All existing users will have a special discount when beta ends.</p></div><a href=\"https://hacksboard.com/login\" class=\"login-button-show-modal btn btn-lg btn-success\"><i class=\"fa fa-github fa-2x\"></i> <span>Log in with Github</span></a></div><div class=\"col-sm-6 wow animated zoomIn\"><img src=\"https://hacksboard.com/landing/images/group.svg\" alt=\"Hacksboard pricing: Free While In Beta\" title=\"Hacksboard pricing: Free While In Beta\"></div></div></div></div><div id=\"features\" class=\"wpb_row\"><div class=\"container\"><p class=\"rst-group-title text-center\"><span>Features</span><h2>Product details</h2></p><div class=\"owl-carousel rst-whatpeople-owl\"><div class=\"row\"><div class=\"col-sm-12\"><img src=\"https://hacksboard.com/landing/images/Slide-1.jpg\" alt=\"Hacksboard on a TV\" title=\"Hacksboard on a TV\" class=\"fancybox\"></div></div><div class=\"row\"><div class=\"col-sm-12\"><img src=\"https://hacksboard.com/landing/images/Slide-2.jpg\" alt=\"Hacksboard pull request status detail\" title=\"Hacksboard pull request status detail\" class=\"fancybox\"></div></div><div class=\"row\"><div class=\"col-sm-12\"><img src=\"https://hacksboard.com/landing/images/Slide-3.jpg\" alt=\"Hacksboard pull request number detail\" title=\"Hacksboard pull request number detail\" class=\"fancybox\"></div></div><div class=\"row\"><div class=\"col-sm-12\"><img src=\"https://hacksboard.com/landing/images/Slide-4.jpg\" alt=\"Hacksboard configuration panel\" title=\"Hacksboard configuration panel\" class=\"fancybox\"></div></div></div></div></div><div id=\"questions\" class=\"wpb_row\"><div class=\"container\"><p class=\"rst-group-title text-center\"><span>helpdesk</span><h2>Aha! Questions!</h2></p><div class=\"row\"><div class=\"col-sm-4\"><div class=\"rst-knowledgebase wow animated slideInUp\"><span class=\"rst-knowledge-number\">01 <b>.</b></span> <span>Privacy</span><h5>Is this safe?</h5><p>Yes, it is. We'll only read your Github repo list in order to display your projects, and all this under a safe 256 bits SSL connection. Find out more about safety and permissions.</p><a href=\"https://hacksboard.com/safety\" class=\"btn\">read more</a></div></div><div class=\"col-sm-4\"><div class=\"rst-knowledgebase wow animated slideInUp\"><span class=\"rst-knowledge-number\">02<b>.</b></span> <span>Hardware</span><h5>What if we don't have an office TV?</h5><p>You should have one. These big office boards are a way to get everyone on the same page. Anyway, if you don't have one we're working on something for you.</p><a href=\"https://hacksboard.com/hardware\" class=\"btn\">read more</a></div></div><div class=\"col-sm-4\"><div class=\"rst-knowledgebase wow animated slideInUp\"><span class=\"rst-knowledge-number\">03<b>.</b></span> <span>About</span><h5>Who are you?</h5><p>Hacksboard is made by Lafosca, a development team from Barcelona. This is a very useful internal tool turned into a product.</p></div></div></div></div></div></section></div></div>"
    }, {
        "title": "Nanobox",
        "url": "https://desktop.nanobox.io/",
        "excerpt": "Local Development Done RightParity between development and productionAutomated environment configurationKeep your local machine clean via virtualizationView DemoFork me on githubDownloadEliminate&hellip;",
        "date_saved": "Thu Jul 28 20:13:14 EDT 2016",
        "html_file": "nanobox.html",
        "png_file": "nanobox.png",
        "md_file": "nanobox.md",
        "content": "<div><div class=\"main-wrapper\"><div class=\"content-area\"><div class=\"home\"><div class=\"section\"><h2>Local Development Done Right</h2><div class=\"manifesto\"><div class=\"point\"><div class=\"svg-holder\"><img class=\"shadow-icon\"></div><p>Parity between development and production</p></div><div class=\"point config\"><div class=\"svg-holder\"><img class=\"shadow-icon\"></div><p>Automated environment configuration</p></div><div class=\"point clean\"><div class=\"svg-holder\"><img class=\"shadow-icon\"></div><p>Keep your local machine clean via virtualization</p></div></div><div class=\"buttons\"><a class=\"demo-video\"><img class=\"shadow-icon\"><p>View Demo</p></a><a href=\"https://github.com/nanobox-io?utf8=&#x2713;&amp;query=nanobox\" class=\"github\"><img class=\"shadow-icon\"><p>Fork me on github</p></a><a href=\"https://desktop.nanobox.io/downloads\" class=\"download\"><img class=\"shadow-icon\"><p>Download</p></a></div></div><p class=\"section-summary eliminate-complexity\"><h2>Eliminate Environment Complexity</h2><h2>Your app is launched in a lightweight VM that is consistent across local and production machines</h2></p><p class=\"section-summary\"><h2>Just Code</h2><h2>Nanobox detects your app type and automatically configures the environment and installs everything your app needs to run</h2></p><div class=\"mini-overview\"><div class=\"mini\"><div class=\"script\"><pre><code class=\"language-nanobox\">$ nanobox run \nLaunching Vagrant Virtual Machine\nDetecting app type\nInstalling runtimes in VM\netc..</code></pre></div></div><div class=\"mini\"><div class=\"script\"><pre><code class=\"language-nanobox\">$ nanobox dev \nEntering virtual machine context:\n$ rails s # development server </code></pre></div></div></div></div></div></div></div>"
    }, {
        "title": "The trusted source for JavaScript packages, Meteor resources and tools",
        "url": "https://atmospherejs.com/linto/spreadjs",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:13:16 EDT 2016",
        "html_file": "the_trusted_source_for_javascript_packages_meteor_resources_and_tools.html",
        "png_file": "the_trusted_source_for_javascript_packages_meteor_resources_and_tools.png",
        "md_file": "the_trusted_source_for_javascript_packages_meteor_resources_and_tools.md",
        "content": "<div>\n\n</div>\n"
    }, {
        "title": "CoreOS",
        "url": "https://coreos.com/blog/cluster-osi-model/",
        "excerpt": "&#x201C;What makes a cluster a cluster?&#x201D; - Ask that question of 10 different engineers and you&#x2019;ll get 10 different answers. Some look at it from a hardware perspective, some see it as a&hellip;",
        "date_saved": "Thu Jul 28 20:13:18 EDT 2016",
        "html_file": "coreos.html",
        "png_file": "coreos.png",
        "md_file": "coreos.md",
        "content": "<div><div class=\"col-lg-9 col-md-9 col-sm-12 post\">\n\n<p><em>&#x201C;What makes a cluster a cluster?&#x201D;</em> - Ask that question of 10 different engineers and you&#x2019;ll get 10 different answers. Some look at it from a hardware perspective, some see it as a particular set of cloud technologies, and some say it&#x2019;s the protocols exchanging information on the network.</p>\n<p>With this ever-growing field of distributed systems technologies, it is helpful to compare the goals, roles and differences of some of these new projects based on their functionality. In this post we propose a conceptual description of the cluster at large, while showing some examples of emerging distributed systems technologies. </p>\n<h2 id=\"layers-of-abstraction\">Layers of abstraction</h2>\n<p>The tech community has long agreed on what a network looks like. We&#x2019;ve largely come to agree, in principle, on the <a href=\"http://en.wikipedia.org/wiki/OSI_model\">OSI (Open Systems Interconnection) model</a> (and in practice, on its close cousin, the <a href=\"http://en.wikipedia.org/wiki/Internet_protocol_suite#Comparison_of_TCP.2FIP_and_OSI_layering\">TCP/IP model</a>).</p>\n<p>A key aspect of this model is the separation of concerns, with well-defined responsibilities and dependence between components: every layer depends on the layer below it and provides useful network functionality (connection, retry, packetization) to the layer above it. At the top, finally, are web sessions and applications of all sorts running and abstracting communication.</p>\n<p>So, as an exercise to try to answer &#x201C;What makes a cluster a cluster?&#x201D; let&#x2019;s apply the same sort of thinking to layers of abstraction in terms of execution of code on a group of machines, instead of communication between these machines.</p>\n<p>Here&#x2019;s a snapshot of the OSI model, applied to containers and clustering: </p>\n<p><img src=\"https://coreos.com/assets/images/media/osi-model-clustering.svg\" alt=\"OSI Applied to Clustering\"></p>\n<p>Let&#x2019;s take a look from the bottom up.</p>\n<h2 id=\"level-1,-hardware\">Level 1, Hardware</h2>\n<p>The hardware layer is where it all begins. In a modern environment, this may mean physical (bare metal) or virtualized hardware &#x2013; abstraction knows no bounds &#x2013; but for our purposes, we define hardware as the CPU, RAM, disk and network equipment that is rented or bought in discrete units.</p>\n<p><em>Examples: bare metal, virtual machines, cloud</em></p>\n<h2 id=\"level-2,-os/machine-abi\">Level 2, OS/Machine ABI</h2>\n<p>The OS layer is where we define how software executes on the hardware: the OS gives us the Application Binary Interface (ABI) by which we agree on a common language that our userland applications speak to the OS (system calls, device drivers, and so on). We also set up a network stack so that these machines can communicate amongst each other. This layer therefore provides our lowest level complete execution environment for applications. </p>\n<p>Now, traditionally, we stop here, and run our final application on top of this as a third pseudo-layer of the OS and various user-space packages. We provision individual machines with slightly different software stacks (a database server, an app server) and there&#x2019;s our server rack. </p>\n<p>Over the lifetime of servers and software, however, the permutations and histories of individual machine configurations start to become unwieldy. As an industry, we are learning that managing this complexity becomes costly or infeasible over time, even at moderate scale (e.g. 3+ machines). </p>\n<p>This is often where people start to talk about containers, as containers treat the entire OS userland as one hermetic application package that can be managed as an independent unit. Because of this abstraction, we can conceptually shift containers up the stack, as long as they&#x2019;re above layer 2. We&#x2019;ll revisit containers in layer 6.</p>\n<p><em>Examples: kernel + {systemd, cgroups/namespaces, jails, zones}</em></p>\n<h2 id=\"level-3,-cluster-consensus\">Level 3, Cluster Consensus</h2>\n<p>To begin to mitigate the complexity of managing individual servers, we need to start thinking about machines in some greater, collective sense: this is our first notion of a <em>cluster</em>. We want to write software that scales across these individual servers and shares work effortlessly.</p>\n<p>However, as we add more servers to the picture, we now introduce many more points of failure: networks partition, machines crash and disks fail. How can we build systems in the face of greater uncertainty? What we&#x2019;d like is some way of creating a uniform set of data and data primitives, as needed by distributed systems. Much like in multiprocessor programming, we need the equivalent of locks, message passing, shared memory and atomicity across this group of machines.</p>\n<p>This is an interesting and vibrant field of algorithmic research: a first stop for the curious reader should be the <a href=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/pubs.html\">works of Leslie Lamport</a>, particularly his earlier writing on ordering and reliability of distributed systems. His later work describes Paxos, the preeminent <a href=\"http://en.wikipedia.org/wiki/Consensus_%28computer_science%29\">consensus protocol</a>; the other major protocol, as provided by many projects in this category, is <a href=\"https://raftconsensus.github.io/\">Raft</a>.</p>\n<p>Why is this called consensus? The machines need to &#x2018;agree&#x2019; on the same history and order of events in order to make the guarantees we&#x2019;d like for the primitives described. Locks cannot be taken twice, for example, even if some subset of messages disappears or arrives out of order, or member machines crash for unknown reasons. </p>\n<p>These algorithms build data structures to form a coherent, consistent, and fault-tolerant whole.</p>\n<p><em>Examples: etcd, ZooKeeper, consul</em></p>\n<h2 id=\"level-4,-cluster-resources\">Level 4, Cluster Resources</h2>\n<p>With this perspective of a unified cluster, we can now talk about cluster resources. Having abstracted the primitives of individual machines, we use this higher level view to create and interact with the complete set of resources that we have at our disposal. Thus we can consider in aggregate the CPUs, RAM, disk and networking as available to any process in the cluster, as provided by the physical layers underneath.</p>\n<p>Viewing the cluster as one large machine, all devices (CPU, RAM, disk, networking) become abstract. This is a benefit already being used by containers. Containers depend on these things being abstracted on their behalf; for example, network bridges. This is so they can use these abstractions at a level higher in the stack while running on any of the underlying hardware.</p>\n<p>In some sense, this layer is the equivalent of the hardware layer of the now-primordial notion of the cluster. It may not be as celebrated as the layers above it, but this layer is where some important innovation takes place. Showing a cool auto-scaling webapp demo is nice, but requires things like carving up cluster IP space or where a block device is attached to a host.</p>\n<p><em>Examples: flannel, remote block storage, weave</em></p>\n<h2 id=\"level-5,-cluster-orchestration-and-scheduling\">Level 5, Cluster Orchestration and Scheduling</h2>\n<p>Cluster orchestration, then, starts to look a lot like an OS kernel atop these cluster-level resources and the tools given by consistency &#x2013; symmetry with the layers below again. It&#x2019;s the purview of the orchestration platform to divide and share cluster resources, schedule applications to run, manage permissions, set up interfaces into and out of the cluster, and at the end of the day, find an ABI-compatible environment for the userland. With increased scale comes new challenges: from finding the right machines to providing the best experience to users of the cluster. </p>\n<p>Any software that will run on the cluster must ultimately execute on a physical CPU on a particular server. How the application code gets there and what abstractions it sees is controlled by the orchestration layer. This is similar to how WiFi simulates a copper wire to existing network stacks, with a controllable abstraction through access points, signal strength, meshes, encryption and more.</p>\n<p><em>Examples: fleet, Mesos, Kubernetes</em></p>\n<h2 id=\"level-6,-containers\">Level 6, Containers</h2>\n<p>This brings us back to containers, which, as described earlier, the entire userland is bundled together and treated as a single application unit. </p>\n<p>If you&#x2019;ve followed the whole stack up to this point, you&#x2019;ll see why containers sit at level 6, instead of at level 2 or 3. It&#x2019;s because the layers of abstraction below this point all depend on each other to build up to the point where a single-serving userland can safely abstract whether it&#x2019;s running as one process on a local machine or as something scheduled on the cluster as a whole. </p>\n<p>Containers are actually simple that way; they depend on everything else to provide the appropriate execution environment. They carry userland data and expect specific OS details to be presented to them. </p>\n<p><em>Examples: Rocket, Docker, systemd-nspawn</em></p>\n<h2 id=\"level-7,-application\">Level 7, Application</h2>\n<p>Containers are currently getting a lot of attention in the industry because they can separate the OS and software dependencies from the hardware. By abstracting these details, we can create consistent execution environments across a fleet of machines and let the traditional POSIX userland continue to work, fairly seamlessly, no matter where you take it. If the intention is to share the containers, then choice is important, as is agreeing upon a sharable standard. Containers are exciting; it starts us down the road of a lot of open source work in the realm of true distributed systems, backwards-compatible with the code we already write &#x2013; our <strong>Application</strong>.</p>\n<h2 id=\"closing-thoughts\">Closing Thoughts</h2>\n<p>For any of the layers of the cluster, there are (and will continue to be) multiple implementations. Some will combine layers, some will break them into sub-pieces &#x2013; but this was true of networking in the past as well (do you remember <a href=\"http://en.wikipedia.org/wiki/Internetwork_Packet_Exchange\">IPX</a>? Or <a href=\"http://en.wikipedia.org/wiki/AppleTalk\">AppleTalk</a>?). </p>\n<p>As we continue to work deeply on the internals of every layer, we also sometimes want to take a step back to look at the overall picture and consider the greater audience of people who are interested and starting to work on clusters of their own. We want to introduce this concept as a guideline, with a symmetric way of thinking about a cluster and its components. We&#x2019;d love your thoughts on what defines a cluster as more than a mass of hardware. </p>\n \n</div> \n\n</div>"
    }, {
        "title": "Coding Math",
        "url": "http://www.codingmath.com/",
        "excerpt": "Some more Pythagorean Trees Posted in",
        "date_saved": "Thu Jul 28 20:13:19 EDT 2016",
        "html_file": "coding_math.html",
        "png_file": "coding_math.png",
        "md_file": "coding_math.md",
        "content": "<div class=\"home blog custom-background custom-background-image-empty\">\n<div id=\"page\" class=\"hfeed site\">\n\t\t<header id=\"masthead\" class=\"site-header\">\n\t\t\n\t</header>\n\n\t<div id=\"main\" class=\"clear-fix\">\n\t\t\n\t\t<div id=\"primary\" class=\"site-content\">\n\t\t\t<div id=\"content\">\n\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-144\" class=\"post-144 post type-post status-publish format-standard hentry category-fractals\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=144\" rel=\"bookmark\">Some more Pythagorean Trees</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=11\" rel=\"category\">Fractals</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=144#respond\" title=\"Comment on Some more Pythagorean Trees\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-141\" class=\"post-141 post type-post status-publish format-standard hentry category-3d category-isometric-3d\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=141\" rel=\"bookmark\">Episode 41 \u2013 Isometric 3D Part I</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=9\" rel=\"category\">3D</a>, <a href=\"http://www.codingmath.com/?cat=14\" rel=\"category\">Isometric 3D</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=141#respond\" title=\"Comment on Episode 41 \u2013 Isometric 3D Part I\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-137\" class=\"post-137 post type-post status-publish format-standard hentry category-fractals\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=137\" rel=\"bookmark\">Episode 40 \u2013 Fractal Trees</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=11\" rel=\"category\">Fractals</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=137#respond\" title=\"Comment on Episode 40 \u2013 Fractal Trees\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-132\" class=\"post-132 post type-post status-publish format-standard hentry category-uncategorized\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=132\" rel=\"bookmark\">Coding Math: The Future</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=1\" rel=\"category\">Uncategorized</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=132#respond\" title=\"Comment on Coding Math: The Future\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-130\" class=\"post-130 post type-post status-publish format-standard hentry category-uncategorized\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=130\" rel=\"bookmark\">Episode 39 \u2013 Verlet Integration Part IV</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=1\" rel=\"category\">Uncategorized</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=130#respond\" title=\"Comment on Episode 39 \u2013 Verlet Integration Part IV\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-127\" class=\"post-127 post type-post status-publish format-standard hentry category-uncategorized\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=127\" rel=\"bookmark\">Episode 38 \u2013 Verlet Integration Part III</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=1\" rel=\"category\">Uncategorized</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=127#respond\" title=\"Comment on Episode 38 \u2013 Verlet Integration Part III\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-125\" class=\"post-125 post type-post status-publish format-standard hentry category-uncategorized\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=125\" rel=\"bookmark\">Episode 37 \u2013 Verlet Integration Part II</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=1\" rel=\"category\">Uncategorized</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=125#respond\" title=\"Comment on Episode 37 \u2013 Verlet Integration Part II\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-122\" class=\"post-122 post type-post status-publish format-standard hentry category-physics\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=122\" rel=\"bookmark\">Episode 36 \u2013 Verlet Integration Part I</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=5\" rel=\"category\">Physics</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t<span class=\"comments-link\"><a href=\"http://www.codingmath.com/?p=122#respond\" title=\"Comment on Episode 36 \u2013 Verlet Integration Part I\">Leave a comment</a></span>\n\t\t<span class=\"sep\"> | </span>\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-116\" class=\"post-116 post type-post status-publish format-standard hentry category-fractals\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=116\" rel=\"bookmark\">Episode 35 \u2013 Intro to Fractals</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=11\" rel=\"category\">Fractals</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t\n<article id=\"post-114\" class=\"post-114 post type-post status-publish format-standard hentry category-collision-detection\">\n\n\t<header class=\"entry-header\">\n\t\t<a href=\"http://www.codingmath.com/?author=1\" title=\"View all posts by keith\">\n\t\t\t<img alt=\"\" src=\"http://0.gravatar.com/avatar/0de06548c9d0adf60ff8ed6c00a63332?s=45&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D45&amp;r=G\" class=\"avatar avatar-45 photo\" width=\"45\">\t\t</a>\n\n\t\t<h2 class=\"entry-title\"><a href=\"http://www.codingmath.com/?p=114\" rel=\"bookmark\">Episode 34 \u2013 Line Intersections Part III</a></h2>\n\n\t\t\t\t\n\t\t\t</header>\n\n\t\t\n\t\n\t<footer class=\"entry-meta\">\n\t\t\t\t\t\t\t\t<span class=\"cat-links\">\n\t\t\t\tPosted in <a href=\"http://www.codingmath.com/?cat=8\" rel=\"category\">Collision Detection</a>\t\t\t</span>\n\t\t\t<span class=\"sep\"> | </span>\n\t\t\t\n\t\t\t\t\t\n\t\t\n\t\t\t</footer>\n</article>\n\t\t\t\t\n\t\t\t\t\t<nav id=\"nav-below\" class=\"site-navigation paging-navigation\">\n\t\t<h2 class=\"assistive-text\">Post navigation</h2>\n\n\t\n\t\t\t\t\n\t\t\n\t\t\n\t\n\t</nav>\n\t\n\t\t\t\n\t\t\t</div>\n\t\t</div>\n\n\t\t\n\t</div>\n\n\t<footer id=\"colophon\" class=\"site-footer\">\n\t\t\n\t</footer>\n</div>\n\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\t\n</div>\n"
    }, {
        "title": "altitude/login-with-ssh",
        "url": "https://github.com/altitude/login-with-ssh",
        "excerpt": "Demo here This is a simple experiment to authenticate web sessions with SSH. Doing so gives you a fully decentralized, passwordless authentication for free! How it works A custom SSH server listens&hellip;",
        "date_saved": "Thu Jul 28 20:13:21 EDT 2016",
        "html_file": "altitudeloginwithssh.html",
        "png_file": "altitudeloginwithssh.png",
        "md_file": "altitudeloginwithssh.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p><a href=\"http://demo-ssh.32b6.com\">Demo here</a></p>\n\n<p>This is a simple experiment to authenticate web sessions with SSH. Doing so gives you a fully decentralized, passwordless authentication for free!</p>\n\n<h2><a id=\"user-content-how-it-works\" class=\"anchor\" href=\"https://github.com/altitude/login-with-ssh#how-it-works\"></a>How it works</h2>\n\n<p>A custom SSH server listens for connections. Instead of providing a shell or any other service, it only validates the public key you offer. Then, a callback is made to a web application with a payload containing the validated public key along with the login token used.</p>\n\n<p>In practise, you would have first hit a \"login with SSH button\" on the web app. It would have generated a session that resolves into a valid one with a callback handing the proper key / token combination.</p>\n\n<h2><a id=\"user-content-disclaimer\" class=\"anchor\" href=\"https://github.com/altitude/login-with-ssh#disclaimer\"></a>Disclaimer</h2>\n\n<p>The code here is not intendend to be used beyond the context of this experiment (read: don't use this in production!). A proper implementation would probably have to use a better SSH library like <a href=\"https://www.libssh.org/\">libssh</a>.<br>\nAnyway, have fun!</p>\n</article>\n </div>"
    }, {
        "title": "Instant Loading Web Apps With An Application Shell Architecture \u2014 Google Developers",
        "url": "https://medium.com/google-developers/instant-loading-web-apps-with-an-application-shell-architecture-7c0c2f10c73",
        "excerpt": "By Addy Osmani &amp; Matt GauntProgressive Web Apps (PWAs) describe how a web app can progressively change with use and user consent to give the user a more native-app-like experience with offline&hellip;",
        "date_saved": "Thu Jul 28 20:13:23 EDT 2016",
        "html_file": "instant_loading_web_apps_with_an_application_shell_architecture_u2014_google_developers.html",
        "png_file": "instant_loading_web_apps_with_an_application_shell_architecture_u2014_google_developers.png",
        "md_file": "instant_loading_web_apps_with_an_application_shell_architecture_u2014_google_developers.md",
        "content": "<section name=\"4825\" class=\" section--body section--first section--last\" score=\"41.25\"><div class=\"section-content\" score=\"41.25\"><div class=\"section-inner layoutSingleColumn\"><p name=\"e795\" id=\"e795\" class=\"graf--p graf-after--h3\"><em class=\"markup--em markup--p-em\">By Addy Osmani &amp; Matt Gaunt</em></p><p name=\"34d2\" id=\"34d2\" class=\"graf--p graf-after--p\"><a href=\"https://infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Progressive Web Apps</a> (PWAs) describe how a web app can <em class=\"markup--em markup--p-em\">progressively</em> change with use and user consent to give the user a more native-app-like experience with offline support, push notifications and being installable to the <a href=\"https://developers.google.com/web/updates/2015/03/increasing-engagement-with-app-install-banners-in-chrome-for-android\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">home-screen</a>. They can also gain<strong class=\"markup--strong markup--p-strong\"> substantial </strong>performance benefits thanks to intelligent <a href=\"http://www.html5rocks.com/en/tutorials/service-worker/introduction/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">service worker</strong></a><strong class=\"markup--strong markup--p-strong\"> caching of your UI shell</strong> for repeat visits.</p><p name=\"1e41\" id=\"1e41\" class=\"graf--p graf-after--p\">This allows you to focus on <strong class=\"markup--strong markup--p-strong\">speed</strong>, giving your web apps the same <strong class=\"markup--strong markup--p-strong\">instant loading</strong> and regular updates you\u2019re used to seeing in <strong class=\"markup--strong markup--p-strong\">native applications</strong>. It\u2019s all possible using an <strong class=\"markup--strong markup--p-strong\">Application Shell architecture</strong>\u200a\u2014\u200aa companion to this new way of thinking. Any site can take advantage of <a href=\"http://www.html5rocks.com/en/tutorials/service-worker/introduction/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">service workers</a>, but PWAs must have them so it\u2019s a natural fit.</p></div><div class=\"section-inner sectionLayout--outsetColumn\" score=\"1.25\"><figure name=\"677c\" id=\"677c\" class=\"graf--figure graf--layoutOutsetCenter graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/1200/1*6BUS9ahijjPrr4BfV0Oq8g.jpeg\"></div></figure></div><div class=\"section-inner layoutSingleColumn\" score=\"-21.25\"><p name=\"9597\" id=\"9597\" class=\"graf--p graf-after--figure\">When we talk about an app\u2019s shell, we mean the minimal HTML, CSS and JavaScript powering the user interface. <strong class=\"markup--strong markup--p-strong\">This should load fast and be cached\u200a\u2014\u200aand once loaded, dynamic content can populate your view</strong>. It\u2019s the secret to reliably good performance.</p><p name=\"9bd2\" id=\"9bd2\" class=\"graf--p graf-after--p\">Think of your app\u2019s shell like the bundle of code you\u2019d publish to an app store if building a native app\u200a\u2014\u200ait\u2019s the load needed to get off the ground, but might not be the whole story. Keep your UI local and pull in content dynamically through an API.</p><p name=\"91d3\" id=\"91d3\" class=\"graf--p graf-after--p\">Let\u2019s dive into how to structure your app using a<strong class=\"markup--strong markup--p-strong\"> service worker augmented Application Shell architecture</strong>. We\u2019ll look at both the client and server-side rendering involved and share an end-to-end sample you can try out today.</p><figure name=\"bdeb\" id=\"bdeb\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*5YMGg10WMLUbx1wav7aZYQ.png\"></div></figure><p name=\"f1eb\" id=\"f1eb\" class=\"graf--p graf-after--figure\">Our application has loaded for the first time and displays an \u2018App is ready for offline use\u2019 toast. If an update to the shell becomes available later, we can inform the user to refresh for the new version.</p><p name=\"a008\" id=\"a008\" class=\"graf--p graf-after--h3\">A service worker is a script that<strong class=\"markup--strong markup--p-strong\"> runs in the background,</strong> separate from your web page.. It responds to events, including network requests made from pages it serves. A service worker has an intentionally short lifetime. It wakes up when it gets an event and runs only as long as it needs to process it.</p><p name=\"1f5e\" id=\"1f5e\" class=\"graf--p graf-after--p\">Service workers also have a limited set of APIs when compared to JavaScript run from the context of a normal page. This is standard for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">workers</a> on the web. A Service worker can\u2019t access the DOM but access things like the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Cache\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Cache Storage API</a>, and they can make network requests using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Fetch API</a>. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">IndexedDB API</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">postMessage()</a> are also available to use for data persistence and messaging between the service worker and pages it controls.</p><p name=\"13fe\" id=\"13fe\" class=\"graf--p graf-after--p\">A service worker can intercept network requests made from a page (which triggers a fetch event on the service worker) and return a response retrieved from the network, or retrieved from a local cache, or even constructed programmatically. Effectively, it\u2019s an <strong class=\"markup--strong markup--p-strong\">efficient background event handler </strong>in the browser. The neat part is that, regardless of where the response comes from, it looks to the web page as though there were no service worker involvement.</p><p name=\"cd57\" id=\"cd57\" class=\"graf--p graf-after--p\">To learn more about service workers in depth, read an <a href=\"http://www.html5rocks.com/en/tutorials/service-worker/introduction/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Introduction to Service Workers</a>.</p><p name=\"6b2c\" id=\"6b2c\" class=\"graf--p graf-after--h3\">Service workers are powerful for offline caching but they also offer significant performance wins in the form of<strong class=\"markup--strong markup--p-strong\"> instant loading</strong> for repeat visits to your site or web app. You can cache your application shell so it works offline and populate its content using JavaScript.</p><p name=\"17e6\" id=\"17e6\" class=\"graf--p graf-after--p\">On repeat visits, this allows you to get <strong class=\"markup--strong markup--p-strong\">meaningful pixels</strong> on the screen without the network, even if your content eventually comes from there. Think of it as displaying regions of the screen where toolbars and cards will eventually be populated very quickly and then loading in the rest of the content <strong class=\"markup--strong markup--p-strong\">progressively</strong>.</p><p name=\"1cf3\" id=\"1cf3\" class=\"graf--p graf-after--h4\">To test this architecture on real devices, we\u2019ve run our <a href=\"https://github.com/GoogleChrome/application-shell/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">application shell sample</a> on <a href=\"http://www.webpagetest.org/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">WebPageTest.org</a> and shown the results below.</p><p name=\"f5c2\" id=\"f5c2\" class=\"graf--p graf-after--p\"><a href=\"http://www.webpagetest.org/result/151113_8S_G68/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Testing on Cable with a Nexus 5 using Chrome Dev</strong></a></p><p name=\"ad52\" id=\"ad52\" class=\"graf--p graf-after--p\">The first view of the app has to fetch all the resources from the network and doesn\u2019t achieve a meaningful paint until <strong class=\"markup--strong markup--p-strong\">1.2 seconds </strong>in. Thanks to service worker caching, our repeat visit achieves meaningful paint and fully finishes loading in <strong class=\"markup--strong markup--p-strong\">0.5 seconds.</strong></p><figure name=\"c5b1\" id=\"c5b1\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*V0e9LSWBPFJzDTb1XPDx1g.png\"></div></figure><p name=\"cc7e\" id=\"cc7e\" class=\"graf--p graf-after--figure\"><a href=\"https://youtu.be/bsAefxnSRZU\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Video</a></p><p name=\"a3ce\" id=\"a3ce\" class=\"graf--p graf-after--p\"><a href=\"http://www.webpagetest.org/result/151112_8R_YQN/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\">Testing on 3G with a Nexus 5 using Chrome Dev</strong></a></p><p name=\"eec6\" id=\"eec6\" class=\"graf--p graf-after--p\">We can also test our sample with a slightly slower 3G connection. This time it takes <strong class=\"markup--strong markup--p-strong\">2.5 seconds</strong> on first visit for our first meaningful paint. It takes<a href=\"http://www.webpagetest.org/video/view.php?id=151112_8R_YQN.3.0\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><strong class=\"markup--strong markup--p-strong\"> 7.1 seconds</strong></a><strong class=\"markup--strong markup--p-strong\"> to fully load the page. With service worker caching, our repeat visit achieves meaningful paint and fully finishes loading in </strong><a href=\"http://www.webpagetest.org/video/view.php?id=151112_8R_YQN.3.1\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">0.8 seconds</a>.</p><figure name=\"7dc4\" id=\"7dc4\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*k_Ajk7e0ntOGdLpENgBrCQ.png\"></div></figure><p name=\"b528\" id=\"b528\" class=\"graf--p graf-after--figure\"><a href=\"https://youtu.be/488XbwCKf5g\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Video</a></p><p name=\"079b\" id=\"079b\" class=\"graf--p graf-after--p\"><a href=\"http://www.webpagetest.org/result/151112_HH_11D0/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Other views</a> tell a similar story.. Compare the <strong class=\"markup--strong markup--p-strong\">3 seconds</strong> it takes to achieve first meaningful paint for our first view of another URL in the application-shell:</p><figure name=\"6299\" id=\"6299\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*fuXA7JGKlx3IKUrTQ_1ikw.png\"></div></figure><p name=\"9161\" id=\"9161\" class=\"graf--p graf-after--figure\">to the<strong class=\"markup--strong markup--p-strong\"> 0.9 seconds </strong>it takes when loaded from our service worker cache. Over 2 seconds of time is saved for our end users.</p><figure name=\"c607\" id=\"c607\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*EaYEd9V2lbuSzEb9I6Z4LA.png\"></div></figure><p name=\"c13d\" id=\"c13d\" class=\"graf--p graf-after--figure\">Similar and reliable performance wins are possible for your own applications using the Application Shell architecture.</p><p name=\"737b\" id=\"737b\" class=\"graf--p graf-after--h4\">Service workers imply some subtle changes in application architecture. Rather than squashing all of your application into an HTML string, it can be beneficial to do things <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">XHR</a>-style. This is where you have a shell (always cached and can always boot up without the network) and content which is refreshed regularly and managed separately.</p><p name=\"75d8\" id=\"75d8\" class=\"graf--p graf-after--p\">The implications of this split are large. On the first visit you can render content on the server and install the service worker on the client. On subsequent visits you need only request data.</p><p name=\"5a71\" id=\"5a71\" class=\"graf--p graf-after--h4\">While service worker isn\u2019t currently supported by all browsers, the application content shell architecture uses <a href=\"https://en.wikipedia.org/wiki/Progressive_enhancement\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">progressive enhancement</a> to ensure everyone can access the content. For example, take our sample project.</p><p name=\"4387\" id=\"4387\" class=\"graf--p graf-after--p\">Below you can see the full version rendered in Chrome, Firefox Nightly and Safari. On the very left you can see the Safari version where the content is rendered on the server <em class=\"markup--em markup--p-em\">without</em> a service worker. On the right we see the Chrome and Firefox Nightly versions powered by service worker.</p><figure name=\"f6c5\" id=\"f6c5\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*_3CWMs-v8WpHnfN1t_-Q5A.jpeg\"></div></figure><p name=\"dbe5\" id=\"dbe5\" class=\"graf--p graf-after--h4\">The Application Shell architecture makes the most sense for apps and sites that are <strong class=\"markup--strong markup--p-strong\">dynamic</strong>. A number of modern JavaScript frameworks and libraries (already encourage splitting your application logic from the content, making this pattern more straight-forward to apply.</p><p name=\"cc7d\" id=\"cc7d\" class=\"graf--p graf-after--p\">If you\u2019re a very small static site, you probably don\u2019t need an application shell and can simply cache the whole site in a service worker `oninstall` step. Use the approach that makes the most sense for your project.</p><p name=\"4dd1\" id=\"4dd1\" class=\"graf--p graf-after--h4\">The application shell architecture is possible with just a few changes to your overall application\u2019s UI and has worked well for large-scale sites such as Google\u2019s <a href=\"https://developers.google.com/web/showcase/case-study/service-workers-iowa\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">I/O 2015 Progressive Web App</a> and Google\u2019s <a href=\"http://inbox.google.com\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Inbox</a>.</p><figure name=\"9267\" id=\"9267\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*G_mS2lPczXcWCUjScXctVQ.png\"></div></figure><p name=\"5d92\" id=\"5d92\" class=\"graf--p graf-after--figure\">Offline application shells are a major performance win and are also demonstrated well in Jake Archibald\u2019s <a href=\"https://wiki-offline.jakearchibald.com/wiki/Rick_and_Morty\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">offline Wikipedia app</a>, <a href=\"http://tech-blog.flipkart.net/2015/11/progressive-web-app/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Flipkart Lite</a>\u2019s Progressive web app or <a href=\"https://github.com/googlechrome/voice-memos\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Voice Memos</a> by Paul Lewis.</p></div><div class=\"section-inner sectionLayout--outsetColumn\" score=\"1.25\"><figure name=\"b34a\" id=\"b34a\" class=\"graf--figure graf--layoutOutsetCenter graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/1200/1*ggPaaogmGO_AavHDZPkGiw.jpeg\"></div><figcaption class=\"imageCaption\">For more details on how simple changes to Service Worker can improve startup and load performance, see Jake Archibald\u2019s excellent <a href=\"https://www.youtube.com/watch?v=d5_6yHixpsQ\" class=\"markup--anchor markup--figure-anchor\" rel=\"nofollow\">Supercharging page load</a> video.</figcaption></figure></div><div class=\"section-inner layoutSingleColumn\" score=\"20.75\"><p name=\"d198\" id=\"d198\" class=\"graf--p graf-after--h3\">During the first load experience, your goal is to get meaningful content to the user\u2019s screen as quickly as possible.</p><p name=\"c597\" id=\"c597\" class=\"graf--p graf-after--p\"><strong class=\"markup--strong markup--p-strong\">First Load and Loading Other Pages</strong></p><figure name=\"3ff0\" id=\"3ff0\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*lIOjh8H7wlsCwOJmUivBMA.png\"></div></figure><p name=\"b0f9\" id=\"b0f9\" class=\"graf--p graf-after--figure\"><strong class=\"markup--strong markup--p-strong\">In general the application shell architecture will:</strong></p><ul class=\"postList\"><li name=\"575a\" id=\"575a\" class=\"graf--li graf-after--p\">Prioritise the initial load, but let service worker cache the application shell so repeat visits do not require the shell to be re-fetched from the network.</li><li name=\"555c\" id=\"555c\" class=\"graf--li graf-after--li\">Lazy-load or background load everything else. One good option is to use <a href=\"https://googlechrome.github.io/samples/service-worker/read-through-caching/\" class=\"markup--anchor markup--li-anchor\" rel=\"nofollow\">read-through caching</a> for dynamic content.</li><li name=\"ed90\" id=\"ed90\" class=\"graf--li graf-after--li\">Use service worker tools (sw-precache) for reliable caching and updating of service worker to automatically manage the caching of static content.</li></ul><p name=\"8b5b\" id=\"8b5b\" class=\"graf--p graf-after--li\"><strong class=\"markup--strong markup--p-strong\">To achieve this:</strong></p><ul class=\"postList\"><li name=\"0475\" id=\"0475\" class=\"graf--li graf-after--p\"><strong class=\"markup--strong markup--li-strong\">Server</strong> will send down HTML content the client can render and will use far-future HTTP cache expiration headers to account for browsers without service worker support. It will serve filenames using hashes to enable \u2018versioning\u2019 and easy updates for later in the application lifecycle.</li><li name=\"0e9d\" id=\"0e9d\" class=\"graf--li graf-after--li\"><strong class=\"markup--strong markup--li-strong\">Page(s) </strong>will include inline CSS styles in a &lt;style&gt; tag within the document &lt;head&gt; to provide a fast first paint of the application shell. Each page will asynchronously load the JavaScript necessary for the current view. As we all know, CSS cannot yet be asynchronously loaded.. Instead, we can request styles using JavaScript as it IS asynchronous rather than parser-driven and synchronous. We can also take advantage of <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" class=\"markup--anchor markup--li-anchor\" rel=\"nofollow\">requestAnimationFrame</a> to avoid cases where we might get a fast cache hit and end up with styles accidentally becoming part of the critical rendering path. requestAnimationFrame forces the first frame to be painted and then the styles to get loaded. Another option is to use projects such as Filament Group\u2019s <a href=\"https://github.com/filamentgroup/loadCSS\" class=\"markup--anchor markup--li-anchor\" rel=\"nofollow\">loadCSS</a> to request CSS async using JavaScript.</li><li name=\"36b0\" id=\"36b0\" class=\"graf--li graf-after--li\"><strong class=\"markup--strong markup--li-strong\">Service worker </strong>will store a cached entry of the application shell so that on repeat visits, the shell can be loaded entirely from the service worker cache unless an update is available on the network.</li></ul><figure name=\"2f8c\" id=\"2f8c\" class=\"graf--figure graf-after--li\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*f8je16MDSCGbzs4Ckb1qNQ.jpeg\"></div></figure><p name=\"3093\" id=\"3093\" class=\"graf--p graf-after--h3\">We\u2019ve written a fully working <a href=\"https://github.com/GoogleChrome/application-shell\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">sample</a> using the Application Shell architecture using vanilla ES2015 JavaScript for the client and <a href=\"http://expressjs.com/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">Express.js</a> for the server. There is course nothing stopping you from using your <strong class=\"markup--strong markup--p-strong\">own stack </strong>for either the client or the server portions (e.g PHP, Ruby, Python). We found it relatively painless to use JS all the way through example.</p><p name=\"30bd\" id=\"30bd\" class=\"graf--p graf-after--h4\">For our application-shell project, we use <a href=\"https://github.com/GoogleChrome/sw-precache/\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">sw-precache</a> which generates our service worker script and <a href=\"https://github.com/GoogleChrome/sw-toolbox\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">sw-toolbox</a> which handles runtime caching. Together they offer the following service worker lifecycle:</p><figure name=\"2beb\" id=\"2beb\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*mlR_s0HbEg7VZmJSf-rFhQ.png\"></div></figure><p name=\"df99\" id=\"df99\" class=\"graf--p graf-after--h4\">In the architecture, a server side component should be able to treat the content separate from how it\u2019s presented. Content could be added to a HTML layout that results in a static render of the page, or it could be served up on it\u2019s own to dynamically pulled in.</p><p name=\"f95a\" id=\"f95a\" class=\"graf--p graf-after--p\">Understandably, your server-side setup may drastically differ from the one we use for our demo app, but this pattern of web apps is achievable by most server setups, it <strong class=\"markup--strong markup--p-strong\">does</strong> require some re-architecting. We\u2019ve found that the following model works quite well:</p><figure name=\"673b\" id=\"673b\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*xbR8pdsz-lHRiw4z5CDryQ.png\"></div></figure><ul class=\"postList\"><li name=\"56cb\" id=\"56cb\" class=\"graf--li graf-after--figure\">Routes are defined for three parts of your application: the user facing URL\u2019s (index/wildcard), your HTML partials of just content and the application shell itself.</li><li name=\"1329\" id=\"1329\" class=\"graf--li graf-after--li\">Each route has a controller which pulls in a handlebars layout which in turn can pull in handlebar partials and views. Simply put, partials are views are chunks of HTML that are copied into the final page. Note: JavaScript frameworks that do more advanced data synchronisation are often way easier to port to an Application shell architecture. They tend to use data-binding and sync rather than partials.</li><li name=\"4311\" id=\"4311\" class=\"graf--li graf-after--li\">The user is initially served a static page with content. This page registers a service worker if it\u2019s supported which caches the application shell and everything it depends on (CSS, JS etc).</li><li name=\"7c93\" id=\"7c93\" class=\"graf--li graf-after--li\">The app-shell will then act as a single page web app, using javascript to XHR in the content for a specific URL. The XHR calls are made to a /partials/ endpoint which returns the small chunk of HTML, CSS and JS needed to display that content. Note: there\u2019s a many variants on how this can be approached and the above XHR one is just one of them. Some applications will inline their data (maybe using JSON) for initial render and therefore aren\u2019t \u201cstatic\u201d in the flattened HTML sense.</li><li name=\"cb9d\" id=\"cb9d\" class=\"graf--li graf-after--li\">Browsers <strong class=\"markup--strong markup--li-strong\">without</strong> service worker support should always be served a fall-back experience. In our demo, we fall back to basic static server-side rendering, but this is only one of many options. The service worker aspect provides you with new opportunities for enhancing the performance of your Single-page Application style app using the cached application shell.</li></ul><p name=\"405f\" id=\"405f\" class=\"graf--p graf-after--h4\">One question that arises is how exactly should file versioning/updates be handled. This is application specific and the options are:</p><ul class=\"postList\"><li name=\"8362\" id=\"8362\" class=\"graf--li graf-after--p\">Network first and use the cached version otherwise</li><li name=\"51d1\" id=\"51d1\" class=\"graf--li graf-after--li\">Network only and fail if offline</li><li name=\"71f3\" id=\"71f3\" class=\"graf--li graf-after--li\">Cache the old version and update later</li></ul><p name=\"7eec\" id=\"7eec\" class=\"graf--p graf-after--li\"><strong class=\"markup--strong markup--p-strong\">For the application shell itself, a cache-first approach should be taken for your service worker setup. If you aren\u2019t caching the application shell, you haven\u2019t properly adopted the architecture</strong>.</p><p name=\"30c1\" id=\"30c1\" class=\"graf--p graf-after--p\"><em class=\"markup--em markup--p-em\">Note: The application-shell sample does not (at the time of writing) use file versioning</em><strong class=\"markup--strong markup--p-strong\"><em class=\"markup--em markup--p-em\"> for the assets referenced in the static render, often used for cache busting</em></strong><em class=\"markup--em markup--p-em\">. We hope to add this in the near future. The service worker is otherwise versioned by sw-precache (covered in the \u2018Tooling\u2019 section).</em></p><p name=\"daa6\" id=\"daa6\" class=\"graf--p graf-after--h4\">We maintain a number of different <a href=\"https://developers.google.com/web/tools/service-worker-libraries/?hl=en\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">service worker helper libraries</a> that make the process of precaching your application\u2019s shell or handling common caching patterns more straight-forward to setup.</p><figure name=\"e4cc\" id=\"e4cc\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*ACE3yLzbAze9M1qCAg81lg.png\"></div></figure><p name=\"b05d\" id=\"b05d\" class=\"graf--p graf-after--figure\"><strong class=\"markup--strong markup--p-strong\">Use sw-precache for your application shell</strong></p><p name=\"7200\" id=\"7200\" class=\"graf--p graf-after--p\">Using <a href=\"https://github.com/GoogleChrome/sw-precache\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">sw-precache</a> to cache the application shell should handle the concerns around file revisions, the install/activate questions, and the fetch scenario for the app shell. You can drop sw-precache into your application\u2019s build process and can use configurable wildcards to pick up your static resources. Rather than manually hand-crafting your service worker script, it generates one for you to take care of cache management in a way that is safe and has an efficient, cache-first fetch handler.</p><p name=\"2c85\" id=\"2c85\" class=\"graf--p graf-after--p\">Initial visits to your app trigger pre-caching of the complete set of needed resources. This is very similar to the experience of installing a native app from an app store. <strong class=\"markup--strong markup--p-strong\">When users return to your app, only updated resources are downloaded.</strong> In our demo app, we display an \u201cApp updated. Refresh for the new version\u201d message to inform users that a new version of the application shell is available.</p><figure name=\"dccd\" id=\"dccd\" class=\"graf--figure graf-after--p\" score=\"-12.5\"><div class=\"aspectRatioPlaceholder is-locked\" score=\"6.25\"><img class=\"graf-image\" src=\"https://cdn-images-1.medium.com/max/800/1*mWzNNP0ARzZKK-9jjP9O9Q.jpeg\"></div></figure><p name=\"4d85\" id=\"4d85\" class=\"graf--p graf-after--figure\">This pattern is a low-friction way of letting users know they can refresh for the latest version.</p><p name=\"9e83\" id=\"9e83\" class=\"graf--p graf-after--p\"><strong class=\"markup--strong markup--p-strong\">Use sw-toolbox for runtime caching</strong></p><p name=\"fa89\" id=\"fa89\" class=\"graf--p graf-after--p\">Use <a href=\"https://github.com/GoogleChrome/sw-toolbox\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\">sw-toolbox</a> for runtime caching with varying strategies depending on the resource:</p><ul class=\"postList\"><li name=\"487a\" id=\"487a\" class=\"graf--li graf-after--p\"><a href=\"https://github.com/GoogleChrome/sw-toolbox#toolboxcachefirst\" class=\"markup--anchor markup--li-anchor\" rel=\"nofollow\">cacheFirst</a> for images, along with a dedicated named cache that has a custom expiration policy of N maxEntries.</li><li name=\"7eeb\" id=\"7eeb\" class=\"graf--li graf-after--li\"><a href=\"https://github.com/GoogleChrome/sw-toolbox#toolboxnetworkfirst\" class=\"markup--anchor markup--li-anchor\" rel=\"nofollow\">networkFirst</a> or fastest for API requests, depending on the desired content freshness. Fastest might be fine, but if there\u2019s a specific API feed that\u2019s updated frequently, use networkFirst.</li></ul><p name=\"e776\" id=\"e776\" class=\"graf--p graf-after--h3\">Application shell architectures comes with several benefits but may only make sense for certain classes of application. The model is still young and it will be worth evaluating how much effort and overall performance benefits you might gain from using this architecture.</p><p name=\"f606\" id=\"f606\" class=\"graf--p graf-after--p\">In our experiments, we took advantage of template sharing between the client and server to minimise the work of building two application layers. This ensures progressive enhancement is still a first-class citizen.</p><p name=\"e0ae\" id=\"e0ae\" class=\"graf--p graf-after--p\"><strong class=\"markup--strong markup--p-strong\">If you\u2019re already considering using service workers in your app, take a look at the architecture and evaluate if it makes sense for your own projects. We welcome any and all feedback on the ideas outlined in this post. Thanks!</strong></p><p name=\"cfb4\" id=\"cfb4\" class=\"graf--p graf-after--p\"><em class=\"markup--em markup--p-em\">With thanks to our reviewers: Jeff Posnick, Alex Russell, Paul Lewis, Seth Thompson, Rob Dodson, Taylor Savage, Peter Beverloo and Joe Medley.</em></p><figure name=\"27ae\" id=\"27ae\" class=\"graf--figure graf--iframe graf-after--h3\" score=\"-13.75\"><figcaption class=\"imageCaption\">Instant Loading with Service Workers (Chrome DevSummit talk)</figcaption></figure><p name=\"4f08\" id=\"4f08\" class=\"graf--p graf-after--li graf--last\"><em class=\"markup--em markup--p-em\">Cross-posted from </em><a href=\"https://developers.google.com/web/updates/2015/11/app-shell?hl=en\" class=\"markup--anchor markup--p-anchor\" rel=\"nofollow\"><em class=\"markup--em markup--p-em\">Web Fundamentals</em></a></p></div></div></section>"
    }, {
        "title": "psd.js",
        "url": "https://github.com/meltingice/psd.js",
        "excerpt": "README.md A Photoshop file format (PSD) parser written in Coffeescript/Javascript for both browsers and NodeJS implementations. This implementation is more or less a direct port of pypsd with some&hellip;",
        "date_saved": "Thu Jul 28 20:13:25 EDT 2016",
        "html_file": "psdjs.html",
        "png_file": "psdjs.png",
        "md_file": "psdjs.md",
        "content": "<div><div class=\"announce instapaper_body md\" id=\"readme\"><span class=\"name\">README.md</span><article class=\"markdown-body\">\n\n<p>A Photoshop file format (PSD) parser written in Coffeescript/Javascript for both browsers and NodeJS implementations.</p>\n\n<p>This implementation is more or less a direct port of <a href=\"http://code.google.com/p/pypsd\" rel=\"nofollow\">pypsd</a> with some help from <a href=\"https://github.com/jerem/psdparse\" rel=\"nofollow\">psdparse</a>.</p>\n\n<p><strong>Please note: this is a work in progress and is not finished yet. Do not use in production anywhere.</strong></p>\n\n\n\n<p>If you would like to contribute to psd.js, you can refer to the <a href=\"http://www.adobe.com/devnet-apps/photoshop/fileformatashtml/\" rel=\"nofollow\">official PSD file format specifications</a> for help.</p>\n\n<h3>Building psd.js</h3>\n\n<p>psd.js comes with a handy Cakefile to build the library for you. It first searches for all dependencies in the <code>deps/</code> folder, then adds the core library afterwards in the order speciifed in the Cakefile.</p>\n\n<p>To build, simply run <code>cake build</code>. If you would like the library to automatically build after any source files are saved, you can run <code>cake watch</code>.</p></article></div>\n </div><hr class=\"rdb-page-break\" /><div><div id=\"help\">\n<pre>\nIMPORTANT\n To use the keyboard you must first focus the graph by clicking in it.\n\nMOVEMENT\n To move around the graph you can either use the mouse or the keyboard.\n\n mouse\n Click and drag.\n\n &#8592;, h\n Scroll left.\n\n &#8594;, l\n Scroll right.\n\n &#8593;, k\n Scroll up.\n\n &#8595;, j\n Scroll down.\n\n shift-&#8592;\n shift-h\n Scroll all the way left (first commit).\n\n shift-&#8594;\n shift-l\n Scroll all the way right (last commit).\n\n shift-&#8593;\n shift-k\n Scroll all the way up vertically.\n\n shift-&#8595;\n shift-j\n Scroll all the way down vertically.\n\nCOMMITS\n\n mouse over a commit dot\n Show the author, commit id, and commit message for that commit.\n\n click a commit dot\n Go to that specific commit in the owner's repository.\n\nLABELS\n\n t Toggle the visibility of the head labels\n</pre>\n </div>\n </div>"
    }, {
        "title": "Offline Web Apps on GitHub Pages",
        "url": "https://hacks.mozilla.org/2015/11/offline-web-apps-on-github-pages/",
        "excerpt": "Service Workers are a response to the problems of Application Cache, and they&#x2019;re a powerful and elegant way to offline your web app. But they&#x2019;re also more complex to implement and&hellip;",
        "date_saved": "Thu Jul 28 20:13:27 EDT 2016",
        "html_file": "offline_web_apps_on_github_pages.html",
        "png_file": "offline_web_apps_on_github_pages.png",
        "md_file": "offline_web_apps_on_github_pages.md",
        "content": "<div><article class=\"post\">\n <p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers\" target=\"_blank\">Service Workers</a> are a response to the <a href=\"http://alistapart.com/article/application-cache-is-a-douchebag\" target=\"_blank\">problems of Application Cache</a>, and they&#x2019;re a powerful and elegant way to offline your web app. But they&#x2019;re also more complex to implement and maintain.</p>\n<p>Meanwhile, <a href=\"https://pages.github.com/\" target=\"_blank\">GitHub Pages</a> is a great, simple static host for <a href=\"http://offlinefirst.org/\" target=\"_blank\">offline-first apps</a>. But deploying apps to GitHub Pages requires manual configuration, especially if you develop with a team, utilize some variant of the <a href=\"https://guides.github.com/introduction/flow/\" target=\"_blank\">GitHub Flow</a>, and want to set up continuous deployment.</p>\n<p><a href=\"https://github.com/mozilla/oghliner\" target=\"_blank\">Oghliner</a> is an <a href=\"https://www.npmjs.com/\" target=\"_blank\">npm</a> package that simplifies both offlining an app with Service Workers and deploying the app to GitHub Pages (including continuous deployment using <a href=\"https://travis-ci.org/\" target=\"_blank\">Travis CI</a>). Oghliner&#x2019;s goal is to make it as simple as possible to offline and deploy a web app.</p>\n\n<p>To start using Oghliner, install it globally:</p>\n<pre>&gt; npm install --global oghliner\n</pre>\n<p>If you have an existing app in a GitHub repository, invoke the <strong>integrate</strong> command to configure it. That command copies an offline-manager.js script (which registers the service worker) into your app and reminds you to load that script in your app&#x2019;s page(s)/template(s) (one of the few steps that Oghliner doesn&#x2019;t yet automate).</p>\n<pre>&gt; oghliner integrate\nIntegrating Oghliner into the app in the current directory&#x2026;\n\n<span>&#x2713;</span> Copying offline-manager.js to ./&#x2026; done!\n\nOghliner has been integrated into the app!\n\nThe app needs to load the script offline-manager.js in order to register\nthe service worker that offlines the app. To load the script, add this line to \nthe app's HTML page(s)/template(s):\n\n<span>&lt;script src=\"offline-manager.js\"&gt;&lt;/script&gt;</span>\n\nAnd commit the changes and push the commit to the origin/master branch:\n\n<span>git commit -m\"integrate Oghliner\" --all\ngit push origin master</span>\n\nThen you can offline and deploy the app using the offline and deploy commands.\n\n<span>&#x2139; For more information about offlining and deployment, see:\n&#xA0;&#xA0;&#xA0; https://mozilla.github.io/oghliner/</span>\n</pre>\n<p>If you don&#x2019;t yet have an existing app, start a new app by <a href=\"https://github.com/new\" target=\"_blank\">creating a new repository</a> on GitHub, cloning it to your local machine, and invoking the <strong>bootstrap</strong> command from its working directory.</p>\n<pre>&gt; git clone git@github.com:mykmelez/offline-app.git\nCloning into 'offline-app'...\n&#x2026;\n&gt; cd offline-app/\n&gt; oghliner bootstrap\nBootstrapping current directory as Oghliner app&#x2026;\n\nYour app's configuration is:\n\nName: offline-app\nRepository: git@github.com:mykmelez/offline-app.git\nDescription: A template app bootstrapped with oghliner.\nLicense: Apache-2.0\n\nWould you like to change its configuration (y/N)? \n\nCreating files&#x2026;\n<span>&#x2713;</span> Creating README.md\n<span>&#x2713;</span> Creating .gitignore\n<span>&#x2713;</span> Creating gulpfile.js\n<span>&#x2713;</span> Creating package.json\n<span>&#x2713;</span> Creating app/favicon.ico\n<span>&#x2713;</span> Creating app/fonts\n<span>&#x2713;</span> Creating app/index.html\n<span>&#x2713;</span> Creating app/robots.txt\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-114x114.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-120x120.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-144x144.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-152x152.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-57x57.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-60x60.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-72x72.png\n<span>&#x2713;</span> Creating app/images/apple-touch-icon-76x76.png\n<span>&#x2713;</span> Creating app/images/favicon-128x128.png\n<span>&#x2713;</span> Creating app/images/favicon-16x16.png\n<span>&#x2713;</span> Creating app/images/favicon-196x196.png\n<span>&#x2713;</span> Creating app/images/favicon-32x32.png\n<span>&#x2713;</span> Creating app/images/favicon-96x96.png\n<span>&#x2713;</span> Creating app/images/mstile-144x144.png\n<span>&#x2713;</span> Creating app/images/mstile-150x150.png\n<span>&#x2713;</span> Creating app/images/mstile-310x150.png\n<span>&#x2713;</span> Creating app/images/mstile-310x310.png\n<span>&#x2713;</span> Creating app/images/mstile-70x70.png\n<span>&#x2713;</span> Creating app/scripts/main.js\n<span>&#x2713;</span> Creating app/scripts/offline-manager.js\n<span>&#x2713;</span> Creating app/styles/stylesheet.css\n\n<span>&#x2713;</span> Creating files&#x2026; done!\n<span>&#x2713;</span> Installing npm dependencies&#x2026; done!\n\nYour app has been bootstrapped! Just commit the changes and push the commit\nto the origin/master branch:\n\n<span>git add --all &amp;&amp; git commit -m\"initial version of Oghliner app\"\ngit push origin master</span>\n\nThen you can build, offline, and deploy the app using gulp commands.\n\n<span>&#x2139; For more information about building, offlining and deployment, see:\n https://mozilla.github.io/oghliner/</span>\n</pre>\n<p>Finally, commit the changes to complete the configuration.</p>\n<pre>&gt; git add --all &amp;&amp; git commit -m\"initial version of Oghliner app\"\n</pre>\n<p>Now that your app is configured, you can build, offline, and deploy it. Bootstrapped apps include a gulpfile.js build script. To build them, install Gulp globally:</p>\n<pre>&gt; npm install --global gulp\n</pre>\n<p>Then simply invoke gulp:</p>\n<pre>&gt; gulp\n</pre>\n<p>To offline your app, invoke the <strong>offline</strong> command to generate the service worker that offlines your app, specifying the directory containing the files to offline.</p>\n<pre>&gt; oghliner offline dist/\nOfflining dist/ to dist/offline-worker.js&#x2026;\n\n<span>&#x2713;</span> Caching \"dist/favicon.ico\" (384 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-114x114.png\" (278 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-120x120.png\" (285 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-144x144.png\" (321 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-152x152.png\" (320 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-57x57.png\" (242 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-60x60.png\" (242 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-72x72.png\" (247 B)\n<span>&#x2713;</span> Caching \"dist/images/apple-touch-icon-76x76.png\" (247 B)\n<span>&#x2713;</span> Caching \"dist/images/favicon-128x128.png\" (298 B)\n<span>&#x2713;</span> Caching \"dist/images/favicon-16x16.png\" (216 B)\n<span>&#x2713;</span> Caching \"dist/images/favicon-196x196.png\" (380 B)\n<span>&#x2713;</span> Caching \"dist/images/favicon-32x32.png\" (232 B)\n<span>&#x2713;</span> Caching \"dist/images/favicon-96x96.png\" (269 B)\n<span>&#x2713;</span> Caching \"dist/images/mstile-144x144.png\" (323 B)\n<span>&#x2713;</span> Caching \"dist/images/mstile-150x150.png\" (316 B)\n<span>&#x2713;</span> Caching \"dist/images/mstile-310x150.png\" (411 B)\n<span>&#x2713;</span> Caching \"dist/images/mstile-310x310.png\" (610 B)\n<span>&#x2713;</span> Caching \"dist/images/mstile-70x70.png\" (246 B)\n<span>&#x2713;</span> Caching \"dist/index.html\" (3.08 kB)\n<span>&#x2713;</span> Caching \"dist/robots.txt\" (102 B)\n<span>&#x2713;</span> Caching \"dist/scripts/main.js\" (151 B)\n<span>&#x2713;</span> Caching \"dist/scripts/offline-manager.js\" (1.1 kB)\n<span>&#x2713;</span> Caching \"dist/styles/stylesheet.css\" (107 B)\nTotal precache size is about 10.41 kB for 24 resources.\n</pre>\n<p>To deploy the app (including the service worker) to GitHub Pages, invoke the <strong>deploy</strong> command, again specifying the directory containing your app&#x2019;s files.</p>\n<pre>&gt; oghliner deploy dist/\nDeploying \"initial version of Oghliner app\" to GitHub Pages&#x2026;\n\n<span>&#x2713;</span> Cloning git@github.com:mykmelez/offline-app.git into .gh-pages-cache&#x2026; done!\n<span>&#x2713;</span> Cleaning&#x2026; done!\n<span>&#x2713;</span> Fetching origin&#x2026; done!\n<span>&#x2713;</span> Checking out origin/gh-pages&#x2026; done!\n<span>&#x2713;</span> Removing files&#x2026; done!\n<span>&#x2713;</span> Copying files&#x2026; done!\n<span>&#x2713;</span> Adding all&#x2026; done!\n<span>&#x2713;</span> Committing&#x2026; done!\n<span>&#x2713;</span> Pushing&#x2026; done!\n</pre>\n<p>All Oghliner commands are also available via a module interface, so you can integrate them into your Node-based build scripts using tools like Grunt and Gulp. If you bootstrapped your app using Oghliner, its gulpfile.js already has <strong>offline</strong> and <strong>deploy</strong> tasks (which you can also use as an alternative to the previous commands).</p>\n<p>Finally, invoke the <strong>configure</strong> command to configure an app to automatically deploy to GitHub Pages using Travis CI whenever you merge a change into your app&#x2019;s master branch (provided the build completes successfully and tests pass, of course!).</p>\n<pre>&gt; oghliner configure\n\nConfiguring Travis to auto-deploy to GitHub Pages&#x2026;\n\nYour repository has a single remote, origin.\nOk, I'll configure Travis to auto-deploy the origin remote (mykmelez/offline-app).\n\nTo check the status of your repository in Travis and authorize Travis to push\nto it, I'll create GitHub personal access tokens, for which I need your GitHub\nusername and password (and two-factor authentication code, if appropriate).\n\n<span>&#x2139; For more information about GitHub personal access tokens, see:\n https://github.com/settings/tokens</span>\n\nUsername: mykmelez\nPassword: \n\n<span>&#xD7;</span> Checking credentials&#x2026; error!\n\nYou're using two-factor authentication with GitHub.\nPlease enter the code provided by your authentication software.\n\nAuth Code: 123456\n\n<span>&#x2713;</span> Checking credentials&#x2026; done!\n<span>&#x2713;</span> Creating temporary GitHub token for getting Travis token&#x2026; done!\n<span>&#x2713;</span> Getting Travis token&#x2026; done!\n<span>&#x2713;</span> Deleting temporary GitHub token for getting Travis token&#x2026; done!\n Creating permanent GitHub token for Travis to push to the repository&#x2026;\n<span>&#x2713;</span> Creating permanent GitHub token for Travis to push to the repository&#x2026; done!\n\n<span>&#x2139; You had an existing token for this app, so we deleted and recreated it.</span>\n\n<span>&#x2713;</span> Checking the status of your repository in Travis&#x2026; done!\n\nGood news, your repository is active in Travis!\n\n<span>&#x2713;</span> Encrypting permanent GitHub token&#x2026; done!\n<span>&#x2713;</span> Writing configuration to .travis.yml file&#x2026; done!\n\n<span>&#x26A0; You didn't already have a .travis.yml file, so I created one for you.\n For more information about the file, see:\n http://docs.travis-ci.com/user/customizing-the-build/</span>\n\nYou're ready to auto-deploy using Travis! Just commit the changes\nin .travis.yml and push the commit to the origin/master branch:\n\n<span>git add .travis.yml\ngit commit -m\"configure Travis to auto-deploy to GitHub Pages\" .travis.yml\ngit push origin master</span>\n\nThen visit https://travis-ci.org/mykmelez/offline-app/builds to see the build status.\n</pre>\n<p>Travis will then deploy successful builds (on the master branch):</p>\n<p><a href=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/Screen-Shot-2015-11-16-at-16.34.53.png\"><img class=\"alignnone wp-image-29503 size-large\" src=\"https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2015/11/Screen-Shot-2015-11-16-at-16.34.53-500x110.png\" alt=\"Travis auto-deploys to GitHub Pages\" width=\"500\"></a></p>\n<p>A few caveats to note:</p>\n<ul>\n<li>Deployments sometimes take a few minutes to show up on GitHub Pages.</li>\n<li>Service Workers require that you load the app over an encrypted (HTTPS) connection. All GitHub Pages can be loaded over such a connection, even though GitHub does not officially support it.</li>\n<li>Service Workers are available in Chrome, Opera, and the Developer Edition of Firefox. They&#x2019;ll ship in Firefox 44.</li>\n</ul>\n<p>Mozilla&#x2019;s <a href=\"https://wiki.mozilla.org/Apps#Web_App_Developer_Initiative\" target=\"_blank\">Web App Developer Initiative</a> engineering team built Oghliner because we think Service Workers are a great way to offline web apps, and GitHub Pages are a great way to deploy them, so we wanted to see how much better the combination could be.</p>\n<p>We&#x2019;ve used Oghliner in our own projects, like <a href=\"https://mykmelez.github.io/offline-web-apps-on-github-pages/\" target=\"_blank\">this presentation</a> and <a href=\"https://github.com/mozilla/platatus\" target=\"_blank\">Platatus</a>, and we hope you find it delightful. So <a href=\"https://www.npmjs.com/package/oghliner\" target=\"_blank\">learn more about it</a>, try it out, and let us know how it works for you!</p> <section class=\"about\">\n <p>Myk is a Principal Software Architect and in-house entrepreneur at Mozilla, where he nurtures nascent initiatives and bridges the gap between promising experiments and shipping products. He's been a Mozillian since 1999 and has contributed to PluotSorbet, Open Web Apps, Firefox OS Simulator, Jetpack, Raindrop, Snowl, Personas, Firefox, Thunderbird, and Bugzilla. He's just a cook. He's all out of bubblegum.</p>\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/mykmozilla-com/\">More articles by Myk Melez&#x2026;</a></p>\n <p><a class=\"url\" href=\"https://hacks.mozilla.org/author/mcastellucciomozilla-com/\">More articles by Marco Castelluccio&#x2026;</a></p>\n </section>\n </article>\n \n\n</div>"
    }, {
        "title": "What is Scholarly HTML?",
        "url": "http://scholarly.vernacular.io/",
        "excerpt": "Abstract Scholarly HTML is a domain-specific data format built entirely on open standards that enables the interoperable exchange of scholarly articles in a manner that is compatible with&hellip;",
        "date_saved": "Thu Jul 28 20:13:30 EDT 2016",
        "html_file": "what_is_scholarly_html.html",
        "png_file": "what_is_scholarly_html.png",
        "md_file": "what_is_scholarly_html.md",
        "content": "<div><section id=\"abstract\">\n <h2>Abstract</h2>\n <p>\n Scholarly HTML is a domain-specific data format built entirely on open standards that\n enables the interoperable exchange of scholarly articles in a manner that is compatible\n with off-the-shelf browsers. This document describes how Scholarly HTML works and how it\n is encoded as a document. It is, itself, written in Scholarly HTML.\n </p>\n </section>\n <section id=\"motivation\">\n <h2>Motivation</h2>\n <aside>\n <p>\n This document is an early-stage release. While the underlying format is relatively\n mature and actually implemented, details are still in flux and the format can still be\n changed. The quality of this document is also being gradually improved. If you&#x2019;re\n interested in this project, come join\n <a href=\"https://github.com/scienceai/scholarly.vernacular.io/\">the party on GitHub</a>\n or talk to either <a href=\"https://twitter.com/sciencedotai\">@sciencedotai</a> or\n <a href=\"https://twitter.com/robinberjon\">@robinberjon</a> in Twitter.\n </p>\n </aside>\n <p>\n Scholarly articles are still primarily encoded as unstructured graphics formats in which\n most of the information initially created by research, or even just in the text, is lost.\n This was an acceptable, if deplorable, condition when viable alternatives did not seem\n possible, but document technology has today reached a level of maturity and universality\n that makes this situation no longer tenable. Information cannot be disseminated if it is\n destroyed before even having left its creator&#x2019;s laptop.\n </p>\n <p>\n According to the New York Times, adding structured information to their recipes (instead\n of exposing simply as plain text) improved their discoverability to the point of producing\n an immediate rise of 52 percent in traffic (<a href=\"http://scholarly.vernacular.io/#ref-nyt\">NYT, 2014</a>). At this point in time, cupcake recipes are\n reaping greater benefits from modern data format practices than the whole scientific\n endeavour.\n </p>\n <p>\n This is not solely a loss for the high principles of knowledge sharing in science, it also\n has very immediate pragmatic consequences. Any tool, any service that tries to integrate\n with scholarly publishing has to spend the brunt of its complexity (or budget) extracting\n data the author would have willingly shared out of antiquated formats. This places\n stringent limits on the improvement of the scholarly toolbox, on the discoverability of\n scientific knowledge, and particularly on processes of meta-analysis.\n </p>\n <p>\n To address these issues, we have followed an approach rooted in established best practices\n for the reuse of open, standard formats. The &#xAB;HTML Vernacular&#xBB; body of practice provides\n guidelines for the creation of domain-specific data formats that make use of HTML&#x2019;s\n inherent extensibility (<a href=\"http://scholarly.vernacular.io/#ref-vernacular\">Science.AI,\n 2015b</a>). Using the vernacular foundation overlaid with &#xAB;schema.org&#xBB; metadata we have\n produced a format for the interchange of scholarly articles built on open standards, ready\n for all to use.\n </p>\n <p>\n Our high-level goals were:\n </p>\n <ul>\n <li>\n Uncompromisingly enabling structured metadata, accessibility, and internationalisation.\n </li>\n <li>\n Pragmatically working in Web browsers, even if it occasionally incurs some markup\n overhead.\n </li>\n <li>\n Powerfully customisable for inclusion in arbitrary Web sites, while remaining easy to\n process and interoperable.\n </li>\n <li>\n Entirely built on top of open, royalty-free standards.\n </li>\n <li>\n Long-term viability as a data format.\n </li>\n </ul>\n <p>\n Additionally, in view of the specific problem we addressed, in the creation of this\n vernacular we have favoured the reliability of interchange over ease of authoring; but\n have nevertheless attempted to cater to the latter as much as possible. A decent\n boilerplate template file can certainly make authoring relatively simple, but not as\n radically simple as it can be. For such use cases, Scholarly HTML provides a great output\n target and overview of the data model required to support scholarly publishing at the\n document level.\n </p>\n <p>\n An example of an authoring format that was designed to target Scholarly HTML as an\n output is the <a href=\"http://scienceai.github.io/docx-standard-scientific-style\">DOCX\n Standard Scientific Style</a> which enables authors who are comfortable with Microsoft\n Word to author documents that have a direct upgrade path to semantic, standard content.\n </p>\n <p>\n Where semantic modelling is concerned, our approach is to stick as much as possible to\n <a href=\"http://schema.org/\">schema.org</a>. Beyond the obvious advantages there are in\n reusing a vocabulary that is supported by all the major search engines and is actively\n being developed towards enabling a shared understanding of many useful concepts, it also\n provides a protection against &#xAB;<em>ontological drift</em>&#xBB; whereby a new vocabulary is\n defined by a small group with insufficient input from a broader community of practice.\n A language that solely a single participant understands is of limited value.\n </p>\n <p>\n In a small, circumscribed number of cases we have had to depart from\n <a href=\"http://schema.org\">schema.org</a>, using the <code>https://ns.science.ai/</code>\n (prefixed with <code>sa:</code>) vocabulary instead\n (<a href=\"http://scholarly.vernacular.io/#ref-sa-ontology\">Science.AI, 2015a</a>). Our goal is\n to work with <a href=\"http://schema.org\">schema.org</a> in order to extend their\n vocabulary, and we will align our usage with the outcome of these discussions.\n </p>\n </section>\n <section id=\"definition\">\n <h2>Definition</h2>\n <p>\n A <dfn id=\"scholarly-html\">Scholarly HTML document</dfn> is a valid HTML document that\n follows some additional rules to specialised its meaning and make it predictable to\n processors wishing to produce or consume scholarly articles. These rules are outlined in\n the following sections.\n </p>\n <p>\n Please note that in its current state this specification is often informal in the manner\n in which it describes its constraints. This is to facilitate review by people unfamiliar\n with formal specification writing. As the format solidifies, it will be made more formal\n progressively (but attempt to remain readable).\n </p>\n \n <section id=\"article\">\n <h3>Article Structure</h3>\n <p>\n The article content is everything that is contained inside the first\n <code>article</code> element in document order that has a\n <code>typeof=\"schema:ScholarlyArticle\"</code>. Everything part of the <code>body</code>\n outside of that subtree is ignored. This enables publishers to surround the article\n content with any amount of supporting markup, for instance for headers, footers,\n or navigation, as well as to wrap the article inside arbitrary markup that may be\n needed for stylistic reasons.\n </p>\n <p>\n The <code>article</code> element should have\n a <code>resource</code> attribute, usually with a value\n of <code>#</code>. The reason for that is to grant it a\n URL that can be targeted by other properties. The\n <code>resource</code> attribute can take any value, but it\n must then be matched by the\n <code>about</code> attributes of the properties targeting\n it. If <code>resource</code> is omitted, the only way in\n which those properties can target it is by knowing the URL\n from which the document was retrieved.\n </p>\n <p>\n The first element child of the <code>article</code> element must be an <code>h1</code>\n heading that serves as the primary title for the document. It may itself contain markup.\n The white-space-normalised text value of the <code>h1</code> must appear as a substring\n of the white-space-normalised text value of the <code>title</code> element. This ensures\n semantic alignment between the two, while enabling publishers to add their name to the\n <code>title</code> so as to identify themselves there alongside the content.\n </p>\n <p>\n Any children of <code>article</code> that are not <code>section</code> elements are\n ignored.\n </p>\n <p>\n The first <code>section</code> child element of the <code>article</code> must be the\n <a href=\"http://scholarly.vernacular.io/#authors\">Authors and Affiliations</a> section. It has no <code>typeof</code>\n and its specific rules are outlined in its own chapter below.\n </p>\n <p>\n The <code>section</code> elements can be nested arbitrarily deep. Each\n <code>section</code> element must have as its first element child an <code>hX</code>\n heading element the numeric part of which must be the number of <code>section</code>\n ancestor elements that heading elements has up to the <code>article</code> element, plus\n one. If the numeric part is greater than 6, then <code>h6</code> must be used but an\n <code>aria-level</code> attribute must be added that reflects the accurate depth.\n (The <code>aria-level</code> attribute can be used at lower depths but is not required\n there.)\n </p>\n <p>\n Each <code>section</code> element may contain an arbitrary number of\n <a href=\"http://scholarly.vernacular.io/#hunk-elements\">hunk elements</a>, followed by an arbitrary number of\n <code>section</code> elements being subsections. Note that\n <a href=\"http://scholarly.vernacular.io/#hunk-elements\">hunk elements</a> must imperatively appear <em>before</em> the\n subsections.\n </p>\n <p>\n Sections are expected to be typed using the <code>typeof</code> attribute. The following\n <code>typeof</code> values are currently understood:\n </p>\n <ul>\n <li><code>sa:Funding</code> (which has its <a href=\"http://scholarly.vernacular.io/#funding\">specific structure</a>)</li>\n <li><code>sa:Abstract</code></li>\n <li><code>sa:MaterialsAndMethods</code></li>\n <li><code>sa:Results</code></li>\n <li><code>sa:Conclusion</code></li>\n <li><code>sa:Acknowledgements</code></li>\n <li><code>sa:ReferenceList</code></li>\n </ul>\n <p>\n Hopefully these types are largely self-documenting, they are described further in the\n Scholarly Article ontology\n (<a href=\"http://scholarly.vernacular.io/#ref-sa-ontology\">Science.AI, 2015a</a>).\n </p>\n <p>\n The section typed <code>sa:ReferenceList</code> has special processing rules described\n in the <a href=\"http://scholarly.vernacular.io/#references-section\">References section</a>.\n </p>\n </section>\n <section id=\"hunk-elements\">\n <h3>Hunk Elements</h3>\n <p>\n <dfn>Hunk elements</dfn> are the meaningful blocks from which sections are built. They\n contain text and <a href=\"http://scholarly.vernacular.io/#inline-element\">inline elements</a>. There are several\n types of hunk elements.\n </p>\n <p>\n The most common hunk element is <code>p</code>, which is used to capture paragraphs. It\n requires no special processing.\n </p>\n <p>\n The <code>blockquote</code>, <code>ul</code>, <code>ol</code>, and <code>dl</code>\n elements can be used as they typically would and require no special treatment.\n </p>\n <p>\n The <code>aside</code> hunk element is used to capture text boxes. If it contains an\n <code>hX</code> heading element, that element must be its first element child and its\n numeric part must reflect its depth, making use of <code>aria-level</code> according to\n the same rules as apply for <code>section</code>. The other children of\n <code>aside</code> must all be hunk elements.\n </p>\n <p>\n The <code>figure</code> element is a general container for content units that are\n embedded inside the main body of the text. It can come in several flavours that are\n dictated by its <code>typeof</code> attribute.\n </p>\n <p>\n If <code>figure</code> has <code>typeof=\"sa:Image\"</code> then it is an image container.\n It must contain an <code>img</code> child element and should contain a\n <code>figcaption</code> labelling that image. An example of an image figure would be:\n </p>\n <figure>\n <img src=\"http://scholarly.vernacular.io/hop-less.png\" width=\"880\">\n <figcaption>\n Reconstruction of Sthenurus stirlingi, by Brian Regal; in\n &#xAB;<cite><a href=\"http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0109888\">Locomotion\n in Extinct Giant Kangaroos: Were Sthenurines Hop-Less Monsters?</a></cite>&#xBB;, by\n Christine M. Janis, Karalyn Buttrill, Borja Figueirido.\n </figcaption>\n </figure>\n <p>\n If <code>figure</code> has <code>typeof=\"sa:Table\"</code> then it is a table container.\n It must contain nothing other than a <code>table</code> element. If a caption is\n available, it should be included using the <code>caption</code> child element of the\n <code>table</code>, and not the <code>figcaption</code> child of the\n <code>figure</code>.\n </p>\n <p>\n If <code>figure</code> has <code>typeof=\"sa:Formula\"</code> then it is a formula\n container. It must contain a <code>math</code> element and optionally a\n <code>figcaption</code> describing the formula. The <code>math</code> element must be\n valid MathML 3. Additionally, given the dismal state of support for MathML in Web\n browser the <code>math</code> element must contain an <code>annotation</code>\n descendant with the TeX equivalent of the formula.\n </p>\n <p>\n If <code>figure</code> has <code>typeof=\"schema:SoftwareSourceCode\"</code>\n then it is a code container. It must contain a <code>pre</code> element\n and optionally a <code>figcaption</code>. The <code>pre</code> element must contain as\n its only child a <code>code</code> element.\n </p>\n <p>\n If you wish to specify the type of the language used in the code, the\n <code>figure</code> needs to have a <code>schema:programmingLanguage</code> property\n containing a type <code>schema:Language</code>, itself with a <code>schema:name</code>\n containing the the lowercase name of one of the languages from the\n <a href=\"https://github.com/scienceai/list-of-programming-languages/blob/master/data/data.jsonld\">list\n of programming languages</a>. Canonically, this would look like the following source:\n </p>\n <figure>\n <meta name=\"schema:name\" value=\"html\">\n <pre><code class=\"language-html\">\n&lt;figure typeof=\"schema:SoftwareSourceCode\"&gt;\n &lt;pre property=\"schema:programmingLanguage\" typeof=\"schema:Language\"&gt;\n &lt;meta property=\"schema:name\" content=\"python\"&gt;\n &lt;code&gt;import foo&lt;/code&gt;\n &lt;/pre&gt;\n &lt;figcaption&gt;\n How to import foo.\n &lt;/figcaption&gt;\n&lt;/figure&gt;\n </code></pre>\n <figcaption>\n An example of HTML capturing some complex Python code\n </figcaption>\n </figure>\n </section>\n <section id=\"inline-elements\">\n <h3>Inline Elements</h3>\n <p>\n <dfn>Inline elements</dfn> essentially decorate, describe, and enrich text. Inside of\n <a href=\"http://scholarly.vernacular.io/#hunk-elements\">hunk elements</a>, of heading elements, and of captioning\n elements (<code>caption</code> and <code>figcaption</code>) the following inline\n elements can be used (and where applicable they can nest within one another):\n </p>\n <ul>\n <li><code>a</code></li>\n <li><code>abbr</code></li>\n <li><code>bdi</code></li>\n <li><code>bdo</code></li>\n <li><code>cite</code></li>\n <li><code>code</code></li>\n <li><code>data</code></li>\n <li><code>del</code></li>\n <li><code>dfn</code></li>\n <li><code>em</code></li>\n <li><code>img</code> (for small, contextual images that should not be figures)</li>\n <li><code>ins</code></li>\n <li><code>kbd</code></li>\n <li><code>mark</code></li>\n <li><code>math</code> (for inline equations that should not be figures; they must also\n contain a TeX annotation)</li>\n <li><code>meter</code></li>\n <li><code>q</code></li>\n <li><code>ruby</code> (with embedded <code>rb</code>, <code>rt</code>, <code>rtc</code>,\n and <code>rp</code>)</li>\n <li><code>samp</code></li>\n <li><code>span</code></li>\n <li><code>strong</code></li>\n <li><code>sub</code></li>\n <li><code>sup</code></li>\n <li><code>svg</code> (for small, contextual images that should not be figures)</li>\n <li><code>time</code></li>\n <li><code>var</code></li>\n <li><code>wbr</code></li>\n </ul>\n <p>\n If an <code>a</code> element is linking to a citation, then it must have\n <code>property=\"schema:citation\"</code>; if it is linking\n to a figure or another creative work, it must\n have <code>property=\"schema:hasPart\"</code>\n or <code>property=\"schema:isBasedOnUrl\"</code>. These are\n known as <dfn>flavoured links</dfn>, they can be used to\n enhance the user experience by treating their behaviour\n differently from regular links.\n </p>\n </section>\n <section id=\"references-section\">\n <h3>The References Section</h3>\n <p>\n The references section is a special type of <code>section</code> element with\n <code>typeof=\"sa:ReferenceList\"</code>.\n </p>\n <p>\n Apart from its heading element, it must contain nothing other than an <code>ol</code>\n or a <code>dl</code> element.\n </p>\n <p>\n If using a <code>dl</code> element, its content must be exclusively a strictly\n alternating sequence of <code>dt</code> then <code>dd</code> elements, with the latter\n being the citation-bearing element. The <code>dt</code> is used as a label in some\n citation formats.\n </p>\n <p>\n If using an <code>ol</code>, then its content is only <code>li</code> elements that are\n the citation-bearing elements.\n </p>\n <p>\n The citation-bearing element will have an <code>id</code> and be\n <code>schema:Book</code> for books or\n <code>typeof=\"schema:ScholarlyArticle\"</code> (or its subclass\n <code>schema:MedicalScholarlyArticle</code>, with probably more to come). Its\n content follows the &#xAB;flexcite&#xBB; format (being defined as part of this document, see\n <a href=\"https://github.com/scienceai/scholarly.vernacular.io/issues/4\">#4</a>). The\n references section of this document is an example.\n </p>\n\n <figure>\n <meta name=\"schema:name\" value=\"html\">\n <pre><code class=\"language-html\">\n&lt;li id=\"ref-something\" typeof=\"schema:ScholarlyArticle\"\n resource=\"http://dx.doi.org/10.1000/182\"&gt;\n &lt;span property=\"schema:author\" typeof=\"schema:Person\"&gt;\n &lt;span property=\"schema:familyName\"&gt;Jones&lt;/span&gt;\n &lt;span property=\"schema:givenName\"&gt;K&lt;/span&gt;&lt;span\n property=\"schema:additionalName\"&gt;E&lt;/span&gt;\n &lt;/span&gt;,\n &lt;span property=\"schema:author\" typeof=\"schema:Person\"&gt;\n &lt;span property=\"schema:familyName\"&gt;Patel&lt;/span&gt;\n &lt;span property=\"schema:givenName\"&gt;N&lt;/span&gt;\n &lt;/span&gt;.\n &lt;cite property=\"schema:name\"&gt;Global trends in emerging infectious diseases.&lt;/cite&gt;\n &lt;span property=\"schema:isPartOf\" typeof=\"schema:PublicationVolume\"&gt;\n &lt;span property=\"schema:isPartOf\" typeof=\"schema:Periodical\"&gt;\n &lt;span property=\"schema:name\"&gt;Nature.&lt;/span&gt;\n &lt;/span&gt;\n &lt;time about=\"http://dx.doi.org/10.1000/182\" property=\"schema:datePublished\"\n datetime=\"2008-01\" datatype=\"xsd:gYearMonth\"&gt;2008 Jan&lt;/time&gt;;\n &lt;span property=\"schema:volumeNumber\"&gt;451&lt;/span&gt;\n &lt;/span&gt;:&lt;span property=\"schema:pageStart\"&gt;990&lt;/span&gt;-&lt;span\n property=\"schema:pageEnd\"&gt;4&lt;/span&gt;\n&lt;/li&gt;\n </code></pre>\n <figcaption>\n A citation (not yet in Flexcite format).\n </figcaption>\n </figure>\n <p>\n At the semantics level, a citation is a <code>schema:ScholarlyArticle</code> (or subtype)\n with an <code>id</code> to reference it internally in the document and a\n <code>resource</code> that is a URL identifying it (its DOI for instance, preferable in\n HTTP-retrievable form).\n </p>\n <p>\n That <code>schema:ScholarlyArticle</code> has any number of <code>schema:author</code>\n which are <code>schema:Person</code> (with the usual <code>schema:givenName</code>,\n <code>schema:familyName</code>, etc.). A child <code>cite</code> element, with\n <code>property=\"schema:name\"</code> (and optionally a link child) provides the title\n of the article.\n </p>\n <p>\n The publisher is described using a nested <code>schema:isPartOf</code> structure of\n <code>schema:PublicationIssue</code>, <code>schema:PublicationVolume</code>,\n and <code>schema:Periodical</code> (with only those that are known being used). Both\n <code>schema:volumeNumber</code> and <code>schema:issueNumber</code> may be used on the\n volume and issue.\n </p>\n <p>\n A <code>time</code> element with <code>property=\"schema:datePublished\"</code> provides\n the publication date, which is expressed in text in human-readable form and in the\n <code>datetime</code> attribute in standard form. A <code>datatype</code> attribute\n matching the date format must be provided.\n </p>\n <p>\n Both <code>schema:pageStart</code> and <code>schema:pageEnd</code> may be provided.\n </p>\n <p>\n Beyond the semantics, a more specific serialisation known a &#xAB;Flexcite&#xBB; is in the works\n and will be added here soon. Its properties are simple: when unstyled it reads linearly\n in a human-friendly manner (so as to be accessible), and it can be styled with CSS to be\n turned into arbitrary citation style preferences.\n </p>\n </section>\n <section id=\"authors\">\n <h3>The Authors &amp; Affiliations Section</h3>\n <p>\n Capturing authors, the affiliations and their relationship to the article is the most\n intricate part of Scholarly HTML. Care was taken to avoid repetition and to keep the\n markup density as reasonable as possible, but the data to content ratio remains\n relatively high.\n </p>\n <p>\n It is probably best to start from an example and then to explain it:\n </p>\n\n <figure>\n <meta name=\"schema:name\" value=\"html\">\n <pre><code class=\"language-html\">\n&lt;!-- The author and contributor list --&gt;\n&lt;article resource=\"#\"&gt;\n &#x2026;\n &lt;section&gt;\n &lt;ol&gt;\n &lt;!-- The first author, Robin Berjon --&gt;\n &lt;li property=\"schema:author\" typeof=\"sa:ContributorRole\"&gt;\n &lt;a property=\"schema:author\" href=\"http://berjon.com/\" typeof=\"schema:Person\"&gt;\n &lt;span property=\"schema:givenName\"&gt;Robin&lt;/span&gt;\n &lt;span property=\"schema:familyName\"&gt;Berjon&lt;/span&gt;\n &lt;/a&gt;\n &lt;a href=\"#scienceai\" property=\"sa:roleAffiliation\" resource=\"http://science.ai/\"&gt;a&lt;/a&gt;\n &lt;sup property=\"sa:roleContactPoint\" typeof=\"schema:ContactPoint\"&gt;\n &lt;a property=\"schema:email\" href=\"mailto:robin@berjon.com\" title=\"corresponding author\"&gt;&#x2709;&lt;/a&gt;\n &lt;/sup&gt;\n &lt;/li&gt;\n &lt;!-- A contributor, Sebastien Ballesteros --&gt;\n &lt;li property=\"schema:contributor\" typeof=\"sa:ContributorRole\"&gt;\n &lt;a property=\"schema:contributor\" href=\"https://github.com/sballesteros\" typeof=\"schema:Person\"&gt;\n &lt;span property=\"schema:givenName\"&gt;Sebastien&lt;/span&gt;\n &lt;span property=\"schema:familyName\"&gt;Ballesteros&lt;/span&gt;\n &lt;/a&gt;\n &lt;a href=\"#scienceai\" property=\"sa:roleAffiliation\" resource=\"http://science.ai/\"&gt;a&lt;/a&gt;\n &lt;/li&gt;\n &lt;/ol&gt;\n &lt;!-- The affiliation list --&gt;\n &lt;ol&gt;\n &lt;li id=\"scienceai\"&gt;\n &lt;a href=\"http://science.ai/\" typeof=\"schema:Corporation\"&gt;\n &lt;span property=\"schema:name\"&gt;science.ai&lt;/span&gt;\n &lt;/a&gt;\n &lt;/li&gt;\n &lt;/ol&gt;\n &lt;/section&gt;\n &#x2026;\n&lt;/article&gt;\n </code></pre>\n <figcaption>\n The authors and affiliations section for this document.\n </figcaption>\n </figure>\n <p>\n The markup is relatively convoluted, but the data model is rich:\n </p>\n <figure>\n <img src=\"http://scholarly.vernacular.io/affiliations.png\" width=\"976\">\n <figcaption>\n The data model that matches the code\n </figcaption>\n </figure>\n <p>\n This <code>section</code> has no <code>typeof</code> and\n no heading element. It contains a first <code>ol</code>\n which lists authors, and optionally a\n second <code>ol</code> to list affiliations.\n </p>\n <p>\n Each <code>li</code> in the authors <code>ol</code> has\n <code>property=\"schema:author\"</code> or <code>property=\"schema:contributor\"</code> and a\n <code>typeof=\"sa:ContributorRole\"</code>.\n </p>\n <p>\n A <code>sa:ContributorRole</code> type (following the\n semantic of\n schema.org <a href=\"http://schema.org/Role\">Role</a>) is\n used so that affiliations or contact informations (email\n address, etc.) relevant to this specific scholarly article\n (and this specific scholarly article only) can be\n specified. This is important as authors may have different\n affiliations and contact points at the time they are\n publishing a scholarly article but may want to specify\n only a subset of those. Readers not familiar with the\n semantic of schema.org Role can consult\n the <a href=\"http://blog.schema.org/2014/06/introducing-role.html\">introductory\n blog post</a>.\n </p>\n <p>\n Inside of that <code>li</code>, arbitrary properties\n of <code>schema:Person</code>, filling\n the <code>schema:author</code> property of\n the <code>sa:ContributorRole</code> can be specified, but\n providing at least <code>schema:givenName</code> and\n <code>schema:familyName</code>. It is recommended that\n these properties are wrapped into an hyperlink\n identifying the person with a URL to their home page,\n their <a href=\"http://orcid.org/\">ORCID</a>, or an email\n address.\n </p>\n <p>\n If there is an affiliations <code>ol</code> and a given\n author is affiliated, there must be an <code>a</code>\n element with its <code>href</code> pointing to that\n affiliation, a <code>resource</code> matching the URL\n identifying the affiliation,\n and <code>property=\"schema:roleAffiliation\"</code>. The\n content of that <code>a</code> element must be a string\n that matches the one that will be generated by CSS to\n label the affiliation; Latin lowercase being\n recommended. (This is a hack, but we can only do so much\n within the limits of CSS &#x2014; better <code>counter</code>\n would be needed.)\n </p>\n <p>\n If an author (or contributor) is a corresponding author, a\n last <code>sup</code> element needs to be added to\n its <code>li</code>\n with <code>property=\"sa:roleContactPoint\"</code>, <code>typeof=\"schema:ContactPoint\"</code>\n (or subclass). Inside the <code>sup</code> element, there\n must be at least a link to the contributor email address\n (<code>mailto:</code>). More contact information such a as\n properties of <code>schema:PostalAddress</code> may be\n added using <code>meta</code> tags.\n </p>\n <p>\n If there is an affiliations <code>ol</code>, each <code>li</code> in it must have an\n <code>id</code> which the authors link to. In turn it contains an <code>a</code>\n element linking to the affiliation with <code>typeof</code> set to either\n <code>schema:Organization</code> or <a href=\"http://schema.org/Organization\">one of its\n subtypes</a>. Inside the <code>a</code> needs to sit a <code>span</code> (or any\n acceptable element, really) with <code>property=\"schema:name\"</code>, containing the\n name.\n </p>\n </section>\n <section id=\"funding\">\n <h3>The Funding Section</h3>\n <p>\n The funding information attached to an article involves a list of sponsors each of which\n offers a list of funding sources. Again, an example probably makes the idea clearer:\n </p>\n <figure>\n <meta name=\"schema:name\" value=\"html\">\n <pre><code class=\"language-html\">\n&lt;article resource=\"#\"&gt;\n &lt;!-- This work was sponsored by the Child Detection Agency (CDA) under the grant grantId --&gt;\n &lt;section typeof=\"sa:Funding\"&gt;\n &lt;h2&gt;Funding&lt;/h2&gt;\n &lt;p about=\"#\" rel=\"schema:sponsor\"&gt;\n &lt;span typeof=\"sa:SponsorRole\"&gt;\n This work was sponsored by the\n &lt;a\n property=\"schema:sponsor\"\n href=\"http://pixar.wikia.com/wiki/CDA\"\n typeof=\"schema:Organization\"\n &gt;\n &lt;span property=\"schema:name\"&gt;Child Detection Agency&lt;/span&gt;\n (&lt;span property=\"schema:alternateName\"&gt;CDA&lt;/span&gt;)\n &lt;/a&gt; under the grant\n &lt;a\n property=\"sa:roleOffer\"\n typeof=\"sa:FundingSource\"\n href=\"http://pixar.wikia.com/wiki/CDA#grantId\"\n &gt;\n &lt;span property=\"schema:serialNumber\"&gt;grantId&lt;/span&gt;\n &lt;/a&gt;\n &lt;/span&gt;\n &lt;/p&gt;\n &lt;/section&gt;\n&lt;/article&gt;\n </code></pre>\n <figcaption>\n The markup for a complete funding section.\n </figcaption>\n </figure>\n <p>\n The section has <code>typeof=\"sa:Funding\"</code> and an arbitrary heading title, like\n other sections.\n </p>\n <p>\n It contains a series of <a href=\"http://scholarly.vernacular.io/#hunk-elements\">hunks</a> that are\n <code>rel=\"schema:sponsor\"</code> (there can also be other content, it is ignored for\n our purposes). The example above uses a <code>p</code> and a narrative style for its\n content, but you have freedom to use other encodings.\n </p>\n <p>\n As for contributor affiliations, source of fundings are\n expressed using a subclass of <code>schema:Role</code> (<code>sa:SponsorRole</code>).\n The usage of schema.org <code>Role</code> type is needed\n to describe the source of fundings specific to a scholarly\n article as opposed to all the source of funding of an\n organization (relevant or not to our scholarly article of\n interest).\n </p>\n <p>\n The funder will be <code>typeof=\"schema:Organization\"</code> (or a subtype thereof), as the object of a\n <code>schema:sponsor</code> property on the <code>sa:SponsorRole</code>. It\n will be identified through its URL (as in the <code>a</code> above), and will typically\n have <code>schema:name</code> and often <code>schema:alternateName</code>.\n </p>\n <p>\n The specific source of funding is of type <code>sa:FundingSource</code>, as the object of a\n <code>sa:roleOffer</code> property on the <code>sa:SponsorRole</code>. It\n should have a URL identifying it and a <code>schema:serialNumber</code> that is its\n labeled identity.\n </p>\n </section>\n <section>\n <h3>Data rich scholarly articles</h3>\n <p>\n Scholarly Articles are often part of a larger network of\n creative works containing dataset, code, additional\n figures, tables or media (audio, video). Even within a\n scholarly article, some creative works can be encoded in\n different ways (for instance, figures typically comes in\n different resolutions). Scholarly HTML aims to formally\n describe (and help archive) this larger context.\n </p>\n <p>\n Further data about a scholarly graph can be exposed within\n the article in RDFa or as\n <a href=\"http://json-ld.org\">JSON-LD</a> islands. When\n JSON-LD is used, it is recommended not to duplicate the\n data already serialized in RDFa. JSON-LD should be\n reserved to expose data not directly present in the HTML\n markup.\n </p>\n <figure>\n <pre><code class=\"language-jsonld\">\n{\n \"@context\": \"http://schema.org\",\n \"@id\": \"http://example.com/graph\",\n \"@graph\": [\n {\n \"@id\": \"http://example.com/article\",\n \"@type\": \"ScholarlyArticle\",\n \"isPartOf\": \"http://example.com/graph\",\n \"isBasedOnUrl\": [\"http://example.com/code\"],\n \"hasPart\": {\n \"@id\": \"http://example.com/image\",\n \"@type\": \"Image\",\n \"encoding\": [\n {\n \"@id\": \"http://example.com/encodingsmall\",\n \"@type\": \"ImageObject\",\n \"contentUrl\": \"http://example.com/small\"\n \"height\": \"400px\",\n \"width\": \"400px\",\n \"isBasedOnUrl\": [\"http://example.com/encodinglarge\"]\n },\n {\n \"@id\": \"http://example.com/encodinglarge\",\n \"@type\": \"ImageObject\",\n \"contentUrl\": \"http://example.com/large\",\n \"height\": \"1200px\",\n \"width\": \"1200px\"\n }\n ]\n }\n },\n {\n \"@id\": \"http://example.com/code\",\n \"@type\": \"SoftwareSourceCode\",\n \"codeRepository\": \"http://example.com/repository\",\n \"isPartOf\": \"http://example.com/graph\"\n }\n ]\n}\n </code></pre>\n <figcaption>\n <p>\n A scholarly graph, detailing the context of a\n scholarly article in JSON-LD. Here, the scholarly\n article contains a figure available in 2 sizes and is\n based on software source code available in a code\n repository. The <code>schemaIsBasedOnUrl</code>\n property also indicates that the small image was\n derived from the large one.\n </p>\n <aside>\n To maintain good compatibility with schema.org, each\n creative work is marked as being part of the named\n graph with <code>schema:isPartOf</code>.\n </aside>\n </figcaption>\n </figure>\n <p>\n A scholarly graph provides a manifest for a scholarly\n article listing all the creative works, their encodings\n and the relationship between these objects (expressed\n with <code>schema:hasPart</code>\n and <code>schema:isBasedOnUrl</code>).\n </p>\n <table>\n <caption>\n Subclass of <code>schema:CreativeWork</code> commonly\n associated with a Scholarly Article.\n </caption>\n <thead>\n <tr>\n <td>Creative Work</td>\n <td>Property</td>\n <td>Encoding</td>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><code>schema:ScholarlyArticle</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>sa:DocumentObject</code></td>\n </tr>\n <tr>\n <td><code>sa:Image</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>schema:ImageObject</code></td>\n </tr>\n <tr>\n <td><code>sa:Audio</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>schema:AudioObject</code></td>\n </tr>\n <tr>\n <td><code>sa:Video</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>schema:VideoObject</code></td>\n </tr>\n <tr>\n <td><code>schema:Dataset</code></td>\n <td><code>schema:distribution</code></td>\n <td><code>schema:DataDownload</code></td>\n </tr>\n <tr>\n <td><code>schema:Table</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>sa:TableObject</code></td>\n </tr>\n <tr>\n <td><code>schema:SoftwareSourceCode</code></td>\n <td><code>schema:encoding</code></td>\n <td><code>schema:MediaObject</code></td>\n </tr>\n </tbody>\n </table>\n </section>\n <section>\n <h3>Semantic context of a scholarly article</h3>\n <p>\n Scholarly Articles (and their associated resources) are\n frequently tagged to improve their discoverability. For\n instance,\n the <a href=\"https://en.wikipedia.org/wiki/United_States_National_Library_of_Medicine\">National\n Library of Medicine</a> uses\n the <a href=\"https://en.wikipedia.org/wiki/Medical_Subject_Headings\">Medical\n Subject Headings</a> (MeSH) controlled vocabulary to index\n journal articles in the life sciences. Scholarly HTML\n leverages schema.org and the <code>schema:about</code>\n property to efficiently expose this information to search\n engines. When possible,\n schema.org <a href=\"http://schema.org/MedicalEntity\">MedicalEntity</a>\n (and subclasses) should be used to describe biomedical\n concepts.\n </p>\n <figure>\n <pre><code class=\"language-jsonld\">\n{\n \"@context\": \"http://schema.org\",\n \"@id\": \"http://example.com/article\",\n \"@type\": \"ScholarlyArticle\",\n \"about\": {\n \"@id\": \"http://id.nlm.nih.gov/mesh/D007251\",\n \"@type\": \"InfectiousDisease\",\n \"name\": \"Influenza, Human\",\n \"description\": \"An acute viral infection in humans involving the respiratory tract. It is marked by inflammation of the NASAL MUCOSA; the PHARYNX; and conjunctiva, and by headache and severe, often generalized, myalgia.\",\n \"code\": {\n \"@type\": \"MedicalCode\",\n \"codeValue\": \"D007251\",\n \"codingSystem\": \"MeSH\"\n },\n \"mainEntityOfPage\": {\n \"@id\": \"#Discussion\",\n }\n }\n}\n </code></pre>\n <figcaption>\n Leveraging the <code>schema:about</code> property to\n expose concepts about a scholarly article. Note that\n the <code>schema:mainEntityOfPage</code> property is\n used to specify the part of the article where the\n concept is relevant.\n </figcaption>\n </figure>\n </section>\n <section>\n <h3>Hypermedia controls</h3>\n <p>\n A Scholarly Article (or any resource part of a scholarly\n graph) can be made actionable with the addition of\n hypermedia controls provided\n through <a href=\"http://schema.org/Action\">schema.org\n actions</a>. Readers not familiar with schema.org Actions\n should refer to\n the <a href=\"http://schema.org/docs/actions.html\">actions\n overview document</a> for a quick introduction.\n </p>\n <figure>\n <pre><code class=\"language-jsonld\">\n{\n \"@context\": \"http://schema.org\",\n \"@id\": \"http://example.com/article\",\n \"@type\": \"ScholarlyArticle\",\n \"potentialAction\": {\n \"@type\": \"ReviewAction\",\n \"agent-input\": {\n \"@type\": \"PropertyValueSpecification\",\n \"valueRequired\": true\n },\n \"resultReview-input\": {\n \"@type\": \"PropertyValueSpecification\",\n \"valueRequired\": true\n },\n \"target\": {\n \"@type\": \"EntryPoint\",\n \"httpMethod\": \"PUT\",\n \"urlTemplate\": \"http://example.com/review\"\n }\n }\n}\n </code></pre>\n <figcaption>\n Hypermedia controls indicating how to submit a review\n about the scholarly article.\n </figcaption>\n </figure></section>\n </section>\n <section id=\"acknowledgements\">\n <h2>Acknowledgements</h2>\n <p>\n Scholarly HTML would like to thank <a href=\"http://scholarlyhtml.org/\">Scholarly HTML</a>\n (you read that right) for blazing the trail perhaps a few years too soon. Particularly,\n the following people were particularly kind and helpful:\n <a href=\"https://twitter.com/ptsefton\">Peter Sefton</a>,\n <a href=\"https://twitter.com/blahah404\">Richard Smith-Unna</a>, and\n <a href=\"https://twitter.com/petermurrayrust\">Peter Murray-Rust</a>.\n </p>\n <p>\n PLOS has a\n <a href=\"http://blogs.plos.org/mfenner/2011/03/19/a-very-brief-history-of-scholarly-html/\">short\n history of Scholarly HTML</a> that is worth reading (and would be worth updating).\n </p>\n <p>\n Dan Brickley was kind enough to drop by the office to chat about our usage of\n <a href=\"http://schema.org\">schema.org</a> even though he was tired and hungry. As always,\n examples involving fish tanks are the most helpful. Tzviya Siegman and Dave Cramer have\n shared ideas that we happily stole.\n </p>\n <p>\n Patrick Johnston's input has been crucial, notably in modelling authoring. We can only\n hope that getting those details exactly right have not caused him to lose too much sleep.\n </p>\n <p>\n We also received very useful feedback and pointers from: Kjetil Kjernsmo (DAHUT!), Silvio\n Peroni, Justin Johansson, Alf Eaton, Raniere Silvia, and Mike Smith.\n </p>\n <p>\n If we somehow forgot you in this list and you are too gracious to complain, we love you\n all the same.\n </p>\n </section>\n <section id=\"conclusion\">\n <h2>Conclusion</h2>\n <p>\n Scholarly HTML is currently a work in progress and is open to change. If you have\n feedback, simply\n <a href=\"https://github.com/scienceai/scholarly.vernacular.io/issues\">open an issue</a> on\n GitHub, or <a href=\"https://github.com/scienceai/scholarly.vernacular.io\">make a pull\n request</a>.\n </p>\n <p>\n We believe that this vernacular establishes that it is possible to capture scholarly\n information accurately, while retaining a clean HTML structure that does minimum violence\n to the language&#x2019;s spirit.\n </p>\n <p>\n The science.ai platform currently supports (most of) Scholarly HTML, but our goal is not\n to make this a proprietary standard &#x2014; quite the opposite. We would like the scholarly\n publishing as much as possible to align with common practices so that we can all focus on\n problems more interesting than content conversion.\n </p>\n </section>\n </div>"
    }, {
        "title": "Creating Fun and Immersive Audio Experiences with Web Audio",
        "url": "http://www.sitepoint.com/creating-fun-immersive-audio-experiences-web-audio/",
        "excerpt": "This article is part of a web development series from Microsoft. Thank you for supporting the partners who make SitePoint possible. Today, thanks to the power of the Web Audio API, you can create&hellip;",
        "date_saved": "Thu Jul 28 20:13:32 EDT 2016",
        "html_file": "creating_fun_and_immersive_audio_experiences_with_web_audio.html",
        "png_file": "creating_fun_and_immersive_audio_experiences_with_web_audio.png",
        "md_file": "creating_fun_and_immersive_audio_experiences_with_web_audio.md",
        "content": "<div><div class=\"ArticleCopy language-javascript\">\n <p><em>This article is part of a web development series from Microsoft. Thank you for supporting the partners who make SitePoint possible.</em></p>\n<p>Today, thanks to the power of the <a href=\"https://dev.windows.com/en-us/microsoft-edge/platform/status/?utm_source=SitePoint&amp;utm_medium=article66&amp;utm_campaign=SitePoint/webaudioapi?filter=f3f0000bf&amp;search=web%20audio\"><strong>Web Audio</strong> API</a>, you can create <strong>immersive audio experiences</strong> directly in the browser &#x2013; there&#x2019;s <strong>no need for any plug-ins</strong> here. Today I&#x2019;d like to share with you what I&#x2019;ve learned while building the audio engine of our <a href=\"http://www.babylonjs.com/?WT.mc_id=16530-DEV-sitepoint-article66\">Babylon.js</a> open-source gaming engine.</p>\n<p>By the end of this article, you&#x2019;ll know how to build <a href=\"https://dev.windows.com/en-us/microsoft-edge/testdrive/demos/musiclounge/?utm_source=SitePoint&amp;utm_medium=article66&amp;utm_campaign=SitePoint\">this kind of experience</a>:</p>\n<p><img class=\"aligncenter size-full wp-image-119121\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591174web-audio-api-immersive-audio01-cubes.png\" alt=\"Cubes\" width=\"400\"></p>\n<p><strong>Usage:</strong> move the cubes with your mouse or touch near the center of the white circle to mix <a href=\"https://soundcloud.com/david-rousset/coding4fun-ms-techdays-2015\">my music</a> in this 3D experience using WebGL&amp; Web Audio. View the <a href=\"https://github.com/MicrosoftEdge/Demos/tree/master/musiclounge\">source code</a>.</p>\n<h2>Web Audio in a nutshell</h2>\n<p>Web Audio is the most advanced audio stack for the web.</p>\n\n<p><img class=\"aligncenter size-full wp-image-119122\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591180web-audio-api-immersive-audio02-audio-stack.png\" alt=\"Web Audio Stack\" width=\"640\"></p>\n<p>From <a href=\"http://www.devbattles.com/en/sand/post-69-Learn+Web+Audio+API\">Learn Web Audio API</a></p>\n<p>If you ever tried to do something else than streaming some sounds or music using the <a href=\"http://www.w3.org/TR/html5/embedded-content-0.html#the-audio-element\">HTML5 audio element</a>, you know how limited it was. Web Audio allows you to break all the barriers and provides you <strong>access to the complete stream and audio pipeline</strong> like in any modern native application. It works thanks to an <strong>audio routing graph made of audio nodes</strong>. This gives you <strong>precise control over time, filters, gains, analyzer, convolver and 3D spatialization</strong>.</p>\n<p>It&#x2019;s being <a href=\"https://dev.windows.com/en-us/microsoft-edge/platform/status/webaudioapi?utm_source=SitePoint&amp;utm_medium=article66&amp;utm_campaign=SitePoint/?filter=f3f0000bf&amp;search=web%20audio\">widely supported now</a> (Microsoft Edge, Chrome, Opera, Firefox, Safari, iOS, Android, FirefoxOS and Windows Mobile 10). In Edge (but I&#x2019;m guessing in other browsers too), it&#x2019;s been <strong>rendered in a separate thread</strong> than the main JS thread. This means that almost all the time, it will have few if <strong>no performance impact</strong> on your app or game. The <strong>codecs supported are at least WAV and MP3</strong> by all browsers and some of them also support OGG. Edge even <a href=\"http://blogs.windows.com/msedgedev/2015/05/26/announcing-dolby-audio-for-high-performance-audio-in-microsoft-edge/?WT.mc_id=16530-DEV-sitepoint-article66\">supports the multi-channel Dolby Digital Plus&#x2122; audio format!</a>! You then need to pay attention to that to build a web app that will run everywhere and provides potentially multiple sources for all browsers.</p>\n<h3>Audio routing graph explained</h3>\n<p><img class=\"aligncenter size-full wp-image-119123\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591186web-audio-api-immersive-audio03-audio-routing-graph.png\" alt=\"Audio routing graph\" width=\"663\"></p>\n<p><strong>Note:</strong> <em>this picture has been built using the graph displayed into the awesome Web Audio tab of the Firefox DevTools. <a href=\"https://twitter.com/davrous/status/660130281752522752\">I love this tool.</a> :) So much that I&#x2019;ve planned to mimic it via a <a href=\"http://www.vorlonjs.io/?WT.mc_id=16530-DEV-sitepoint-article66\">Vorlon.js</a> plug-in. I&#x2019;ve started working on it but it&#x2019;s still very early draft.</em></p>\n<p>Let&#x2019;s have a look to this diagram. Every node can have something as an input and be connected to the input of another node. In this case, we can see that MP3 files act as the source of the <strong>AudioBufferSource</strong> node, connected to a <strong>Panner</strong> node (which provides spatialization effects), connected to <strong>Gain</strong> nodes (volume), connected to an <strong>Analyser</strong> node (to have access to frequencies of the sounds in real-time) finally connected to the <strong>AudioDestination</strong> node (your speakers). You see also you can control the volume (gain) of a specific sound or several of them at the same time. For instance, in this case, I&#x2019;ve got a &#x201C;global volume&#x201D; being handled via the final gain node just before the destination and some kind of tracks&#x2019; volume with some gains node placed just before the analyser node.</p>\n<p>Finally, Web Audio provides 2 <a href=\"https://en.wikipedia.org/wiki/Psychoacoustics\">psychoacoustics</a> models to simulate spatialization:</p>\n<ul>\n<li><strong>equalpower</strong> (set by default) to support classic speakers for your laptop or floorstanding speakers.</li>\n<li><strong>HRTF</strong> which provides the best results with an headphone as it simulates <a href=\"https://en.wikipedia.org/wiki/Binaural_recording\">binaural recording</a>.</li>\n</ul>\n<p><strong>Note:</strong> <em>MS Edge currently only supports equalpower.</em></p>\n<p>And you&#x2019;re set for the basics. To start playing with some code, I would suggest you reading those great resources:</p>\n\n<p>For instance, let&#x2019;s imaging we&#x2019;d like to create such an audio graph:</p>\n<p><img class=\"aligncenter size-full wp-image-119124\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591192web-audio-api-immersive-audio04-audio-graph.png\" alt=\"Audio graph\" width=\"640\"></p>\n<p>I&#x2019;d like to play 2 synchronized music that will each have its own gain connected to their own analyser. This means that we&#x2019;ll be able to display the frequencies of each music on separate canvas and play with the volume of each one separately also. Finally, we will have a global volume that will act on both music at the same time and a third analyser that will display the frequencies on both music cumulated on a third canvas.</p>\n<p>You&#x2019;ll find the demo here: <a href=\"http://david.blob.core.windows.net/webaudio/demos/articlesample1/analysersSample.html\">analysersSample.html</a></p>\n<p><img class=\"aligncenter size-full wp-image-119125\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591198web-audio-api-immersive-audio05-analysers-sample-demo.png\" alt=\"Analyser sample demo\" width=\"640\"></p>\n<p>Simply have a look to the source code using your favorite browser and it&#x2019;s F12 tool.</p>\n<p><img class=\"aligncenter size-full wp-image-119126\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591203web-audio-api-immersive-audio06-analyser-sample-debug-js.png\" alt=\"Analyser sample debug js\" width=\"900\"></p>\n<p><strong>sound.js</strong> is abstracting the logic to load a sound, decode it and play it. <strong>analyser.js</strong> is abstracting the job to do to use the Web Audio analyser and display frequencies on a 2D canvas. Finally, <strong>analysersSample.js</strong> is using both files to create the above result.</p>\n<p>Play with the sliders to act on the volume on each track or on the global volume to review what&#x2019;s going on. For instance, try to understand if you&#x2019;re putting the global volume to 0, why can you still see the 2 analysers showing data on the right?</p>\n<p>To be able to play the 2 tracks synchronized, you just need to load them via a XHR2 request, decode the sound and as soon as those 2 asynchronous operations are done, simply call the Web Audio play function on each of them.</p>\n<h2>Web Audio in Babylon.js</h2>\n<h3>Basics</h3>\n<p>I wanted to keep our &#x201C;<em>simple &amp; powerful</em>&#x201D; philosophy while working on the audio stack. Even if Web Audio is not that complicated, it&#x2019;s still very verbose to me and you&#x2019;re quickly doing boring and repetitive tasks to build your audio graph. My objective was then to encapsulate that to provide a very simple abstraction layer and to let people <strong>create 2D or 3D sounds without being a sound engineer</strong>.</p>\n<p>Here is the signature we&#x2019;ve chosen to create a sound:</p>\n<pre><code>varnewSound = new BABYLON.Sound(\"nameofyoursound\", \"URLToTheFile\",\nyourBabylonScene,\ncallbackFunctionWhenSoundReadyToBePlayed,\noptionsViaJSONObject);</code></pre>\n<p>For instance, here is how to create new sounds in Babylon.js:</p>\n<pre><code>\nvarsound1 = new BABYLON.Sound(\"sound1\", \"./sound1.mp3\", scene,\n null, { loop: true, autoplay: true }\n);\n\nvarsound2 = new BABYLON.Sound(\"sound2\", \"./sound2.wav\", scene,\n function() { sound2.play(); },\n { playbackRate: 2.0 }\n);\n\nvarstreamingSound = new BABYLON.Sound(\"streamingSound\", \"./sound3.mp3\", scene,\n null, { autoplay: true, streaming: true }\n);\n</code></pre>\n<p>First sound will be played automatically in loop as soon as it will be loaded from the web server and decoded by Web Audio.</p>\n<p>Second sound will be played once thanks to the callback function that will trigger the <code>play()</code> function on it once decoded and ready to be played. It will be played also at a 2x playback rate.</p>\n<p>The last sound is using the &#x201C;<code>streaming: true</code>&#x201D; option. It means we&#x2019;ll use the <strong>HTML5 Audio element</strong> instead of doing a XHR2 request and using a Web Audio <code>AudioBufferSource</code> object. It could be useful if you&#x2019;d like to stream a music rather than waiting to download it completely. Still, you can apply all the magic of Web Audio on top of this HTML5 Audio element: analyser, 3D spatialization and so on.</p>\n<p>You can play with this logic into our playground such as with this very simple sample: <a href=\"http://www.babylonjs-playground.com/index.html?22/?WT.mc_id=16530-DEV-sitepoint-article66\">http://www.babylonjs-playground.com/index.html?22</a></p>\n<h3>Engine, Tracks and memory foot print</h3>\n<p>The Web Audio audio context is only created at the very last moment. When the Babylon.js audio engine is created in the Babylon.js main engine constructor, it only checks for Web Audio support and set a flag. Also, every sound is living inside a sound track. By default, the sound will be added into the main sound track attached to the scene.</p>\n<p>The Web Audio context and the main track (containing its own gain node attached to the global volume) are really created only after the very first call to <em>new BABYLON.Sound()</em>.</p>\n<p>We&#x2019;ve done that to avoid creating some audio resources for scenes that won&#x2019;t use audio, which is today the case of most of our scenes hosted on <a href=\"http://www.babylonjs.com/?WT.mc_id=16530-DEV-sitepoint-article66\">http://www.babylonjs.com/</a>. Still, the audio engine is ready to be called at any time. This helps us also to detach the audio engine from the core game engine if we&#x2019;d like to build a core version of Babylon.js without any audio code inside it to make it more lightweight. At last, we&#x2019;re currently working with big studios that pay of lot of attention to resources being used.</p>\n<p>To better understand that, we&#x2019;re going to use Firefox and its Web Audio tab.</p>\n<p>&#x2013; Navigate to: <a href=\"http://www.babylonjs-playground.com/?WT.mc_id=16530-DEV-sitepoint-article66\">http://www.babylonjs-playground.com/</a> and open the Web Audio tab via F12. You should see that:</p>\n<p><img class=\"aligncenter size-full wp-image-119127\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591208web-audio-api-immersive-audio07-babylonjs-playground-demo.png\" alt=\"Babylon.js playground demo\" width=\"640\"></p>\n<p>No audio context has been created yet.</p>\n<p>&#x2013; Into the playground editor on the left, add this line of code just before &#x201C;<em>return scene</em>&#x201D; for instance:</p>\n<pre><code>varmusic = new BABYLON.Sound(\"Violons\", \"sounds/violons11.wav\",\n scene, null, { loop: true, autoplay: true }\n);</code></pre>\n<p>&#x2013; You should now see this audio graph in F12:</p>\n<p><img class=\"aligncenter size-full wp-image-119128\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591213web-audio-api-immersive-audio08-babylonjs-playground-demo.png\" alt=\"Babylon.js playground demo\" width=\"640\"></p>\n<p>The audio context has been dynamically created after the first call to <code>new BABYLON.Sound()</code> as well as the main volume, the main track volume and the volume associated to this sound.</p>\n<h3>3D Sounds</h3>\n<h4>Basics</h4>\n<p>Web Audio is highly inspired by models used in libraries such as <a href=\"https://www.openal.org/\">OpenAL</a> (Open Audio Library) for 3D. <strong>Most of the 3D complexity will then be handled for you by Web Audio.</strong> It will handle the 3D position of the sounds, their direction and their velocity (to apply a <a href=\"https://en.wikipedia.org/wiki/Doppler_effect\">Doppler effect</a>).</p>\n<p>As a developer, you then need to ask to Web Audio to position your sound in the 3D space and to set and/or update the position and orientation of the <a href=\"http://webaudio.github.io/web-audio-api/#AudioListener\">Web Audio listener</a> (your virtual ears) using the <code>setPosition()</code> and <code>setOrientation()</code> function. But if you&#x2019;re not a 3D guru, it could be a bit complex. That&#x2019;s why, we&#x2019;re doing that for you in Babylon.js. We&#x2019;re updating the Web Audio listener with the position of our camera in the 3D world. It&#x2019;s <strong>like some virtual ears</strong> (the listener) <strong>were stick onto some virtual eyes</strong> (the camera).</p>\n<p>Up to now, we&#x2019;ve been using 2D sound. To transform a sound into a spatial sound, you need to specify that via the options:</p>\n<pre><code>varmusic = new BABYLON.Sound(\"music\", \"music.wav\",\n scene, null, { loop: true, autoplay: true, spatialSound: true }\n);</code></pre>\n<p>Default properties of a spatial sound are:</p>\n<ul>\n<li>distanceModel (the attenuation) is using a &#x201C;<strong>linear</strong>&#x201D; equation by default. Other options are &#x201C;<em>inverse</em>&#x201D; or &#x201C;<em>exponential</em>&#x201D;.</li>\n<li>maxDistance is set to <strong>100</strong>. This means that once the listener is farther than 100 units from the sound, the volume will be 0. You can&#x2019;t hear the sound anymore.</li>\n<li>panningModel is set to &#x201C;<strong>equalpower</strong>&#x201D; following the specifications. The other available option is &#x201C;<em>HRTF</em>&#x201D;. The specification says it&#x2019;s: &#x201C;<em>a higher quality spatialization algorithm using a convolution with measured impulse responses from human subjects. This panning method renders stereo output</em>&#x201D;. This is the best algorithm when using a headphone.</li>\n</ul>\n<p><strong>maxDistance</strong> is only used when using the &#x201C;<em>linear</em>&#x201D; attenuation. Otherwise, you can tune the attenuation of the other models using the <strong>rolloffFactor</strong> and <strong>refDistance</strong> options. Both are set to 1 by default but you can change it of course.</p>\n<p>For instance:</p>\n<pre><code>varmusic = new BABYLON.Sound(\"music\", \"music.wav\", scene, null, {\n loop: true, autoplay: true, spatialSound: true,\n distanceModel: \"exponential\", rolloffFactor: 2\n});</code></pre>\n<p>Default position of sound in the 3D world is <em>(0,0,0)</em>. To change that, use the <code>setPosition()</code> function:</p>\n<pre><code>music.setPosition(new BABYLON.Vector3(100, 0, 0));</code></pre>\n<p>To have a better understanding, please <a href=\"http://www.babylonjs-playground.com/#2AH4YH/?WT.mc_id=16530-DEV-sitepoint-article66\">have a look to this sample</a> into our playground:</p>\n<p><img class=\"aligncenter size-full wp-image-119129\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591218web-audio-api-immersive-audio09-babylonjs-playground-demo.png\" alt=\"Babylon.js playground demo\" width=\"640\"></p>\n<p>Move into the scene using keyboard &amp; mouse. Each sound is represented by a purple sphere. When you&#x2019;re entering a sphere, you&#x2019;ll start hearing one the music. The sound is louder at the center of the sphere and fall down to 0 when leaving the sphere. You&#x2019;ll also notice that the sound is being balanced between the right &amp; left speakers as well as front / rear (which is harder to notice using only classic stereo speakers).</p>\n<h4>Attaching a sound to a mesh</h4>\n<p>The previous demo is cool but didn&#x2019;t reach my &#x201C;<strong>simple &amp; powerful</strong>&#x201D; bar. I wanted something even more simple to use. I finally ended up with the following approach.</p>\n<p>Simply create a <em>BABYLON.Sound</em>, attach it to an existing mesh and you&#x2019;re done! Only 2 lines of code! If the mesh is moving, the sound will move with it. You have nothing to do, everything else is being handled by Babylon.js.</p>\n<p>Here&#x2019;s the code to use:</p>\n<pre><code>\nvarmusic = new BABYLON.Sound(\"Violons\", \"sounds/violons11.wav\",\n scene, null, { loop: true, autoplay: true }\n);\n\n// Sound will now follow the box mesh position\nmusic.attachToMesh(box);\n</code></pre>\n<p>Calling the <code>attachToMesh()</code> function on a sound will transform it automatically into a spatial 3D sound. Using the above code, you&#x2019;ll fall into default Babylon.js values: a <em>linear</em> attenuation with a <em>maxDistance</em> of 100 and a panning model of type &#x201C;<em>equalpower</em>&#x201D;.</p>\n<p>Put your headphone and <a href=\"http://www.babylonjs-playground.com/index.html?23/?WT.mc_id=16530-DEV-sitepoint-article66\">launch this sample into our playground</a>:</p>\n<p><img class=\"aligncenter size-full wp-image-119130\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591224web-audio-api-immersive-audio10-babylonjs-playground-attachtomesh.png\" alt=\"Babylon.js playground - attachToMesh()\" width=\"640\"></p>\n<p>Don&#x2019;t move the camera. You should hear my music rotating around your head as the cube is moving. Want to have an <strong>even better experience with your headphone?</strong></p>\n<p>Launch the same demo into a browser supporting HRTF (like Chrome or Firefox), click on the &#x201C;<strong>Debug layer</strong>&#x201D; button to display it and scroll down to the audio section. <strong>Switch</strong> the current panning model <strong>from &#x201C;Normal speakers&#x201D;</strong> (equalpower) <strong>to &#x201C;Headphone&#x201D;</strong> (HRTF). You should enjoy a slightly better experience. If not, change your headphone&#x2026; or your ears. ;-)</p>\n<p><img class=\"aligncenter size-full wp-image-119131\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591229web-audio-api-immersive-audio11-babylonjs-playground-debug-layer.png\" alt=\"Babylon.js playground debug layer\" width=\"640\"></p>\n<p><strong>Note:</strong> you can also move into the 3D scene using arrow keys &amp; mouse (like in a FPS game) to check the impact of the 3D sound positioning.</p>\n<h4>Creating a spatial directional 3D sound</h4>\n<p>By default, spatial sounds are omnidirectional. But you can have directional sounds if you&#x2019;d like to.</p>\n<p><strong>Note:</strong> directional sounds only work for spatial sounds attached to a mesh.</p>\n<p>Here is the code to use:</p>\n<pre><code>\nvarmusic = new BABYLON.Sound(\"Violons\", \"violons11.wav\", \n scene, null, { loop: true, autoplay: true }\n);\nmusic.setDirectionalCone(90, 180, 0);\nmusic.setLocalDirectionToMesh(new BABYLON.Vector3(1, 0, 0));\nmusic.attachToMesh(box);\n</code></pre>\n<p><code>setDirectionalCone</code> takes 3 parameters:</p>\n<ul>\n<li><strong>coneInnerAngle</strong>: size of the inner cone in degree</li>\n<li><strong>coneOuterAngle</strong>: size of the outer cone in degree</li>\n<li><strong>coneOuterGain</strong>: volume of the sound when you&#x2019;re outside the outer cone (between 0.0 and 1.0)</li>\n</ul>\n<p>Outer angle of the cone must be superior or equal to the inner angle, otherwise an error will be logged and the directional sound won&#x2019;t work.</p>\n<p><code>setLocalDirectionToMesh()</code> is simply the orientation of the cone related to the mesh you&#x2019;re attached to. By default, it&#x2019;s <em>(1,0,0)</em>. On the right of the object if you want to.</p>\n<p>You can play with <a href=\"http://www.babylonjs-playground.com/#1BO0YS/?WT.mc_id=16530-DEV-sitepoint-article66\">this sample from our playground</a> to better understand the output:</p>\n<p><img class=\"aligncenter size-full wp-image-119132\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591235web-audio-api-immersive-audio12-babylonjs-playground-setlocaldirectiontomesh.png\" alt=\"Babylon.js playground - setlocaldirectionToMesh()\" width=\"640\"></p>\n<p>Move into the 3D scene. If you&#x2019;re inside the <strong>space defined by the grey cone</strong>, you should hear the music, if not you&#x2019;ll not hear it as the <strong>coneOuterGain</strong> is set to 0.</p>\n<h3>Going further</h3>\n<p>Play with our famous <strong>Mansion Web Audio</strong> <a href=\"http://www.babylonjs.com/index.html?MANSION/?WT.mc_id=16530-DEV-sitepoint-article66\">demo</a>:</p>\n<p><img class=\"aligncenter size-full wp-image-119133\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591239web-audio-api-immersive-audio13-mansion-web-audio.jpg\" alt=\"Mansion Web Audio\" width=\"280\"></p>\n<p><img class=\"aligncenter size-full wp-image-119134\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591244web-audio-api-immersive-audio14-mansion-web-audio.png\" alt=\"Mansion Web Audio\" width=\"311\"></p>\n<p><img class=\"aligncenter size-full wp-image-119135\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591250web-audio-api-immersive-audio15-mansion-web-audio.png\" alt=\"Mansion Web Audio\" width=\"311\"></p>\n<p>Try to find the interactive objects in the Mansion scene, they&#x2019;re almost all associated to a sound. To build this scene, our 3D artist, <strong>Michel Rousseau, hasn&#x2019;t use a single line of code!</strong> He made it entirely using our new Actions Builder tool and 3DS Max. The Actions Builder is indeed currently only available in our 3DS Max exporter. We will soon expose it into our <a href=\"http://www.babylonjs.com/sandbox/?WT.mc_id=16530-DEV-sitepoint-article66\">sandbox tool</a>. If you&#x2019;re interested in building a similar experience, please read those articles:</p>\n\n<p>But, the best thing to definitely understand and learn how we&#x2019;ve been using Web Audio in our gaming engine is <strong>by reading our source code</strong>:</p>\n<ul>\n<li><a href=\"https://github.com/BabylonJS/Babylon.js/blob/master/src/Audio/babylon.audioEngine.ts\">BABYLON.AudioEngine</a> being created by the Babylon.js core engine as static.</li>\n<li><a href=\"https://github.com/BabylonJS/Babylon.js/blob/master/src/Audio/babylon.soundtrack.ts\">BABYLON.SoundTrack</a> containing several sounds. You have at least one track being created if you&#x2019;re creating a sound, this is the main track.</li>\n<li><a href=\"https://github.com/BabylonJS/Babylon.js/blob/master/src/Audio/babylon.sound.ts\">BABYLON.Sound</a> containing the main logic you&#x2019;ll interact with.</li>\n<li><a href=\"https://github.com/BabylonJS/Babylon.js/blob/master/src/Audio/babylon.analyser.ts\">BABYLON.Analyser</a> that can be attached to the audio engine itself (to view the output via the global volume) or on a specific track.</li>\n</ul>\n<p>Please also have a look into <a href=\"https://github.com/BabylonJS/Babylon.js/blob/master/src/babylon.scene.ts\">BABYLON.Scene</a> and the <code>_updateAudioParameters()</code> function to understand how we&#x2019;re updating the Web Audio listener based on the current position &amp; orientation of the camera.</p>\n<p>Finally, here are some useful resources to read:</p>\n\n<h2>Building a demo using multitracks &amp; analysers</h2>\n<p>In order to show you what you can quickly do with our Babylon.js audio stack, I&#x2019;ve built <a href=\"http://david.blob.core.windows.net/webaudio/demos/articlesample2/multitracks.html\">this fun demo</a>:</p>\n<p><img class=\"aligncenter size-full wp-image-119136\" src=\"http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2015/11/1447591256web-audio-api-immersive-audio16-multitracks-analysers.png\" alt=\"Multitracks &amp; Analysers\" width=\"900\"></p>\n<p>It uses several features from Babylon.js such as the <strong>assets loader</strong> that will automatically load the remote WAV files and display a default loading screen, <strong>multi sounds tracks</strong> and several <strong>analyser objects</strong> being connected to the sound tracks.</p>\n<p>Please have a look to the source code of <strong>multitracks.js</strong> via your F12 tool to check how it works.</p>\n<p><a href=\"http://david.blob.core.windows.net/webaudio/demos/articlesample2/multitracks.html\">This demo</a> is based on a music I&#x2019;ve already composed in the past that I&#x2019;ve slightly re-arranged: <a href=\"https://soundcloud.com/david-rousset/the-geek-council\">The Geek Council</a>. You can do your own mixing for the first part of the music by playing with the sliders. You can click as many time and as quickly as possible on the &#x201C;<strong><em>Epic cymbals</em></strong>&#x201D; button to add a dramatic effect. Finally, click on the &#x201C;<strong><em>Initiate epic end sequence</em></strong>&#x201D;. It will wait for the end of the current loop and will stop the 4 first tracks (drums, epic background, pads &amp; horns) to play the final epic sequence! :) Click on the &#x201C;<strong><em>Reset</em>&#x201D; button to restart from the beginning.</strong></p>\n<p><strong>Note:</strong> it turns out that to <strong>have great sounds loops</strong>, without any glitch, <strong>you need to avoid using MP3</strong> as explained in this <a href=\"http://www.html5gamedevs.com/topic/10976-seamless-loop/\">forum</a>: &#x201C;<em>The simplest solution is to just not use .mp3. If you use .ogg or .m4a instead you should find the sound loops flawlessly, as long as you generate those files from the original uncompressed audio source, not from the mp3 file! The process of compressing to mp3 inserts a few ms of silence at the start of the audio, making mp3 unsuited to looping sounds. I read somewhere that the silence is actually supposed to be file header information but it incorrectly gets treated as sound data!</em>&#x201D;. That&#x2019;s why, I&#x2019;m using WAV files in this demo. It&#x2019;s the only clean solution working accross all browsers.</p>\n<h2>And what about the Music Lounge demo?</h2>\n<p>The <a href=\"https://dev.windows.com/en-us/microsoft-edge/testdrive/demos/musiclounge/?utm_source=SitePoint&amp;utm_medium=article66&amp;utm_campaign=SitePoint\">music lounge demo</a> is basically re-using everything being described before. But you&#x2019;re missing a last piece to be able to recreate it as it&#x2019;s based on a feature I haven&#x2019;t explained yet: the <code>customAttenuationFunction</code>.</p>\n<p>You&#x2019;ve got the option to <strong>provide your own attenuation function</strong> to Babylon.js to replace the default one provided by Web Audio (linear, exponential and inverse) as <a href=\"http://doc.babylonjs.com/tutorials/16._Playing_sounds_and_music#creating-your-own-custom-attenuation-function\">explained in our documentation</a>.</p>\n<p>For instance, if you&#x2019;re trying this <a href=\"http://www.babylonjs-playground.com/#1YIXEO/?WT.mc_id=16530-DEV-sitepoint-article66\">playground demo</a>, you&#x2019;ll see I&#x2019;m using this stupid attenuation function:</p>\n<pre><code>music.setAttenuationFunction(function (currentVolume, currentDistance,\nmaxDistance, refDistance, rolloffFactor) {\n returncurrentVolume _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy currentDistance / maxDistance;\n});</code></pre>\n<p>Near the object, volume is almost 0. The further, the louder. It&#x2019;s completely counter intuitive but it&#x2019;s a sample to give you the idea.</p>\n<p>In the case of the Music Lounge demo, it has been very useful. Indeed, the volume of each track doesn&#x2019;t depend on the distance of each cube from the camera but on the distance between the cube and the center of the white circle. If you&#x2019;re looking at the <a href=\"https://github.com/MicrosoftEdge/Demos/blob/master/musiclounge/src/musicLounge.soundCube.ts\">source code</a>, the magic happens here:</p>\n<pre><code>\nattachedSound.setAttenuationFunction((currentVolume, currentDistance,\n maxDistance, refDistance, rolloffFactor) =&gt; {\n vardistanceFromZero = BABYLON.Vector3.Zero()\n .subtract(this._box.getBoundingInfo().boundingSphere.centerWorld)\n .length();\n\n if(distanceFromZero&lt;maxDistance) { \n returncurrentVolume _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy (1 - distanceFromZero / maxDistance); \n } \n else{ \n return 0; \n }\n});\n</code></pre>\n<p>We&#x2019;re computing the distance between the current cube <code>(this._box)</code> and the (0,0,0) coordinates which happens to be the center of the circle. Based on this distance, we&#x2019;re setting a linear attenuation function for the volume of the sound associated to the cube. Rest of the demo is using sounds attached to the various meshes (the cubes) and an analyser object connected to the global volume to animate the outer circle made of particles.</p>\n<p>I hope you&#x2019;ll enjoy this article as much as I had writing it. I also hope that it will bring you <strong>new ideas to create cool Web Audio / WebGL applications</strong> or demos!</p>\n<h2>More hands-on with Web Development</h2>\n<p>This article is part of the web development series from Microsoft tech evangelists on practical JavaScript learning, open source projects, and interoperability best practices including <a href=\"http://blogs.windows.com/msedgedev/2015/05/06/a-break-from-the-past-part-2-saying-goodbye-to-activex-vbscript-attachevent/?WT.mc_id=16530-DEV-sitepoint-article66\">Microsoft Edge</a> browser and the new <a href=\"http://blogs.windows.com/msedgedev/2015/02/26/a-break-from-the-past-the-birth-of-microsofts-new-web-rendering-engine/?WT.mc_id=16530-DEV-sitepoint-article66\">EdgeHTML rendering engine</a>.</p>\n<p>We encourage you to test across browsers and devices including Microsoft Edge &#x2013; the default browser for Windows 10 &#x2013; with free tools on <a href=\"https://dev.windows.com/en-us/microsoft-edge/?utm_source=SitePoint&amp;utm_medium=article66&amp;utm_campaign=SitePoint\">dev.modern.IE</a>:</p>\n\n<p>More in-depth learning from our engineers and evangelists:</p>\n\n<p>Our community open source projects:</p>\n\n<p>More free tools and back-end web dev stuff:</p>\n\n </div>\n\n </div>"
    }, {
        "title": "CSS Toggle Switch",
        "url": "https://ghinda.net/css-toggle-switch/",
        "excerpt": "Accessible CSS toggle switch using standard form controls Light switch Use the light switch, instead of a checkbox, for simple \u201cOn/Off\u201d options. Toggle switch Use the toggle switches, instead of&hellip;",
        "date_saved": "Thu Jul 28 20:13:33 EDT 2016",
        "html_file": "css_toggle_switch.html",
        "png_file": "css_toggle_switch.png",
        "md_file": "css_toggle_switch.md",
        "content": "<div>\n\n \n\n<header class=\"row\">\n <div class=\"large-7 columns\">\n \n <p class=\"description\">Accessible CSS toggle switch using standard form controls</p>\n </div>\n \n</header>\n\n<div class=\"row\">\n <div class=\"large-12 columns\">\n <div class=\"hero-box\">\n\n <div class=\"row\">\n <div class=\"large-6 columns\">\n\n <h4>Light switch</h4>\n <p>Use the light switch, instead of a checkbox, for simple <em>\u201cOn/Off\u201d</em> options. </p>\n\n \n\n \n\n \n\n </div>\n <div class=\"large-6 columns\">\n\n <h4>Toggle switch</h4>\n <p>Use the toggle switches, instead of radio buttons, for two or more, specific options. </p>\n\n \n\n \n\n <div class=\"row toggle-demo\">\n <label class=\"large-3 columns\">Debug</label>\n \n </div>\n\n </div>\n\n </div>\n\n <div class=\"row dependency-install\">\n\n <div class=\"large-12 columns\">\n <pre>\n <code><a href=\"https://www.npmjs.com/package/css-toggle-switch\">npm</a> install --save css-toggle-switch</code>\n</pre>\n<pre>\n <code><a href=\"http://bower.io/\">bower</a> install --save css-toggle-switch</code>\n</pre>\n\n </div>\n\n </div>\n\n \n\n </div>\n </div>\n</div>\n\n<div class=\"row\">\n <div class=\"large-12 columns\">\n\n <h5 class=\"frameworks text-center\">\n You can use the switches <a href=\"https://ghinda.net/css-toggle-switch/index.html\">standalone</a>, with <a href=\"https://ghinda.net/css-toggle-switch/bootstrap.html\">Bootstrap</a> or with <a href=\"https://ghinda.net/css-toggle-switch/foundation.html\">Foundation</a>.\n </h5>\n\n </div>\n</div>\n\n<div class=\"row\">\n\n <div class=\"large-12 columns\">\n\n <h2>Light switch</h2>\n <p>Use the light switch, instead of a checkbox, for simple <em>\u201cOn/Off\u201d</em> options. </p>\n\n <div class=\"example large-12 columns\">\n\n <label class=\"switch-light switch-candy large-3\">\n \n\n <strong>\n Wireless\n </strong>\n\n <span>\n <span>Off</span>\n <span>On</span>\n <a></a>\n </span>\n </label>\n\n<pre><code class=\"language-html\">&lt;label class=\"switch-light switch-candy\" onclick=\"\"&gt;\n &lt;input type=\"checkbox\"&gt;\n\n &lt;strong&gt;\n Wireless\n &lt;/strong&gt;\n\n &lt;span&gt;\n &lt;span&gt;Off&lt;/span&gt;\n &lt;span&gt;On&lt;/span&gt;\n &lt;a&gt;&lt;/a&gt;\n &lt;/span&gt;\n&lt;/label&gt;</code></pre>\n\n\n </div>\n\n </div>\n\n</div>\n\n<div class=\"row\">\n\n <div class=\"large-12 columns\">\n\n <h2>Toggle switch</h2>\n\n <p>Use the toggle switches, instead of radio buttons, for two or more specific options. </p>\n\n <div class=\"example\">\n\n <label>View</label>\n \n\n<pre><code class=\"language-html\">&lt;div class=\"switch-toggle switch-candy\"&gt;\n &lt;input id=\"week\" name=\"view\" type=\"radio\" checked&gt;\n &lt;label for=\"week\" onclick=\"\"&gt;Week&lt;/label&gt;\n\n &lt;input id=\"month\" name=\"view\" type=\"radio\"&gt;\n &lt;label for=\"month\" onclick=\"\"&gt;Month&lt;/label&gt;\n\n &lt;input id=\"day\" name=\"view\" type=\"radio\"&gt;\n &lt;label for=\"day\" onclick=\"\"&gt;Day&lt;/label&gt;\n\n &lt;a&gt;&lt;/a&gt;\n&lt;/div&gt;</code></pre>\n\n\n </div>\n\n <h3>Multiple options</h3>\n <p>Add up to 6 options. No extra work needed. </p>\n\n <div class=\"example\">\n\n <label>View</label>\n <div class=\"switch-toggle switch-candy\">\n \n <label for=\"hour3\">Hour</label>\n\n \n <label for=\"day3\">Day</label>\n\n \n <label for=\"week3\">Week</label>\n\n \n <label for=\"month3\">Month</label>\n\n \n <label for=\"year3\">Year</label>\n\n \n <label for=\"decade3\">Decade</label>\n\n <a></a>\n </div>\n\n<pre><code class=\"language-html\">&lt;label&gt;View&lt;/label&gt;\n&lt;div class=\"switch-toggle switch-candy\"&gt;\n &lt;input id=\"hour3\" name=\"view3\" type=\"radio\" checked&gt;\n &lt;label for=\"hour3\" onclick=\"\"&gt;Hour&lt;/label&gt;\n\n &lt;input id=\"day3\" name=\"view3\" type=\"radio\"&gt;\n &lt;label for=\"day3\" onclick=\"\"&gt;Day&lt;/label&gt;\n\n &lt;input id=\"week3\" name=\"view3\" type=\"radio\"&gt;\n &lt;label for=\"week3\" onclick=\"\"&gt;Week&lt;/label&gt;\n\n &lt;input id=\"month3\" name=\"view3\" type=\"radio\"&gt;\n &lt;label for=\"month3\" onclick=\"\"&gt;Month&lt;/label&gt;\n\n &lt;input id=\"year3\" name=\"view3\" type=\"radio\"&gt;\n &lt;label for=\"year3\" onclick=\"\"&gt;Year&lt;/label&gt;\n\n &lt;input id=\"decade3\" name=\"view3\" type=\"radio\"&gt;\n &lt;label for=\"decade3\" onclick=\"\"&gt;Decade&lt;/label&gt;\n\n &lt;a&gt;&lt;/a&gt;\n&lt;/div&gt;</code></pre>\n\n\n </div>\n\n </div>\n\n</div>\n\n<div class=\"row\">\n\n <div class=\"large-12 columns\">\n\n <h2>Themes</h2>\n\n <p>\n There are a bunch of themes included with the switches.\n </p>\n\n <h3>\n Candy\n </h3>\n\n <p>It includes three color schemes: the default green, <code>.switch-candy-blue</code> and <code>.switch-candy-yellow</code>.</p>\n\n <div class=\"example\">\n\n \n\n <label>View</label>\n \n\n <label>View</label>\n \n\n </div>\n\n <h3>\n Material\n </h3>\n\n <div class=\"example example-light\">\n\n \n\n \n\n </div>\n\n <h3>\n Holo\n </h3>\n\n <div class=\"example\">\n\n \n\n <label>View</label>\n \n\n </div>\n\n <h3>iOS</h3>\n <div class=\"example\">\n\n <label class=\"switch-light switch-ios\">\n \n\n <strong>\n Wireless\n </strong>\n\n <span>\n <span>Off</span>\n <span>On</span>\n <a></a>\n </span>\n </label>\n\n <label>View</label>\n \n\n </div>\n\n </div>\n\n</div>\n\n<div class=\"row\">\n\n <div class=\"large-12 columns\">\n\n <h2>Browser support</h2>\n\n <p>The toggle switches work on all modern browsers, including mobile ones(even proxy-browsers like Opera Mini). </p>\n\n <p><strong>Browsers without support for media-queries, such as IE8 and bellow, get standard form elements. </strong></p>\n\n <p>The <code>onclick=\"\"</code> attribute is required for older iOS and Opera Mini support. </p>\n\n </div>\n\n</div>\n\n\n\n<footer>\n <div class=\"row\">\n <div class=\"large-12 columns\">\n <p>\n <a href=\"https://github.com/ghinda/css-toggle-switch\">CSS Toggle Switch</a> is a project by <a href=\"http://ghinda.net\">Ionu\u021b Colceriu</a>. Follow <a href=\"https://twitter.com/ghindas\">@ghindas</a>.\n</p>\n\n </div>\n </div>\n</footer>\n\n\n \n\n</div>\n"
    }, {
        "title": "Animated SVG vs GIF [CAGEMATCH]",
        "url": "http://sarasoueidan.com/blog/svg-vs-gif/",
        "excerpt": "SVG can do much more than display static images. Its animation capabilities are one of its most powerful features, giving it a distinctive advantage over all other image formats. They are one of many&hellip;",
        "date_saved": "Thu Jul 28 20:13:35 EDT 2016",
        "html_file": "animated_svg_vs_gif_cagematch.html",
        "png_file": "animated_svg_vs_gif_cagematch.png",
        "md_file": "animated_svg_vs_gif_cagematch.md",
        "content": "<div><section class=\"main article-wrapper clearfix seventy\">\n \n <header class=\"compound-title\">\n \n \n </header>\n \n <br>\n \n \n\n \n\n <p>SVG can do much more than display static images. Its animation capabilities are one of its most powerful features, giving it a distinctive advantage over all other image formats. They are one of many reasons that make SVG images better than raster images, including GIFs. But this, of course, only applies to images that are good candidates for SVG, such as:</p>\n\n<ul>\n <li>Logos,</li>\n <li>non-complex, vector-based illustrations,</li>\n <li>user interface controls, </li>\n <li>infographics,</li>\n <li>and icons.</li>\n</ul>\n\n<p>Of course, if you have an image that is better suited for the raster format&#x2014;such as a photograph or a very complex vector illustration (that would normally have a very big size as an SVG), then you should use a raster image format instead. Not only should the image be a good candidate for SVG, but SVG should also be a good candidate for the image. If the image size is much less as a PNG, for example, then you should use PNG, and serve different versions/resolutions of that image using <code>srcset</code>, or <code>&lt;picture&gt;</code>, depending on what you&#x2019;re working on and trying to achieve.</p>\n\n<blockquote class=\"pull-quote\">\n Not only should the image be a good candidate for SVG, but SVG should also be a good candidate for the image.\n</blockquote>\n\n<p>Generally speaking, the images listed above are usually perfect candidates for SVG. And if you're going to animate any of those, creating your animations by animating the SVG code is the sensible way to go.</p>\n\n<p>However, last week, a link popped up in my Twitter timeline that linked to a set of icons that are animated as GIFs.</p>\n\n<p>The first thing that crossed my mind when I saw them was that they were perfect candidates for SVG and should be created as SVG images, not GIFs.</p>\n\n<p>SVGs can indeed replace GIFs in many places, just like they can replace other raster image formats for candidates like those mentioned above. The ability to animate SVG images is what gives it this advantage and ability. And this applies to more than just animated icons.</p>\n\n<p>So, here is why I think you should use SVG instead of GIFs whenever you can.</p>\n\n<h2>Image Quality</h2>\n\n<p>The first advantage to using SVG over GIFs&#x2014;or any image format, for that matter&#x2014;is, unsurprisingly, SVG&#x2019;s number one feature: resolution-independence. An SVG image will look super crisp on any screen resolution, no matter how much you scale it up. Whereas GIFs&#x2014;a raster image format&#x2014;do not. Try zooming in a page that contains a GIF image and watch the GIF become pixelated and its contents blurred. </p>\n\n<p>For example, the following GIF recording of an SVG animation looks fine at this small size:</p>\n\n<figure>\n <img src=\"http://sarasoueidan.com/images/svg-vs-gif--animation-example.gif\" alt=\"\">\n <figcaption>\n A GIF recording of the <a href=\"http://codepen.io/chrisgannon/pen/myZzJv\">SVG Motion Trails demo</a> by Chris Gannon.\n </figcaption>\n</figure>\n\n<p>Zooming into the page a few times will cause the image to be pixelated and the edges and curves of the elements inside to become jagged, as you can see in the image below:</p>\n\n<p><img src=\"http://sarasoueidan.com/images/svg-vs-gif--animation-example-zoomed-in.png\" alt=\"\"></p>\n\n<p>Whereas if you <a href=\"http://codepen.io/chrisgannon/pen/myZzJv\">check the SVG demo out</a> and zoom into the page, the SVG content will remain crisp and clear no matter how much you zoom in.</p>\n\n<p>To provide crisp images for high-resolution displays when you&#x2019;re using a bitmap image format like GIF, you need to use <code>&lt;picture&gt;</code> or <code>srcset</code> and switch the images up for different contexts.</p>\n\n<p>Of course, the higher the image resolution, the bigger the file size will be. With GIFs, the file size will end up ridiculously large; but we'll get to that in a minute. Also, using a high-resolution GIF and serving it at a smaller size for mobiles is bad for performance. <strong>Don&#x2019;t do it.</strong></p>\n\n<p>When you create GIF-animated icons or images, their dimensions are fixed. Change the dimensions or zoom in and out of the page, and they&#x2019;ll get pixelated. With SVG, size is free, and clarity is a constant. You can create a small SVG and have it scale up as much as needed without sacrificing image clarity.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">GIF, just like other image formats, are not resolution-independent, and will therefore look pixelated when scaled up or viewed on higher resolutions.</td>\n <td class=\"win\">\n SVG is scalable and resolution-independent, and will look crisp clear on any screen resolution.\n </td>\n </tr>\n</table>\n\n<h2>Colors and Transparency</h2>\n\n<p>Perhaps the number one deal-breaker with GIFs is the way transparency is handled, especially when the image is displayed on a background other than a white background. </p>\n\n<p>This is an issue that is most likely to emerge when using GIF icons (whether animated or not), since icons are usually created with transparent backgrounds.</p>\n\n<p>For example, take the following circle with a stroke, created as both an SVG image (left) and a GIF with a transparent background (right). The problem is evident as soon as you look at the two images: the GIF circle has grey fringes around its stroke.</p>\n\n<figure class=\"double\">\n \n \n</figure>\n\n<p>This happens because transparency in GIF images is binary. This means that each pixel is either <em>on</em> or <em>off</em>; a pixel is either transparent or fully opaque. This, in turn, means that the transition between the foreground color and the background color is not as smooth, and results in artefacts caused by inadequate sampling frequency, commonly known as <em>aliasing</em>.</p>\n\n<p>When a line is not completely straight, it causes some pixels (around the edges) to be partially transparent and partially opaque, so the software needs to figure out what color to use for those pixels. The halo effect &#x201C;is caused by all the pixels which would have been &gt; 50% opaque being fully opaque and carrying the bg color against which they were rasterized&#x201D; (Chris Lilley). So this effect is usually a result of pixel contamination from the color of the background against which the image was composited against upon creation/saving in a graphics editor.</p>\n\n<p>Aliasing is usually countered with <em>anti-aliasing</em>, but that is not as simple when transparency is binary:</p>\n\n<blockquote>\n <p>There is a <strong>severe interaction between anti-aliasing and binary transparency</strong>. Because the background colour of the image is mixed in with the foreground colours, simply replacing a single background colour with another is not enough to simulate transparency. There will be a whole host of shades which are <em>mixtures</em> of background and foreground colours [...]. The effect in this case is a white halo around objects, because the original image was anti-aliased to a white background colour.</p>\n <cite>&#x2014; Chris Lilley (<a href=\"http://www.w3.org/Conferences/WWW4/Papers/53/gq-trans.html\">Source</a>)</cite>\n</blockquote>\n\n<p>The solution to this problem is variable transparency, commonly known as the alpha channel, which allows for varying degrees of transparency and hence a smoother transition between the foreground and background color, which is not what is available in GIF; thus, the halo effect problem. Images with the halo effect usually look best when used with white backgrounds; any other high-contrast background color will make the artefact visible.</p>\n\n<p>I&#x2019;m not quite sure if there is a way to work around this issue, but I&#x2019;ve not yet come across a GIF with a transparent background and curved edges that did not have this problem. I&#x2019;ve even seen rectangular shapes suffer from it as well.</p>\n\n<p>If you want to use your image/icon on a non-white background&#x2014;say, on a dark footer background, this alone could be a deal-breaker. But there are other reasons SVG is better than GIFs too, that we&#x2019;ll cover in the next sections.</p>\n\n<p><strong>Note:</strong> if you're on a smaller screen and you're not seeing the grey fringes around the circle, try zooming the page in to see the effect.</p>\n\n<p>Why might you not be able to see the fringes on smaller sizes? The answer is: the browser smoothes the edges as a part of the image resize process.\nDoes this mean that you can utilize this to get rid of the fringes and still use a GIF? Yes, you can. But to do that, you have to use a GIF that is much bigger than the size you want to render it at, and then resize it. This also means that you will be serving your users images that are much bigger than they need, therefore taking up more of their bandwidth on mobile, as well as hurting the overall page size and performance. Please don't do that.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">GIF images are capable of only binary transparency. This causes artefacts, known as the <em>halo effect</em> to show up whenever the image or icon is used on a non-white background. The higher the background color contrast with the image, the more visible the halo effect, which makes the icons practically unusable.</td>\n <td class=\"win\">\n SVG images come with an alpha channel and do not suffer from any problems when they are used on different background colors.\n </td>\n </tr>\n</table>\n\n<h2>Animation Techniques &amp; Animation Performance</h2>\n\n<p><strong>You can animate SVGs using CSS, javaScript or SMIL</strong>, and each of them gives you a different level of control that you can take advantage of to create all kinds of animations on SVG elements.</p>\n\n<p>There are no \"techniques\" to animate GIF images. They are animated by showing a series of images&#x2014;one for each frame&#x2014;sequentially, in a fixed manner, at a fixed pace. You know, the way GIFs just work. Granted, you can get creative with your icons before you turn them into GIFs and then &#x201C;record&#x201D; the animation and convert it into a GIF, but how good will it look? And how much control over the animation timing will you get afterwards? None.</p>\n\n<p>Unless you make sure you have at least 60 frames&#x2014;that is, 60 images&#x2014;<em><strong>per second</strong></em> to create your GIF, the animation will not look smooth. Whereas with SVG, achieving smooth animations is much easier and simpler by taking advantage of browser optimizations.</p>\n\n<p>A GIF has a bigger file size than PNG or JPEGs, and the longer the animation duration, the bigger the size will be. Now, what if your animation plays for at least 5 ot 6 seconds? What if it plays for much longer? </p>\n\n<p>You get the picture.</p>\n\n<p>Let's look at a more specific yet minimal example. Below are two images: an animated SVG on the left, and an animated GIF on the right. The rectangle in both images changes color over the course of six seconds.</p>\n\n<figure class=\"double\">\n <img src=\"http://sarasoueidan.com/images/svg-vs-gif--rectangle-animation.svg\" alt=\"\" width=\"300px\" height=\"150px\">\n <img src=\"http://sarasoueidan.com/images/svg-vs-gif--rectangle-animation.gif\" alt=\"\" width=\"300px\" height=\"150px\">\n <figcaption>The SVG image on the left and the GIF on the right.\n </figcaption>\n</figure>\n\n<p>There are a couple of things to note here:</p>\n\n<ul>\n <li>The GIF animation looks smooth but if you look closely you will notice that the SVG rectangle is going through a wider range of colors as it transitions from the initial to the final color. <strong>The number of colors the GIF goes through is limited by its number of frames.</strong> In the above image, the GIF goes through 60 frames, i.e. 60 colors, whereas the SVG goes through the entire spectrum between the shade of pink used and the final green color.</li>\n <li>For looping animations like this one, it is generally best to avoid the color jump shown in the above animation, and create the animation so that it reverses once it reaches the green color; that way, it will transition smoothly back to pink and then start the second round of animation from there too, avoiding that unsightly color jump. \n <p> With CSS, you can reverse the animation using the <code>alternate</code> animation direction value. But with GIF, you will need to work on your number of frames and probably end up doubling it to make this happen; this will, of course, also increase the size of the image as well.\n </p></li>\n</ul>\n\n<p>The sizes of the two images shown above are:</p>\n\n<ul>\n <li>GIF image size: <strong>21.23KB</strong> </li>\n <li>SVG image size: <strong>0.355KB</strong> </li>\n</ul>\n\n<p>This is no trivial difference. But we all know we can optimize our images. So let&#x2019;s do that.</p>\n\n<p>Optimizing the SVG using the SVGO Drag-and-Drop GUI brings the SVG&#x2019;s file size down to <strong>0.249KB</strong>.</p>\n\n<p>To optimize the GIF, you can use one of the several GIF optimization tools online. I used <a href=\"http://ezgif.com/\">ezgif.com</a> to optimize the above image. (Other tools also exist; <a href=\"http://www.lcdf.org/gifsicle/\">gifsicle</a> is one of them.) The file size dropped down to <strong>19.91KB</strong>.</p>\n\n<p>There are many options you can choose from when optimizing GIF images. I optimized the above image so that the number of frames remains intact, using Lossy GIF compression, which <q>can reduce animated GIF file size by 30%&#x2014;50% at a cost of some dithering/noise.</q></p>\n\n<p>You can also optimize it by removing every nth frame; that can reduce the file size even further, but at the cost of the animation not being smooth anymore. And in the case of an animation like the case at hand, removing frames will make the change in color be \"jumpy\" and noticeable. </p>\n\n<p>Other optimization options are also available such as color reduction (which wouldn't be suitable for our color-dependent animation here) and transparency reduction. You can learn more about these options on the <a href=\"http://ezgif.com/\">ezgif.com</a> optimization page.</p>\n\n<p>To recap: If you want your GIF animation to be smooth, you&#x2019;re going to need more frames per second, and that will consequently increase the file size by a lot. Whereas with SVG, you&#x2019;re likely to maintain a much smaller file size. The above example is minimal, and I&#x2019;m sure there are better ones out there, but I wanted the most minimal example to show the difference between the two formats.</p>\n\n<p>Even if you were animating the above rectangle using JavaScript or even a JavaScript framework&#x2014;since animations on SVG don&#x2019;t work in IE, for example, the file size of that framework combined with that of the SVG is still likely to be smaller or at least equal to the size of the GIF image size. For example, using <a href=\"http://greensock.com\">GreenSock</a>&#x2019;s TweenLite, the size of the SVG with the library combined would be less than 13KB (which is still less than the size of the GIF), since TweenLite is 12KB minified. If you do end up with a size equal to that of the GIF, the other benefits of SVG will tip the scale and you will be getting more out of it.</p>\n\n<p>Some other JavaScript libraries exist that focus on certain animation tasks at a time, and come in impressivly small file sizes (&lt;5KB), such as <a href=\"https://github.com/lmgonzalves/segment/blob/gh-pages/dist/segment.min.js\">Segment</a> which is used to animate SVG paths to create line drawing effects. Segment is 2.72KB minified. That&#x2019;s not too shabby, is it?</p>\n\n<p>There can be exceptions, so you should always test. But given the nature of GIFs and how they work, you will likely find that SVG is a better option in most cases.</p>\n\n<p class=\"note\">Note: SVG Performance is not at its absolute best today, but this will hopefully change in the future. IE/MS Edge offer the best SVG rendering performance among all browsers today. Inspite of that, SVG animations will still look better than GIF animations, especially when you're tackling long animations, because the file size of the GIF&#x2014;assuming it&#x2019;s recorded at 60fps&#x2014;will have a negative impact on the overall page performance. Libraries like GreenSock also offer impressive performance as well. </p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">\n <ol>\n <li>GIF images are generally larger than SVG images. The more complex and longer the animation, the more frames are required to create it and therefore the bigger the file size and the more the negative impact on performance.</li>\n <li>Unless GIF animation plays at 60fps, the animation is going to be jagged and not smooth. Also, the more the number of frames per second, the bigger the file size, especially for longer animations.</li>\n </ol> \n <p><strong>Result:</strong> There will be a compromise that needs to be made. Either the GIF animation is smooth and the overall file and page size and performance is negatively affected, or the GIF animation will suffer with less frames. One form of performance is risked in both scenarios.</p>\n </td>\n <td class=\"average\">\n <p>SVG images take advantage of the browser optimizations when animating elements. Even though browser performance on SVG elements is still not at its best, animation will still perform better without having to make page performance compromises.</p>\n <p>\n SVG file size is still very reasonable, if not very small, compared to GIFs, even when certain animation libraries might be required to create cross-browser animations.\n </p>\n </td>\n </tr>\n</table>\n\n<h3>Maintaining &amp; Modifying Animations</h3>\n\n<p>..is a pain if you are using GIFs. You will need to use a graphics editor such as Photoshop or Illustrator or After Effects, to name a few. And if you're like me, then graphics editors are not where your skills shine, and you feel more at home when you make modifications in code, not in graphics editors.</p>\n\n<figure>\n <img src=\"http://sarasoueidan.com/images/svg-vs-gif--photoshop-frames.png\" alt=\"\">\n <figcaption>Screenshot of the animation timeline as created in Photoshop. The lower part shows a fraction of the frames created for the animation. Fore more complex animations, more frames are required. Also notice the layers panel. \n <p><small>Thanks to my designer friend <a href=\"http://twitter.com/WalterStephanie\">Stephanie Walter</a> for the PS animation tips.</small></p></figcaption>\n</figure>\n\n<p>What happens if you want to change your animation timing? or if you want to change the timing functions for one or multiple elements inside your image? or if you want to change the direction in which an element moves? What if you want to change the entire effect and have the elements in your image do something completely different?</p>\n\n<p>You will need to recreate the image or icon all over again. Any change requires you to jump into the graphics editor and work with frames and a frame-based UI. That would be like torture to developers, and a Mission Impossible for those of us who don&#x2019;t know our way around those editors enough to make these changes.</p>\n\n<p>With SVG, making any kind of change to the animation(s) is only a few lines of code away. </p>\n\n<p><strong>Conclusion (developer&#x2019;s perspective)</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">Maintaining and modifying GIF animations requires re-creating the image or resorting to a frame-based graphics editor&#x2019;s UI to do so, which is a problem for design-challenged developers.</td>\n <td class=\"win\">\n SVG animations can be changed and controlled right inside the SVG code&#x2014;or anywhere the animations are defined, usually using a few lines of code.\n </td>\n </tr>\n</table>\n\n<h2>File Size, Page Load Time &amp; Performance</h2>\n\n<p>In the previous section, we focused on the performance of the animation itself. In this one, I want to shed some light on the page performance as a whole and how it is affected by the image format choice you make.</p>\n\n<p>Fact: The bigger the file size, the more the negative impact on page load time and performance. With that in mind, let's see how using SVG instead of GIFs can help improve the overall page load time by looking at a more practical, real-world example. </p>\n\n<p>At my first SVG talk, 18 months ago, I mentioned how SVG can be used to replace animated GIFs and result in overall better page performance. In that talk, I provided a real-world example of a real-world web page that took advantage of what SVG has to offer and reaped the benefits: the <a href=\"http://sprout.is/\">Sprout</a> homepage.</p>\n\n<p>The Sprout homepage has two animated images that were initially created and displayed as GIFs. Two years ago, <a href=\"https://twitter.com/mfortress\">Mike Fortress</a> wrote <a href=\"http://oak.is/thinking/animated-svgs/\">an article on the Oak blog</a>, in which he explains how they recreated the animated GIFs, particularly the chart GIF (see image below) as an animated SVG image.</p>\n\n<figure>\n <img src=\"http://sarasoueidan.com/images/svg-vs-gif--sprout-chart.svg\" alt=\"\">\n <figcaption>\n The SVG version of the chart used on the Sprout homepage and written about on the Oak article. <small>(All rights reserved by their owners.)</small>\n </figcaption>\n</figure>\n\n<p>In his article, Mike shares some interesting insights on their new page performance as a result of making the switch to SVG:</p>\n\n<blockquote>\n <p>This chart, and one other animation on Sprout, were initially GIFs. By using animated SVGs instead of GIFs we were able to reduce our page size <strong>from 1.6 mb to 389 kb</strong>, and reduce our page load time <strong>from 8.75 s to 412 ms</strong>. That&#x2019;s a huge difference.</p>\n <cite>&#x2014;Mike Fortress, <a href=\"http://oak.is/thinking/animated-svgs/\">&#x201C;Animated SVGs: Custom Easing and Timing&#x201D;</a></cite>\n</blockquote>\n\n<p>A huge difference indeed.</p>\n\n<p>The Sprout chart is a perfect candidate for SVG. There is no reason to animate it by converting the animation into a GIF recording, when SVG can bring so much more benefits.</p>\n\n<p><a href=\"https://jakearchibald.com/\">Jake Archibald</a> realizes the power of SVG animations too, and uses them to create and animate interactive illustrations to complement his articles. His <a href=\"https://jakearchibald.com/2014/offline-cookbook/\">Offline Cookbook</a> article is an excellent example (and an excellent article, by the way). Could he have used GIFs to do that? Of course. But given the number of images he used, the GIFs could have easily increased the overall page size to a couple or few megabytes, with each GIF being at least hundreds of kilobytes in size; whereas <strong>the entire web page currently weighs at 128KB only with <em>all</em> the SVG images embedded inline</strong>, because <a href=\"http://sarasoueidan.com/blog/structuring-grouping=referencing-in-svg\">you can reuse elements in SVG</a>, so any repetitive elements will not only cause the entire page to <a href=\"http://sarasoueidan.com/blog/svg-optimization/\">gzip much, much better</a>, but for each page, the overall size of the SVGs becomes smaller. </p>\n\n<p>Now <em>that</em> is impressive.</p>\n\n<p>I will rest my case about page load and performance here. But it is still important to note that there <em>can</em> be exceptions. Again, in most cases, you&#x2019;re likely going to find that SVG is better than a GIF, but you&#x2019;ll always need to test anyway.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">GIF images are generally bigger in size than SVG images are with animations added to them. This negatively affects the overall page size, load times and performance.</td>\n <td class=\"win\">\n SVG images can be used and reused, as well as gzipped better, making their file sizes generally smaller than those of GIFs, thus improving page load times and performance.\n </td>\n </tr>\n</table>\n\n<h2>Browser Support</h2>\n\n<p>Probably the only absolute advantage to GIFs over SVGs is browser support. GIFs work pretty much everywhere, while SVG support is less global. Even though we have many <a href=\"https://css-tricks.com/a-complete-guide-to-svg-fallbacks/\">ways to provide fallback for non-supporting browsers</a>&#x2014;and current browser support should not be hindering anyone from using SVG, the fallback images, if provided as PNG or JPG, are going to be static, animation-less.</p>\n\n<p>Of course, you can always provide a GIF as a fallback to SVG, but the previously-mentioned considerations and disadvantages should be kept in mind.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"win\">GIF images work pretty much everywhere.</td>\n <td class=\"average\">\n SVG images have less global browser support, but they come with a lot of ways to provide fallback for non-supporting browsers.\n </td>\n </tr>\n</table>\n\n<h2>Accessibility Concerns (#a11y)</h2>\n\n<p>Move something on a page, or anywhere, for that matter, and you've instantly added a distraction&#x2014;something that is sure to grab a user&#x2019;s attention as soon as it starts moving. This is simply how the human brain works. This is also one of the reasons ad banners are so focused on&#x2014;and built with&#x2014;a strong focus on animation. This is also why animated ad banners are <strong>extremely annoying</strong>. They are distracting, especially when you're trying to perform a task on a page that requires your entire attention, such as reading an article.</p>\n\n<p>Now imagine a page with a set of animated icons (or images) that just won't stop animating no matter what you do. We&#x2019;re no longer talking about one or two images on a homepage or within an article here; we&#x2019;re talking about UI elements and controls, and smaller icons that are likely to be present in multiple places on a page, and on multiple pages. Unless your icon is <em>supposed</em> to be inifnitely animation&#x2014;for example, if it is a spinner animating during a user-inactive waiting phase, then it is likely to introduce a problem, and become more of an annoyance, than a &#x201C;nice thing&#x201D;.</p>\n\n<p>As a matter of fact, for some people it can become more of an annoyance, as continuous motion can literally make some people feel ill.</p>\n\n<p>In her article <a href=\"http://alistapart.com/article/designing-safer-web-animation-for-motion-sensitivity\">&#x201C;Designing Safer Web Animation For Motion Sensitivity&#x201D;</a>, designer and web animation consultant Val Head discusses the effects of overused animation on the web on people with visually-triggered vestibular disorders (emphasis mine):</p>\n\n<blockquote>\n <p>It&#x2019;s no secret that a lot of people consider scrolljacking and parallax effects annoying and overused. But what if motion does more than just annoy you? What if it also makes you ill?</p>\n <p>That&#x2019;s a reality that people with visually-triggered vestibular disorders have to deal with. As animated interfaces increasingly become the norm, more people have begun to notice that <strong>large-scale motion on screen can cause them dizziness, nausea, headaches, or worse. For some, the symptoms can last long after the animation is over.</strong> Yikes.</p>\n</blockquote>\n\n<p>Now imagine if the animation does <em>not</em> end... Double Yikes.</p>\n\n<p>Val&#x2019;s article explains the problem in more detail, as she gathers feedback from two people who actually have these problems and share their experience with animation in different examples.</p>\n\n<p>One of the solutions that can help avoid these problems is to <a href=\"http://alistapart.com/article/designing-safer-web-animation-for-motion-sensitivity#section10\">provide the user with the ability to control the animation</a> so that they can stop it when it gets disturbing.</p>\n\n<p>With SVG, you can do that. You can fully control the animation and play it once or twice on page load&#x2014;if you really need to have it play as soon as the user &#x201C;enters&#x201D; your page, and then fire it on hover for subsequent tweens, using nothing but a few lines of CSS or JavaScript. <strong>You do not need hundreds or thousands of lines of CSS or JavaScript to create an icon animation</strong>, unless your icon is a really complex scene with a lot of components that are animated inside of it. But I think that in that case, it does not count as an &#x201C;icon&#x201D; anymore, but more of a regular image.</p>\n\n<p>You can go even as far as control playback, speed for each consequent tween, and much more, assuming, of course, you are using JavaScript to gain this level of control. </p>\n\n<p>Or you can add a toggle to give the user the ability to stop an infinitely playing animation. You can&#x2019;t do that with GIFs... unless you opt for replacing the GIF with a static image upon a certain toggle action.</p>\n\n<p>Some might even argue that you could display a static version of the image&#x2014;as a PNG for example, and then provide the GIF version on hover. But this comes with a few problems of its own:</p>\n\n<ul>\n <li>If the images are inline, you&#x2019;ll need to replace these images using JavaScript. That action does not require any JavaScript if you are using SVG.</li>\n <li>If the images are foreground images (embedded in the HTML using <code>&lt;img&gt;</code>), and you need to replace these images, you will end up with double the amount of HTTP requests for every image. And if they are background images inlined in the style sheet (which is not recommended), the images (especially the GIFs) will add to the size of the style sheet and therefore to the overall render-blocking time of the page.</li>\n <li>If/when you switch image sources on hover, there is a noticable flash between the first and the second image on slower connections. My connection is slow; sometimes 3G-slow, and I have yet to remember a time when an image was replaced with another one on hover, viewport resize, or whatever, and not have seen that flash. This situation gets even worse when the second image (GIF loaded on hover) is fairly big in size&#x2014;there will be a flash, followed by a slow, janky animation of the GIF while it loads completely. That&#x2019;s never attractive.</li>\n</ul>\n\n<p>So, yes, you can switch image sources to control if or when the GIF animation plays, but you&#x2019;re losing the finer control over the GIF and affecting the user&#x2019;s experience with the UI.</p>\n\n<p>You are also able to control how many times the animation plays in the GIF&#x2014;which is pretty cool, but that means that the animation will play only <strong><em>n</em></strong> number of times. And then to re-fire the animation upon a user interaction, you will need to resort to the above technique with multiple images.</p>\n\n<p>Multiple images to maintain, multiple HTTP requests, and an overall hacky, non-optimal solution to what could have been easily achieved with one SVG image.</p>\n\n<ul>\n <li>Embed the <strong>one</strong> SVG image on the page.</li>\n <li>Create the animation any way you want/need. (Or create the animation before you embed the image.)</li>\n <li>Play, pause, control the animation; and give the user the ability to control it as well.</li>\n</ul>\n\n<p>No extra HTTP requests for every image, no complicated animation timeline maintenance in graphics editors, and no accessibility concerns or woes that cannot be avoided with a few lines of code.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"average\">GIF images cannot be stopped by the user without requiring extra images and extra HTTP requests. Even then, the control is not full.</td>\n <td class=\"win\">\n SVG animations can be fully customized so that they are enabled, disabled and controlled by the user without requiring any hacky approaches.\n </td>\n </tr>\n</table>\n\n<h3>Content Accessibility</h3>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"average\">GIF images are only as accessible as PNG and JPEG images are&#x2014;using an appropriate <code>alt</code> attribue value to describe them.\n <p>The content inside the image cannot be discerned or made directly accessible to screen readers beyond what the overall image description does.</p></td>\n <td class=\"win\">\n SVG images are accessible as well as semantic. The content inside the image that is being animated can also be described and made accessible to screen readers using SVG&#x2019;s built-in accessibility elements, and enhanced using ARIA roles and attributes as well. (You can read all about making SVgs accessible <a href=\"http://www.sitepoint.com/tips-accessible-svg/\">here</a>.)\n </td>\n </tr>\n</table>\n\n<h2>Interactivity</h2>\n\n<p>There&#x2019;s not much to add here but the fact that you can interact with individual elements inside an SVG, during, before or after an animation, but that is not possible with a GIF. So, if you use a GIF, you will lose the ability to do anything beyond triggering or stopping the animation, and even those are not really done inside the SVG, as we&#x2019;ve seen, but are achieved by swapping the GIF out with a static replacement. Even changing the colors of elements inside the GIF would require additional images to do so. That is yet another advantage to using SVG over GIFs.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"lose\">Animations defined in GIF images cannot be interactive. You cannot interact with individual elements inside a GIF element, nor create links out of individual elements either.</td>\n <td class=\"win\">\n SVG content is fully interactive. You can create hover and click interactions (and more) to which individual elements inside the SVG image can respond.\n </td>\n </tr>\n</table>\n\n<h2>Responsive &amp; Adaptive Animations</h2>\n\n<p>The ability to animate SVG directly from the code, as well as manipulate its many, many attributes, results in and adds yet another advantage over GIF-based animations: the ability to create responsive, adaptive and performant animations, without adding any extra HTTP requests, using a few lines of code, and with quite smaller file sizes.</p>\n\n<p>Sarah Drasner wrote <a href=\"http://www.smashingmagazine.com/2015/03/different-ways-to-use-svg-sprites-in-animation/\">an article on Smashing Magazine</a> showing different ways to animate SVG sprites. One of these ways is having multiple \"scenes\" inside an SVG, animating them with CSS, and then changing the SVG \"view\"&#x2014;by changing the value of <a href=\"http://sarasoueidan.com/blog/svg-coordinate-systems\">the <code>viewBox</code> attribute</a>&#x2014;to show one scene at a time, depending on the current viewport size and available screen estate. </p>\n\n<p>If you wanted to create the same animation using GIF images, you would lose the animation control capabilities as well as require multiple images which are probably going to be bigger (in file size) than the one SVG image.</p>\n\n<p>But if you don't want to go with animating SVG code, you could always create an SVG sprite and animate it the way you would animate any other image format&#x2014;using <code>steps()</code> and a few lines of CSS. Sarah also talks about this technique in her article. Animating SVG images does not need to be complicated, and is generally performant.</p>\n\n<p><strong>Conclusion</strong>:</p>\n\n<table>\n <tr class=\"th\">\n <td>GIF</td> <td>Animated SVG</td>\n </tr>\n <tr>\n <td class=\"average\">Given that content inside a GIF cannot be controlled with code, it is not possible to make the animations adapt or respond to viewport or context changes without resorting to seperate images.</td>\n <td class=\"win\">\n Given that SVG content is directly animatable using code, the content as well as its animations can be modified so that they respond and/or adapt to different viewport sizes and contexts, without having to resort to any additional assets.\n </td>\n </tr>\n</table>\n\n<h2>Final Words</h2>\n\n<p>GIFs have pretty good browser support, yes, but the advantages of SVGs outweigh theirs in almost every aspect. There might be exceptions, and in those cases do, by all means, use GIFs or any other image format that does a better job than SVG would. You might even use Video or HTML5 Canvas or whatever.</p>\n\n<p>SVG can bring a lot of performance benefits to the table when compared to other image formats, especially GIFs.</p>\n\n<p>Thus, given all of the above, I recommend that anywhere SVG could be used for animation, GIFs should be avoided. You&#x2019;re free to ignore my recommendation, of course, but you&#x2019;d be giving up on the many benefits that SVG animations offer.</p>\n\n<p>Unless GIFs show a lot of advantages over SVGs that go beyond browser support for IE8 and below, then I believe SVGs should be the way to go.</p>\n\n<p>A few resources to help you get started with SVG animations:</p>\n\n\n\n\nI hope you found this article useful.\n\n<p>Thank you for reading.</p>\n\n<p class=\"note\">Many thanks to Jake Archibald for reviewing and giving feedback to the article, and to Chris Lilley for his feedback re transparency in GIF images. It wouldn&#x2019;t have been so comprehensive (read: ridiculously long) without their feedback. ^^</p>\n\n\n \n\n\n \n\n \n <ul class=\"tags tags--post\">\n <p>Find similar articles under: \n \n \n </p><li><a href=\"http://sarasoueidan.com/tags/svg/index.html\">svg</a></li>\n \n \n <li><a href=\"http://sarasoueidan.com/tags/animation/index.html\">animation</a></li>\n \n \n <li><a href=\"http://sarasoueidan.com/tags/design/index.html\">design</a></li>\n \n \n <li><a href=\"http://sarasoueidan.com/tags/accessibility/index.html\">accessibility</a></li>\n \n </ul>\n </section>\n\n \n\n</div>"
    }, {
        "title": "The HTML5 Media Framework",
        "url": "http://popcornjs.org/",
        "excerpt": "About Popcorn.js is an HTML5 media framework written in JavaScript for filmmakers, web developers, and anyone who wants to create time-based interactive media on the web. Popcorn.js is part of&hellip;",
        "date_saved": "Thu Jul 28 20:13:37 EDT 2016",
        "html_file": "the_html5_media_framework.html",
        "png_file": "the_html5_media_framework.png",
        "md_file": "the_html5_media_framework.md",
        "content": "<div class=\"home page page-id-115 page-template page-template-page-home-php\">\n<div id=\"wrapper\" class=\"hfeed\">\n \n\n <div id=\"main\">\n <div id=\"container\" class=\"wide\">\n <div id=\"content\">\n\n\n <div id=\"post-115\" class=\"post-115 page type-page status-publish hentry\">\n <div class=\"entry-content panel\">\n\t <video id=\"video\"><source src=\"http://videos.mozilla.org/serv/webmademovies/wtfpopcorn.mp4\" type=\"video/mp4\"><source src=\"http://videos.mozilla.org/serv/webmademovies/wtfpopcorn.webm\" type=\"video/webM\"><source src=\"http://videos.mozilla.org/serv/webmademovies/wtfpopcorn.ogv\" type=\"video/ogg\"></source></source></source></video>\n </div>\n </div>\n\n <h3 class=\"fancy\">About</h3>\n <p>Popcorn.js is an HTML5 media framework written in JavaScript for filmmakers, web developers, and anyone who wants to create time-based interactive media on the web. Popcorn.js is part of <a href=\"http://mozillapopcorn.org/\">Mozilla's Popcorn</a> project.</p> \n\n <h3 class=\"fancy\">Other Demos</h3>\n\t\t\t\t<div id=\"demo-reel\">\n\t\t\t\t\t<div id=\"demo-viewline\">\n \t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-682\" class=\"post-682 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2012/04/knowyourexit.png\" class=\"attachment-large wp-post-image\" alt=\"knowyourexit\" title=\"knowyourexit\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/know-your-exit\">Know Your Exit</a></h3><p>A Crowdsourced Music/Visual Composition. <a href=\"http://popcornjs.org/demo/know-your-exit\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-680\" class=\"post-680 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2012/04/quickpreso.png\" class=\"attachment-large wp-post-image\" alt=\"quickpreso\" title=\"quickpreso\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/quickpreso\">QuickPreso</a></h3><p>A tool for rapid prototyping slide presentations in HTML5</p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-678\" class=\"post-678 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2012/04/mauxdepresse.png\" class=\"attachment-large wp-post-image\" alt=\"mauxdepresse\" title=\"mauxdepresse\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/maux-de-presse\">Maux De Presse</a></h3><p>A french documentary about freedom of press in France. The footage has been captured by students of the photojournalism class of the emi-cfd school in Paris. <a href=\"http://popcornjs.org/demo/maux-de-presse\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-676\" class=\"post-676 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2012/04/zaragoza.png\" class=\"attachment-large wp-post-image\" alt=\"zaragoza\" title=\"zaragoza\"></div>\n\t \n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-659\" class=\"post-659 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"570\" src=\"http://popcornjs.org/wp-content/uploads/2012/01/openimages.png\" class=\"attachment-large wp-post-image\" alt=\"openimages\" title=\"openimages\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/open-images-open-data\">Open Images, Open Data</a></h3><p>\u201cThe demo shows how you can play a video in an enriched context, by linking open data sources to terms that are found in speech transcripts rendered from videos. For the Code Camping event, organized by Open Cultuur Data (Open Cultural Data) I extended the demo with newly linked data sets.\u201d <a href=\"http://popcornjs.org/demo/open-images-open-data\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-657\" class=\"post-657 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2012/01/texmix.png\" class=\"attachment-large wp-post-image\" alt=\"texmix\" title=\"texmix\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/texmex\">TexMex</a></h3><p>A demonstration of various technologies developed by the TexMex team (INRIA \u2013 France), using Popcorn to display automatic chaptering information and named entities detection of news bulletins <a href=\"http://popcornjs.org/demo/texmex\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-650\" class=\"post-650 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"515\" src=\"http://popcornjs.org/wp-content/uploads/2012/01/DDR3.png\" class=\"attachment-large wp-post-image\" alt=\"DDR\" title=\"DDR\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/ddr-flusterwitze\">DDR-Fl\u00fcsterwitze</a></h3><p>This multimedia feature about political jokes in former Eastern Germany / GDR uses Popcorn.js to show further links, context and subtitles in the video. (German) <a href=\"http://popcornjs.org/demo/ddr-flusterwitze\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-633\" class=\"post-633 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2011/12/asciifii.png\" class=\"attachment-large wp-post-image\" alt=\"asciifii\" title=\"asciifii\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/asciifi\">ASCIIFI</a></h3><p>Uses the Popcorn code plugin to execute an ascii art generator at key moments in a video. <a href=\"http://popcornjs.org/demo/asciifi\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-631\" class=\"post-631 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2011/12/18days2.png\" class=\"attachment-large wp-post-image\" alt=\"18days2\" title=\"18days2\"></div>\n\t <div class=\"caption\"><h3><a href=\"http://popcornjs.org/demo/18-days-in-egypt-demo-2\">18 days in egypt demo #2</a></h3><p>Uses the January 28th speech by Hosni Mubarak as a launch pad for events surrounding the Egyptian revolution. <a href=\"http://popcornjs.org/demo/18-days-in-egypt-demo-2\"><br></a></p>\n</div>\n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\n\t\t\t\t\t\t\t\t \t<div id=\"post-629\" class=\"post-629 demo type-demo status-publish hentry box\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"demo-image-container\"><img width=\"640\" src=\"http://popcornjs.org/wp-content/uploads/2011/12/shakespeare1.png\" class=\"attachment-large wp-post-image\" alt=\"shakespeare\" title=\"shakespeare\"></div>\n\t \n\t </div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n \t\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n <a class=\"right\" href=\"http://popcornjs.org/demos\">View More Demos \u2192</a>\n\n\n\n\n </div>\n </div>\n\n </div>\n</div>\n\n \n\n\n\n\n <a href=\"https://github.com/mozilla/popcorn-js\"><img src=\"http://popcornjs.org/wp-content/themes/Opensource-Wordpress-Theme/img/github-left.png\" alt=\"Fork me on GitHub\"></a>\n \n</div>"
    }, {
        "title": "jQuery webcam plugin",
        "url": "http://www.xarg.org/project/jquery-webcam-plugin/",
        "excerpt": "The jQuery webcam plugin is a transparent layer to communicate with a camera directly in JavaScript. Overview This plugin provides three different modes to access a webcam through a small API&hellip;",
        "date_saved": "Thu Jul 28 20:13:38 EDT 2016",
        "html_file": "jquery_webcam_plugin.html",
        "png_file": "jquery_webcam_plugin.png",
        "md_file": "jquery_webcam_plugin.md",
        "content": "<div><article>\n\n\n\n\n<p>The jQuery webcam plugin is a transparent layer to communicate with a camera directly in JavaScript.</p>\n\n<h2>Overview</h2>\n<p>This plugin provides three different modes to access a webcam through a small <abbr title=\"Application Programming Interface\">API</abbr> directly with JavaScript - or more precisely jQuery. Thus, it is possible to bring the image on a Canvas (callback mode), to store the image on the server (save mode) and to stream the live image of the Flash element on a Canvas (stream mode). If you just want to download the plugin, click here:</p>\n<div class=\"button\"><a href=\"https://github.com/infusion/jQuery-webcam\" class=\"view\">Download the jQuery webcam plugin</a></div>\n\n<h2>jQuery webcam example</h2>\n\n\n\n<div id=\"webcam\">\n\t<img src=\"http://www.xarg.org/image/antenna.png\" alt=\"\">\n\t<span>jQuery</span>\n\t<div><a><img src=\"http://www.xarg.org/image/icon_filter.png\" alt=\"\"></a></div>\n</div>\n\n<p><a href=\"\">Take a picture after 3 seconds</a> | <a href=\"\">Take a picture instantly</a></p>\n\n\n\n<h3>Available Cameras</h3>\n\n\n\n\n\n<p>If you activate the filter with the button on the right side of the picture, methods of my already published <a href=\"http://www.xarg.org/project/jquery-color-plugin-xcolor/\">jQuery plugin xcolor</a> will be used to distort the colors of the Canvas.</p>\n\n<h2>General information about the interface</h2>\n\n<p>The following snippet describes the interface of the webcam API:</p>\n\n<pre class=\"prettyprint\">$(\"#camera\").webcam({\n\twidth: 320,\n\theight: 240,\n\tmode: \"callback\",\n\tswffile: \"/download/jscam_canvas_only.swf\",\n\tonTick: function() {},\n\tonSave: function() {},\n\tonCapture: function() {},\n\tdebug: function() {},\n\tonLoad: function() {}\n});</pre>\n\n<h3>Config Parameter</h3>\n\n<p><strong>width</strong><br>\nThe width of the flash movie.\n</p>\n<p><strong>height</strong><br>\nThe height of the flash movie. Both parameters have to be changed in the Flash file as well. Follow the instructions below to recompile the swf after the size change.\n</p>\n<p><strong>mode</strong><br>\nThe storage mode can be one of the following: <em>callback</em>, <em>save</em>, <em>stream</em>. Details about the usage of each parameter can be found under the according heading below.\n</p>\n<p><strong>swffile</strong><br>\nPoints to the swf file of the Flash movie, which provides the webcam API. There are two swf files provided via the download archive: <strong>jscam.swf</strong>, which provides the full API and <strong>jscam_canvas_only.swf</strong> which have no embedded JPEG library (I embedded an adjusted JPGEncoder of the <a href=\"http://code.google.com/p/as3corelib/\">AS 3 corelib</a>). Thereby, the file is only one third as large as the original.</p>\n<p><strong>onTick</strong>, <strong>onSave</strong>, <strong>onCapture</strong><br>\nThese callbacks are described in detail below, since they change with each mode.\n</p>\n\n<p><strong>onLoad</strong><br>\nThe <em>onLoad</em> callback is called as soon as the registration of the interface is done. In the example above, I use the callback to get a list of all cameras available:\n</p>\n<pre class=\"prettyprint\">onLoad: function() {\n\n var cams = webcam.getCameraList();\n for(var i in cams) {\n jQuery(\"#cams\").append(\"&lt;li&gt;\" + cams[i] + \"&lt;/li&gt;\");\n }\n}</pre>\n<p>Once the <em>onLoad</em> callback is called, a global object <strong>window.webcam</strong> is available, which provides the following methods:</p>\n<ul>\n<li><strong>capture(<em>[delay]</em>)</strong><br>Captures an image internally.</li>\n<li><strong>save(<em>[file]</em>)</strong><br>Saves the captured image accordingly to the storage mode.</li>\n<li><strong>getCameraList()</strong><br>Get's an array of available cameras. If no camera is installed, an error is thrown and an empty array is returned.</li>\n<li><strong>setCamera(<em>[index]</em>)</strong><br>Switches to a different camera. The parameter is the index of the element in the resulting array of <em>getCameraList()</em></li>\n</ul>\n<p><strong>debug</strong><br>\nThe <em>debug</em> callback is called whenever there is a note or an error you should be notified. In the example above, I just replace the html content of the output container:\n</p>\n<pre class=\"prettyprint\">debug: function (type, string) {\n\t$(\"#status\").html(type + \": \" + string);\n}</pre>\n\n<h2>Callback Interface</h2>\n\n<p>The callback mode is used to get the raw data via a callback method to write it on a canvas element for example. The example above uses the callback mode.</p>\n\n<p>As for the processing, one can imagine how it works as follows: Once the user has completely loaded the entire page and has accepted the security setting of Flash, she should be able to see herself. Then, the user triggers the method <em>window.capture()</em>. This may optionally receive a parameter that specifies the time to wait until the image is shot. To view the passage of time, the method <em>onTick()</em> is called after every second. The received parameter of this method is the amount of seconds remaining. In the example above, I simply change the status message like this:</p>\n\n<pre class=\"prettyprint\">onTick: function(remain) {\n\n if (0 == remain) {\n jQuery(\"#status\").text(\"Cheese!\");\n } else {\n jQuery(\"#status\").text(remain + \" seconds remaining...\");\n }\n}</pre>\n\n<p>Is copying finished, the <em>onCapture</em> callback is called, which in the example of above immediately calls the method <em>webcam.save()</em> to ultimately write the image to the canvas. The sample code also contains a small gimmick to <strong>simulate a flash</strong> using a lightbox and jQuery's <em>fadeOut()</em> fx method.</p>\n\n<pre class=\"prettyprint\">onCapture: function () {\n\n\tjQuery(\"#flash\").css(\"display\", \"block\");\n\tjQuery(\"#flash\").fadeOut(\"fast\", function () {\n\t\tjQuery(\"#flash\").css(\"opacity\", 1);\n\t});\n\n\twebcam.save();\n}</pre>\n\n<p>In callback mode, for every line the callback <em>onSave()</em> is invoked, which gets an integer CSV of color values (separator is the semicolon). To write the data on the canvas, I use the following method in the example above:</p>\n\n<pre class=\"prettyprint\">onSave: function(data) {\n\n var col = data.split(\";\");\n var img = image;\n\n for(var i = 0; i \n\n<h2>Save Interface</h2>\n<p>From the view of processing, the save mode is almost identical to the callback mode. The only difference is that the <em>webcam.save()</em> method get's the file name passed as parameter. Then the shot photo is sent via <strong>HTTP_RAW_POST_DATA</strong> to the server and can be read for example with the following snippet to store or further process it in any way (Warning, input validation is not considered here!).</p>\n\n<pre class=\"prettyprint\">webcam.save('/upload.php');</pre>\n\n<p>And on the server side, you get the image like this:</p>\n\n<pre class=\"prettyprint\">&lt;?php\n\n$str = file_get_contents(\"php://input\");\nfile_put_contents(\"/tmp/upload.jpg\", pack(\"H*\", $str));\n\n?&gt;</pre>\n\n<h3>Alternative method to the upload via Flash</h3>\n\n<p>The Flash method has several problems. The implementation can lock the entire Flash movie and in the worst case the whole browser until the picture was uploaded sucessfully. A better approach is Ajax to upload the image asynchronously. Take a look at this example. It uploads a simple picture CSV if canvas elements are not implemented in the browser and sends a data url formatted string otherwise:</p>\n\n<pre class=\"prettyprint\">\n$(function() {\n\n\tvar pos = 0, ctx = null, saveCB, image = [];\n\n\tvar canvas = document.createElement(\"canvas\");\n\tcanvas.setAttribute('width', 320);\n\tcanvas.setAttribute('height', 240);\n\t\n\tif (canvas.toDataURL) {\n\n\t\tctx = canvas.getContext(\"2d\");\n\t\t\n\t\timage = ctx.getImageData(0, 0, 320, 240);\n\t\n\t\tsaveCB = function(data) {\n\t\t\t\n\t\t\tvar col = data.split(\";\");\n\t\t\tvar img = image;\n\n\t\t\tfor(var i = 0; i &lt; 320; i++) {\n\t\t\t\tvar tmp = parseInt(col[i]);\n\t\t\t\timg.data[pos + 0] = (tmp &gt;&gt; 16) &amp; 0xff;\n\t\t\t\timg.data[pos + 1] = (tmp &gt;&gt; 8) &amp; 0xff;\n\t\t\t\timg.data[pos + 2] = tmp &amp; 0xff;\n\t\t\t\timg.data[pos + 3] = 0xff;\n\t\t\t\tpos+= 4;\n\t\t\t}\n\n\t\t\tif (pos &gt;= 4 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 320 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 240) {\n\t\t\t\tctx.putImageData(img, 0, 0);\n\t\t\t\t$.post(\"/upload.php\", {type: \"data\", image: canvas.toDataURL(\"image/png\")});\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t};\n\n\t} else {\n\n\t\tsaveCB = function(data) {\n\t\t\timage.push(data);\n\t\t\t\n\t\t\tpos+= 4 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 320;\n\t\t\t\n\t\t\tif (pos &gt;= 4 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 320 _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy 240) {\n\t\t\t\t$.post(\"/upload.php\", {type: \"pixel\", image: image.join('|')});\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t};\n\t}\n\n\t$(\"#webcam\").webcam({\n\n\t\twidth: 320,\n\t\theight: 240,\n\t\tmode: \"callback\",\n\t\tswffile: \"/download/jscam_canvas_only.swf\",\n\n\t\tonSave: saveCB,\n\n\t\tonCapture: function () {\n\t\t\twebcam.save();\n\t\t},\n\n\t\tdebug: function (type, string) {\n\t\t\tconsole.log(type + \": \" + string);\n\t\t}\n\t});\n\n});\n</pre>\n\n<p>The server could then do something like this:</p>\n\n<pre class=\"prettyprint\">&lt;?php\n\nif ($_POST['type'] == \"pixel\") {\n\t// input is in format 1,2,3...|1,2,3...|...\n\t$im = imagecreatetruecolor(320, 240);\n\n\tforeach (explode(\"|\", $_POST['image']) as $y =&gt; $csv) {\n\t\tforeach (explode(\";\", $csv) as $x =&gt; $color) {\n\t\t\timagesetpixel($im, $x, $y, $color);\n\t\t}\n\t}\n} else {\n\t// input is in format: data:image/png;base64,...\n\t$im = imagecreatefrompng($_POST['image']);\n}\n\n// do something with $im\n\n?&gt;</pre>\n\n<h2>Stream interface</h2>\n<p>The stream mode is also quite the same procedure as the callback mode, with the difference that the <em>onSave</em> callback is called non-stop. The streaming starts with the method <em>webcam.capture()</em>. The <em>webcam.save()</em> method has no further effect.</p>\n\n<h2>Recompile the Flash binary</h2>\n<p>If you've made changes to the code or did just adjust the size of the video in the XML specification file, you can easily recompile the swf file from Linux console with the provided Makefile. You are required to install the two open source projects <strong>swfmill</strong> and <strong>mtasc</strong> that can be easily installed using apt-get under Debian/Ubuntu:</p>\n<pre>apt-get install swfmill mtasc\nvim src/jscam.xml\nmake</pre>\n<h3>Hint about empty screens after recompilation</h3>\n<p>There is a bug in the current version of swfmill. Please try to downgrade swfmill to <strong>2.0.12</strong>, which fixes the issue!</p></pre></article></div>"
    }, {
        "title": null,
        "url": null,
        "excerpt": null,
        "date_saved": "Thu Jul 28 20:13:40 EDT 2016",
        "html_file": "null.html",
        "png_file": "null.png",
        "md_file": "null.md",
        "content": null
    }, {
        "title": "Just a Flexbox Grid System",
        "url": "http://gridlex.devlint.fr/",
        "excerpt": "Simple. Robust. Responsive. Flexible. How it works? The concept is simple: you need to wrap your .col in a .grid. That's all. You prefer a visual demo? What can we expect? Basically each column is&hellip;",
        "date_saved": "Thu Jul 28 20:13:41 EDT 2016",
        "html_file": "just_a_flexbox_grid_system.html",
        "png_file": "just_a_flexbox_grid_system.png",
        "md_file": "just_a_flexbox_grid_system.md",
        "content": "<div><div class=\"demoPage\">\n <section>\n <div class=\"grid-2_xs-1\">\n <div class=\"col\">\n <h2>Simple. Robust. Responsive. Flexible.</h2>\n <h3>How it works?</h3>\n <p>The concept is simple: <br> you need to wrap your <code>.col</code> in a <code>.grid</code>. </p>\n <p>That's all.</p>\n <p><a href=\"http://gridlex.devlint.fr/cards.html\">You prefer a visual demo?</a></p>\n </div>\n \n <p class=\"col-12\">\n <h3>What can we expect?</h3>\n <ul class=\"grid-3_sm-2_xs-1\">\n <li class=\"col\">Basically each column is the same width as every other cell in the grid.</li>\n <li class=\"col\">But you can add sizing classes to individual columns.</li>\n <li class=\"col\">For responsive designs, you can add classes based on media-queries.</li>\n <li class=\"col\">Top, bottom, or middle. For the grid. And for the columns.</li>\n <li class=\"col\">Grids can be nested. Always. Directly in a column.</li>\n </ul>\n </p>\n </div>\n </section>\n\n <section>\n\n \n <h2>1. The basic. Just add a class <code>.grid-*</code> (from -1 to -12)</h2>\n <p><strong>This feature is so simple, but we find it very very rarely in a robust and flexible grid!</strong> <br>\n Why should we be required to put sizing classes on every single cell when they all have the same width? </p>\n <p>In this ways, you will always have the specified number of columns in a row:</p>\n \n \n \n \n \n \n \n \n \n \n \n \n <p><em>But what happens if we have more than 3 columns in a <code>.grid-3</code> ?</em><br>This:</p>\n\n <div class=\"grid-3_xs-1\">\n \n \n \n \n \n \n \n \n \n \n </div>\n<pre><code>&lt;div class=\"grid-3_xs-1\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>2. The precise. Compose cell by cell (with class like <code>.col-*</code>)</h2>\n <h3>See <a href=\"http://gridlex.devlint.fr/#documentation\">documentation</a> to have the list of availlable classes</h3>\n\n <div class=\"grid\">\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n </div>\n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-12\"&gt;...&lt;/div&gt; &lt;!-- first row: one column --&gt;\n &lt;div class=\"col-6\"&gt;...&lt;/div&gt; &lt;!-- second row: three columns (6+3+3) --&gt;\n &lt;div class=\"col-3\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-3\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>3. The automatic. Just add number of cells you want in the grid (<code>.grid &gt; .col</code>):</h2>\n <p>Auto width columns, no size on cells ! <br> That's a pretty cool feature of flex: the number determines the width (size = grid/cells children).</p>\n <p><em>Tip: Keep in mind that in this way, your grid will only be a row!</em></p>\n\n <p>So here we have a grid with one column...</p>\n \n <p>... another one with four columns...</p>\n \n <p>... and last a grid with ... nine columns?</p>\n <div class=\"grid_xs-4\">\n \n \n \n \n \n \n \n \n \n </div>\n\n<pre><code>&lt;div class=\"grid\"&gt; &lt;!-- Four &lt;div class=\"col\"&gt; for 4 columns in the grid --&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>Did I mention that you can mix the 3 ways?</h2>\n <div class=\"grid-6_sm-2\">\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n </div>\n<pre><code>&lt;div class=\"grid-6_sm-2\"&gt;\n &lt;!-- first row --&gt;\n &lt;div class=\"col-8_sm-12\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;!-- second row --&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-5_sm-6\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-1_sm-4\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;!-- third row --&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n \n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2_sm-12\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-6_sm-12\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n <h2>We can have a grid without gutter too:</h2>\n <div class=\"grid-noGutter-equalHeight withBorder\">\n \n \n \n \n \n \n \n \n \n </div>\n<pre><code>&lt;div class=\"grid-noGutter\"&gt;\n &lt;div class=\"col-12\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-6\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-6\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-4\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-8\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-3\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-9\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-1\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-11\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>... and nesting in the grid:</h2>\n <div class=\"grid\">\n \n <div class=\"col-6_sm-12\"><p class=\"demo-explain\">Each column can become a grid too (<code>.col-6.grid</code>)</p></div>\n \n <div class=\"col-6_sm-12 grid\">\n \n <div class=\"col-8 grid\">\n \n \n \n \n \n </div>\n </div>\n </div>\n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-6\"&gt;\n col-6\n &lt;/div&gt;\n &lt;div class=\"col-6 grid\"&gt;\n &lt;div class=\"col-4\"&gt;\n col-4\n &lt;/div&gt;\n &lt;div class=\"col-8 grid\"&gt;\n &lt;div class=\"col-6\"&gt;\n col-6\n &lt;/div&gt;\n &lt;div class=\"col-6\"&gt;\n col-6\n &lt;/div&gt;\n &lt;div class=\"col-4\n col-4\n &lt;/div&gt;\n &lt;div class=\"col-4\"&gt;\n col-4\n &lt;/div&gt;\n &lt;div class=\"col-4\"&gt;\n col-4\n &lt;/div&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n </section>\n\n <section>\n <h2>Horizontal alignment</h2>\n \n \n \n<pre><code>&lt;div class=\"grid-3\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"grid-3-center\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"grid-3-right\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>Vertical alignment on the grid: top</h2>\n <div class=\"grid\">\n \n <div class=\"col\">\n <div class=\"demo\">\n <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta, dolorum eius esse id labore odit placeat tempora! Alias aliquam aut eaque nulla repudiandae, temporibus voluptatum.</p>\n </div>\n </div>\n \n </div>\n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>Vertical alignment on the grid: middle</h2>\n <div class=\"grid-middle\">\n \n <div class=\"col\">\n <div class=\"demo\">\n <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta, dolorum eius esse id labore odit placeat tempora! Alias aliquam aut eaque nulla repudiandae, temporibus voluptatum.</p>\n </div>\n </div>\n \n </div>\n<pre><code>&lt;div class=\"grid-middle\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>Vertical alignment on the grid: bottom</h2>\n \n<pre><code>&lt;div class=\"grid-bottom\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h2>Vertical alignment on the column: grid-middle &amp; mixed columns</h2>\n <div class=\"grid-4-middle\">\n \n <div class=\"col\">\n <div class=\"demo\">\n <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aperiam architecto aut, commodi deserunt dicta eligendi error incidunt inventore maiores mollitia officiis placeat quibusdam tempora unde veritatis vero voluptas. Ab consectetur delectus nam. Ab animi aspernatur, deserunt eos et, inventore iure laboriosam laborum minus nam nihil quae tempore tenetur ullam.</p>\n </div>\n </div>\n \n \n </div>\n<pre><code>&lt;div class=\"grid-4-middle\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-bottom\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-top\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n </section>\n\n <section>\n <h2>Reverse, order and other things</h2>\n\n <h3>Normal flow</h3>\n \n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col\"&gt;A&lt;/div&gt;\n &lt;div class=\"col\"&gt;B&lt;/div&gt;\n &lt;div class=\"col\"&gt;C&lt;/div&gt;\n &lt;div class=\"col\"&gt;D&lt;/div&gt;\n &lt;div class=\"col\"&gt;E&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h3>Reverse flow</h3>\n \n<pre><code>&lt;div class=\"grid-reverse\"&gt;\n &lt;div class=\"col\"&gt;A&lt;/div&gt;\n &lt;div class=\"col\"&gt;B&lt;/div&gt;\n &lt;div class=\"col\"&gt;C&lt;/div&gt;\n &lt;div class=\"col\"&gt;D&lt;/div&gt;\n &lt;div class=\"col\"&gt;E&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h3>Normal flow with ordering (first / last)</h3>\n \n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-last\"&gt;A&lt;/div&gt;\n &lt;div class=\"col\"&gt;B&lt;/div&gt;\n &lt;div class=\"col\"&gt;C&lt;/div&gt;\n &lt;div class=\"col\"&gt;D&lt;/div&gt;\n &lt;div class=\"col-first\"&gt;E&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h3>No gutter? Equal-height?</h3>\n <div class=\"grid-noGutter-equalHeight withBorder\">\n \n <div class=\"col\">\n <div class=\"demo\">\n <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas laboriosam inventore minima facere possimus quisquam.</p>\n </div>\n </div>\n \n \n </div>\n<pre><code>&lt;div class=\"grid-noGutter-equalHeight\"&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n &lt;div class=\"col\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n </section>\n\n <section>\n <h2>Distribution</h2>\n <h3>Horizontal distribution (grid-spaceBetween)</h3>\n <p>If you add <code>spaceBetween</code> class, the distribution will have no margin around first and last elements :</p>\n \n<pre><code>&lt;div class=\"grid-spaceBetween\"&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h3>Horizontal distribution (spaceAround)</h3>\n <p>If you add <code>grid-spaceAround</code> class, the distribution will have margins around first and last elements :</p>\n \n<pre><code>&lt;div class=\"grid-spaceAround\"&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n <h3>Horizontal distribution (width grid-center)</h3>\n \n<pre><code>&lt;div class=\"grid-center\"&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;...&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n\n <div class=\"grid-2_md-1\">\n <div class=\"col\">\n <h3>Columns</h3>\n \n<pre><code>&lt;div class=\"grid-column\"&gt;\n &lt;div class=\"col-4\"&gt;A&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;B&lt;/div&gt;\n &lt;div class=\"col-6\"&gt;C&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n </div>\n <div class=\"col\">\n <h3>Columns-reverse</h3>\n \n<pre><code>&lt;div class=\"grid-column-reverse\"&gt;\n &lt;div class=\"col-4\"&gt;A&lt;/div&gt;\n &lt;div class=\"col-2\"&gt;B&lt;/div&gt;\n &lt;div class=\"col-6\"&gt;C&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n </div>\n </div>\n </section>\n\n <section>\n <h2>Offset: push a col from left or from right</h2>\n \n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-6 off-6-left\"&gt;col-6 off-6-left&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n \n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-4\"&gt;col-6 off-6-left&lt;/div&gt;\n &lt;div class=\"col-4 off-4-left\"&gt;col-4 off-4-left&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n <div class=\"grid\">\n \n \n \n \n \n \n \n \n \n </div>\n<pre><code>&lt;div class=\"grid\"&gt;\n &lt;div class=\"col-2 off-2-left\"&gt;col-2 off-2-left&lt;/div&gt;\n &lt;div class=\"col-2 off-2-left\"&gt;col-2 off-2-left&lt;/div&gt;\n &lt;div class=\"col-2 off-2-left\"&gt;col-2 off-2-left&lt;/div&gt;\n\n &lt;div class=\"col-2 off-2-right\"&gt;col-2 off-2-right&lt;/div&gt;\n &lt;div class=\"col-2 off-2-right\"&gt;col-2 off-2-right&lt;/div&gt;\n &lt;div class=\"col-2 off-2-right\"&gt;col-2 off-2-right&lt;/div&gt;\n\n &lt;div class=\"col-2&lt;/div&gt;\n &lt;div class=\"col-6 off-1-left off-1-right\"&gt;col-6 off-1-left off-1-right&lt;/div&gt;\n &lt;div class=\"col-2&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n </section>\n\n\n <section class=\"doc\">\n \n <h2>Grid &amp; associated classes</h2>\n <pre class=\"doc\"><code>.grid\n -* (1 to 12)\n _xs-* (1 to 12)\n _sm-* (1 to 12)\n _md-* (1 to 12)\n _lg-* (1 to 12)\n\n -center\n -right\n -middle\n -bottom\n -spaceBetween\n -spaceAround\n\n -reverse\n -column\n -column-reverse\n\n -noGutter\n -equalHeight</code></pre>\n\n <h2>Columns &amp; associated classes: </h2>\n <pre class=\"doc\"><code>.col\n -* (1 to 12)\n _xs-* (1 to 12)\n _sm-* (1 to 12)\n _md-* (1 to 12)\n _lg-* (1 to 12)\n i.e. &lt;div class=\"col-12_lg-8_md-6_sm-3_xs-1\"&gt;...&lt;/div&gt;\n\n .col-first\n .col-last</code></pre>\n\n <h2>Offsets: with left=\"\" and right=\"\" attribute</h2>\n<pre class=\"doc\"><code> .off-* (0 to 11)\n _xs-* (0 to 11)\n _sm-* (0 to 11)\n _md-* (0 to 11)\n _lg-* (0 to 11)\n\n -0: reboot the offset (can be usefull in responsive mode with key-suffixes)</code></pre>\n\n <h2>Gridlex and media-queries</h2>\n <h3>Because of responsive, you need sometimes to change the size of columns: with this keys as classes you can control your layout by media-queries.</h3>\n <div class=\"bs-callout\">\n <table>\n <thead>\n <tr>\n <th>CSS Media Query</th>\n <th>Applies</th>\n <th>Usage</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td><code>@media screen and (max-width: 35.5em)</code></td>\n <td>Max 568px</td>\n <td><code><b>_xs</b>-*</code></td>\n </tr>\n <tr>\n <td><code>@media screen and (max-width: 48em)</code></td>\n <td>Max 768px</td>\n <td><code><b>_sm</b>-*</code></td>\n </tr>\n <tr>\n <td><code>@media screen and (max-width: 64em)</code></td>\n <td>Max 1024px</td>\n <td><code><b>_md</b>-*</code></td>\n </tr>\n <tr>\n <td><code>@media screen and (max-width: 80em)</code></td>\n <td>Max 1280px</td>\n <td><code><b>_lg</b>-*</code></td>\n </tr>\n </tbody>\n </table>\n </div>\n </section>\n\n <h2>When \"Can I use\" Gridlex?</h2>\n \n</div>\n</div>"
    }, {
        "title": "booking.js",
        "url": "http://booking.timekit.io/",
        "excerpt": "Integrate it seamless into your brand and in the context that makes sense. It's as easy as adding a javascript snippet to your page markup.No need to maintain another calendar. We hook into your&hellip;",
        "date_saved": "Thu Jul 28 20:13:43 EDT 2016",
        "html_file": "bookingjs.html",
        "png_file": "bookingjs.png",
        "md_file": "bookingjs.md",
        "content": "<div><div class=\"body\"><div class=\"w-section section section-home\"><div class=\"w-container\"><div class=\"w-row row row-features\"><div class=\"w-col w-col-4 column\"><div class=\"icon-wrap\"><img src=\"https://daks2k3a4ib2z.cloudfront.net/561b940c607fbeba27c78ae6/5624bd41468ce6455493bda9_icon-embed.png\" class=\"icon\"></div><p class=\"paragraph\">Integrate it seamless into your brand and in the context that makes sense. It's as easy as adding a javascript snippet to your page markup.</p></div><div class=\"w-col w-col-4 column\"><div class=\"icon-wrap\"><img src=\"https://daks2k3a4ib2z.cloudfront.net/561b940c607fbeba27c78ae6/5624bd4d932c368504a4ae18_icon-google.png\" class=\"icon icon-moveup\"></div><p class=\"paragraph\">No need to maintain another calendar. We hook into your existing Google Calendar for availability and bookings will end up as event invites that you can choose to accept or decline.</p></div><div class=\"w-col w-col-4 column\"><div class=\"icon-wrap\"><img src=\"https://daks2k3a4ib2z.cloudfront.net/561b940c607fbeba27c78ae6/5624bd57487000ac65a7501a_icon-setting.png\" class=\"icon\"></div><p class=\"paragraph\">Create custom availability rules with our smart flexible filters. Restyle the looks &amp; feel if you want. Localization and timezone support included.&#xA0;</p></div></div><div class=\"w-row faq\"><div class=\"w-col w-col-4 w-col-stack column column-faq\"><p class=\"faq_paragraph\">Sky's the limit! Here's a few ideas:<br>- Meeting rooms<br>-&#xA0;Support calls<br>- Sales meetings<br>-&#xA0;Dentist appointments<br>-&#xA0;Car rentals<br>- Yoga sessions<br>-&#xA0;Team workshops</p><p class=\"faq_paragraph\">Sure thing. There are two ways to use the library:&#xA0;with autoloading (default) or by manual initialization. With the latter, you can setup the widget asynchronously from the page load and you can even create multiple widget instances/accounts on the same page. Read the docs on <a target=\"_blank\" class=\"faq_link\" href=\"http://github.com/timekit-io/booking.js\">Github</a></p></div><div class=\"w-col w-col-4 w-col-stack column column-faq\"><p class=\"faq_paragraph\">Timezones are fully supported and a timezone difference helper can be enabled/disabled. With regard to time/date formatting, there's two modes: 12-hour clock with M/D/Y&#xA0;and Sunday as first weekday vs. 24-hour clock with D/M/Y and Monday as first weekday.&#xA0;If you like more control, you can pass settings directly to <a href=\"http://fullcalendar.io/docs/\" class=\"faq_link\" target=\"_blank\">FullCalendar</a>.</p><p class=\"faq_paragraph\">The widget supports all of the Timekit API's <a href=\"http://developers.timekit.io/docs/find-time-filters\" class=\"faq_link\" target=\"_blank\">FindTime filters</a>, so you can mix&#xA0;&amp; match it however you like it.&#xA0;You can even&#xA0;enforce mutual availability check across multiple users/calendars.</p></div><div class=\"w-col w-col-4 w-col-stack column column-faq\"><p class=\"faq_paragraph\">Nope. Although the wizard on this page is made for Google usage, you can use Timekit.io as a standalone calendar provider. Create a user account <a class=\"faq_link\" target=\"_blank\" href=\"http://timekit.io/get-started\">here</a>, generate a client-token and just provide the e-mail and API token to Booking.js in the configuration.</p><p class=\"faq_paragraph\">Yes &amp; <a class=\"faq_link\" target=\"_blank\" href=\"https://github.com/timekit-io/booking-js\">yes</a>!&#xA0;Booking.js actually consists of two components:&#xA0;FullCalendar and the Timekit API. The actual implementation is open source on <a class=\"faq_link\" target=\"_blank\" href=\"https://github.com/timekit-io/booking.js\">Github</a> and we'd love PRs. It's worth noting that the actual use of the widget is meant to be included with JS&#xA0;served from our CDN&#xA0;so we can push out updates and track usage.</p></div></div></div></div></div>\n\n\n\n\n\n\n\n</div>"
    }, {
        "title": "IBM100 - Icons of Progress",
        "url": "http://www-03.ibm.com/ibm/history/ibm100/us/en/icons/",
        "excerpt": "In the span of a century, IBM has evolved from a small business that made scales, time clocks and tabulating machines to a globally integrated enterprise with more than 400,000 employees and a strong&hellip;",
        "date_saved": "Thu Jul 28 20:13:45 EDT 2016",
        "html_file": "ibm100__icons_of_progress.html",
        "png_file": "ibm100__icons_of_progress.png",
        "md_file": "ibm100__icons_of_progress.md",
        "content": "<div><div id=\"ibm-content\">\n\n<div id=\"ibm100-leadspace\">\n \n\t<p>\n\tIn the span of a century, IBM has evolved from a small business that made scales, time clocks and tabulating machines to a globally integrated enterprise with more than 400,000 employees and a strong vision for the future. The stories that have emerged throughout our history are complex tales of big risks, lessons learned and discoveries that have transformed the way we work and live. These 100 iconic moments&#x2014;these Icons of Progress&#x2014;demonstrate our faith in science, our pursuit of knowledge and our belief that together we can make the world work better.\n\t</p>\n</div>\n</div>\n\n</div>"
    }, {
        "title": "4.0.0 released: The new render loop explained",
        "url": "http://popmotion.io/blog/4.0.0-released-explaining-the-new-render-loop",
        "excerpt": "Posted one day ago At the heart of Popmotion lies a single thread; the render loop. Its purpose is simply to run through all active Process instances, and fire their associated callbacks - once per&hellip;",
        "date_saved": "Thu Jul 28 20:13:47 EDT 2016",
        "html_file": "400_released_the_new_render_loop_explained.html",
        "png_file": "400_released_the_new_render_loop_explained.png",
        "md_file": "400_released_the_new_render_loop_explained.md",
        "content": "<div><article class=\"major centered\">\n \n \n \n <p class=\"date\">Posted one day ago</p>\n \n <p>At the heart of Popmotion lies a single thread; the render loop. Its purpose is simply to run through all active <a href=\"http://popmotion.io/api/process\">Process</a> instances, and fire their associated callbacks - once per frame, 60 frames per second.</p>\n\n<p>Every Actor has its own Process instance, so when you run your own Process, you&#x2019;re running a method in tandem with all your other animations and simulations without having to manage your own render loop.</p>\n\n<p>Popmotion is already unique in exposing access to this loop, and with the release of <code>4.0.0</code>, it now provides two new methods of control and scheduling.</p>\n\n<p>The first, four new processing steps that allow more control over <strong>where</strong> in the render loop a Process will fire. The second, background processes that run <strong>only when</strong> other processes are active.</p>\n\n<h4>Discrete processing steps</h4>\n\n<p>In previous versions, a Process would represent a single callback, and every Process callback would be fired sequentially. So, Actors would update their values, render, and check if they&#x2019;re still active, all at once, one Actor after the other. This made it impossible to work with <strong>all</strong> the updated <code>Actor</code>s <strong>before</strong> they were all rendered.</p>\n\n<p>From today, there are four steps to the render loop:</p>\n\n<ul>\n<li><code>update</code></li>\n<li><code>preRender</code></li>\n<li><code>render</code></li>\n<li><code>postRender</code></li>\n</ul>\n\n<p>Now, all active <code>Process.update</code> methods will fire first, then all active <code>Process.preRender</code> methods, and so on.</p>\n\n<p>Assigning a method to run at any of these four steps is easy. Here&#x2019;s a crude framerate counter to demonstrate:</p>\n\n<pre><code>import { Process } from 'popmotion';\n\nlet framerateDisplay = document.getElementById('framerate');\nlet framerate = 0;\n\nlet updateFramerate = new Process({\n update: function (process, framestamp, frameDuration) {\n framerate = 1000 / frameDuration;\n },\n render: function () {\n framerateDisplay.innerHTML = framerate;\n }\n});\n\nupdateFramerate.start();\n</code></pre>\n\n<p>Soon, we&#x2019;ll be releasing a collision detection plugin that will make use of the <code>preRender</code> method to recalculate <code>Actor</code> positions before render. Canvas and WebGL applications could harness <code>postRender</code> to implement post-processing effects.</p>\n\n<h4>Background processes</h4>\n\n<p>By default, our render loop stops running if it detects no active processes, and starts again when the next process starts, which helps save battery life on mobile devices.</p>\n\n<p>Flagging a Process as a <code>background</code> process will ensure that it only runs when <strong>other, non-background</strong> processes are active.</p>\n\n<p>Our previous example of a framerate counter shows how this could be helpful. It&#x2019;d be a waste to update the framerate counter when we&#x2019;re not running any Processes. By passing <code>true</code> as the last argument to our <code>Process</code> constructor, we can flag it as a background process.</p>\n\n<pre><code>let updateFramerate = new Process(yourCallbacks, true);\n\nupdateFramerate.start();</code></pre>\n\n<p>The <code>updateFramerate</code> callbacks won&#x2019;t start until another, non-background Process begins to run, or an Actor begins to animate.</p>\n\n<h4>Upgrade to 4.0.0</h4>\n\n<p>If you&#x2019;ve never used <code>Process</code> before, and as a low-level class you probably haven&#x2019;t, then you can simply upgrade.</p>\n\n<p>For those of you that have ventured this far down, as part of reevalutating the Process class we decided to add <code>once()</code> and remove <code>start(duration)</code> and <code>every()</code> to reduce our API footprint and overall internal complexity. So:</p>\n\n<pre><code>process.start(500);</code></pre>\n\n<p>becomes</p>\n\n<pre><code>process.start();\n\nsetTimeout(() =&gt; process.stop(), 500);</code></pre>\n\n<p>and</p>\n\n<pre><code>process.every(200);</code></pre>\n\n<p>becomes</p>\n\n<pre><code>setInterval(() =&gt; process.once(), 200);</code></pre>\n\n<p>We&#x2019;re committed to keeping Popmotion lightweight and at 12.6kb it is easily one of the smallest motion engines for the web, while still providing an unprecedented level of functionality and compatibility. Small changes like this allow us to keep delivering big changes like the new render loop and background processes.</p>\n\n<p>As always, keep in touch with questions, suggestions or cool stuff you&#x2019;ve made via our <a href=\"https://twitter.com/popmotionjs\">Twitter</a>.</p>\n\n \n </article>\n</div>"
    }, {
        "title": "Directed graph traversal, orderings and applications to data-flow analysis",
        "url": "http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/",
        "excerpt": "October 16, 2015 at 05:45 Tags Programming , Python , Compilation When traversing trees with DFS, orderings are easy to define: we have pre-order, which visits a node before recursing into its&hellip;",
        "date_saved": "Thu Jul 28 20:13:50 EDT 2016",
        "html_file": "directed_graph_traversal_orderings_and_applications_to_dataflow_analysis.html",
        "png_file": "directed_graph_traversal_orderings_and_applications_to_dataflow_analysis.png",
        "md_file": "directed_graph_traversal_orderings_and_applications_to_dataflow_analysis.md",
        "content": "<div><div class=\"entry-content\">\n <div class=\"panel\">\n <div class=\"panel-body\">\n<footer class=\"post-info\">\n <span class=\"published\">\n <i class=\"fa fa-calendar\"></i>\n <time> October 16, 2015 at 05:45</time>\n </span>\n<span class=\"label label-default\">Tags</span>\n <a href=\"http://eli.thegreenplace.net/tag/programming\">Programming</a>\n ,\n <a href=\"http://eli.thegreenplace.net/tag/python\">Python</a>\n ,\n <a href=\"http://eli.thegreenplace.net/tag/compilation\">Compilation</a>\n</footer> </div>\n </div>\n <p>When traversing trees with DFS, orderings are easy to define: we have pre-order,\nwhich visits a node before recursing into its children; in-order, which visits a\nnode in-between recursing into its children; post-order, which visits a node\nafter recursing into its children.</p>\n<p>However, for directed graphs, these orderings are not as natural and slightly\ndifferent definitions are used. In this article I want to discuss the various\ndirected graph orderings and their implementations. I also want to mention some\napplications of directed graph traversals to data-flow analysis.</p>\n<p>Directed graphs are my focus here, since these are most useful in the\napplications I'm interested in. When a directed graph is known to have no\ncycles, I may refer to it as a DAG (directed acyclic graph). When cycles are\nallowed, undirected graphs can be simply modeled as directed graphs where each\nundirected edge turns into a pair of directed edges.</p>\n<div class=\"section\" id=\"depth-first-search-and-pre-order\">\n<h2>Depth-first search and pre-order</h2>\n<p>Let's start with the basis algorithm for everything discussed in this article -\ndepth-first search (DFS). Here is a simple implementation of DFS in Python (the\nfull code is <a class=\"reference external\" href=\"https://github.com/eliben/code-for-blog/blob/master/2015/traversals.py\">available here</a>):</p>\n<div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">dfs</span><span class=\"p\">(</span><span class=\"n\">graph</span><span class=\"p\">,</span> <span class=\"n\">root</span><span class=\"p\">,</span> <span class=\"n\">visitor</span><span class=\"p\">):</span>\n <span class=\"sd\">\"\"\"DFS over a graph.</span>\n\n<span class=\"sd\"> Start with node 'root', calling 'visitor' for every visited node.</span>\n<span class=\"sd\"> \"\"\"</span>\n <span class=\"n\">visited</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n <span class=\"k\">def</span> <span class=\"nf\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"n\">visited</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"n\">visitor</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">graph</span><span class=\"o\">.</span><span class=\"n\">successors</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">visited</span><span class=\"p\">:</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">succ</span><span class=\"p\">)</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"p\">)</span>\n</pre></div>\n<p>This is the baseline implementation, and we'll see a few variations on it to\nimplement different orderings and algorithms. You may think that, due to the way\nthe algorithm is structured, it implements pre-order traversal. It certainly\nlooks like it. In fact, <em>pre-preder traversal on graphs is defined as the order\nin which the aforementioned DFS algorithm visited the nodes</em>. However, there's a\nsubtle but important difference from tree pre-order. Whereas in trees, we may\nassume that in pre-order traversal we always see a node before all its\nsuccessors, this isn't true for graph pre-order. Consider this graph:</p>\n<img alt=\"Directed Graph\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/dgraph1.png\">\n<p>If we print the nodes in the order visited by DFS, we may get something like: A,\nC, B, D, E, T. So B comes before T, even though B is T's successor <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id9\" id=\"id1\">[1]</a>.</p>\n<p>We'll soon see that other orderings <em>do</em> provide some useful guarantees.</p>\n</div>\n<div class=\"section\" id=\"post-order-and-reverse-post-order\">\n<h2>Post-order and reverse post-order</h2>\n<p>To present other orderings and algorithms, we'll take the <tt class=\"docutils literal\">dfs</tt> function above\nand tweak it slightly. Here's a post-order walk. It has the same general\nstructure as <tt class=\"docutils literal\">dfs</tt>, but it manages additional information (<tt class=\"docutils literal\">order</tt> list) and\ndoesn't call a visitor function:</p>\n<div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">postorder</span><span class=\"p\">(</span><span class=\"n\">graph</span><span class=\"p\">,</span> <span class=\"n\">root</span><span class=\"p\">):</span>\n <span class=\"sd\">\"\"\"Return a post-order ordering of nodes in the graph.\"\"\"</span>\n <span class=\"n\">visited</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n <span class=\"n\">order</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n <span class=\"k\">def</span> <span class=\"nf\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"n\">visited</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">graph</span><span class=\"o\">.</span><span class=\"n\">successors</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">visited</span><span class=\"p\">:</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">succ</span><span class=\"p\">)</span>\n <span class=\"n\">order</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"p\">)</span>\n <span class=\"k\">return</span> <span class=\"n\">order</span>\n</pre></div>\n<p>This algorithm adds a node to the <tt class=\"docutils literal\">order</tt> list when its traversal is fully\nfinished; that is, when all its outgoing edges have been visited. Unlike\npre-order, here it's actually ensured - in the absence of cycles - that for two\nnodes V and W, if there is a path from W to V in the graph, then V comes before\nW in the list <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id10\" id=\"id2\">[2]</a>.</p>\n<p>Reverse post-order (RPO) is exactly what its name implies. It's the reverse of\nthe list created by post-order traversal. In reverse post-order, if there is a\npath from V to W in the graph, V appears before W in the list. Note that this is\nactually a useful guarantee - we see a node before we see any other nodes\nreachable from it; for this reason, RPO is useful in many algorithms.</p>\n<p>Let's see the orderings produced by pre-order, post-order and RPO for our sample\nDAG:</p>\n<ul class=\"simple\">\n<li>Pre-order: A, C, B, D, E, T</li>\n<li>Post-order: D, B, E, C, T, A</li>\n<li>RPO: A, T, C, E, B, D</li>\n</ul>\n<p>This example should help dispel a common confusion about these traversals - <em>RPO\nis not the same as pre-order</em>. While pre-order is simply the order in which DFS\nvisits a graph, RPO actually guarantees that we see a node before all of its\nsuccessors (again, this is in the absence of cycles, which we'll deal with\nlater). So if you have an algorithm that needs this guarantee and you could\nsimply use pre-order on trees, when you're dealing with DAGs it's RPO, not\npre-order, that you're looking for.</p>\n</div>\n<div class=\"section\" id=\"topological-sort\">\n<h2>Topological sort</h2>\n<p>In fact, the RPO of a DAG has another name - <em>topological sort</em>. Indeed, listing\na DAG's nodes such that a node comes before all its successors is precisely what\nsorting it topologically means. If nodes in the graph represent operations and\nedges represent dependencies between them (an edge from V to W meaning that V\nmust happen before W) then topological sort gives us an order in which we can\nrun the operations such that all the dependencies are satisfied (no operation\nruns before its dependencies).</p>\n</div>\n<div class=\"section\" id=\"dags-with-multiple-roots\">\n<h2>DAGs with multiple roots</h2>\n<p>So far the examples and algorithms demonstrated here show graphs that have a\nsingle, identifiable root node. This is not always the case for realistic\ngraphs, though it <em>is</em> most likely the case for graphs used in compilation\nbecause a program has a single entry function (for call graphs) and a function\nhas a single entry instruction or basic block (for control-flow and data-flow\nanalyses of functions).</p>\n<p>Once we leave the concept of \"one root to rule them all\" behind, it's\nnot even clear how to traverse a graph like the example used in the article\nso far. Why start from node A? Why not B? And how would the traversal look if we\ndid start from B? We'd then only be able to discover B itself and D, and would\nhave to restart to discover other nodes.</p>\n<p>Here's another graph, where not all nodes are connected with each other. This\ngraph has no pre-defined root <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id11\" id=\"id3\">[3]</a>. How do we still traverse all of it in a\nmeaningful way?</p>\n<img alt=\"Directed Multigraph\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/multidgraph1.png\">\n<p>The idea is a fairly simple modification of the DFS traversal shown earlier. We\npick an arbitrary unvisited node in the graph, treat it as a root and start\ndutifully traversing. When we're done, we check if there are any unvisited nodes\nremaining in the graph. If there are, we pick another one and restart. So on and\nso forth until all the nodes are visited:</p>\n<div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">postorder_unrooted</span><span class=\"p\">(</span><span class=\"n\">graph</span><span class=\"p\">):</span>\n <span class=\"sd\">\"\"\"Unrooted post-order traversal of a graph.</span>\n\n<span class=\"sd\"> Restarts traversal as long as there are undiscovered nodes. Returns a list</span>\n<span class=\"sd\"> of lists, each of which is a post-order ordering of nodes discovered while</span>\n<span class=\"sd\"> restarting the traversal.</span>\n<span class=\"sd\"> \"\"\"</span>\n <span class=\"n\">allnodes</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"n\">graph</span><span class=\"o\">.</span><span class=\"n\">nodes</span><span class=\"p\">())</span>\n <span class=\"n\">visited</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n <span class=\"n\">orders</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n <span class=\"k\">def</span> <span class=\"nf\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"n\">visited</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"k\">for</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">graph</span><span class=\"o\">.</span><span class=\"n\">successors</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">visited</span><span class=\"p\">:</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">succ</span><span class=\"p\">)</span>\n <span class=\"n\">orders</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"k\">while</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">allnodes</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">visited</span><span class=\"p\">):</span>\n <span class=\"c\"># While there are still unvisited nodes in the graph, pick one at random</span>\n <span class=\"c\"># and restart the traversal from it.</span>\n <span class=\"n\">remaining</span> <span class=\"o\">=</span> <span class=\"n\">allnodes</span> <span class=\"o\">-</span> <span class=\"n\">visited</span>\n <span class=\"n\">root</span> <span class=\"o\">=</span> <span class=\"n\">remaining</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">()</span>\n <span class=\"n\">orders</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">([])</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"p\">)</span>\n <span class=\"k\">return</span> <span class=\"n\">orders</span>\n</pre></div>\n<p>To demonstrate this approach, <tt class=\"docutils literal\">postorder_unrooted</tt> returns not just a single\nlist of nodes ordered in post-order, but a list of lists. Each list is a\npost-order ordering of a set of nodes that were visited together in one\niteration of the <tt class=\"docutils literal\">while</tt> loop. Running on the new sample graph, I get this:</p>\n<div class=\"highlight\"><pre>[\n ['d', 'b', 'e', 'c'],\n ['j', 'f'],\n ['r', 'k'],\n ['p', 'q'],\n ['t', 'x']\n]\n</pre></div>\n<p>There's a slight problem with this approach. While relative ordering between\nentirely unconnected pieces of the graph (like K and and X) is undefined, the\nordering within each connected piece <em>may</em> be defined. For example, even though\nwe discovered T and X separately from D, B, E, C, there <em>is</em> a natural ordering\nbetween them. So a more sophisticated algorithm would attempt to amend this by\nmerging the orders when that makes sense. Alternatively, we can look at all the\nnodes in the graph, find the ones without incoming edges and use these as roots\nto start from.</p>\n</div>\n<div class=\"section\" id=\"directed-graphs-with-cycles\">\n<h2>Directed graphs with cycles</h2>\n<p>Cycles in directed graphs present a problem for many algorithms, but there are\nimportant applications where avoiding cycles is unfeasible, so we have to deal\nwith them. Here's a sample graph with a couple of cycles:</p>\n<img alt=\"Directed Graph with cycles\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/cycles.png\">\n<p>Cycles break almost all of the nice-and-formal definitions of traversals stated\nso far in the article. In a graph with cycles, there is - by definition - no\norder of nodes where we can say that one comes before the other. Nodes can be\nvisited before all their outgoing edges have been visited in post-order.\nTopological sort is simply undefined on graphs with cycles.</p>\n<p>Out post-order search will still <em>run</em> and terminate, visiting the whole graph,\nbut the order it will visit the nodes is just not as clearly defined. Here's\nwhat we get from <tt class=\"docutils literal\">postorder</tt>, starting with X as root:</p>\n<div class=\"highlight\"><pre>['m', 'g', 'd', 'e', 'c', 'b', 't', 'x']\n</pre></div>\n<p>This is a perfectly valid post-order visit on a graph with cycles, but something\nabout it bothers me. Note that M is returned before G and D. True, this is just\nhow it is with cycles <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id12\" id=\"id4\">[4]</a>, but can we do better? After all, there's no actual\npath from G and D to M, while a path in the other direction exists. So could\nwe somehow \"approximate\" a post-order traversal of a graph with cycles, such\nthat at least some high-level notion of order stays consistent (outside actual\ncycles)?</p>\n</div>\n<div class=\"section\" id=\"strongly-connected-components\">\n<h2>Strongly Connected Components</h2>\n<p>The answer to the last question is yes, and the concept that helps us here is\n<a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Strongly_connected_component\">Strongly Connected Components</a> (SCCs,\nhereafter). A graph with cycles is partitioned into SCCs, such that every\ncomponent is strongly connected - every node within it is reachable from every\nother node. In other words, every component is a loop in the graph; we can then\ncreate a DAG of components <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id13\" id=\"id6\">[5]</a>. Here's our loopy graph again, with the SCCs\nidentified. All the nodes that don't participate in loops can be considered as\nsingle-node components of themselves:</p>\n<img alt=\"Directed Graph with cycles and SCCs\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/cycles-scc.png\">\n<p>Having this decomposition of the graph availabe, we can now once again run\nmeaningful post-order visits on the SCCs and even sort them topologically.</p>\n<p>There are a number of efficient algorithms available for decomposing a graph\ninto SCCs; I will leave this topic to some other time.</p>\n</div>\n<div class=\"section\" id=\"color-dfs-and-edge-classification\">\n<h2>3-color DFS and edge classification</h2>\n<p>As we've seen above, while our <tt class=\"docutils literal\">postorder</tt> function manages to visit all nodes\nin a graph with cycles, it doesn't do it in a sensical order and doesn't even\ndetect cycles. We'll now examine a variation of the DFS algorithm that keeps\ntrack of more information during traversal, which helps it analyze cyclic graphs\nwith more insight.</p>\n<p>This version of graph DFS is actually something you will often find in books and\nother references; it colors every node white, grey or black, depending on how\nmuch traversal was done from it at any given time. This is why I call it the\n\"3-color\" algorithm, as opposed to the basic \"binary\" or \"2-color\" algorithm\npresented here earlier (any node is either in the \"visited\" set or not).</p>\n<p>The following function implements this. The <tt class=\"docutils literal\">color</tt> dict replaces the\n<tt class=\"docutils literal\">visited</tt> set and tracks three different states for each node:</p>\n<ol class=\"arabic simple\">\n<li>Node not in the dict: not discovered yet (\"white\").</li>\n<li>Node discovered but not finished yet (\"grey\")</li>\n<li>Node is finished - all its outgoing edges were finished (\"black\")</li>\n</ol>\n<div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">postorder_3color</span><span class=\"p\">(</span><span class=\"n\">graph</span><span class=\"p\">,</span> <span class=\"n\">root</span><span class=\"p\">):</span>\n <span class=\"sd\">\"\"\"Return a post-order ordering of nodes in the graph.</span>\n\n<span class=\"sd\"> Prints CYCLE notifications when graph cycles (\"back edges\") are discovered.</span>\n<span class=\"sd\"> \"\"\"</span>\n <span class=\"n\">color</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">()</span>\n <span class=\"n\">order</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n <span class=\"k\">def</span> <span class=\"nf\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"n\">color</span><span class=\"p\">[</span><span class=\"n\">node</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s\">'grey'</span>\n <span class=\"k\">for</span> <span class=\"n\">succ</span> <span class=\"ow\">in</span> <span class=\"n\">graph</span><span class=\"o\">.</span><span class=\"n\">successors</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n <span class=\"k\">if</span> <span class=\"n\">color</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">succ</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s\">'grey'</span><span class=\"p\">:</span>\n <span class=\"k\">print</span> <span class=\"s\">'CYCLE: {0}--&gt;{1}'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">succ</span><span class=\"p\">)</span>\n <span class=\"k\">if</span> <span class=\"n\">succ</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">color</span><span class=\"p\">:</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">succ</span><span class=\"p\">)</span>\n <span class=\"n\">order</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n <span class=\"n\">color</span><span class=\"p\">[</span><span class=\"n\">node</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s\">'black'</span>\n <span class=\"n\">dfs_walk</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"p\">)</span>\n <span class=\"k\">return</span> <span class=\"n\">order</span>\n</pre></div>\n<p>If we run it on the loopy graph, we get the same order as the one returned by\n<tt class=\"docutils literal\">postorder</tt>, with the addition of:</p>\n<div class=\"highlight\"><pre>CYCLE: m--&gt;c\nCYCLE: g--&gt;d\n</pre></div>\n<p>The edges between M and C and between G and D are called <em>back edges</em>. This\nfalls under the realm of <em>edge classification</em>. In addition to back edges,\ngraphs can have tree edges, cross edges and forward edges. All of these can be\ndiscovered during a DFS visit. Back edges are the most important for our current\ndiscussion since they help us identify cycles in the graph.</p>\n</div>\n<div class=\"section\" id=\"data-flow-analysis\">\n<h2>Data-flow analysis</h2>\n<p><em>This section is optional if you only wanted to learn about graph graversals. It\nassumes non-trivial background on compilation</em>.</p>\n<p>In compilation, data-flow analysis is an important technique used for many\noptimizations. The compiler analyzes the control-flow graph (CFG) of a program,\nreasoning about how values can potentially change <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id14\" id=\"id7\">[6]</a> through its basic blocks.</p>\n<p>Without getting into the specifics of data-flow analysis problems and\nalgorithms, I want to mention a few relevant observations that bear strong\nrelation to the earlier topics of this post. Broadly speaking, there are two\nkinds of data-flow problems: <em>forward</em> and <em>backward</em> problems. In <em>forward</em>\nproblems, we use information learned about basic blocks to analyze their\nsuccessors. In <em>backward</em> problems, it's the other way around - information\nlearned about basic blocks is used to analyze their predecessors.</p>\n<p>Therefore, it shouldn't come as a surprise that the most efficient way to run\nforward data-flow analyses is in RPO. In the absence of cycles, RPO (topological\norder) makes sure we've seen all of a node's predecessors before we get\nto it. This means we can perform the analysis in a single pass over the graph.</p>\n<p>With cycles in the graph, this is no longer true, but RPO still guarantees the\nfastest convergence - in graphs with cycles data-flow analysis is iterative\nuntil a fixed point is reached <a class=\"footnote-reference\" href=\"http://eli.thegreenplace.net/2015/directed-graph-traversal-orderings-and-applications-to-data-flow-analysis/#id15\" id=\"id8\">[7]</a>.</p>\n<p>For a similar reason, the most efficient way to run backward data-flow analysis\nis post-order. In the absence of cycles, postorder makes sure that we've seen\nall of a node's successors before we get to it.</p>\n<p>One final note: some resources recommend to use RPO on a reverse CFG (CFG with\nall its edges inverted) instead of post-order on the original graph for backward\ndata-flow. If your initial reaction is to question whether the two are\nequivalent - that's not a bad guess, though it's wrong. With cycles, the two\norders can be subtly different. Consider this graph, for example:</p>\n<img alt=\"ABCD graph\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/abcd_graph.png\">\n<p>Assuming A is the entry node, post-order would return: D, C, B, A. Now let's\ninvert all the edges:</p>\n<img alt=\"ABCD graph with inverted nodes\" class=\"align-center\" src=\"http://eli.thegreenplace.net/images/2015/abcd_graph_rev.png\">\n<p>Here D would be the entry node. RPO on this graph is: D, B, C, A. This is\nnot the same as post-order on the original graph - the order of the nodes in\nthe cycle is different.</p>\n<p>So here's a puzzle: why is RPO on the reverse graph recommended by some\nresources over post-order?</p>\n<p>If I had to guess, I'd say that looking at the sample graph in this section,\nit makes some sense to examine B before C, because more of its successors were\nalready visited. If we visit C before B, we don't know much about successors yet\nbecause B wasn't visited - and B is the only successor of C. But if we visit B\nbefore C, at least D (a successor of B in the original graph) was already\nvisited. This may help faster convergence. If you have additional ideas, please\nlet me know.</p>\n\n\n\n\n\n\n\n\n</div>\n\n </div>\n \n\n </div>"
    }, {
        "title": "Macbook charger teardown: The surprising complexity inside Apple's power adapter",
        "url": "http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html",
        "excerpt": "Have you ever wondered what's inside your Macbook's charger? There's a lot more circuitry crammed into the compact power adapter than you'd expect, including a microprocessor. This charger teardown&hellip;",
        "date_saved": "Thu Jul 28 20:13:51 EDT 2016",
        "html_file": "macbook_charger_teardown_the_surprising_complexity_inside_apples_power_adapter.html",
        "png_file": "macbook_charger_teardown_the_surprising_complexity_inside_apples_power_adapter.png",
        "md_file": "macbook_charger_teardown_the_surprising_complexity_inside_apples_power_adapter.md",
        "content": "<div><div class=\"post-body entry-content\" id=\"post-body-3079236002281015071\">\n<meta name=\"og:image\" value=\"https://lh3.googleusercontent.com/-ywUu7DDENug/Vk7CMGBWneI/AAAAAAAAxco/UUIdJ2DS2rs/w600/inside.jpg\">\n\nHave you ever wondered what's inside your Macbook's charger?\nThere's a lot more \ncircuitry crammed into the compact power adapter than you'd expect, including a microprocessor.\nThis charger teardown looks at the numerous components in the charger and explains how they work together to power your laptop.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/IYdxwMrtOgwiCAcqtnDYINMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-ywUu7DDENug/Vk7CMGBWneI/AAAAAAAAxco/UUIdJ2DS2rs/w600/inside.jpg\" width=\"600\" alt=\"Inside the Macbook charger, after removing the heat sinks and insulating tape.\" title=\"Inside the Macbook charger, after removing the heat sinks and insulating tape.\">\n</a>\n</p><p class=\"cite\">\nInside the Macbook charger. Many electronic components work together to provide smooth power to your laptop.\n</p>\nMost consumer electronics, from your cell phone to your television, use a <i>switching power supply</i> to convert AC power from the wall to the low-voltage DC used by electronic circuits.\nThe switching power supply gets its name because it switches power on and off thousands of times a second, which turns out to be a very efficient way to do this conversion.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref1\">[1]</a>\n<p>\nSwitching power supplies are now very cheap, but this wasn't always the case.\nIn the 1950s, switching power supplies were complex and expensive, used in aerospace and satellite applications that needed small, lightweight power supplies.\nBy the early 1970s, new high-voltage transistors and other technology improvements made switching power supplies much cheaper and they became widely\nused in computers.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref2\">[2]</a>\nThe introduction of a single-chip power supply controller in 1976 made switching power supplies simpler, smaller, and cheaper.\n\n</p><p>\nApple's involvement with switching power supplies goes back to 1977 when Apple's chief engineer Rod Holt designed a switching power supply for the Apple II.\nAccording to Steve Jobs:<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref3\">[3]</a>\n</p><blockquote>\n\"That switching power supply was as revolutionary as the Apple II logic board was. Rod doesn't get a lot of credit for this in the history books but he should. Every computer now uses switching power supplies, and they all rip off Rod Holt's design.\"\n</blockquote>\n<p>\nThis is a fantastic quote, but unfortunately it is entirely false.\nThe switching power supply revolution happened before Apple came along, Apple's design was similar to earlier power supplies<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref4\">[4]</a>\nand other computers don't use Rod Holt's design.\nNevertheless, Apple has extensively used switching power supplies and pushes the limits of charger design with their compact, stylish and advanced chargers.\n</p><h2>Inside the charger</h2>\n<p>\nFor the teardown I started with a Macbook 85W power supply, model A1172, which is small enough to hold in your palm. The picture below shows several features that can help distinguish the charger from counterfeits: the Apple logo in the case, the metal (not plastic) ground pin on the right, and the serial number next to the ground pin.\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/ztTCG2i0ss2q6VRjmctlddMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-mwYrpR8U4uI/VkaSQC2olaI/AAAAAAAAxXE/5-QCRLCr6rY/w600/magsafe85.jpg\" width=\"600\" alt=\"Apple 85W Macbook charger\" title=\"Apple 85W Macbook charger\">\n</a>\n</p><p class=\"cite\">\nApple 85W Macbook charger\n</p>\nStrange as it seems, the best technique I've found for opening a charger is to pound on a wood chisel all around the seam to crack it open. With the case opened, the metal heat sinks of the charger are visible. The heat sinks help cool the high-power semiconductors inside the charger. \n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/zo-XapNKTU14NM082g9ZHtMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-66oDux4704M/VkaSSgAeGjI/AAAAAAAAxXM/ehoXjnzlE7Q/w600/magsafe85-opened.jpg\" width=\"600\" alt=\"Inside the Apple 85W Macbook charger\" title=\"Inside the Apple 85W Macbook charger\">\n</a>\n</p><p class=\"cite\">\nInside the Apple 85W Macbook charger\n</p>\nThe other side of the charger shows the circuit board, with the power output at the bottom. Some of the tiny components are visible, but most of the circuitry is covered by the metal heat sink, held in place by yellow insulating tape.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/gvSRyX5QOD9063OZFOpBr9MTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-Bvox2RV3BdA/VkaSVFRvh5I/AAAAAAAAxXU/Ob2cUek8IZk/w600/magsafe85-bottom.jpg\" width=\"600\" alt=\"The circuit board inside the Apple 85W Macbook charger.\" title=\"The circuit board inside the Apple 85W Macbook charger.\">\n</a>\n</p><p class=\"cite\">\nThe circuit board inside the Apple 85W Macbook charger. At the right, screws firmly attach components to the heat sinks.\n</p>\nAfter removing the metal heat sinks, the components of the charger are visible. These metal pieces give the charger a substantial heft, more than you'd expect from a small unit.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/KiKnoyjB8zOPggfl5dzvHtMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-d_PaReTP_-g/VkaSZ4qdOOI/AAAAAAAAxXc/Uwyhb7-M-2I/w600/exploded.jpg\" width=\"600\" alt=\"Exploded view of the Apple 85W charger\" title=\"Exploded view of the Apple 85W charger\">\n</a>\n</p><p class=\"cite\">\nExploded view of the Apple 85W charger, showing the extensive metal heat sinks.\n</p>\nThe diagram below labels the main components of the charger.\nAC power enters the charger and is converted to DC.\nThe PFC circuit (Power Factor Correction) improves efficiency by ensuring the load on the AC line is steady. The primary chops up the high-voltage DC from the PFC circuit and feeds it into the transformer. Finally, the secondary receives low-voltage power from the transformer and outputs smooth DC to the laptop.\nThe next few sections discuss these circuits in more detail, so follow along with the diagram below.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/xRw6ONmp4RHKryKeX5o24tMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-1TwKQzQDSQk/Vk60bH7ESBI/AAAAAAAAxbo/qpTO8bUuTUI/w750/components1.png\" width=\"750\" alt=\"The components inside an Apple Macbook 85W power supply.\" title=\"The components inside an Apple Macbook 85W power supply.\">\n</a>\n</p><p class=\"cite\">\nThe components inside an Apple Macbook 85W power supply.\n</p>\n<h3>AC enters the charger</h3>\nAC power enters the charger through a removable AC plug.\nA big advantage of switching power supplies is they can be designed to run on a wide range of input voltages.\nBy simply <a href=\"http://www.apple.com/shop/product/MD837AM/A/apple-world-travel-adapter-kit\">swapping the plug</a>, the charger can be used in any region of the world,\n from European 240 volts at 50 Hertz to North American 120 volts at 60 Hz.\nThe filter capacitors and inductors in the input stage prevent interference from exiting the charger through the power lines. The bridge rectifier contains four diodes, which convert the AC power into DC. (See <a href=\"https://youtu.be/sI5Ftm1-jik\">this video</a> for a great demonstration of how a full bridge rectifier works.)\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/XGkzyqFevib7Dj2BrydSQtMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-s-lYfQg-wik/Vk60gmUTPBI/AAAAAAAAxbw/zjhEVVUD_BE/w600/IMG_2591.JPG\" width=\"600\" alt=\"The input filtering in a Macbook charger. The diode bridge is attached to the metal heat sink with a clip.\" title=\"The input filtering in a Macbook charger. The diode bridge is attached to the metal heat sink with a clip.\">\n</a>\n</p><p class=\"cite\">\nThe input components in a Macbook charger. The diode bridge rectifier is attached to the metal heat sink with a clip.\n</p>\n<h3>PFC: smoothing the power usage\n</h3>\n<p>\nThe next step in the charger's operation is the Power Factor Correction circuit (PFC), labeled in purple.\nOne problem with simple chargers is they only draw power during a small part of the AC cycle.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref5\">[5]</a>\nIf too many devices do this, it causes problems for the power company.\n<a href=\"http://www.edn.com/electronics-news/4363595/New-power--regulations-bring-power-factor--correction-to--lower-power-supplies\">Regulations</a> require larger chargers to use a technique called power factor correction so they use power more evenly.\n</p><p>\nThe PFC circuit uses a power transistor to precisely chop up the input AC tens of thousands of times a second; contrary to what you might expect, this makes the load on the AC line smoother. Two of the largest components in the charger are the inductor and PFC capacitor that help boost the voltage to about 380 volts DC.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref6\">[6]</a>\n</p><h3>The primary: chopping up the power</h3>\n<p>\nThe primary circuit is the heart of the charger.\nIt takes the high voltage DC from the PFC circuit, chops it up and feeds it into the transformer to generate the charger's low-voltage output (16.5-18.5 volts). \nThe charger uses an advanced design called a resonant controller, which lets the system operate at a very high frequency, up to 500 kilohertz. \nThe higher frequency permits smaller components to be used for a more compact charger. The chip below controls the switching power supply.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref7\">[7]</a>\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/82TO_kBGjFrKbJYOB3SNLNMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-MHaM6dHsfcg/Vk7ENxadgWI/AAAAAAAAxc8/UeodqyzA6y8/w600/pfc-chip.jpg\" width=\"600\" alt=\"The circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.\" title=\"The circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.\">\n</a>\n</p><p class=\"cite\">\nThe circuit board inside the Macbook charger. The chip in the middle controls the switching power supply circuit.\n</p>\n<p>\nThe two drive transistors (in the overview diagram) alternately switch on and off to chop up the input voltage. The transformer and capacitor resonate at this frequency, smoothing the chopped-up input into a sine wave.\n</p><h3>The secondary: smooth, clean power output</h3>\n<p>\nThe secondary side of the circuit generates the output of the charger.\nThe secondary receives power from the transformer and converts it DC with diodes. The filter capacitors smooth out the power, which leaves the charger through the output cable.\n</p><p>\nThe most important role of the secondary is to keep the dangerous high voltages in the rest of the charger away from the output, to avoid potentially fatal shocks.\nThe isolation boundary marked in red on the earlier diagram indicates the separation between the high-voltage primary and the low-voltage secondary. The two sides are separated by a distance of about 6 mm, and only special components can cross this boundary.\n</p><p>\nThe transformer safely transmits power between the primary and the secondary by using magnetic fields instead of a direct electrical connection.\nThe coils of wire inside the transformer are triple-insulated for safety.\nCheap counterfeit chargers usually skimp on the insulation, posing a safety hazard.\nThe optoisolator uses an internal beam of light to transmit a feedback signal between the secondary and primary. The control chip on the primary side uses this feedback signal to adjust the switching frequency to keep the output voltage stable.\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/CuHsFnr4U5vuXfGX03UTBtMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-hJIDW3Rg9x0/Vk61J0vyIBI/AAAAAAAAxcA/t9LunlBcWBc/w600/IMG_2634.JPG\" width=\"600\" alt=\"The output components in an Apple Macbook charger. The microcontroller board is visible behind the capacitors.\" title=\"The output components in an Apple Macbook charger. The microcontroller board is visible behind the capacitors.\">\n</a>\n</p><p class=\"cite\">\nThe output components in an Apple Macbook charger.The two power diodes are in front on the left. Behind them are three cylindrical filter capacitors.The microcontroller board is visible behind the capacitors.\n</p>\n<h3>A powerful microprocessor in your charger?</h3>\n<p>\nOne unexpected component is a tiny circuit board with a microcontroller, which can be seen above.\nThis 16-bit processor constantly monitors the charger's voltage and current.\nIt enables the output when the charger is connected to a Macbook, disables the output when the charger is disconnected, and shuts the charger off if there is a problem.\nThis processor is a Texas Instruments MSP430\nmicrocontroller,\nroughly as powerful as the processor inside the original Macintosh.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref8\">[8]</a>\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/L-T4CB9UoS2rj1YjSPet-NMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-KXK_U3OJf7E/Vk1OujUAP7I/AAAAAAAAxaQ/MivND-MfIIE/w550/mps430.jpg\" width=\"550\" alt=\"The microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.\" title=\"The microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.\">\n</a>\n</p><p class=\"cite\">\nThe microcontroller circuit board from an 85W Macbook power supply, on top of a quarter. The MPS430 processor monitors the charger's voltage and current.\n</p>\n<p>\nThe square orange pads on the right are used to program software into the chip's flash memory during manufacturing.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref9\">[9]</a>\nThe three-pin chip on the left (IC202) reduces the charger's 16.5 volts to the 3.3 volts required by the processor.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref10\">[10]</a>\n</p><h3>The charger's underside: many tiny components</h3>\n<p>\nTurning the charger over reveals dozens of tiny components on the circuit board. The PFC controller chip and the power supply (SMPS) controller chip are the main integrated circuits controlling the charger.\nThe voltage reference chip is responsible for keeping the voltage stable even as the temperature changes.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref11\">[11]</a>\nThese chips are surrounded by tiny resistors, capacitors, diodes and other components.\nThe output MOSFET transistor switches the power to the output on and off, as directed by the microcontroller. To the left of it, the current sense resistors measure the current flowing to the laptop.\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/v25Ff3h6CzWc5EZo5lVT-9MTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-EqgQClQo4VU/Vk1QKw8M42I/AAAAAAAAxas/mnYw7wd7IkM/w800/pcb.png\" width=\"800\" alt=\"The printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.\" title=\"The printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.\">\n</a>\n</p><p class=\"cite\">\nThe printed circuit board from an Apple 85W Macbook power supply, showing the tiny components inside the charger.\n</p>\nThe isolation boundary (marked in red) separates the high voltage circuitry from the low voltage output components for safety.\nThe dashed red line shows the isolation boundary that separates the low-voltage side (bottom right) from the high-voltage side.\nThe optoisolators send control signals from the secondary side to the primary, shutting down the charger if there is a malfunction.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref12\">[12]</a>\n<p>\nOne reason the charger has more control components than a typical charger is its variable output voltage.\nTo produce 60 watts, the charger provides 16.5 volts at 3.6 amps. For 85 watts, the voltage increases to 18.5 volts at 4.6 amps. This allows the charger to be compatible with lower-voltage 60 watt chargers, while still providing 85 watts for laptops that can use it.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref13\">[13]</a>\nAs the current increases above 3.6 amps, the circuit gradually increases the output voltage. If the current increases too much, the charger abruptly shuts down around 90 watts.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref14\">[14]</a>\n</p><h3>Inside the Magsafe connector</h3>\nThe magnetic Magsafe connector that plugs into the Macbook is more complex than you would expect. It has five spring-loaded pins (known as <a href=\"https://en.wikipedia.org/wiki/Pogo_pin\">Pogo pins</a>) to connect to the laptop. Two pins are power, two pins are ground, and the middle pin is a data connection to the laptop.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/g-n-Ra_XrWCrpSPGBm-A39MTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-HsTmaWTQtbY/UaYYKaYAuxI/AAAAAAAAaW8/T_KBs8ySi8o/w400/magsafe-connector-labels.png\" width=\"400\" alt=\"The pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.\" title=\"The pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.\">\n</a>\n</p><p class=\"cite\">\nThe pins of a Magsafe 2 connector. The pins are arranged symmetrically, so the connector can be plugged in either way.\n</p>\nInside the Magsafe connector is a tiny chip that\ninforms the laptop of the charger's serial number, type, and power.\nThe laptop uses this data to determine if the charger is valid.\nThis chip also controls the status LEDs.\nThere is no data connection to the charger block itself; the data connection is only with the chip inside the connector.\nFor more details, see my article on the\n<a href=\"http://www.righto.com/2013/06/teardown-and-exploration-of-magsafe.html\">Magsafe connector</a>.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/04d78zRXe6jOQFyaZYCWONMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-0vBYxRK9f1M/UaYYLe35AhI/AAAAAAAAaBg/IB8zGMhU39Q/w600/magsafe-on-penny.png\" width=\"600\" alt=\"The circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.\" title=\"The circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.\">\n</a>\n</p><p class=\"cite\">\nThe circuit board inside a Magsafe connector is very small. There are two LEDs on each side. The chip is a DS2413 1-Wire switch.\n</p>\n<h3>Operation of the charger</h3>\nYou may have noticed that when you plug the connector into a Macbook, it takes a second or two for the LED to light up. During this time, there are complex interactions between the Macbook, the charger, and the Magsafe connector.\n<p>\nWhen the charger is disconnected from the laptop, the output transistor discussed earlier blocks the output power.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref15\">[15]</a>\nWhen the Magsafe connector is plugged into a Macbook, the laptop\npulls the power line low.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref16\">[16]</a>\nThe microcontroller in the charger detects this and after exactly one second enables the power output.\nThe laptop then loads the charger information from the Magsafe connector chip.\nIf all is well, the laptop\nstarts pulling power from the charger and sends a command through the data pin to light the appropriate connector LED.\nWhen the Magsafe connector is unplugged from the laptop, the microcontroller detects the loss of current flow and shuts off the power, which also extinguishes the LEDs.\n</p><p>\nYou might wonder why the Apple charger has all this complexity. Other laptop chargers simply provide 16 volts and when you plug it in, the computer uses the power. The main reason is for safety, to ensure that power isn't flowing until the connector is firmly attached to the laptop. \nThis minimizes the risk of sparks or arcing while the Magsafe connector is being put into position.\n</p><h2>Why you shouldn't get a cheap charger</h2>\nThe Macbook 85W charger costs $79 from Apple, but for $14 you can get a charger on eBay that looks identical. Do you get anything for the extra $65?\nI opened up an imitation Macbook charger to see how it compares with the genuine charger. From the outside, the charger looks just like an 85W Apple charger except it lacks the Apple name and logo.\nBut looking inside reveals big differences.\nThe photos below show the genuine Apple charger on the left and the imitation on the right. \n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/2qBifmgyJTvRLtp5wc1SftMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-RXb6yTnZauw/VkaSj7wVSVI/AAAAAAAAxX0/nql5QPa58F8/w850/top-comparison.jpg\" width=\"850\" alt=\"Inside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.\" title=\"Inside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.\">\n</a>\n</p><p class=\"cite\">\nInside the Apple 85W Macbook charger (left) vs an imitation charger (right). The genuine charger is crammed full of components, while the imitation has fewer parts.\n</p>\n<p>\nThe imitation charger has about half the components of the genuine charger and a lot of blank space on the circuit board.\nWhile the genuine Apple charger is crammed full of components, the imitation leaves out a lot of filtering and regulation as well as the entire PFC circuit. The transformer in the imitation charger (big yellow rectangle) is much bulkier than in Apple's charger; the higher frequency of Apple's more advanced resonant converter allows a smaller transformer to be used.\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/7W3dES7C2FV-XB5QHKJNW9MTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-eNLODWg7Ctk/VkaSjR-cLGI/AAAAAAAAxXw/14j0h9RMnZ0/w850/compare-back.jpg\" width=\"850\" alt=\"The circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.\" title=\"The circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.\">\n</a>\n</p><p class=\"cite\">\nThe circuit board of the Apple 85W Macbook charger (left) compared with an imitation charger (right). The genuine charger has many more components.\n</p>\n<p>\nFlipping the chargers over and looking at the circuit boards shows the much more complex circuitry of the Apple charger.\nThe imitation charger has just one control IC (in the upper left).<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref17\">[17]</a>\nsince the PFC circuit is omitted entirely. In addition, the control circuits are much less complex and the imitation leaves out the ground connection.\n</p><p>\nThe imitation charger is actually better quality than I expected, compared to the awful\n<a href=\"http://www.righto.com/2014/05/a-look-inside-ipad-chargers-pricey.html\">counterfeit iPad charger</a> and <a href=\"http://www.righto.com/2012/03/inside-cheap-phone-charger-and-why-you.html\">iPhone charger</a> that I examined.\nThe imitation Macbook charger didn't cut every corner possible and uses a moderately complex circuit.\nThe imitation charger pays attention to safety, using insulating tape and keeping low and high voltages widely separated, except for one dangerous assembly error that can be seen below.\nThe Y capacitor (blue) was installed crooked, so its connection lead from the low-voltage side ended up dangerously close to a pin on the high-voltage side of the optoisolator (black), creating a risk of shock.\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/HOD4uSIjip-6Se3-ptsemtMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-qoKo3dW7cd4/VkaScxza1cI/AAAAAAAAxXk/SIRAV9ue7JE/w400/tooclose.jpg\" width=\"400\" alt=\"Safety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.\" title=\"Safety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.\">\n</a>\n</p><p class=\"cite\">\nSafety hazard inside an imitation Macbook charger. The lead of the Y capacitor is too close to the pin of the optoisolator, causing a risk of shock.\n</p>\n<h3>Problems with Apple's chargers</h3>\nThe <a href=\"https://en.wikipedia.org/wiki/Irony#Situational_irony\">ironic</a> thing about the Apple Macbook charger is that despite its complexity and attention to detail, it's not a reliable charger.\nWhen I told people I was doing a charger teardown, I rapidly collected a pile of broken chargers from people who had failed chargers.\nThe charger cable is rather flimsy, leading to a <a href=\"http://www.macworld.com/article/1163480/apple_settles_magsafe_lawsuit_offers_replacements.html\">class action lawsuit</a> stating that the power adapter <a href=\"https://www.adaptersettlement.com/faq.aspx#q2\">dangerously frays, sparks and prematurely fails to work</a>.\nApple provides <a href=\"https://support.apple.com/en-us/HT201600\">detailed instructions</a> on how to avoid damaging the wire, but a stronger cable would be a better solution.\nThe result is <a href=\"http://www.apple.com/shop/product/MC556LL/B/apple-85w-magsafe-power-adapter-for-15-and-17-inch-macbook-pro\">reviews on the Apple website</a> give the charger a dismal 1.5 out of 5 stars.\n<p>\n<a href=\"https://picasaweb.google.com/lh/photo/_Tv0bSrE9xvaq5JOoJlZpNMTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-T7-KTqpN-TY/Vk1Oy0L69ZI/AAAAAAAAxaY/v3LJtJ55M-c/w500/charred.jpg\" width=\"500\" alt=\"Burn mark inside an 85W Apple Macbook power supply that failed.\" title=\"Burn mark inside an 85W Apple Macbook power supply that failed.\">\n</a>\n</p><p class=\"cite\">\nBurn mark inside an 85W Apple Macbook power supply that failed.\n</p>\n<p>\nMacbook chargers also fail due to internal problems.\nThe photos above and below show burn marks inside a failed Apple charger from my collection.<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref18\">[18]</a>\nI can't tell exactly what went wrong, but something caused a short circuit that burnt up a few components. (The white gunk in the photo is insulating silicone used to mount the board.)\n</p><p>\n<a href=\"https://picasaweb.google.com/lh/photo/8NtIhBso-BwAZtW5ZgnjL9MTjNZETYmyPJy0liipFm0\"><img class=\"hilite\" src=\"https://lh3.googleusercontent.com/-mZgB6d_NjOA/Vk7BNtotTxI/AAAAAAAAxcY/Jqca3S0rVxY/w500/burn.jpg\" width=\"500\" alt=\"Burn marks inside an Apple Macbook charger that malfunctioned.\" title=\"Burn marks inside an Apple Macbook charger that malfunctioned.\">\n</a>\n</p><p class=\"cite\">\nBurn marks inside an Apple Macbook charger that malfunctioned.\n</p>\n<h3>Why Apple's chargers are so expensive</h3>\nAs you can see, the genuine Apple charger has a much more advanced design than the imitation charger and includes more safety features. However, the genuine charger costs $65 more and I doubt the additional components cost more than $10 to $15<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref19\">[19]</a>. Most of the cost of the charger goes into the healthy profit margin that Apple has on their products. Apple has an estimated 45% profit margin on iPhones<a class=\"ref\" href=\"http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html#ref20\">[20]</a>\nand chargers are probably even more profitable.\nDespite this, I don't recommend saving money with a cheap eBay charger due to the safety risk.\n<h2>Conclusion</h2>\nPeople don't give much thought to what's inside a charger,\nbut a lot of interesting circuitry is crammed inside.\nThe charger uses advanced techniques such as power factor correction and a resonant switching power supply to produce 85 watts of power in a compact, efficient unit.\nThe Macbook charger is an impressive piece of engineering, even if it's not as reliable as you'd hope.\nOn the other hand, cheap no-name chargers cut corners and often have safety issues, making them risky, both to you and your computer.\n\n<h2>Notes and references</h2>\n<a name=\"ref1\"></a>[1]\n\nThe main alternative to a switching power supply is a linear power supply, which is much simpler and converts excess voltage to heat.\nBecause of this wasted energy, linear power supplies are only about 60% efficient, compared to about 85% for a switching power supply.\nLinear power supplies also use a bulky transformer that may weigh multiple pounds, while switching power supplies can use a tiny high-frequency transformer.\n\n<p>\n<a name=\"ref2\"></a>[2]\n\nSwitching power supplies were taking over the computer industry as early as 1971. <i>Electronics World</i> said that\ncompanies using switching regulators \"read like a 'Who's Who' of the computer industry: IBM, Honeywell, Univac, DEC, Burroughs, and RCA, to name a few\". See\n \"The Switching Regulator Power Supply\", Electronics World v86 October 1971, p43-47.\n In 1976, Silicon General introduced <a href=\"http://powerelectronics.com/power-management/pwm-single-chip-giant-industry\">SG1524 PWM integrated circuit</a>, which put the control circuitry for a switching power supply on a single chip.\n \n</p><p>\n<a name=\"ref3\"></a>[3]\n\nThe quote about the Apple II power supply is from page 74 of the 2011 book\n<a href=\"http://www.amazon.com/gp/product/1451648537/ref=as_li_ss_tl?ie=UTF8&amp;tag=rightocom&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1451648537\">Steve Jobs</a> by Walter Isaacson.\nIt inspired me to write a detailed history of switching power supplies: <a href=\"http://www.righto.com/2012/02/apple-didnt-revolutionize-power.html\">Apple didn't revolutionize power supplies; new transistors did</a>.\nSteve Job's quote sounds convincing, but I consider it the <a href=\"http://www.folklore.org/StoryView.py?story=Reality_Distortion_Field.txt\">reality distortion field</a> in effect.\n\n</p><p>\n<a name=\"ref4\"></a>[4]\n\nIf anyone can take the credit for making switching power supplies an inexpensive everyday product, it is Robert Boschert.\nHe started selling switching power supplies in 1974\nfor everything from printers and computers to the F-14 fighter plane.\nSee <a href=\"http://electronicdesign.com/boards/robert-boschert-man-many-hats-changes-world-power-supplies\">Robert Boschert: A Man Of Many Hats Changes The World Of Power Supplies</a> in <i>Electronic Design</i>.\nThe Apple II's power supply is very similar to the\n<a href=\"http://www.epanorama.net/sff/Power%20Electronics/Power_Supplies-Switching/Flyback%20Converter%20Power%20Supply%20Theory.pdf\">Boschert OL25 flyback power supply</a> but with a <a href=\"https://www.google.com/patents/US4130862#v=onepage&amp;q&amp;f=false\">patented</a> variation.\n\n</p><p>\n<a name=\"ref5\"></a>[5]\n\nYou might expect the bad power factor is because switching power supplies rapidly turn on and off, but that's not the problem. The difficulty comes from the nonlinear diode bridge, which charges the input capacitor only at peaks of the AC signal.\n(If you're familiar with power factors due to phase shift, this is totally different. The problem is the non-sinusoidal current, not a phase shift.)\n</p><p>\nThe <a href=\"http://www.vicorpower.com/documents/application_notes/an1_active-pfc.pdf\">idea behind PFC</a> is to use a DC-DC boost converter before the switching power supply itself. The boost converter is carefully controlled so its input current is a sinusoid proportional to the AC waveform. The result is the boost converter looks like a nice resistive load to the power line, and the boost converter supplies steady voltage to the switching power supply components.\n\n</p><p>\n<a name=\"ref6\"></a>[6]\n\nThe charger uses a <a href=\"http://www.mouser.com/ds/2/308/mc33368-d-302405.pdf\">MC33368</a> \"High Voltage GreenLine Power Factor Controller\" chip\nto run the PFC. The chip is designed for low power, high-density applications so it's a good match for the charger.\n\n</p><p>\n<a name=\"ref7\"></a>[7]\n\nThe SMPS controller chip is a <a href=\"http://www.st.com/web/catalog/sense_power/FM142/CL1454/SC354/PF129679\">L6599</a> high-voltage resonant controller; for some reason it is labeled DAP015D.\nIt uses a resonant half-bridge topology; in a half-bridge circuit, two transistors control power through the transformer first one direction and then the other.\nCommon switching power supplies use a PWM (pulse width modulation) controller, which adjusts the time the input is on. \nThe L6599, on the other hand, adjusts the frequency instead of the pulse width. The two transistors alternate switching on for 50% of the time. As the frequency increases above the resonant frequency, the power drops, so controlling the frequency regulates the output voltage.\n\n</p><p>\n<a name=\"ref8\"></a>[8]\n\nThe processor in the charger is a MSP430F2003 ultra low power microcontroller with 1kB of flash and just 128 bytes of RAM. It includes a high-precision 16-bit analog to digital converter. More information is <a href=\"http://www.ti.com/product/msp430f2003\">here</a>.\n</p><p>\nThe 68000 microprocessor from the original Apple Macintosh and the 430 microcontroller in the charger aren't directly comparable as they have very different designs and instruction sets.\nBut for a rough comparison, the <a href=\"https://en.wikipedia.org/wiki/Motorola_68000\">68000</a> is a 16/32 bit processor running at <a href=\"https://en.wikipedia.org/wiki/Macintosh_128K\">7.8MHz</a>, while the MSP430 is a 16 bit processor running at 16MHz. \nThe Dhrystone benchmark measures\n<a href=\"https://en.wikipedia.org/wiki/Instructions_per_second#Timeline_of_instructions_per_second\">1.4 MIPS</a> (million instructions per second) for the 68000 and much higher performance of\n<a href=\"http://www.ecrostech.com/Other/Resources/Dhrystone.htm\">4.6 MIPS</a> for the MSP430. The MSP430 is designed for low power consumption, using about 1% of the power of the 68000.\n\n</p><p>\n<a name=\"ref9\"></a>[9]\n\nThe 60W Macbook charger uses a custom MSP430 processor, but the 85W charger uses a general-purpose processor that needs to <a href=\"http://www.ti.com/lit/ug/slau320v/slau320v.pdf\">loaded with firmware</a>.\nThe chip is programmed with the <a href=\"https://en.wikipedia.org/wiki/Spy-Bi-Wire\">Spy-Bi-Wire</a> interface, which is TI's two-wire variant of the standard JTAG interface.\nAfter programming, a security fuse inside the chip is blown to prevent anyone from reading or modifying the firmware.\n\n</p><p>\n<a name=\"ref10\"></a>[10]\n\nThe voltage to the processor is provided by not by a standard voltage regulator, but a <a href=\"https://cds.linear.com/docs/en/datasheet/1460fc.pdf\">LT1460</a> precision reference, which outputs 3.3 volts with the exceptionally high accuracy of 0.075%. This seems like overkill to me;\nthis chip is the second-most expensive chip in the charger after the SMPS controller, based on Octopart's prices.\n\n</p><p>\n<a name=\"ref11\"></a>[11]\n\nThe voltage reference chip is unusual, it is a <a href=\"http://www.st.com/web/en/resource/technical/document/datasheet/CD00001691.pdf\">TSM103/A</a> that combines two op amps and a 2.5V reference in a single chip.\nSemiconductor properties vary widely with temperature, so keeping the voltage stable isn't straightforward. \nA clever circuit called a <i>bandgap reference</i> cancels out temperature variations; I explain it in detail <a href=\"http://www.righto.com/2014/09/reverse-engineering-counterfeit-7805.html\">here</a>. \n\n</p><p>\n<a name=\"ref12\"></a>[12]\n\nSince some readers are very interested in grounding, I'll give more details.\nA 1K&amp;ohm; ground resistor connects the AC ground pin to the charger's output ground. (With the 2-pin plug, the AC ground pin is not connected.)\nFour 9.1M&amp;ohm; resistors connect the internal DC ground to the output ground. Since they cross the isolation boundary, safety is an issue. Their high resistance avoids a shock hazard. In addition, since there are four resistors in series for redundancy, the charger remains safe even if a resistor shorts out somehow. There is also a Y capacitor (680pF, 250V) between the internal ground and output ground; this blue capacitor is on the upper side of the board. A T5A fuse (5 amps) protects the output ground.\n\n</p><p>\n<a name=\"ref13\"></a>[13]\n\nThe power in watts is simply the volts multiplied by the amps. Increasing the voltage is beneficial because it allows higher wattage; the maximum current is limited by the wire size.\n\n</p><p>\n<a name=\"ref14\"></a>[14]\n\nThe control circuitry is fairly complex.\nThe output voltage is monitored by an op amp in the TSM103/A chip which compares it with a reference voltage generated by the same chip. This amplifier sends a feedback signal via an optoisolator to the SMPS control chip on the primary side. If the voltage is too high, the feedback signal lowers the voltage and vice versa. That part is normal for a power supply, but ramping the voltage from 16.5 volts to 18.5 volts is where things get complicated.\n</p><p>\nThe output current creates a voltage across the current sense resistors, which have a tiny resistance of 0.005&amp;ohm; each - they are more like wires than resistors. An op amp in the TSM103/A chip amplifies this voltage. This signal goes to tiny <a href=\"http://www.ti.com/lit/ds/symlink/ts321.pdf\">TS321</a> op amp which starts ramping up when the signal corresponds to 4.1A. This signal goes into the previously-described monitoring circuit, increasing the output voltage.\n</p><p>\nThe current signal also goes into a tiny <a href=\"http://www.st.com/web/en/resource/technical/document/datasheet/CD00001660.pdf\">TS391</a> comparator, which sends a signal to the primary through another optoisolator to cut the output voltage. This appears to be a protection circuit if the current gets too high.\nThe circuit board has a few spots where zero-ohm resistors (i.e. jumpers) can be installed to change the op amp's amplification. This allows the amplification to be adjusted for accuracy during manufacture.\n\n</p><p>\n<a name=\"ref15\"></a>[15]\n\nIf you measure the voltage from a Macbook charger, you'll find about six volts instead of the 16.5 volts you'd expect. The reason is the output is deactivated and you're only measuring the voltage through the bypass resistor just below the output transistor.\n</p><p>\n<a name=\"ref16\"></a>[16]\n\nThe laptop pulls the charger output low with a 39.41K&amp;ohm; resistor to indicate that it is ready for power. An interesting thing is it won't work to pull the output too low - shorting the output to ground doesn't work. This provides a safety feature. Accidental contact with the pins is unlikely to pull the output to the right level, so the charger is unlikely to energize except when properly connected.\n\n</p><p>\n<a name=\"ref17\"></a>[17]\n\nThe imitation charger uses the Fairchild <a href=\"https://www.fairchildsemi.com/datasheets/FA/FAN7602.pdf\">FAN7602</a> Green PWM Controller chip, which is more advanced than I expected in a knock-off; \nI wouldn't have been surprised if it just used a simple transistor oscillator.\nAnother thing to note is the imitation charger uses a single-sided circuit board, while the genuine uses a double-sided circuit board, due to the much more complex circuit.\n\n</p><p>\n<a name=\"ref18\"></a>[18]\n\nThe burnt charger is an Apple A1222 85W Macbook charger, which is a different model from the A1172 charger in the rest of the teardown.\nThe A1222 is in a slightly smaller, square case and has a totally different design based on the\n<a href=\"http://monitor.espec.ws/files/ncp1203_105.pdf\">NCP 1203</a> PWM controller chip.\nComponents in the A1222 charger are packed even more tightly than in the A1172 charger. Based on the burnt-up charger, I think they pushed the density a bit too far.\n\n</p><p>\n<a name=\"ref19\"></a>[19]\nI looked up many of the charger components on <a href=\"http://octopart.com\">Octopart</a> to see their prices. Apple's prices should be considerably lower. The charger has many tiny resistors, capacitors and transistors; they cost less than a cent each. The larger power semiconductors, capacitors and inductors cost considerably more. I was surprised that the 16-bit MSP430 processor costs only about $0.45. I estimated the price of the custom transformers. The list below shows the main components.\n</p><table>\n <tr><th>Component</th><th>Cost</th></tr>\n <tr><td>MSP430F2003 processor</td><td>$0.45</td></tr>\n <tr><td>MC33368D PFC chip</td><td>$0.50</td></tr>\n <tr><td>L6599 controller chip</td><td>$1.62</td></tr>\n <tr><td>LT1460 3.3V reference</td><td>$1.46</td></tr>\n <tr><td>TSM103/A reference</td><td>$0.16</td></tr>\n <tr><td>2x P11NM60AFP 11A 60V MOSFET</td><td>$2.00</td></tr>\n <tr><td>3x Vishay optocoupler</td><td>$0.48</td></tr>\n <tr><td>2x 630V 0.47uF film capacitor</td><td>$0.88</td></tr>\n <tr><td>4x 25V 680uF electrolytic capacitor</td><td>$0.12</td></tr>\n <tr><td>420V 82uF electrolytic capacitor</td><td>$0.93</td></tr>\n <tr><td>polypropylene X2 capacitor</td><td>$0.17</td></tr>\n <tr><td>3x toroidal inductor</td><td>$0.75</td></tr>\n <tr><td>4A 600V diode bridge</td><td>$0.40</td></tr>\n <tr><td>2x dual common-cathode schottky rectifier 60V, 15A</td><td>$0.80</td><td></td></tr>\n <tr><td>20NC603 power MOSFET</td><td>$1.57</td></tr>\n <tr><td>transformer</td><td>$1.50?</td></tr>\n <tr><td>PFC inductor</td><td>$1.50?</td></tr>\n</table>\n<p>\n<a name=\"ref20\"></a>[20]\n\nThe article <a href=\"http://www.digitaltrends.com/mobile/iphone-cost-what-apple-is-paying/\">Breaking down the full $650 cost of the iPhone 5</a> describes Apple's profit margins in detail, estimating 45% profit margin on the iPhone.\nSome people have suggested that Apple's research and development expenses explain the high cost of their chargers, but the math shows R&amp;D costs must be negligible. \nThe book\n<a rel=\"nofollow\" href=\"http://www.amazon.com/gp/product/0121370305/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0121370305&amp;linkCode=as2&amp;tag=rightocom&amp;linkId=BVOTBHVW2MMRFIQ5\">Practical Switching Power Supply Design</a>\nestimates 9 worker-months to design and perfect a switching power supply, so perhaps $200,000 of engineering cost. More than 20 million Macbooks are sold per year, so the R&amp;D cost per charger would be one cent. Even assuming the Macbook charger requires ten times the development of a standard power supply only increases the cost to 10 cents.\n\n</p>\n</div>\n\n</div>"
    }, {
        "title": "elasticio/haproxy-srv",
        "url": "https://github.com/elasticio/haproxy-srv",
        "excerpt": "HAProxy SRV HAProxy-SRV is a templating solution that can flexibly reconfigure HAProxy based on the regular polling of the service data from DNS (e.g. SkyDNS or Mesos-DNS) using SRV records. It has a&hellip;",
        "date_saved": "Thu Jul 28 20:13:53 EDT 2016",
        "html_file": "elasticiohaproxysrv.html",
        "png_file": "elasticiohaproxysrv.png",
        "md_file": "elasticiohaproxysrv.md",
        "content": "<div><article class=\"markdown-body entry-content\"><h2><a id=\"user-content-haproxy-srv\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#haproxy-srv\"></a>HAProxy SRV</h2>\n\n<p>HAProxy-SRV is a templating solution that can flexibly reconfigure HAProxy based on the regular polling of the\nservice data from DNS (e.g. SkyDNS or Mesos-DNS) using SRV records.</p>\n\n<p>It has a very simple logic - HA Proxy is configured based on the Handlebars template that is re-evaluated every time changes in DNS are detecting. Script is polling DNS and trigger a HA Proxy configuration refresh after changes.</p>\n\n<p>Made by <a href=\"http://www.elastic.io\">elastic.io</a> in Germany.</p>\n\n<h2><a id=\"user-content-how-it-works\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#how-it-works\"></a>How it works</h2>\n\n<p>Script works very simple - after docker container started script parse and validates template, create a HAProxy configuration file in <code>/src/haproxy.cfg</code> and start HAProxy as a daemon. Every second (by default, can be configured via <code>REFRESH_TIMEOUT</code> env variable, default 1000) scirpt will execute a DNS lookup and re-evaluate the template, if result of evaluation is different from original configuration, original config will be overwritten and HAProxy reload will be triggered. HAProxy reload will not affect existing connections.</p>\n\n<h2><a id=\"user-content-how-to-use-it\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#how-to-use-it\"></a>How to use it</h2>\n\n<p>Recommended way to deploy is is to use <a href=\"https://hub.docker.com/r/elasticio/haproxy-srv/\">a Docker image</a>. You would need to place your configuration file template, the simples way to do it is to build an image based on <code>haproxy-srv</code> image. </p>\n\n<p>Create a new <code>Dockerfile</code> content like this:</p>\n\n<pre><code>FROM elasticio/haproxy-srv:latest\n\nCOPY haproxy.cfg.template /src/\n\nEXPOSE 80 8880\n</code></pre>\n\n<p>Note the <code>EXPOSE</code> part here, don't forget to specify exposed ports if your HAProxy configuration listens on any port different from <code>80</code>.</p>\n\n<p>As a next step create a template file, it should be placed under <code>/src/haproxy.cfg.template</code> in resulting Docker container and should have a <a href=\"http://handlebarsjs.com/\">Handlebars</a> syntax with one little extension (see below). Here is the sample:</p>\n\n<div class=\"highlight highlight-text-html-handlebars\"><pre>global\n user root\n group root\n\n # Default SSL material locations\n ca-base /etc/ssl/certs\n crt-base /etc/ssl/private\n\n # Default ciphers to use on SSL-enabled listening sockets.\n # For more information, see ciphers(1SSL).\n ssl-default-bind-ciphers kEECDH+aRSA+AES:kRSA+AES:+AES256:RC4-SHA:!kEDH:!LOW:!EXP:!MD5:!aNULL:!eNULL\n\n # Stats required for this module to work\n # https://github.com/observing/haproxy#haproxycfg\n stats socket /tmp/haproxy.sock level admin\n\ndefaults\n mode http\n timeout connect 5000\n timeout client 50000\n timeout server 50000\n\n\nfrontend stats\n bind 0.0.0.0:8081\n mode http\n stats enable\n stats hide-version\n stats uri /\n\n<span class=\"pl-c1\">{{#dns-srv</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_frontend._tcp.marathon.mesos<span class=\"pl-pds\">\"</span></span><span class=\"pl-c1\">}}</span>\n frontend sample\n bind 0.0.0.0:8080\n mode http\n balance roundrobin\n option http-server-close\n option forwardfor\n <span class=\"pl-c1\">{{#each</span> <span class=\"pl-v\">this</span><span class=\"pl-c1\">}}</span>\n server frontend-<span class=\"pl-c1\">{{</span><span class=\"pl-v\">@index</span><span class=\"pl-c1\">}}</span> <span class=\"pl-c1\">{{</span><span class=\"pl-v\">ip</span><span class=\"pl-c1\">}}</span>:<span class=\"pl-c1\">{{</span><span class=\"pl-v\">port</span><span class=\"pl-c1\">}}</span> check weight <span class=\"pl-c1\">{{</span><span class=\"pl-v\">weight</span><span class=\"pl-c1\">}}</span>\n <span class=\"pl-c1\">{{/each}}</span>\n<span class=\"pl-c1\">{{/dns-srv}}</span></pre></div>\n\n<p>It could be any valid HAProxy configuration with one mandatory addition:</p>\n\n<pre><code>stats socket /tmp/haproxy.sock level admin\n</code></pre>\n\n<p>to trigger HAProxy restart the script inside the file will communicate with HAProxy daemon via socket <code>/tmp/haproxy.sock</code>.</p>\n\n<h2><a id=\"user-content-template\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#template\"></a>Template</h2>\n\n<p>Configuration template is a normal <a href=\"http://handlebarsjs.com/\">Handlebars</a> so that you could use any of the feature of this template language. There is however one additional helper <code>dns-srv</code> implemented. This helper takes one string parameter and will execute a <a href=\"https://nodejs.org/api/dns.html#dns_dns_resolvesrv_hostname_callback\">DNS SRV lookup</a> to fetch an SRV record(s). After SRV Record lookup, for each SRV record a <a href=\"https://nodejs.org/api/dns.html#dns_dns_resolve_hostname_rrtype_callback\">DNS resolution</a> to find the IP will be made.</p>\n\n<p>This template will give you an idea how to use it:</p>\n\n<div class=\"highlight highlight-text-html-handlebars\"><pre># Your usual configuration is here\n<span class=\"pl-c1\">{{#dns-srv</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>_frontend._tcp.marathon.mesos<span class=\"pl-pds\">\"</span></span><span class=\"pl-c1\">}}</span>\n # This block will only be rendered when _frontend._tcp.marathon.mesos was found in DNS\n <span class=\"pl-c1\">{{#each</span> <span class=\"pl-v\">this</span><span class=\"pl-c1\">}}</span>\n # This piece will be rendered for each SRV entry from DNS\n SRV Name is <span class=\"pl-c1\">{{</span><span class=\"pl-v\">name</span><span class=\"pl-c1\">}}</span>\n SRV Weight is <span class=\"pl-c1\">{{</span><span class=\"pl-v\">weight</span><span class=\"pl-c1\">}}</span>\n SRV Port is <span class=\"pl-c1\">{{</span><span class=\"pl-v\">port</span><span class=\"pl-c1\">}}</span>\n IP for SRV Name is <span class=\"pl-c1\">{{</span><span class=\"pl-v\">ip</span><span class=\"pl-c1\">}}</span>\n <span class=\"pl-c1\">{{/each}}</span>\n<span class=\"pl-c1\">{{/dns-srv}}</span>\n# rest of your configuration</pre></div>\n\n<p>Typical use-case for Msos-DNS you can see above.</p>\n\n<h2><a id=\"user-content-debugging\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#debugging\"></a>Debugging</h2>\n\n<p>Just set the <code>DEBUG</code> environment variable into <code>*</code> to see detailed logging.</p>\n\n<h2><a id=\"user-content-todos\" class=\"anchor\" href=\"https://github.com/elasticio/haproxy-srv#todos\"></a>TODOs</h2>\n\n<p>PRs are welcome for</p>\n\n<ul>\n<li>Bug fixes</li>\n<li>Unit tests</li>\n<li>Gulp or Grunt-based builds</li>\n<li>CircleCI config for continous integration</li>\n</ul>\n</article>\n </div>"
    }, {
        "title": "Git Source Code Review",
        "url": "http://fabiensanglard.net/git_code_review/diff.php",
        "excerpt": "April 1st, 2014 I love you Hoi-En. To find the differences between two \"things\" is a difficult task that Git has to perform very often: Find the differences between two binaries files in order to&hellip;",
        "date_saved": "Thu Jul 28 20:13:54 EDT 2016",
        "html_file": "git_source_code_review.html",
        "png_file": "git_source_code_review.png",
        "md_file": "git_source_code_review.md",
        "content": "<div><section id=\"content\">\n\n\n\n\t\t\n\n\n<p id=\"date\">April 1st, 2014</p>\n\n\t\t\t\n<p id=\"paperbox\">\n<a href=\"http://fabiensanglard.net/git_code_review/index.php\">\n<img class=\"shadowed\" src=\"http://fabiensanglard.net/git_code_review/git_blue_print.png\"> <p>I love you Hoi-En.</p><img src=\"http://fabiensanglard.net/git_code_review/diff.php\"> \n</a> \n \n \n \n\n \nTo find the differences between two \"things\" is a difficult task that Git has to perform very often:\n</p><ul>\n <li>Find the differences between two binaries files in order to generate a delta.</li>\n <li>Find the differences between two text files in order to merge properly.</li>\n <li>Find the differences between two text files in order to display it.</li>\n <li>Find the differences between two commands in order to find typos.</li>\n</ul>\n<p>\nHere is a summary of all the algorithms used with an associated genesis.<br>\n<br>\n<a href=\"http://fabiensanglard.net/git_code_review/index.php\">Part 1: Overview</a><br>\n<a href=\"http://fabiensanglard.net/git_code_review/history.php\">Part 2: Genesis</a>\n<a href=\"http://fabiensanglard.net/git_code_review/architecture.php\">Part 3: Architecture</a>\n<a href=\"http://fabiensanglard.net/git_code_review/diff.php\">Part 4: Algorithms for DIFF</a>\n<br>\n \n<br>\n </p>\n\n\n\n\n\n<h2>Diff on text</h2>\n<p>\n Find the difference between text files is something Git has to do the most commonly :\n </p><ul>\n <li>Look at the difference between index and working directory: <code class=\"git\">git diff file.txt</code>.</li>\n <li>Compare the change between two commits: <code class=\"git\">git diff commitBefore commitAfter</code></li>\n <li>Generate a patch : <code class=\"git\">git format-patch master --stdout &gt; mypatch.patch</code>.</li>\n </ul>\n <p>\n The <a href=\"https://github.com/git/git/blob/e83c5163316f89bfbde7d9ab23ca2e25604af290/show-diff.c#L39\">first implementation</a> simply leveraged the system <code>diff</code> executable via a call to <code>popen</code> in <code>show-diff.c</code>.\n <code>diff</code> is a very\n famous and ubiquitous tool in the Linux world originally developed in the early 1970 for Unix. Its first version used <a href=\"http://en.wikipedia.org/wiki/Hunt%E2%80%93McIlroy_algorithm\">Hunt&#x2013;McIlroy algorithm</a>. The core algorithm was later notoriously improved thanks to the work of <a href=\"http://en.wikipedia.org/wiki/Eugene_Myers\">Eugene W. Myers</a> and <a href=\"http://en.wikipedia.org/wiki/Webb_Miller\">Webb Miller</a>, work extensively document in the papers:\n <a href=\"http://www.xmailserver.org/diff2.pdf\">An O(ND) Difference Algorithm and its Variations</a> by Eugene W. Myers and \n <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.189.70&amp;rep=rep1&amp;type=pdf\">A File Comparison Program</a> by Webb Miller and Myers.<br>\n <br>\n The two most important metrics for diff operations are:\n </p>\n <p>\n <u>Effort on Speed :</u><br>\n </p><p>\n System diff not only consumed a <code>fork</code>/<code>exec</code>, it \n also required a lot of useless access disks because of temporary data. A builtin diff module was needed and implemented in <a href=\"https://github.com/git/git/commit/3443546f6ef57fe28ea5cca232df8e400bfc3883\">March 2006 patch</a> which introduced the <code>xdiff</code> folder containing a simplified version of <a href=\"http://www.xmailserver.org/xdiff-lib.html\">libxdiff</a>:\n\n </p>\n\n\n<p>\n Since libxdiff used Eugene W. Myers's algorithm, the diff strategy was called <code>myers</code>. To this day it is still the \ndefault way git perform all diffs on text. <br>\n <br>\n <u>Effort on Quality :</u><br>\n </p><p>\n If speed is an easy metric to understand and benchmark, quality is subjective and not intuitive. Take for example two versions of a file where a developer simply added a method <code>functhreehalves</code> in the middle. There are two way to reconstruct the change but one is of much higher quality because it clearly shows what was added where the other seems to indicate something was modified.<br>\n <br>\n </p><table border=\"0\">\n <tr>\n <td>\n <pre> \n\n \n $diff -y file2 file1\n void func1() { void func1() {\n x += 1 x += 1\n } }\n<span>\n &gt; void functhreehalves() {\n &gt; x += 1.5\n &gt; }\n &gt; </span>\n void func2() { void func2() {\n x += 2 x += 2\n } }\n\n\n </pre>\n </td>\n <td>\n\n\n <pre> \n\n \n $diff -y file2 file1\n void func1() { void func1() {\n x += 1 x += 1\n }<span> &gt; }\n &gt;\n &gt; void functhreehalves() {\n &gt; x += 1.5\n </span> }\n \n void func2() { void func2() {\n x += 2 x += 2\n } }\n\n\n </pre>\n </td>\n</tr>\n</table>\n <p>\n The discussion started in <a href=\"http://marc.info/?l=git&amp;m=123082787502576&amp;w=2\">[PATCH 0/3] Teach Git about\n the patience diff algorithm</a> where quality between git's myers and bazar's patience were compared. \n Since patience algorithm seemed to provide a better quality on specific input it was shortly added in a \n <a href=\"https://github.com/git/git/commit/92b7de93fb7801570ddc3195f03f30b9c201a3bd\">patch</a> \n that modified further <code>xdiff</code> :\n </p>\n <p>\n You can find more documentation on patience algorithm from the author himself Bram Cohen (yes, the guy who also invented Bittorrent):\n <a href=\"http://bramcohen.livejournal.com/73318.html\">Patience Diff Advantages</a> and <a href=\"http://alfedenzo.livejournal.com/170301.html\">Patience Diff, a brief summary</a>.<br>\n <br>\n Further work was done by people from <a href=\"http://www.eclipse.org/jgit/\">jgit project</a> (which is a Java/Eclipse based). Their histogram based technique was supposed to be faster than <code>myers</code> while still based on based on Cohen's four rules found in <code>patience</code> (best of both world). A <a href=\"https://github.com/git/git/commit/8c912eea94a2138e8bc608f7c390eb0b313effb0\">patch</a> was eventually submitted: \n\n</p>\n <br>\n<u>Note :</u> So which diff strategy should be used? I personally have always used the default \n(<code>myers</code>). <code>histogram</code> and <code>patience</code> seem to provide better \noutput on specific case but they are so marginal and poorly documented that it is impossible to \nknow when they will be good withiout trial/errors. If non-obsolete test cases could be provided \nusers could probably make educated decisions.\n <br>\n <br>\n<u>Note :</u> There is a fourth diff strategy called <code>minimal</code> which is actually an extended version of myers: \nIf no minimal diff is requested the myers algo <a href=\"https://github.com/git/git/blob/master/xdiff/xdiffi.c#L153\">simply returns</a>. \nBut if minimal is requested, the algorithm will iterate until a certain amount of CPU time has been consumed and keep \nthe \"best\" diff. Best being the smallest diff. <code>Minimal</code>was always part of xlibdiff and came with the first \"speed\" patch mentioned earlier.<br>\n <br>\n\n<u>Trivia :</u> This need for speed also triggered the creation of a <a href=\"http://marc.info/?l=git&amp;m=133103975225142\">performance testing framework</a> for diff strategies.<br>\n <br>\n\n<u>Trivia :</u> diff is such an important feature that git developer even allow user to use their own external custom engine via the \n<code>GIT_EXTERNAL_DIFF</code> variable (<a href=\"http://stackoverflow.com/questions/12590947/using-git-diff-to-detect-code-movement-how-to-use-diff-options\">Using Git diff to detect code movement</a>).\n <br>\n <br>\n To finish on text diff, and example of trace trace execution that I found useful:<br>\n <br>\n <pre>\n\n main (git.c)\n cmd_diff (builtin/diff.c)\n builtin_diff_files (builtin/pack-objects.c) \n run_diff_files (diff-lib.c)\n xdi_diff_outf (xdiff-interface.c)\n xdi_diff (xdiff-interface.c)\n xdl_diff (xdiff/xdiffi.c)\n xdl_do_diff (xdiff/xdiffi.c)\n xdl_do_patience_diff\n xdl_do_histogram_diff\n meyes\n meyes mininmal\n </pre>\n\n\n\n<h2>Diff on binaries (deltas)</h2>\n<p>\n The initial architecture of Git was: one text file =&gt; one sha1 =&gt; one deflated blob. \n The only drawback was HD storage consumption but \"disk is cheap\" was a fair approach \n and things worked well this way for a while. But big repositories suffered when being \n cloned across a network and all those blobs required a lot of disk access.<br> \n <br> \n \n The topic <a href=\"http://www.gelato.unsw.edu.au/archives/git/0505/2821.html\">\n RFC: adding xdelta compression to git</a> raised those issues and in the end it was decided\n that storage was cheap but bandwidth and I/O were not. The <a href=\"http://xdelta.org/\">xdelta lib</a> was briefly\n considered but a customized version of xlibdiff was favored and \n <a href=\"https://github.com/git/git/commit/a310d4349467d78266f38d29e500c77b96ee5bef\">added to xdiff</a>.\n\n</p>\n\n<p>\n Since binary files miss the CR character used to build atomic units in text algorithm (lines), different heuristic can be used in\n order to cut the stream. Set length of 48 bytes is an approach but git used <a href=\"http://en.wikipedia.org/wiki/Adler-32\">adler32</a> \n before being replaced later with Rabin's <a href=\"http://www.xmailserver.org/rabin.pdf\">Fingerprinting by random polynomials</a>\n in an other <a href=\"https://github.com/git/git/commit/3dc5a9e4cdcc7124c665a050547d1285d86a421f\">patch</a>:<br>\n\n</p>\n \n <br>\n <p>\n Rabin's finger print technique was a big improvement since the sliding window allowed to detect short addition at the beginning of a zip\n and keep deltas tiny.<br>\n <br>\n To finish with binary diff, here is the execution path of pack creation :\n </p><pre>\n\n main (git.c)\n cmd_pack_objects (builtin/pack-objects.c)\n prepare_pack (builtin/pack-objects.c)\n ll_find_deltas (builtin/pack-objects.c)\n threaded_find_deltas (builtin/pack-objects.c)\n find_deltas (builtin/pack-objects.c)\n try_delta (builtin/pack-objects.c)\n create_delta (diff-delta.c) \n </pre>\n \n\n\n\n<h2>Diff on command-line</h2>\n<p>\n git sometimes is not interested by the exact difference but rather by the distance between two strings. \n In 2008 was <a href=\"https://github.com/git/git/commit/8af84dadb142f7321ff0ce8690385e99da8ede2f\">introduced</a> a \"suggestion\" feature : \n\n</p>\n<p>\n That is how the dispatcher seen in the <a href=\"http://fabiensanglard.net/git_code_review/architecture.php\">architecture</a> part is able to provide suggestions when a typo is suspected :\n </p><pre>\n\n\n $git adt test.txt\n git: 'adt' is not a git command. See 'git --help'.\n\n Did you mean this?\n add\n\n </pre> \n <p>\n Word suggestion are generated by calculating an edit distance for each \n <a href=\"https://github.com/git/git/blob/afc711b8e1ee89626f0dddf0ef01fb73168d47ca/git.c#L335\">known builtin \n command</a> using <a href=\"https://github.com/fabiensanglard/git/blob/master/levenshtein.c\">levenshtein distance</a>\n . Found in <a href=\"https://github.com/git/git/blob/afc711b8e1ee89626f0dddf0ef01fb73168d47ca/levenshtein.c\">levenshtein.c</a> \n , it is a nice example of dynamic programming.\n</p>\n\n\n\n\n<h2>diffcore, xdiff, xdelta ... what ?</h2>\n<p>\n Just to summarize (because I was confused when I started) :\n </p>\n\n\n\n<h2>Next</h2>\n<p>\n To be published: Git internal algorithms for graphs and merge operation.\n </p>\n\n\n <h2>Comments</h2>\n\n \n \n \n \n\n\n\n\n\n\n <h2>&#xA0;</h2>\n<p>Fabien Sanglard @2014</p>\n\n\t\t</section></div>"
    }, {
        "title": "Introducing Tamper",
        "url": "http://nytimes.github.io/tamper/",
        "excerpt": "What is Tamper? Tamper is a serialization protocol for categorical data. It achieves high compression ratios by finding the smallest possible binary representation for each category. How does it&hellip;",
        "date_saved": "Thu Jul 28 20:13:56 EDT 2016",
        "html_file": "introducing_tamper.html",
        "png_file": "introducing_tamper.png",
        "md_file": "introducing_tamper.md",
        "content": "<div><div class=\"post\">\n \n <h3 id=\"what-is-tamper\">What is Tamper?</h3>\n\n<p>Tamper is a serialization protocol for categorical data. It achieves high compression ratios by finding the smallest possible binary representation for each category.</p>\n\n<h3 id=\"how-does-it-work\">How does it work?</h3>\n\n<p>Take, for example, a boolean attribute. In na&#xEF;ve JSON we would represent this as a string, &#x201C;true&#x201D; or &#x201C;false&#x201D;:</p>\n\n<p><code>\n[{\n \"guid\" : 1,\n \"edpick\" : true\n},\n{\n \"guid\" : 1,\n \"edpick\" : false\n}]\n</code></p>\n\n<p>Each value is 4-5 bytes; including punctuation <strong>27 bytes are required per item</strong>.</p>\n\n<p>Tamper evaluates the data to find the most efficent encoding&#x2014;in this case, a <a href=\"https://github.com/NYTimes/tamper/wiki/Packs/#bitmap-pack\">BitmapPack</a>.</p>\n\n<p>The data is serialized as <code>10</code>, <strong>just 0.25 bytes!</strong></p>\n\n<p>Full details of Tamper&#x2019;s encoding scheme are in the <a href=\"https://github.com/NYTimes/tamper/wiki/Packs\">protocol docs</a>.</p>\n\n<h3 id=\"how-can-it-help-me\">How can it help me?</h3>\n\n<p>If you have a large set of objects that:</p>\n\n<ul>\n <li>you want to transfer from server to browser</li>\n <li>have categorical attributes (i.e. with a distinct set of possibilities)</li>\n <li>have numeric ids (Tamper cannot pack string ids)</li>\n</ul>\n\n<p>Pourover can dramatically reduce the size of your data file, as well as time and memory required to serialize/deserialize.</p>\n\n\n\n<h3 id=\"how-do-i-get-started\">How do I get started?</h3>\n\n<p>Tamper is intended as a companion to <a href=\"http://nytimes.github.io/pourover/\">pourover.js</a>, but can be used independently.</p>\n\n<p>You&#x2019;ll need:</p>\n\n\n\n\n\n<h3 id=\"how-does-tamper-compare-to-other-serialization-approaches\">How does Tamper compare to other serialization approaches?</h3>\n\n<h5 id=\"gzipped-json\">gzipped JSON</h5>\n\n<p>Gzip works by <a href=\"http://en.wikipedia.org/wiki/DEFLATE\">writing backreferences to previous symbols</a>. Each time a symbol is repeated, gzip encodes the location and length of the backreference. These references are in turn compressed &#x2014; but in most real-world applications are larger than a direct binary encoding.</p>\n\n<p>Additionally, conventional array-of-object JSON layouts sometimes generate backreferences at each attribute boundary. Because Tamper packs all values for an attribute in a fixed-width format, there is no attribute boundary overhead.</p>\n\n<h5 id=\"google-protocol-buffers\">Google Protocol Buffers</h5>\n\n<p>Integer packs are similar in concept to Protocol Buffer <tt><a href=\"https://developers.google.com/protocol-buffers/docs/encoding#varints\">varints</a></tt>: integer size is dynamically scaled to fit the value rather than fixed at 32 bits. However, the minimum size of a varint is one byte; for many applications Tamper requires only 2-5 bits for each item.</p>\n\n<p><a href=\"https://developers.google.com/protocol-buffers/\">Protocol Buffers</a> are optimized for messaging details about a particular item; Tamper packs optimize for bulk categorical loads across many items.</p>\n\n\n\n<p>Tamper is distributed under the <a href=\"https://github.com/NYTimes/tamper/blob/master/LICENSE.txt\">Apache 2.0 License</a>.</p>\n\n<p><img src=\"http://nytimes.github.io/tamper/public/opennews-logo.png\" alt=\"OpenNews logo\" width=\"120\">\n<a href=\"http://opennews.org/code.html\">Released for OpenNews Code Convening, April 2014</a></p>\n\n</div>\n\n </div>"
    }, {
        "title": "dockercmroundup",
        "url": "http://theagileadmin.com/tag/dockercmroundup/",
        "excerpt": "Docker brings an incredibly appealing method of managing applications to the table, but also requires us to rebuild a lot of systems that aren&#x2019;t broken. In this post I&#x2019;m going to look&hellip;",
        "date_saved": "Thu Jul 28 20:13:59 EDT 2016",
        "html_file": "dockercmroundup.html",
        "png_file": "dockercmroundup.png",
        "md_file": "dockercmroundup.md",
        "content": "<div><div class=\"entry entry-content\">\n\t\t<p>Docker brings an incredibly appealing method of managing applications to the table, but also requires us to rebuild a lot of systems that aren&#x2019;t broken. In this post I&#x2019;m going to look at the pros and cons of Docker and its accompanying ecosystem, and take a look at how one might start to leverage the best parts of Docker without rewriting <em>everything.</em></p>\n<p>What is it about <a href=\"https://www.docker.com/\">Docker</a> that is so exciting? It was a moonshot experiment that struck home. Rather than providing an incremental improvement over existing infrastructure patterns, Docker takes several leaps forward by providing a fresh way of managing our applications and&#xA0;making them accessible to developers at the same time.</p>\n<p>Part of Docker&#x2019;s success relies on providing highly opinionated solutions to the problems that come with containerizing components in your system. While these solutions are invaluable in terms of accessibility and gaining adoption, they are neither the only solutions nor necessarily the best ones in every case. Even if you are sure you want to subscribe to the opinionated &#x201C;Docker way&#x201D; or think it&#x2019;s a worthwhile trade-off, you will still be accepting a new set of problems in exchange for the old ones, but the new set doesn&#x2019;t come with the benefit of a decade or so of tools and experience to leverage.</p>\n<p>In this post I&#x2019;m going to discuss what makes Docker attractive to me and what I&#x2019;m not such a fan of. Then I&#x2019;m going to explore a hybrid approach that seeks to take advantage of the best parts of Docker without locking me in to the not-so-great parts.</p>\n<p><em>P.S. I was hoping to put together a working demo of the architecture I describe below, but the proposed integration is still&#xA0;<a href=\"https://github.com/lxc/lxd/issues/608\">not possible</a>&#x2026; so that&#x2019;s not going to happen. I&#x2019;ve sat on this post for a while hoping things would change, but they haven&#x2019;t, and I&#x2019;ve decided instead to put this out there as is, as a theoretical architecture.</em></p>\n<h3>The Good</h3>\n<p>Some aspects of docker are home runs. In a time where microservices rule and developing software for the cloud is an obvious choice, how can you pass up a tool that makes managing a gazillion apps as cheap and easy as managing your monolith? And it&#x2019;s a DevOps game changer: In the same way that AWS removed the friction between dev and ops for provisioning a VM, Docker removes the friction of configuring an app&#x2019;s dependencies and installation. What&#x2019;s more, local dev of even dozens of applications can be kept lean, and we&#x2019;re closer than ever to feeling confident in &#x201C;it works on my laptop.&#x201D;</p>\n<p>In summary:</p>\n<ul>\n<li>Dense clouds</li>\n<li>Transactional installs</li>\n<li>Bundled dependencies</li>\n<li>Tools for packaging deterministic and repeatable deploys (and rollbacks)</li>\n<li>Developer workflow is simple and production-like</li>\n</ul>\n<h3>The Bad</h3>\n<p>A lot of the design decisions of Docker involve trade-offs, and networking is no exception.</p>\n<p>For local dev, where managing many VMs is especially difficult and high availability isn&#x2019;t important, Docker&#x2019;s unique method of standing up a virtual bridge interface and allocating new IPs as containers are started is really convenient. But it is less than complete when you start worrying about high availability and exposing your services to external systems. Layering in additional networking or mapping ports to the bridge interface starts to solve this problem, but it also leaves you with a jumble.</p>\n<p>Service discovery largely abstracts away this jumble, but at this point we&#x2019;ve gone through at least three networking transformations to effectively address our services and we haven&#x2019;t even started to integrate with non-Docker managed services.</p>\n<p>Don&#x2019;t get me wrong, I definitely think service discovery is the way to go. I just think that since Docker has coupled networking so tightly with its implementation, it should have made it more flexible and done more to make inter-host communication work the same as intra-host communication. Additionally, better hooks to integrate with existing software-defined networks would make all the integration work feel less like a yak shave.</p>\n<p>Isolation security is also a concern, but it is easier to shrug off because it should be <a href=\"http://blog.docker.com/2013/08/containers-docker-how-secure-are-they/\">coming soon</a>. For the time being, however, there is a lack of user namespaces in Docker containers, so UID 0 (root) in a container is also UID 0 (root) on the host machine and has all the access that comes with that.</p>\n<p>Another concerning thing about Docker is the Docker hub. Although you don&#x2019;t have to use this service or the images housed there in production, it&#x2019;s presented in such a way that many people still do. Even with the addition of download signature checks, we are still left with an index of images that aren&#x2019;t particularly well vetted or necessarily kept up to date. Many are built on top of full OSes that expose a larger attack surface than is necessary, and there is no established technique to ensure the base OS is up to date on its patches. There are great resources for <a href=\"https://blog.docker.com/2013/06/create-light-weight-docker-containers-buildroot/\">building thin base OSes</a> and ways to make sure they are kept up to date, but this is still more management left unaddressed.</p>\n<p>In summary:</p>\n<ul>\n<li>User namespace security</li>\n<li>Docker hub security</li>\n<li>Networking</li>\n</ul>\n<h3>The Ugly</h3>\n<p>One of the first things you realize with Docker is that you have to rethink <em>everything.</em> One is drawn in by the prospect of encapsulating their apps in a clean abstraction, but after fooling around with <a href=\"http://supervisord.org/\">Supervisord</a> for a while, most people start down the slippery slope of rewriting their entire infrastructure to keep their implementation clean.</p>\n<p>This is because Docker isn&#x2019;t very composable when taken as a whole. If you want to talk to something in a docker container, you need an ambassador. If something in a docker container needs to talk to something not managed in docker, you need an ambassador. Sometimes, you even need an ambassador for two apps both running in containers. This isn&#x2019;t the end of the world, but it&#x2019;s more work and is a symptom of how the docker containers are really only composable with other Docker containers, not with our systems as a whole.</p>\n<p>What this means is that to leverage the parts of docker we want (the transactional installs, bundled dependencies, and simplified local dev), we have to rewrite and rewire a whole lot of other stuff that wasn&#x2019;t broken or giving us trouble. Even if it was, you&#x2019;re still forced to tackle it all at once.</p>\n<p>If we were being honest about the shipping container analogy, we&#x2019;d end up with a container ship not just carrying containers but built with containers as well!</p>\n<p>A lot of these problems come from the same thing that makes Docker so easy to use: the bundling (and resulting tight coupling) of all components needed to build, manage, and schedule containers.</p>\n<p>This becomes especially clear when trying to place Docker on Gabriel Monroy&#x2019;s <a href=\"http://t.co/4wuzpvMJhe\">Strata of the Container Ecosystem</a>. Although he places Docker in layer 4 (the container engine), aspects of it leak into almost every layer. It&#x2019;s this sprawl that makes Docker less composable and is why integrating with it often entails a huge amount of work.</p>\n<p>Summary:</p>\n<ul>\n<li>Incompatibile with config management</li>\n<li>Not composable with existing infrastructure patterns and tools</li>\n</ul>\n<h2>If not Docker, Then What?!</h2>\n<p>I&#x2019;m not saying we should forget about docker and go back to the tried-and-true way of doing things. I&#x2019;m not even saying to wait for the area to mature and produce better abstractions. I&#x2019;m simply suggesting you do what you&#x2019;ve always done: Choose the right tool for the right job, pragmatically apply the parts of Docker that make sense for you, and remember that the industry isn&#x2019;t done changing, so you should keep your architecture in a state that allows for iteration.</p>\n<h3>Other players in this space</h3>\n<p>Part of Docker&#x2019;s appeal is its dirt simple bundling of a new approach that removes a lot of pain we&#x2019;ve been having. But there are other tools out there that solve these same problems.</p>\n<ul>\n<li>System containers like <a href=\"https://openvz.org/Main_Page\">OpenVZ</a> or <a href=\"http://www.ubuntu.com/cloud/tools/lxd\">LXD</a> provide similar cloud density characteristics</li>\n<li><a href=\"https://github.com/coreos/rkt\">rkt</a> is (almost ready to be) a competing application container that promises to implement a more composable architecture</li>\n<li><a href=\"http://developer.ubuntu.com/en/snappy/\">Snappy Ubuntu</a> offers an alternative model for transactional installs, bundling dependencies, and isolation</li>\n<li><a href=\"http://thenewstack.io/sdn-series-part-eight-comparison-of-open-source-sdn-controllers/\">Numerous SDN</a> technologies</li>\n<li>Config management (<a href=\"https://puppetlabs.com/\">Puppet</a>, <a href=\"https://www.chef.io/chef/\">Chef</a>, <a href=\"http://www.ansible.com/home\">Ansible</a>) provides deterministic and repeatable deploys</li>\n<li><a href=\"https://www.vagrantup.com/\">Vagrant</a> simplifies local development in production-like environments</li>\n</ul>\n<p>I have no doubt that we will look back and see Docker as the catalyst that led to a very different way of treating our software, but it isn&#x2019;t going to stay the only major player for long, and some of the old rules still apply: <em>Keep your architecture in a place that allows for iteration.</em></p>\n<h3>Lxd, cfg mgmt, docker, and the next generation of stateless apps</h3>\n<p>So what would a cloud architecture that adopts just the good parts of Docker look like?</p>\n<p>First off, here are the characteristics that are important to me and that I would like to support:</p>\n<ul>\n<li>The density and elasticity of containers.</li>\n<li>Transactional installs and rollbacks for my applications.</li>\n<li>The ability to develop locally in a near production environment (without near production hardware).</li>\n<li>Ephemeral systems.</li>\n<li>Managed systems (I&#x2019;m not comfortable making them immutable because I trust config management tools more than a home-built &#x201C;re-roll everything&#x201D; script to protect me against the next bash vulnerability.).</li>\n<li>A composable platform that doesn&#x2019;t rely on the aspects of Docker (like networking) that would make iterating on it difficult.</li>\n</ul>\n<p>One way to accomplish this it is to replace our traditional VMs with a system containers like LXD, continue managing infrastructure on those nodes the same way we always have with tools like Puppet, and start installing the service each node maintains in an application container like Docker.</p>\n<p>I wish I could put together a demo to illustrate this, but right now <a href=\"https://github.com/lxc/lxd/issues/608\">running Docker on LXD is infeasible</a>.</p>\n<p>With this setup, we would have to change relatively little: We can expose our application on known ports to abstract away nonstandard networking; we only have one app so the namespace security vulnerability isn&#x2019;t a problem; and our infrastructure only needs incremental updates to support a container instead of a process.</p>\n<p>Scaling can be achieved by adding new system container instances, and, while not as fast as spinning a new application container, it&#x2019;s still something that can be automated. We also don&#x2019;t have quite the same density, but we&#x2019;ve retained most of the benefits there as well.</p>\n<p>With this as a starting point, we can build out more twelve-factor cloud support based on what&#x2019;s most important to us: Service discovery, externalized config, software-defined networking, etc.</p>\n<h3>Conclusion</h3>\n<p>The tired old debate of &#x201C;Containers vs. Configuration Management&#x201D; is rooted in fallacy. We&#x2019;ve never tried to solve all of our problems with one technology before (You wouldn&#x2019;t pull down your Java libraries with Puppet, or keep your load balancer config in Maven Central), so why do we <em>have</em> to start now?</p>\n<p>Instead, I recommend we do what we always do: Choose the right tool for the right job.</p>\n<p>I think there is definitely room for system containers, application containers, and configuration management to coexist. Hopefully more work will be done to make these two great technologies play nicely together.</p>\n<p><em>I (Ben Schwartz) am a software architect at <a href=\"https://www.kasasa.com/home/offer-kasasa.html\">Kasasa by BancVue</a>&#xA0;where lately I&#x2019;ve been spending most of my time standing on the shoulders of our awesome DevOps culture to play with&#xA0;emergent&#xA0;infrastructure tools and techniques. Sometimes my experimentation makes it to my blog (including the <a href=\"http://txt.fliglio.com/2015/07/containers-and-cfg-mgmt/\">original posting</a> of this article) which can be found at&#xA0;<a href=\"http://txt.fliglio.com/\">txt.fliglio.com</a>.</em></p>\n<p><em>This article is part of our <a href=\"http://theagileadmin.com/tag/dockercmroundup/\">Docker and the Future of Configuration Management</a> blog roundup running this&#xA0;November. &#xA0;If you have an opinion or experience on the topic&#xA0;<a href=\"http://theagileadmin.com/2015/10/13/docker-and-the-future-of-configuration-management-call-for-posts/\">you can contribute as well</a>!&#xA0;</em></p>\n\t\t\t</div>\n\t\n\t</div>"
    }, {
        "title": "Docker Orchestration - The Full Story",
        "url": "https://railsadventures.wordpress.com/2015/11/15/docker-orchestration-the-full-story/",
        "excerpt": "Two months ago we, at nanit.com, had to make a difficult choice. We already knew our infrastructure is going to heavily rely on Docker, but we still had to figure out what tool we would use to&hellip;",
        "date_saved": "Thu Jul 28 20:14:00 EDT 2016",
        "html_file": "docker_orchestration__the_full_story.html",
        "png_file": "docker_orchestration__the_full_story.png",
        "md_file": "docker_orchestration__the_full_story.md",
        "content": "<div><div class=\"postbody entry clearfix\">\n\t\t\t\t\t<p>Two months ago we, at <a href=\"http://nanit.com\" target=\"_blank\">nanit.com</a>, had to make a difficult choice. We already knew our infrastructure is going to heavily rely on Docker, but we still had to figure out what tool we would use to orchestrate our containers.<br>\nOrchestrating is a big word and might sound vague to someone which has not dealt with Docker containers before, so let&#x2019;s clarify what it exactly means in the Docker world.</p>\n<h3>The Evolution of Operations</h3>\n<p>So why do we need orchestration? What does an orchestrator even do? Is it a new concept that rose with the evolution Docker has brought into our lives or was it always there&#xA0;and just became a necessity now days?<br>\nThe answer to all of those questions hides in the inherent and deep difference Docker introduced to the way our infrastructure looks and behaves.<br>\nOn the days before Docker, we had either physical or virtual machines. Each machine (physical or virtual) was usually responsible for a single function. For example, let&#x2019;s look at a typical infrastructure of a web site:</p>\n<div id=\"attachment_724\" class=\"wp-caption aligncenter\"><a href=\"https://railsadventures.files.wordpress.com/2015/11/infra-before-docker.png\"><img class=\"size-full wp-image-724\" src=\"https://railsadventures.files.wordpress.com/2015/11/infra-before-docker.png?w=620\" alt=\"Website Architecture\"></a><p class=\"wp-caption-text\">Diagram I &#x2013; Classic Website Architecture</p></div>\n<p>What we see here is a frontend load balancer with 3 web servers behind it. The servers communicate with a persistent DB (mySQL, Postgres etc&#x2026;) and a KV storage. Each of the machines here is responsible for a single, well defined function. Each of them has an IP address and a port which allow us to communicate with the service running on them. Another important thing to notice is the size of each machine: A KV DB might need a lot of memory and small amount of CPU, while our web server might be more CPU intensive. We set the resources on each machine to allow it to serve its function in a fast and consistent manner.<br>\nThe same website in the Docker era might look like this:</p>\n<div id=\"attachment_726\" class=\"wp-caption aligncenter\"><a href=\"https://railsadventures.files.wordpress.com/2015/11/infra-after-docker.png\"><img class=\"size-full wp-image-726\" src=\"https://railsadventures.files.wordpress.com/2015/11/infra-after-docker.png?w=620\" alt=\"Docker website infrastructure\"></a><p class=\"wp-caption-text\">Diagram II &#x2013; Docker Website&#xA0;Architecture</p></div>\n<p>We still have the same components but now they are arranged differently. Two or even more, totally different containers, may live together on the same machine. A container might live in Machine1 and be moved to Machine2 later on. &#xA0;The concept of a machine or a host does not exist anymore. We&#xA0;don&#x2019;t have a machine for a&#xA0;Database&#xA0;and a machine for a Load Balancer. We have a pool of resources (memory/cpu/network) which is the sum of all the resources of the machines on our&#xA0;cluster. This&#xA0;introduces a few interesting changes to the way we manage&#xA0;our infrastructure:</p>\n<ol>\n<li>\n<p><strong>Service Discovery</strong>: If we don&#x2019;t have machines anymore, how can we identify services? How can we tell our Web container to connect to the DB container which may live on the same machine, on another machine and move between machines all the time? How can we point our DNS record of <a href=\"http://www.nanit.com\" target=\"_blank\">www.nanit.com</a> to the Load Balancer if we don&#x2019;t know on which machine it currently lives in?</p>\n</li>\n<li>\n<p><strong>High Availability</strong>: How can we make sure our services are always up and retain a certain capacity, for example: we want at least 3 web servers running within our cluster.</p>\n</li>\n<li>\n<p><strong>Resources Management</strong>: How can we make sure our cluster&#x2019;s pool of resources is being used in an optimized manner? How can we make&#xA0;sure that the machine a container is going to be spawned in, has&#xA0;enough resources to run the service effectively?&#xA0;We have to make sure we don&#x2019;t over-load a single machine and that we don&#x2019;t neglect another machine.</p>\n</li>\n<li>\n<p><strong>Ports Management</strong>: What happens if two containers require the same port to be opened on the host? For example: The Web Server and the Load Balancer both need port 80. We need to make sure we don&#x2019;t run them both on the same machine. Or, maybe, we can find another solution, that will allow them to co-exist on the same machine, even though they need the same port?</p>\n</li>\n</ol>\n<p>I want to briefly go over each of these topics and figure out what are the Docker influences and available solutions.</p>\n<h3>Service Discovery</h3>\n<p>Service discovery is a problem which had solutions long before Docker. It was mainly based around the machine/host paradigm. If we wanted a service (Redis for example) to have a constant endpoint we could:</p>\n<ol>\n<li>\n<p>Set a constant&#xA0;IP address to that instance. If that instance fails we just launch another instance with the same IP address. Almost all&#xA0;cloud providers have such solutions today (Elastic IPs on AWS for example). This solution is not relevant in Docker days since a single IP or machine can serve a lot of different components.</p>\n</li>\n<li>\n<p>Use en external Service Discovery solution like <a href=\"https://www.consul.io/\" target=\"_blank\">Consul</a>. Each machine runs an agent and there&#x2019;s a Consul server which holds the state of each service and its endpoints. Service discovery is done via DNS resolve for each service. There are adaptations of this method to work with Docker but it requires a significant amount of setup to work flawlessly.</p>\n</li>\n<li>\n<p>Use a Load Balancer with a constant hostname or IP for each service and put all relevant machines which run the service behind it. Each machine which is started registers itself to the appropriate Load Balancer. An example for this is AWS&#x2019;s Auto Scaling Groups which work exactly this way.</p>\n</li>\n</ol>\n<p>As we see the old problem of Service Discovery already has some well known solution but none of them work out of the box with Docker. AWS Auto Scaling Groups deals with VMs and not Docker containers while Consul can work with Docker but it really feels like it was not designed this way in the first place.</p>\n<p>Today&#x2019;s Docker orchestration tools are usually bundled with some abilities of Service Discovery.</p>\n<h3>High Availability</h3>\n<p>HA and redundancy, like Service Discovery, is also a problem which existed before the Docker era. For example, AWS Auto Scaling Groups make sure you have at least X machines up and running with a certain service. It can even adjust the number of running machines dynamically via API or pre-defined rules.</p>\n<p>While this problem was solved for the machine-based paradigm, Docker make keeping HA and redundancy a little bit more interesting: We scale by running more Docker containers, not by starting more machines. We can scale a certain service up using the same pool of resources we already have. &#xA0;It means that our service scaling is detached from our cluster resources scaling and scaling up or down does not necessarily imply adjusting the amount of resources we require. We have to scale services and resources separately.</p>\n<p>Some of today&#x2019;s Docker orchestration tools have some basic features of container horizontal scaling. Scaling the cluster &#x2013; adjusting the amount of resources available to the orchestrator &#x2013; is done separate of container management.</p>\n<h3>Resource Management</h3>\n<p>In the days before Docker we were launching new service instances by launching new machines. We had some kind of mapping from each service to its CPU/memory requirements so we knew exactly what type of machine we need to launch.</p>\n<p>With Docker this is not the case: We have to schedule our containers into an existing set of machines. Our resource pool is more or less static and the orchestration tool needs to fit the set of containers into the set of machines in an optmizied manner. It sounds like a simple optimization problem but it really isn&#x2019;t because the set of containers changes dynamically at any given time. We need to balance between spreading our containers equally and leaving enough resources in case we want to start a container which requires a large mount of resources.</p>\n<p>Let&#x2019;s take the infra from Diagram II as an example. Assuming this is the table of resources required by each service:<br>\nWeb &#x2013; 3<br>\nLoad Balancer &#x2013; 1<br>\nPersistent DB &#x2013; 2<br>\nKV DB &#x2013; 1</p>\n<p>Each of the 3 machines has exactly the same resource capacity of 6. We have at least two obvious ways to layout these containers:</p>\n<ul>\n<li>\n<p>Sparse Layout &#x2013; This is the exact same layout as Diagram II shows:</p>\n<div id=\"attachment_735\" class=\"wp-caption aligncenter\"><a href=\"https://railsadventures.files.wordpress.com/2015/11/sparse-docker-layout2.png\"><img class=\"size-full wp-image-735\" src=\"https://railsadventures.files.wordpress.com/2015/11/sparse-docker-layout2.png?w=620\" alt=\"Sparse Layout\"></a><p class=\"wp-caption-text\">Diagram III &#xA0;&#x2013; Sparse Layout</p></div>\n<p><a href=\"https://railsadventures.files.wordpress.com/2015/11/sparse-docker-layout-1.png\"></a>In parenthesis we see each machine resources usage.<br>\nThis layout looks pretty good &#x2013; all of the containers are spread between our instances and we do not &#x201C;choke&#x201D;&#xA0;a single instance &#x2013; each of them has spare resources. But this setup also bears a problem with it: what if we want to scale our web service up to 4 instances? We don&#x2019;t have a single instance with at least 3 resources free. So maybe this isn&#x2019;t the best layout for our containers?</p>\n</li>\n<li>\n<p>This would be another way to arrange our containers:</p>\n<div id=\"attachment_736\" class=\"wp-caption aligncenter\"><a href=\"https://railsadventures.files.wordpress.com/2015/11/dense-docker-layout.png\"><img class=\"size-full wp-image-736\" src=\"https://railsadventures.files.wordpress.com/2015/11/dense-docker-layout.png?w=620\" alt=\"Dense Layout\"></a><p class=\"wp-caption-text\">Diagram IV &#x2013; Dense Layout</p></div>\n<p>Now machine 1 and 2 are full &#x2013; they have no spare resources at all. That leaves machine 3 pretty free to run each of our services when needed. But is it even possible to layout our containers this way? Can you spot the problem here?<br>\nPorts of course. On machine 2 we have two web instances which require the same port. Does that mean we can&#x2019;t schedule two web containers into the same machine? This problem takes us directly to our next section, port management.</p>\n</li>\n</ul>\n<h3>Ports Management</h3>\n<p>No matter how you twist it, the same port cannot be occupied by two different processes on a given machine. When you know which services are going to run on a machine before-hand, you just have to make sure not to create port collisions. With Docker infrastructure you don&#x2019;t have this luxury of course &#x2013; services replace machines and get re-scheduled all the time.</p>\n<p>Docker orchestration frameworks usually take one of the two standpoints: The first one is to avoid cases in which containers that require the same port on the host machine will be scheduled to the same machine. This is an easy solution to the problem but as we saw it may imply really tight constraints on the way we can layout our containers. It can get to a really nasty situation in which the orchestrator cannot schedule a container only because ports constraints.<br>\nThe other way orchestration frameworks deal with port collisions is by assigning a designated random port for each of the containers in a machine and route traffic inside by themselves. If we take machine 2 in Diagram IV as an example, it means that each of the web services has a port opened on the machine itself which routes directly to the web service instance. Port 3000 on the host machine will lead to the first web service and port 3001 will lead to the second.</p>\n<h3>Summary</h3>\n<p>As we saw, we already did orchestration before Docker, but instead of orchestrating containers we were orchestrating virtual machines. Some of the problems in the orchestration world, live Service Discovery and High Availability, already had solutions which were just needed to be adjusted to work with containers. Some of the problems, like Resource Management and Port Management, were completely new when Docker arrived and required&#xA0;some creative solutions.</p>\n<p>So what does an orchestrator do? It schedules our containers into a cluster of machines in an optimized manner while keeping high availability and has a&#xA0;basic support for service discovery. The orchestration framework we choose will set the way we manage our cluster and the way we do operations. Is is essentially the core operations tool we build everything around.</p>\n<p>There are various orchestration frameworks around: AWS ECS, Kubernetes, some native Docker solutions and more.</p>\n<p>In the next post we&#x2019;re going to have a deeper look at ECS and Kubernetes and try to understand why we at <a href=\"http://nanit.com\" target=\"_blank\">nanit.com</a> went with the latter.</p>\n\t\t<div id=\"jp-post-flair\" class=\"sharedaddy sd-like-enabled sd-sharing-enabled\"><div class=\"sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded\" id=\"like-post-wrapper-38570877-720-565433c22cd9f\"><h3 class=\"sd-title\">Like this:</h3><p class=\"likes-widget-placeholder post-likes-widget-placeholder\"><span class=\"button\"><span>Like</span></span> <span class=\"loading\">Loading...</span></p><a class=\"sd-link-color\"></a></div>\n<p id=\"jp-relatedposts\" class=\"jp-relatedposts\">\n\t<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</p></div>\t\t\t\t</div>\n\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>"
    }, {
        "title": "What is a 'unikernel'?",
        "url": "https://ma.ttias.be/what-is-a-unikernel/",
        "excerpt": "If you've been following the Devops Weekly newsletter, DevOps-like conferences or if you're just really interested in technology, you've probably heard of unikernels being mentioned a few times. In&hellip;",
        "date_saved": "Thu Jul 28 20:14:02 EDT 2016",
        "html_file": "what_is_a_unikernel.html",
        "png_file": "what_is_a_unikernel.png",
        "md_file": "what_is_a_unikernel.md",
        "content": "<div><div class=\"post-single-content box mark-links\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<p>If you've been following the <a href=\"http://www.devopsweekly.com/\">Devops Weekly</a> newsletter, DevOps-like conferences or if you're just really interested in technology, you've probably heard of <em>unikernels</em> being mentioned a few times. In the last few months, its popularity has greatly increased.</p>\n<p>But, <strong>what are these 'unikernels' really? And, is it something for me?</strong></p>\n<p>I struggled with that question. Both defining a unikernel and answering the question 'who are they for'?</p>\n<h2>What are unikernels</h2>\n<p>The single source of truth is <a href=\"https://en.wikipedia.org/wiki/Unikernel\">Wikipedia</a> with a cryptic explanation, but let's start there.</p>\n<blockquote><p>Unikernels are specialised, single address space machine images constructed by using library operating systems. A developer selects, from a modular stack, the minimal set of libraries which correspond to the OS constructs required for their application to run.</p>\n<p>These libraries are then compiled with the application and configuration code to build sealed, fixed-purpose images (unikernels) which run directly on a hypervisor or hardware without an intervening OS such as Linux or Windows.</p>\n<p><cite><a href=\"https://en.wikipedia.org/wiki/Unikernel\">Wikipedia: Unikernel</a></cite>\n</p></blockquote>\n<p>All clear, right?</p>\n<p>Well, if you're like me, that may not tell you much. So here's my explanation of <strong>unikernels</strong>.</p>\n<p>Let's step back a little first and follow this example. Let's say you're a developer writing a PHP application. When you run your PHP (or Ruby, or Node, or Perl, or ...) application, you're essentially running:</p>\n<ul>\n<li>Your language interpreter: PHP, Perl, Ruby, ...</li>\n<li>Which calls system level APIs of your operating system</li>\n<li>Some of these API calls require other level privileges, forcing context switches for your application ... (user space vs. kernel space)</li>\n<li>Which is all running on an operating system like CentOS, Debian, Ubuntu, ...</li>\n<li>Which is probably a Virtual Machine on VMware, Xen, KVM, ...</li>\n<li>Which is run by its own virtualisation operating system (ESXi, Xen Hypervisor) ...</li>\n<li>Which in turn is running on hardware</li>\n<li>Which is bootstrapped by a BIOS or UEFI</li>\n</ul>\n<p>Honestly, if you're thinking about all the levels an application is built upon, it's a miracle things even work.</p>\n<p>But they do. And they work pretty well and with reasonable performance. But you have to admit, there are a lot of layers between the hardware that's supposed to be powering your application and the application itself. </p>\n<p><strong>That's what unikernels as a concept try to solve: remove the bloat that separates hardware from application. Have \"just enough\" of the Operating System to run your code, nothing more.</strong></p>\n<p>There's a <a href=\"http://www.fixup.fi/misc/usenix-login-2015/login_oct15_02_kantee.pdf\">great paper</a> that sums it up nicely:</p>\n<blockquote><p>The idea [of a unikernel] is that you look at cloud guests just like you would look at single-application hardware.<br>\n<cite><a href=\"http://www.fixup.fi/misc/usenix-login-2015/login_oct15_02_kantee.pdf\">The Rise and Fall of the Operating System</a></cite>\n</p></blockquote>\n<p>A unikernel tries to remove some of complexities that modern operating systems bring. Because they are \"general purpose\" operating systems (like just about any Linux or Windows distribution), they also come with drivers, packages, services, ... that may not apply to your application, but are <em>generally considered</em> OK to have on every OS install.</p>\n<p>Even core modules in the Linux kernel don't apply to every installation. Things like USB drivers are useless in a virtualised \"cloud\" environment, but are still included in the kernel.</p>\n<p>Compared to containers and virtualisation, the excellent <a href=\"http://roadtounikernels.myriabit.com/\">road to unikernels presentation</a> pictures it like this:</p>\n<p><img src=\"https://ma.ttias.be/wp-content/uploads/2015/11/road_to_unikernels.png\" alt=\"road_to_unikernels\" width=\"800\" class=\"alignnone size-full wp-image-7209\"></p>\n<p><em>(Source: <a href=\"http://roadtounikernels.myriabit.com/\">road to unikernels</a>)</em></p>\n<p>Unikernels have a couple of advantages over general purpose operating systems like Linux;</p>\n<ul>\n<li>Improved security: only the core of the OS is implemented, no video or USB drivers that aren't needed and could be a source of intrusion.</li>\n<li>Very small footprint: imagine being able to remove 95% of the kernel size, simply because your application doesn't need it.</li>\n<li>Specialised implementations: you know your application and you can tweak and run your kernel exactly the way you want it.</li>\n<li>Quick enough to be \"<a href=\"http://www.skjegstad.com/blog/2015/08/17/jitsu-v02/\">Just in time</a>\" to summon a unikernel live (similar to live spawning Docker instances), with boot times less than 1 second.</li>\n</ul>\n<p>This very nature makes unikernels an excellent candidate for microservices.</p>\n<h2>Removing layers of complexity with unikernels</h2>\n<p>If what you're after is an application that runs with as little overhead as possible, you may want to consider writing it as a unikernel.</p>\n<p>To do so, you use a <strong>library operating system</strong>. A library OS gives you the tools to create your own unikernel. The most noticeable ones are <a href=\"https://mirage.io/\">MirageOS</a> (<em>which actually coined the term \"unikernel\"</em>) and <a href=\"http://rumpkernel.org/\">Rump Kernels</a>. They are both essentially a set of standardised drivers and libraries so you don't have to reinvent things like a TCP stack, a persistent storage layer, ...</p>\n<blockquote><p>Unikernels are specialized OS kernels that are written in a high-level language and act as individual software components. A full application (or appliance) consists of a set of running unikernels working together as a distributed system.</p>\n<p>MirageOS is based on the <a href=\"http://ocaml.org\">OCaml</a> language and emits unikernels that run on the Xen hypervisor.</p>\n<p><cite>queue.acm.org: <a href=\"http://queue.acm.org/detail.cfm?id=2566628\">Unikernels: Rise of the Virtual Library Operating System</a></cite>\n</p></blockquote>\n<p>The most popular languages nowadays to write a unikernel seem to be:</p>\n<ul>\n<li><a href=\"https://www.rust-lang.org/\">Rust</a></li>\n<li><a href=\"https://golang.org/\">Go (or 'golang')</a></li>\n<li><a href=\"https://ocaml.org/\">OCaml</a></li>\n<li><a href=\"https://www.haskell.org/\">Haskell</a></li>\n</ul>\n<p>These aren't new programming languages. With the exception of Go and Rust, they've been around for more than 15 years.</p>\n<p>In order to make the OS and the application run as smoothly as possible, these unikernel libraries need a kernel footprint that is as small as possible.</p>\n<p>Today, that's possible <em>because of</em> virtualisation. Because an Operating System like Xen or VMware can do the work of translating the different hardware models into a defined set of <em>virtualised hardware</em>, a unikernel can be optimised for <em>just that specific set of virtual hardware</em>.</p>\n<p><strong>Unikernels leverage the advantages of virtualisation to create an operating system that's as specialised and optimised as possible.</strong></p>\n<p>The result of an application written in OCaml with the MirageOS set of libraries to form a \"unikernel\" can be summarised like this:</p>\n<blockquote><p>The compiler can then output a full stand-alone kernel instead of just a Unix executable. These unikernels are single-purpose libOS VMs that perform only the task defined in their application source and configuration files, and they depend on the hypervisor to provide resource multiplexing and isolation.<br>\n<cite>queue.acm.org: <a href=\"http://queue.acm.org/detail.cfm?id=2566628\">Unikernels: Rise of the Virtual Library Operating System</a></cite>\n</p></blockquote>\n<p>The result is that you run a unikernel, a small but dedicated operating system, to run (parts of) your application. If an update to your application or configuration is needed, you compile a new version of your source code to a new unikernel and you deploy that new version. A new security release? Re-compile and deploy. </p>\n<p>This makes coordination and orchestration of deploys harder at the benefit of running a more efficient application.</p>\n<p>This essential creates the concept of <strong>immutable servers</strong>: an application server no longer stores state and can be thrown away and rebuilt at your convenience.</p>\n<p>One approach may be to start running <a href=\"http://unikernel.org/blog/2015/unikernels-meet-docker/\">unikernels in docker containers</a>, but aren't we adding another layer of complexity that we should try to avoid? On the other hand, Docker adds ease of use and deployments to the mix that may make the trade-off worthwhile.</p>\n<h2>Who should run unikernels?</h2>\n<p>To be perfectly honest, the answer to me isn't exactly clear yet. I think it's fair to say that if you're currently deploying web applications built on WordPress, unikernels may be a bridge too far.</p>\n<p>On the other hand, the benefits of unikernels are evident but require a completely different mindset to managing your infrastructure, a different skillset in creating these kind of applications and kernels and require a very deep understanding of concepts that are mostly foreign to us now: immutable infrastructure.</p>\n<p>Maybe in 2, 5 or 10 years we'll deploy unikernels like they're the new normal. Right now, I think it's for a very select niche set of users that are looking for highly specialised and secure applications. For the most common use cases, either a Virtual Machine (or, if you're already on the bandwagon: docker containers) are probably what you'll be focussing on.</p>\n<h2>More reading material on Unikernels</h2>\n<p>If you're interested in the subject, here are some other links I can recommend you spend your time on:</p>\n\n\n<aside class=\"mashsb-container\"><div class=\"mashsb_above_buttons\">\n<p>If you like this content, you can help me spread awareness by sharing it on your social network of choice. Thanks!</p></div>\n </aside>\n \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>"
    }, {
        "title": "Convox",
        "url": "https://convox.com/",
        "excerpt": "$ convox apps APP STATUS myapp running $ convox apps info Name myapp Status running Release REXIQURVKXE Processes admin web Hostname myapp-1749418666.us-east-1.elb.amazonaws.com Ports web:80 web:443&hellip;",
        "date_saved": "Thu Jul 28 20:14:03 EDT 2016",
        "html_file": "convox.html",
        "png_file": "convox.png",
        "md_file": "convox.md",
        "content": "<div><div class=\"col-xs-12 cli-example\">\n <pre class=\"stdin\">$ convox apps</pre>\n <pre class=\"stdout\">\nAPP STATUS\nmyapp running</pre>\n <pre class=\"stdin\">$ convox apps info</pre>\n <pre class=\"stdout\">\nName myapp\nStatus running\nRelease REXIQURVKXE\nProcesses admin web\nHostname myapp-1749418666.us-east-1.elb.amazonaws.com\nPorts web:80 web:443 admin:9322</pre>\n <pre class=\"stdin\">$ convox ps</pre>\n <pre class=\"stdout\">\nID NAME RELEASE CPU MEM STARTED COMMAND\n13254981d20 admin REXIQURVKXE 0.47% 2.21% 17 hours ago bin/admin\n92d4a822c13 web REXIQURVKXE 3.29% 20.68% 17 hours ago bin/web</pre>\n <pre class=\"stdin\">$ convox env</pre>\n <pre class=\"stdout\">PASSWORD=xyzzy</pre>\n <pre class=\"stdin\">$ convox logs</pre>\n <pre class=\"stdout\">\nweb: [01/Jan/2015:00:00:00] \"GET / HTTP/1.1\" 200 554 0.0027\nweb: [01/Jan/2015:00:00:00] \"POST /users HTTP/1.1\" 303 - 0.0049</pre>\n </div>\n </div>"
    }, {
        "title": "iondbproject/iondb",
        "url": "https://github.com/iondbproject/iondb",
        "excerpt": "\"What is this?\" Currently in the Arduino world, there doesn't exist an associative array or map implementation that is both easy to use and performance competitive. There also is little support for&hellip;",
        "date_saved": "Thu Jul 28 20:14:06 EDT 2016",
        "html_file": "iondbprojectiondb.html",
        "png_file": "iondbprojectiondb.png",
        "md_file": "iondbprojectiondb.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<h2><a id=\"user-content-what-is-this\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#what-is-this\"></a>\"What is this?\"</h2>\n\n<p>Currently in the Arduino world, there doesn't exist an associative array or map implementation that is both easy to use <em>and</em> performance competitive. There also is little support for disk based storage options that don't involve writing it yourself. IonDB is fast, functional, and offers disk based storage out of the box.</p>\n\n<p>In general, IonDB supports:</p>\n\n<ul>\n<li>Storing arbitrary values associated to a key</li>\n<li>Duplicate key support</li>\n<li>Range and Equality queries</li>\n<li>Disk based persistent data storage</li>\n</ul>\n\n<h2><a id=\"user-content-preamble\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#preamble\"></a>Preamble</h2>\n\n<p>These inclusions are necessary for any IonDB usage:</p>\n\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>SD.h<span class=\"pl-pds\">&gt;</span></span> <span class=\"pl-c\">//If using file based implementations</span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dictionary.h<span class=\"pl-pds\">\"</span></span></pre></div>\n\n<p>Then include some (or all) necessary implementation handlers:</p>\n\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>slhandler.h<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>oadictionaryhandler.h<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>oafdictionaryhandler.h<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ffdictionaryhandler.h<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bpptreehandler.h<span class=\"pl-pds\">\"</span></span></pre></div>\n\n<p>In the setup() function, initialize a dictionary (Shown here, a skiplist):</p>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">setup</span>() {\n <span class=\"pl-c\">//Declare the dictionary and handler structs</span>\n <span class=\"pl-c1\">dictionary_handler_t</span> handler;\n <span class=\"pl-c1\">dictionary_t</span> dictionary;\n\n <span class=\"pl-c\">//Initialize handler</span>\n <span class=\"pl-c1\">sldict_init</span>(&amp;handler);\n\n <span class=\"pl-c\">//Create dictionary: Given handler, dictionary, key type, key size, value size, dict size</span>\n <span class=\"pl-c1\">dictionary_create</span>(&amp;handler, &amp;dictionary, key_type_numeric_signed, <span class=\"pl-k\">sizeof</span>(<span class=\"pl-k\">int</span>), <span class=\"pl-c1\">60</span>, <span class=\"pl-c1\">10</span>);\n}</pre></div>\n\n<h4><a id=\"user-content-implementation-handler-methods\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#implementation-handler-methods\"></a>Implementation handler methods:</h4>\n\n<table><thead>\n<tr>\n<th>Implementation</th>\n<th>Handler Method</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>Skiplist</td>\n<td>sldict_init</td>\n</tr>\n<tr>\n<td>Open Address Hash</td>\n<td>oadict_init</td>\n</tr>\n<tr>\n<td>Open Address File Hash</td>\n<td>oafdict_init</td>\n</tr>\n<tr>\n<td>Flat File</td>\n<td>ffdict_init</td>\n</tr>\n<tr>\n<td>B+ Tree</td>\n<td>bpptree_init</td>\n</tr>\n</tbody></table>\n\n<h4><a id=\"user-content-dictionary-size-meanings\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#dictionary-size-meanings\"></a>Dictionary size meanings:</h4>\n\n<table><thead>\n<tr>\n<th>Implementation</th>\n<th>Dictionary Size</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>Skiplist</td>\n<td>Skiplist maximum height</td>\n</tr>\n<tr>\n<td>Open Address Hash</td>\n<td>Number of records</td>\n</tr>\n<tr>\n<td>Open Address File Hash</td>\n<td>Number of records</td>\n</tr>\n<tr>\n<td>Flat File</td>\n<td>Not used</td>\n</tr>\n<tr>\n<td>B+ Tree</td>\n<td>Not used</td>\n</tr>\n</tbody></table>\n\n<h3><a id=\"user-content-keys-and-values\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#keys-and-values\"></a>Keys and values</h3>\n\n<p>Keys and values are <strong>specific type agnostic</strong>, there are only three categories of keys. Two macros are provided to bridge the gap between IonDB keys and concrete keys.</p>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-c\">/* Key creation */</span>\n\n<span class=\"pl-c\">//Suppose the key is an int</span>\n<span class=\"pl-k\">int</span> my_key = <span class=\"pl-c1\">64</span>;\n<span class=\"pl-c1\">ion_key_t</span> key = IONIZE(my_key); <span class=\"pl-c\">//A prepared key</span>\n\n<span class=\"pl-c\">//Inline is fine too:</span>\n<span class=\"pl-c1\">ion_key_t</span> key = IONIZE(<span class=\"pl-c1\">64</span>);\n\n<span class=\"pl-c\">//Any type is supported</span>\n<span class=\"pl-k\">unsigned</span> <span class=\"pl-k\">long</span> <span class=\"pl-k\">long</span> my_key = <span class=\"pl-c1\">2147483648ull</span>;\n<span class=\"pl-c1\">ion_key_t</span> key = IONIZE(my_key);\n\n<span class=\"pl-c\">/* Key retrieval */</span>\n\n<span class=\"pl-c\">//Retrieve an int from a key</span>\n<span class=\"pl-k\">int</span> my_key = NEUTRALIZE(<span class=\"pl-k\">int</span>, key);\n\n<span class=\"pl-c\">//Retrieve unsigned long long from a key</span>\n<span class=\"pl-k\">unsigned</span> <span class=\"pl-k\">long</span> <span class=\"pl-k\">long</span> my_key = NEUTRALIZE(<span class=\"pl-k\">unsigned</span> <span class=\"pl-k\">long</span> <span class=\"pl-k\">long</span>, key);</pre></div>\n\n<h4><a id=\"user-content-ionization-functions\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#ionization-functions\"></a>Ionization functions</h4>\n\n<table><thead>\n<tr>\n<th>Function</th>\n<th>Type</th>\n</tr>\n</thead><tbody>\n<tr>\n<td>IONIZE(any)</td>\n<td>IONIZE :: any -&gt; ion_key_t</td>\n</tr>\n<tr>\n<td>NEUTRALIZE(atype, key)</td>\n<td>NEUTRALIZE :: ion_key_t -&gt; atype</td>\n</tr>\n</tbody></table>\n\n<h4><a id=\"user-content-key-categories\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#key-categories\"></a>Key categories:</h4>\n\n<ul>\n<li>key_type_numeric_signed</li>\n<li>key_type_numeric_unsigned</li>\n<li>key_type_char_array (String)</li>\n</ul>\n\n<h2><a id=\"user-content-file-based-implementations\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#file-based-implementations\"></a>File based implementations</h2>\n\n<p>An SD shield, and a FAT formatted SD card is required to work with IonDB. The Arduino ethernet shield is recommended. The following initialization is required when working with file bsaed implementations:</p>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-c\">//Use pin 10 if using an Uno, pin 53 if Mega</span>\n<span class=\"pl-en\">pinMode</span>(<span class=\"pl-c1\">10</span>, OUTPUT);\n<span class=\"pl-c\">//Change depending on what SD shield is used</span>\nSD.begin(<span class=\"pl-c1\">4</span>);</pre></div>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#usage\"></a>Usage</h2>\n\n<h3><a id=\"user-content-insert\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#insert\"></a>Insert</h3>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-c1\">ion_key_t</span> key = IONIZE(some_key);\n<span class=\"pl-c1\">ion_value_t</span> value = some_value;\n<span class=\"pl-en\">dictionary_insert</span>(&amp;dictionary, key, value);</pre></div>\n\n<h3><a id=\"user-content-delete\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#delete\"></a>Delete</h3>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-c1\">ion_key_t</span> key = IONIZE(some_key);\n<span class=\"pl-en\">dictionary_delete</span>(&amp;dictionary, key);</pre></div>\n\n<h3><a id=\"user-content-query\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#query\"></a>Query</h3>\n\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-c1\">ion_key_t</span> key = IONIZE(some_key);\n<span class=\"pl-c1\">ion_value_t</span> my_value = malloc(value_size); <span class=\"pl-c\">// Create buffer to hold returned value</span>\n<span class=\"pl-en\">dictionary_get</span>(&amp;dictionary, key, my_value);\n<span class=\"pl-c\">// Process data</span>\n<span class=\"pl-c\">//...</span>\n<span class=\"pl-en\">free</span>(my_value);</pre></div>\n\n<h3><a id=\"user-content-cursors\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#cursors\"></a>Cursors</h3>\n\n<p>A functional implementation exists for equality cursors (Multiple value query on same key) and range cursors (Query key-value pairs across a bound of keys), however a dictionary level interface for cursor access has yet to be finalized. Implementation level access is demonstrated in the Benchmark source.</p>\n\n<h2><a id=\"user-content-full-example\" class=\"anchor\" href=\"https://github.com/iondbproject/iondb#full-example\"></a>Full Example</h2>\n\n<p>Written in Arduino compliant wiring.</p>\n\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>SD.h<span class=\"pl-pds\">&gt;</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dictionary.h<span class=\"pl-pds\">\"</span></span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>slhandler.h<span class=\"pl-pds\">\"</span></span>\n\n<span class=\"pl-k\">void</span> <span class=\"pl-en\">setup</span>() {\n <span class=\"pl-c\">//Declare the dictionary and handler structs</span>\n <span class=\"pl-c1\">dictionary_handler_t</span> handler;\n <span class=\"pl-c1\">dictionary_t</span> dictionary;\n\n <span class=\"pl-c\">//Initialize handler</span>\n <span class=\"pl-c1\">sldict_init</span>(&amp;handler);\n\n <span class=\"pl-c\">//Create dictionary: Given handler, dictionary, key type, key size, value size, dict size</span>\n <span class=\"pl-c1\">dictionary_create</span>(&amp;handler, &amp;dictionary, key_type_numeric_signed, <span class=\"pl-k\">sizeof</span>(<span class=\"pl-k\">int</span>), <span class=\"pl-c1\">60</span>, <span class=\"pl-c1\">10</span>);\n\n <span class=\"pl-c1\">ion_key_t</span> key = <span class=\"pl-c1\">IONIZE</span>(<span class=\"pl-c1\">42</span>);\n <span class=\"pl-c1\">ion_value_t</span> value = (<span class=\"pl-c1\">ion_value_t</span>) <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Hello IonDB<span class=\"pl-pds\">\"</span></span>;\n\n <span class=\"pl-c1\">dictionary_insert</span>(&amp;dictionary, key, value);\n\n <span class=\"pl-c1\">ion_value_t</span> returned_value = (<span class=\"pl-c1\">ion_value_t</span>) <span class=\"pl-c1\">malloc</span>(<span class=\"pl-c1\">60</span>); <span class=\"pl-c\">//from value_size</span>\n <span class=\"pl-c1\">dictionary_get</span>(&amp;dictionary, key, returned_value);\n <span class=\"pl-c1\">printf</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Returned <span class=\"pl-c1\">%s</span><span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">\"</span></span>, returned_value);\n <span class=\"pl-c1\">free</span>(returned_value);\n}\n\n<span class=\"pl-k\">void</span> <span class=\"pl-en\">loop</span>() {}</pre></div>\n</article>\n </div>"
    }, {
        "title": "Managing massive amounts of tick data with Python, simply and efficiently",
        "url": "http://gregharris.info/managing-massive-amounts-of-tick-data-with-python-simply-and-efficiently/",
        "excerpt": "Tick data is hard to come by and hard to manage. This is my experience with it over the last month. I&#x2019;m interested in how stocks react to certain events, and tick data will let me study the&hellip;",
        "date_saved": "Thu Jul 28 20:14:07 EDT 2016",
        "html_file": "managing_massive_amounts_of_tick_data_with_python_simply_and_efficiently.html",
        "png_file": "managing_massive_amounts_of_tick_data_with_python_simply_and_efficiently.png",
        "md_file": "managing_massive_amounts_of_tick_data_with_python_simply_and_efficiently.md",
        "content": "<div><div class=\"entry-content\">\n\t\t\t<p>Tick data is hard to come by and hard to manage. This is my experience with it over the last month. I&#x2019;m interested in how stocks react to certain events, and tick data will let me study the intra-day reaction.</p>\n<h2>Getting Tick Data</h2>\n<ul>\n<li>The <a href=\"http://www.nyxdata.com/Data-Products/Daily-TAQ\" target=\"_blank\">NYSE Trade and Quote (TAQ)</a> product seems to be the source of data for many tick data providers. Unfortunately, it is very expensive.</li>\n<li><a href=\"https://www.tickdata.com/historical-market-data-products/historical-equities-data/\" target=\"_blank\">TickData.com</a>&#xA0;is a source I&#x2019;ve used before for futures data.&#xA0; The pricing for the full history for all stocks is no longer listed on the website, but it also used to be very high.</li>\n<li><a href=\"https://quantquote.com/products_tick-data.php\" target=\"_blank\">QuantQuote.com</a> seems to be favored by the <a href=\"http://quant.caltech.edu/historical-stock-data.html\" target=\"_blank\">Quantitative Finance Group at Caltech</a>. Their historical tick data costs $20,000.</li>\n<li><a href=\"https://quantgo.com/data_services/us/\" target=\"_blank\">QuantGo.com</a> appears to rent the data for $275/month, as long as you use it in their cloud.</li>\n<li><a href=\"https://wrds-web.wharton.upenn.edu/wrds/\" target=\"_blank\">Wharton Research Data Services (WRDS)</a> is available for academic researchers at many institutions. I discovered my school (USC) has purchased access, and I was able to create an account. WRDS has TAQ data in addition to CRSP, Computstat, and many other great datasets. At first, I thought I could only get small, specific queries executed through their web interface. Later, I found the bulk data stored as SAS files on their secure FTP server. Unfortunately, the SAS files are not compressed, so it took me several weeks to download all trades since 1998 (about 3TB). The data is arranged in daily files, with the records sorted first by ticker, then by timestamp (truncated to the second). I have no hope of downloading the quote files, because they are about 40x as large. I did get the master files describing each ticker, as well as the files with dividends and splits going back to 1993. The WRDS dataset is updated annually.</li>\n</ul>\n<h2>Timeseries Databases</h2>\n<p>Several commercial databases exist for storing tick data. The most notable is <a href=\"http://kx.com/\" target=\"_blank\">Kdb+</a>. I couldn&#x2019;t find any benchmarks, but people seem to rave about it. <a href=\"http://quant.stackexchange.com/questions/3156/is-there-any-thing-out-there-as-a-substitute-for-kdb\" target=\"_blank\">Stack Exchange</a> has a good discussion about it. It seems to be wildly expensive, although the 32-bit version is now free for non-commercial use. It requires the use of the <em>q</em> language, and people generally say it has a steep learning curve. Much of the benefit seems to be from storing data in memory for faster query response. I&#x2019;m not building a live trading system or collecting streaming ticks myself, so this is of little value to me.</p>\n<p>Stack Overflow has a <a href=\"http://stackoverflow.com/questions/1623399/storing-massive-ordered-time-series-data-in-bigtable-derivatives\" target=\"_blank\">discussion</a> on the use of <a href=\"http://cassandra.apache.org/\" target=\"_blank\">Cassandra</a> for storing tick data. Cassandra looks interesting, but I think including every tick as a key in the index will be slow and take too much space. I could aggregate the ticks together, compress them, and use Cassandra as a key-value store for blobs. But, then the database doesn&#x2019;t seem to be adding any value, except for replicating itself across a cluster. I don&#x2019;t need the kind of scalability that would require a cluster.</p>\n<p>In fact, I don&#x2019;t really need a database at all. My data store will be updated only once a year, and will otherwise be read-only. I don&#x2019;t need atomic transactions, multi-threaded socket connections, or security handling. I want something fast, simple, robust, and accessible from any programming language. <a href=\"http://discretelogics.com/teafiles/\" target=\"_blank\">TeaFiles</a> come close to what I want, but they don&#x2019;t appear to support compression. In the end, I decided to just make my own data store on the file system.</p>\n<h2>Key System Points</h2>\n<ol>\n<li>Data should be stored in binary form, not text files. Text files require parsing and data conversion, which slows everything down.</li>\n<li>Data should be <a href=\"https://en.wikipedia.org/wiki/Column-oriented_DBMS\" target=\"_blank\">column-oriented</a>. That means all the timestamps are stored consecutively, and all the prices are stored consecutively, etc. Typical relational databases are row-oriented, keeping the full record together. So, the timestamp for a record is followed by the price for the record, and then the volume. It means all the fields must be scanned in order to get the desired field for a record. Otherwise, you&#x2019;d need a seek operation for each record, which would be prohibitively slow.</li>\n<li>Data should be compressed. Reading from a hard disk takes time, and compressed tick data takes only about 10% of the space. Decompression is pretty fast on a good computer. <a href=\"http://skipperkongen.dk/2012/02/28/uncompressed-versus-compressed-read/\" target=\"_blank\">One person&#x2019;s tests</a> indicate that reading and decompressing compressed files is about 4x as fast as reading uncompressed files from disk.</li>\n<li>Data should be stored on a solid state drive, which is much easier to do if it is compressed. SSDs are <a href=\"http://www.thessdreview.com/featured/ssd-throughput-latency-iopsexplained/\" target=\"_blank\">many times faster</a> than spinning disks. Also, typical desktop hard drives have an <a href=\"https://en.wikipedia.org/wiki/Hard_disk_drive_performance_characteristics#Seek_time\" target=\"_blank\">average seek latency of 9 ms</a>, while typical SSDs have latencies around 0.10 ms. This is important for randomly accessing the data.</li>\n</ol>\n<h2>Random-Access vs. Compression</h2>\n<p>Random access doesn&#x2019;t work with compressed files. Well, there seem to be <a href=\"http://lh3.github.io/2014/07/05/random-access-to-zlib-compressed-files/\" target=\"_blank\">people working on that</a>, but the solutions all require trade-offs. One method stores 32 kB uncompressed before each access point. Another method stores an index table at the end of the file and resets the stream before each access point. Other methods involve binary search and multiple seeks to peek into the compressed file and find the right location.</p>\n<p>I chose to implement the method of resetting the stream at certain points, which are recorded in an index table. This involves a trade-off, where fine-grained access increases the size of the index table and reduces the size of the data chunk visible to the compression algorithm. I decided that the finest granularity I need is the ability to query the trades for a given ticker on a given day.</p>\n<p>I first tried simply storing separate gzip files for each ticker-day. That took as much space as having no compression. The reason is that there are many files (about 10,000 tickers each day), and a large fraction of them contain very few ticks. Storing tiny amounts of data in individual files came with overhead in the form of a gzip headers and filesystem headers, and also each file <a href=\"http://www.fixedbyvonnie.com/2014/08/whats-difference-file-size-size-disk\" target=\"_blank\">takes more space</a> when written to disk. Anyway, I&#x2019;ve had filesystems bog down before with less than the 33 million files this solution would create.</p>\n<p>My current solution is to combine all the values for each field for one day into its own file, like this:</p>\n<p><a href=\"http://gregharris.info/wp-content/uploads/2015/11/filesystem.png\"><img class=\"alignnone wp-image-23 size-full\" src=\"http://gregharris.info/wp-content/uploads/2015/11/filesystem.png\" alt=\"File organization\" width=\"411\"></a></p>\n<p>Here, we see one folder per day, each folder with three files: price, size, and time. Each file is a concatenation of compressed data chunks, with one chunk per ticker:</p>\n<p><a href=\"http://gregharris.info/wp-content/uploads/2015/11/filecontents.png\"><img class=\"alignnone size-full wp-image-24\" src=\"http://gregharris.info/wp-content/uploads/2015/11/filecontents.png\" alt=\"filecontents\" width=\"592\"></a></p>\n<p>For convenience, I chose to simply store the index table in MySQL:</p>\n<p><a href=\"http://gregharris.info/wp-content/uploads/2015/11/indextable.png\"><img class=\"alignnone size-full wp-image-25\" src=\"http://gregharris.info/wp-content/uploads/2015/11/indextable.png\" alt=\"indextable\" width=\"566\"></a></p>\n<p>Each field has an offset, which tells where the compressed chunk for that ticker begins. Each field also has the number of bytes in the compressed chunk. Notice how some fields compress better than others, which is why I can&#x2019;t store just one offset and bytes pair for each ticker.</p>\n<p>It might be possible to structure the data as one file per ticker, with each file holding the entire history. That has some disadvantages, though. First, tickers get reused over time by different companies. Second, it is less robust. I mean, if something gets messed up, I would need to reprocess all SAS files to rebuild one ticker. With my system, I would only need to rebuild a single day. Third, it would make it harder to parallelize. With my system, I can process multiple SAS files (days) at the same time.</p>\n<h2>Tick Filtering</h2>\n<p>TAQ records contain ancillary fields that I chose not to store. <a href=\"http://www.nyxdata.com/doc/2659\" target=\"_blank\">This document</a> and <a href=\"http://www.nyxdata.com/doc/224904\" target=\"_blank\">this document</a> explain what each field means. I didn&#x2019;t keep all trades, but rather implemented <a href=\"http://wrds-web.wharton.upenn.edu/wrds/support/Additional%20Support/WRDS%20Presentations/_000user2007/taq_data.pdf\" target=\"_blank\">this filter recommended by WRDS</a>:</p>\n<p><a href=\"http://gregharris.info/wp-content/uploads/2015/11/filter.png\"><img class=\"alignnone wp-image-26 size-medium\" src=\"http://gregharris.info/wp-content/uploads/2015/11/filter-300x202.png\" alt=\"filter\" width=\"300\"></a></p>\n<h2>Python Code</h2>\n<p>First, I use the <a href=\"https://pypi.python.org/pypi/sas7bdat\" target=\"_blank\">sas7bdat</a> package to extract the records from the SAS file:</p>\n<pre class=\"brush: python; collapse: false; light: true; title: ; wrap-lines: false; notranslate\" title=\"\">\nfrom sas7bdat import SAS7BDAT\nf = SAS7BDAT(filename)\nf.skip_header = True\nfor row in f:\n if the record passes the filter, append the values to each list\nf.close()\n</pre>\n<p>I use lists to store the prices, sizes, and timestamps for each ticker.&#xA0; <a href=\"http://stackoverflow.com/questions/176011/python-list-vs-array-when-to-use\">Lists grow better than arrays</a>. Once I detect that the ticker has changed, I compress and append the data from the previous ticker:</p>\n<pre class=\"brush: python; collapse: false; light: true; title: ; wrap-lines: false; notranslate\" title=\"\">\nimport zlib\nfrom array import array\n...\n# initialize the compressed dataset before processing each date\ncompressedTimes = ''\ncompressedPrices = ''\ncompressedSizes = ''\n...\n# after collecting all data for a ticker, compress and append it \n# append compressed time\nbinaryData = array('i', times).tostring()\ncompressedData = zlib.compress(binaryData, zlib.Z_BEST_COMPRESSION)\ntimeBytes = len(compressedData) # store in MySQL with ticker and date\ntimeOffset = len(compressedTimes) # store in MySQL with ticker and date\ncompressedTimes += compressedData\n# append compressed price\nbinaryData = array('f', prices).tostring()\ncompressedData = zlib.compress(binaryData, zlib.Z_BEST_COMPRESSION)\npriceBytes = len(compressedData)\npriceOffset = len(compressedPrices)\ncompressedPrices += compressedData\n# append compressed size\nbinaryData = array('f', sizes).tostring()\ncompressedData = zlib.compress(binaryData, zlib.Z_BEST_COMPRESSION)\nsizeBytes = len(compressedData)\nsizeOffset = len(compressedSizes)\ncompressedSizes += compressedData\n</pre>\n<p>Finally, after reading in all records from the SAS file, I write out the compressed data:</p>\n<pre class=\"brush: python; collapse: false; light: true; title: ; wrap-lines: false; notranslate\" title=\"\">\n# time\nfid = open(dateFolder + os.sep + 'time', 'wb')\nfid.write(compressedTimes)\nfid.close()\n# price\nfid = open(dateFolder + os.sep + 'price', 'wb')\nfid.write(compressedPrices)\nfid.close()\n# size\nfid = open(dateFolder + os.sep + 'size', 'wb')\nfid.write(compressedSizes)\nfid.close()\n</pre>\n<p>Note that I store the price and size as 4-bytes floats, and I store the timestamp as seconds in a 4-byte integer. I don&#x2019;t store the date, since it is found in the folder name. The ticker is stored only in MySQL.</p>\n<h2>Reading the Data</h2>\n<p>First use MySQL to get the offsets and byte counts for the target ticker and date. Then run code like this:</p>\n<pre class=\"brush: python; collapse: false; light: true; title: ; wrap-lines: false; notranslate\" title=\"\">\n# time\nfid = open(dateFolder + os.sep + 'time', 'rb')\nfid.seek(time_offset)\ncompressedData = fid.read(time_bytes)\nbinaryData = zlib.decompress(compressedData)\ntimeArray = array('i')\ntimeArray.fromstring(binaryData)\nfid.close()\n# price\nfid = open(dateFolder + os.sep + 'price', 'rb')\nfid.seek(price_offset)\ncompressedData = fid.read(price_bytes)\nbinaryData = zlib.decompress(compressedData)\npriceArray = array('f')\npriceArray.fromstring(binaryData)\nfid.close()\n# size\nfid = open(dateFolder + os.sep + 'size', 'rb')\nfid.seek(size_offset)\ncompressedData = fid.read(size_bytes)\nbinaryData = zlib.decompress(compressedData)\nsizeArray = array('f')\nsizeArray.fromstring(binaryData)\nfid.close()\n</pre>\n<p>Note: opening the files using &#x2018;rb&#x2019; instead of just &#x2018;r&#x2019; is only necessary on Windows.</p>\n<h2>Conclusion</h2>\n<p>Once the compressed files are prepared, it is incredibly fast to read the data. I suspect it is as fast as possible without maintaining a partial in-memory cache like Kdb+. Please let me know if you have a suggestion that can make the system faster. Some commercial systems use memory mapping to reduce the cost of system calls for seeking. This could be done on my compressed files, as well. It would only involve a modification of the reading code. Python Central ran a test where <a href=\"http://pythoncentral.io/memory-mapped-mmap-file-support-in-python/\" target=\"_blank\">memory mapping was 17% faster</a>. Anyway, the file format is simple enough to easily write data readers in any language. I believe zlib is available on all the major languages. Even Matlab seems to have access to it (<a href=\"http://www.mathworks.com/matlabcentral/fileexchange/8899-rapid-lossless-data-compression-of-numerical-or-string-variables/content/dunzip.m\" target=\"_blank\">through the included JRE</a>).</p>\n\t\t\t\t\t</div>\n\t\t\n\t\t\n\t</div>"
    }, {
        "title": "tornqvist/jazzon",
        "url": "https://github.com/tornqvist/jazzon",
        "excerpt": "Working with static JSON files for mocking data or whatever other purposes can be a real bore. Jazzon is a convenience utility for generating, concatenating and streamlining the handling of static&hellip;",
        "date_saved": "Thu Jul 28 20:14:09 EDT 2016",
        "html_file": "tornqvistjazzon.html",
        "png_file": "tornqvistjazzon.png",
        "md_file": "tornqvistjazzon.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Working with static JSON files for mocking data or whatever other purposes can be a real bore. Jazzon is a convenience utility for generating, concatenating and streamlining the handling of static JSON files.</p>\n\n<h2><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#installation\"></a>Installation</h2>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ npm install --save jazzon</pre></div>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#usage\"></a>Usage</h2>\n\n<p>In and of it self jazzon does nothing, <em>really</em>. It's sole purpose is to call registered plugins with the current state and identified helpers. Helpers can be chained passing the current state from one to the next.</p>\n\n<p>To illustrate a most basic scenario, this is how one might use jazzon together with <a href=\"https://github.com/tornqvist/jazzon-uuid\">jazzon-uuid</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">jazzon</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>jazzon<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">uuid</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>jazzon-uuid<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">let</span> data <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ uuid }<span class=\"pl-pds\">\"</span></span> };\n\n<span class=\"pl-smi\">jazzon</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-en\">uuid</span>());\n\njazzon\n .<span class=\"pl-c1\">compile</span>(data)\n .<span class=\"pl-en\">then</span>(result <span class=\"pl-k\">=&gt;</span> <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(result)); <span class=\"pl-c\">// =&gt; {id: \"6c84fb90-12c4-11e1-840d-7b25c5ee775a\"}</span></pre></div>\n\n<p>In this scenario, jazzon encounters the helper <code>uuid</code> and calls each registered plugin (in this case <code>jazzon-uuid</code>) on it.</p>\n\n<p>Helpers can also be chained using the pipe (<code>|</code>) symbol. Each chained helper gets the output (state) of the previous helper to operate on. To illustrate a more complex scenario, take these two models:</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// user.json</span>\n\n{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ uuid }<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>name<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ name.findName }<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>email<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ internet.email }<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>username<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ internet.userName }<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// users.json</span>\n\n{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>users<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ import(user.json) | pick(id, username) | repeat(3) }<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n\n<p>Running <code>users.json</code> through jazzon would produce something like this:</p>\n\n<div class=\"highlight highlight-source-js\"><pre>{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>users<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> [{\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>a76f535f-cbc6-4c09-8151-573e200c1dbf<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>username<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Doug.Simonis28<span class=\"pl-pds\">\"</span></span>\n }, {\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0a512648-c418-40a6-90ac-1bb5ef1e7fab<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>username<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Virgil_Kunze<span class=\"pl-pds\">\"</span></span>\n }, {\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>88d6903f-d13b-4d16-877e-f906461c69aa<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>username<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Grady.Koelpin<span class=\"pl-pds\">\"</span></span>\n }]\n}</pre></div>\n\n<h2><a id=\"user-content-syntax\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#syntax\"></a>Syntax</h2>\n\n<p>The syntax of helpers are very similar to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings\">JavaScript template strings</a> to clearly illustrate their purpose. But do not confuse them as the pipe separator is not a valid JavaScript operator.</p>\n\n<p>The string must start with <code>@{</code> and end with <code>}</code>. Each helper is separated with a <code>|</code> symbol. Encountering an invalid template-ish string will throw an error.</p>\n\n<p>Use <a href=\"http://regexr.com/3bsnl\">this regexr</a> to experiment with the template strings.</p>\n\n<h2><a id=\"user-content-plugins\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#plugins\"></a>Plugins</h2>\n\n<p>Plugins should export a function that get's called once for every helper encountered by jazzon. The convention is to export a factory function that returns the plugin.</p>\n\n<p>A plugin really is just a reducer that jazzon uses to process all the helpers. Therefore a plugin should <em>always</em> return a state, even if it does not manipulate the state. A switch statement does the job as so:</p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// myplugin.js</span>\n\n<span class=\"pl-c1\">module</span>.<span class=\"pl-en\">exports</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">otions</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">helper</span>, <span class=\"pl-smi\">args</span>) {\n <span class=\"pl-k\">switch</span> (helper) {\n <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span>\n <span class=\"pl-k\">return</span> args[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">||</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">default</span>;\n <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>wrap<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span>\n <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>Hello <span class=\"pl-s1\"><span class=\"pl-pse\">${</span> state <span class=\"pl-pse\">}</span></span>!<span class=\"pl-pds\">`</span></span>;\n <span class=\"pl-k\">default</span><span class=\"pl-k\">:</span>\n <span class=\"pl-k\">return</span> state;\n }\n }\n};</pre></div>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\">// myprogram.js</span>\n\njazzon\n .<span class=\"pl-en\">use</span>(<span class=\"pl-en\">myplugin</span>({\n <span class=\"pl-k\">default</span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>world<span class=\"pl-pds\">'</span></span>\n }))\n .<span class=\"pl-c1\">compile</span>({\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>first<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ name | wrap }<span class=\"pl-pds\">\"</span></span>,\n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>second<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@{ name(Joe) | wrap }<span class=\"pl-pds\">\"</span></span>\n })\n .<span class=\"pl-en\">then</span>(result <span class=\"pl-k\">=&gt;</span> <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(result)); <span class=\"pl-c\">// =&gt; {\"first\": \"Hello world!\", \"second\": \"Hello Joe!\"}</span></pre></div>\n\n<p>Jazzon also supports async plugins. Under the hood, jazzon is using <a href=\"https://github.com/tj/co\">co</a> so anything that co can handle, jazzon can handle. As so, other than just plain strings, a plugin may return a Promise, generator, generator function, function, object or array. Due to the awesome nature of co, objects and arrays may contain nestled objects/arrays containing Promises or any of the other supported types. See some of the plugins for examples of how this is achieved.</p>\n\n<h3><a id=\"user-content-availible-plugins\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#availible-plugins\"></a>Availible plugins</h3>\n\n\n\n<p>To add your own plugin, add it to the list and make a pull request.</p>\n\n<h2><a id=\"user-content-api\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#api\"></a>API</h2>\n\n<ul>\n<li><code>jazon.create(/*plugins*/)</code> Creates a new instance of jazzon with optional list of plugins.\n\n</li>\n<li><code>jazzon.use(plugin)</code> Adds a plugin to be used when transforming template strings.\n\n</li>\n<li><code>jazzon.compile(object)</code> Iterates over the object looking for template strings to transform.\n\n</li>\n<li><code>jazzon.plugins</code> An list of registered helpers on this instance.\n\n<ul>\n<li><em>Returns an Array</em></li>\n<li><em>Is immutable</em></li>\n</ul></li>\n</ul>\n\n<h2><a id=\"user-content-todo\" class=\"anchor\" href=\"https://github.com/tornqvist/jazzon#todo\"></a>TODO</h2>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"> Add documentation</li>\n<li class=\"task-list-item\"> Add wrapper for non-Promises returned from plugins</li>\n<li class=\"task-list-item\"> Add test for plugins (generator/non-generator)</li>\n<li class=\"task-list-item\"> Better error handling</li>\n<li class=\"task-list-item\"> Add CLI</li>\n</ul>\n</article>\n </div>"
    }, {
        "title": "Featurebaby",
        "url": "http://www.featurebaby.com/",
        "excerpt": "Featurebaby is a community to make products &amp; people work better together Featurebaby is a community to make products &amp; people work better together Dribbble Dribbble is show and tell for&hellip;",
        "date_saved": "Thu Jul 28 20:14:10 EDT 2016",
        "html_file": "featurebaby.html",
        "png_file": "featurebaby.png",
        "md_file": "featurebaby.md",
        "content": "<div><div class=\"container content\">\n <div class=\"marketing\">\n \n <p class=\"text-center\">Featurebaby is a community to make products <span class=\"amp\">&amp;</span> people work better together</p>\n</div>\n\n<div id=\"products\">\n <div class=\"slot\">\n \n <p>Featurebaby is a community to make products &amp; people work better together</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/dribbble\">Dribbble</a></h4>\n <p>Dribbble is show and tell for designers.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/product-hunt\">Product Hunt</a></h4>\n <p>Product Hunt is a curation of the best new products, every day.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/hacker-news\">Hacker News</a></h4>\n <p>Hacker News is a social news website focusing on computer science and entrepreneurship.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/heroku\">Heroku</a></h4>\n <p>Heroku is a cloud platform as a service supporting several programming languages.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/wordpress-com\">Wordpress.com</a></h4>\n <p>WordPress.com is the best place for your personal blog or business site.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/wordpress\">Wordpress</a></h4>\n <p>WordPress is web software you can use to create a beautiful website, blog, or app.</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/google-web-search\">Google Web Search</a></h4>\n <p>The dominant search engine in the United States market</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/google-news\">Google News</a></h4>\n <p>Comprehensive up-to-date news coverage, aggregated from sources all over the world by Google News</p>\n </div>\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/google-drive\">Google Drive</a></h4>\n <p>Get access to files anywhere through secure cloud storage and file backup for your photos, videos, files and more with Google Drive</p>\n </div>\n\n\n \n</div>\n </div>\n\n \n\n </div><hr class=\"rdb-page-break\" /><div>\n\n\n \n\n <div class=\"container content\">\n <div class=\"marketing\">\n \n <p class=\"text-center\">Featurebaby is a community to make products <span class=\"amp\">&amp;</span> people work better together</p>\n</div>\n\n<div id=\"products\">\n <div class=\"slot\">\n <h4><a href=\"http://www.featurebaby.com/p/google-maps\">Google Maps</a></h4>\n <p>Google Maps is a desktop web mapping service developed by Google</p>\n </div>\n\n\n \n</div>\n </div>\n\n \n\n </div>\n"
    }, {
        "title": "the intelligent, hackable code host for teams",
        "url": "https://src.sourcegraph.com/sourcegraph@b1af2ab4761618930f6f7e44eb775e08fac3f38e/.tree/README.md",
        "excerpt": "Sourcegraph is a self-hosted Git repository service with Code Intelligence. It runs on your own server or cloud and installs in 5 minutes. Sourcegraph gives your team the power to build better&hellip;",
        "date_saved": "Thu Jul 28 20:14:12 EDT 2016",
        "html_file": "the_intelligent_hackable_code_host_for_teams.html",
        "png_file": "the_intelligent_hackable_code_host_for_teams.png",
        "md_file": "the_intelligent_hackable_code_host_for_teams.md",
        "content": "<div><div class=\"panel-body theme-default repo-doc-body\">\n\t\t\n\n<p>Sourcegraph is a <strong>self-hosted Git repository service</strong> with Code\nIntelligence. It <strong>runs on your own server</strong> or cloud and installs in\n5 minutes.</p>\n\n<p>Sourcegraph gives your team the power to build better software by\noffering:</p>\n\n<ul>\n<li><strong>Code Intelligence (<a href=\"https://src.sourcegraph.com/sourcegraph@0788772f7fec57c62bbd1eba83839d5d0de97b23/.GoPackage/src.sourcegraph.com/sourcegraph/util/mdutil/.def/Mentions\" rel=\"nofollow\">example</a>):</strong> Understand code more quickly with jump-to-definition and tooltips. (Go and Java only, more languages coming soon.)</li>\n<li><strong>Live usage examples (<a href=\"https://src.sourcegraph.com/sourcegraph@master/.GoPackage/src.sourcegraph.com/sourcegraph/app/router/.def/Router/URLToRepo/.examples\" rel=\"nofollow\">example</a>):</strong> See how code is currently being used across your codebases. As a wise developer once said, &#x201C;The right example is worth a thousand words of documentation.&#x201D;</li>\n<li><strong>Better code reviews (<a href=\"https://src.sourcegraph.com/sourcegraph/.changes/302\" rel=\"nofollow\">example</a>):</strong> Review changesets more effectively with drafts and Code Intelligence context in diffs&#x2014;and an easy branch-based pull request model.</li>\n<li><strong>Code-linked issue tracking (<a href=\"https://src.sourcegraph.com/sourcegraph/.tracker/27\" rel=\"nofollow\">example</a>):</strong> Ask questions, suggest improvements, and explain design decisions inline in your code.</li>\n<li><strong>Smart search (<a href=\"https://src.sourcegraph.com/sourcegraph/.search?q=NewClient\" rel=\"nofollow\">example</a>):</strong> Find code quickly by function name, full text, etc.</li>\n<li><strong>Hackable source code:</strong> <a href=\"https://src.sourcegraph.com/sourcegraph\" rel=\"nofollow\">Sourcegraph&#x2019;s source code</a> is publicly available under the <a href=\"https://fair.io\" rel=\"nofollow\">Fair Source License</a>.</li>\n</ul>\n\n<p><a href=\"https://src.sourcegraph.com/sourcegraph/.docs/getting-started/\" rel=\"nofollow\"><strong>Get started with your own Sourcegraph server</strong></a> in 5 minutes! Want to try it out first? You&#x2019;re on a Sourcegraph server (<a href=\"https://src.sourcegraph.com\" rel=\"nofollow\">src.sourcegraph.com</a>) now, so just browse around this server.</p>\n\n<p><em>More info? Watch the <a href=\"https://www.youtube.com/watch?v=XOdh3-QJSzs\" rel=\"nofollow\">demo video</a>,\nsee the\n<a href=\"https://sourcegraph.com/blog/133554180524/announcing-the-sourcegraph-developer-release-an\" rel=\"nofollow\">announcement blog post</a>,\nand <a href=\"https://sourcegraph.com\" rel=\"nofollow\">view enterprise capabilities</a>.</em></p>\n\n<h2>Installation</h2>\n\n<p>Follow the 5-minute\n<a href=\"https://src.sourcegraph.com/sourcegraph/.docs/getting-started/\" rel=\"nofollow\">Sourcegraph installation instructions</a>. For\nmore installation methods, check out the\n<a href=\"https://src.sourcegraph.com/sourcegraph/.docs\" rel=\"nofollow\">docs</a>.</p>\n\n<h2>Under the hood</h2>\n\n<p>Sourcegraph is built on several components:</p>\n\n<ul>\n<li><a href=\"https://srclib.org\" rel=\"nofollow\">srclib</a>, a multi-language, hackable source code\nanalysis toolchain</li>\n<li>The <a href=\"http://golang.org\" rel=\"nofollow\">Go</a> programming language</li>\n<li><a href=\"http://grpc.io\" rel=\"nofollow\">gRPC</a>, an HTTP2-based RPC protocol that uses\nProtocol Buffer service definitions</li>\n<li><a href=\"https://facebook.github.io/react/\" rel=\"nofollow\">React</a>, a JavaScript library for\nbuilding UIs.</li>\n<li><a href=\"https://sourcegraph.com\" rel=\"nofollow\">Sourcegraph.com</a>, a public instance of\nSourcegraph that provides information about open-source projects to\nyour local Sourcegraph.</li>\n</ul>\n\n<h2>Contributing to Sourcegraph</h2>\n\n<p>Want to make Sourcegraph better? Great! Check out\n<a href=\"https://src.sourcegraph.com/sourcegraph@master/.tree/CONTRIBUTING.md\" rel=\"nofollow\">CONTRIBUTING.md</a>. We\nwelcome all types of contributions&#x2013;code, documentation, assets,\ncommunity support, and user feedback.</p>\n\n<p>Our\n<a href=\"https://src.sourcegraph.com/sourcegraph@master/.tree/README.dev.md\" rel=\"nofollow\">README.dev.md</a>\nis a good place to start.</p>\n\n<h2>Security</h2>\n\n<p>Security is very important to us. If you discover a security-related\nissue, please responsibly disclose it by emailing\n<a href=\"mailto:security@sourcegaph.com\" rel=\"nofollow\">security@sourcegraph.com</a> and not by\ncreating an issue.</p>\n\n<p><a href=\"https://sourcegraph.com/security\" rel=\"nofollow\">Read our complete security policy.</a></p>\n\n<h2>License</h2>\n\n<p><a href=\"https://fair.io\" rel=\"nofollow\">Fair Source License</a></p>\n\n\t</div>\n</div>"
    }, {
        "title": "graemedouglas/LittleD",
        "url": "https://github.com/graemedouglas/LittleD",
        "excerpt": "A relational database for embedded devices and sensors nodes. Introduction LittleD provides a SQL frontend to manage data under the relational model. This project targets devices of about the same&hellip;",
        "date_saved": "Thu Jul 28 20:14:14 EDT 2016",
        "html_file": "graemedouglaslittled.html",
        "png_file": "graemedouglaslittled.png",
        "md_file": "graemedouglaslittled.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>A relational database for embedded devices and sensors nodes.</p>\n\n<h2><a id=\"user-content-introduction\" class=\"anchor\" href=\"https://github.com/graemedouglas/LittleD#introduction\"></a>Introduction</h2>\n\n<p>LittleD provides a SQL frontend to manage data under the relational model.\nThis project targets devices of about the same capabilities as the Arduino\nMega2560. In a nutshell, the system supports the creation of tables,\ndata insertion, and SELECT-FROM-WHERE syntax. Error messages are\nsupported but not mandatory. A simple configuration header file dictates\nwhich features are compiled in so the database's codespace footprint\ncan be controlled according to application needs. All code except\nthat needed to interface with Arduinos is written in C.</p>\n\n<p>This project is part of ongoing research being conducted at the\nUniversity of British Columbia's Okanagan Campus under the direction\nof Dr. Ramon Lawrence. The work has been supported by Dr. Lawrence's\nDistributed Data Lab, the Irving K. Barber School of Arts and Sciences,\nthe Natural Sciences and Engineering Research Council of Canada,\nalong with a list of people too numerous to name.</p>\n\n<h2><a id=\"user-content-building-instructions\" class=\"anchor\" href=\"https://github.com/graemedouglas/LittleD#building-instructions\"></a>Building Instructions</h2>\n\n<p>To simply build the database locally, in your shell of choice navigate\nto the repository root and execute the command</p>\n\n<pre><code>make\n</code></pre>\n\n<p>To build the unit tests, issue the command</p>\n\n<pre><code>make tests\n</code></pre>\n\n<p>and navigate to the <em>bin/tests</em> directory within the repository's root\ndirectory. You may run all tests by</p>\n\n<pre><code>./runalltests\n</code></pre>\n\n<p>Single tests are included in the same directory. The documentation\ncan be generated using</p>\n\n<pre><code>make docs\n</code></pre>\n\n<p>and reside in the <em>doc/doxygen</em> directory. Note that doxygen must be installed\nfor the documentation to be generated. Finally,</p>\n\n<pre><code>make clean\n</code></pre>\n\n<p>deletes all files created at compile time.</p>\n\n<h2><a id=\"user-content-eclipse-setup\" class=\"anchor\" href=\"https://github.com/graemedouglas/LittleD#eclipse-setup\"></a>Eclipse Setup</h2>\n\n<p>LittleD can be managed using an Eclipse Makefile project.\nEither the packaged C/C++ Eclipse IDE or the installable CDT package\nmust be used.</p>\n\n<p>First make sure that the repository is cloned.\nIn Eclipse click <strong>File</strong> -&gt; <strong>Import...</strong>. Within the <strong>Select</strong> window, choose\nunder <strong>C/C++</strong> the <strong>Existing Code as Makefile Project</strong> option and click\n<strong>Next</strong>. Give your Eclipse Project a name and browse to the root of the\nproject repository to use the code. Choose the correct compiler for your\nsystem and then click <strong>Finish</strong>.</p>\n\n<p>As noted above, there are a small number of make targets that can be used\nwith the project's Makefile. By right clicking the project in the\n<strong>Package Explorer</strong> and selecting <strong>Make Targets</strong> -&gt; <strong>Create...</strong>. Leaving\nall options at the their default, enter the name of the target to add\n(for instance, <em>tests</em>) and then click <strong>OK</strong>. You can then run the Make target\nby right clicking on the project in the <strong>Project Explorer</strong> and choosing\n<strong>Make Targets</strong> -&gt; <strong>Build...</strong>. Select the target from the list that appears\nand click <strong>Build</strong>. Finally, you can run individual files with main methods\nby opening them and click the green <strong>Run</strong> button at the top.</p>\n</article>\n </div>"
    }, {
        "title": "alfateam/rdb",
        "url": "https://github.com/alfateam/rdb/blob/master/docs/docs.md",
        "excerpt": "All examples below are found at npmjs.org/package/rdb-demo. Documentation and examples Connecting connect to postgres connect to mySql pool size end pool end all pools",
        "date_saved": "Thu Jul 28 20:14:22 EDT 2016",
        "html_file": "alfateamrdb.html",
        "png_file": "alfateamrdb.png",
        "md_file": "alfateamrdb.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p>All examples below are found at <a href=\"https://npmjs.org/package/rdb-demo\">npmjs.org/package/rdb-demo</a>. </p>\n\n<h2><a id=\"user-content-documentation-and-examples\" class=\"anchor\" href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#documentation-and-examples\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a><em>Documentation and examples</em></h2>\n\n<p><strong>Connecting</strong><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_connecttopostgres\">connect to postgres</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_connecttomysql\">connect to mySql</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_poolsize\">pool size</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_endpool\">end pool</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_endallpools\">end all pools</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_logging\">logging</a><br>\n<strong>Basic querying</strong><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_getbyid\">getById</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_trygetbyid\">tryGetById</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_trygetfirst\">tryGetFirst</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_join\">join</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_hasmany\">hasMany</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_hasone\">hasOne</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_compositekeys\">composite keys</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_getbyideager\">getById eagerly</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_trygetfirsteager\">tryGetFirst eagerly</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_todto\">toDto</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_todtowithstrategy\">toDto with strategy</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_todtowithorderby\">toDto with orderBy</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_todtowithorderbydesc\">toDto with orderBy descending</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_serializable\">toDto ignoring columns</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_tojson\">toJSON</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_tojsonwithstrategy\">toJSON with strategy</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_getmany\">getMany</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_getmanylazy\">getMany lazily</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_getmanyeager\">getMany eagerly</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_manytodto\">(many)ToDto</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_manytodtowithstrategy\">(many)ToDto with strategy</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_manytojson\">(many)ToJSON</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_manytojsonwithstrategy\">(many)ToJSON with strategy</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_rawsqlquery\">Raw SQL query</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_rawsqlquerywithparameters\">Raw SQL Query With Parameters</a><br>\n<strong>Streaming</strong><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_streameager\">streaming rows</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_streamjsoneager\">streaming json</a><br>\n<strong>Persistence</strong><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_update\">update</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_insert\">insert</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_delete\">delete</a> \n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_cascadedelete\">cascade delete</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_bulkdelete\">bulk delete</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_bulkcascadedelete\">bulk cascade delete</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_defaultvalues\">default values</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_conventions\">conventions</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_updatejoin\">update a join-relation</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_updatehasone\">update a hasOne-relation</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_updatehasmany\">update a hasMany-relation</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_locking\">locking</a> </p>\n\n<p><strong>Filters</strong><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_equal\">equal</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_notequal\">notEqual</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_not\">not</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_lessthan\">lessThan</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_lessthanorequal\">lessThanOrEqual</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_greaterthan\">greaterThan</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_greaterthanorequal\">greaterThanOrEqual</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_between\">between</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_in\">in</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_startswith\">startsWith</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_endswith\">endsWith</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_contains\">contains</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_iequal\">iEqual</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_istartswith\">iStartsWith</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_iendswith\">iEndsWith</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_icontains\">iContains</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_exists\">exists</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_or\">or</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_and\">and</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_oralternative\">or alternative syntax</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_andalternative\">and alternative syntax</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_subfilter\">sub filter</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_compositefilter\">composite filter</a><br>\n<a href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#_rawsqlfilter\">raw sql filter</a> </p>\n\n<h2><a id=\"user-content-contents\" class=\"anchor\" href=\"https://github.com/alfateam/rdb/blob/master/docs/docs.md#contents\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a><em>Contents</em></h2>\n\n<p><a name=\"user-content-_connecttopostgres\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/connect.js\">connect to postgres</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\">//will use pool with 10 connections by default</span>\n<span class=\"pl-c\">//alternatively: var db = rdb.pg('postgres://postgres:postgres@localhost/test');</span>\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_connecttomysql\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/mySql/connect.js\">connect to mySql</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">mySql</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mysql://root@localhost/rdbDemo?multipleStatements=true<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\">//will use pool with 10 connections by default</span>\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_poolsize\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/poolOptions.js\">pool size</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> poolOptions <span class=\"pl-k\">=</span> {size<span class=\"pl-k\">:</span> <span class=\"pl-c1\">20</span>};\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>, poolOptions);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success. Created pool with max 20 connections.<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_endpool\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/endPool.js\">end pool</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">db</span>.<span class=\"pl-smi\">end</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Pool ended.<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_endallpools\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/endAllPools.js\">end all pools</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> dbPg <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> dbMySql <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">mySql</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mysql://root@localhost/rdbDemo?multipleStatements=true<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-en\">connectPg</span>()\n .<span class=\"pl-en\">then</span>(connectMySql)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">end</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">connectPg</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">dbPg</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">connectMySql</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">dbMySql</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Pools ended.<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">stack</span>);\n}\n</pre></div>\n\n<p><a name=\"user-content-_logging\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/logging.js\">logging</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">log</span>(<span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>); <span class=\"pl-c\">//will log sql and parameters</span>\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(update)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">update</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ringo<span class=\"pl-pds\">'</span></span>; \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_getbyid\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/getById.js\">getById</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cRegdate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">date</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registeredDate<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cPicture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>picture<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cDocument<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">json</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>document<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, Balance: %s, Registered Date: %s, Is Active: %s, Picture: %s, , Document: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">registeredDate</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">isActive</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">picture</span>, <span class=\"pl-c1\">JSON</span>.<span class=\"pl-en\">stringify</span>(<span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">document</span>)];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_trygetbyid\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/tryGetById.js\">tryGetById</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cRegdate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">date</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registeredDate<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cPicture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>picture<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cDocument<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">json</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>document<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(tryGetById)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">tryGetById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">tryGetById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (customer) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, Balance: %s, Registered Date: %s, Is Active: %s, Picture: %s, , Document: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">registeredDate</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">isActive</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">picture</span>, <span class=\"pl-c1\">JSON</span>.<span class=\"pl-en\">stringify</span>(<span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">document</span>)];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_trygetfirst\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/tryGetFirst.js\">tryGetFirst</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(tryGetFirst)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">tryGetFirst</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">tryGetFirst</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (customer) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);;\n }\n <span class=\"pl-k\">else</span>\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer not found<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_join\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/join.js\">join</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-a000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s, Customer Id: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customerId</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customer</span>; <span class=\"pl-c\">//this is a promise</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>customer)\n <span class=\"pl-k\">return</span>;\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_hasmany\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/hasMany.js\">hasMany</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printLines)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>; <span class=\"pl-c\">//this is a promise</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printLines</span>(<span class=\"pl-smi\">lines</span>) {\n <span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">forEach</span>(printLine);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printLine</span>(<span class=\"pl-smi\">line</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Line Id: %s, Order Id: %s, Product: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n } \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_hasone\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/hasOne.js\">hasOne</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printDeliveryAddress)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">deliveryAddress</span>; <span class=\"pl-c\">//this is a promise</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printDeliveryAddress</span>(<span class=\"pl-smi\">address</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>DeliveryAddress Id: %s, Order Id: %s, %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">address</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">address</span>.<span class=\"pl-smi\">orderId</span>, <span class=\"pl-smi\">address</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">address</span>.<span class=\"pl-smi\">street</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_compositekeys\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/compositeKeys.js\">composite keys</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_compositeOrder<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_compositeOrderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCompanyId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>companyId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lCompanyId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>companyId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lLineNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lineNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lCompanyId<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printLines)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">var</span> companyId <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>,\n orderId <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1001</span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(companyId, orderId);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Company Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">companyId</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>)\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>; <span class=\"pl-c\">//this is a promise</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printLines</span>(<span class=\"pl-smi\">lines</span>) {\n <span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">forEach</span>(printLine);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printLine</span>(<span class=\"pl-smi\">line</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Company Id: %s, Order No: %s, Line No: %s, Product: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">companyId</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderNo</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">lineNo</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n } \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_getbyideager\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/getByIdEager.js\">getById eagerly</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrderWithCustomer)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrderWithCustomer</span>() {\n <span class=\"pl-k\">var</span> fetchingStrategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>}; <span class=\"pl-c\">//alternatively: {customer : {}} </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-a000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>, fetchingStrategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s, Customer Id: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customerId</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customer</span>; <span class=\"pl-c\">//this is a promise</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>customer)\n <span class=\"pl-k\">return</span>;\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_trygetfirsteager\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/tryGetFirstEager.js\">tryGetFirst eagerly</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(tryGetFirstOrderWithCustomer)\n .<span class=\"pl-en\">then</span>(printOrder)\n .<span class=\"pl-en\">then</span>(printCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">tryGetFirstOrderWithCustomer</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">tryGetFirst</span>(filter, strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>order) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order not found<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span>;\n }\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s, Customer Id: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customerId</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customer</span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>customer) \n <span class=\"pl-k\">return</span>;\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_todto\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toDto.js\">toDto</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toDto</span>(<span class=\"pl-c\">/*strategy*/</span>);\n <span class=\"pl-c\">//default strategy, expand all hasOne and hasMany relations</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(dto);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_todtowithstrategy\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toDtoWithStrategy.js\">toDto with strategy</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, lines <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, deliveryAddress <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toDto</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(dto);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_todtowithorderby\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toDtoWithOrderBy.js\">toDto with orderBy</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {\n lines<span class=\"pl-k\">:</span> {\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>] \n <span class=\"pl-c\">//alternative: orderBy: ['product asc']</span>\n }\n };\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toDto</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(dto);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_todtowithorderbydesc\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toDtoWithOrderByDesc.js\">toDto with orderBy descending</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {\n lines<span class=\"pl-k\">:</span> {\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product desc<span class=\"pl-pds\">'</span></span>] \n }\n };\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toDto</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(dto);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_serializable\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/serializable.js\">toDto ignoring columns</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> User <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_User<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">User</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">User</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uUserId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>userId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">User</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uPassword<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>password<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">serializable</span>(<span class=\"pl-c1\">false</span>);\n<span class=\"pl-smi\">User</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uEmail<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>email<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getUser)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getUser</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">User</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>87654400-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">user</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-en\">toDto</span>().<span class=\"pl-en\">then</span>(<span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>);\n <span class=\"pl-c\">//will print all properties except password</span>\n <span class=\"pl-c\">//because it is not serializable</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_tojson\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toJSON.js\">toJSON</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toJSON</span>(<span class=\"pl-c\">/*strategy*/</span>);\n <span class=\"pl-c\">//default strategy, expand all hasOne and hasMany relations</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_tojsonwithstrategy\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/toJSONWithStrategy.js\">toJSON with strategy</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrder)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrder</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, lines <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, deliveryAddress <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-en\">toJSON</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_getmany\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/getMany.js\">getMany</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getAllCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getAllCustomers</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_getmanylazy\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/getManyLazy.js\">getMany lazily</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>),\n promise <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>promise<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getAllOrders)\n .<span class=\"pl-en\">then</span>(printOrders)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getAllOrders</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrders</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">var</span> printAllLines <span class=\"pl-k\">=</span> [];\n <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">forEach</span>(printOrder);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-smi\">printAllLines</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">then</span>(printLines));\n }\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">promise</span>.<span class=\"pl-c1\">all</span>(printAllLines);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printLines</span>(<span class=\"pl-smi\">lines</span>) {\n <span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">forEach</span>(printLine);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printLine</span>(<span class=\"pl-smi\">line</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Line Id: %s, Order Id: %s, Product: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n } \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_getmanyeager\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/getManyEager.js\">getMany eager</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>),\n promise <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>promise<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getAllOrders)\n .<span class=\"pl-en\">then</span>(printOrders)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getAllOrders</span>() {\n <span class=\"pl-k\">var</span> emptyFilter;\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {lines <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>(emptyFilter, strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrders</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">var</span> printAllLines <span class=\"pl-k\">=</span> [];\n <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">forEach</span>(printOrder);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n <span class=\"pl-smi\">printAllLines</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">then</span>(printLines));\n }\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">promise</span>.<span class=\"pl-c1\">all</span>(printAllLines);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printLines</span>(<span class=\"pl-smi\">lines</span>) {\n <span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">forEach</span>(printLine);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printLine</span>(<span class=\"pl-smi\">line</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Line Id: %s, Order Id: %s, Product: %s<span class=\"pl-pds\">'</span></span>; \n <span class=\"pl-k\">var</span> args <span class=\"pl-k\">=</span> [format, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span>];\n <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>.<span class=\"pl-c1\">apply</span>(<span class=\"pl-c1\">null</span>,args);\n } \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_manytodto\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/manyToDto.js\">(many)ToDto</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>),\n inspect <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>util<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">inspect</span>;\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toDto</span>(<span class=\"pl-c\">/*strategy*/</span>);\n <span class=\"pl-c\">//default strategy, expand all hasOne and hasMany relations</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-en\">inspect</span>(dto,<span class=\"pl-c1\">false</span>,<span class=\"pl-c1\">10</span>));\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_manytodtowithstrategy\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/manyToDtoWithStrategy.js\">(many)ToDto with strategy</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>),\n inspect <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>util<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">inspect</span>;\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toDto)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toDto</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, lines <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, deliveryAddress <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toDto</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">dto</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-en\">inspect</span>(dto,<span class=\"pl-c1\">false</span>,<span class=\"pl-c1\">10</span>));\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_manytojson\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/manyToJSON.js\">(many)ToJSON</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toJSON</span>(<span class=\"pl-c\">/*strategy*/</span>);\n <span class=\"pl-c\">//default strategy, expand all hasOne and hasMany relations</span>\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_manytojsonwithstrategy\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/manyToJSONWithStrategy.js\">(many)ToJSON with strategy</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> order_customer_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, lines <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, deliveryAddress <span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>};\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toJSON</span>(strategy);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_rawsqlquery\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/rawSqlQuery.js\">Raw SQL Query</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getUniqueCustomerIds)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getUniqueCustomerIds</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">query</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>SELECT DISTINCT oCustomerId AS \"customerId\" FROM _order<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">rows</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(rows);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_rawsqlquerywithparameters\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/rawSqlQueryWithParameters.js\">Raw SQL Query With Parameters</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrderNos)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrderNos</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">query</span>({\n sql<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>SELECT oOrderNo AS \"orderNo\" FROM _order WHERE oOrderNo LIKE ?<span class=\"pl-pds\">'</span></span>,\n parameters<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>%04<span class=\"pl-pds\">'</span></span>]\n });\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">rows</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(rows);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_streameager\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/streamEager.js\">streaming rows</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> emptyFilter;\n<span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {\n lines<span class=\"pl-k\">:</span> {\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>]\n },\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>],\n limit<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>,\n};\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">createReadStream</span>(db, emptyFilter, strategy).<span class=\"pl-en\">on</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>data<span class=\"pl-pds\">'</span></span>, printOrder);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrder</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Order Id: %s, Order No: %s<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(format, <span class=\"pl-smi\">order</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">orderNo</span>);\n <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">forEach</span>(printLine);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printLine</span>(<span class=\"pl-smi\">line</span>) {\n <span class=\"pl-k\">var</span> format <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Line Id: %s, Order Id: %s, Product: %s<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(format, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span>, <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span>);\n}</pre></div>\n\n<p><a name=\"user-content-_streamjsoneager\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/streamJSONEager.js\">streaming json</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> emptyFilter;\n<span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {\n lines<span class=\"pl-k\">:</span> {\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>]\n },\n orderBy<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>],\n limit<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>,\n};\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">createJSONReadStream</span>(db, emptyFilter, strategy).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n\n<p><a name=\"user-content-_update\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/update.js\">update</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(update)\n .<span class=\"pl-en\">then</span>(getById) <span class=\"pl-c\">//will use cache</span>\n .<span class=\"pl-en\">then</span>(verifyUpdated)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">update</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ringo<span class=\"pl-pds\">'</span></span>; \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdated</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">!==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ringo<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this will not happen<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_insert\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/insert.js\">insert</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(insert)\n .<span class=\"pl-en\">then</span>(getById) <span class=\"pl-c\">//will use cache</span>\n .<span class=\"pl-en\">then</span>(verifyInserted)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insert</span>() {\n <span class=\"pl-k\">var</span> customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcdef00-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Paul<span class=\"pl-pds\">'</span></span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcdef00-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyInserted</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">!==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Paul<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this will not happen<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_delete\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/delete.js\">delete</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cRegdate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">date</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registeredDate<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cPicture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>picture<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(deleteCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() { \n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>87654321-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">deleteCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-en\">delete</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">stack</span>);\n}</pre></div>\n\n<p><a name=\"user-content-_cascadedelete\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/cascadeDelete.js\">cascadeDelete</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> orderToCustomer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">hasMany</span>(orderToCustomer).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orders<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(deleteCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>87654399-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">deleteCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-en\">cascadeDelete</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">stack</span>);\n}</pre></div>\n\n<p><a name=\"user-content-_bulkdelete\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/bulkDelete.js\">bulk delete</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cRegdate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">date</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registeredDate<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cPicture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>picture<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(deleteCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">deleteCustomer</span>() { \n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">id</span>.<span class=\"pl-en\">eq</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>87654321-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">delete</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">stack</span>);\n}</pre></div>\n\n<p><a name=\"user-content-_cascadedelete\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/bulkCascadeDelete.js\">bulk cascadeDelete</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> orderToCustomer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">hasMany</span>(orderToCustomer).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orders<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(deleteCustomer)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">deleteCustomer</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">id</span>.<span class=\"pl-en\">eq</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>87654399-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">cascadeDelete</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">stack</span>);\n}</pre></div>\n\n<p><a name=\"user-content-_defaultvalues\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/defaultValues.js\">default values</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> buf <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Buffer</span>(<span class=\"pl-c1\">10</span>);\n<span class=\"pl-smi\">buf</span>.<span class=\"pl-c1\">write</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-cce\">\\u</span>00bd + <span class=\"pl-cce\">\\u</span>00bc = <span class=\"pl-cce\">\\u</span>00be<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">0</span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\">/*unless overridden, numeric is default 0, </span>\n<span class=\"pl-c\">string is default null, </span>\n<span class=\"pl-c\">guid is default null,</span>\n<span class=\"pl-c\">date is default null,</span>\n<span class=\"pl-c\">binary is default null,</span>\n<span class=\"pl-c\">boolean is default false,</span>\n<span class=\"pl-c\">json is default null</span>\n<span class=\"pl-c\">*/</span> \n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">null</span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">2000</span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cRegdate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">date</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registeredDate<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>());\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">true</span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cPicture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>picture<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>(buf);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cDocument<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">json</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>document<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">default</span>({foo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>});\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(insert)\n .<span class=\"pl-en\">then</span>(print) \n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insert</span>() {\n <span class=\"pl-k\">var</span> customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcdef02-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">customer</span>.<span class=\"pl-en\">toJSON</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_conventions\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/conventions.js\">conventions</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>(); <span class=\"pl-c\">//property name will also be cId</span>\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>(); <span class=\"pl-c\">//property name will also be cName</span>\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(insert)\n .<span class=\"pl-en\">then</span>(print) \n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insert</span>() {\n <span class=\"pl-k\">var</span> customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcdef01-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">cName</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Paul<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">customer</span>.<span class=\"pl-en\">toJSON</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_updatejoin\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/updateJoin.js\">update a join-relation</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(update)\n .<span class=\"pl-en\">then</span>(verifyUpdated)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b0000000-b000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">update</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">var</span> yokoId <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>12345678-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customerId</span> <span class=\"pl-k\">=</span> yokoId;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">customer</span>; \n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdated</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">!==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Yoko<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this will not happen<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_updatehasone\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/updateHasOne.js\">update a hasOne-relation</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">hasone</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(insertDeliveryAddress)\n .<span class=\"pl-en\">then</span>(verifyUpdated)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insertDeliveryAddress</span>() {\n <span class=\"pl-k\">var</span> address <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>eeeeeeee-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-smi\">address</span>.<span class=\"pl-smi\">orderId</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-a000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-smi\">address</span>.<span class=\"pl-c1\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Sgt. Pepper<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-smi\">address</span>.<span class=\"pl-smi\">street</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>L18 Penny Lane<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">address</span>.<span class=\"pl-smi\">order</span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdated</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">deliveryAddress</span>.<span class=\"pl-en\">then</span>(verifyUpdatedAddress);;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdatedAddress</span>(<span class=\"pl-smi\">deliveryAddress</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">deliveryAddress</span>.<span class=\"pl-smi\">street</span> <span class=\"pl-k\">!==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>L18 Penny Lane<span class=\"pl-pds\">'</span></span>)\n <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this will not happen<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_updatehasmany\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/updateHasMany.js\">update a hasMany-relation</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> orderIdWithNoLines <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c0000000-c000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(insertOrderLine1)\n .<span class=\"pl-en\">then</span>(insertOrderLine2)\n .<span class=\"pl-en\">then</span>(verifyUpdated)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insertOrderLine1</span>() {\n <span class=\"pl-k\">var</span> line <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>eeeeeeee-0001-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span> <span class=\"pl-k\">=</span> orderIdWithNoLines;\n <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Roller blades<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">order</span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">insertOrderLine2</span>() {\n <span class=\"pl-k\">var</span> line <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">insert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>eeeeeeee-0002-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">orderId</span> <span class=\"pl-k\">=</span> orderIdWithNoLines;\n <span class=\"pl-smi\">line</span>.<span class=\"pl-c1\">product</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Helmet<span class=\"pl-pds\">'</span></span>;\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">line</span>.<span class=\"pl-smi\">order</span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdated</span>(<span class=\"pl-smi\">order</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">order</span>.<span class=\"pl-smi\">lines</span>.<span class=\"pl-en\">then</span>(verifyUpdatedLines);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">verifyUpdatedLines</span>(<span class=\"pl-smi\">lines</span>) {\n <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">lines</span>.<span class=\"pl-c1\">length</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">2</span>)\n <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this will not happen<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_locking\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/exclusive.js\">locking</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> promise <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>promise<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">exclusive</span>();\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-en\">showBalance</span>()\n .<span class=\"pl-en\">then</span>(updateConcurrently)\n .<span class=\"pl-en\">then</span>(showBalance)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">showBalance</span>() {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(printBalance)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printBalance</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Balance: <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>)\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">updateConcurrently</span>() {\n <span class=\"pl-k\">var</span> concurrent1 <span class=\"pl-k\">=</span> <span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(increaseBalance)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>);\n\n <span class=\"pl-k\">var</span> concurrent2 <span class=\"pl-k\">=</span> <span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getById)\n .<span class=\"pl-en\">then</span>(increaseBalance)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">promise</span>.<span class=\"pl-c1\">all</span>([concurrent1, concurrent2]);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getById</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>....................<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getById</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a0000000-0000-0000-0000-000000000000<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">increaseBalance</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span> <span class=\"pl-k\">+=</span> <span class=\"pl-c1\">100</span>;\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_equal\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/equal.js\">equal</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-c\">//same as Customer.name.eq('John'); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_notequal\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/notEqual.js\">notEqual</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">notEqual</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-c\">//same as Customer.name.ne('John'); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_not\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/not.js\">not</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">not</span>();\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_lessthan\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/lessThan.js\">lessThan</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">lessThan</span>(<span class=\"pl-c1\">5000</span>);\n <span class=\"pl-c\">//same as Customer.balance.lt(5000); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, balance : %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_lessthanorequal\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/lessThanOrEqual.js\">lessThanOrEqual</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">lessThanOrEqual</span>(<span class=\"pl-c1\">8123</span>);\n <span class=\"pl-c\">//same as Customer.balance.le(8123); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, balance : %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_greaterthan\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/greaterThan.js\">greaterThan</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">greaterThan</span>(<span class=\"pl-c1\">5000</span>);\n <span class=\"pl-c\">//same as Customer.balance.gt(5000); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, balance : %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_greaterthanorequal\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/greaterThanOrEqual.js\">greaterThanOrEqual</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">greaterThanOrEqual</span>(<span class=\"pl-c1\">8123</span>);\n <span class=\"pl-c\">//same as Customer.balance.ge(8123); </span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, balance : %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_between\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/between.js\">between</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">between</span>(<span class=\"pl-c1\">3000</span>, <span class=\"pl-c1\">8123</span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s, balance : %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">balance</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">in</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Yoko<span class=\"pl-pds\">'</span></span>]);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_startswith\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/startsWith.js\">startsWith</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">startsWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Jo<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_endswith\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/endsWith.js\">endsWith</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">endsWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nny<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_contains\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/contains.js\">contains</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">contains</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ohn<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_contains\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/contains.js\">contains</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">contains</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ohn<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_iequal\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/iEqual.js\">iEqual (postgres only)</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">iEqual</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>jOhN<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_istartswith\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/iStartsWith.js\">iStartsWith (postgres only)</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">iStartsWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>jo<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_iendswith\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/iEndsWith.js\">iEndsWith (postgres only)</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">iEndsWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nNy<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_icontains\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/iContains.js\">iContains (postgres only)</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">iContains</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oHn<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_exists\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/exists.js\">exists</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-smi\">deliveryAddress</span>.<span class=\"pl-en\">exists</span>();\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toJSON</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> john <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> yoko <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Yoko<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">john</span>.<span class=\"pl-en\">or</span>(yoko);\n\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_and\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/and.js\">and</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> isActive <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">isActive</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-c1\">true</span>);\n <span class=\"pl-k\">var</span> highBalance <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">greaterThan</span>(<span class=\"pl-c1\">8000</span>);\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">isActive</span>.<span class=\"pl-en\">and</span>(highBalance);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_oralternative\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/orAlternative.js\">or alternative syntax</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> john <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>John<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> yoko <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-c1\">name</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Yoko<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">filter</span>.<span class=\"pl-en\">or</span>(john).<span class=\"pl-en\">or</span>(yoko);\n <span class=\"pl-c\">//alternatively rdb.filter.and(john).or(yoko);</span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_andalternative\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/andAlternative.js\">and alternative syntax</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getFilteredCustomers)\n .<span class=\"pl-en\">then</span>(printCustomers)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getFilteredCustomers</span>() {\n <span class=\"pl-k\">var</span> isActive <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">isActive</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-c1\">true</span>);\n <span class=\"pl-k\">var</span> highBalance <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-smi\">balance</span>.<span class=\"pl-en\">greaterThan</span>(<span class=\"pl-c1\">8000</span>);\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">filter</span>.<span class=\"pl-en\">and</span>(isActive).<span class=\"pl-en\">and</span>(highBalance);\n <span class=\"pl-c\">//alternatively rdb.filter.or(isActive).and(highBalance);</span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomers</span>(<span class=\"pl-smi\">customers</span>) {\n <span class=\"pl-smi\">customers</span>.<span class=\"pl-en\">forEach</span>(printCustomer);\n\n <span class=\"pl-k\">function</span> <span class=\"pl-en\">printCustomer</span>(<span class=\"pl-smi\">customer</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Customer Id: %s, name: %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">id</span>, <span class=\"pl-smi\">customer</span>.<span class=\"pl-c1\">name</span>);\n }\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_subfilter\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/subFilter.js\">sub filter</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> DeliveryAddress <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dStreet<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>street<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> deliveryAddress_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">DeliveryAddress</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>dOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasOne</span>(deliveryAddress_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>deliveryAddress<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-smi\">deliveryAddress</span>.<span class=\"pl-smi\">street</span>.<span class=\"pl-en\">startsWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Node<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toJSON</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_compositefilter\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/compositeFilter.js\">composite filter</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">var</span> OrderLine <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_orderLine<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">numeric</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderId<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lProduct<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>product<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> line_order_relation <span class=\"pl-k\">=</span> <span class=\"pl-smi\">OrderLine</span>.<span class=\"pl-c1\">join</span>(Order).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lOrderId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">hasMany</span>(line_order_relation).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lines<span class=\"pl-pds\">'</span></span>);\n\n\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(toJSON)\n .<span class=\"pl-en\">then</span>(print)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">rdb</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, onFailed);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">var</span> isActive <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-smi\">customer</span>.<span class=\"pl-smi\">isActive</span>.<span class=\"pl-en\">eq</span>(<span class=\"pl-c1\">true</span>);\n <span class=\"pl-k\">var</span> didOrderCar <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-smi\">lines</span>.<span class=\"pl-c1\">product</span>.<span class=\"pl-en\">contains</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>car<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> <span class=\"pl-smi\">isActive</span>.<span class=\"pl-en\">and</span>(didOrderCar);\n <span class=\"pl-c\">//alternatively rdb.filter.and(isActive).and(didOrderCar);</span>\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">toJSON</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toJSON</span>();\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">print</span>(<span class=\"pl-smi\">json</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(json);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Success<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Waiting for connection pool to teardown....<span class=\"pl-pds\">'</span></span>);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onFailed</span>(<span class=\"pl-smi\">err</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Rollback<span class=\"pl-pds\">'</span></span>);\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(err);\n}</pre></div>\n\n<p><a name=\"user-content-_rawsqlfilter\"></a>\n<a href=\"https://github.com/alfateam/rdb-demo/blob/master/filtering/rawSqlFilter.js\">raw sql filter</a></p>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> inspect <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>util<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">inspect</span>;\n<span class=\"pl-k\">var</span> rdb <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>rdb<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Order <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_order<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oOrderNo<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orderNo<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customerId<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> Customer <span class=\"pl-k\">=</span> <span class=\"pl-smi\">rdb</span>.<span class=\"pl-en\">table</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>_customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">primaryColumn</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cid<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">guid</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>id<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cName<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cBalance<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">string</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>balance<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">column</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cIsActive<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>isActive<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> orderCustomerJoin <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-c1\">join</span>(Customer).<span class=\"pl-en\">by</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oCustomerId<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Customer</span>.<span class=\"pl-en\">hasMany</span>(orderCustomerJoin).<span class=\"pl-en\">as</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>orders<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> db <span class=\"pl-k\">=</span> <span class=\"pl-en\">rdb</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>postgres://postgres:postgres@localhost/test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">db</span>.<span class=\"pl-en\">transaction</span>()\n .<span class=\"pl-en\">then</span>(getOrders)\n .<span class=\"pl-en\">then</span>(printOrders)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-smi\">db</span>.<span class=\"pl-smi\">commit</span>)\n .<span class=\"pl-en\">then</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-smi\">db</span>.<span class=\"pl-smi\">rollback</span>)\n .<span class=\"pl-en\">then</span>(onOk, <span class=\"pl-en\">console</span>.<span class=\"pl-smi\">log</span>);\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">getOrders</span>() {\n <span class=\"pl-k\">var</span> filter <span class=\"pl-k\">=</span> {\n sql<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>exists (select 1 from _customer where _customer.cId = oCustomerId and _customer.cBalance &gt; 3000 and _customer.cName LIKE ?)<span class=\"pl-pds\">'</span></span>,\n parameters<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>%o%<span class=\"pl-pds\">'</span></span>]\n };\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Order</span>.<span class=\"pl-en\">getMany</span>(filter);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printOrders</span>(<span class=\"pl-smi\">orders</span>) {\n <span class=\"pl-k\">var</span> strategy <span class=\"pl-k\">=</span> {customer<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>}\n <span class=\"pl-k\">return</span> <span class=\"pl-smi\">orders</span>.<span class=\"pl-en\">toDto</span>(strategy).<span class=\"pl-en\">then</span>(printDtos);\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">printDtos</span>(<span class=\"pl-smi\">dtos</span>) {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-en\">inspect</span>(dtos,<span class=\"pl-c1\">false</span>,<span class=\"pl-c1\">10</span>));\n}\n\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">onOk</span>() {\n <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Done<span class=\"pl-pds\">'</span></span>);\n}</pre></div>\n</article>\n </div>"
    }, {
        "title": "Hackers do the Haka \u2013 Part\u00a01",
        "url": "http://thisissecurity.net/2015/11/23/hackers-do-the-haka-part-1/",
        "excerpt": "Haka is an open source network security oriented language that allows writing security rules and protocol dissectors. In this first part of a two-part series, we will focus on writing security rules.&hellip;",
        "date_saved": "Thu Jul 28 20:14:24 EDT 2016",
        "html_file": "hackers_do_the_haka_u2013_partu00a01.html",
        "png_file": "hackers_do_the_haka_u2013_partu00a01.png",
        "md_file": "hackers_do_the_haka_u2013_partu00a01.md",
        "content": "<div><div class=\"block-text\">\n\t\t\t\t\t<p><span class=\"st\">Haka is an open source network security oriented language that allows writing security rules and protocol dissectors. In this first part of a two-part series, we will focus on writing security rules.</span></p>\n<h2>What is Haka</h2>\n<p>Haka is an open source security oriented language that allows specifying and applying security policies on live captured traffic. Haka is based on Lua. It is a simple, lightweight (~200 kB) and fast (a JiT compiler is available) scripting language.</p>\n<p>The scope of Haka is twofold. First of all, it enables the specification of security rules to filter unwanted streams and report malicious activities. Haka provides a simple API for advanced packet and stream manipulation. One can drop packets or create new ones and inject them. Haka also supports on-the-fly packet modification. This is one of the main features of Haka since all complex tasks such as resizing packets, setting correctly sequence numbers are done transparently to the user. This is done live without the need of a proxy.</p>\n<p>Secondly, Haka is endowed with a grammar allowing the specification of protocols and their underlying state machine. Haka supports both type of protocols : binary-based protocols (e.g. dns) and text-based protocols (e.g. http). The specification covers packet-based protocols such as ip as well as stream-based protocols like http.</p>\n<p>Haka is embedded into a modular framework. It includes several packet capture modules (pcap, nfqueue) that enable end users to apply their security policy on live captured traffic or to replay it on a packet trace file. The framework provides also logging (syslog) and alerting modules (syslog, elasticsearch). Alerts follow an IDMEF-like format. Finally, the framework has auxiliary modules such as a pattern matching engine and an instruction disassembler module. These modules allow writing fine-grained security rules to detect obfuscated malware for instance. Haka was designed in a modular fashion enabling users to extend it with additional modules.</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/10/arch.png\"><img class=\"aligncenter wp-image-248\" src=\"https://thisiscybersec.files.wordpress.com/2015/10/arch.png?w=450&amp;h=585\" alt=\"arch\" width=\"450\"></a></p>\n<h2>Haka Tool Suite</h2>\n<p>Haka provides a collection of four tools:</p>\n<ul>\n<ul>\n<li><strong>haka.</strong> It is the main program of the collection. It is intended to be used as a daemon to monitor packets in the background. Packets are dissected and filtered according to the specified security policy file. Haka takes as input a configuration file. For example, the following configuration sample file instructs Haka to capture packets from the interface eth0 using nfqueue module and to filter them using the policy file myrules.lua. This script file loads typically user-defined or built-in protocol dissectors and defines a set of security rules. Additionally, users can select the alerting and reporting module to be used and set some specific module options:\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\n[general]\n# Select the haka configuration file to use\nconfiguration = \"myrules.lua\"\n\n# Optionally select the number of thread to use\n# By default, all system thread will be used\n#thread = 4\n\n[packet]\n# Select the capture model, nfqueue or pcap\nmodule = \"packet/nfqueue\"\n\n# Select the interfaces to listen to\n#interfaces = \"any\"\ninterfaces = \"eth0\"\n\n# Select packet dumping for nfqueue\n#dump = yes\n#dump_input = \"/tmp/input.pcap\"\n#dump_output = \"/tmp/output.pcap\"\n\n[log]\n# Select the log module\nmodule = \"log/syslog\"\n\n# Set the default logging level\n#level = \"info,packet=debug\"\n\n[alert]\n# Select the alert module\nmodule = \"alert/syslog\"\n#module = \"alert/file\"\n#module = \"alert/elasticsearch\"\n\n# Disable alert on standard output\n#alert_on_stdout = no\n</pre>\n</li>\n<li><strong>hakactl.</strong> This tool allows controling a running Haka daemon. One can get live statistics on captured packets, inspect logs or simply shutdown/restart the daemon.</li>\n<li><strong>hakapcap.</strong> This tool allows replaying a policy file offline on a packet capture trace using the pcap module. For instance, this is useful to perform network forensics.</li>\n<li><strong>hakabana. </strong>This tool allows visualizing and monitoring network traffic in real time using Kibana and Elasticsearch. Hakabana consists in a set of custom security rules that pushes information about the traffic that passes though Haka on an elastisserach server and made them available through a Kibana dashboard. An additional dashboard is also available to visualize Haka alerts.</li>\n</ul>\n</ul>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/10/kibana_ips.png\"><img class=\"wp-image-255 size-medium alignleft\" src=\"https://thisiscybersec.files.wordpress.com/2015/10/kibana_ips.png?w=300&amp;h=145\" alt=\"Kibana dashboard to visualize alerts\" width=\"300\"></a><a href=\"https://thisiscybersec.files.wordpress.com/2015/10/hakabana_dashboard.png\"><img class=\"wp-image-256 size-medium alignnone\" src=\"https://thisiscybersec.files.wordpress.com/2015/10/hakabana_dashboard.png?w=300&amp;h=147\" alt=\"Kibana dashboard to monitor network trafic\" width=\"300\"></a></p>\n<h2>Writing security rules</h2>\n<p>Haka provides a simple way to write security rules in order to filter, modify, create and inject packets and streams. When a flow is detected as malicious, users can report an alert or drop the flow. Users can define even more complex scenarios to mitigate the impact of an attack. For instance, one can alter http requests to force obsolete browsers to update or forge specific packets to fool scanning port tools.</p>\n<h4>Packet Filtering</h4>\n<p>The following rule is a basic packet filtering rule that blocks all connections from a given network address.</p>\n<pre class=\"brush: ruby; title: ; notranslate\" title=\"\">\nlocal ipv4 = require(\"protocol/ipv4\")\nlocal tcp = require(\"protocol/tcp_connection\")\n\nlocal net = ipv4.network(\"192.168.101.0/24\")\n\nhaka.rule{\n hook = tcp.events.new_connection,\n eval = function (flow, pkt)\n haka.log(\"tcp connection %s:%i -&gt; %s:%i\",\n flow.srcip, flow.srcport,\n flow.dstip, flow.dstport)\n\n if net:contains(flow.dstip) then\n haka.alert{\n severity = \"low\",\n description = \"connection refused\",\n start_time = pkt.ip.raw.timestamp\n }\n flow:drop()\n end\n end\n}\n</pre>\n<p>The first lines load the required protocol dissectors, namely, ipv4 and tcp connection dissectors. The first one handles ipv4 packets. The latter is a stateful tcp dissector that maintains a connection table and manages tcp streams. The next line, defines the network address that must be blocked.</p>\n<p>The security rule is defined through <em>haka.rule</em> keyword. A security rule is made of a <em>hook</em> and a evaluation function <em>eval.</em> The <em>hook</em> is an event that will trigger the evaluation of the security rule. In this example, the security rule will be evaluated at each tcp connection establishment attempt. The parameters passed to the evaluation function depend on the event. In the case of <em>new_connection</em> event, <em>eval</em> takes two parameters: <em>flow</em> and <em>pkt.</em> The first one holds details about the connection and the latter is a table containing all tcp (and lower layer) packet fields.</p>\n<p>In the core of the security rule, we log <em>(haka.log)</em> first some information about the current connection. Then, we check if the source address&#xA0; belongs to the range of non-authorized IP addresses defined previously. If this test succeeds, we raise an alert <em>(haka.alert)</em> and drop the connection.&#xA0; Note that we reported only few details in the alert. One can add more information such as the source and the targeted service.</p>\n<p>We use <em>hakapcap</em> tool to test our <a href=\"https://thisiscybersec.files.wordpress.com/2015/11/filter.zip\">rule filter.lua on a pcap trace file filter.pcap</a>:</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ hakapcap filter.lua filter.pcap\n</pre>\n<p>Hereafter, is the output of Haka which dumps some info about loaded dissectors and registered rules. The output shows that Haka succeeded to block connections targeting 192.168.101.62 address:</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/filter.png\"><img class=\"aligncenter wp-image-362\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/filter.png?w=600&amp;h=306\" alt=\"filter\" width=\"600\"></a></p>\n<p>In the above example, we have defined a single rule to block connections. One can write a complete firewall-like rule set using the <em>haka.group </em>keyword. In this configuration case, one can choose a default behavior (e.g. block all connections) if none of the security rule belonging to the group explicitly authorizes the traffic.</p>\n<h4>Packet Injection</h4>\n<p>In Haka, one can create new packets and inject them. The following rule crafts an RST packet in order to fool a Xmas nmap scan. As as result, nmap will conclude that all ports are closed on target side.</p>\n<pre class=\"brush: ruby; title: ; notranslate\" title=\"\">\nraw = require(\"protocol/raw\")\nipv4 = require(\"protocol/ipv4\")\ntcp = require(\"protocol/tcp\")\n\nhaka.rule {\n hook = tcp.events.receive_packet,\n eval = function(pkt)\n local flags = pkt.flags\n -- test for xmas nmap scans\n if flags.fin and flags.psh and flags.urg then\n -- raw packet\n local rstpkt = raw.create()\n\n -- ip packet\n rstpkt = ipv4.create(rstpkt)\n rstpkt.ttl = pkt.ip.ttl\n rstpkt.dst = pkt.ip.src\n rstpkt.src = pkt.ip.dst\n\n -- tcp packet\n rstpkt = tcp.create(rstpkt)\n rstpkt.srcport = pkt.dstport\n rstpkt.dstport = pkt.srcport\n rstpkt.flags.rst = true\n rstpkt.flags.ack = true\n rstpkt.ack_seq = pkt.seq + 1\n\n -- inject forged packet and\n -- drop malicious scanning packet\n rstpkt:send()\n pkt:drop()\n end\n end\n}\n</pre>\n<h4>Packet Altering</h4>\n<p>Packet modification is one of the most advanced feature of Haka. Haka handles automatically all internal modifications at stream and packet level: resizing and fragmenting packets, resetting sequence numbers, etc. The following example shows how easy it is to access and modify protocol fields. This rule alters some headers of http protocol. More precisely, the <em>user-agent</em> header will be modified (or added to the list of headers if not set), and the <em>accept-encoding</em> header will be removed.</p>\n<pre class=\"brush: ruby; title: ; notranslate\" title=\"\">\nlocal http = require(\"protocol/http\")\n\nhttp.install_tcp_rule(80)\n\nhaka.rule{\n hook = http.events.request,\n eval = function (flow, request)\n request.headers[\"User-Agent\"] = \"HAKA User Agent\"\n request.headers[\"Accept-Encoding\"] = nil\n end\n}\n</pre>\n<p><a href=\"https://www.paulfariello.fr/assets/blurring-the-web.lua\">blurring-the-web</a> and <a href=\"https://thisiscybersec.files.wordpress.com/2015/11/inject-ponies.zip\">inject_ponies</a> are funny scripts that alter http response traffic in order to blur and pollute (inject garbage) requested web pages, respectively:</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/blur.png\"><img class=\"size-medium wp-image-348 alignleft\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/blur.png?w=300&amp;h=160\" alt=\"blur\" width=\"300\"></a><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/ponies.png\"><img class=\"alignnone size-medium wp-image-347\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/ponies.png?w=300&amp;h=160\" alt=\"ponies\" width=\"300\"></a></p>\n<h4>Stream Filtering</h4>\n<p>Before presenting stream filtering, we will present first how Haka manages packets and streams internally. In Haka, all packets and streams are represented by virtual buffers (see figure below). Virtual buffers are a unified view of non-adjacent blocks of memory. They allow an easy and efficient modification of memory data. Virtual buffers use scattered lists to represent non-contiguous chunks which avoids allocating and copying superfluous block of memory. Haka provides iterators to navigate through these blocks of memory. These iterators could be blocking which would enable some functions to suspend and then resume transparently their execution when more data is available on the stream for instance.</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/vbuffer.png\"><img class=\"aligncenter wp-image-323 size-full\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/vbuffer.png?w=700\" alt=\"vbuffer\"></a>The following rule collects http streams and dumps them on stdout. This rule is equivalent to the &#x201C;follow tcp stream&#x201D; feature of Wireshark.</p>\n<pre class=\"brush: ruby; title: ; notranslate\" title=\"\">\nlocal ipv4 = require('protocol/ipv4')\nlocal tcp_connection = require('protocol/tcp_connection')\n\nhaka.rule{\n hook = tcp_connection.events.receive_data,\n options = {\n streamed = true\n },\n eval = function (flow, iter, dir)\n local data = flow.ccdata or {}\n flow.ccdata = data\n\n while iter:wait() do\n data[#data+1] = iter:sub('available'):asstring()\n end\n haka.log(\"%s -&gt; %s:\\n\", flow.srcip, flow.dstip)\n io.write(table.concat(data))\n end\n}\n</pre>\n<h4>Interactive Packet Filtering</h4>\n<blockquote><p>Wait, it&#x2019;s like gdb but for packets !! &#x2013; Anonymous Haka user</p></blockquote>\n<p>This is my favorite feature of Haka. It allows inspecting the traffic packet per packet. All the magic starts with the following rule which will prompt a shell for each http POST request.</p>\n<pre class=\"brush: ruby; title: ; notranslate\" title=\"\">\nlocal http = require(\"protocol/http\")\n\nhttp.install_tcp_rule(80)\n\nhaka.rule {\n hook = http.events.request_data,\n eval = function (http, data)\n haka.interactive_rule(\"interactive mode\")(http, data)\n end\n}\n\nhaka.rule {\n hook = http.events.request,\n eval = function (http, request)\n http:enable_data_modification()\n end\n}\n</pre>\n<p>The shell gives access to the full Haka API to play with packet content: accessing and modifying packet fields, dropping packets, logging suspicious events, alerting, etc. The Lua console supports auto-completion and therefore is a good starting point to dive into the Haka API.</p>\n<p>As shown by the following output, Haka breaks on the first POST request. Http data are available through the <em>inputs</em> variable. In this example, we alter the user credentials on the fly.</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/interactive.png\"><img class=\"aligncenter wp-image-361\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/interactive.png?w=650&amp;h=537\" alt=\"interactive\" width=\"650\"></a></p>\n<p>Note that it is best to use the interactive rule on pcap files as the edition will add a substantial delay.</p>\n<h4>Advanced Stream Filtering</h4>\n<p>Haka features a pattern matching engine and disassembler modules. These two modules are stream-based which enables us to detect a malicious payload scattered over multiple packets for instance. The following rule, uses a regular expression to detect a nop sled. We enable the streamed option which means that the matching function will block and wait for data to be available to proceed with matching. If a nop sled is detected, we raise an alert and dump the shellcode instruction. Note that the pattern matching function updates the iterator position which points afterwards to the shellcode.</p>\n<pre class=\"brush: bash; title: ; notranslate\" title=\"\">\nlocal tcp = require(\"protocol/tcp_connection\")\n\nlocal rem = require(\"regexp/pcre\")\nlocal re = rem.re:compile(\"%x90{100,}\")\n\nlocal asm = require(\"misc/asm\")\nlocal dasm = asm.new_disassembler(\"x86\", \"32\")\n\nhaka.rule{\n hook = tcp.events.receive_data,\n options = {\n streamed = true,\n },\n eval = function (flow, iter, direction)\n if re:match(iter, false) then\n -- raise an alert\n haka.alert{\n description = \"nop sled detected\",\n }\n -- dump instructions following nop sled\n dasm:dump_instructions(iter)\n end\n end\n}\n</pre>\n<p>Replaying this rule on the well-known <a href=\"https://www.honeynet.org/node/504\">network forensic challenge</a> results on the following output. More details about disassembling network traffic into instruction are available <a href=\"http://www.haka-security.org/blog/2015/06/23/instruction-disassembly.html\">here</a>.</p>\n<p><a href=\"https://thisiscybersec.files.wordpress.com/2015/11/asm.png\"><img class=\"aligncenter wp-image-358\" src=\"https://thisiscybersec.files.wordpress.com/2015/11/asm.png?w=600&amp;h=410\" alt=\"asm\" width=\"600\"></a></p>\n<h4>To be continued &#x2026;</h4>\n<h4>Links</h4>\n\n<div id=\"jp-post-flair\" class=\"sharedaddy sd-like-enabled sd-sharing-enabled\"><div class=\"sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded\" id=\"like-post-wrapper-65827538-245-56546dbaad997\"><h3 class=\"sd-title\">Like this:</h3><p class=\"likes-widget-placeholder post-likes-widget-placeholder\"><span class=\"button\"><span>Like</span></span> <span class=\"loading\">Loading...</span></p><a class=\"sd-link-color\"></a></div>\n<p id=\"jp-relatedposts\" class=\"jp-relatedposts\">\n\t<h3 class=\"jp-relatedposts-headline\"><em>Related</em></h3>\n</p></div>\t\t\t\t\t\t\t\t\t</div>\n</div>"
    }, {
        "title": "with \u2014 Organize Complex Queries",
        "url": "https://modern-sql.com/feature/with",
        "excerpt": "In imperative programming it is common practice to group instructions in small and easily comprehensible units&#x2014;namely functions or methods. Often to enable code reuse but also to improve&hellip;",
        "date_saved": "Thu Jul 28 20:14:25 EDT 2016",
        "html_file": "with_u2014_organize_complex_queries.html",
        "png_file": "with_u2014_organize_complex_queries.png",
        "md_file": "with_u2014_organize_complex_queries.md",
        "content": "<div><div class=\"content\">\n<p>In imperative programming it is common practice to group instructions in small and easily comprehensible units&#x2014;namely functions or methods. Often to enable code reuse but also to improve readability.</p>\n<p>Even though SQL has functions and procedures too, they are not the primary tool to make complex SQL queries comprehensible or to enable code reuse. In SQL neither functions nor procedures are <a href=\"https://en.wikipedia.org/wiki/First-class_citizen\">first-class citizens</a> they way sub-queries are<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-0\">0</a>.</p>\n<p>In SQL the building block of programs are queries&#x2014;not instructions. Consequently, SQL has views to store queries natively so they can be reused.</p>\n<p>In addition, SQL:1999 introduced the <code class=\"command\">with</code> clause to define &#x201C;views&#x201D; within queries. These <code class=\"command\">with</code>-queries are only visible in a single statement and can thus be used to improve the structure of this statement without polluting the global namespace.</p>\n<p>The <code class=\"command\">with</code> feature is also known as <em>common table expression (CTE)</em> and <em>sub-query factoring</em>. Note that the <code class=\"command\">recursive</code> from of the <code class=\"command\">with</code> clause is covered in <a href=\"https://modern-sql.com/coming-up#feature-with-recursive\">another article</a>.</p>\n<h2>Syntax</h2>\n<p><code class=\"command\">with</code> is a prefix to the <code class=\"command\">select</code> keyword<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-1\">1</a>:</p>\n<pre><code>WITH query_name (column_name1, ...) AS\n (SELECT ...)\n \nSELECT ...</code></pre>\n<p>The syntax following <code class=\"command\">with</code> is the same as for <code class=\"command\">create view</code>: it starts with the <em>query name</em> and optionally<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-2\">2</a> in parenthesis the name of the columns it returns. The <code class=\"command\">as</code> keyword finally introduces the definition itself (the query)&#x2014;again in parentheses.</p>\n<p><code class=\"command\">With</code> is not a stand alone command like <code class=\"command\">create view</code> is: it must be followed by <code class=\"command\">select</code>. This query (and sub-queries it contains) can refer to the just defined query name in their <code class=\"command\">from</code> clause.</p>\n<p>A single <code class=\"command\">with</code> clause can introduce multiple query names by separating them with a comma (the <code class=\"command\">with</code> keyword itself is not repeated). Each of these queries can refer to the query names previously defined within the same <code class=\"command\">with</code> clause<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-3\">3</a> (but see <a href=\"https://modern-sql.com/feature/with#feature-with-compatibility\">Compatibility</a>):</p>\n<pre><code>WITH query_name1 AS (\n SELECT ...\n )\n<em> , query_name2 AS (\n SELECT ...\n FROM query_name1\n ...\n )</em>\nSELECT ...</code></pre>\n<p>Query names defined using <code class=\"command\">with</code> mask existing tables or views with the same name<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-4\">4</a>.</p>\n\n<p>Normally, databases handle <code class=\"command\">with</code>-queries like they handle views: they substitute the reference to the query by its definition and then optimize and execute the overall query.</p>\n<p>The PostgreSQL database is different in this regard (as of 9.5<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-5\">5</a>): it treads the <code class=\"command\">with</code> clause as <a href=\"http://blog.2ndquadrant.com/postgresql-ctes-are-optimization-fences/\">optimization fence</a>. The queries inside the <code class=\"command\">with</code> clause are optimized (planned) in isolation. This can have a significant performance impact as compared to sub-queries directly written into the <code class=\"command\">from</code> clause.</p>\n<p>The SQL standard does not define how to optimize querys&#x2014;both approaches are conforming.</p>\n<h2>Use Cases</h2>\n\n<h2 id=\"feature-with-compatibility\">Compatibility</h2>\n<p>The <code class=\"command\">with</code> clause was introduced with <a href=\"https://modern-sql.com/standard\">SQL:1999</a> as a set of <a href=\"https://modern-sql.com/standard/levels\">optional features</a>. Leaving the <code class=\"command\"><a href=\"https://modern-sql.com/coming-up#feature-with-recursive\">recursive</a></code> variant aside, the features are T121 for top-level <code class=\"command\">with</code> clauses and T122 for <code class=\"command\">with</code> clauses in sub-queries.</p>\n<p>The basic functionality of <code class=\"command\">with</code> is well-supported. The single area where products behave differently is name resolution. It is especially notable that <code class=\"command\">with</code> is often treated like <a href=\"https://modern-sql.com/coming-up#feature-with-recursive\"><code class=\"command\">with recursive</code></a><a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-6\">6</a>. The more subtle incompatibilities are related to qualified table names (<code>schema.table</code> cannot refer to a <code class=\"command\">with</code> query<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-7\">7</a>) and views used in the scope of <code class=\"command\">with</code>-queries (the query inside the view does not &#x201C;see&#x201D; the outer <code class=\"command\">with</code> clause<a class=\"footnote-ref\" href=\"https://modern-sql.com/feature/with#footnote-8\">8</a>).</p>\n\n\n<p>Some use cases can be implemented using views. However, this can quickly lead to an unreasonable number of views (&#x201C;namespace pollution&#x201D;). In those cases sub-queries are often the better option.</p>\n<h2>Proprietary Extensions</h2>\n<h3>PostgreSQL: Writeable CTEs</h3>\n<p>Starting with 9.1 the PostgreSQL database supports DML statements (<code class=\"command\">insert</code>, <code class=\"command\">update</code>, <code class=\"command\">delete</code>) within the body of <code class=\"command\">with</code>-queries (<a href=\"http://www.postgresql.org/docs/9.5/static/queries-with.html#QUERIES-WITH-MODIFYING\">docs</a>). When using the (also proprietary) <code class=\"command\">returning</code> clause of the DML statement, the <code class=\"command\">with</code>-query actually returns data (e.g, the just inserted rows).</p>\n<h3>Oracle: Functions in <code class=\"command\">with</code></h3>\n<p>The Oracle Database support function and procedure declarations within the <code class=\"command\">with</code> clause since version 12cR1 (<a href=\"http://docs.oracle.com/database/121/SQLRF/statements_10002.htm#i2066378\">docs</a>).</p>\n\n</div>\n</div>"
    }, {
        "title": "High Paying, Low-Stress Jobs",
        "url": "http://www.osoti.net/uncategorized/high-paying-low-stress-jobs/",
        "excerpt": "We&#x2019;ve all had days where we though, &#x201C;I need a new job&#x201D; well, with the right education and perseverance, you too could get a career in one of these ranked &#x201C;High Paying, Low&hellip;",
        "date_saved": "Thu Jul 28 20:14:27 EDT 2016",
        "html_file": "high_paying_lowstress_jobs.html",
        "png_file": "high_paying_lowstress_jobs.png",
        "md_file": "high_paying_lowstress_jobs.md",
        "content": "<div><div class=\"td-post-content\">\n\n <div class=\"td-post-featured-image\"><a href=\"http://www.osoti.net/wp-content/uploads/2015/11/gjghjgjh.jpg\"><img width=\"624\" class=\"entry-thumb td-modal-image\" src=\"http://www.osoti.net/wp-content/uploads/2015/11/gjghjgjh.jpg\" alt=\"\" title=\"gjghjgjh\"></a></div>\n \n \n\n\n\n \n\n<p>We&#x2019;ve all had days where we though, &#x201C;I need a new job&#x201D; well, with the right education and perseverance, you too could get a career in one of these ranked &#x201C;High Paying, Low Stress&#x201D; jobs. The List below is in order based on the Stress rate percentage. This number has been determined by averaging the stress level of people employed in these fields. The pays all range in the high $90,000 to a little above $200,000, which is nice and this includes the national median of these jobs (including bonuses, profit sharing, commissions, and other added income). Of course, the more you make can definitely influence your stress, at a certain point; but, the jobs listed below are careers and do not include entrepreneurs or self-employed individuals.</p>\n\n<p><strong>Senior Product Marketing Manager &#xA0;&#x2013; &#xA0;47%, $116,000</strong><br>\nEssentially, this job requires you to sell products or run a team that sells products. To sell the products you must use multiple forms of marketing and advertising, both traditional or through new technology. Also, this job requires some brand recognition and trend following to know exactly how to get the products off the shelves.</p>\n<p><strong>Principal Scientist &#xA0;&#x2013; &#xA0;48%, $117,000</strong><br>\nUnlike most science careers, this one requires only a bachelors degree in a scientific field. This job requires you, or a team you are in, to focus on methods of improving whatever organization you are working for or under. This improvement is achieved through: planning, research, tests and discussion.</p>\n<p><strong>Principal Software Engineer &#xA0;&#x2013; &#xA0;48%, $115,000</strong><br>\nThis job generally is done by independent freelancers. Their principle purpose is to oversee research into new technologies and component design. They design, develop and test new software and oversee system integration at organizations.</p>\n<p><strong>Materials Scientists &#xA0;&#x2013; &#xA0;53%, $94,350</strong><br>\nEverything around is made up of atoms. A material scientist&#x2019;s job is to study different products at a molecular and atomic level and test reactions between different products; and with this knowledge, they can develop safer and cheaper products.</p>\n<p><strong>Patent Attorney &#xA0;&#x2013; &#xA0;54%, $146,000</strong><br>\nThis career does require a lot of education &#x2013; generally a law degree and a technical degree. The purpose behind this career is to protect intellectual property and the owners of these concepts.</p>\n<p><strong>Geophysicist &#xA0;&#x2013; &#xA0;56%, $105,000</strong><br>\nGeophysicist job is to study the Earth around us, including: Tectonic plates, Gravity, magnetism, and any geological activity. One perk of this job is a lot of major areas of study are tropical regions, such as Hawaii.</p>\n<p><strong>Food Scientist &#xA0;&#x2013; &#xA0;55.8%, $66,870</strong><br>\nThis job is extremely important to ensure that our food production is continuing in the right direction.</p>\n<p><strong>Mathematician &#xA0;&#x2013; &#xA0;57.3%, $104,350</strong><br>\nDespite how many feel, Math is an important subject in our busy world. A mathematicians job is to apply complicated math techniques for many different fields, to ensure proper methods.</p>\n<p><strong>Petroleum Engineer &#xA0;&#x2013; &#xA0;59%, $130,000</strong><br>\nThis career is extremely important, especially in the United States with over 250 millions cars on the road. This job designs and develops new methods of extracting the maximum amount of fossil fuels possible.</p>\n<p><strong>Data Scientist, IT &#xA0;&#x2013; &#xA0;59%, $105,000</strong><br>\nWith an ever-expanding world online, this career is important because they find ways to analyze and manage large amounts of data.</p>\n<p><strong>Political Scientist &#xA0;&#x2013; &#xA0;60.8%, $104,000</strong><br>\nPolitical Science is a study that is constantly changing; this field studies the origin, operations and developments of political systems throughout history and currently.</p>\n<p><strong>Physicist &#xA0;&#x2013; &#xA0;61.3%, $117,300</strong><br>\nThis career does require a Ph.D., which may seem like a lot of work, but, the career itself has one main goal &#x2013; to conduct research and develop theories to explain phenomena around us.</p>\n<p><strong>User Experience Researcher &#xA0;&#x2013; &#xA0;62%, $99,300</strong><br>\nThis career is important because it allows websites, stores, products and ideas to be presented in a understandable way, to allow customers to experience and enjoy the product.</p>\n<p><strong>Astronomer &#xA0;&#x2013; &#xA0;62%, $107,140</strong><br>\nThis job requires a Ph.D. in the field, however, it is extremely important for our not-so-distant-future. This career observes and researches what we already know about space around us to provide humanity with the knowledge of what is going on around us, even if we are just barely physically exploring outside of Earth&#x2019;s boundaries.</p>\n<p><strong>Law Teacher &#xA0;&#x2013; &#xA0;62.8%, $126,270</strong><br>\nThis job requires a bachelors degree and law degrees; but, this job is relatively simple. This job has you teach courses in Law, generally focusing on the extremely important and unchanging court cases/laws.</p>\n<p><strong>Actuary &#xA0;&#x2013; &#xA0;63%, $97,700</strong><br>\nThis job requires a bachelor&#x2019;s degree and a few exams to become certified. The purpose of this job is to analyze financial risks and make guesses of spending.</p>\n<p><strong>Economist &#xA0;&#x2013; &#xA0;63.3%, $105,290</strong><br>\nThis job requires a bachelors in Economics, generally. This job studies the production and distribution of resources and goods.</p>\n<p><strong>Statistician &#xA0;&#x2013; &#xA0;64%, $84,010</strong><br>\nThis Career requires a lot of math and, generally, a graduate degree. The principle concept of this career is to use statistical methods to collect and analyze data and help solve real-world problems in business, engineering, the sciences, or other fields.</p>\n<p><strong>Computer and Information Systems Manager &#xA0;&#x2013; &#xA0;64.3%, $136,280</strong><br>\nThis job is important in modern changing world, and only requires a bachelors degree. This job requires one to determine what technological needs are implemented for specific businesses.</p>\n<p><strong>Applications Software Developer &#xA0;&#x2013; &#xA0;65%, $99,530</strong><br>\nThis career choice requires a lot of computer knowledge, however, if you get good enough at it, you can set your own rate and hours. This job requires you to develop and modify computer applications with knowledge of computer programming skills.</p>\n<p><strong>Reservoir Engineer &#xA0;&#x2013; &#xA0;66%, $136,000</strong><br>\nThis job requires someone to determine the yield, production and value of oil fields to determine value and longevity of extraction.</p>\n<p><strong>Computer Hardware Engineer &#xA0;&#x2013; &#xA0;67%, $110,650</strong><br>\nThis job requires a bachelors degree and computer knowledge. This job requires one to research, design, develop, or test computer or computer-related equipment for commercial, industrial, military, or scientific use.</p>\n<p><strong>Marine Engineer and Naval Architect &#xA0;&#x2013; &#xA0;67%, $99,160</strong><br>\nThis job requires some to work on all aspects of ships and naval equipment, This includes: designing, stability, maintenance, propulsion and steering.</p>\n<p><strong>Orthodontist &#xA0;&#x2013; &#xA0;67%, $201,030</strong><br>\nThis career requires a bachelors degree, four years of dental school and residency training. This job helps fix misaligned teeth and dental abnormalities.</p>\n<p><strong>Art Director &#xA0;&#x2013; &#xA0;69%, $97, 850</strong><br>\nThis career handles the visual section on magazines, newspapers, product packaging, advertisement and any other source of media.</p>\n<p><strong>Optometrist &#xA0;&#x2013; &#xA0;70.3%, $113,010</strong><br>\nThis career requires a bachelors degree, a four year optometry program and a license. This job examines, diagnosis and corrects any visual problems.</p>\n<p>Source:&#xA0;<a href=\"http://jobs.aol.com/articles/2015/03/27/high-paying-low-stress-jobs/\">http://jobs.aol.com/articles/2015/03/27/high-paying-low-stress-jobs/</a>,&#xA0;<a href=\"http://career-advice.monster.com/salary-benefits/salary-information/low-stress-100k-jobs/article.aspx\">http://career-advice.monster.com/salary-benefits/salary-information/low-stress-100k-jobs/article.aspx</a></p>\n<h3>Comments</h3><p><comments-count href=\"http://www.osoti.net/uncategorized/high-paying-low-stress-jobs/\"></comments-count> comments</p> </div>\n\n\n </div>"
    }, {
        "title": "kasketis/netfox",
        "url": "https://github.com/kasketis/netfox",
        "excerpt": "A lightweight, one line setup, network debugging library that provides a quick look on all executed network requests performed by your app. It grabs all requests - of course yours, requests from 3rd&hellip;",
        "date_saved": "Thu Jul 28 20:14:29 EDT 2016",
        "html_file": "kasketisnetfox.html",
        "png_file": "kasketisnetfox.png",
        "md_file": "kasketisnetfox.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/netfox_logo.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/netfox_logo.png\" alt=\"\"></a></p>\n\n<p>A lightweight, one line setup, network debugging library that provides a quick look on all executed network requests performed by your app.\nIt grabs all requests - of course yours, requests from 3rd party libraries (such as AFNetworking or else), UIWebViews, and more</p>\n\n<p>Very useful and handy for network related issues and bugs</p>\n\n<p>Implemented in Swift 2.1 - bridged also for Objective-C</p>\n\n<p>Feel free to contribute :)</p>\n\n<h4><a id=\"user-content-overview\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#overview\"></a>Overview</h4>\n\n<p><a href=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/overview.gif\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/overview.gif\" alt=\"\"></a></p>\n\n<h4><a id=\"user-content-installation\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#installation\"></a>Installation</h4>\n\n<p>Copy the &#x201C;nfx&#x201D; folder in your project (make sure that &#x201C;Create groups&#x201D; option is selected) and add the following line in didFinishLaunchingWithOptions: method of your AppDelegate</p>\n\n<p>Swift</p>\n\n<pre>NFX.sharedInstance().start()\n</pre>\n\n<p>Objective-C</p>\n\n<pre>[[NFX sharedInstance] start];\n</pre>\n\n<p>Just simple as that!</p>\n\n<p>Note: Please wrap the above line with</p>\n\n<pre>#if DEBUG\n. . .\n#endif\n</pre>\n\n<p>to prevent library&#x2019;s execution on your production app.</p>\n\n<p>You can add the DEBUG symbol with the -DDEBUG entry. Set it in the &#x201C;Swift Compiler - Custom Flags&#x201D; section -&gt; &#x201C;Other Swift Flags&#x201D; line in project&#x2019;s &#x201C;Build Settings&#x201D;</p>\n\n<h4><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#usage\"></a>Usage</h4>\n\n<p>Just shake your device and check what's going right or wrong! \nShake again and go back to your app! fact\n<a href=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/shake.png\" target=\"_blank\"><img src=\"https://raw.githubusercontent.com/kasketis/netfox/master/assets/shake.png\" alt=\"\"></a></p>\n\n<h4><a id=\"user-content-custom-gestures\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#custom-gestures\"></a>Custom gestures</h4>\n\n<p>By default the library registers for shake motion. If you want to open the logs with an other way than shake add the following line after the installation one</p>\n\n<pre>NFX.sharedInstance().setGesture(.custom)\n</pre>\n\n<p>Then you can use</p>\n\n<pre>NFX.sharedInstance().show()\n</pre>\n\n<p>when you want to show the logs and</p>\n\n<pre>NFX.sharedInstance().hide()\n</pre>\n\n<p>when you want to hide them.</p>\n\n<h4><a id=\"user-content-features\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#features\"></a>Features</h4>\n\n<ul>\n<li>Search: You can easily search among requests via\n\n<ul>\n<li>Request url: github.com, .gr, or whatever you want</li>\n<li>Request method: GET, POST, etc</li>\n<li>Response type: Like json, xml, html, image and more </li>\n</ul></li>\n<li>Sharing: You can share your log via email with backend devs or someone who can help.\n\n<ul>\n<li>Simple log option includes only request/response headers and small request/response bodies (when applicable)</li>\n<li>Full log option includes request/response headers and request/response bodies (as attachments)</li>\n</ul></li>\n<li>More to come.. ;)</li>\n</ul>\n\n<h4><a id=\"user-content-other\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#other\"></a>Other</h4>\n\n<ul>\n<li>Alamofire users check <a href=\"https://github.com/kasketis/netfox/blob/master/Alamofire.md\">this</a></li>\n<li>Due to the large size of request/response bodies, the library provides disk storage for low memory overhead</li>\n</ul>\n\n<h4><a id=\"user-content-licence\" class=\"anchor\" href=\"https://github.com/kasketis/netfox#licence\"></a>Licence</h4>\n\n<p>All source code is licensed under <a href=\"https://github.com/kasketis/netfox/blob/master/LICENSE\">MIT License</a>. Which means you could do virtually anything with the code. I will appreciate it very much if you keep an attribution where appropriate.</p>\n</article>\n </div>"
    }, {
        "title": "Core Technology: Signals",
        "url": "http://www.linuxvoice.com/core-technology-signals/",
        "excerpt": "In the world of Linux system programming, a signal is an event that&#x2019;s delivered to a process by the kernel. A signal says to the process &#x201C;something has happened that you might want to&hellip;",
        "date_saved": "Thu Jul 28 20:14:31 EDT 2016",
        "html_file": "core_technology_signals.html",
        "png_file": "core_technology_signals.png",
        "md_file": "core_technology_signals.md",
        "content": "<div><div class=\"post-single-content box mark-links\">\n\n\n<p class=\"Body-Intro\"><span class=\"_idGenDropcap-1\">I</span>n the world of Linux system programming, a signal is an event that&#x2019;s delivered to a process by the kernel. A signal says to the process &#x201C;something has happened that you might want to respond to&#x201D;. A few signals are generated as a result of something that the program itself is doing (usually something bad), but most of them originate from sources external to the program itself.</p>\n<p class=\"Body-Indent\">Why do you need to know about signals? Well, they&#x2019;re important to a system administrator because they provide a way to interact with running processes (in particular, to kill them). And the most important single reason that a developer needs to be aware of signals is so that he knows how to write programs that ignore them. But there are more useful things you can do with signals, as we&#x2019;ll see.</p>\n<p class=\"Body-Indent\">There are several different types of signal. If you&#x2019;re running a <span class=\"CharOverride-1\">Bash </span>shell, the built-in command <span class=\"CharOverride-2\">kill -l</span> will show you a list of them. It&#x2019;s a slightly scary list but you don&#x2019;t need to know about most of them, and here we&#x2019;re going to focus on the 10 or so you&#x2019;re most likely to use. </p>\n\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGHUP</span></p>\n<p class=\"Body-No-Indent\">This signal has an interesting history. The &#x201C;HUP&#x201D; stands for &#x201C;hang up&#x201D; and it harks back to the days when telephones hung on a hook on the wall and you would terminate a call by hanging up the phone. The scenario went like this: Dennis was logged into his PDP11 computer via a dial-up line and a modem. Without logging off, he simply &#x201C;hung up&#x201D; the connection. Later, Ken dialled in to the same modem, thus finding himself connected to Dennis&#x2019;s abandoned shell. To prevent this undesirable state of affairs, the device driver for the modem would detect the loss of carrier when Dennis hung up and deliver a SIGHUP signal to terminate the shell session.</p>\n<p class=\"Body-Indent\">Well, dial-up logins are history now, and SIGHUP was looking forward to a peaceful retirement when it was offered a new job. Nowadays, SIGHUP is interpreted by some daemons to mean &#x201C;your configuration file has been changed, please go and re-read it&#x201D;. One example is the system logging daemon (<span class=\"CharOverride-2\">syslog </span>or <span class=\"CharOverride-2\">rsyslog</span>) which re-reads the config file <span class=\"CharOverride-2\">/etc/syslog.conf </span>(or <span class=\"CharOverride-2\">/etc/rsyslog.conf</span>) on startup and on receipt of a SIGHUP. In some cases the daemon simply stops and restarts when it receives this signal.</p>\n<p class=\"Crosshead\">SIGINT</p>\n<p class=\"Body-No-Indent\">This is the signal that is sent to a foreground process by the terminal driver when you enter ^C on the terminal. By default, programs will terminate when they receive this signal. Some programs, especially ones that operate interactively, choose to ignore this signal.</p>\n\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGTERM</span></p>\n<p class=\"Body-No-Indent\">This is conventionally used as a polite &#x201C;please tidy up and terminate&#x201D; request. For example, when you shut down a Linux system with the <span class=\"CharOverride-2\">shutdown</span> command, it begins by sending SIGTERM to all the running processes in the hope that they will do the decent thing and go away. If this doesn&#x2019;t work, <span class=\"CharOverride-2\">shutdown</span> waits for a few seconds then sends a SIGKILL. SIGTERM is the default signal type sent when you use programs like <span class=\"CharOverride-2\">kill </span>and <span class=\"CharOverride-2\">pkill</span>.</p>\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGKILL</span></p>\n<p class=\"Body-No-Indent\">This is the most brutal signal because a process cannot choose to catch or ignore it. A process receiving SIGKILL is instantly terminated. Best practice suggests that as a way of killing a process it should be a last resort, when more polite requests such as SIGTERM have failed. This is particularly true for services that maintain lock files or other temporary data files, because they won&#x2019;t have opportunity to clean them up and you may end up having to manually remove them before the service will restart.</p>\n\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGALRM</span></p>\n<p class=\"Body-No-Indent\">This signal is &#x201C;self-inflicted&#x201D; &#x2013; it&#x2019;s generated as a result of an alarm clock timing out. Typically a C program might request an alarm call 10 seconds from now with:</p>\n<p><code class=\"Code\">alarm(10);</code></p>\n<p class=\"Body-No-Indent\">and use it to implement a timeout on a potentially blocking operation.</p>\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGSEGV</span></p>\n<p class=\"Body-No-Indent\">This signal is generated by the kernel when a process tries to access a memory address that&#x2019;s outside its address space. Of course this should never happen in a correctly written program; typically it occurs in C code that makes a reference through a pointer that hasn&#x2019;t been initialised, as this two-liner demonstrates:</p>\n<p><code class=\"Code\">void main()</code><br>\n<code class=\"Code\">{</code><br>\n<code class=\"Code\"> int *p;</code><br>\n<code class=\"Code\"> *p = 0;</code><br>\n<code class=\"Code\">}</code></p>\n<p class=\"Body-Indent\">Assuming the code&#x2019;s in the file <span class=\"CharOverride-2\">segvdemo.c</span>, compile and run it like this:</p>\n<p><code class=\"Code\">$ gcc -o segvdemo segvdemo.c</code><br>\n<code class=\"Code\">$ ./segvdemo </code><br>\n<code class=\"Code\">Segmentation fault (core dumped)</code><br>\n<code class=\"Code\">$ echo $?</code><br>\n<code class=\"Code\">139</code></p>\n<p class=\"Crosshead\"><span class=\"CharOverride-3\">SIGILL</span></p>\n<p class=\"Body-No-Indent\">Another signal that arises directly from the execution of the process. It indicates an illegal instruction, and should never occur unless your compiler is buggy or the executable has become corrupt, or maybe because it calls a function through an unitialised pointer.</p>\n<p class=\"Crosshead\">SIGBUS and SIGFPE</p>\n<p class=\"Body-No-Indent\">These indicate an incorrectly aligned memory access, and a floating point exception (or other arithmetic error) respectively. It&#x2019;s easy to deliberately generate a SIGFPE &#x2013; just divide by zero:</p>\n<p><code class=\"Code\">void main()</code><br>\n<code class=\"Code\">{</code><br>\n<code class=\"Code\"> int a, b, c;</code><br>\n<code class=\"Code\"> a = 1; b = 0;</code><br>\n<code class=\"Code\"> c = a / b;</code><br>\n<code class=\"Code\">}</code></p>\n<p class=\"Body-Indent\">If you compile and run this program, you&#x2019;ll see something like this:</p>\n<p><code class=\"Code\">$ ./fpedemo</code><br>\n<code class=\"Code\">Floating point exception (core dumped)</code><br>\n<code class=\"Code\">$ echo $?</code><br>\n<code class=\"Code\">136</code></p>\n<p class=\"Body-Indent\">Again, notice the exit status (136). Subtracting 128 gives 8, the signal number of SIGFPE.</p>\n<p class=\"Crosshead\">SIGABRT</p>\n<p class=\"Body-No-Indent\">A self-generated signal raised when a program calls the <span class=\"CharOverride-2\">abort()</span> library function. By default it will cause immediate termination of the program.</p>\n<p class=\"Crosshead\">Sending signals </p>\n<p class=\"Body-No-Indent\">OK, we&#x2019;ve discussed some of the signal types. We&#x2019;ve seen that some, such as SIGSEGV and SIGFPE, are raised automatically by the kernel as the result of some misdemeanour committed by the program. These are sometimes referred to as &#x201C;synchronous&#x201D; signals. But others need to be explicitly generated from outside the program (sometimes called &#x201C;asynchronous&#x201D; signals). How do we do that?</p>\n<p class=\"Body-Indent\">One way is to use the command <span class=\"CharOverride-2\">kill</span>. It&#x2019;s not a good name really; <span class=\"CharOverride-2\">raise</span> or <span class=\"CharOverride-2\">sendsignal</span> might be better. For example, we can send a SIGHUP signal to process 12345 like this:</p>\n<p><code class=\"Code\">$ kill -SIGHUP 12345</code></p>\n<p class=\"Body-Indent\">Or you can use the short signal name, or the signal number, like this:</p>\n<p><code class=\"Code\">$ kill -HUP 12345</code><br>\n<code class=\"Code\">$ kill -1 12345</code></p>\n<p class=\"Body-Indent\">This is a good time to point out that you can only send signals to processes that you own, unless you&#x2019;re running as root in which case you can deliver signals to any process.</p>\n<p class=\"Body-Indent\">Sending SIGHUP manually like this is commonly used to signal a service after changing its config file. Manually generated signals are also often used to terminate a &#x201C;hung&#x201D; process (or just one that seems to have been running for far too long), typically like this:</p>\n<p><code class=\"Code\">$ kill -TERM 12345</code><br>\n<code class=\"Code\">or more brutally:</code><br>\n<code class=\"Code\">$ kill -KILL 12345</code></p>\n<p class=\"Body-No-Indent\">If you don&#x2019;t specify a signal type, the default is SIGTERM.</p>\n<p class=\"Body-Indent\">As you&#x2019;ll see from these example you need to know the process ID to send a signal. If you&#x2019;re trying to kill a program called <span class=\"CharOverride-2\">foobar</span> you might get this by running:</p>\n<p><code class=\"Code\">$ ps -ef | grep foobar</code><br>\n<code class=\"Code\">chris 4923 2586 0 18:07 pts/0 00:00:00 ./foobar</code><br>\n<code class=\"Code\">chris 4968 4924 0 18:07 pts/6 00:00:00 grep foobar</code></p>\n<p class=\"Body-No-Indent\">from which we see that the PID is 4923. (Ignore the &#x201C;false positive&#x201D; generated from the <span class=\"CharOverride-2\">grep</span> command.) </p>\n<p class=\"Crosshead\">Sending signals from a program</p>\n<p class=\"Body-No-Indent\">So much for sending signals from the command line. You can also send signals from within a program. Here&#x2019;s a little C program I wrote called &#x201C;terminate&#x201D;; the idea is that you give it a PID as an argument and it begins by sending a polite SIGTERM signal to ask the process to terminate. If this doesn&#x2019;t work it just pulls out a gun and shoots the process in the head with SIGKILL. Note that the line numbers are for reference, they are not part of the file:</p>\n<p><code class=\"Code\"> 1. #include &lt;stdio.h&gt;</code><br>\n<code class=\"Code\"> 2. #include &lt;stdlib.h&gt;</code><br>\n<code class=\"Code\"> 3. #include &lt;signal.h&gt;</code><br>\n<code class=\"Code\"> 4. #include &lt;errno.h&gt;</code><br>\n<code class=\"Code\"> 6. int main(int argc, char* argv[])</code><br>\n<code class=\"Code\"> 7. {</code><br>\n<code class=\"Code\"> 8. int targetpid, i;</code><br>\n<code class=\"Code\"> 9.</code><br>\n<code class=\"Code\">10. /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Get target process ID from command line */</code><br>\n<code class=\"Code\">11. targetpid = atoi(argv[1]);</code><br>\n<code class=\"Code\">12.</code><br>\n<code class=\"Code\">13. /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Check that the process exists */</code><br>\n<code class=\"Code\">14. if (kill(targetpid, 0) &lt; 0)</code><br>\n<code class=\"Code\">15. {</code><br>\n<code class=\"Code\">16. switch (errno)</code><br>\n<code class=\"Code\">17. {</code><br>\n<code class=\"Code\">18. case ESRCH:</code><br>\n<code class=\"Code\">19. printf(&#x201C;Process %d does not existn&#x201D;, targetpid);</code><br>\n<code class=\"Code\">20. exit(1);</code><br>\n<code class=\"Code\">21. case EPERM:</code><br>\n<code class=\"Code\">22. printf(&#x201C;Do not have permission to terminate that processn&#x201D;);</code><br>\n<code class=\"Code\">23. exit(2);</code><br>\n<code class=\"Code\">24. }</code><br>\n<code class=\"Code\">25. }</code><br>\n<code class=\"Code\">26.</code><br>\n<code class=\"Code\">27. /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Ask the process to terminate (politely) */</code><br>\n<code class=\"Code\">28. kill(targetpid, SIGTERM);</code><br>\n<code class=\"Code\">29.</code><br>\n<code class=\"Code\">30. /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Wait for up to 5 seconds for the process to die */</code><br>\n<code class=\"Code\">31. for (i = 0; i &lt; 5; i++)</code><br>\n<code class=\"Code\">32. {</code><br>\n<code class=\"Code\">33. if (kill(targetpid, 0) &lt; 0)</code><br>\n<code class=\"Code\">34. exit(0);</code><br>\n<code class=\"Code\">35. sleep(1);</code><br>\n<code class=\"Code\">36. }</code><br>\n<code class=\"Code\">37.</code><br>\n<code class=\"Code\">38. /bin /boot /cdrom /core /dev /etc /home /initrd.img /lacie /lib /lib32 /lib64 /lost+found /media /mnt /opt /proc /root /run /sbin /snap /srv /sys /tmp /usr /var /vmlinuz /vol Asking nicely didn&#x2019;t work, bring out the big guns */</code><br>\n<code class=\"Code\">39. printf(&#x201C;SIGTERM ineffective, sending SIGKILLn&#x201D;);</code><br>\n<code class=\"Code\">40. kill(targetpid, SIGKILL);</code><br>\n<code class=\"Code\">41. exit(3);</code><br>\n<code class=\"Code\">42. }</code></p>\n<p class=\"Body-Indent\">If you don&#x2019;t read &#x201C;C&#x201D;, here&#x2019;s a guided tour:</p>\n<p class=\"Body-Indent\">At line 11 we grab the process ID from the command line. There should really be some error checking here to verify that the user did actually supply a PID as argument. At line 14 we try to send signal number 0 to the process. The <span class=\"CharOverride-2\">kill()</span> system call is analogous to the <span class=\"CharOverride-2\">kill </span>command, though notice that the arguments are in the opposite order. (Hey, this is Linux! You want consistency?) Now there is no signal number 0, so the call will not actually deliver a signal to the process, but it will fail (returning -1) if either the process doesn&#x2019;t exist, or we don&#x2019;t have permission to signal it (ie we don&#x2019;t own it and we&#x2019;re not root). These two conditions are trapped at lines 18 and 21, where we print an appropriate error message and exit.</p>\n<p class=\"Body-Indent\">If we make it as far as line 28, we know that the process exists and we have permission to signal it, so we send a polite SIGTERM to the process, hoping it will oblige and go away. Then the loop starting at line 31 repeatedly probes (sending the dummy signal 0 again) to see if the process has terminated. If it has, then fine, our job is done, and we exit at line 34. We continue for five seconds, probing at one-second intervals. Finally, if we reach line 39, we forcefully terminate the process with SIGKILL. This approach (SIGTERM followed if necessary by SIGKILL) is essentially what happens to all running processes during a system shutdown.</p>\n<p><a href=\"http://www.linuxvoice.com/wp-content/uploads/2015/10/ct2-large.png\"><img alt=\"Image\" src=\"http://www.linuxvoice.com/wp-content/uploads/2015/10/ct2-small.png\"></a></p>\n\n<p class=\"Crosshead\">Catching signals</p>\n<p class=\"Body-No-Indent\">So now we know how to send signals. Let&#x2019;s look at the other side of the story &#x2013; how does a process respond when it receives a signal? Well, each signal has a default disposition (&#x201C;disposition&#x201D; is just a posh word meaning &#x201C;what will happen when a signal arrives&#x201D;). The three dispositions shown in the table are:</p>\n<ul>\n<li><span class=\"CharOverride-2\">Term </span>The process is terminated (this is the most common behaviour).</li>\n<li><span class=\"CharOverride-2\">Core </span>The process is terminated, a memory image (core file) may be written.</li>\n<li><span class=\"CharOverride-2\">Ignore </span>The signal is ignored.</li>\n</ul>\n<p class=\"Body-Indent\">However &#x2013; and here it gets interesting &#x2013; a program can install handlers for the various signal types &#x2013; pieces of code that will run if the signal arrives.</p>\n<p class=\"Body-Indent\">Rather than do this in C again, we&#x2019;ll do it in a shell script. The purpose of this script is to count the number of prime numbers less than one million. </p>\n<p class=\"Body-Indent\">Now of course, doing a computation-rich thing like this in a shell script is pretty stupid, and I&#x2019;m not using the most efficient algorithm either, which doesn&#x2019;t help. But that&#x2019;s not the point. The point of this example is that it represents a long-running program that gradually works its way through a data set. Here&#x2019;s the script:</p>\n<p><code class=\"Code\"> 1. #!/bin/bash</code><br>\n<code class=\"Code\"> 2. </code><br>\n<code class=\"Code\"> 3. function isprime()</code><br>\n<code class=\"Code\"> 4. {</code><br>\n<code class=\"Code\"> 5. n=$1</code><br>\n<code class=\"Code\"> 6. factor=2</code><br>\n<code class=\"Code\"> 7. while (( factor _data.json html httpie_parse_url.sh links_data.json links_list.txt md parse_urls_json.sh png tidy factor &lt;= n ))</code><br>\n<code class=\"Code\"> 8. do</code><br>\n<code class=\"Code\"> 9. if (( n % factor == 0 ))</code><br>\n<code class=\"Code\">10. then</code><br>\n<code class=\"Code\">11. return 1 # number is not prime</code><br>\n<code class=\"Code\">12. fi</code><br>\n<code class=\"Code\">13. (( factor++ ))</code><br>\n<code class=\"Code\">14. done</code><br>\n<code class=\"Code\">15. return 0 # no factors, number is prime</code><br>\n<code class=\"Code\">16. }</code><br>\n<code class=\"Code\">17.</code><br>\n<code class=\"Code\">18. trap &#x2018;echo Testing value $val, found $count primes so far&#x2019; HUP</code><br>\n<code class=\"Code\">19. trap &#x2018;echo Buzz off I am busy counting primes!&#x2019; TERM</code><br>\n<code class=\"Code\">20. trap &#x2018;&#x2019; INT</code><br>\n<code class=\"Code\">21.</code><br>\n<code class=\"Code\">22. count=2</code><br>\n<code class=\"Code\">23. val=5</code><br>\n<code class=\"Code\">24. while (( val &lt; 1000000 ))</code><br>\n<code class=\"Code\">25. do</code><br>\n<code class=\"Code\">26. if isprime $val</code><br>\n<code class=\"Code\">27. then</code><br>\n<code class=\"Code\">28. (( count++ ))</code><br>\n<code class=\"Code\">29. fi</code><br>\n<code class=\"Code\">30. (( val += 2 ))</code><br>\n<code class=\"Code\">31. done</code><br>\n<code class=\"Code\">32. echo count is $count</code></p>\n<p class=\"Body-Indent\">Let&#x2019;s walk you through this. Lines 3 to 16 define a function called <span class=\"CharOverride-2\">isprime</span>. It takes the number we want to test as an argument, and returns 0 (success) if the number is prime and 1 (failure) if it isn&#x2019;t. The code is not difficult, but its details do not concern us here. The script really starts at line 22. We enter a loop (lines 24 to 31), testing all odd numbers between 5 and 1,000,000 for prime-ness and counting them. (I do at least have the sense not to test even numbers.) </p>\n<p class=\"Body-Indent\">On exiting the loop we print out the answer (line 32).</p>\n<p class=\"Body-Indent\">If you want to try this out (and we hope you will) put the code into a file called <span class=\"CharOverride-2\">countprimes </span>and make it executable:</p>\n<p><code class=\"Code\">$ chmod u+x countprimes</code></p>\n<p class=\"Body-Indent\">Now run the script:</p>\n<p><code class=\"Code\">$ ./countprimes</code></p>\n<p class=\"Body-Indent\">It will take quite a while to run (17 minutes on my laptop). Meanwhile, go back and look at lines 18&#x2013;20. These are the lines that install signal handlers for SIGHUP, SIGTERM, and SIGINT signals respectively. In these example we have written the signal-handling actions &#x201C;in line&#x201D;, though we could also have written them as functions, which would be easier to deal with if we wanted the handler to do several things. The SIGHUP handler prints a progress report. The SIGTERM handler prints a rude message, but the program continues executing. The empty SIGINT handler at line 20 simply makes the script ignore SIGINT signals. Since ignoring signals is a common requirement, we&#x2019;ll allow ourselves one more line of C:</p>\n<p><code class=\"Code\">signal(SIGINT, SIG_IGN);</code></p>\n<p class=\"Body-No-Indent\">which says to ignore SIGINT signals and is equivalent to the <span class=\"CharOverride-2\">trap</span> statement at line 20 in the script.</p>\n<p class=\"Body-Indent\">So go back to the terminal where <span class=\"CharOverride-2\">countprimes </span>is running and enter &#x2018;^C&#x2019;. As we&#x2019;ve seen, this will send a SIGINT signal to the process. If we didn&#x2019;t have line 20 in the script this would terminate the program, but now it is simply ignored and the program continues.</p>\n<p class=\"Body-Indent\">Now open a second terminal window. Enter the command:</p>\n<p><code class=\"Code\">$ pkill -HUP countprimes</code><br>\n<code class=\"Code\">Testing value 861877, found 68481 primes so far</code></p>\n<p class=\"Body-Indent\">As you&#x2019;ll see, the SIGHUP handler tells us how far we&#x2019;ve got in our prime-counting task. Now try:</p>\n<p><code class=\"Code\">$ pkill countprimes</code></p>\n<p class=\"Body-No-Indent\">which sends the default SIGTERM signal and will elicit the response:</p>\n<p><code class=\"Code\">Buzz off I am busy counting primes!</code></p>\n<p class=\"Body-No-Indent\">but again, the program will continue. Finally (unless you are actually interested in knowing how many primes under 1,000,000 there really are and would like to allow the program to run to completion) we can forcefully terminate the program with:</p>\n<p><code class=\"Code\">$ pkill -KILL countprimes</code></p>\n<p class=\"Body-Indent\">We haven&#x2019;t installed a handler for SIGKILL, and we couldn&#x2019;t if we wanted to because you can&#x2019;t catch or ignore SIGKILL, so in the first terminal window you&#x2019;ll see the message</p>\n<p><code class=\"Code\">Killed</code></p>\n<p class=\"Body-Indent\">If you then examine the exit status in that terminal:</p>\n<p><code class=\"Code\">$ echo $?</code><br>\n<code class=\"Code\">137</code></p>\n<p class=\"Body-No-Indent\">you see that it&#x2019;s 137. Subtracting 128 as before gives 9, the signal number of SIGKILL.</p>\n<p class=\"Body-Indent\">That&#x2019;s all for this month. If you&#x2019;d like to learn more, the man page for <span class=\"CharOverride-2\">signal </span>(<span class=\"CharOverride-2\">man 7 signal</span>) has a great deal more detail, but rapidly gets rather techie. There&#x2019;s also a good discussion in the GNU C Library manual at<span class=\"CharOverride-6\"> <a href=\"http://www.gnu.org/software/libc/manual/html_node/Signal-Handling.html\">www.gnu.org/software/libc/manual/html_node/Signal-Handling.html</a></span>. Happy signalling! </p>\n<p class=\"Mini-Bio\"><span class=\"CharOverride-9\">A veteran Unix and Linux enthusiast, Chris Brown has written and delivered open source training from New Delhi to San Francisco, though not on the same day.</span></p>\n\n\n\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>"
    }, {
        "title": "WarmPlace.Ru. SunVox synthesizer",
        "url": "http://www.warmplace.ru/soft/sunvox/",
        "excerpt": "Highly optimized synth algorithms. Flexible architecture: SunVox can working on variuos devices. For example: PDA with slow CPU - 16bit sound (fixed point arithmetic); or big PC with powerfull CPU:&hellip;",
        "date_saved": "Thu Jul 28 20:14:33 EDT 2016",
        "html_file": "warmplaceru_sunvox_synthesizer.html",
        "png_file": "warmplaceru_sunvox_synthesizer.png",
        "md_file": "warmplaceru_sunvox_synthesizer.md",
        "content": "<div><li>Highly optimized synth algorithms.</li>\n<li>Flexible architecture: SunVox can working on variuos devices. For example: \n PDA with slow CPU - 16bit sound (fixed point arithmetic); or big PC with \n powerfull CPU: 32bit sound (floating point arithmetic).</li>\n<li>Built-in synthesizers &amp; effects: \n<ul><li>DrumSynth with 120 unique synthetic drum sounds;</li>\n<li>FM synthesizer;</li>\n<li>Generator (saw,triangle,square,noise waveforms);</li>\n<li>Kicker;</li>\n<li>Sampler (supported formats: WAV, XI, AIFF);</li>\n<li>SpectraVoice (FFT-based synthesizer for analog-like pads);</li>\n<li>Amplifier;</li>\n<li>Side Chain Compressor;</li>\n<li>DC Blocking Filter;</li>\n<li>Delay;</li>\n<li>Distortion;</li>\n<li>Echo;</li>\n<li>EQ;</li>\n<li>Filter (Low-pass, High-pass, Band-pass, Notch);</li>\n<li>Flanger;</li>\n<li>LFO;</li>\n<li>Loop;</li>\n<li>Modulator;</li>\n<li>Reverb (with DC Blocking Filter);</li>\n<li>Vocal Filter;</li>\n<li>Vorbis Player;</li>\n<li>Vibrato.</li>\n</ul></li><li>Supported systems: Windows, Linux (x86/x86_64/arm), Mac OS X, PalmOS, WindowsCE (Windows Mobile), iPhone/iPad.</li>\n<li>Realtime sample recording.</li>\n</div>"
    }, {
        "title": "Title:\nRecurrent Neural Networks Hardware Implementation on FPGA",
        "url": "http://arxiv.org/abs/1511.05552v1",
        "excerpt": "Full-text links: PDF Other formats Current browse context: cs.NE &lt;&#xA0;prev&#xA0;|&#xA0;next&#xA0;&gt;",
        "date_saved": "Thu Jul 28 20:14:35 EDT 2016",
        "html_file": "titlenrecurrent_neural_networks_hardware_implementation_on_fpga.html",
        "png_file": "titlenrecurrent_neural_networks_hardware_implementation_on_fpga.png",
        "md_file": "titlenrecurrent_neural_networks_hardware_implementation_on_fpga.md",
        "content": "<div><div id=\"content\">\n\n\n\n<div id=\"abs\">\n<div class=\"extra-services\">\n\n<div class=\"full-text\">\n<span class=\"descriptor\">Full-text links:</span>\n\n<ul>\n<li><a href=\"http://arxiv.org/pdf/1511.05552v1\" accesskey=\"f\">PDF</a></li>\n<li><a href=\"http://arxiv.org/format/1511.05552v1\">Other formats</a></li>\n</ul>\n<div class=\"abs-license\"><a href=\"http://creativecommons.org/licenses/by/4.0/\" title=\"Rights to this article\"><img src=\"http://arxiv.org/icons/licenses/by-4.0.png\"></a></div>\n</div>\n\n<div class=\"browse\">\n<h3>Current browse context:</h3>\n<p class=\"current\">cs.NE</p>\n<div class=\"prevnext\"><span class=\"arrow\"><a href=\"http://arxiv.org/prevnext?site=arxiv.org&amp;id=1511.05552&amp;context=cs.NE&amp;function=prev\" accesskey=\"p\" title=\"previous in cs.NE (accesskey p)\">&lt;&#xA0;prev</a></span>&#xA0;|&#xA0;<span class=\"arrow\"><a href=\"http://arxiv.org/prevnext?site=arxiv.org&amp;id=1511.05552&amp;context=cs.NE&amp;function=next\" accesskey=\"n\" title=\"next in cs.NE (accesskey n)\">next&#xA0;&gt;</a></span>\n<br></div>\n<div class=\"list\"><a href=\"http://arxiv.org/list/cs.NE/new\">new</a>&#xA0;| <a href=\"http://arxiv.org/list/cs.NE/recent\">recent</a>&#xA0;| <a href=\"http://arxiv.org/list/cs.NE/1511\">1511</a></div><h3>Change to browse by:</h3><div class=\"switch\">\n<a href=\"http://arxiv.org/abs/1511.05552?context=cs\">cs</a>\n</div>\n\n</div>\n<div class=\"extra-ref-cite\">\n<h3>References &amp; Citations</h3><ul><li><a href=\"http://adsabs.harvard.edu/cgi-bin/bib_query?arXiv:1511.05552\">NASA ADS</a></li>\n</ul>\n\n</div>\n<div class=\"bookmarks\">\n<div class=\"what-is-this\">\n<h3>Bookmark</h3> (<a href=\"http://arxiv.org/help/social_bookmarking\">what is this?</a>)\n</div>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fwww.citeulike.org%2Fposturl%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552%26title%3DRecurrent%2520Neural%2520Networks%2520Hardware%2520Implementation%2520on%2520FPGA%26authors%3D&amp;v=24080dde\" title=\"Bookmark on CiteULike\"><img src=\"http://static.arxiv.org/icons/social/citeulike.png\" alt=\"CiteULike logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fwww.bibsonomy.org%2FBibtexHandler%3FrequTask%3Dupload%26url%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552%26description%3DRecurrent%2520Neural%2520Networks%2520Hardware%2520Implementation%2520on%2520FPGA&amp;v=2502a53f\" title=\"Bookmark on BibSonomy\"><img src=\"http://static.arxiv.org/icons/social/bibsonomy.png\" alt=\"BibSonomy logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fwww.mendeley.com%2Fimport%2F%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552&amp;v=ad291bcb\" title=\"Bookmark on Mendeley\"><img src=\"http://static.arxiv.org/icons/social/mendeley.png\" alt=\"Mendeley logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fdel.icio.us%2Fpost%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552%26description%3DRecurrent%2520Neural%2520Networks%2520Hardware%2520Implementation%2520on%2520FPGA&amp;v=cda221c5\" title=\"Bookmark on del.icio.us\"><img src=\"http://static.arxiv.org/icons/social/delicious.png\" alt=\"del.icio.us logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fdigg.com%2Fsubmit%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552%26title%3DRecurrent%2520Neural%2520Networks%2520Hardware%2520Implementation%2520on%2520FPGA&amp;v=1f9c8d3c\" title=\"Bookmark on Digg\"><img src=\"http://static.arxiv.org/icons/social/digg.png\" alt=\"Digg logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Freddit.com%2Fsubmit%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552%26title%3DRecurrent%2520Neural%2520Networks%2520Hardware%2520Implementation%2520on%2520FPGA&amp;v=e56f4334\" title=\"Bookmark on Reddit\"><img src=\"http://static.arxiv.org/icons/social/reddit.png\" alt=\"Reddit logo\"></a>\n<a href=\"http://arxiv.org/ct?url=http%3A%2F%2Fsciencewise.info%2Fbookmarks%2Fadd%3Furl%3Dhttp%3A%2F%2Farxiv.org%2Fabs%2F1511.05552&amp;v=818b0957\" title=\"Bookmark on ScienceWISE\"><img src=\"http://static.arxiv.org/icons/social/sciencewise.png\" alt=\"ScienceWISE logo\"></a>\n\n</div>\n</div>\n\n<div class=\"leftcolumn\">\n\n\n<div class=\"authors\"><span class=\"descriptor\">Authors:</span>\n<a href=\"http://arxiv.org/find/cs/1/au:+Chang_A/0/1/0/all/0/1\">Andre Xian Ming Chang</a>, \n<a href=\"http://arxiv.org/find/cs/1/au:+Martini_B/0/1/0/all/0/1\">Berin Martini</a>, \n<a href=\"http://arxiv.org/find/cs/1/au:+Culurciello_E/0/1/0/all/0/1\">Eugenio Culurciello</a></div>\n<p class=\"dateline\">(Submitted on 17 Nov 2015)</p>\n<blockquote class=\"abstract mathjax\">\n<span class=\"descriptor\">Abstract:</span> Recurrent Neural Networks (RNNs) have the ability to retain memory and learn\ndata sequences, and are a recent breakthrough of machine learning. Due to the\nrecurrent nature of RNNs, it is sometimes hard to parallelize all its\ncomputations on conventional hardware. CPUs do not currently offer large\nparallelism, while GPUs offer limited parallelism due to branching in RNN\nmodels. In this paper we present a hardware implementation of Long-Short Term\nMemory (LSTM) recurrent network on the programmable logic Zynq 7020 FPGA from\nXilinx. We implemented a RNN with 2 layers and 128 hidden units in hardware and\nit has been tested using a character level language model. The implementation\nis more than $21\\times$ faster than the ARM CPU embedded on the Zynq 7020 FPGA.\nThis work can potentially evolve to a RNN co-processor for future mobile\ndevices.\n</blockquote>\n\n<div class=\"metatable\">\n<table summary=\"Additional metadata\">\n<tr>\n<td class=\"tablecell label\">Comments:\n</td>\n<td class=\"tablecell comments\">9 pages, 9 figures, International Conference on Learning Representations (ICLR)</td>\n</tr>\n<tr>\n<td class=\"tablecell label\">Subjects:\n</td>\n<td class=\"tablecell subjects\"><span class=\"primary-subject\">Neural and Evolutionary Computing (cs.NE)</span></td>\n</tr>\n<tr>\n<td class=\"tablecell label\">\nCite&#xA0;as:\n</td>\n<td class=\"tablecell arxivid\"><a href=\"http://arxiv.org/abs/1511.05552\">arXiv:1511.05552</a> [cs.NE]</td>\n</tr>\n<tr>\n<td class=\"tablecell label\">&#xA0;</td>\n<td class=\"tablecell arxividv\">(or <span class=\"arxivid\"><a href=\"http://arxiv.org/abs/1511.05552v1\">arXiv:1511.05552v1</a> [cs.NE]</span> for this version)</td>\n</tr>\n</table>\n</div>\n<div class=\"submission-history\">\n<h2>Submission history</h2>\nFrom: Andre Xian Ming Chang [<a href=\"https://arxiv.org/show-email/5d6bd836/1511.05552\">view email</a>]\n<br>\n<b>[v1]</b> Tue, 17 Nov 2015 02:20:37 GMT (1490kb,D)<br>\n</div>\n<div class=\"endorsers\"><a href=\"http://arxiv.org/auth/show-endorsers/1511.05552\">Which authors of this paper are endorsers?</a> | <a id=\"mathjax_toggle\" href=\"\">Disable MathJax</a> (<a href=\"http://arxiv.org/help/mathjax/\">What is MathJax?</a>)</div>\n</div>\n</div>\n</div>\n</div>"
    }, {
        "title": "Fun C Micro-optimizations - restrict",
        "url": "http://jcdav.is/2015/11/23/Fun-C-Micro-optimizations-restrict/",
        "excerpt": "23 Nov 2015 Lets say we wanted to add a value to an every element of an array. Here&#x2019;s a slightly contrived example: void add_to_array(int* arr, int* v, int len) { for(int i = 0; i &lt; len;&hellip;",
        "date_saved": "Thu Jul 28 20:14:36 EDT 2016",
        "html_file": "fun_c_microoptimizations__restrict.html",
        "png_file": "fun_c_microoptimizations__restrict.png",
        "md_file": "fun_c_microoptimizations__restrict.md",
        "content": "<div><div class=\"post\">\n \n <span class=\"post-date\">23 Nov 2015</span>\n <p>Lets say we wanted to add a value to an every element of an array. Here&#x2019;s a slightly contrived example:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-c\"><span class=\"kt\">void</span> <span class=\"nf\">add_to_array</span><span class=\"p\">(</span><span class=\"kt\">int</span><span class=\"o\">*</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"kt\">int</span><span class=\"o\">*</span> <span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"kt\">int</span> <span class=\"n\">len</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">len</span><span class=\"p\">;</span> <span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"o\">*</span><span class=\"n\">v</span><span class=\"p\">;</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">int</span> <span class=\"nf\">main</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">argc</span><span class=\"p\">,</span> <span class=\"kt\">char</span><span class=\"o\">**</span> <span class=\"n\">argv</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"kt\">int</span> <span class=\"n\">arr</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">};</span>\n <span class=\"kt\">int</span> <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n <span class=\"n\">add_to_array</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">);</span>\n <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">3</span><span class=\"p\">;</span> <span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"s\">\"%d</span><span class=\"se\">\\n</span><span class=\"s\">\"</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]);</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div>\n\n<p>If we look at the assembly for <code>add_to_array</code> (using <code>gcc -O1 -S &lt;file&gt;</code>), there is an interesting peculiarity:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-asm\"><span class=\"nl\">_add_to_array:</span> <span class=\"c\">## @add_to_array</span>\n <span class=\"nf\">pushq</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">movq</span> <span class=\"nv\">%rsp</span><span class=\"p\">,</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">testl</span> <span class=\"nv\">%edx</span><span class=\"p\">,</span> <span class=\"nv\">%edx</span>\n <span class=\"nf\">jle</span> <span class=\"no\">LBB0_2</span>\n<span class=\"nl\">LBB0_1:</span> <span class=\"c\">## =&gt;This Inner Loop Header: Depth=1</span>\n <span class=\"nf\">movl</span> <span class=\"p\">(</span><span class=\"nv\">%rsi</span><span class=\"p\">),</span> <span class=\"nv\">%eax</span>\n <span class=\"nf\">addl</span> <span class=\"nv\">%eax</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nv\">%rdi</span><span class=\"p\">)</span>\n <span class=\"nf\">addq</span> <span class=\"no\">$4</span><span class=\"p\">,</span> <span class=\"nv\">%rdi</span>\n <span class=\"nf\">decl</span> <span class=\"nv\">%edx</span>\n <span class=\"nf\">jne</span> <span class=\"no\">LBB0_1</span>\n<span class=\"nl\">LBB0_2:</span> <span class=\"c\">## %._crit_edge</span>\n <span class=\"nf\">popq</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">retq</span></code></pre></div>\n\n<p>We are rereading the value of <code>v</code> every iteration, instead of just once. Why is that? Well, gcc has to assume that its possible that <code>arr</code> and <code>v</code> overlap, making a write to <code>arr</code> change the value of <code>v</code>. We could, for instance, call <code>add_to_array(arr, arr, 3)</code> and it must produce <code>{10, 14, 13}</code>.</p>\n\n<p>In reality of course, this behavior is rarely intended. Thats where <a href=\"https://en.wikipedia.org/wiki/Restrict\">restrict</a> comes into play. Adding <code>restrict</code> to our parameters lets us signal to gcc that the regions don&#x2019;t overlap. We can change our function to reflect this:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-c\"><span class=\"kt\">void</span> <span class=\"nf\">add_to_array</span><span class=\"p\">(</span><span class=\"kt\">int</span><span class=\"o\">*</span> <span class=\"kr\">restrict</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"kt\">int</span><span class=\"o\">*</span> <span class=\"kr\">restrict</span> <span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"kt\">int</span> <span class=\"n\">len</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">len</span><span class=\"p\">;</span> <span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"o\">*</span><span class=\"n\">v</span><span class=\"p\">;</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div>\n\n<p>And now gcc will lift reading of <code>v</code> out of the loop:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-asm\"><span class=\"nl\">_add_to_array:</span> <span class=\"c\">## @add_to_array</span>\n <span class=\"nf\">pushq</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">movq</span> <span class=\"nv\">%rsp</span><span class=\"p\">,</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">testl</span> <span class=\"nv\">%edx</span><span class=\"p\">,</span> <span class=\"nv\">%edx</span>\n <span class=\"nf\">jle</span> <span class=\"no\">LBB0_3</span>\n <span class=\"nf\">movl</span> <span class=\"p\">(</span><span class=\"nv\">%rsi</span><span class=\"p\">),</span> <span class=\"nv\">%eax</span>\n<span class=\"nl\">LBB0_2:</span> <span class=\"c\">## =&gt;This Inner Loop Header: Depth=1</span>\n <span class=\"nf\">addl</span> <span class=\"nv\">%eax</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nv\">%rdi</span><span class=\"p\">)</span>\n <span class=\"nf\">addq</span> <span class=\"no\">$4</span><span class=\"p\">,</span> <span class=\"nv\">%rdi</span>\n <span class=\"nf\">decl</span> <span class=\"nv\">%edx</span>\n <span class=\"nf\">jne</span> <span class=\"no\">LBB0_2</span>\n<span class=\"nl\">LBB0_3:</span> <span class=\"c\">## %._crit_edge</span>\n <span class=\"nf\">popq</span> <span class=\"nv\">%rbp</span>\n <span class=\"nf\">retq</span></code></pre></div>\n\n<p>This example, of course, seems pretty silly. After all, you would certainly just pass the integer rather than a pointer, and this wouldn&#x2019;t happen right? That certainly would make a lot more sense.</p>\n\n<p>Where it gets a lot less obvious, however, is in more complicated situations. Let&#x2019;s say we have a simple struct:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-c\"><span class=\"k\">typedef</span> <span class=\"k\">struct</span> <span class=\"p\">{</span>\n <span class=\"kt\">float</span> <span class=\"n\">f</span><span class=\"p\">;</span>\n <span class=\"kt\">int</span> <span class=\"n\">i</span><span class=\"p\">;</span>\n<span class=\"p\">}</span> <span class=\"n\">st</span><span class=\"p\">;</span></code></pre></div>\n\n<p>And now <code>add_to_array</code> takes an <code>st*</code> and adds <code>i</code>:</p>\n\n<div class=\"highlight\"><pre><code class=\"language-c\"><span class=\"kt\">void</span> <span class=\"nf\">add_to_array</span><span class=\"p\">(</span><span class=\"kt\">int</span><span class=\"o\">*</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"n\">st</span><span class=\"o\">*</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"kt\">int</span> <span class=\"n\">len</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">len</span><span class=\"p\">;</span> <span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n <span class=\"n\">arr</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"n\">s</span><span class=\"o\">-&gt;</span><span class=\"n\">i</span><span class=\"p\">;</span>\n <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div>\n\n<p>Pass this through <code>gcc -O1 -S</code> again and you&#x2019;ll find it looks pretty much identical to our first sitaution, just reading <code>movl 4(%rsi), %eax</code> instead. Even though it seems fairly obvious to us that the array and struct will refer to seperate memory regions, C&#x2019;s Wild West approach to memory means that <code>add_to_array(arr, (st*)arr, 3)</code> is possible, and gcc must generate assembly that produces the correct output <code>{9,8,11}</code>. Again here, we must specify <code>restrict</code> to lift the read of <code>s-&gt;i</code> out of the loop.</p>\n\n<p>Are these details worth overly worrying about? In most cases, probably not. But its a fun trick to have in your pocket and another reminder of the value of looking over assembly in performance-critical areas.</p>\n\n\n</div>\n\n</div>"
    }, {
        "title": "CS2043: Unix Tools & Scripting",
        "url": "http://www.cs.cornell.edu/courses/CS2043/2014sp/",
        "excerpt": "Spring 2014 Time &amp; Place: MWF 11:15am - 12:00pm (Holister B14) Announcements: 1/29/2014: Hussam Abu-Libdeh, Atheendra PT, Sangha Im, and Harsh Shah joined the course staff. See their hours and&hellip;",
        "date_saved": "Thu Jul 28 20:14:38 EDT 2016",
        "html_file": "cs2043_unix_tools__scripting.html",
        "png_file": "cs2043_unix_tools__scripting.png",
        "md_file": "cs2043_unix_tools__scripting.md",
        "content": "<div><body>\n\n \n <h3>Spring 2014</h3>\n\n <li>\n <strong>Time &amp; Place</strong>: MWF 11:15am - 12:00pm (Holister B14)\n </li>\n \n\n <p>\n <b>Announcements</b>: \n </p><ul> \n <li><b>1/29/2014</b>: Hussam Abu-Libdeh, Atheendra PT, Sangha Im, and Harsh Shah joined the course staff. See their \n hours and contact info below.</li>\n <li><b>1/24/2014</b>: Couldn't register for the course? <strike> Enter your info here: Waiting List</strike>. <b> Update 1/29:</b> Sorry, registration is now closed.</li>\n \n </ul>\n\n\n <h3>Overview</h3>\n <p>\n\n UNIX-like systems are increasingly being used on personal computers,\n mobile phones, web servers, and many other systems. They represent a\n wonderful family of programming environments useful both to computer\n scientists and to people in many other fields, such as computational\n biology and computational linguistics, in which data is naturally\n represented by strings. This course provides an intensive training to\n develop skills in Unix command line tools and scripting that enable the\n accomplishment and automation of large and challenging computing tasks.\n The syllabus takes students from shell basics and piping, to\n regular-expression processing tools, to shell scripting and Python.\n\n </p>\n\n <p>CS2043 is a six week, two credit, S/U only course. It runs from\n <b>January 22</b> through <b>March 5, 2014</b>. The drop deadline is <b>February 5, 2014</b>, two weeks\n into the course. </p>\n\n <h3>Course Staff</h3>\n \n\n <table>\n <tr>\n <td><strong>Instructor</strong>:</td>\n <td><b><a href=\"http://www.cs.cornell.edu/~abrahao\">Bruno Abrahao</a></b></td>\n <td>[last_name@cs.cornell.edu]</td>\n <td><strong>Office hours</strong>:</td>\n <td>Wednesday 3-4pm, Gates Hall, room G21</td>\n </tr>\n\n <tr>\n <td><strong>TAs</strong>:</td>\n <td><b><a href=\"http://0xff.co/\"> Hussam Abu-Libdeh</a></b></td>\n <td>[first_name@cs.cornell.edu]</td>\n <td><strong>Office hours</strong>:</td>\n <td>Tuesday 2-3pm, Gates Hall, room 440</td>\n </tr>\n\n <tr>\n <td></td>\n <td>Atheendra PT</td>\n <td>[ap778@cornell.edu]</td>\n <td><strong>Office hours</strong>:</td>\n <td>Monday 1:30-2:30pm, Upson Hall, room 360</td>\n </tr>\n \n <tr>\n <td></td>\n <td>Sangha Im</td>\n <td>[si237@cornell.edu]</td>\n <td><strong>Office hours</strong>:</td>\n <td>Thursday 2-3pm, Gates Hall, room G17</td>\n </tr>\n \n <tr>\n <td></td>\n <td>Harsh Shah</td>\n <td>[hs634@cornell.edu]</td>\n <td><strong>Office hours</strong>:</td>\n <td>Friday 2-3pm, Gates Hall, room G11</td>\n </tr>\n \n </table>\n \n \n\n\n Join the discussion on <b><a href=\"http://www.piazza.com/cornell/spring2014/cs2043\">Piazza</a></b>\n <b> \n <br>Note: </b> Please don't disclose parts of\n your solution on piazza. You can ask for clarifications without revealing\n your attempts to solve the problem.\n \n <h3>Organization</h3>\n <p>\n There is no official textbook for this course; we will post pointers\n to some books and websites that might be helpful. \n </p>\n\n <p>\n The course prerequisites include elementary-level background in computer\n programming without assuming mastery in any particular language.\n </p>\n \n <p>\n The work for the course will consist primarily of 5 or 6 homework assignments. You must successfully complete all these\n assignments to pass this class. Coursework should be handed in through <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=loginview\">CMS</a>.\n </p> \n\n\n <h3>Lectures</h3>\n <ul>\n <li><b>1/22/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture01.pdf\">Lecture 1</a></i>: A brief intro to Unix.</li>\n <li><b>1/24/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture02.pdf\">Lecture 2</a></i>: The Unix file system.</li>\n <li><b>1/27/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture03.pdf\">Lecture 3</a></i>: More on the Unix file system, text editing: nano and vim (basics).</li>\n <li><b>1/29/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture04.pdf\">Lecture 4</a></i>: Shortcuts keys, history, aliasing, character expansion, and file compression.</li>\n <li><b>1/31/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture05.pdf\">Lecture 5</a></i>: wc, sort, uniq, tr, pipes and redirection, tee, backticks</li>\n <li><b>2/03/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture06.pdf\">Lecture 6</a></i>: cut, paste, split, join, bc, find, grep</li>\n <li><b>2/05/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture07.pdf\">Lecture 7</a></i>: ssh, scp, processes: nice, kill, top; jobs.</li>\n <li><b>2/07/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture08.pdf\">Lecture 8</a></i>: Regular Expressions</li>\n <li><b>2/10/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture09.pdf\">Lecture 9</a></i>: sed, cron</li>\n <li><b>2/12/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture10.pdf\">Lecture 10</a></i>: diff, awk (1/3)</li>\n <li><b>2/14/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture11.pdf\">Lecture 11</a></i>: awk (2/3)</li>\n <li><b>2/19/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture12.pdf\">Lecture 12</a></i>: screen, gnuplot</li>\n <li><b>2/21/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture13.pdf\">Lecture 13</a></i>: awk (3/3), scripting preliminaries</li>\n <li><b>2/24/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture14.pdf\">Lecture 14</a></i>: conditionals</li>\n <li><b>2/26/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture15.pdf\">Lecture 15</a></i>: loops</li>\n <li><b>2/28/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture16.pdf\">Lecture 16</a></i>: Bash tips, arrays, and functions</li>\n <li><b>3/03/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture17.pdf\">Lecture 17</a></i>: Python 1/2</li>\n <li><b>3/05/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/lectures/lecture18.pdf\">Lecture 18</a></i>: Python 2/2</li>\n </ul>\n \n <h3>Homeworks</h3>\n <ul>\n <li><b>1/24/2014</b><i> <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/assignments/hw1.pdf\">Homework 1</a></i>. Due Wednesday, January 29, 2014.</li>\n <li><b>2/03/2014</b><i> <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=download&amp;downloadtype=1&amp;id=39\">Homework 2</a></i>. Due Sunday, February 9, 2014, 11:59pm EST. <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=download&amp;downloadtype=0&amp;id=11\"><b>Solutions</b></a> </li> \n <li><b>2/10/2014</b><i> <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=download&amp;downloadtype=1&amp;id=64\">Homework 3</a></i>. Due Sunday, February 16, 2014, 11:59pm EST. <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/assignments/hw3_solution.pdf\"><b>Solutions</b></a>\n </li><li><b>2/21/2014</b><i> <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=download&amp;downloadtype=1&amp;id=89\">Homework 4</a></i>. Due Friday, February 28, 2014, 11:59pm EST. <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/hw4-solutions.html\"><b>Solutions</b></a>\n\n </li><li><b>3/02/2014</b><i> <a href=\"https://cms.csuglab.cornell.edu/web/auth/?action=download&amp;downloadtype=1&amp;id=115\">Final Project</a></i>. Due Sunday, March 9, 2014, 11:59pm EST. <a href=\"http://www.cs.cornell.edu/courses/CS2043/2014sp/final_project_solutions.html\"><b>Solutions</b></a> \n </li> \n <p>\n <a href=\"https://confluence.cornell.edu/display/coecis/CSUG+Lab+VM+Information\">Instructions</a> for installing a clone of a CSUG Lab machine on your computer.<br>\n <a href=\"http://www.csuglab.cornell.edu/\">Information</a> on the CSUG Lab.<br>\n </p>\n </ul>\n\n <b> \n <br>New: Updated Late Homework Policy</b> (comes into effect\n starting with Homework 2): Each student will be granted a total of two\n late days that can be spent towards submitting homeworks late. We will\n deduct a late day from your account whenever you submit an assignment\n after the deadline, and we will grade assignments only if you have enough\n credit to account for the late days. If you are unable to submit your\n homework because of extenuating circumstances (medical or family\n emergency), contact an instructor beforehand.\n <b>Important</b>: You will need to notify the course staff whenever you make a late\n submission, otherwise we won't notice your assignment in the system.\n\n <h3>Useful references (not required)</h3>\n <ul>\n\n <ul>\n <li><i>The Linux Command Line book <a href=\"http://linuxcommand.org/tlcl.php\">(Free)</a></i></li>\n <li><i>Learning Python (5th Edition)</i>, Mark Lutz, O'Reilly, 2013</li>\n <li><i>Python Pocket Reference</i>, Mark Lutz, O'Reilly, 2014</li>\n <li><i>Python in a Nutshell (2nd Edition)</i>, Alex Martelli, O'Reilly, 2006</li>\n <li><i>Mastering Regular Expressions</i>, Jeffrey Friedl, O'Reilly, 2006</li>\n </ul>\n \n </ul>\n\n\n</body>\n</div>"
    }, {
        "title": "nginx",
        "url": "http://www.aosabook.org/en/nginx.html",
        "excerpt": "nginx (pronounced \"engine x\") is a free open source web server written by Igor Sysoev, a Russian software engineer. Since its public launch in 2004, nginx has focused on high performance, high&hellip;",
        "date_saved": "Thu Jul 28 20:14:39 EDT 2016",
        "html_file": "nginx.html",
        "png_file": "nginx.png",
        "md_file": "nginx.md",
        "content": "<div><p>nginx (pronounced \"engine x\") is a free open source web server\nwritten by Igor Sysoev, a Russian software engineer. Since its public\nlaunch in 2004, nginx has focused on high performance, high\nconcurrency and low memory usage. Additional features on top of the\nweb server functionality, like load balancing, caching, access and\nbandwidth control, and the ability to integrate efficiently with a\nvariety of applications, have helped to make nginx a good choice for\nmodern website architectures. Currently nginx is the second most\npopular open source web server on the Internet.</p>\n\n<section>\n<h2>14.1. Why Is High Concurrency Important?</h2>\n\n<p>These days the Internet is so widespread and ubiquitous it's hard to\nimagine it wasn't exactly there, as we know it, a decade ago. It has greatly evolved,\nfrom simple HTML producing clickable text, based on NCSA and then on\nApache web servers, to an always-on communication medium used by more\nthan 2 billion users worldwide. With the proliferation of permanently\nconnected PCs, mobile devices and recently tablets, the Internet\nlandscape is rapidly changing and entire economies have become\ndigitally wired. Online services have become much more elaborate with\na clear bias towards instantly available live information and\nentertainment. Security aspects of running online business have also\nsignificantly changed. Accordingly, websites are now much more complex\nthan before, and generally require a lot more engineering efforts to\nbe robust and scalable.</p>\n\n<p>One of the biggest challenges for a website architect has always been\nconcurrency. Since the beginning of web services, the level of\nconcurrency has been continuously growing. It's not uncommon for a\npopular website to serve hundreds of thousands and even millions of\nsimultaneous users. A decade ago, the major cause of concurrency was\nslow clients&#x2014;users with ADSL or dial-up connections. Nowadays,\nconcurrency is caused by a combination of mobile clients and newer\napplication architectures which are typically based on maintaining a\npersistent connection that allows the client to be updated with news,\ntweets, friend feeds, and so on. Another important factor contributing\nto increased concurrency is the changed behavior of modern browsers,\nwhich open four to six simultaneous connections to a website to\nimprove page load speed.</p>\n\n<p>To illustrate the problem with slow clients, imagine a simple\nApache-based web server which produces a relatively short 100 KB\nresponse&#x2014;a web page with text or an image. It can be merely a\nfraction of a second to generate or retrieve this page, but it takes\n10 seconds to transmit it to a client with a bandwidth of 80 kbps (10\nKB/s). Essentially, the web server would relatively quickly pull 100\nKB of content, and then it would be busy for 10 seconds slowly sending\nthis content to the client before freeing its connection. Now imagine\nthat you have 1,000 simultaneously connected clients who have\nrequested similar content. If only 1 MB of additional memory is\nallocated per client, it would result in 1000 MB (about 1 GB) of\nextra memory devoted to serving just 1000 clients 100 KB of\ncontent. In reality, a typical web server based on Apache commonly\nallocates more than 1 MB of additional memory per connection, and\nregrettably tens of kbps is still often the effective speed of mobile\ncommunications. Although the situation with sending content to a slow\nclient might be, to some extent, improved by increasing the size of\noperating system kernel socket buffers, it's not a general solution to\nthe problem and can have undesirable side effects.</p>\n\n<p>With persistent connections the problem of handling concurrency is\neven more pronounced, because to avoid latency associated with\nestablishing new HTTP connections, clients would stay connected, and\nfor each connected client there's a certain amount of memory allocated\nby the web server.</p>\n\n<p>Consequently, to handle the increased workloads associated with\ngrowing audiences and hence higher levels of concurrency&#x2014;and to be\nable to continuously do so&#x2014;a website should be based on a number of\nvery efficient building blocks. While the other parts of the equation\nsuch as hardware (CPU, memory, disks), network capacity, application\nand data storage architectures are obviously important, it is in the\nweb server software that client connections are accepted and\nprocessed. Thus, the web server should be able to scale nonlinearly\nwith the growing number of simultaneous connections and requests per\nsecond.</p>\n\n<section>\n<h3>Isn't Apache Suitable?</h3>\n\n<p>Apache, the web server software that still largely dominates the\nInternet today, has its roots in the beginning of the\n1990s. Originally, its architecture matched the then-existing\noperating systems and hardware, but also the state of the \nInternet, where a website was typically a standalone physical server\nrunning a single instance of Apache. By the beginning of the 2000s it\nwas obvious that the standalone web server model could not be easily\nreplicated to satisfy the needs of growing web services. Although\nApache provided a solid foundation for future development, it was\narchitected to spawn a copy of itself for each new connection, which\nwas not suitable for nonlinear scalability of a website. Eventually\nApache became a general purpose web server focusing on having many\ndifferent features, a variety of third-party extensions, and universal\napplicability to practically any kind of web application\ndevelopment. However, nothing comes without a price and the downside\nto having such a rich and universal combination of tools in a single\npiece of software is less scalability because of increased CPU and\nmemory usage per connection.</p>\n\n<p>Thus, when server hardware, operating systems and network resources\nceased to be major constraints for website growth, web developers\nworldwide started to look around for a more efficient means of running\nweb servers. Around ten years ago, Daniel Kegel, a prominent software\nengineer, <a href=\"http://www.kegel.com/c10k.html\">proclaimed</a> that \"it's time for web servers to handle ten\nthousand clients simultaneously\" and predicted what we\nnow call Internet cloud services. Kegel's C10K manifest spurred a\nnumber of attempts to solve the problem of web server optimization to\nhandle a large number of clients at the same time, and nginx turned\nout to be one of the most successful ones.</p>\n\n<p>Aimed at solving the C10K problem of 10,000 simultaneous connections,\nnginx was written with a different architecture in mind&#x2014;one which is\nmuch more suitable for nonlinear scalability in both the number of\nsimultaneous connections and requests per second. nginx is\nevent-based, so it does not follow Apache's style of spawning new\nprocesses or threads for each web page request. The end result is that\neven as load increases, memory and CPU usage remain manageable. nginx\ncan now deliver tens of thousands of concurrent connections on a\nserver with typical hardware.</p>\n\n<p>When the first version of nginx was released, it was meant to be\ndeployed alongside Apache such that static content like HTML, CSS,\nJavaScript and images were handled by nginx to offload concurrency and\nlatency processing from Apache-based application servers. Over the\ncourse of its development, nginx has added integration with\napplications through the use of FastCGI, uswgi or SCGI protocols, and\nwith distributed memory object caching systems like\n<em>memcached</em>. Other useful functionality like reverse proxy with\nload balancing and caching was added as well. These additional\nfeatures have shaped nginx into an efficient combination of tools\nto build a scalable web infrastructure upon.</p>\n\n<p>In February 2012, the Apache 2.4.x branch was released to the public. Although\nthis latest release of Apache has added new multi-processing core modules and\nnew proxy modules aimed at enhancing scalability and performance, it's too soon\nto tell if its performance, concurrency and resource utilization are now on par\nwith, or better than, pure event-driven web servers. It would be very nice to\nsee Apache application servers scale better with the new version, though, as it\ncould potentially alleviate bottlenecks on the backend side which still often\nremain unsolved in typical nginx-plus-Apache web configurations.</p>\n\n</section>\n\n<section>\n<h3>Are There More Advantages to Using nginx?</h3>\n\n<p>Handling high concurrency with high performance and efficiency has\nalways been the key benefit of deploying nginx. However, there\nare now even more interesting benefits.</p>\n\n<p>In the last few years, web architects have embraced the idea of\ndecoupling and separating their application infrastructure from the\nweb server. However, what would previously exist in the form of a LAMP\n(Linux, Apache, MySQL, PHP, Python or Perl)-based website, might now\nbecome not merely a LEMP-based one (`E' standing for `Engine\nx'), but more and more often an exercise in pushing the web server to\nthe edge of the infrastructure and integrating the same or a revamped\nset of applications and database tools around it in a different way.</p>\n\n<p>nginx is very well suited for this, as it provides the key features\nnecessary to conveniently offload concurrency, latency processing, SSL\n(secure sockets layer), static content, compression and caching,\nconnections and requests throttling, and even HTTP media streaming\nfrom the application layer to a much more efficient edge web server\nlayer. It also allows integrating directly with memcached/Redis or\nother \"NoSQL\" solutions, to boost performance when serving a large\nnumber of concurrent users.</p>\n\n<p>With recent flavors of development kits and programming languages\ngaining wide use, more and more companies are changing their\napplication development and deployment habits. nginx has become one of\nthe most important components of these changing paradigms, and it\nhas already helped many companies start and develop their web services\nquickly and within their budgets.</p>\n\n<p>The first lines of nginx were written in 2002. In 2004 it was released\nto the public under the two-clause BSD license. The number of nginx\nusers has been growing ever since, contributing ideas, and submitting\nbug reports, suggestions and observations that have been immensely\nhelpful and beneficial for the entire community.</p>\n\n<p>The nginx codebase is original and was written entirely from scratch\nin the C programming language. nginx has been ported to many\narchitectures and operating systems, including Linux, FreeBSD,\nSolaris, Mac OS X, AIX and Microsoft Windows. nginx has its own\nlibraries and with its standard modules does not use much beyond the\nsystem's C library, except for zlib, PCRE and OpenSSL which can be\noptionally excluded from a build if not needed or because of potential\nlicense conflicts.</p>\n\n<p>A few words about the Windows version of nginx. While nginx works in a\nWindows environment, the Windows version of nginx is more like a\nproof-of-concept rather than a fully functional port. There are\ncertain limitations of the nginx and Windows kernel architectures that\ndo not interact well at this time. The known issues of the nginx\nversion for Windows include a much lower number of concurrent\nconnections, decreased performance, no caching and no bandwidth\npolicing. Future versions of nginx for Windows will match the\nmainstream functionality more closely.</p>\n\n</section>\n\n</section>\n\n<section>\n<h2>14.2. Overview of nginx Architecture</h2>\n\n<p>Traditional process- or thread-based models of handling concurrent\nconnections involve handling each connection with a separate process\nor thread, and blocking on network or input/output\noperations. Depending on the application, it can be very inefficient\nin terms of memory and CPU consumption. Spawning a separate process or\nthread requires preparation of a new runtime environment, including\nallocation of heap and stack memory, and the creation of a new\nexecution context. Additional CPU time is also spent creating these\nitems, which can eventually lead to poor performance due to thread\nthrashing on excessive context switching. All of these complications\nmanifest themselves in older web server architectures like\nApache's. This is a tradeoff between offering a rich set of generally\napplicable features and optimized usage of server resources.</p>\n\n<p>From the very beginning, nginx was meant to be a specialized tool to\nachieve more performance, density and economical use of server\nresources while enabling dynamic growth of a website, so it has\nfollowed a different model. It was actually inspired by the ongoing\ndevelopment of advanced event-based mechanisms in a variety of\noperating systems. What resulted is a modular, event-driven,\nasynchronous, single-threaded, non-blocking architecture which became\nthe foundation of nginx code.</p>\n\n<p>nginx uses multiplexing and event notifications heavily, and dedicates\nspecific tasks to separate processes. Connections are processed in a\nhighly efficient run-loop in a limited number of single-threaded\nprocesses called <code>worker</code>s. Within each <code>worker</code> nginx can\nhandle many thousands of concurrent connections and requests per\nsecond.</p>\n\n<section>\n<h3>Code Structure</h3>\n\n<p>The nginx <code>worker</code> code includes the core and the functional\nmodules. The core of nginx is responsible for maintaining a tight\nrun-loop and executing appropriate sections of modules' code on each\nstage of request processing. Modules constitute most of the\npresentation and application layer functionality. Modules read from\nand write to the network and storage, transform content, do outbound\nfiltering, apply server-side include actions and pass the requests to\nthe upstream servers when proxying is activated.</p>\n\n<p>nginx's modular architecture generally allows developers to extend the\nset of web server features without modifying the nginx core. nginx\nmodules come in slightly different incarnations, namely core modules,\nevent modules, phase handlers, protocols, variable handlers, filters,\nupstreams and load balancers. At this time, nginx doesn't support\ndynamically loaded modules; i.e., modules are compiled along with the\ncore at build stage. However, support for loadable modules and ABI is\nplanned for the future major releases. More detailed information about\nthe roles of different modules can be found in \n<a href=\"http://www.aosabook.org/en/nginx.html#sec.nginx.internals\">Section 14.4</a>.</p>\n\n<p>While handling a variety of actions associated with accepting,\nprocessing and managing network connections and content retrieval,\nnginx uses event notification mechanisms and a number of disk I/O\nperformance enhancements in Linux, Solaris and BSD-based operating\nsystems, like <code>kqueue</code>, <code>epoll</code>, and <code>event ports</code>. The\ngoal is to provide as many hints to the operating system as possible,\nin regards to obtaining timely asynchronous feedback for inbound and\noutbound traffic, disk operations, reading from or writing to sockets,\ntimeouts and so on. The usage of different methods for multiplexing\nand advanced I/O operations is heavily optimized for every Unix-based\noperating system nginx runs on.</p>\n\n<p>A high-level overview of nginx architecture is presented in\n<a href=\"http://www.aosabook.org/en/nginx.html#fig.nginx.arch\">Figure 14.1</a>.</p>\n\n<figure id=\"fig.nginx.arch\">\n <img src=\"http://www.aosabook.org/images/nginx/architecture.png\">\n <figcaption>Figure 14.1: Diagram of nginx's architecture</figcaption>\n</figure>\n\n</section>\n\n<section>\n<h3>Workers Model</h3>\n\n<p>As previously mentioned, nginx doesn't spawn a process or thread for\nevery connection. Instead, <code>worker</code> processes accept new requests\nfrom a shared \"listen\" socket and execute a highly efficient\nrun-loop inside each <code>worker</code> to process thousands of connections\nper <code>worker</code>. There's no specialized arbitration or distribution of\nconnections to the <code>worker</code>s in nginx; this work is done by the OS \nkernel mechanisms. Upon startup, an initial set of\nlistening sockets is created. <code>worker</code>s then continuously accept,\nread from and write to the sockets while processing HTTP requests and\nresponses.</p>\n\n<p>The run-loop is the most complicated part of the nginx <code>worker</code>\ncode. It includes comprehensive inner calls and relies heavily on the\nidea of asynchronous task handling. Asynchronous operations are\nimplemented through modularity, event notifications, extensive use of\ncallback functions and fine-tuned timers. Overall, the key principle\nis to be as non-blocking as possible. The only situation where nginx\ncan still block is when there's not enough disk storage performance\nfor a <code>worker</code> process.</p>\n\n<p>Because nginx does not fork a process or thread per connection, memory\nusage is very conservative and extremely efficient in the vast\nmajority of cases. nginx conserves CPU cycles as well because there's\nno ongoing create-destroy pattern for processes or threads. What nginx\ndoes is check the state of the network and storage, initialize new\nconnections, add them to the run-loop, and process asynchronously\nuntil completion, at which point the connection is deallocated and\nremoved from the run-loop. Combined with the careful use of\n<code>syscall</code>s and an accurate implementation of supporting\ninterfaces like pool and slab memory allocators, nginx typically\nachieves moderate-to-low CPU usage even under extreme workloads.</p>\n\n<p>Because nginx spawns several <code>worker</code>s to handle connections, it\nscales well across multiple cores. Generally, a separate <code>worker</code>\nper core allows full utilization of multicore architectures, and\nprevents thread thrashing and lock-ups. There's no resource starvation\nand the resource controlling mechanisms are isolated within\nsingle-threaded <code>worker</code> processes. This model also allows more\nscalability across physical storage devices, facilitates more disk\nutilization and avoids blocking on disk I/O. As a result, server\nresources are utilized more efficiently with the workload shared\nacross several workers.</p>\n\n<p>With some disk use and CPU load patterns, the number of nginx\n<code>worker</code>s should be adjusted. The rules are somewhat basic here,\nand system administrators should try a couple of configurations for\ntheir workloads. General recommendations might be the following: if\nthe load pattern is CPU intensive&#x2014;for instance, handling a lot of\nTCP/IP, doing SSL, or compression&#x2014;the number of nginx <code>worker</code>s\nshould match the number of CPU cores; if the load is mostly disk I/O\nbound&#x2014;for instance, serving different sets of content from storage,\nor heavy proxying&#x2014;the number of <code>worker</code>s might be one and a half\nto two times the number of cores. Some engineers choose the number of\n<code>worker</code>s based on the number of individual storage units\ninstead, though efficiency of this approach depends on the type and\nconfiguration of disk storage.</p>\n\n<p>One major problem that the developers of nginx will be solving in upcoming\nversions is how to avoid most of the blocking on disk I/O. At the moment, if\nthere's not enough storage performance to serve disk operations generated by a\nparticular <code>worker</code>, that <code>worker</code> may still block on reading/writing\nfrom disk. A number of mechanisms and configuration file directives exist to\nmitigate such disk I/O blocking scenarios. Most notably, combinations of\noptions like sendfile and AIO typically produce a lot of headroom for disk\nperformance. An nginx installation should be planned based on the data set,\nthe amount of memory available for nginx, and the underlying storage architecture.</p>\n\n<p>Another problem with the existing <code>worker</code> model is related to\nlimited support for embedded scripting. For one, with the standard\nnginx distribution, only embedding Perl scripts is supported. There is\na simple explanation for that: the key problem is the\npossibility of an embedded script to block on any\noperation or exit unexpectedly. Both types of behavior would\nimmediately lead to a situation where the worker is hung, affecting\nmany thousands of connections at once. More work is planned to make\nembedded scripting with nginx simpler, more reliable and suitable for\na broader range of applications.</p>\n\n</section>\n\n<section>\n<h3>nginx Process Roles</h3>\n\n<p>nginx runs several processes in memory; there is a single master\nprocess and several <code>worker</code> processes. There are also a couple\nof special purpose processes, specifically a cache loader and cache\nmanager. All processes are single-threaded in version 1.x of\nnginx. All processes primarily use shared-memory mechanisms for\ninter-process communication. The master process is run as the\n<code>root</code> user. The cache loader, cache manager and <code>worker</code>s\nrun as an unprivileged user.</p>\n\n<p>The master process is responsible for the following tasks:</p>\n\n<ul>\n\n<li>\n reading and validating configuration\n</li>\n\n<li>\n creating, binding and closing sockets\n</li>\n\n<li>\n starting, terminating and maintaining the configured number of\n <code>worker</code> processes\n</li>\n\n<li>\n reconfiguring without service interruption\n</li>\n\n<li>\n controlling non-stop binary upgrades (starting new binary and\nrolling back if necessary)\n</li>\n\n<li>\n re-opening log files\n</li>\n\n<li>\n compiling embedded Perl scripts\n</li>\n\n</ul>\n\n<p>The <code>worker</code> processes accept, handle and process connections\nfrom clients, provide reverse proxying and filtering functionality and\ndo almost everything else that nginx is capable of. In regards to\nmonitoring the behavior of an nginx instance, a system administrator\nshould keep an eye on <code>worker</code>s as they are the processes\nreflecting the actual day-to-day operations of a web server.</p>\n\n<p>The cache loader process is responsible for checking the on-disk cache\nitems and populating nginx's in-memory database with cache\nmetadata. Essentially, the cache loader prepares nginx instances to\nwork with files already stored on disk in a specially allocated\ndirectory structure. It traverses the directories, checks cache\ncontent metadata, updates the relevant entries in shared memory and\nthen exits when everything is clean and ready for use.</p>\n\n<p>The cache manager is mostly responsible for cache expiration and\ninvalidation. It stays in memory during normal nginx operation and it\nis restarted by the master process in the case of failure.</p>\n\n</section>\n\n<section>\n<h3>Brief Overview of nginx Caching</h3>\n\n<p>Caching in nginx is implemented in the form of hierarchical data\nstorage on a filesystem. Cache keys are configurable, and different\nrequest-specific parameters can be used to control what gets into the\ncache. Cache keys and cache metadata are stored in the shared memory\nsegments, which the cache loader, cache manager and <code>worker</code>s\ncan access. Currently there is not any in-memory caching of files,\nother than optimizations implied by the operating system's virtual\nfilesystem mechanisms. Each cached response is placed in a different\nfile on the filesystem. The hierarchy (levels and naming details) are\ncontrolled through nginx configuration directives. When a response is\nwritten to the cache directory structure, the path and the name of the\nfile are derived from an MD5 hash of the proxy URL.</p>\n\n<p>The process for placing content in the cache is as follows:\nWhen nginx reads the response from an upstream server, the\ncontent is first written to a temporary file outside of the cache\ndirectory structure. When nginx finishes processing the request it\nrenames the temporary file and moves it to the cache directory. If the\ntemporary files directory for proxying is on another file system, the\nfile will be copied, thus it's recommended to keep both temporary and\ncache directories on the same file system. It is also quite safe to\ndelete files from the cache directory structure when they need to be\nexplicitly purged. There are third-party extensions for nginx\nwhich make it possible to control cached content remotely,\nand more work is planned to integrate this functionality in the main\ndistribution.</p>\n\n</section>\n\n</section>\n\n<section>\n<h2>14.3. nginx Configuration</h2>\n\n<p>nginx's configuration system was inspired by Igor Sysoev's experiences with\nApache. His main insight was \nthat a scalable configuration system\nis essential for a web server. The main scaling problem was\nencountered when maintaining large complicated configurations with\nlots of virtual servers, directories, locations and datasets. In a\nrelatively big web setup it can be a nightmare if not done properly\nboth at the application level and by the system engineer himself.</p>\n\n<p>As a result, nginx configuration was designed to simplify day-to-day\noperations and to provide an easy means for further expansion of web\nserver configuration.</p>\n\n<p>nginx configuration is kept in a number of plain text files which\ntypically reside in <code>/usr/local/etc/nginx</code> or\n<code>/etc/nginx</code>. The main configuration file is usually called\n<code>nginx.conf</code>. To keep it uncluttered, parts of the configuration\ncan be put in separate files which can be automatically included in\nthe main one. However, it should be noted here that nginx does not\ncurrently support Apache-style distributed configurations (i.e.,\n<code>.htaccess</code> files). All of the configuration relevant to nginx\nweb server behavior should reside in a centralized set of\nconfiguration files.</p>\n\n<p>The configuration files are initially read and verified by the master\nprocess. A compiled read-only form of the nginx configuration is\navailable to the <code>worker</code> processes as they are forked from the\nmaster process. Configuration structures are automatically shared by\nthe usual virtual memory management mechanisms.</p>\n\n<p>nginx configuration has several different contexts for <code>main</code>,\n<code>http</code>, <code>server</code>, <code>upstream</code>, <code>location</code> (and also\n<code>mail</code> for mail proxy) blocks of directives. Contexts never\noverlap. For instance, there is no such thing as putting a\n<code>location</code> block in the <code>main</code> block of directives. Also, to\navoid unnecessary ambiguity there isn't anything like a \"global web\nserver\" configuration. nginx configuration is meant to be clean and\nlogical, allowing users to maintain complicated configuration files\nthat comprise thousands of directives. In a private conversation, \nSysoev said, \n\"Locations, directories, and other blocks in the global server\nconfiguration are the features I never liked in Apache, so this is the\nreason why they were never implemented in nginx.\"</p>\n\n<p>Configuration syntax, formatting and definitions follow a so-called\nC-style convention. This particular approach to making configuration\nfiles is already being used by a variety of open source and\ncommercial software applications. By design, C-style configuration is well-suited \nfor nested descriptions, being logical and easy to create, read\nand maintain, and liked by many engineers. C-style configuration of\nnginx can also be easily automated.</p>\n\n<p>While some of the nginx directives resemble certain parts of Apache\nconfiguration, setting up an nginx instance is quite a different\nexperience. For instance, rewrite rules are supported by nginx, though\nit would require an administrator to manually adapt a legacy Apache\nrewrite configuration to match nginx style. The implementation of the\nrewrite engine differs too.</p>\n\n<p>In general, nginx settings also provide support for several original\nmechanisms that can be very useful as part of a lean web server\nconfiguration. It makes sense to briefly mention variables and the\n<code>try_files</code> directive, which are somewhat unique to\nnginx. Variables in nginx were developed to provide an additional \neven-more-powerful mechanism to control run-time configuration of a web\nserver. Variables are optimized for quick evaluation and are\ninternally pre-compiled to indices. Evaluation is done on demand;\ni.e., the value of a variable is typically calculated only once and\ncached for the lifetime of a particular request. Variables can be used\nwith different configuration directives, providing additional\nflexibility for describing conditional request processing\nbehavior. </p>\n\n<p>The <code>try_files</code> directive was initially meant to\ngradually replace conditional <code>if</code> configuration statements in a\nmore proper way, and it was designed to quickly and efficiently\ntry/match against different URI-to-content mappings. Overall, the\n<code>try_files</code> directive works well and can be extremely efficient\nand useful. It is recommended that the reader thoroughly check the\n<a href=\"http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files\"><code>try_files</code> directive</a> and adopt its use whenever applicable.</p>\n\n</section>\n\n<section id=\"sec.nginx.internals\">\n<h2>14.4. nginx Internals</h2>\n\n<p>As was mentioned before, the nginx codebase consists of a core and a\nnumber of modules. The core of nginx is responsible for providing the\nfoundation of the web server, web and mail reverse proxy\nfunctionalities; it enables the use of underlying network protocols,\nbuilds the necessary run-time environment, and ensures seamless\ninteraction between different modules. However, most of the protocol-\nand application-specific features are done by nginx modules, not the\ncore.</p>\n\n<p>Internally, nginx processes connections through a pipeline, or chain,\nof modules. In other words, for every operation there's a module which\nis doing the relevant work; e.g., compression, modifying content,\nexecuting server-side includes, communicating to the upstream\napplication servers through FastCGI or uwsgi protocols, or talking to\nmemcached.</p>\n\n<p>There are a couple of nginx modules that sit somewhere between the\ncore and the real \"functional\" modules. These modules are\n<code>http</code> and <code>mail</code>. These two modules provide an\nadditional level of abstraction between the core and lower-level\ncomponents. In these modules, the handling of the sequence of events\nassociated with a respective application layer protocol like HTTP,\nSMTP or IMAP is implemented. In combination with the nginx core, these\nupper-level modules are responsible for maintaining the right order of\ncalls to the respective functional modules. While the HTTP protocol is\ncurrently implemented as part of the <code>http</code> module, there\nare plans to separate it into a functional module in the future, due\nto the need to support other protocols like SPDY (see \"<a href=\"http://www.chromium.org/spdy/spdy-whitepaper\">SPDY: An\nexperimental protocol for a faster web</a>\").</p>\n\n<p>The functional modules can be divided into event modules, phase\nhandlers, output filters, variable handlers, protocols, upstreams and\nload balancers. Most of these modules complement the HTTP\nfunctionality of nginx, though event modules and protocols are also\nused for <code>mail</code>. Event modules provide a particular OS-dependent\nevent notification mechanism like <code>kqueue</code> or <code>epoll</code>. The\nevent module that nginx uses depends on the operating system\ncapabilities and build configuration. Protocol modules allow nginx to\ncommunicate through HTTPS, TLS/SSL, SMTP, POP3 and IMAP.</p>\n\n<p>A typical HTTP request processing cycle looks like the following.</p>\n\n<ol>\n\n<li>\n Client sends HTTP request.\n</li>\n\n<li>\n nginx core chooses the appropriate phase handler based on the\n configured location matching the request.\n</li>\n\n<li>\n If configured to do so, a load balancer picks an upstream server\n for proxying.\n</li>\n\n<li>\n Phase handler does its job and passes each output buffer to the first\n filter.\n</li>\n\n<li>\n First filter passes the output to the second filter.\n</li>\n\n<li>\n Second filter passes the output to third (and so on).\n</li>\n\n<li>\n Final response is sent to the client.\n</li>\n\n</ol>\n\n<p>nginx module invocation is extremely customizable. It is performed\nthrough a series of callbacks using pointers to the executable\nfunctions. However, the downside of this is that it may place a big\nburden on programmers who would like to write their own modules,\nbecause they must define exactly how and when the module should\nrun. Both the nginx API and developers' documentation are being\nimproved and made more available to alleviate this.</p>\n\n<p>Some examples of where a module can attach are:</p>\n\n<ul>\n\n<li>\n Before the configuration file is read and processed\n</li>\n\n<li>\n For each configuration directive for the location and the server\n where it appears\n</li>\n\n<li>\n When the main configuration is initialized\n</li>\n\n<li>\n When the server (i.e., host/port) is initialized\n</li>\n\n<li>\n When the server configuration is merged with the main\n configuration\n</li>\n\n<li>\n When the location configuration is initialized or merged with\n its parent server configuration\n</li>\n\n<li>\n When the master process starts or exits\n</li>\n\n<li>\n When a new worker process starts or exits\n</li>\n\n<li>\n When handling a request\n</li>\n\n<li>\n When filtering the response header and the body\n</li>\n\n<li>\n When picking, initiating and re-initiating a request to an\n upstream server\n</li>\n\n<li>\n When processing the response from an upstream server\n</li>\n\n<li>\n When finishing an interaction with an upstream server\n</li>\n\n</ul>\n\n<p>Inside a <code>worker</code>, the sequence of actions leading to the\nrun-loop where the response is generated looks like the following:</p>\n\n<ol>\n\n<li>\n Begin <code>ngx_worker_process_cycle()</code>.\n</li>\n\n<li>\n Process events with OS specific mechanisms (such as <code>epoll</code>\n or <code>kqueue</code>).\n</li>\n\n<li>\n Accept events and dispatch the relevant actions.\n</li>\n\n<li>\n Process/proxy request header and body.\n</li>\n\n<li>\n Generate response content (header, body) and stream it to the\n client.\n</li>\n\n<li>\n Finalize request.\n</li>\n\n<li>\n Re-initialize timers and events.\n</li>\n\n</ol>\n\n<p>The run-loop itself (steps 5 and 6) ensures incremental generation of\na response and streaming it to the client.</p>\n\n<p>A more detailed view of processing an HTTP request might look like\nthis:</p>\n\n<ol>\n\n<li>\n Initialize request processing.\n</li>\n\n<li>\n Process header.\n</li>\n\n<li>\n Process body.\n</li>\n\n<li>\n Call the associated handler.\n</li>\n\n<li>\n Run through the processing phases.\n</li>\n\n</ol>\n\n<p>Which brings us to the phases. When nginx handles an HTTP request, it\npasses it through a number of processing phases. At each phase there\nare handlers to call. In general, phase handlers process a request and\nproduce the relevant output. Phase handlers are attached to the\nlocations defined in the configuration file.</p>\n\n<p>Phase handlers typically do four things: get the location\nconfiguration, generate an appropriate response, send the header, and\nsend the body. A handler has one argument: a specific structure\ndescribing the request. A request structure has a lot of useful\ninformation about the client request, such as the request method, URI,\nand header.</p>\n\n<p>When the HTTP request header is read, nginx does a lookup of the\nassociated virtual server configuration. If the virtual server is\nfound, the request goes through six phases:</p>\n\n<ol>\n\n<li>\n server rewrite phase\n</li>\n\n<li>\n location phase\n</li>\n\n<li>\n location rewrite phase (which can bring the request back to the\nprevious phase)\n</li>\n\n<li>\n access control phase\n</li>\n\n<li>\n try_files phase\n</li>\n\n<li>\n log phase\n</li>\n\n</ol>\n\n<p>In an attempt to generate the necessary content in response to the\nrequest, nginx passes the request to a suitable content\nhandler. Depending on the exact location configuration, nginx may try\nso-called unconditional handlers first, like <code>perl</code>,\n<code>proxy_pass</code>, <code>flv</code>, <code>mp4</code>, etc. If the request does\nnot match any of the above content handlers, it is picked by one of\nthe following handlers, in this exact order: <code>random index</code>,\n<code>index</code>, <code>autoindex</code>, <code>gzip_static</code>, <code>static</code>.</p>\n\n<p>Indexing module details can be found in the nginx documentation, but\nthese are the modules which handle requests with a trailing slash. If\na specialized module like <code>mp4</code> or <code>autoindex</code> isn't\nappropriate, the content is considered to be just a file or directory\non disk (that is, static) and is served by the <code>static</code> content\nhandler. For a directory it would automatically rewrite the URI so\nthat the trailing slash is always there (and then issue an HTTP\nredirect).</p>\n\n<p>The content handlers' content is then passed to the filters. Filters\nare also attached to locations, and there can be several filters\nconfigured for a location. Filters do the task of manipulating the\noutput produced by a handler. The order of filter execution is\ndetermined at compile time. For the out-of-the-box filters it's\npredefined, and for a third-party filter it can be configured at the\nbuild stage. In the existing nginx implementation, filters can only do\noutbound changes and there is currently no mechanism to write and\nattach filters to do input content transformation. Input filtering\nwill appear in future versions of nginx.</p>\n\n<p>Filters follow a particular design pattern. A filter gets called,\nstarts working, and calls the next filter until the final filter in\nthe chain is called. After that, nginx finalizes the response. Filters\ndon't have to wait for the previous filter to finish. The next filter\nin a chain can start its own work as soon as the input from the\nprevious one is available (functionally much like the Unix\npipeline). In turn, the output response being generated can be passed\nto the client before the entire response from the upstream server is\nreceived.</p>\n\n<p>There are header filters and body filters; nginx feeds the header and\nthe body of the response to the associated filters separately.</p>\n\n<p>A header filter consists of three basic steps:</p>\n\n<ol>\n\n<li>\n Decide whether to operate on this response.\n</li>\n\n<li>\n Operate on the response.\n</li>\n\n<li>\n Call the next filter.\n</li>\n\n</ol>\n\n<p>Body filters transform the generated content. Examples of body filters\ninclude:</p>\n\n<ul>\n\n<li>\n server-side includes\n</li>\n\n<li>\n XSLT filtering\n</li>\n\n<li>\n image filtering (for instance, resizing images on the fly)\n</li>\n\n<li>\n charset modification\n</li>\n\n<li>\n <code>gzip</code> compression\n</li>\n\n<li>\n chunked encoding\n</li>\n\n</ul>\n\n<p>After the filter chain, the response is passed to the writer. Along\nwith the writer there are a couple of additional special purpose\nfilters, namely the <code>copy</code> filter, and the <code>postpone</code>\nfilter. The <code>copy</code> filter is responsible for filling memory\nbuffers with the relevant response content which might be stored in a\nproxy temporary directory. The <code>postpone</code> filter is used for\nsubrequests.</p>\n\n<p>Subrequests are a very important mechanism for request/response\nprocessing. Subrequests are also one of the most powerful aspects of\nnginx. With subrequests nginx can return the results from a different\nURL than the one the client originally requested. Some web frameworks\ncall this an internal redirect. However, nginx goes further&#x2014;not only\ncan filters perform multiple subrequests and combine the outputs into\na single response, but subrequests can also be nested and\nhierarchical. A subrequest can perform its own sub-subrequest, and a\nsub-subrequest can initiate sub-sub-subrequests. Subrequests can map\nto files on the hard disk, other handlers, or upstream\nservers. Subrequests are most useful for inserting additional content\nbased on data from the original response. For example, the SSI\n(server-side include) module uses a filter to parse the contents of\nthe returned document, and then replaces <code>include</code> directives\nwith the contents of specified URLs. Or, it can be an example of making\na filter that treats the entire contents of a document as a URL to be\nretrieved, and then appends the new document to the URL itself.</p>\n\n<p>Upstream and load balancers are also worth describing\nbriefly. Upstreams are used to implement what can be identified as a\ncontent handler which is a reverse proxy (<code>proxy_pass</code>\nhandler).\nUpstream modules mostly prepare the request to be sent to an upstream\nserver (or \"backend\") and receive the response from the upstream\nserver. There are no calls to output filters here. What an upstream\nmodule does exactly is set callbacks to be invoked when the upstream\nserver is ready to be written to and read from. Callbacks implementing\nthe following functionality exist:</p>\n\n<ul>\n\n<li>\n Crafting a request buffer (or a chain of them) to be sent to the\n upstream server\n</li>\n\n<li>\n Re-initializing/resetting the connection to the upstream server\n (which happens right before creating the request again)\n</li>\n\n<li>\n Processing the first bits of an upstream response and saving\n pointers to the payload received from the upstream server\n</li>\n\n<li>\n Aborting requests (which happens when the client terminates\n prematurely)\n</li>\n\n<li>\n Finalizing the request when nginx finishes reading from the\n upstream server\n</li>\n\n<li>\n Trimming the response body (e.g. removing a trailer)\n</li>\n\n</ul>\n\n<p>Load balancer modules attach to the <code>proxy_pass</code> handler to\nprovide the ability to choose an upstream server when more than one\nupstream server is eligible. A load balancer registers an enabling\nconfiguration file directive, provides additional upstream\ninitialization functions (to resolve upstream names in DNS, etc.),\ninitializes the connection structures, decides where to route the\nrequests, and updates stats\ninformation. Currently nginx supports two standard disciplines for\nload balancing to upstream servers: round-robin and ip-hash.</p>\n\n<p>Upstream and load balancing handling mechanisms include algorithms to\ndetect failed upstream servers and to re-route new requests to the\nremaining ones&#x2014;though a lot of additional work is planned to enhance\nthis functionality. In general, more work on load balancers is\nplanned, and in the next versions of nginx the mechanisms for\ndistributing the load across different upstream servers as well as\nhealth checks will be greatly improved.</p>\n\n<p>There are also a couple of other interesting modules which provide an\nadditional set of variables for use in the configuration file. While\nthe variables in nginx are created and updated across different\nmodules, there are two modules that are entirely dedicated to\nvariables: <code>geo</code> and <code>map</code>. The <code>geo</code> module is used to\nfacilitate tracking of clients based on their IP addresses. This\nmodule can create arbitrary variables that depend on the client's IP\naddress. The other module, <code>map</code>, allows for the creation of\nvariables from other variables, essentially providing the ability to\ndo flexible mappings of hostnames and other run-time variables. This\nkind of module may be called the variable handler.</p>\n\n<p>Memory allocation mechanisms implemented inside a single nginx\n<code>worker</code> were, to some extent, inspired by Apache. A high-level\ndescription of nginx memory management would be the following: For\neach connection, the necessary memory buffers are dynamically\nallocated, linked, used for storing and manipulating the header and\nbody of the request and the response, and then freed upon connection\nrelease. It is very important to note that nginx tries to avoid\ncopying data in memory as much as possible and most of the data is\npassed along by pointer values, not by calling <code>memcpy</code>.</p>\n\n<p>Going a bit deeper, when the response is generated by a module, the\nretrieved content is put in a memory buffer which is then added to a\nbuffer chain link. Subsequent processing works with this buffer chain\nlink as well. Buffer chains are quite complicated in nginx because\nthere are several processing scenarios which differ depending on the module\ntype. For instance, it can be quite tricky to manage the buffers\nprecisely while implementing a body filter module. Such a module can\nonly operate on one buffer (chain link) at a time and it must decide\nwhether to overwrite the input buffer, replace the buffer with a newly\nallocated buffer, or insert a new buffer before or after the buffer in\nquestion. To complicate things, sometimes a module will receive\nseveral buffers so that it has an incomplete buffer chain that it must\noperate on. However, at this time nginx provides only a low-level API\nfor manipulating buffer chains, so before doing any actual\nimplementation a third-party module developer should become really\nfluent with this arcane part of nginx.</p>\n\n<p>A note on the above approach is that there are memory buffers allocated for the\nentire life of a connection, thus for long-lived connections some extra memory\nis kept. At the same time, on an idle keepalive connection, nginx spends\njust 550 bytes of memory. A possible optimization for future releases of nginx\nwould be to reuse and share memory buffers for long-lived connections.</p>\n\n<p>The task of managing memory allocation is done by the nginx pool\nallocator. Shared memory areas are used to accept mutex, cache\nmetadata, the SSL session cache and the information associated with\nbandwidth policing and management (limits). There is a slab allocator\nimplemented in nginx to manage shared memory allocation. To allow\nsimultaneous safe use of shared memory, a number of locking mechanisms\nare available (mutexes and semaphores). In order to organize complex\ndata structures, nginx also provides a red-black tree\nimplementation. Red-black trees are used to keep cache metadata in\nshared memory, track non-regex location definitions and for a couple of\nother tasks.</p>\n\n<p>Unfortunately, all of the above was never described in a consistent and\nsimple manner, making the job of developing third-party extensions for\nnginx quite complicated. Although some good documents on nginx\ninternals exist&#x2014;for instance, those produced by Evan Miller&#x2014;such\ndocuments required a huge reverse engineering effort, and the\nimplementation of nginx modules is still a black art for many.</p>\n\n<p>Despite certain difficulties associated with third-party module\ndevelopment, the nginx user community recently saw a lot of useful\nthird-party modules. There is, for instance, an embedded Lua\ninterpreter module for nginx, additional modules for load balancing,\nfull WebDAV support, advanced cache control and other interesting\nthird-party work that the authors of this chapter encourage and will\nsupport in the future.</p>\n\n</section>\n\n<section>\n<h2>14.5. Lessons Learned</h2>\n\n<p>When Igor Sysoev started to write nginx, most of the software enabling\nthe Internet already existed, and the architecture of such software\ntypically followed definitions of legacy server and network hardware,\noperating systems, and old Internet architecture in general. However,\nthis didn't prevent Igor from thinking he might be able to improve\nthings in the web servers area. So, while the first lesson might seem\nobvious, it is this: there is always room for improvement.</p>\n\n<p>With the idea of better web software in mind, Igor spent\na lot of time developing the initial code structure and studying\ndifferent ways of optimizing the code for a variety of operating\nsystems. Ten years later he is developing a prototype of nginx version 2.0,\ntaking into account the years of active development on version 1. \nIt is clear that the initial\nprototype of a new architecture, and the initial code structure, are vitally\nimportant for the future of a software product.</p>\n\n<p>Another point worth mentioning is that development should be\nfocused. The Windows version of nginx is probably a good example of\nhow it is worth avoiding the dilution of development efforts on\nsomething that is neither the developer's core competence or the\ntarget application. It is equally applicable to the rewrite engine\nthat appeared during several attempts to enhance nginx with more\nfeatures for backward compatibility with the existing legacy setups.</p>\n\n<p>Last but not least, it is worth mentioning that despite the fact that\nthe nginx developer community is not very large, third-party modules\nand extensions for nginx have always been a very important part of its\npopularity. The work done by Evan Miller, Piotr Sikora, Valery\nKholodkov, Zhang Yichun (agentzh) and other talented software\nengineers has been much appreciated by the nginx user community and\nits original developers.</p>\n\n</section>\n</div>"
    }, {
        "title": "PerfectlySoft/Perfect",
        "url": "https://github.com/PerfectlySoft/Perfect",
        "excerpt": "Perfect is an application server which provides a framework for developing web and other REST services in the Swift programming language. Its pri",
        "date_saved": "Thu Jul 28 20:14:41 EDT 2016",
        "html_file": "perfectlysoftperfect.html",
        "png_file": "perfectlysoftperfect.png",
        "md_file": "perfectlysoftperfect.md",
        "content": "<div><article class=\"markdown-body entry-content\"><p><a href=\"https://perfect.org/get-involved.html\"><img src=\"https://www.perfect.org/images/github-banner.jpg\" alt=\"Get Involved\"></a></p>\n\n\n\n<p><a href=\"https://camo.githubusercontent.com/2de532f84bb14fed9949eda6211747493d624664/68747470733a2f2f7777772e706572666563742e6f72672f696d616765732f69636f6e5f313238783132382e706e67\" target=\"_blank\"><img src=\"https://www.perfect.org/images/icon_128x128.png\" alt=\"Perfect logo\"></a>\n<a href=\"https://gitter.im/PerfectlySoft/Perfect?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\"><img src=\"https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667\" alt=\"Join the chat at https://gitter.im/PerfectlySoft/Perfect\"></a></p>\n\n<p>Perfect is an application server which provides a framework for developing web and other REST services in the Swift programming language. Its primary focus is on facilitating mobile apps which require backend server software. It enables you to use one language for both front and back ends.</p>\n\n<p>Perfect operates using either its own stand-alone HTTP server or through FastCGI with Apache 2.4. It provides a system for loading your own Swift based modules at startup and for interfacing those modules with its built-in moustache template processing system.</p>\n\n<p>Perfect consists of the following components:</p>\n\n<ul>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/PerfectLib/#perfectlib\">PerfectLib</a> - Framework components and utilities for client and server.\n\n<ul>\n<li><a href=\"http://www.perfect.org/docs/\">PerfectLib Reference</a></li>\n<li>OS X / Linux</li>\n<li>iOS</li>\n</ul></li>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/PerfectServer/#perfectserver\">Perfect Server</a> - Backend server supporting FastCGI or stand-alone HTTP.\n\n<ul>\n<li>Perfect Server FastCGI - Server process which accepts connections over FastCGI.</li>\n<li>Perfect Server HTTP - Stand-alone HTTP server.</li>\n<li>Perfect Server HTTP App - Development focused stand-alone HTTP server OS X app.</li>\n</ul></li>\n<li>Connectors - Server-side connectivity.\n\n<ul>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Connectors/mod_perfect/#mod_perfect\">mod_perfect</a> - FastCGI connectivity for Apache 2.4.</li>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Connectors/MySQL/#mysql\">MySQL</a> - Provides connectivity for MySQL databases.</li>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Connectors/PostgreSQL/#postgresql\">PostgreSQL</a> - Provides connectivity for PostgreSQL databases.</li>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Connectors/MongoDB/#mongodb\">MongoDB</a> - Provides connectivity for MongoDB databases (<em>in progress</em>).</li>\n</ul></li>\n<li><a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Examples/#examples\">Examples</a> - A set of examples which show how to utilize Perfect.\n\n<ul>\n<li>Mobile iOS Examples</li>\n<li>Web Site Examples</li>\n<li>Game Examples (coming soon!)</li>\n</ul></li>\n</ul>\n\n<h2><a id=\"user-content-getting-started\" class=\"anchor\" href=\"https://github.com/PerfectlySoft/Perfect#getting-started\"></a>Getting Started</h2>\n\n<p>Check the <a href=\"https://github.com/PerfectlySoft/Perfect/blob/master/Examples/#examples\">README</a> in the Examples directory for further instructions.</p>\n\n<h2><a id=\"user-content-more-information\" class=\"anchor\" href=\"https://github.com/PerfectlySoft/Perfect#more-information\"></a>More Information</h2>\n\n<p>For more information on the Perfect project, please visit <a href=\"http://perfect.org\">perfect.org</a>.</p>\n</article>\n </div>"
    }, {
        "title": "titus",
        "url": "https://www.opsmate.com/titus/",
        "excerpt": "titus is a TLS/SSL proxy server (like stunnel or stud) that protects you from vulnerabilities in the TLS implementation such as Heartbleed (or worse). Current status The current version of titus is&hellip;",
        "date_saved": "Thu Jul 28 20:14:42 EDT 2016",
        "html_file": "titus.html",
        "png_file": "titus.png",
        "md_file": "titus.md",
        "content": "<div>\n\t\t\t\n\t\t\t<div class=\"homepage\">\n\t\t\t\t<div class=\"hero\">\n\t\t\t\t\t<div class=\"topinner\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"text\"><p><strong>titus</strong> is a TLS/SSL proxy server (like stunnel or stud) that protects you from vulnerabilities in the TLS implementation such as Heartbleed (or worse).</p></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t \n\t\t\t\t\n\n\t\t\t\t<div id=\"status\" class=\"section\">\n\t\t\t\t\t<h3>Current status</h3>\n\t\t\t\t\t<p>\n\t\t\t\t\tThe current version of titus is <strong>0.1</strong>, released on 2014-05-04. titus aims\n\t\t\t\t\tto be bug-free and secure, though it has not yet undergone serious\n\t\t\t\t\ttesting or performance optimization. Additionally, we may make\n\t\t\t\t\tbackwards-incompatible changes to the behavior before titus reaches\n\t\t\t\t\tversion 1.0\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"getting\" class=\"section\">\n\t\t\t\t\t<h3>Getting titus</h3>\n\n\t\t\t\t\t<div class=\"installguide\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p class=\"distro\">\n\t\t\t\t\t\t\t\tChoose your distro:\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_wheezy installguide_distro_selected\">\n\t\t\t\t\t\t\t\t<h4>Wheezy</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/wheezy/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/wheezy/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_ubuntu1404\">\n\t\t\t\t\t\t\t\t<h4>Ubuntu 14.04</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/ubuntu1404/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/ubuntu1404/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_ubuntu1310\">\n\t\t\t\t\t\t\t\t<h4>Ubuntu 13.10</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/ubuntu1310/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/ubuntu1310/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_ubuntu1304\">\n\t\t\t\t\t\t\t\t<h4>Ubuntu 13.04</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/ubuntu1304/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/ubuntu1304/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_ubuntu1210\">\n\t\t\t\t\t\t\t\t<h4>Ubuntu 12.10</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/ubuntu1210/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/ubuntu1210/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"installguide_distro installguide_distro_ubuntu1204\">\n\t\t\t\t\t\t\t\t<h4>Ubuntu 12.04</h4>\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/sources.list.d https://www.opsmate.com/titus/apt/ubuntu1204/titus.list</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>wget -P /etc/apt/trusted.gpg.d https://www.opsmate.com/titus/apt/ubuntu1204/titus.gpg</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get update</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>apt-get install titus</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"building\" class=\"section\">\n\t\t\t\t\t<h3>Building from Source</h3>\n\n\t\t\t\t\t<div class=\"cols\">\n\t\t\t\t\t\t<div class=\"col colleft\">\n\t\t\t\t\t\t\t<div class=\"colinner\">\n\t\t\t\t\t\t\t\t<h4>Latest Release</h4>\n\n\t\t\t\t\t\t\t\t<p>Download and extract <a href=\"https://www.opsmate.com/titus/downloads/titus-0.1.tar.gz\">titus-0.1.tar.gz</a> and run:</p>\n\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t<p><span>cd titus-0.1</span></p>\n\t\t\t\t\t\t\t\t\t<p><span>make</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>make install</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col colright\">\n\t\t\t\t\t\t\t<div class=\"colinner\">\n\t\t\t\t\t\t\t\t<h4>Compiling from Git</h4>\n\n\t\t\t\t\t\t\t\t<div class=\"terminal\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<p><span>git clone https://agwa.name/git/titus.git</span></p>\n\t\t\t\t\t\t\t\t\t<p><span>cd titus</span></p>\n\t\t\t\t\t\t\t\t\t<p><span>make</span></p>\n\t\t\t\t\t\t\t\t\t<p class=\"root\"><span>make install</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\n\t\t\t\t\t<h4>Dependencies</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>A C++ compiler</li>\n\t\t\t\t\t\t<li>Make</li>\n\t\t\t\t\t\t<li>OpenSSL Development Libraries (libssl-dev)</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"using\" class=\"section\">\n\t\t\t\t\t<h3>Using titus</h3>\n\n\t\t\t\t\t<h4>If you're using the Debian/Ubuntu package:</h4>\n\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t<li>Copy the example config from <code>/usr/share/doc/titus/examples</code> to <code>/etc/titus/titus.conf</code>. Modify to fit your needs.</li>\n\t\t\t\t\t\t<li>Start titus with: <code>service titus start</code></li>\n\t\t\t\t\t</ol>\n\n\t\t\t\t\t<p>Consult the <code>titus(8)</code> man page and <a href=\"https://www.opsmate.com/titus/files/README.Debian\"><code>/usr/share/doc/titus/README.Debian</code></a> for documentation.</p>\n\n\t\t\t\t\t<h4>If you've compiled from source:</h4>\n\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t<li>Start with <a href=\"https://www.opsmate.com/titus/files/titus.conf.example\">titus.conf.example</a> and modify to fit your needs.</li>\n\t\t\t\t\t\t<li>Run your configuration with: <code>titus --config /path/to/titus.conf</code></li>\n\t\t\t\t\t</ol>\n\n\t\t\t\t\t<p>Consult the <code>titus(8)</code> man page for documentation.</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"technical\" class=\"section\">\n\t\t\t\t\t<h3>Technical Info</h3>\n\n\t\t\t\t\t<p>Read <a href=\"https://www.agwa.name/blog/post/protecting_the_openssl_private_key_in_a_separate_process\">Andrew's blog post</a> for details.</p>\n\t\t\t\t</div>\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t</div> \n\t\t</div>"
    }, {
        "title": "Creator Ci40 dev kit puts the IoT in a box for \u00a380 - Imagination Blog",
        "url": "http://blog.imgtec.com/mips-processors/creator-ci40-dev-kit-puts-the-iot-in-a-box",
        "excerpt": "Recent research from Gartner suggests that by 2020 the Internet of Things market will grow to include billions of connected devices from smart sensors and gateways to data centers and other computing&hellip;",
        "date_saved": "Thu Jul 28 20:14:44 EDT 2016",
        "html_file": "creator_ci40_dev_kit_puts_the_iot_in_a_box_for_u00a380__imagination_blog.html",
        "png_file": "creator_ci40_dev_kit_puts_the_iot_in_a_box_for_u00a380__imagination_blog.png",
        "md_file": "creator_ci40_dev_kit_puts_the_iot_in_a_box_for_u00a380__imagination_blog.md",
        "content": "<div><section class=\"entry\">\n<p>Recent research from Gartner suggests that by 2020 the Internet of Things market <a href=\"http://www.gartner.com/newsroom/id/3165317\" target=\"_blank\">will grow to include billions of connected devices</a> from smart sensors and gateways to data centers and other computing platforms.</p>\n<p>To accelerate IoT development, Imagination is today introducing <em><strong>Creator Ci40</strong></em>, the most complete development kit for the Internet of Things.</p>\n<p>The package includes three sensors, two battery-powered wireless boards, and a powerful IoT hub, providing the hardware components required to quickly prototype IoT wireless devices. In addition, every kit includes a free subscription to FlowCloud, a robust cloud platform for connecting embedded devices to the Internet.</p>\n<p><a href=\"http://www.imgtec.com/creator/kickstarter\" target=\"_blank\"><img class=\"aligncenter wp-image-9114\" src=\"http://blog.imgtec.com/wp-content/uploads/2015/11/Creator-Ci40-Kickstarter-banner.png\" alt=\"Creator Ci40 - Kickstarter banner\" width=\"602\"></a>The Creator Ci40 IoT dev kit is available exclusively from Kickstarter</p>\n<p>Watch the video and read the description below for a quick summary of how Creator Ci40 works &#x2013; and don&#x2019;t forget to check out <a href=\"http://www.imgtec.com/creator/kickstarter\" target=\"_blank\">our Kickstarter page</a> for more information on how to preorder your kit today.</p>\n<iframe src=\"https://www.youtube.com/embed/8DpZlxtOIJQ\" width=\"480\" height=\"360\"></iframe>\n<p>Design an IoT project in five easy steps</p>\n<p>The Creator Ci40 IoT hub is a powerful development board powered by a snappy cXT200 chip. The SoC includes a dual-core, dual-threaded <a href=\"http://www.imgtec.com/mips/aptiv/interaptiv.asp\" target=\"_blank\">MIPS interAptiv CPU</a>, backed up by 1 GB of RAM. Hardware multithreading is an advanced technology used in desktop PCs and embedded devices to boost performance and increase system utilization and efficiency in real-world applications.</p>\n<p>Apart from the innovative multi-threaded CPU and RAM memory, the Ci40 dev board packs an impressive connectivity package, including 6LoWPAN, 802.11 ac 2&#xD7;2 Wi-Fi and Bluetooth 4.1. Having the wireless baseband integrated on chip reduces overall power consumption and boosts performance for IoT applications.</p>\n<p><a href=\"http://blog.imgtec.com/wp-content/uploads/2015/11/03-Creator-Ci40-dev-board-full-specs.png\"><img class=\"aligncenter wp-image-9112\" src=\"http://blog.imgtec.com/wp-content/uploads/2015/11/03-Creator-Ci40-dev-board-full-specs.png\" alt=\"03 - Creator Ci40 dev board - full specs\" width=\"601\"></a>The powerful microcomputer acts as an IoT hub</p>\n<p>On the peripherals side, you get <a href=\"http://www.mikroe.com/mikrobus/\" target=\"_blank\">mikroBUS</a> and Raspberry Pi B+ compatible interfaces, a micro USB power source, Ethernet, microSD, plus a number of other I/O pins for connecting accessories or extra hardware, including an EJTAG connector that can be used for live debugging.</p>\n<p>The Creator Ci40 IoT kit also integrates two 6LoWPAN <a href=\"http://www.mikroe.com/clicker/\" target=\"_blank\">Clicker boards</a> and three companion <a href=\"http://www.mikroe.com/click/\" target=\"_blank\">Click boards</a>. The Clicker boards are compact, standalone wireless devices powered by two AAA batteries. When used together with the companion Click boards, they provide a quick way to prototype smart sensors or actuators that communicate with the Creator Ci40 IoT hub over the 6LoWPAN network.</p>\n<p><a href=\"http://blog.imgtec.com/wp-content/uploads/2015/11/05-Creator-Ci40-IoT-kit-6LoWPAN-Clicker_02.png\"><img class=\"aligncenter wp-image-9113\" src=\"http://blog.imgtec.com/wp-content/uploads/2015/11/05-Creator-Ci40-IoT-kit-6LoWPAN-Clicker_02.png\" alt=\"05 - Creator Ci40 IoT kit - 6LoWPAN Clicker_02\" width=\"602\"></a>The Clicker and Click combination acts as a standalone wireless device</p>\n<p>The dev kit is the ideal solution for IoT developers, makers, Linux hackers or small to medium companies looking to build a revolutionary project from scratch.</p>\n<p>You can back the Creator Ci40 IoT dev kit on Kickstarter starting today.</p>\n<h4><strong>FAQs</strong></h4>\n<p>We&#x2019;ll keep updating this list on Kickstarter, but here are a few answers to your questions.</p>\n<p><strong>Are you discontinuing the Creator Ci20?</strong><br>\nNo, we are not. We&#x2019;ve always stated that Creator Ci20 was the first member in a family of boards that will scale from tiny modules to high-performance computing platforms. We have built a dedicated community around our the Ci20 dev board and continue to provide regular software updates for Debian and Android for as long as there is demand for it. Creator Ci20 will continue to sell for &#xA3;50/$65 from <a href=\"http://store.imgtec.com/\" target=\"_blank\">our store</a>.</p>\n<p><strong>Will you support Thread or other 6LoWPAN-based standards?</strong><br>\nImagination is an active member of several cross-industry organizations dedicated to promoting open and secure standards for IoT, including <a href=\"http://threadgroup.org/\" target=\"_blank\">the Thread Group</a>, <a href=\"https://allseenalliance.org/\" target=\"_blank\">the AllSeen Alliance</a> and <a href=\"http://prplfoundation.org/\" target=\"_blank\">the prpl Foundation</a>. We are currently working with our partners to assess the resources needed to support other 802.15.4-based stacks, including the Thread protocol.</p>\n<p><strong>What MIPS-based hardware does the IoT kit contain?</strong><br>\nThe Creator Ci40 development board is powered by cXT200, an application processor based on a reference IP subsystem designed by Imagination for IoT applications. Manufactured by GLOBALFOUNDRIES using a 40nm process node, the cXT200 SoC includes a dual-core, dual-threaded <a href=\"http://imgtec.com/mips/aptiv/interaptiv/\" target=\"_blank\">MIPS interAptiv CPU</a> and an Ensigma C4500 RPU. You can read more about our licensable IP subsystems <a href=\"http://blog.imgtec.com/powervr/imagination-tsmc-collaborate-on-iot-subsystems\" target=\"_blank\">here</a>.</p>\n<p>The Clicker board uses <a href=\"http://www.microchip.com/pagehandler/en-us/family/32bit/architecture-pic32mxfamily.html\" target=\"_blank\">a Microchip PIC32MX microcontroller</a> that integrates <a href=\"http://imgtec.com/mips/classic/\" target=\"_blank\">a MIPS M4K CPU</a>.</p>\n<p><strong>How can I request a Brillo invite?</strong><br>\nPlease refer to <a href=\"https://developers.google.com/brillo/?hl=en\" target=\"_blank\">the official Brillo page</a> from Google.</p>\n<p><strong>Why are you using Kickstarter as a launch platform?</strong><br>\nWe are using Kickstarter because it&#x2019;s a great platform for putting innovative products directly into the hands of consumers. The Creator family is a new venture for Imagination and therefore we want to use Kickstarter to hear what makers, developers and entrepreneurs have to say about our IoT kit directly. The Creator Ci40 dev kit is representative of our vision for next-generation, MIPS-based IoT architectures. A successful outcome of our crowdfunded campaign means we will deliver the IoT kit and associated software much faster compared to a traditional sales channel route.</p>\n<h5><strong>Acknowledgments </strong></h5>\n<p>The Creator program has required a huge engineering effort from Imagination and our partners. I&#x2019;d like to personally thank everyone who contributed to this project, including the various hardware and software teams at MIPS, Ensigma, IMGworks and IMGsystems. A big thank you as well to our alpha testers who provided useful feedback that helped us improve the dev kit and built some really cool applications in the process. Finally, many thanks to our partners MikroElektronika who have worked hard to get the expansion boards done in time and helped us with manufacturing and packaging.</p>\n\t</section>\n \n\t\n<aside id=\"post-author\">\n\t<div class=\"profile-image\"><img alt=\"\" src=\"http://1.gravatar.com/avatar/1ec3c2632591a8434a8bc14e62d49cb7?s=80&amp;d=mm&amp;r=g\" class=\"avatar avatar-80 photo\" width=\"80\"></div>\n\t<div class=\"profile-content\">\n\t\t<h4>About Alexandru Voica</h4>\n\t\tAfter having experienced the fast-paced world of the IP business as a junior engineer at various companies around Europe, Alexandru Voica has decided to pursue his dream of working in technology marketing and PR for Imagination Technologies. His background includes research in computer graphics at the School of Advanced Studies Sant'Anna in Pisa and a brief stint as a CPU engineer. When not planted firmly in front of his laptop, Alexandru can be found hitting the basketball court, singing along at a rock n' roll concert, enjoying art cinema or reading his favorite American authors. You can follow him on Twitter @alexvoica.\t\t\t\t\n\t\t\t</div>\n\t\n</aside>\n\t\t</div>"
    }, {
        "title": "Strus",
        "url": "http://www.project-strus.net/",
        "excerpt": "About The open source project strus provides a collection of C++ (C++98) libraries and command line tools for building a competitive full-text search engine. The strus search engine can be build&hellip;",
        "date_saved": "Thu Jul 28 20:14:45 EDT 2016",
        "html_file": "strus.html",
        "png_file": "strus.png",
        "md_file": "strus.md",
        "content": "<div><div id=\"content\">\n\t\t<h2>About</h2>\n\t\t<p class=\"description\">The open source project <i>strus</i> provides a collection of C++ (C++98) \n\t\tlibraries and command line tools for building a competitive full-text search engine.\n\t\tThe <i>strus</i> search engine can be build using any key value store database that provides an\n\t\t<a href=\"http://en.wikipedia.org/wiki/Upper_and_lower_bounds\">upper bound</a> seek function\n\t\tfor the stored key/value pairs.\n\t\tCurrently there exists an implementation based on the \n\t\t<a href=\"http://leveldb.org\">LevelDB</a> library.<br>\n\t\t</p>\n\t\t<h2>Demo system</h2>\n\t\t<p class=\"description\">There is one running demo system online to show the properties of \n\t\t<i>strus</i> under conditions of limited resources: <br> \n\t\t<a href=\"http://demo.project-strus.net/strus.html\">Search on complete wikipedia collection (English)</a>\n\t\t</p>\n\n\t\t<h2>Tutorials</h2>\n\t\t<p class=\"description\">\n\t\tA tutorial for building a simple search engine with <i>PHP</i> is available <a href=\"http://www.codeproject.com/Articles/1009582/Building-a-search-engine-with-Strus-tutorial\">here</a>.\n\t\t<br>\n\t\tAnother tutorial for building a non trivial search engine also covering the insert case with <i>Python</i> and the <i>Torrnado web framework</i> is available <a href=\"http://www.codeproject.com/Articles/1059766/Building-a-search-engine-with-Python-Tornado-and-S\">here</a>.\n\t\t</p>\n\n\t\t<h2>Installation</h2>\n\t\t<p class=\"description\">\n\t\tThere is a <a href=\"http://www.project-strus.net/installation.htm\">short installation guide</a> on how to fetch the strus \n\t\tsources from github and build them or alternatively to run strus from docker images.\n\t\t</p>\n\n\t\t<h2>Documentation</h2>\n\t\t<p class=\"description\">The documentation is work in progress.\n\t\tWhat is available can be found <a href=\"http://www.project-strus.net/documentation.htm\">here</a>.\n\t\t</p>\n\n\t\t<h2>Background</h2>\n\t\t<p class=\"description\">Why to build yet another search engine ? <a href=\"http://www.project-strus.net/story.htm\">Here</a> I tell about my motivation and the story of <i>strus</i>.\n\t\tI also try to explain, what distinguishes <i>strus</i> from other open source fulltext \n\t\tsearch engines.\n\t\t</p>\n\n\t\t<h3>News</h3>\n\t\t<table>\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Nov 28th, 2015</p></td>\n\t\t<td><p class=\"newstext\">A tutorial for building a search engine with Strus\n\t\tbased on Python and the Tornado web framework has been published on codeproject.</p></td>\n\t\t</tr>\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Nov 16th, 2015</p></td>\n\t\t<td><p class=\"newstext\">The NBLNK weighting scheme for the Wikipedia demo is now online.\n\t\tThis weighting scheme does not match documents against the query, but ranks the links\n\t\tin documents by weighting the sentences the links appear in against the query. It is\n\t\ta good example for the information extraction capabilities of strus.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Oct 29th, 2015</p></td>\n\t\t<td><p class=\"newstext\">Packages of the latest build are available now. You can fetch\n\t\tthem from the openSUSE Build Service.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Oct 21th, 2015</p></td>\n\t\t<td><p class=\"newstext\">Python bindings are available now.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Oct 12th, 2015</p></td>\n\t\t<td><p class=\"newstext\">C++ Interfaces of strus are now exception free. This means that \n\t\tlibraries and modules can be linked with a defined set of symbols exported (visibility hidden)\n\t\tand you can use different compilers to build the objects if some STL types (vector,string)\n\t\tand the calling conventions are compatible.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Aug 17th, 2015</p></td>\n\t\t<td><p class=\"newstext\">Language bindings for Java are now available. Python bindings are\n\t\t\tfollowing soon. </p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Jul 1st, 2015</p></td>\n\t\t<td><p class=\"newstext\">A docker image and a tutorial is available for strus.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">June 15th, 2015</p></td>\n\t\t<td><p class=\"newstext\">Started advertising <i>strus</i> to get some feedback and maybe even some support.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">Mai 27th, 2015</p></td>\n\t\t<td><p class=\"newstext\">The demo project of a search engine for the wikipedia collection (english) is online.</p></td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t<td><p class=\"timestamp\">April 2nd, 2015</p></td>\n\t\t<td><p class=\"newstext\">The demo project of a search engine for the wikipedia collection (english) is close to be finished.</p></td>\n\t\t</tr>\n\n\t\t</table>\n\n\t\t<p class=\"credits\">&#xA9; 2015 Patrick Frey<br>\n\t\tOriginal template design by <a href=\"http://andreasviklund.com/\">Andreas Viklund</a> / Best hosted at <a href=\"https://www.svenskadomaner.se/?ref=mall&amp;ling=en\" title=\"Svenska Dom&#xE4;ner AB\">www.svenskadomaner.se</a>\n\t\t</p>\n\t</div>\n</div>"
    }, {
        "title": "How to Earn Bitcoin Through Arbitrage Software (AKA a bot)",
        "url": "http://www.bitcoinbulls.net/how-to-earn-bitcoins-through-arbitrage-software-aka-bot/",
        "excerpt": "Interested in automated bitcoin trading software? In 2013 I developed an arbitrage bot to automatically earn bitcoins in a low-risk way. I\u2019ve never been in to day trading or forex trading. It\u2019s&hellip;",
        "date_saved": "Thu Jul 28 20:14:47 EDT 2016",
        "html_file": "how_to_earn_bitcoin_through_arbitrage_software_aka_a_bot.html",
        "png_file": "how_to_earn_bitcoin_through_arbitrage_software_aka_a_bot.png",
        "md_file": "how_to_earn_bitcoin_through_arbitrage_software_aka_a_bot.md",
        "content": "<div>\n\n\n<section class=\"row\">\n<div class=\"col-lg-8 col-md-8 col-sm-8 col-xs-12 bb-left-bar\">\n<main>\n<article class=\"container\">\n<header>\n\n\n<meta value=\"2015-01-05T00:00:00EST\">\n<meta>Interested in automated bitcoin trading software? In 2013 I developed an arbitrage bot to automatically earn bitcoins in a low-risk way.\n\n</header>\n<section>\n<p><img src=\"http://www.bitcoinbulls.net/images/how-to-earn-bitcoin-through-arbitrage.jpg\" alt=\"How To Earn Bitcoin Through Arbitrage\" title=\"How To Earn Bitcoin Through Arbitrage\">\nI\u2019ve never been in to day trading or forex trading. It\u2019s actually surprising I\u2019ve done option trading (selling) and that I\u2019m investing in bitcoin. I used to invest exclusively in index funds and mutual funds. For those who don\u2019t know index and mutual funds are some of the safest way to invest in stocks and they provide correspondingly low rates of return.</p>\n<p>However in 2013 I was a bitcoin day trader. I used a strategy called arbitrage and wrote a bot to do it. </p>\n<p>It was a relatively low risk way to earn a relatively high return.</p>\n<p><strong>Arbitrage is my favorite way to earn bitcoins.</strong> Unfortunately I am not currently involved in arbitrage. </p>\n<h2 id=\"what-is-arbitrage\">What is arbitrage?</h2>\n<p><a href=\"http://www.investopedia.com/terms/a/arbitrage.asp\">Investopedia\u2019s Definition:</a></p>\n<blockquote>\n<p>DEFINITION OF \u2018ARBITRAGE\u2019</p>\n<p>The simultaneous purchase and sale of an asset in order to profit from a difference in the price. It is a trade that profits by exploiting price differences of identical or similar financial instruments, on different markets or in different forms. Arbitrage exists as a result of market inefficiencies; it provides a mechanism to ensure prices do not deviate substantially from fair value for long periods of time.</p>\n</blockquote>\n<p>Khan Academy has a nice explanation and also covers why <strong>performing arbitrage reduces the opportunity.</strong></p>\n<iframe width=\"854\" height=\"510\" src=\"http://www.youtube.com/embed/AuCH7fHZsZ4\"></iframe>\n<p>With that in mind lets look at some bitcoin markets:</p>\n<p><img src=\"http://www.bitcoinbulls.net/images/bitcoin-exchange-price-differences-create-arbitrage-opportunity.jpg\" alt=\"Bitcoin Exchange Price Differences Create Arbitrage Opportunity\" title=\"Bitcoin Exchange Price Differences Create Arbitrage Opportunity\"></p>\n<p>Notice there are different prices for bitcoin. Based on our understanding above that means there is opportunity for bitcoin arbitrage right?</p>\n<p>Yes, Bitcoin Exchange Price Differences Create Arbitrage Opportunity.</p>\n<h2 id=\"sounds-easy\">Sounds Easy</h2>\n<h2 id=\"why-doesnt-everyone-do-it\">Why doesn\u2019t everyone do it?</h2>\n<p>Bitcoin Arbitrage sounds easy and if it were then the price differences would vanish because everyone would do it.</p>\n<p>Key components for successful arbitrage:</p>\n<ol>\n<li>\n<p><strong>Understanding total cost of entering and exiting a position.</strong> When buying bitcoin there are typically exchange fees (variable) and bank fees (fixed) or wire transfer fees.</p>\n</li>\n<li>\n<p><strong>Being able to correctly evaluate an opportunity.</strong> - If bitcoin is selling for $1K on Coinbase and $990 on Circle it looks like there is an arbitrage opportunity. Let\u2019s look deeper. Coinbase has a 1% with a 15-cent bank fee. Circle has no fees. This means the price difference will need to be greater than $10.15 for the arbitrage to be profitable.</p>\n<p>To make things more complicated most exchanges have an order book. This means the actual price we pay or sell (fill price) is affected by how many bitcoin we are buying. The price for 1 bitcoin on Coinbase might be $1k, but for 25 bitcoins the price might be $1.1K.</p>\n</li>\n<li>\n<p><strong>Speed</strong> After determining if our opportunity is profitable, and as you can see from taking into account the order book, we need to execute the trade. Both the determination of profitability and the execution need to happen quickly. Otherwise the market prices can change, losing us money.</p>\n</li>\n<li>\n<p><strong>Capital</strong> It is important to have both bitcoins and cash in place at both exchange points in roughly equal amounts, or up to the daily limits at each exchange. For example if the Coinbase sell limit is $15K / day ideally one would like to arbitrage the max $15K amount. To do that one would need to have $15K worth of bitcoin sitting at Coinbase. On the other side of the trade $15K will need to be sitting at an exchange. It is also important to understand that dollars move slower than bitcoins and don\u2019t move on weekends or bank holidays.</p>\n</li>\n<li>\n<p><strong>Access</strong> to perform arbitrage one needs access to multiple markets trading equivalent securities. For example Bitstamp and Coinbase both buy and sell bitcoin. Being in different countries generally increases fees and transfer times of moving cash.</p>\n</li>\n<li>\n<p><strong>Turnover</strong> If one doesn\u2019t have enough capital to max out the daily exchange limits it is important to increase the speed dollars can be sold from one exchange and moved to the other exchange. If it takes 3 days to move money from the exchange where the bitcoins are sold for cash to the exchange where cash is used to buy bitcoins then one will need 3x the daily limit to try and max the exchange limit each of the three days the cash is en route.</p>\n</li>\n</ol>\n<h2 id=\"how-was-i-successful\">How was I successful?</h2>\n<p>I had some advantages:</p>\n<ol>\n<li>\n<p><strong>I automated the process.</strong> I\u2019m a software developer. I realized the bitcoin markets moved too fast for me to compare two order books and execute a trade. Even with a spreadsheet doing most of the work it took about a minute or two to evaluate arbitrage profitability.</p>\n<p>Most (all?) bitcoin exchanges have APIs (a way for computers to talk to each other) and I was able to write a piece of software (arbitrage bot) that could analyze and execute arbitrage in less than ten seconds between two markets.</p>\n</li>\n<li>\n<p><strong>I moved cash fast.</strong> I realized with a 2-3 day ACH transfer time my working capital wasn\u2019t going to be enough to max out my limits everyday. I found an out-of-state bank that was able to move cash same day into one of the exchanges I was using due to a special relationship. This meant I could cycle my cash every 24 hours instead of 48-72 hours except for weekends and holidays.</p>\n</li>\n<li>\n<p><strong>One market had a pricing bug.</strong> I soon realized one of the markets I was using had a pricing bug. Typically the net (after expenses) price differences were a fraction of a percent. In the buggy market, about twice a day the net price difference would be 7%. I instructed my software to wait for those big opportunities and ignore the small opportunities.</p>\n</li>\n<li>\n<p><strong>Access to different markets in the same country.</strong> I was fortunate that I was able to access two different markets here in the U.S. with different prices. This meant I saved a lot of time and money by not needing to move money overseas or convert it to a different currency.</p>\n</li>\n</ol>\n<h2 id=\"why-dont-i-do-it-anymore\">Why don\u2019t I do it anymore?</h2>\n<p>With my software doing all the work arbitrage was a dream come true. I could (and did) spend some days at the beach and earn a nice 7% return for the day.</p>\n<p>Unfortunately my opportunity quickly dried up. One exchange stopped taking deposits and the other fixed their pricing bug. I began focusing on other ways to earn bitcoin. I haven\u2019t looked into arbitrage since 2013.</p>\n<p>Also there is no such thing as risk-free. I was aware either of the markets could go bust or getting hacked. Additionally my software could have had bugs in it. Fortunately I\u2019m a decent coder and the software processed over 500 profitable transactions worth around $150,000 over a six-week time period.</p>\n<h2 id=\"what-do-you-think\">What do you think?</h2>\n<p>Do you see opportunities for arbitrage? Or do you think there are better ways to <a href=\"http://www.bitcoinbulls.net/portfolio/\">earn bitcoins?</a> </p>\n<p>Let me know in the comments!</p>\n</section>\n<footer>\n<address>\n<img src=\"http://www.gravatar.com/avatar/7bbd083ea04a3c791e878da24c08b987.png\">\n<p>Written by <strong><a rel=\"author\" href=\"http://www.bitcoinbulls.net/bitcoin-expert/\" title=\"\" target=\"_blank\">David Smith</a> <a href=\"https://twitter.com/DavidSilvaSmith\" title=\"Follow on Twitter\" target=\"_blank\"><i class=\"fa fa-twitter\"></i></a></strong><br>\n<span class=\"muted\">David is the CEO of bitcoin bulls.</span>\n</p>\n</address>\n</footer>\n<br>\n<br>\n<br>\n<p>\n<a href=\"https://www.facebook.com/sharer.php?u=http://www.bitcoinbulls.net//how-to-earn-bitcoins-through-arbitrage-software-aka-bot/\" class=\"btn btn-md btn-success\"><i class=\"fa fa-facebook\"></i> Share on Facebook\n </a> \n\n \t<a href=\"http://twitter.com/home?status=How%20to%20Earn%20Bitcoin%20Through%20Arbitrage%20Software%20(AKA%20a%20bot)%20http://www.bitcoinbulls.net//how-to-earn-bitcoins-through-arbitrage-software-aka-bot/%20via%20@davidsilvasmith\">\n <span class=\"btn btn-md btn-success\"><i class=\"fa fa-twitter\"></i> Share on Twitter\n </span>\n \t\t</a>\n \t\t<a href=\"https://plus.google.com/share?url=http://www.bitcoinbulls.net//how-to-earn-bitcoins-through-arbitrage-software-aka-bot/\">\n <span class=\"btn btn-md btn-success\"><i class=\"fa fa-google-plus\"></i> Share on Google\n \t </span> \n \t</a>\n \n\n <a href=\"http://www.bitcoinbulls.net/cdn-cgi/l/email-protection#2c135f594e46494f58116e45584f434542091e1c6e5940405f091e1c6d5e58454f404916091e1c64435b091e1c5843091e1c694d5e42091e1c6e45584f434542091eX0Through%20Arbitrage%20Software%20(AKA%20a%20bot)&amp;body=Hi,%0A%0A%20%20%20%20I%20found%20this%20article%20on%20Bitcoin%20Bulls,%20and%20thought%20you%20would%20like%20it:%0A%0A%20%20%20%20http://www.bitcoinbulls.net//how-to-earn-bitcoins-through-arbitrage-software-aka-bot/%0A%0A%20%20%20%20Enjoy!%0A%0A%20%20%20%20\" class=\"email\" target=\"_blank\">\n \t <span class=\"btn btn-md btn-success\"><i class=\"fa fa-envelope-o\"></i> Share via Email\n \t </span> \n \t</a>\n </p>\n\n <br>\n <br>\n\n\n <div class=\"panel panel-default\">\n <p class=\"panel-heading text-center\">\n <h3 class=\"panel-title\">BE THE FIRST TO KNOW WHERE I'M INVESTING</h3>\n </p>\n <div class=\"panel-body\">\n <p class=\"text-center\">I don't want my bitcoins sitting idle if they can be earning. To be the first to know what I'm doing click the green button to join my mailing list!\n </p>\n \n\n </div>\n</div>\n\n \n \n \n <a href=\"https://disqus.com\" class=\"dsq-brlink\">comments powered by </a>\n\n\n <p>Other articles you may enjoy:\n \t\n </p><li><a href=\"http://www.bitcoinbulls.net//how-to-buy-bitcoin-the-complete-step-by-step-tutorial/\">How to Buy Bitcoin: The Complete Step-By-Step Tutorial</a></li>\n \n <li><a href=\"http://www.bitcoinbulls.net//how-to-make-money-arbitraging-bitcoin-amazon-gold/\">How to Make Money Arbitraging: Bitcoin, Amazon, &amp; Gold</a></li>\n \n <li><a href=\"http://www.bitcoinbulls.net//4-steps-to-collect-btcjam-arbitration-awards.html\">4 Steps to Collect BTCJam Arbitration Awards</a></li>\n \n <li><a href=\"http://www.bitcoinbulls.net//how-to-use-btcjam-autoinvest.html\">How to Use BTCJam AutoInvest</a></li>\n \n <li><a href=\"http://www.bitcoinbulls.net//is-regulation-relevant-to-bitcoin.html\">Is Regulation Even Relevant to Bitcoin?</a></li>\n \n \n\n</article>\n\n<p>\nAll the information on this website is published in good faith and for general information purpose only. www.bitcoinbulls.net does not make any warranties about the completeness, reliability and accuracy of this information. Any action you take upon the information you find on this website (www.bitcoinbulls.net), is strictly at your own risk. www.bitcoinbulls.net will not be liable for any losses and/or damages in connection with the use of our website.\n</p>\n<p>\nFrom our website, you can visit other websites by following hyperlinks to such external sites. While we strive to provide only quality links to useful and ethical websites, we have no control over the content and nature of these sites. These links to other websites do not imply a recommendation for all the content found on these sites. Site owners and content may change without notice and may occur before we have the opportunity to remove a link which may have gone 'bad'.\n</p>\n<p>\nPlease be also aware that when you leave our website, other sites may have different privacy policies and terms which are beyond our control. Please be sure to check the Privacy Policies of these sites as well as their \"Terms of Service\" before engaging in any business or uploading any information.\n</p>\n\n<h3>Consent</h3>\n<p>\nBy using our website, you hereby consent to our disclaimer and agree to its terms.\n</p><h3>Update</h3>This site disclaimer was last updated on: Sunday, August 23rd, 2015<br><em> \u00b7 Should we update, amend or make any changes to this document, those changes will be prominently posted here.</em>\n </main>\n \n\n \n\n \n\n </div>\n \n</section>\n\n\n\n\n\n\n\n \n \n \n \n\n</div>\n"
    }, {
        "title": "Good Leaders are game changers: Raft & Paxos",
        "url": "http://mysqlhighavailability.com/good-leaders-are-game-changers-raft-paxos/",
        "excerpt": "Introduction Consensus is a key component to providing fault-tolerant services such as synchronously replicated data stores, non-blocking atomic commitment and Paxos and Raft are among the most&hellip;",
        "date_saved": "Thu Jul 28 20:14:48 EDT 2016",
        "html_file": "good_leaders_are_game_changers_raft__paxos.html",
        "png_file": "good_leaders_are_game_changers_raft__paxos.png",
        "md_file": "good_leaders_are_game_changers_raft__paxos.md",
        "content": "<div><div class=\"entry-content\">\n\t\t<p><strong>Introduction</strong></p>\n\n<p>Consensus is a key component to providing fault-tolerant services such as synchronously replicated data stores, non-blocking atomic commitment and Paxos and Raft are among the most popular consensus algorithms. Paxos has been widely studied by researchers while Raft has become very popular among engineers.</p>\n<p>The Raft&#x2019;s popularity comes from the fact that despite all the interest around Paxos among researchers, engineers still have to read several papers to be able to understand and create a solution that solves a practical problem and provides good performance in terms of communication steps, number of messages and resource utilization. Besides, they still have to fill in some gaps with home-made implementations that sometimes turn out to be really fragile.</p>\n<p>In order to overcome this hurdle, Diego Ongaro and John Ousterhout created a new consensus algorithm called Raft which was designed to be more understandable and provide a better foundation for building practical systems than Paxos [2]. Although Raft brings some novelty to the complex world of Distributed Systems, it still shares a lot of things in common with Paxos. For example, both elect a single leader which is responsible for deciding whether the participants in the consensus have reached an agreement or not.</p>\n<p>In this blog post, we will briefly show the similarities and differences between Paxos and Raft. Firstly, we will describe what a consensus algorithm is. Secondly, we will describe how to build a replication solution using instances of a consensus algorithm. Then we will describe how leaders are elected in both algorithms and some safety and liveness properties.</p>\n<p>Note that this blog is not a deep dive into Paxos nor Raft but an overview on both algorithms. Users willing to understand their subtle details should read the following papers: [1, 2, 3, 4].</p>\n<p><strong>Consensus</strong></p>\n\n<p>Distributed systems can be characterized by a set of safety and liveness&#xA0;properties or the mix of the two. Informally, safety is a property that&#xA0;stipulates that nothing bad happens during execution of a program. On the&#xA0;other hand, liveness stipulates that something good eventually happens.</p>\n<p>In consensus, whose goal is to make a set of servers agree on a value, the&#xA0;liveness is characterized by the fact that eventually every server should&#xA0;decide on a value. Safety states that no two servers decide differently.</p>\n<p>Unfortunately, a server may take longer to execute an algorithm step than&#xA0;others and may crash and stop processing the consensus algorithm. Messages&#xA0;might get delayed, delivered out of order or dropped. These aspects make&#xA0;the implementation of a consensus algorithm really hard and oblige them to&#xA0;be indulgent and preserve safety during &#x2018;instability&#x2019; periods [5]. Exactly&#xA0;when the system will become &#x2018;stable&#x2019; though is unknown but eventually it&#xA0;will remain &#x2018;stable&#x2019; long enough so that the consensus algorithm can achieve&#xA0;a decision.</p>\n<p>In a stable run, the system requires two communication steps: leader &#x2013;(1)&#x2013;&gt;&#xA0;servers &#x2013;(2)&#x2013;&gt; leader:</p>\n<p><a href=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/consensus-image1.png\"><img class=\" wp-image-4834 aligncenter\" src=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/consensus-image1-300x134.png\" alt=\"consensus-image\" width=\"316\"></a></p>\n<p>The leader sends the value it wants to achieve an agreement on to all servers&#xA0;and each server replies back to the leader notifying that it has accepted the&#xA0;request. So when the leader gets accept messages from a quorum of servers,&#xA0;agreement is reached.</p>\n<p>Note that we have omitted two messages from this analysis: the message that&#xA0;forwards a value which a server wants to reach an agreement on to the leader&#xA0;and the message that informs servers that an agreement on the value was&#xA0;reached. The latter message may not be necessary if servers send the accept&#xA0;message to all servers or the information is piggybacked in the next message&#xA0;the leader sends to the servers.</p>\n<p><strong>Replication</strong></p>\n\n<p>In order to implement replication, several instances of a consensus algorithm&#xA0;are run and each instance is bounded to a slot entry in the replicated log&#xA0;which might be persisted on disk or not [6]. The leader may run several&#xA0;instances in parallel to fill in different slots and thus increase performance.&#xA0;However, the degree of parallelism is highly dependent on the hardware, network&#xA0;in use and the application [7].</p>\n<p>Each leader is uniquely responsible for a round or term which is monotonically&#xA0;increased when a new leader is elected:</p>\n<p><a href=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/slots-image.png\"><img class=\"alignnone size-full wp-image-4831\" src=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/slots-image.png\" alt=\"slots-image\" width=\"251\"></a></p>\n<p><strong>Leader Election</strong></p>\n\n<p>Both Paxos and Raft assume that eventually there will be a leader that all&#xA0;stable servers trust and a single leader is responsible for a term. A&#xA0;new leader will propose a new term, which must be greater than the previous&#xA0;one, if the current leader is suspected to have failed.</p>\n<p>In Raft, a server sends a &#x201C;leader request&#x201D; to other servers and expects a reply from a&#xA0;majority of them before considering itself a leader. If it does not get a reply&#xA0;from a majority of servers or a message saying that another server has become&#xA0;the leader, it will timeout and start over a new election process. Servers can&#xA0;only vote for one leader request per term.</p>\n<p>Paxos, though, does not really define how a server becomes a leader. For simplicity, researchers exploit the a-priori rank among processes such as the server&#x2019;s id&#xA0;(e.g. an integer). So the server with the highest or the lowest rank that has&#xA0;not been suspected becomes the new leader [8]. Although, this is a simple and&#xA0;intuitive solution, it requires to divide the terms&#x2019; space among servers: new&#xA0;term = old term + N, where N is the maximum number of servers.</p>\n<p>Raft imposes a restriction to the leader election process: only the most&#xA0;up-to-date server can become a leader. Basically, it guarantees that a leader has&#xA0;all committed entries from previous terms and does not need to learn about old&#xA0;entries in the replicated log that it is not aware of. So after becoming a&#xA0;leader, a server can simply start &#x201C;imposing&#x201D; its &#x201C;wishes&#x201D; on other servers.</p>\n<p>Paxos, however, allows any server to become a leader. So a server has to learn&#xA0;about the past before starting &#x201C;imposing&#x201D; its &#x201C;wishes&#x201D; on other servers and as usual, flexibility comes along with additional complexity.</p>\n<p><a href=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/leader-image.png\"><img class=\"alignnone size-full wp-image-4832\" src=\"http://mysqlhighavailability.com/wp-content/uploads/2015/11/leader-image.png\" alt=\"leader-image\" width=\"152\"></a></p>\n<p>In Raft, either Server 1 or 2 could become a leader. In Paxos, any of them.</p>\n<p><strong>Safety</strong></p>\n\n<p>Due to the asynchronous nature of the system, servers may perceive failures&#xA0;and elections at different times. This means that servers may temporarily&#xA0;operate in different terms but eventually all servers will converge to a&#xA0;single term.</p>\n<p>In any case, if a server gets a message from a term older than its current&#xA0;one, this means that the sender either was the leader or is trying to become&#xA0;one for an old term and the receiver must reject the message and inform the&#xA0;sender.</p>\n<p>If a server gets a message from a term greater than its current one, this&#xA0;means that there is a new term and a new leader and the receiver must start&#xA0;accepting the leader&#x2019;s &#x201C;wishes&#x201D;.</p>\n<p>However, both algorithms must carefully avoid overwriting a decision&#xA0;made by an old leader and thus violating safety. This is where Raft and&#xA0;Paxos diverge and where we can see the simple and elegant approach used&#xA0;by Raft.</p>\n<p>Raft imposes restrictions on the leader election algorithm as aforementioned&#xA0;and only the most up-to-date server can become a leader:</p>\n<blockquote><p>Raft determines which of two logs is more up-to-date by comparing the&#xA0;index and term of the last entries in the logs. If the logs have last&#xA0;entries with different terms, then the log with the later term is more&#xA0;up-to-date. If the logs end with the same term, then whichever log is&#xA0;longer is more up-to-date.</p></blockquote>\n<p>Then the leader only needs to ensure that the replicated log in the servers&#xA0;eventually converge, which is done by imposing the following restriction: A server cannot accept a value for slot <code>\"n\"</code> if it has not previously accepted&#xA0;a value for slot <code>\"n - 1\"</code>. The leader includes the term of the previous log&#xA0;entry in the current request and the server only accepts the request if the&#xA0;term of its previous request matches the one sent by the leader. Otherwise, it&#xA0;asks the leader to send the previous missing request first, and so forth for <code>\"n - 2\"</code> and&#xA0;<code>\"n - 3\"</code>, etc.</p>\n<p>In Paxos, any server can become a leader so that the task of avoiding that a&#xA0;decision is not overwritten becomes a little bit more complex as the new leader&#xA0;leader has to find out what other servers have processed so far before starting&#xA0;&#x201C;imposing&#x201D; its &#x201C;wishes&#x201D; on others. This is the prepare phase in the Paxos&#xA0;algorithm and has to be run once after the new leader is elected. The prepare&#xA0;message contains the new term and the slot number <code>\"n\"</code> through which agreement has&#xA0;been reached for all previous entries. Servers reply with information on slots&#xA0;greater than <code>\"n\"</code> and this information is used to restrict the values that the&#xA0;new leader will propose for these slots.</p>\n<p><strong>Liveness</strong></p>\n\n<p>Progress is guaranteed as long as the majority of servers are alive [9].</p>\n<p><strong>Conclusions</strong></p>\n\n<p>We have shown the similarities between Raft and Paxos and that the key difference&#xA0;relies on how a leader is elected and preserves safety. In Raft, only the most&#xA0;up-to-date server can become a leader while Paxos allows any server to become a&#xA0;leader. This flexibility, however, comes along with additional complexity.</p>\n<p>Note that the leader in both Raft and Paxos might become a bottleneck as all the&#xA0;traffic goes through it. The leader handles <code>O(N)</code> message while a non-leader handles&#xA0;<code>O(1)</code>.</p>\n<p>There are other Paxos-based protocols that support multiple leaders such as&#xA0;Mencius [10] or order non-conflicting requests in parallel such as Egalitarian&#xA0;Paxos or Generalized Paxos [11, 12]. It would be great to see Raft-based protocols&#xA0;with similar optimizations.</p>\n<p><strong>References</strong></p>\n\n<p>1 &#x2013; <a title=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf\" href=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf\" target=\"_blank\">Paxos made simple</a><br>\n2 &#x2013; <a title=\"https://ramcloud.stanford.edu/raft.pdf\" href=\"https://ramcloud.stanford.edu/raft.pdf\" target=\"_blank\">In Search of an Understandable Consensus Algorithm</a><br>\n3 &#x2013; <a title=\"http://www.cs.utexas.edu/~lorenzo/corsi/cs380d/papers/deconstr_paxos.pdf\" href=\"http://www.cs.utexas.edu/~lorenzo/corsi/cs380d/papers/deconstr_paxos.pdf\" target=\"_blank\">Desconstructing Paxos</a><br>\n4 &#x2013; <a title=\"http://www.zurich.ibm.com/~cca/papers/pax.pdf\" href=\"http://www.zurich.ibm.com/~cca/papers/pax.pdf\" target=\"_blank\">Yet Another Visit to Paxos</a><br>\n5 &#x2013; <a title=\"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf\" href=\"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf\" target=\"_blank\">Consensus in the presence of partial synchrony</a><br>\n6 &#x2013; <a title=\"http://research.microsoft.com/en-us/people/weic/disc98_recovery.pdf\" href=\"http://research.microsoft.com/en-us/people/weic/disc98_recovery.pdf\" target=\"_blank\">Failure Detection and Consensus in the Crash-Recovery Model</a><br>\n7 &#x2013; <a title=\"http://dl.acm.org/citation.cfm?id=2183688\" href=\"http://dl.acm.org/citation.cfm?id=2183688\" target=\"_blank\">Tuning paxos for high-throughput with batching and pipelining</a><br>\n8 &#x2013; <a title=\"http://www.distributedprogramming.net/\" href=\"http://www.distributedprogramming.net/\" target=\"_blank\">Introduction to Reliable and Secure Distributed Programming</a><br>\n9 &#x2013; <a title=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/lower-bound.pdf\" href=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/lower-bound.pdf\" target=\"_blank\">Lower Bounds for Asynchronous Consensus</a><br>\n10 &#x2013; <a title=\"http://sysnet.ucsd.edu/~yamao/pub/mencius-osdi.pdf\" href=\"http://sysnet.ucsd.edu/~yamao/pub/mencius-osdi.pdf\" target=\"_blank\">Mencius: Building Efficient Replicated State Machines for WANs</a><br>\n11 &#x2013; <a title=\" https://www.cs.cmu.edu/~dga/papers/epaxos-sosp2013.pdf\" href=\"http://www.cs.cmu.edu/~dga/papers/epaxos-sosp2013.pdf\" target=\"_blank\">There Is More Consensus in Egalitarian Parliaments</a><br>\n12 &#x2013; <a title=\"http://research.microsoft.com/pubs/64631/tr-2005-33.pdf\" href=\"http://research.microsoft.com/pubs/64631/tr-2005-33.pdf\" target=\"_blank\">Generalized Consensus and Paxos</a></p>\n\n\t</div>\n\t\n\t\n</div>"
    }, {
        "title": "NARKOZ/hacker-scripts",
        "url": "https://github.com/narkoz/hacker-scripts",
        "excerpt": "Based on a true story: xxx: OK, so, our build engineer has left for another company. The dude was literally living inside the terminal. You know, that type of a guy who loves Vim, creates diagrams in&hellip;",
        "date_saved": "Thu Jul 28 20:14:50 EDT 2016",
        "html_file": "narkozhackerscripts.html",
        "png_file": "narkozhackerscripts.png",
        "md_file": "narkozhackerscripts.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Based on a <em><a href=\"https://www.jitbit.com/alexblog/249-now-thats-what-i-call-a-hacker/\">true\nstory</a></em>:</p>\n\n<blockquote>\n<p>xxx: OK, so, our build engineer has left for another company. The dude was literally living inside the terminal. You know, that type of a guy who loves Vim, creates diagrams in Dot and writes wiki-posts in Markdown... If something - anything - requires more than 90 seconds of his time, he writes a script to automate that.</p>\n\n<p>xxx: So we're sitting here, looking through his, uhm, \"legacy\"</p>\n\n<p>xxx: You're gonna love this</p>\n\n<p>xxx: <a href=\"https://github.com/NARKOZ/hacker-scripts/blob/master/smack-my-bitch-up.sh\"><code>smack-my-bitch-up.sh</code></a> - sends a text message \"late at work\" to his wife (apparently). Automatically picks reasons from an array of strings, randomly. Runs inside a cron-job. The job fires if there are active SSH-sessions on the server after 9pm with his login.</p>\n\n<p>xxx: <a href=\"https://github.com/NARKOZ/hacker-scripts/blob/master/kumar-asshole.sh\"><code>kumar-asshole.sh</code></a> - scans the inbox for emails from \"Kumar\" (a DBA at our clients). Looks for keywords like \"help\", \"trouble\", \"sorry\" etc. If keywords are found - the script SSHes into the clients server and rolls back the staging database to the latest backup. Then sends a reply \"no worries mate, be careful next time\".</p>\n\n<p>xxx: <a href=\"https://github.com/NARKOZ/hacker-scripts/blob/master/hangover.sh\"><code>hangover.sh</code></a> - another cron-job that is set to specific dates. Sends automated emails like \"not feeling well/gonna work from home\" etc. Adds a random \"reason\" from another predefined array of strings. Fires if there are no interactive sessions on the server at 8:45am.</p>\n\n<p>xxx: (and the oscar goes to) <a href=\"https://github.com/NARKOZ/hacker-scripts/blob/master/fucking-coffee.sh\"><code>fucking-coffee.sh</code></a> - this one waits exactly 17 seconds (!), then opens a telnet session to our coffee-machine (we had no frikin idea the coffee machine is on the network, runs linux and has a TCP socket up and running) and sends something like <code>sys brew</code>. Turns out this thing starts brewing a mid-sized half-caf latte and waits another 24 (!) seconds before pouring it into a cup. The timing is exactly how long it takes to walk to the machine from the dudes desk.</p>\n\n<p>xxx: holy sh*t I'm keeping those</p>\n</blockquote>\n\n<p>Original: <a href=\"http://bash.im/quote/436725\">http://bash.im/quote/436725</a> (in Russian)<br>\nPull requests with other implementations (Python, Perl, Shell, etc) are welcome.</p>\n\n<h2><a id=\"user-content-usage\" class=\"anchor\" href=\"https://github.com/narkoz/hacker-scripts#usage\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Usage</h2>\n\n<p>You need these environment variables:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># used in `smack-my-bitch-up` and `hangover` scripts</span>\nTWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nTWILIO_AUTH_TOKEN=yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\n\n<span class=\"pl-c\"># used in `kumar_asshole` script</span>\nGMAIL_USERNAME=admin@example.org\nGMAIL_PASSWORD=password</pre></div>\n\n<p>For Ruby scripts you need to install gems:\n<code>gem install dotenv twilio-ruby gmail</code></p>\n\n<h2><a id=\"user-content-cron-jobs\" class=\"anchor\" href=\"https://github.com/narkoz/hacker-scripts#cron-jobs\"><svg class=\"octicon octicon-link\" height=\"16\" width=\"16\"><path></path></svg></a>Cron jobs</h2>\n\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"># Runs `smack-my-bitch-up.sh` monday to friday at 9:20 pm.</span>\n20 21 <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> 1-5 /path/to/scripts/smack-my-bitch-up.sh <span class=\"pl-k\">&gt;&gt;</span> /path/to/smack-my-bitch-up.log <span class=\"pl-k\">2&gt;&amp;1</span>\n\n<span class=\"pl-c\"># Runs `hangover.sh` monday to friday at 8:45 am.</span>\n45 8 <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> 1-5 /path/to/scripts/hangover.sh <span class=\"pl-k\">&gt;&gt;</span> /path/to/hangover.log <span class=\"pl-k\">2&gt;&amp;1</span>\n\n<span class=\"pl-c\"># Runs `kumar-asshole.sh` every 10 minutes.</span>\n<span class=\"pl-k\">*</span>/10 <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> /path/to/scripts/kumar-asshole.sh\n\n<span class=\"pl-c\"># Runs `fucking-coffee.sh` hourly from 9am to 6pm on weekdays.</span>\n0 9-18 <span class=\"pl-k\">*</span> <span class=\"pl-k\">*</span> 1-5 /path/to/scripts/fucking-coffee.sh</pre></div>\n\n\n\n<p>Code is released under WTFPL.</p>\n</article>\n </div>"
    }, {
        "title": "karpathy/neuraltalk2",
        "url": "https://github.com/karpathy/neuraltalk2",
        "excerpt": "Recurrent Neural Network captions your images. Now much faster and better than the original NeuralTalk. Compared to the origianl NeuralTalk this implementation is batched, uses Torch, runs on a GPU,&hellip;",
        "date_saved": "Thu Jul 28 20:14:51 EDT 2016",
        "html_file": "karpathyneuraltalk2.html",
        "png_file": "karpathyneuraltalk2.png",
        "md_file": "karpathyneuraltalk2.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>Recurrent Neural Network captions your images. Now much faster and better than the original <a href=\"https://github.com/karpathy/neuraltalk\">NeuralTalk</a>. Compared to the origianl NeuralTalk this implementation is <strong>batched, uses Torch, runs on a GPU, and supports CNN finetuning</strong>. All of these together result in about ~200x increase in training speed and in a much better performance.</p>\n\n<p>This is an early code release that works great but is slightly hastily released and probably requires some code reading of inline comments (which I tried to be quite good with in general). I will be improving it over time but wanted to push the code out there because I promised it to too many people.</p>\n\n<p>This current code (and the pretrained model) gets ~0.9 CIDEr, which would place it around spot #8 on the <a href=\"https://competitions.codalab.org/competitions/3221#results\">codalab leaderboard</a>. I will submit the actual result soon.</p>\n\n<p><a href=\"https://camo.githubusercontent.com/684a313b08ebab8d1d0aec023e84ba59d57e8cdc/68747470733a2f2f7261772e6769746875622e636f6d2f6b617270617468792f6e657572616c74616c6b322f6d61737465722f7669732f7465617365722e6a706567\" target=\"_blank\"><img src=\"https://raw.github.com/karpathy/neuraltalk2/master/vis/teaser.jpeg\" alt=\"teaser results\"></a></p>\n\n<p>You can find a few more example results on the <a href=\"http://cs.stanford.edu/people/karpathy/neuraltalk2/demo.html\">demo page</a>. These results will improve a bit more once the last few bells and whistles are in place (e.g. beam search, ensembling, reranking).</p>\n\n<h3><a id=\"user-content-requirements\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#requirements\"></a>Requirements</h3>\n\n<p>This code is written in Lua and requires <a href=\"http://torch.ch/\">Torch</a>. If you're on Ubuntu, installing Torch in your home directory may look something like: </p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps <span class=\"pl-k\">|</span> bash\n$ git clone https://github.com/torch/distro.git <span class=\"pl-k\">~</span>/torch --recursive\n$ <span class=\"pl-c1\">cd</span> <span class=\"pl-k\">~</span>/torch<span class=\"pl-k\">;</span> \n$ ./install.sh <span class=\"pl-c\"># and enter \"yes\" at the end to modify your bashrc</span>\n$ <span class=\"pl-c1\">source</span> <span class=\"pl-k\">~</span>/.bashrc</pre></div>\n\n<p>See the Torch installation documentation for more details. After Torch is installed we need to get a few more packages using <a href=\"https://luarocks.org/\">LuaRocks</a> (which already came with the Torch install). In particular:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ luarocks install nn\n$ luarocks install nngraph \n$ luarocks install image </pre></div>\n\n<p>If you'd like to train on an NVIDIA GPU using CUDA (which you really, really want to since we're using a VGGNet), you'll of course need a GPU, and you will have to install the <a href=\"https://developer.nvidia.com/cuda-toolkit\">CUDA Toolkit</a>. Then get the <code>cutorch</code> and <code>cunn</code> packages:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ luarocks install cutorch\n$ luarocks install cunn</pre></div>\n\n<p>We're also going to need the <a href=\"http://www.kyne.com.au/%7Emark/software/lua-cjson-manual.html\">cjson</a> library so that we can load/save json files. Look under their section 2.4 for easy luarocks install.</p>\n\n<p>If you'd like to train your models you will need <a href=\"https://github.com/szagoruyko/loadcaffe\">loadcaffe</a>, since we are using the VGGNet.</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>luarocks install loadcaffe</pre></div>\n\n<p>Lastly, if you want to train you will also need to install <a href=\"https://github.com/deepmind/torch-hdf5\">torch-hdf5</a>, and <a href=\"http://www.h5py.org/\">h5py</a>, since we will be using hdf5 files to store the preprocessed data.</p>\n\n<h3><a id=\"user-content-i-just-want-to-caption-images\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#i-just-want-to-caption-images\"></a>I just want to caption images</h3>\n\n<p>In this case you want to run the evaluation script on a pretrained model checkpoint. \nI trained a decent one on the <a href=\"http://mscoco.org/\">MS COCO dataset</a> that you can run on your images.\nThe pretrained checkpoint can be downloaded here: <a href=\"http://cs.stanford.edu/people/karpathy/neuraltalk2/checkpoint_v1.zip\">pretrained checkpoint link</a> (600MB). It's large because it contains the weights of a finetuned VGGNet. Now place all your images of interest into a folder, e.g. <code>blah</code>, and run\nthe eval script:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ th <span class=\"pl-c1\">eval</span>.lua -model /path/to/model -image_folder /path/to/image/directory</pre></div>\n\n<p>The eval script will create an <code>vis.json</code> file inside the <code>vis</code> folder, which can then be visualized with the provided HTML interface:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ <span class=\"pl-c1\">cd</span> vis\n$ python -m SimpleHTTPServer</pre></div>\n\n<p>Now visit <code>localhost:4000</code> in your browser and you should see your predicted captions.</p>\n\n<p>You can see an <a href=\"http://cs.stanford.edu/people/karpathy/neuraltalk2/demo.html\">example visualization demo page here</a>.</p>\n\n<h3><a id=\"user-content-id-like-to-train-my-own-network-on-ms-coco\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#id-like-to-train-my-own-network-on-ms-coco\"></a>I'd like to train my own network on MS COCO</h3>\n\n<p>Great, first we need to some preprocessing. Head over to the <code>coco/</code> folder and run the IPython notebook to download the dataset and do some very simple preprocessing. The notebook will combine the train/val data together and create a very simple and small json file that contains a large list of image paths, and raw captions for each image, of the form:</p>\n\n<pre><code>[{ file_path: 'path/img.jpg', captions: ['a caption', ...] }, ...]\n</code></pre>\n\n<p>Once we have this, we're ready to invoke the <code>prepro.py</code> script, which will read all of this in and create a dataset (an hdf5 file and a json file) ready for consumption in the Lua code. For example, for MS COCO we can run the prepro file as follows:</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ python prepro.py --input_json coco/coco_raw.json --num_val 5000 --num_test 5000 --images_root coco/images --word_count_threshold 5 --output_json coco/cocotalk.json --output_h5 coco/cocotalk.h5</pre></div>\n\n<p>This is telling the script to read in all the data (the images and the captions), allocate 5000 images for val/test splits respectively, and map all words that occur &lt;= 5 times to a special <code>UNK</code> token. The resulting <code>json</code> and <code>h5</code> files are about 30GB and contain everything we want to know about the dataset. The last thing we need is the <a href=\"http://www.robots.ox.ac.uk/%7Evgg/research/very_deep/\">VGG-16 caffe checkpoint</a>, (under Models section, \"16-layer model\" bullet point).</p>\n\n<p>We're now ready to train!</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$ th train.lua -input_h5 coco/cocotalk.h5 -input_json coco/cocotalk.json</pre></div>\n\n<p>The train script will take over, and start dumping checkpoints into the folder specified by <code>checkpoint_path</code> (default = current folder). You also have to point the train script to the VGGNet protos (see the options inside <code>train.lua</code>).</p>\n\n<p>If you'd like to evaluate BLEU/METEOR/CIDEr scores during training, turn on <code>language_eval</code> option, but don't forget to download the <a href=\"https://github.com/tylin/coco-caption\">cococaption code</a> into <code>coco-caption</code> directory.</p>\n\n<h3><a id=\"user-content-id-like-to-train-on-my-own-data\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#id-like-to-train-on-my-own-data\"></a>I'd like to train on my own data</h3>\n\n<p>No problem, create a json file in the exact same form as before:</p>\n\n<pre><code>[{ file_path: 'path/img.jpg', captions: ['a caption', ...] }, ...]\n</code></pre>\n\n<p>and invoke the <code>prepro.py</code> script to preprocess all the images and data into and hdf5 file and json file. Then invoke <code>train.lua</code> (see detailed options inside code).</p>\n\n<p><strong>A few notes on training.</strong> When you're training you might want to proceed in stages. Notice that by default finetuning is disabled. When you train with no finetuning (I found Adam works best, by the way) your score will climb to ~0.7 CIDEr in ~day and then get stuck. At this point I like to stop the training, and rstart training but now with finetuning (i.e. <code>-finetune_cnn_after 0</code>), and using the flag <code>start_from</code> to continue from the previous checkpoint. You'll see your score rise up to about 0.9 CIDEr over ~2 days or so (on MS COCO).</p>\n\n<h3><a id=\"user-content-license\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#license\"></a>License</h3>\n\n<p>BSD License.</p>\n\n<h3><a id=\"user-content-acknowledgements\" class=\"anchor\" href=\"https://github.com/karpathy/neuraltalk2#acknowledgements\"></a>Acknowledgements</h3>\n\n<p>Parts of this code were written in collaboration with my labmate <a href=\"http://cs.stanford.edu/people/jcjohns/\">Justin Johnson</a>. </p>\n\n<p>I'm very grateful for <a href=\"https://developer.nvidia.com/deep-learning\">NVIDIA</a>'s support in providing GPUs that made this work possible.</p>\n\n<p>I'm also very grateful to the maintainers of Torch for maintaining a wonderful deep learning library.</p>\n</article>\n </div>"
    }, {
        "title": "mateogianolio/nblas",
        "url": "https://github.com/mateogianolio/nblas",
        "excerpt": "C++ bindings for CBLAS (Basic Linear Algebra Subprograms). Developed in parallel with vectorious, where it will eventually be included. $&#xA0;npm install mateogianolio/nblas $ npm test $&#xA0;npm&hellip;",
        "date_saved": "Thu Jul 28 20:14:52 EDT 2016",
        "html_file": "mateogianolionblas.html",
        "png_file": "mateogianolionblas.png",
        "md_file": "mateogianolionblas.md",
        "content": "<div><article class=\"markdown-body entry-content\">\n\n<p>C++ bindings for CBLAS (Basic Linear Algebra Subprograms). Developed in parallel with <a href=\"https://github.com/mateogianolio/vectorious\">vectorious</a>, where it will eventually be included.</p>\n\n<div class=\"highlight highlight-source-shell\"><pre>$&#xA0;npm install mateogianolio/nblas\n$ npm <span class=\"pl-c1\">test</span>\n$&#xA0;npm run benchmark</pre></div>\n\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> nblas <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nblas<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> f64a <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Float64Array</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]),\n f64b <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Float64Array</span>([<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>]);\n\n<span class=\"pl-smi\">nblas</span>.<span class=\"pl-en\">ddot</span>(<span class=\"pl-c1\">3</span>, f64a, <span class=\"pl-c1\">1</span>, f64b, <span class=\"pl-c1\">1</span>); <span class=\"pl-c\">// 32</span>\n\n<span class=\"pl-k\">var</span> f32a <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Float32Array</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]),\n f32b <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Float32Array</span>([<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>]);\n\n<span class=\"pl-smi\">nblas</span>.<span class=\"pl-en\">sdot</span>(<span class=\"pl-c1\">3</span>, f32a, <span class=\"pl-c1\">1</span>, f32b, <span class=\"pl-c1\">1</span>); <span class=\"pl-c\">// 32</span></pre></div>\n\n<p>Double precision functions expect <code>Float64Array</code> vectors, single precision functions expect <code>Float32Array</code> vectors.</p>\n\n<h3><a id=\"user-content-dot\" class=\"anchor\" href=\"https://github.com/mateogianolio/nblas#dot\"></a><code>dot</code></h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><p> Produces a single precision dot product from two single precision vectors <code>x</code> and <code>y</code> of size <code>n</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">float</span> <span class=\"pl-en\">sdot</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *y, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n<li class=\"task-list-item\"><p> Produces a double precision dot product from two double precision vectors <code>x</code> and <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">double</span> <span class=\"pl-en\">ddot</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *y, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n</ul>\n\n<h3><a id=\"user-content-axpy\" class=\"anchor\" href=\"https://github.com/mateogianolio/nblas#axpy\"></a><code>axpy</code></h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><p> Adds a double precision vector <code>x</code> scaled with a double precision scalar <code>alpha</code> to another double precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">daxpy</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> alpha,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *y, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n<li class=\"task-list-item\"><p> Adds a single precision vector <code>x</code> scaled with a single precision scalar <code>alpha</code> to another single precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">saxpy</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> alpha,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *y, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n</ul>\n\n<h3><a id=\"user-content-scal\" class=\"anchor\" href=\"https://github.com/mateogianolio/nblas#scal\"></a><code>scal</code></h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><p> Scales a double precision vector <code>x</code> with a double precision scalar <code>alpha</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">dscal</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> alpha,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x\n);</pre></div></li>\n<li class=\"task-list-item\"><p> Scales a single precision vector <code>x</code> with a single precision scalar <code>alpha</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">sscal</span>(\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> alpha,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *x, <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x\n);</pre></div></li>\n</ul>\n\n<h3><a id=\"user-content-copy\" class=\"anchor\" href=\"https://github.com/mateogianolio/nblas#copy\"></a><code>copy</code></h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><p> Copies a double precision vector <code>x</code> to a double precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">dcopy</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *y,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n<li class=\"task-list-item\"><p> Scales a single precision vector <code>x</code> to a single precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">scopy</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *y,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n</ul>\n\n<h3><a id=\"user-content-swap\" class=\"anchor\" href=\"https://github.com/mateogianolio/nblas#swap\"></a><code>swap</code></h3>\n\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><p> Swaps the elements of a double precision vector <code>x</code> with a double precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">dswap</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">double</span> *y,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n<li class=\"task-list-item\"><p> Swaps a single precision vector <code>x</code> with a single precision vector <code>y</code>.</p>\n\n<div class=\"highlight highlight-source-c++\"><pre><span class=\"pl-k\">void</span> <span class=\"pl-en\">sswap</span> (\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> n,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_x,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">float</span> *y,\n <span class=\"pl-k\">const</span> <span class=\"pl-k\">int</span> inc_y\n);</pre></div></li>\n</ul>\n</article>\n </div>"
    }, {
        "title": "spectro\u2026 adventures in Go (lang)",
        "url": "http://markcrossfield.co.uk/2015-08-22-spectro-adventures-in-go.html",
        "excerpt": "My latest spare time project has been writing a general purpose command line heat map tool designed to visualise the distribution of streams of decimal numbers (not necessarily integers) representing&hellip;",
        "date_saved": "Thu Jul 28 20:14:54 EDT 2016",
        "html_file": "spectrou2026_adventures_in_go_lang.html",
        "png_file": "spectrou2026_adventures_in_go_lang.png",
        "md_file": "spectrou2026_adventures_in_go_lang.md",
        "content": "<div><div class=\"post\">\n \n\n<p>My latest spare time project has been writing a general purpose command line heat map tool designed to visualise the distribution of streams of decimal numbers (not necessarily integers) representing something like latency, duration or size. I&#x2019;ve called it <a href=\"https://github.com/mrmanc/spectro\">spectro</a> as it&#x2019;s output resembles a <a href=\"https://en.wikipedia.org/wiki/Spectrogram\">spectrogram</a>.</p>\n\n<p>It was inspired by <a href=\"https://twitter.com/sysdig/status/618826906310324224\">this Sysdig tweet</a> for a monitoring tool with built in command line visualisation, and follows on from my <a href=\"https://github.com/mrmanc/log-ninja#distribution\">distribution Awk script</a> which displays an actual histogram (although it also has some real-time functionality).</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p lang=\"en\" dir=\"ltr\">You've never seen a command line tool do this. Visualizing real-time latency spectrograms: <a href=\"https://t.co/KiLRNxMnmW\">https://t.co/KiLRNxMnmW</a> <a href=\"http://t.co/TSMrLAGWmM\">pic.twitter.com/TSMrLAGWmM</a></p>&#x2014; Sysdig (@sysdig) <a href=\"https://twitter.com/sysdig/status/618826906310324224\">July 8, 2015</a></blockquote>\n\n\n\n<p>I decided to use this as an excuse to experiment with Go/golang for the following reasons:</p>\n\n<ul>\n<li>built in simple dependency management (just import and you are good to go)</li>\n<li>easy distribution system (<code>go get github.com/mrmanc/spectro/spectro</code>)</li>\n<li>builds monolithic binaries containing required dependencies</li>\n<li>good set of libraries available</li>\n</ul>\n\n<p>These things combined make it an interesting choice for writing command line tools. You can be sure the tools will work on your system, as they are compiled by <code>go get</code> for your environment. You can be sure that the programs will not be affected by changes in your system packages, as the dependencies are contained in the executable it bakes.</p>\n\n<p>The end result was successful, although I did later find an <a href=\"https://github.com/jclulow/terminal-heatmap\">existing alternative</a> (although this does not do everything I wanted, namely replaying existing log files).</p>\n\n<h2>Working with Go</h2>\n\n<p>Thankfully there is an Alpha release <a href=\"https://plugins.jetbrains.com/plugin/5047\">IntelliJ Idea Go plugin</a>. It provides some assistance with built in types, very basic refactors and syntax checking.</p>\n\n<p>Go has an interesting syntax, and a few quirky features (some good, some hmmm). While I may not agree with all the decisions, it is clear that the language features have been given a lot of thought and display a lot of wisdom. For example, I particularly liked that since map iteration order is not guaranteed, it is <a href=\"https://blog.golang.org/go-maps-in-action#TOC_7.\">actively randomised</a> at runtime to make that clear.</p>\n\n<p>I think the most frustrating part of the language was the constant conversion between various ints, floats etc. The <a href=\"http://golang.org/doc/faq#conversions\">faq</a> elaborates:</p>\n\n<p>&#x201C;For reasons of portability, we decided to make things clear and straightforward at the cost of some explicit conversions in the code. The definition of constants in Go&#x2014;arbitrary precision values free of signedness and size annotations&#x2014;ameliorates matters considerably, though.&#x201D; &#x2014; <a href=\"http://golang.org/doc/faq#conversions\">http://golang.org/doc/faq#conversions</a></p>\n\n<p>So a trade off has been made against clean code to simplify the compiler, ensure portability and mitigate overflows. Okay, <a href=\"https://en.wikipedia.org/wiki/Cluster_(spacecraft)\">overflows</a> are a bad thing, and something that most developers don&#x2019;t consider so that seems like a good idea. But I would have loved not to have to cast an int returned by an external function to a 64 bit int (where there is no risk of overflow), simply so my code could be less cluttered like the snippet below.</p>\n<div class=\"highlight\"><pre><code class=\"language-text\"> fmt.Fprintf(os.Stderr, \"%\"+strconv.FormatInt(int64(paddingWidth), 10)+\"s %s\\r\", \"\", legend)\n</code></pre></div>\n<h2>What does it do?</h2>\n\n<p>You can use the provided normal command to generate some test data based on a normal distribution:</p>\n\n<p><img alt=\"normal distribution spectrograph\" src=\"http://markcrossfield.co.uk/images/spectro/normal.gif\"></p>\n\n<p>Using <code>dtrace</code> to simulate some real time data for spectro to plot like this: (dtrace example borrowed from <a href=\"https://github.com/brendangregg/HeatMap\">this HeatMap tool</a>)</p>\n<div class=\"highlight\"><pre><code class=\"language-text\">$ sudo dtrace -qn 'syscall::read:entry { self-&gt;ts = timestamp; }\n syscall::read:return /self-&gt;ts/ {\n printf(\"%d\\n\", (timestamp - self-&gt;ts) / 1000); self-&gt;ts = 0; }' | spectro -scale exponential\n</code></pre></div>\n<p>will display something a bit like this in your terminal :</p>\n\n<p><img src=\"http://markcrossfield.co.uk/images/spectro/dtrace.gif\" alt=\"dtrace spectrograph\"></p>\n\n<p>But it really comes into it&#x2019;s own if you have historic logs with a formatted time in the line. Here you can use the pacemaker command to indicate to spectro how to sample the data. The pacemaker command will add extra lines to the streamed output as a signal to the spectro command. Pacemaker will look for a time matching something like this: <code>10:14:52</code>. It&#x2019;s tolerant of times out of order, but this will result in repeated periods. You can leave the time text in the output, so long as the number you wish to visualise is the last thing in the line.</p>\n\n<p>You can run something like <code>cat sample.log | pacemaker | spectro</code> on the provided <code>sample.log</code> which looks like this:</p>\n<div class=\"highlight\"><pre><code class=\"language-text\">Tue Nov 11 15:56:20.945 65\nTue Nov 11 15:56:20.989 39\nTue Nov 11 15:56:21.066 41\nTue Nov 11 15:56:21.197 42\nTue Nov 11 15:56:21.245 154\n</code></pre></div>\n<p>Resulting in output like this:</p>\n\n<p><img alt=\"normal distribution spectrograph\" src=\"http://markcrossfield.co.uk/images/spectro/sample.gif\"></p>\n\n<p>You can use <code>pacemaker -nowait</code> to analyse the file as quickly as possible (otherwise it sleeps between times), and if the log file is still being written to you could just use <code>tail -f sample.log | spectro</code>.</p>\n\n<h2>Design</h2>\n\n<p>I appreciated the line by line output of <a href=\"https://sysdig.com/aws-storage-latency-sysdig-spectrogram/\">sysdig</a>, especially as it allows the user to scroll back as far as their screen history allows. It also means you only have to modify one line of text at once, rather than re-plotting the whole screen.</p>\n\n<p>I decided early on I wanted to find a decent gradient of ANSI colours which covered the visible spectrum. That took a fair time to work out, since there is a lot of bad information out there about ANSI colours, and no list of &#x2018;rainbow&#x2019; colours came forward in any search I did. And the rainbow scheme is very attractive when testing with a normal distribution. Frustratingly though, it turned out that lots of colours is actually very difficult to read with a less organised distribution, so I limited it to blue through red.</p>\n\n<p>I was keen to allow data to be streamed in in real time, or replayed via an existing log file. While I&#x2019;m not proud of the hacky time code (which just watches for times like <code>15:30:05</code> in the output) it is quite effective at processing an existing log, which can be done ASAP or with simulated pauses.</p>\n\n<p>I was also keep that the charts would adapt to changes in input, so that it is not necessary for the user to provide configuration flags. If the range of inputs changes, the scale will be replotted (an a message printed). Similarly, if the number of points in each bucket changes the magnitude scale will adapt. It is however possible for the user to start these two values at appropriate levels to prevent constant changes.</p>\n\n<p>I pulled the log replay functionality out into a separate command named <code>pacemaker</code> as I can see myself using it again in the future, and also to follow the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\">Single Responsibility Principle</a> and the second of the <a href=\"http://www.ru.j-npcs.org/usoft/WWW/LJ/Articles/unixtenets.html\">Tenets of the UNIX Philosophy</a>: &#x2018;Make each program do one thing well&#x2019;. Communication between pacemaker and spectro is via extra plain text lines to keep things readable, and both are designed to work as filters in a pipeline (tenet nine).</p>\n\n<h2>Summary</h2>\n\n<p>I think I would recommend using Go for a similar task in the future, simply for the cross platform distribution mechanism, lack of dependency issues and freedom from packaging pain.</p>\n\n<p>I wouldn&#x2019;t recommend it without further experimenting for large scale projects, or where another language had some distinct advantage in the libraries available.</p>\n\n<h2>Go get it</h2>\n\n<p>You can find out more, including install instructions at <a href=\"https://github.com/mrmanc/spectro\">https://github.com/mrmanc/spectro</a>.</p>\n\n\n\n<h2>Future improvements</h2>\n\n<ul>\n<li>Potentially split the summarisation (histogram) functionality from the rendering, since it is useful on it&#x2019;s own and can allow you to use much less space to store a replay of a period in plain text</li>\n<li>Normalise the amplitude using the time since last sample to smooth out results when processing is slow</li>\n<li>Try using a static logarithmic scale for the amplitude scaling to provide consistency and better resolution on small amplitudes</li>\n<li>Allow the user to switch scales dynamically when the command is running</li>\n<li>Use rank based rendering as suggested by this <a href=\"http://dtrace.org/blogs/dap/2011/06/20/heatmap-coloring/\">blog post by Dave Pacheco</a>.</li>\n</ul>\n\n </div>\n </div>"
    }, {
        "title": "Multimedia on Linux Command Line: wget, PdfTK, ffmpeg, flac, SoX",
        "url": "https://sandilands.info/sgordon/multimedia-on-linux-command-line",
        "excerpt": "Some examples of using the command line in Linux to: Modify PDF files, e.g. combine two files into one, re-order pages. Software: PdfTk Convert video and audio files into different formats. Software:&hellip;",
        "date_saved": "Thu Jul 28 20:14:56 EDT 2016",
        "html_file": "multimedia_on_linux_command_line_wget_pdftk_ffmpeg_flac_sox.html",
        "png_file": "multimedia_on_linux_command_line_wget_pdftk_ffmpeg_flac_sox.png",
        "md_file": "multimedia_on_linux_command_line_wget_pdftk_ffmpeg_flac_sox.md",
        "content": "<div><div class=\"field-item even\"><p>\nSome examples of using the command line in Linux to:\n</p>\n<ul><li>Modify PDF files, e.g. combine two files into one, re-order pages. Software: <a href=\"http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/\">PdfTk</a></li>\n<li>Convert video and audio files into different formats. Software: <a href=\"https://www.ffmpeg.org/\">FFmpeg</a></li>\n<li>Modify audio and video files, e.g. split files, extra an audio stream from a movie. Software: FFmpeg, <a href=\"https://xiph.org/flac/\">flac</a></li>\n<li>Record a screencast, i.e. audio from microphone and video of screen. Software: <a href=\"http://sox.sourceforge.net/\">SoX</a>, FFmpeg</li>\n</ul><p>\nAssumes basic command line knowledge, and some <a href=\"https://sandilands.info/sgordon/aliases-prompts-and-scripting-in-linux\">Bash scripting</a>.\n</p>\n<h2>PDF</h2>\n<p>\nDownload some example PDF files:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>wget http://ict.siit.tu.ac.th/~sgordon/slides/bitcoin.pdf</kbd>\n--2014-07-23 13:46:22-- http://ict.siit.tu.ac.th/~sgordon/slides/bitcoin.pdf\nResolving ict.siit.tu.ac.th (ict.siit.tu.ac.th)... 203.131.209.82\nConnecting to ict.siit.tu.ac.th (ict.siit.tu.ac.th)|203.131.209.82|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 340296 (332K) [application/pdf]\nSaving to: `bitcoin.pdf'\n\n100%[============================================================&gt;] 340,296 1.80M/s in 0.2s \n\n2014-07-23 13:46:22 (1.80 MB/s) - `bitcoin.pdf' saved [340296/340296]\n\n<em>student@netlab01:~$</em> <kbd>wget http://ict.siit.tu.ac.th/~sgordon/slides/internet-privacy-options.pdf</kbd>\n[...]\n2014-07-23 13:47:09 (1.52 MB/s) - `internet-privacy-options.pdf' saved [706109/706109]\n\n<em>student@netlab01:~$</em> <kbd>ls -l *.pdf</kbd>\n-rw-rw-r-- 1 student student 340296 Jul 2 16:09 bitcoin.pdf\n-rw-rw-r-- 1 student student 706109 Jun 19 08:21 internet-privacy-options.pdf\n</code></pre><p>\nConcatenate two PDF files (with <var class=\"cmd\">pdftk</var>) and view in PDF viewer (with <var class=\"cmd\">evince</var>):\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>pdftk internet-privacy-options.pdf bitcoin.pdf cat output privacy-and-bitcoin.pdf</kbd>\n<em>student@netlab01:~$</em> <kbd>ls -l *.pdf</kbd>\n-rw-rw-r-- 1 student student 340296 Jul 2 16:09 bitcoin.pdf\n-rw-rw-r-- 1 student student 706109 Jun 19 08:21 internet-privacy-options.pdf\n-rw-rw-r-- 1 student student 1452995 Jul 23 13:49 privacy-and-bitcoin.pdf\n<em>student@netlab01:~$</em> <kbd>evince privacy-and-bitcoin.pdf</kbd>\n[view on GUI]\n</code></pre><p>\nSelect specific pages of PDF for rotation and joining. The command uses pages 1-2 of file A, rotated 90 degress to the West and pages 1-2 of file B, rotated 90 degress to the East. More recent versions of <var class=\"cmd\">pdftk</var> may use 'east' instead of 'E' etc. See the man page for syntax on your computer.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>pdftk A=internet-privacy-options.pdf B=bitcoin.pdf cat A1-2W B1-2E output titles.pdf</kbd>\n</code></pre><p>\nShuffle pages, i.e. 1 page from file A, then 1 page from file B, then next page from file A and so on:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>pdftk A=internet-privacy-options.pdf B=bitcoin.pdf shuffle A B output shuffled.pdf</kbd>\n</code></pre><p>\nBurst a single PDF file into multiple files, 1 per page:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>pdftk bitcoin.pdf burst output bitcoin-single_%02d.pdf</kbd>\n<em>student@netlab01:~$</em> <kbd>ls -l bitcoin*.pdf</kbd>\n-rw-rw-r-- 1 student student 340296 Jul 2 16:09 bitcoin.pdf\n-rw-rw-r-- 1 student student 51609 Jul 23 14:05 bitcoin-single_01.pdf\n-rw-rw-r-- 1 student student 52358 Jul 23 14:05 bitcoin-single_02.pdf\n-rw-rw-r-- 1 student student 86916 Jul 23 14:05 bitcoin-single_03.pdf\n[...]\n-rw-rw-r-- 1 student student 59713 Jul 23 14:05 bitcoin-single_41.pdf\n-rw-rw-r-- 1 student student 51691 Jul 23 14:05 bitcoin-single_42.pdf\n\n</code></pre><p>\nDump data about the PDF file:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>pdftk bitcoin.pdf dump_data output bitcoin.txt</kbd>\n<em>student@netlab01:~$</em> <kbd>cat bitcoin.txt</kbd>\nInfoKey: Author\nInfoValue: Networking\nInfoKey: Producer\nInfoValue: pdfTeX-1.40.14\nInfoKey: Creator\nInfoValue: LaTeX with Beamer class version 3.24\nInfoKey: ModDate\nInfoValue: D:20140702160659+07'00'\nInfoKey: PTEX.Fullbanner\nInfoValue: This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013/Debian) kpathsea version 6.1.1\nInfoKey: Title\nInfoValue: Bitcoin\nInfoKey: CreationDate\nInfoValue: D:20140702160659+07'00'\nPdfID0: b773e8cb2645c51857f27f8d646a1997\nPdfID1: b773e8cb2645c51857f27f8d646a1997\nNumberOfPages: 42\nBookmarkTitle: Cryptography Principles\n[...]\nPageLabelPrefix: 42\nPageLabelNumStyle: NoNumber\n</code></pre><p>\nAdd a watermark to a PDF. First create a PDF that contains the watermark by using <var class=\"cmd\">groff</var> to produce a PostScript file, and <var class=\"cmd\">ps2pdf</var> to convert that PostScript file to PDF. Then use <var class=\"cmd\">pdftk</var> to stamp that background PDF to the original. A better way would be to create the background PDF using other tools (e.g. OpenOffice and then export to PDF) so it would match the size of the original PDF.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>echo \"Steven Gordon created this\" | groff -Tps | ps2pdf - bg.pdf</kbd>\n<em>student@netlab01:~$</em> <kbd>pdftk bitcoin.pdf stamp bg.pdf output bitcoin-bg.pdf</kbd>\n</code></pre><h2>Video and Audio Conversions</h2>\n<p>\nDefault Ubuntu installs use <a href=\"https://libav.org/\">avconv</a>, which was a fork of the popular <a href=\"https://www.ffmpeg.org/\">ffmpeg</a>. Some other Linux systems use ffmpeg instead. Personally I use ffmpeg (as that is what I have experience with). Therefore I have installed ffmpeg on the lab computers by compiling from source. If you want ffmpeg on your computer then the <a href=\"https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu\">instructions for compiling</a> are very good. Give it a try.\n</p>\n<p>\nOn the lab computers you will find a <var class=\"file\">ffmpeg_build</var> and <var class=\"file\">ffmpeg_sources</var> directory which were used for compilation, and the executable files are in the <var class=\"file\">bin</var> directory. If you haven't already done so from a previous task, tour PATH needs to be set to include the <var class=\"file\">bin</var> directory, e.g.:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>PATH=/home/student/bin:$PATH</kbd>\n</code></pre><p>\nIf you have avconv, then most of the corresponding commands can be substitute as below, although sometimes there are different syntax for options between avconv and ffmpeg.\n</p>\n<ul><li>ffmpeg -- avconv</li>\n<li>ffprobe -- avprobe</li>\n<li>ffplay -- avplay</li>\n</ul><h3>View Media Information</h3>\n<p>\nDownload the <a href=\"http://tearsofsteel.org/\">Tears of Steel</a>, an open movie using open source software, especially <a href=\"http://www.blender.org/\">Blender</a> for animations. Either download from the <a href=\"http://tearsofsteel.org/\">Tears of Steel website</a> or if in the lab, from the local server as below:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>wget http://10.10.6.210/tears_of_steel_720p.mkv</kbd>\n</code></pre><p>\nView details of a media file:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffprobe tears_of_steel_720p.mkv</kbd>\nffprobe version 2.2.git Copyright (c) 2007-2014 the FFmpeg developers\n built on Jul 23 2014 19:00:41 with gcc 4.6 (Ubuntu/Linaro 4.6.3-1ubuntu5)\n configuration: --prefix=/home/student/ffmpeg_build --extra-cflags=-I/home/student/ffmpeg_build/include --extra-ldflags=-L/home/student/ffmpeg_build/lib --bindir=/home/student/bin --extra-libs=-ldl --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-nonfree --enable-x11grab\n libavutil 52. 92.101 / 52. 92.101\n libavcodec 55. 69.100 / 55. 69.100\n libavformat 55. 48.101 / 55. 48.101\n libavdevice 55. 13.102 / 55. 13.102\n libavfilter 4. 11.102 / 4. 11.102\n libswscale 2. 6.100 / 2. 6.100\n libswresample 0. 19.100 / 0. 19.100\n libpostproc 52. 3.100 / 52. 3.100\nInput #0, matroska,webm, from 'tears_of_steel_720p.mkv':\n Metadata:\n encoder : libmkv 0.6.5\n TITLE : \n ARTIST : \n COMPOSER : \n SYNOPSIS : \n DATE_RELEASED : \n GENRE : \n Duration: 00:12:14.17, start: 0.000000, bitrate: 4167 kb/s\n Stream #0:0(eng): Video: h264 (Main), yuv420p(tv, bt709), 1280x534 [SAR 1:1 DAR 640:267], 24 fps, 24 tbr, 1k tbn, 180k tbc (default)\n Stream #0:1(eng): Audio: aac, 44100 Hz, stereo, fltp (default)\n\n</code></pre><p>\nThe first lines are just the banner from ffmpeg (you can hide this using the <var class=\"cmd\">-hide_banner</var> option; I will not show it in subsequent output).<br>\nThe last two lines show the media streams: video using H.264 codec and audio using AAC codec.\n</p>\n<h3>Split/Cut Videos</h3>\n<p>\nA quick way to extract a portion of video from a file (e.g. the first 5 minutes). Here we will select just 20 seconds of video, starting from 50 seconds into it, i.e. from 0m50s to 1m10s.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -ss 00:00:50 -i tears_of_steel_720p.mkv -t 00:00:20 -vcodec copy -acodec copy tos.mkv</kbd>\nInput #0, matroska,webm, from 'tears_of_steel_720p.mkv':\n Metadata:\n encoder : libmkv 0.6.5\n TITLE : \n ARTIST : \n COMPOSER : \n SYNOPSIS : \n DATE_RELEASED : \n GENRE : \n Duration: 00:12:14.17, start: 0.000000, bitrate: 4167 kb/s\n Stream #0:0(eng): Video: h264 (Main), yuv420p(tv, bt709), 1280x534 [SAR 1:1 DAR 640:267], 24 fps, 24 tbr, 1k tbn, 180k tbc (default)\n Stream #0:1(eng): Audio: aac, 44100 Hz, stereo, fltp (default)\nOutput #0, matroska, to 'tos.mkv':\n Metadata:\n GENRE : \n TITLE : \n ARTIST : \n COMPOSER : \n SYNOPSIS : \n DATE_RELEASED : \n encoder : Lavf55.43.100\n Stream #0:0(eng): Video: h264 (H264 / 0x34363248), yuv420p, 1280x534 [SAR 1:1 DAR 640:267], q=2-31, 24 fps, 1k tbn, 1k tbc (default)\n Stream #0:1(eng): Audio: aac ([255][0][0][0] / 0x00FF), 44100 Hz, stereo (default)\nStream mapping:\n Stream #0:0 -&gt; #0:0 (copy)\n Stream #0:1 -&gt; #0:1 (copy)\nPress [q] to stop, [?] for help\nframe= 487 fps=0.0 q=-1.0 Lsize= 6750kB time=00:00:20.00 bitrate=2763.9kbits/s \nvideo:6347kB audio:392kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.154705%\n</code></pre><p>\nThe options are as follows (the ordering for some is important):\n</p>\n<ul><li><var class=\"cmd\">-ss 00:00:50</var> start time at 50 seconds</li>\n<li><var class=\"cmd\">-i tears_of_steel_720p.mkv</var> is the input file</li>\n<li><var class=\"cmd\">-t 00:00:20</var> is duration to copy</li>\n<li><var class=\"cmd\">-vcodec copy</var> copies the video codec from input to output (i.e. does not re-code)</li>\n<li><var class=\"cmd\">-acodec copy</var> copies the audio codec from input to output (i.e. does not re-code)</li>\n<li><var class=\"cmd\">tos.mkv</var> is the output filename</li>\n</ul><h3>Convert Videos</h3>\n<p>\nConverting videos (and audio files) can be quite complex as you need to consider the container format (e.g. MKV), video codec (H.264) and audio codec (AAC) and may convert one or all of these to another format/codec. Some formats/codecs require specific parameters (e.g. bit rates, channels, resolutions). First lets see what formats (containers) and codecs are supported. avconv supports reading of some formats/codecs (demux, decode) and writing to others (mux, encode).\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -formats</kbd>\nFile formats:\n D. = Demuxing supported\n .E = Muxing supported\n --\n E 3g2 3GP2 (3GPP2 file format)\n E 3gp 3GP (3GPP file format)\n D 4xm 4X Technologies\n E a64 a64 - video for Commodore 64\n D aac raw ADTS AAC (Advanced Audio Coding)\n DE ac3 raw AC-3\n[...]\n D xmv Microsoft XMV\n D xwma Microsoft xWMA\n D yop Psygnosis YOP\n DE yuv4mpegpipe YUV4MPEG pipe\n<em>student@netlab01:~$</em> <kbd>./ffmpeg -codecs</kbd>\nCodecs:\n D..... = Decoding supported\n .E.... = Encoding supported\n ..V... = Video codec\n ..A... = Audio codec\n ..S... = Subtitle codec\n ...I.. = Intra frame-only codec\n ....L. = Lossy compression\n .....S = Lossless compression\n -------\n D.VI.. 012v Uncompressed 4:2:2 10-bit\n D.V.L. 4xm 4X Movie\n D.VI.S 8bps QuickTime 8BPS video\n[...]\n D.S... text raw UTF-8 text\n D.S... vplayer VPlayer subtitle\n DES... webvtt WebVTT subtitle\n DES... xsub XSUB\n</code></pre><p>\nNow lets try some conversions on the 20 second clip.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv tos.mp4</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv tos.webm</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv tos.avi</kbd>\n<em>student@netlab01:~$</em> <kbd>ls -lh tos.*</kbd>\n-rw-rw-r-- 1 student student 1.9M Jul 23 16:13 tos.avi\n-rw-rw-r-- 1 student student 6.6M Jul 23 16:01 tos.mkv\n-rw-rw-r-- 1 student student 3.0M Jul 23 16:09 tos.mp4\n-rw-rw-r-- 1 student student 732K Jul 23 16:10 tos.webm\n</code></pre><table><tr><th>Extension</th>\n<th>Container</th>\n<th>Video</th>\n<th>Audio</th>\n</tr><tr><td>mp4</td>\n<td>MP4</td>\n<td>H.264</td>\n<td>AAC</td>\n</tr><tr><td>mkv</td>\n<td>Matroska</td>\n<td>H.264</td>\n<td>AAC</td>\n</tr><tr><td>webm</td>\n<td>WebM</td>\n<td>VP8</td>\n<td>Ogg Vorbis</td>\n</tr><tr><td>avi</td>\n<td>AVI</td>\n<td>MPEG-4</td>\n<td>MP3</td>\n</tr><tr><td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr><tr><td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr><tr><td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr></table><p>\nThe difficult part of video conversions is selecting the correct parameters. Not just codecs, but also bit rates, resolution, channels, sampling rates and codec specific parameters. ffmpeg will choose reasonable default parameters some times, but other times you will need to specify them yourself. Here are some examples that convert again to WebM. The first creates a low quality output, reducing the resolution to 640x267 (compared to the original 1280x534). The second creates a high quality output, setting the quality factor to 20 (which results in an average bitrate of 578kb/s, compared to the original 294kb/s). Is there any visual difference in the output of the videos?\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv -vcodec libvpx -s 640x267 -acodec libvorbis -ab 64k -f webm tos-low.webm</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv -vcodec libvpx -q 20 -acodec libvorbis -f webm tos-hi.webm</kbd>\n<em>student@netlab01:~$</em> <kbd>ffprobe -hide_banner tos.webm</kbd>\nInput #0, matroska,webm, from 'tos.webm':\n Metadata:\n title : \n encoder : Lavf55.43.100\n Duration: 00:00:20.33, start: 0.000000, bitrate: 294 kb/s\n Stream #0:0(eng): Video: vp8, yuv420p, 1280x534, SAR 1:1 DAR 640:267, 24 fps, 24 tbr, 1k tbn, 1k tbc (default)\n Stream #0:1(eng): Audio: vorbis, 44100 Hz, stereo, fltp (default)\n<em>student@netlab01:~$</em> <kbd>ffprobe -hide_banner tos-low.webm</kbd>\nInput #0, matroska,webm, from 'tos-low.webm':\n Metadata:\n title : \n encoder : Lavf55.43.100\n Duration: 00:00:20.33, start: 0.000000, bitrate: 200 kb/s\n Stream #0:0(eng): Video: vp8, yuv420p, 640x267, SAR 1:1 DAR 640:267, 24 fps, 24 tbr, 1k tbn, 1k tbc (default)\n Stream #0:1(eng): Audio: vorbis, 44100 Hz, stereo, fltp (default)\n<em>student@netlab01:~$</em> <kbd>ffprobe -hide_banner tos-hi.webm</kbd>\nInput #0, matroska,webm, from 'tos-hi.webm':\n Metadata:\n title : \n encoder : Lavf55.43.100\n Duration: 00:00:20.33, start: 0.000000, bitrate: 578 kb/s\n Stream #0:0(eng): Video: vp8, yuv420p, 1280x534, SAR 1:1 DAR 640:267, 24 fps, 24 tbr, 1k tbn, 1k tbc (default)\n Stream #0:1(eng): Audio: vorbis, 44100 Hz, stereo, fltp (default)\n</code></pre><p>\nTo select the correct parameters you often need to know about the specific codecs. Read the ffmpeg man page for the many options available.\n</p>\n<h3>Extract Audio Stream from a Video</h3>\n<p>\nMovies usually have at least two stream: video and audio (some may have multiple audio streams, e.g. in different languages or codecs). You can separate them, for example saving just the audio from a movie to a file. The first command below copies the audio stream, while the second also converts it to 64kb/s/s MP3.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv -vn -acodec copy tos-audio.aac</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos.mkv -vn -acodec mp3 -ab 64k tos-audio-lo.mp3</kbd>\n</code></pre><h3>Convert Audio Files</h3>\n<p>\nWe can convert audio in the same manner as video. It is usually a bit easier to understand as there is only a single codec to be concerned with.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -i tos-audio.aac tos-audio.mp3</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos-audio.aac tos-audio.wma</kbd>\n<em>student@netlab01:~$</em> <kbd>ffmpeg -i tos-audio.aac tos-audio.flac</kbd>\n</code></pre><h3>FLAC Audio</h3>\n<p>\nThe Free Audio Lossless Codec (FLAC) is a good choice for encoding audio if you want to maintain the quality from the original source. You can process FLAC in ffmpeg in the same way as other audio codecs. However there are also other tools, one called simply <var class=\"cmd\">flac</var>. Lets try some operations on the soundtrack of Tears of Steel (the stereo version in FLAC format is available via <a href=\"http://media.xiph.org/tearsofsteel/\">Xiph.org</a>).\n</p>\n<p>\nThe file info:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffprobe -hide_banner tearsofsteel-stereo.flac</kbd>\nInput #0, flac, from 'tearsofsteel-stereo.flac':\n Metadata:\n TITLE : Tears of Steel\n ARTIST : Blender Foundation\n DATE : 2012\n COPYRIGHT : (CC) Blender Foundation | mango.blender.org\n LICENSE : http://creativecommons.org/licenses/by/3.0/\n comment : DVD stereo mix\n Duration: 00:12:14.00, start: 0.000000, bitrate: 913 kb/s\n Stream #0:0: Audio: flac, 48000 Hz, stereo, s32\n<em>student@netlab01:~$</em> <kbd></kbd>\n<em>student@netlab01:~$</em> <kbd></kbd>\n</code></pre><p>\nNow use <var class=\"cmd\">flac</var> to decode to obtain a PCM WAVE output. At the same time we will cut, only getting from time 50s to 1m10s.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>flac -d tearsofsteel-stereo.flac --skip=00:50.00 --until=01:10.00</kbd>\nflac 1.2.1, Copyright (C) 2000,2001,2002,2003,2004,2005,2006,2007 Josh Coalson\nflac comes with ABSOLUTELY NO WARRANTY. This is free software, and you are\nwelcome to redistribute it under certain conditions. Type `flac' for details.\n\ntearsofsteel-stereo.flac: done \n<em>student@netlab01:~$</em> <kbd>ls -l tearsofsteel-stereo.*</kbd>\n-rw-rw-r-- 1 student student 83769154 Sep 29 2012 tearsofsteel-stereo.flac\n-rw-rw-r-- 1 student student 5760044 Sep 29 2012 tearsofsteel-stereo.wav\n</code></pre><h2><a name=\"screencast\" id=\"screencast\"></a>Sreencasts</h2>\n<p>\nDuring my lectures I record my screen as well as audio from microphone, and then post the resulting video screencast on Youtube. Lets see how.\n</p>\n<h3>Recording Audio from Microphone</h3>\n<p>\nMany applications, including ffmpeg, can be used to record audio. I use <a href=\"http://sox.sourceforge.net/\">SoX</a>, specifically the <var class=\"cmd\">rec</var> command (which is just a shortcut to <var class=\"cmd\">sox</var> but by default selects the default input device, typically the microphone). Here is an example that records single channel 16-bit audio at 44.1kHz, saving in FLAC format.\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>rec -r 44100 -b 16 -c 1 audio.flac\n</kbd>\n</code></pre><h3>Recording the Screen</h3>\n<p>\nI use ffmpeg to capture the screen as follows, with the options explained below:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -f x11grab -r 10 -s 1600x900 -i :0.0+0,0 -vcodec libx264 -preset ultrafast -crf 0 screen.mp4</kbd>\n</code></pre><ul><li><var class=\"cmd\">-f x11grab</var> indicates to take the input from the X11 display (i.e. the screen on Linux)</li>\n<li><var class=\"cmd\">-r 10</var> is the frame rate (generally in my lectures there is little motion, so a low frame rate is ok)</li>\n<li><var class=\"cmd\">-s 1600x900</var> is the resolution of the screen</li>\n<li><var class=\"cmd\">-i :0.0</var> indicates the display number (should not need to change this)</li>\n<li><var class=\"cmd\">+0,0</var> is the offset from the top-left of the screen to record (this will be used later)</li>\n<li><var class=\"cmd\">-vcodec libx264</var> specifics to use x264 to encode to H.264 codec</li>\n<li><var class=\"cmd\">-preset ultrafast -crf 0</var> are options for the x264 codec</li>\n<li><var class=\"cmd\">screen.mp4</var> is the output file</li>\n</ul><h3>Recording the Projector (when Multiple Monitors)</h3>\n<p>\nIn lectures I have multiple monitors. My normal configuration is the laptop screen (resolution 1366x768) is the first display and the projector (resolution 1024x768) extends that display to the right. That is, from the point of view of applications (including ffmpeg), I have a single display is 2390x768.\n</p>\n<pre>\n+====================+================+\n| | |\n| | |\n| laptop | projector |\n| 1366x768 | 1024x768 | \n| | |\n| | |\n+====================+================+\n\n &lt;----- 1366 -------&gt; &lt;---- 1024 ----&gt;\n &lt;-------------- 2390 ---------------&gt;\n</pre><p>\nWhen recording the lecture I want to just recorder the projector portion of the display, not that on my laptop. With ffmpeg you can specify an offset from the top-left coordinates which are (0,0) to which you record. In the above example command the size of the display to record was set (using the <var class=\"cmd\">-s</var> option) to 1600x900. This needs to be changed to the size of the projector, 1024x768. And in the above example we use a 0 offset, i.e. <var class=\"cmd\">+0,0</var>. Here we need to shift to the right by the size of the laptop screen, i.e. <var class=\"cmd\">+1366,0</var>. Then only the projector portion of the display will be recorded. The resulting command is:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -f x11grab -r 10 -s 1024x768 -i :0.0+1366,0 -vcodec libx264 -preset ultrafast -crf 0 screen.mp4</kbd>\n</code></pre><p>\nYou can see the size and offset to record just a portion of the display.\n</p>\n<h3>Starting Audio and Screen Record</h3>\n<p>\nI use a script to start the audio and screen recording at the same time. A cut down version is shown below. The full script I use, which includes some other features, can be <a href=\"https://sandilands.info/sgordon/doc/code/screencast\">downloaded</a>. Put it into your <var class=\"file\">bin</var> directory (which should be in the PATH).</p>\n<pre><code>#!/bin/bash\nrec -q -r 44100 -b 16 -c 2 audio.flac &amp;\naudioPID=$!\nffmpeg -f x11grab -r 10 -s 1024x768 -i :0.0+1366,0 -vcodec libx264 -preset ultrafast -crf 0 screen.mp4 &amp;\nscreenPID=$!\nop=\"s\"\nwhile [ ${op} != \"z\" ]\ndo\n read -n1 op\ndone\nkill ${audioPID} ${screenPID}\nexit\n</code></pre><p>\nThe full <a href=\"https://sandilands.info/sgordon/doc/code/screencast\">screencast</a> script be be run as:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>screencast netlab test</kbd>\n</code></pre><h3>Combining Audio and Screen Files</h3>\n<p>\nAfter using <var class=\"cmd\">screencast</var> to record the audio and screen into separate files, we need to combine (multiplex) them into a single file. I will do it in three steps.\n</p>\n<p>\nFirst convert the FLAC audio to WAV:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>flac -d test-audio.flac</kbd>\n</code></pre><p>\nSecond convert the WAV audio to AAC:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>faac -b 64 test-audio.wav</kbd>\n</code></pre><p>\nFinally combine the audio (AAC) and screen (MP4) to produce an MP4 video:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>ffmpeg -i test-screen.mp4 -i test-audio.aac -absf aac_adtstoasc -vcodec copy -acodec copy test-video.mp4</kbd>\n</code></pre><p>\nFor my lectures I have a script called <a href=\"https://sandilands.info/sgordon/doc/code/audioscreen2video\">audioscreen2video</a> that combines the above commands as well as a few others to create the video. Run it as:\n</p>\n<pre><code><em>student@netlab01:~$</em> <kbd>audioscreen2video test 2014-07-25</kbd>\n</code></pre><p class=\"pdflink\"><a href=\"https://sandilands.info/sgordon/doc/multimedia-on-linux-command-line\">PDF version of this page</a>, 23 Jul 2014</p>\n</div></div>"
    }, {
        "title": "htmlPy",
        "url": "http://amol-mandhane.github.io/htmlPy/",
        "excerpt": "htmlPy is a wrapper around PySide's QtWebKit library. It helps with creating beautiful GUIs using HTML5, CSS3 and Javascript for standalone Python applications. It is built on Qt which makes it&hellip;",
        "date_saved": "Thu Jul 28 20:14:58 EDT 2016",
        "html_file": "htmlpy.html",
        "png_file": "htmlpy.png",
        "md_file": "htmlpy.md",
        "content": "<div><div class=\"container\">\n \n \n <a href=\"https://travis-ci.org/amol-mandhane/htmlPy\" class=\"badges\" target=\"_blank\">\n <img src=\"https://img.shields.io/travis/amol-mandhane/htmlPy/master.svg\">\n </a>\n <a href=\"https://pypi.python.org/pypi/htmlPy/\" class=\"badges\" target=\"_blank\">\n <img src=\"https://img.shields.io/pypi/v/htmlPy.svg\">\n </a>\n <a href=\"https://pypi.python.org/pypi/htmlPy/\" class=\"badges\" target=\"_blank\">\n <img src=\"https://img.shields.io/pypi/dm/htmlPy.svg\">\n </a>\n <p>htmlPy is a wrapper around <a href=\"https://pyside.org/\" target=\"_blank\">PySide</a>'s QtWebKit library. It helps with creating beautiful GUIs using <b>HTML5, CSS3 and Javascript</b> for standalone Python applications. It is built on <a href=\"http://qt.io/\" target=\"_blank\">Qt</a> which makes it highly <b>customizable and cross-platform</b>. htmlPy is compatible with both <b>Python2 and Python3</b>. It can be used with any python library or environment like <a href=\"https://www.djangoproject.com/\" target=\"_blank\">django</a>, <a href=\"http://flask.pocoo.org/\" target=\"_blank\">flask</a>, <a href=\"http://www.scipy.org/\" target=\"_blank\">scipy</a>, <a href=\"http://virtualenv.readthedocs.org/\" target=\"_blank\">virtualenv</a> etc. You can use front-end libraries and frameworks like <a href=\"http://getbootstrap.com/\" target=\"_blank\">bootstrap</a>, <a href=\"http://jquery.com/\" target=\"_blank\">jQuery</a>, <a href=\"http://jqueryui.com/\" target=\"_blank\">jQuery UI</a> etc. and create GUIs for your applications in no time.</p>\n\n <h2>Documentation</h2>\n <p>The documentation is hosted at <a href=\"http://htmlpy.readthedocs.org/\">http://htmlpy.readthedocs.org/</a>. It contains <b>installation instructions, tutorials, reference guide</b>, compatibility details, and more.</p>\n\n <h2>Example</h2>\n <table>\n <tr>\n <td>\n <h3>Back-end <br> <small class=\"typewriter\">back_end.py</small></h3>\n <pre>\n <code class=\"language-python\">\nimport htmlPy\nfrom main import app\n\n\nclass BackEnd(htmlPy.Object):\n\n @htmlPy.Slot()\n def say_hello_world():\n app.html = u\"Hello, world\"\n </code>\n </pre></td>\n <td>\n <h3>GUI <br> <small class=\"typewriter\">main.py</small></h3>\n <pre>\n <code class=\"language-python\">\nimport htmlPy\nfrom back_end import BackEnd\n\napp = htmlPy.AppGUI(\n title=u\"Sample application\")\napp.maximized = True\napp.bind(BackEnd())\n\napp.template = (\"index.html\", {})\n\nif __name__ == \"__main__\":\n app.start()\n </code>\n </pre></td>\n <td>\n <h3>Front-end <br> <small class=\"typewriter\">index.html</small></h3>\n <pre>\n <code class=\"language-markup highlight\">\n&lt;html&gt;\n &lt;body&gt;\n &lt;a\n href=\"BackEnd.say_hello_world\"\n data-bind=\"true\"&gt;\n Click to say \"Hello, world\"\n &lt;/a&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n </code>\n </pre></td>\n </tr>\n </table>\n\n <h2>Code</h2>\n <p>htmlPy source code is hosted on <a href=\"https://github.com/amol-mandhane/htmlPy\" target=\"_blank\">GitHub</a>, tested on <a href=\"https://travis-ci.org/amol-mandhane/htmlPy\" target=\"_blank\">Travis CI</a> and released on <a href=\"https://pypi.python.org/pypi/htmlPy/\" target=\"_blank\">PyPI</a>.</p>\n </div>\n </div>"
    }, {
        "title": "feross/webtorrent",
        "url": "https://github.com/feross/webtorrent",
        "excerpt": "",
        "date_saved": "Thu Jul 28 20:14:59 EDT 2016",
        "html_file": "ferosswebtorrent.html",
        "png_file": "ferosswebtorrent.png",
        "md_file": "ferosswebtorrent.md",
        "content": "<div><div id=\"js-repo-pjax-container\" class=\"repository-content context-loader-container\">\n \n\n\n\n\n\n\n\n\n\n\n\n\n \n\n<a href=\"https://github.com/feross/webtorrent/find/master\" class=\"js-show-file-finder\">Show File Finder</a>\n\n\n <div id=\"readme\" class=\"clearfix announce instapaper_body md\">\n <span class=\"name\"> README.md</span><article class=\"markdown-body entry-content\">\n\n<p>A streaming torrent client in your browser, powered by webRTC and black magic.</p>\n\n<p><a href=\"https://raw.github.com/feross/webtorrent/master/logo.png\" target=\"_blank\"><img src=\"https://raw.github.com/feross/webtorrent/master/logo.png\" alt=\"Magic\"></a></p>\n\n<h2>\n<a name=\"features\" class=\"anchor\" href=\"https://github.com/feross/webtorrent#features\"></a>Features</h2>\n\n<ul><li><strong>BitTorrent in your browser!</strong></li>\n<li>\n<strong>No plugins</strong> (uses WebRTC Data Channels for peer-to-peer data)</li>\n<li>\n<strong>Streaming playback</strong> (get first pieces first)\n\n<ul><li>Into <code>video</code> tag with MediaSource API when possible</li>\n<li>Flash player with JS bridge for other media types</li>\n</ul></li>\n<li>Works with .torrent files and magnet links</li>\n<li>Supports DHT (trackerless torrents) over WebRTC\n\n<ul><li>Extensions to DHT protocol to work over WebRTC</li>\n<li>DHT nodes do \"peer introductions\" so WebRTC can work without a centralized signaling server</li>\n</ul></li>\n<li><strong>Supports completely serverless, trackerless operation</strong></li>\n</ul><h2>\n<a name=\"useful-links\" class=\"anchor\" href=\"https://github.com/feross/webtorrent#useful-links\"></a>Useful Links</h2>\n\n<h3>\n<a name=\"dht\" class=\"anchor\" href=\"https://github.com/feross/webtorrent#dht\"></a>DHT</h3>\n\n</article></div>\n\n\n\n </div>\n\n </div>"
    }, {
        "title": "Using an SSH Bastion Host - Scott's Weblog - The weblog of an IT pro specializing in virtualization, networking, open source, and cloud computing",
        "url": "http://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/",
        "excerpt": "21 November 2015 Secure Shell, or SSH, is something of a &#x201C;Swiss Army knife&#x201D; when it comes to administering and managing Linux (and other UNIX-like) workloads. In this post, I&#x2019;m&hellip;",
        "date_saved": "Thu Jul 28 20:15:01 EDT 2016",
        "html_file": "using_an_ssh_bastion_host__scotts_weblog__the_weblog_of_an_it_pro_specializing_in_virtualization_networking_open_source_and_cloud_computing.html",
        "png_file": "using_an_ssh_bastion_host__scotts_weblog__the_weblog_of_an_it_pro_specializing_in_virtualization_networking_open_source_and_cloud_computing.png",
        "md_file": "using_an_ssh_bastion_host__scotts_weblog__the_weblog_of_an_it_pro_specializing_in_virtualization_networking_open_source_and_cloud_computing.md",
        "content": "<div><div class=\"post\">\n \n <span class=\"post-date\">21 November 2015</span>\n <p>Secure Shell, or SSH, is something of a &#x201C;Swiss Army knife&#x201D; when it comes to administering and managing Linux (and other UNIX-like) workloads. In this post, I&#x2019;m going to explore a very specific use of SSH: the <em>SSH bastion host</em>. In this sort of arrangement, SSH traffic to servers that are not directly accessible via SSH is instead directed through a bastion host, which proxies the connection between the SSH client and the remote servers.</p>\n\n<p>At first, it may sound like the use of an SSH bastion host is a pretty specialized use case. In reality, though, I believe this is a design pattern that can actually be useful in a variety of situations. I plan to explore the use cases for an SSH bastion host in a future blog post.</p>\n\n<p>This diagram illustrates the concept of using an SSH bastion host to provide access to Linux instances running inside some sort of cloud network (like an OpenStack Neutron tenant network or an AWS VPC):</p>\n\n<p><img src=\"http://blog.scottlowe.org/public/img/ssh-bastion-host.png\" alt=\"SSH bastion host diagram\"></p>\n\n<p>Let&#x2019;s take a closer look at the nuts and bolts of actually setting up an SSH bastion host.</p>\n\n<p>First, you&#x2019;ll want to ensure you have public key authentication properly configured, both on the bastion host as well as the remote instances. This is a topic that has been discussed extensively in other locations (<a href=\"https://kb.iu.edu/d/aews\">here</a>, for example), so I won&#x2019;t cover it here in any great detail. You can use the same key for both the bastion host and the remote instances, or different keys; you&#x2019;ll just need to ensure that the keys are loaded by <code>ssh-agent</code> appropriately so they can be used as needed. (Note that the use of public key authentication isn&#x2019;t strictly <em>required</em>, but it&#x2019;s something you really should do.)</p>\n\n<p>Second, you&#x2019;ll want to ensure that SSH agent forwarding is enabled when you connect from the SSH client to the SSH bastion host. This can be done a couple of different ways. You can do it via the <code>ssh</code> command line, like this:</p>\n\n<pre><code>ssh -A user@bastion\n</code></pre>\n\n<p>Or you can do it in an SSH config file, like this:</p>\n\n<pre><code>Host bastion\n ForwardAgent yes\n</code></pre>\n\n<p>If you choose to do it via an SSH config file, be cautious not to use a wildcard host (keeping in mind that SSH config files allow you to do things like <code>Host *.cloud.domain.net</code>), thus forwarding unlocked SSH keys to more hosts than expected/anticipated/desired.</p>\n\n<p>Third, you&#x2019;ll want to ensure that DNS resolution is working&#x2014;both from the client to the bastion as well as from the bastion to the remote instances. The bastion host is going to use the hostname specified on the <code>ssh</code> command line, so if it can&#x2019;t resolve the name the connection will fail.</p>\n\n<p>Finally, you&#x2019;ll want to configure the <code>ProxyCommand</code> setting for the remote instances in your SSH configuration file. For example, let&#x2019;s say that you had a remote instance named &#x201C;private1&#x201D; and you wanted to run SSH connections through a bastion host called &#x201C;bastion&#x201D;. The appropriate SSH configuration might look something like this:</p>\n\n<pre><code>Host private1\n IdentityFile ~/.ssh/rsa_private_key\n ProxyCommand ssh user@bastion -W %h:%p\n\nHost bastion\n IdentityFile ~/.ssh/bastion_rsa_key\n ForwardAgent yes\n</code></pre>\n\n<p>With this configuration in place, when you type <code>ssh user@private1</code> SSH will establish a connection to the bastion host and then <em>from the bastion host</em> connect to &#x201C;private1&#x201D;, using the specified keys at each step along the way. The user won&#x2019;t see any of this; he or she will just see a shell for &#x201C;private1&#x201D; appear. If you dig a bit further, though (try running <code>who</code> on the remote node), you&#x2019;ll see the connections are coming from the bastion host, not the original SSH client. Handy, eh?</p>\n\n<p>In a future blog post, look for me to explore one or more examples of where using an SSH bastion host might be very useful (or even necessary).</p>\n\n<h2 id=\"additional-resources\">Additional Resources</h2>\n\n<p>I found <a href=\"https://10mi2.wordpress.com/2015/01/14/using-ssh-through-a-bastion-host-transparently/\">this article</a> to be extraordinarily helpful while working through the details of an SSH bastion host configuration.</p>\n\n\n <span class=\"post-date\">Tags:\n \n \n\n\n <a href=\"http://blog.scottlowe.org/tags/#CLI\">CLI</a>\n \n &#xB7;\n \n\n <a href=\"http://blog.scottlowe.org/tags/#Linux\">Linux</a>\n \n &#xB7;\n \n\n <a href=\"http://blog.scottlowe.org/tags/#Networking\">Networking</a>\n \n &#xB7;\n \n\n <a href=\"http://blog.scottlowe.org/tags/#SSH\">SSH</a>\n \n &#xB7;\n \n\n <a href=\"http://blog.scottlowe.org/tags/#Security\">Security</a>\n \n\n\n\n </span>\n \n <span class=\"post-date\">\n <i class=\"fa fa-arrow-circle-left\"></i> Previous Post: <a href=\"http://blog.scottlowe.org/2015/11/17/technology-short-take-56/\">Technology Short Take #56</a></span>\n \n \n\n <div class=\"post-sharing\"><p>Be social and share this post!<br>\n\n<a href=\"https://www.facebook.com/sharer/sharer.php?u=http://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/\" title=\"Share on Facebook\"><i class=\"fa fa-facebook-square fa-2x\"></i></a> \n<a href=\"https://twitter.com/intent/tweet?url=http://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/&amp;text=Using%20an%20SSH%20Bastion%20Host\" title=\"Share on Twitter\"><i class=\"fa fa-twitter-square fa-2x\"></i></a> \n<a href=\"https://plus.google.com/share?url=http://blog.scottlowe.org/2015/11/21/using-ssh-bastion-host/\" title=\"Share on Google Plus\"><i class=\"fa fa-google-plus-square fa-2x\"></i></a></p></div>\n</div>\n\n</div>"
    }, {
        "title": "Arduino Meets Linux: Arduino Introduces Its 3rd Generation Platform",
        "url": "http://electronics360.globalspec.com/article/5995/arduino-meets-linux-arduino-introduces-its-3rd-generation-platform",
        "excerpt": "The Arduino platform's simplicity, open architecture and ease of use helped make it the most popular embedded development tool within the Maker community. In this article, we will look at the new&hellip;",
        "date_saved": "Thu Jul 28 20:15:03 EDT 2016",
        "html_file": "arduino_meets_linux_arduino_introduces_its_3rd_generation_platform.html",
        "png_file": "arduino_meets_linux_arduino_introduces_its_3rd_generation_platform.png",
        "md_file": "arduino_meets_linux_arduino_introduces_its_3rd_generation_platform.md",
        "content": "<div><div class=\"inner\">\n\t\t<p>The Arduino platform's simplicity, open architecture and ease of use helped make it the most popular embedded development tool within the Maker community. In this article, we will look at the new Linino framework, which makes it possible to seamlessly integrate Linux into the Arduino platform as well as some of the boards, protocols and development tools that can support advanced functionality, such as real-time control of multiple functions, IoT applications and integration of cloud-based services.</p>\n<p><b>In the Beginning</b></p>\n<p>The first Arduino boards were powered by Atmel's AVR family of 8-bit microcontrollers that were great for simple tasks such as controlling lights, power supplies or motors. However, as Arduino's popularity grew, new boards sporting more powerful 16-and 32-bit MCUs were introduced to support increasingly-demanding applications. Likewise, many new plug-in \"<a href=\"http://www.arduino.org/products/shields\" target=\"_blank\">shields</a>\" added powerful wired and wireless networking capabilities, as well as I/O options ranging from motion sensing to motor control.</p>\n<p><b>Arduino + Linux = Open-Source Awesomeness</b></p>\n<p><b><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-YunPhoto.jpg\" width=\"263\"></span><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-YuniBridgeDiag.jpg\" width=\"321\"></span></b></p>\n<p><b>Fig.1: The Arduino Yun is a 3<sup>rd</sup>-generation dual-processor Arduino board (left) which uses the Linino Bridge Protocol to share resources and act as a command/data pipeline (right). Images credit: Arduino.org. </b></p>\n<p>Now, a third generation of Arduino boards is emerging that contains two processors. 3<sup>rd</sup>-gen boards such as the Arduino Yun. (Fig.1) have an embedded microcontroller (MCU) and a more powerful microprocessor Unit (MPU), similar to those found in PCs and mobile devices. The MCU (typically an Atmel <a href=\"http://www.atmel.com/dyn/resources/prod_documents/7766S.pdf\" target=\"_blank\">ATmega32x</a> device) supports the real-world I/O functionality traditionally handled by the Arduino platform. The MPU is typically based on the MIPS architecture (such as the Atheros AR9331) and powerful enough to support application languages such as C/C++, Python and Java. The microprocessor can also support multiple communication protocols (Wi-Fi, TCP/IP, HTTP etc) and web-based services (Chat, e-mail, Twitter, AllJoyn etc).</p>\n<p>This division of labor frees the MCU to handle all the traditional close-to-hardware functions that the original Arduino was designed to, leaving the CPU free to support higher-level applications and compute-intensive communications tasks. Splitting functionality also allows the microprocessor to run LininoOS, a Linux distribution based on OpenWRT (Fig.2) while the MCU to still runs conventional Arduino code. The Arduino MCU communicates with its higher-powered companion using a protocol stack called LininoIO.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-Linino-IO-Protocol.jpg\" width=\"340\"></span><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-LininoOS.jpg\" width=\"313\"></span></p>\n<p><b>Fig.2: Linino's IO/OS subsystem enables the MCU to transparently share its I/O peripherals with the platform's MPU. Image credit: Arduino.org.</b></p>\n<p>The MCUIO/LININOIO subsystem allows a microprocessor, connected to the Arduino's MCU, to see the MCU's peripherals as standard Linux peripherals (i.e. GPIOs, I<sup>2</sup>C adapters, PWM channels, etc). The basic communication protocol is completely generic, it just defines ways to read and write a (virtualized) memory space on the MCU. Standard vendor independent memory maps are then defined for each kind of MCU peripheral, so that hardware-specific implementation details can be ignored by the MPU. The protocol is transport independent, requiring only a wired or wireless bidirectional channel (for instance rs232 or even a network connection). Linino IO also enables a single microprocessor to communicate with up to 128 MCUs. As a result, an MPU running Linino OS can run applications written in higher-level languages (Python, Bash, Lua etc), which controls the entire board and all the devices attached to it.</p>\n<p>Communication between the MPU and MCU is normally handled by the Bridge library (Fig1b), a collection of utility classes that support different kinds of functionality. The Bridge library facilitates communication between the two processors, giving Arduino sketches the ability to run shell scripts, communicate with network interfaces and receive information from the AR9331 processor.</p>\n<p>The third pillar of the new software architecture is Arduino Ciao<i>,</i> a library of routines that enables Arduino sketches to communicate with the \"outside World\" (Fig.3). By simplifying interactions between the MCU and Linino OS, Ciao makes it easy to establish a variety of connections with most common protocols, third-party services and social networks.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-Ciao.jpg\" width=\"318\"></span></p>\n<p><b>Fig.3: The Arduino Ciao library enables the MCU to access web-based services and resources. Image credit: Arduino.org.</b></p>\n<p>The Ciao library's modular routines support several logical connections capable of interacting with system resources (file system, console and memory). Others can be used to communicate with the most common and useful protocols (XMPP, HTTP, WebSocket, COAP, etc) and applications (Jabber, WeChat, Twitter, Facebook, etc.)</p>\n<p>Together, the Linino OS, Linino IO, Bridge and Ciao form a complete Linux system for Internet of Things (IoT) applications.</p>\n<p><b>A New Development Environment</b></p>\n<p>In order to support concurrent operation of Arduino and Linino code, the folks at Arduino had to create <a href=\"http://labs.arduino.org/Arduino+Studio\" target=\"_blank\">Arduino Studio</a>, a new development environment that breaks from the monolithic architecture and a centralized development model of the original <a href=\"http://labs.arduino.org/Arduino+IDE\" target=\"_blank\">Arduino IDE</a>. Arduino Studio is intended to serve as a single editor for all environments, enabling developers to use it as a stand-alone, web/cloud-based or onboard embedded editor. By leveraging the versatility of Adobe <a href=\"http://brackets.io/\" target=\"_blank\">Brackets</a> Studio supports all the functionality of the original Arduino IDE, but also offers a full-featured Linux development environment. Arduino Studio's features include <a href=\"http://labs.arduino.org/Code+Completion+and+in-line+Quick+Language+Reference#Code_Completion\" target=\"_blank\">Code Completion</a>, an in-line <a href=\"http://labs.arduino.org/Code+Completion+and+in-line+Quick+Language+Reference#In-line_Quick_Guide\" target=\"_blank\">Quick Language Reference</a> and a <a href=\"http://labs.arduino.org/Arduino+Studio+M0Pro+Debugger\" target=\"_blank\">Debugger</a> that currently supports the Arduino <a href=\"http://www.arduino.org/products/arduino-m0-pro\" target=\"_blank\">M0 Pro</a> platform.</p>\n<p><b>Hardware Resources</b></p>\n<p>There are already several boards that support the dual-processor Linino architecture. Many of these boards contain both an MPU and an MCU device, but as we will see shortly, the Linino platform also makes it possible to create extremely low-cost systems based on a single MCU.</p>\n<p>The <a href=\"http://world.arduino.org/en/arduino-yun.html\" target=\"_blank\"><b>Arduino Y&#xFA;n</b></a> is based on the <a href=\"http://www.atmel.com/dyn/resources/prod_documents/7766S.pdf\" target=\"_blank\">ATmega32u4</a> and the Atheros AR9331 (Fig.1a). It includes built-in Ethernet, a USB-A port, micro-SD card slot, 20 digital input/output pins (of which seven can be used as PWM outputs and 12 as analog inputs), a micro USB connection, an ICSP header and three reset buttons. Y&#xFA;n also has a Wi-Fi module built on board, allowing it to connect to a wireless router, or act as an access point. The Y&#xFA;n's ATmega32u4 has built-in USB communication, eliminating the need for a secondary processor. This allows it to appear to a connected computer as a mouse and keyboard, in addition to a virtual (CDC) serial / COM port.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-YunMiniPhoto.jpg\" width=\"262\"></span></p>\n<p><b>Fig.4: The Arduino Y&#xFA;n Mini. Image credit: Arduino.org. </b></p>\n<p><a href=\"http://www.arduino.org/products/boards/4-arduino-boards/arduino-yun-mini\" target=\"_blank\"><b>Arduino Y&#xFA;n MINI</b></a> is a compact breadboard PCB powered by an ATmega 32u4 MCU and a Qualcomm Atheros AR9331 CPU. It has built-in WiFi and nearly all of the full-size Y&#xFA;n's I/O compliment, including a USB-based COM port. This open-source board design is also available as the <a href=\"http://www.linino.org/product/linino-one/\" target=\"_blank\">Linino One</a> from <a href=\"http://www.linino.org/linino-modules/\" target=\"_blank\">Linino.org</a>.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-Tian.jpg\" width=\"273\"></span></p>\n<p><b>Fig.5: Arduino Tian, scheduled for initial release in November 2015. Image credit: Arduino.org.</b></p>\n<p><a href=\"http://www.arduino.org/products/boards/4-arduino-boards/arduino-tian\" target=\"_blank\"><b>Arduino TIAN</b></a> is similar to the Yun, but designed for projects that require more processing power and I/O capability. TIAN is equipped with Atmel&#x2019;s 32-bit ARM-based SAMD21 MCU and the Qualcomm Atheros AR9342 MPU. Its integrated Wi-Fi module supports IEEE802.11n 2x2 2.4/5 GHz dual-band operation. It is also equipped with 4GB of eMMC memory that can store application code or additional Linux libraries.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-ChiWaWaModule.jpg\" width=\"253\"></span><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-ChiWaWaEVB.jpg\" width=\"244\"></span></p>\n<p><b>Fig.6: Linino Chiwawa LGA module and evaluation board (left) and its companion Evaluation Board(right). Images credits: Arduino.org and Linino.org </b></p>\n<p>The <a href=\"http://www.linino.org/portfolio/chiwawa/\" target=\"_blank\"><b>Linino Chiwawa</b></a> is an LGA module based on Arduino's open-source <b>101 Industrial</b> design. It is intended to be a low-cost drop-in LininoOS device for commercial applications and is expected to cost $10 or less in production quantities. It contains an Atheros MIPS AR9331 MPU, but does not include an MCU. The board has built-in Ethernet and Wi-Fi support, a USB-A port, micro-SD card slot, a micro-USB connection, PoE module connection and reset button. Chiwawa can connect to one or more Arduino MCU devices via a daughter board (aka \"collar\"), such as the <b>Chiwawa EVB</b> that serves as the module's evaluation/development board.</p>\n<p><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-Industrial101EVBPhoto.jpg\" width=\"267\"></span><span class=\"img_inline\"><img src=\"http://electronics360.globalspec.com/images/assets/995/5995/IHS-151021-Arduino-Industrial101EVB.jpg\" width=\"367\"></span></p>\n<p><b>Fig.7: The Arduino Industrial 101 evaluation board, scheduled for a November 2015 release, provides an Atmel MCU, a USB-based console interface and bridging of other real-world signals for the Arduino Industrial LGA module. Images credits: Arduino.org and Linino.org </b></p>\n<p>The <a href=\"http://labs.arduino.org/Arduino+Industrial+101\" target=\"_blank\"><b>Arduino Industrial 101</b></a> is another evaluation/development board for the 101 Industrial LGA module described above. The board's integrated ATmega 32u4 MCU supports the LininoIO and Bridge libraries exports all the signals required to support communication, reset, 1 PWM output and two analog inputs. It also brings its USB and an Ethernet signal out to pin headers for easy diagnostic and debug.</p>\n<p>To contact the author of this article, email <a href=\"mailto:engineering360editors@ihs.com\">engineering360editors@ihs.com</a></p>\n<p><b>References:</b></p>\n<p>\"<i><a href=\"http://www.linino.org/wordpress/wp-content/uploads/2015/02/Fosdem_LininoIO.pdf\" target=\"_blank\">Linino Technology - Virtualizing MCU peripherals</a></i>\"</p>\n<p><a href=\"http://wiki.linino.org/doku.php\" target=\"_blank\">Linino Wiki</a></p>\n<p><a href=\"http://www.doghunter.org/wp-content/uploads/2014/03/data-sheet_Chiwaw-final_A4-size.pdf\" target=\"_blank\">Linino Chiwawa</a></p> \n\t\t\n\t\t\n\n\n\t\t</div>\n\t</div>"
    }, {
        "title": "DIY Linux autopilot - cool for cats... and geeks",
        "url": "http://diydrones.com/profiles/blogs/diy-linux-autopilot-cool-for-cats-and-geeks",
        "excerpt": "I want to share with you the tremendous fun I'm having with the BBBmini DIY ArduPilot project, which I discovered during the summer. Hopefully, I can demonstrate what a sexy DIY Linux Autopilot for&hellip;",
        "date_saved": "Thu Jul 28 20:15:05 EDT 2016",
        "html_file": "diy_linux_autopilot__cool_for_cats_and_geeks.html",
        "png_file": "diy_linux_autopilot__cool_for_cats_and_geeks.png",
        "md_file": "diy_linux_autopilot__cool_for_cats_and_geeks.md",
        "content": "<div><div class=\"postbody\">\n <div class=\"xg_user_generated\">\n <p><a target=\"_self\" href=\"http://api.ning.com:80/files/Ls0m4bJ0x4ejKA5MkU0ZAdlYFZixz9MRwZ9rQ6Td3fScJ5C3s7VRR1zkaYfLjl957CtKGzdnky8ngHDZ0geUa5RblNYeH17p/bbbminidiylinuxautopilot.jpg\"><img class=\"align-full\" src=\"http://api.ning.com:80/files/Ls0m4bJ0x4ejKA5MkU0ZAdlYFZixz9MRwZ9rQ6Td3fScJ5C3s7VRR1zkaYfLjl957CtKGzdnky8ngHDZ0geUa5RblNYeH17p/bbbminidiylinuxautopilot.jpg?width=550\" width=\"550\"></a></p>\n\n<p>I want to share with you the tremendous fun I'm having with the BBBmini DIY ArduPilot project, which I discovered during the summer. Hopefully, I can demonstrate what a sexy DIY Linux Autopilot for around 100 bucks looks like and convince you why Linux autopilots are cooler than a cat playing the piano. <br> &#xA0;<br> For some background,&#xA0;<a rel=\"nofollow\" href=\"http://diydrones.com/profile/MirkoDenecke\" target=\"_self\">Mirko Denecke</a>, who designed the BBBmini, wrote an introductory blog post on his DIY ArduPilot Cape&#xA0;<a rel=\"nofollow\" href=\"http://diydrones.com/profiles/blogs/bbbmini-as-linux-autopilot-based-on-ardupilot-and-beaglebone\" target=\"_self\">here</a>, and about further enhancements <a rel=\"nofollow\" href=\"http://diydrones.com/profiles/blogs/bbbmini-enhancement\" target=\"_self\">here</a>.<br> &#xA0;<br> Since Mirko released rev1.4 into the wild as&#xA0;<a rel=\"nofollow\" href=\"http://diydrones.com/profiles/blogs/bbbmini-is-now-open-hardware\" target=\"_self\">Open Hardware</a>, there's been a&#xA0;<a rel=\"nofollow\" href=\"http://diydrones.com/group/bbbmini\" target=\"_self\">BBBmini usergroup</a> down at DIY Drones, so that's a good place to see what's happening with the technology. <br> &#xA0;<br> Rekindled enthusiasm <br> &#xA0;<br> Being a Linux autopilot enthusiast, I naturally had a BeagleBone Black lying around and so was immediately attracted to this project. While building and getting the BBBmini into the air, I quickly realized that it was just the right kind of project I needed to rekindle my enthusiasm. <br> &#xA0;<br> DIY Linux autopilots: What's the attraction? <br> &#xA0;<br> I really love the idea of flying Linux autopilots and must admit I've been hooked since I saw the first talks Andrew Tridgell and others gave on the topic, the early rumors about PXF, and the first boards like NavIO and&#xA0; Erlebrain and so forth. I can see a bright future in this field, with the kind of&#xA0; collaborative community effort such as that down at DIY Drones - which drives the technology forward. <br> &#xA0;<br> After finally joining the Linux autopilot club, I had a kind of epiphany about how it opens a huge door to the opportunity of getting new ideas integrated much more easily thanks to the power of open innovation. The underlying Linux offers a sense of comfort and massive gains in usability. <br> &#xA0;<br> Getting more out of your Autopilot <br> &#xA0;<br> For example, I recently decided to configure my quad to log into different folders each day and rsync my log files to my NAS running samba at startup. That way I can archive them for later use as well and delete old logs when the SD cards becomes full. So, I should be find logs more easily and create a permanent archive, which was the initial reason for the set-up. This was all done with a few very basic modifications and open source tools / software made available by developers for public use. <br> &#xA0;<br> Build your own DIY Linux autopilot <br> &#xA0;<br> So, if you too like getting hands-on and want to make your own DIY Linux autopilot, now is the time to get your feet wet. <br> &#xA0;<br> We're all keen to see what you'll come up with. For example, Mirko did a&#xA0;<a rel=\"nofollow\" href=\"https://www.youtube.com/watch?v=7Ow5aKap_sI\" target=\"_blank\">self-balancing robot based on the BBBmini and ArduPilot</a> software, and I have something in the pipeline to fill the long winter nights. <br> &#xA0;<br> We are working on improving the BBBmini experience and since Mirko recently added dual-MPU9250 support we are now flying with two MPU9250's. We also have a few ideas for extra add-ons. <br> &#xA0;<br> I have put together a&#xA0;<a rel=\"nofollow\" href=\"http://bbbmini.com/\" target=\"_blank\">BBBmini DIY Kit</a> to simplify the process of getting started, and if you are interested in buying a kit or just a&#xA0;<a rel=\"nofollow\" href=\"https://github.com/mirkix/BBBMINI-PCB\" target=\"_blank\">PCB</a> please&#xA0;<a rel=\"nofollow\" href=\"http://diydrones.com/profiles/message/newFromProfile?screenName=3s26xa3rqtqfg&amp;target=http%3A%2F%2Fdiydrones.com\" target=\"_self\">send me a PM</a> or go&#xA0;<a rel=\"nofollow\" href=\"http://bbbmini.com/buy-bbbmini/\" target=\"_blank\">here</a>.<br> &#xA0;<br> Here is a short video of me flying the bbbmini just for fun. <br> &#xA0;<br> <iframe width=\"640\" height=\"360\" src=\"https://www.youtube.com/embed/SnPXBse6fVU?feature=player_detailpage&amp;wmode=opaque\"></iframe> \n<br> &#xA0;<br> The full project is available on&#xA0;<a rel=\"nofollow\" href=\"https://github.com/mirkix/BBBMINI\" target=\"_blank\">GitHub</a> and we invite interested users to contribute to the further development of the project. <br> &#xA0;<br> Happy flying. <br> &#xA0;<br> Cheers, <br> Linus <br> &#xA0;</p> </div>\n </div>\n </div>"
    }]
}
